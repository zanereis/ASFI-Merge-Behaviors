[{"url":"https://api.github.com/repos/apache/spark/pulls/36047","id":898049087,"node_id":"PR_kwDOAQXtWs41hyQ_","html_url":"https://github.com/apache/spark/pull/36047","diff_url":"https://github.com/apache/spark/pull/36047.diff","patch_url":"https://github.com/apache/spark/pull/36047.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36047","number":36047,"state":"closed","locked":false,"title":"[SPARK-32268][SQL][FOLLOWUP] Add ColumnPruning in injectBloomFilter","user":{"login":"Flyangz","id":39462475,"node_id":"MDQ6VXNlcjM5NDYyNDc1","avatar_url":"https://avatars.githubusercontent.com/u/39462475?v=4","gravatar_id":"","url":"https://api.github.com/users/Flyangz","html_url":"https://github.com/Flyangz","followers_url":"https://api.github.com/users/Flyangz/followers","following_url":"https://api.github.com/users/Flyangz/following{/other_user}","gists_url":"https://api.github.com/users/Flyangz/gists{/gist_id}","starred_url":"https://api.github.com/users/Flyangz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Flyangz/subscriptions","organizations_url":"https://api.github.com/users/Flyangz/orgs","repos_url":"https://api.github.com/users/Flyangz/repos","events_url":"https://api.github.com/users/Flyangz/events{/privacy}","received_events_url":"https://api.github.com/users/Flyangz/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nAdd `ColumnPruning` in `InjectRuntimeFilter.injectBloomFilter` to optimize the BoomFilter creation query.\r\n\r\n### Why are the changes needed?\r\nIt seems BloomFilter subqueries injected by `InjectRuntimeFilter` will read as many columns as filterCreationSidePlan. This does not match \"Only scan the required columns\" as the design said. We can check this by a simple case in `InjectRuntimeFilterSuite`:\r\n```scala\r\nwithSQLConf(SQLConf.RUNTIME_BLOOM_FILTER_ENABLED.key -> \"true\",\r\n  SQLConf.RUNTIME_BLOOM_FILTER_APPLICATION_SIDE_SCAN_SIZE_THRESHOLD.key -> \"3000\",\r\n  SQLConf.AUTO_BROADCASTJOIN_THRESHOLD.key -> \"2000\") {\r\n  val query = \"select * from bf1 join bf2 on bf1.c1 = bf2.c2 where bf2.a2 = 62\"\r\n  sql(query).explain()\r\n}\r\n```\r\nThe reason is subqueries have not been optimized by `ColumnPruning`, and this pr will fix it.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo, not released\r\n\r\n### How was this patch tested?\r\nImprove the test by adding `columnPruningTakesEffect` to check the optimizedPlan of bloom filter join.\r\n","created_at":"2022-04-02T12:22:16Z","updated_at":"2022-04-04T03:04:03Z","closed_at":"2022-04-04T03:03:36Z","merged_at":null,"merge_commit_sha":"680416a881305c6e52bc535513337d2eabad79d9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36047/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36047/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36047/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/35eb5d2816db82b3d13fd01ecbdbc16c6de40a7c","head":{"label":"Flyangz:SPARK-32268-FOllOWUP","ref":"SPARK-32268-FOllOWUP","sha":"35eb5d2816db82b3d13fd01ecbdbc16c6de40a7c","user":{"login":"Flyangz","id":39462475,"node_id":"MDQ6VXNlcjM5NDYyNDc1","avatar_url":"https://avatars.githubusercontent.com/u/39462475?v=4","gravatar_id":"","url":"https://api.github.com/users/Flyangz","html_url":"https://github.com/Flyangz","followers_url":"https://api.github.com/users/Flyangz/followers","following_url":"https://api.github.com/users/Flyangz/following{/other_user}","gists_url":"https://api.github.com/users/Flyangz/gists{/gist_id}","starred_url":"https://api.github.com/users/Flyangz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Flyangz/subscriptions","organizations_url":"https://api.github.com/users/Flyangz/orgs","repos_url":"https://api.github.com/users/Flyangz/repos","events_url":"https://api.github.com/users/Flyangz/events{/privacy}","received_events_url":"https://api.github.com/users/Flyangz/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":433708384,"node_id":"R_kgDOGdndYA","name":"spark","full_name":"Flyangz/spark","private":false,"owner":{"login":"Flyangz","id":39462475,"node_id":"MDQ6VXNlcjM5NDYyNDc1","avatar_url":"https://avatars.githubusercontent.com/u/39462475?v=4","gravatar_id":"","url":"https://api.github.com/users/Flyangz","html_url":"https://github.com/Flyangz","followers_url":"https://api.github.com/users/Flyangz/followers","following_url":"https://api.github.com/users/Flyangz/following{/other_user}","gists_url":"https://api.github.com/users/Flyangz/gists{/gist_id}","starred_url":"https://api.github.com/users/Flyangz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Flyangz/subscriptions","organizations_url":"https://api.github.com/users/Flyangz/orgs","repos_url":"https://api.github.com/users/Flyangz/repos","events_url":"https://api.github.com/users/Flyangz/events{/privacy}","received_events_url":"https://api.github.com/users/Flyangz/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Flyangz/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/Flyangz/spark","forks_url":"https://api.github.com/repos/Flyangz/spark/forks","keys_url":"https://api.github.com/repos/Flyangz/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Flyangz/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Flyangz/spark/teams","hooks_url":"https://api.github.com/repos/Flyangz/spark/hooks","issue_events_url":"https://api.github.com/repos/Flyangz/spark/issues/events{/number}","events_url":"https://api.github.com/repos/Flyangz/spark/events","assignees_url":"https://api.github.com/repos/Flyangz/spark/assignees{/user}","branches_url":"https://api.github.com/repos/Flyangz/spark/branches{/branch}","tags_url":"https://api.github.com/repos/Flyangz/spark/tags","blobs_url":"https://api.github.com/repos/Flyangz/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Flyangz/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Flyangz/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/Flyangz/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Flyangz/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/Flyangz/spark/languages","stargazers_url":"https://api.github.com/repos/Flyangz/spark/stargazers","contributors_url":"https://api.github.com/repos/Flyangz/spark/contributors","subscribers_url":"https://api.github.com/repos/Flyangz/spark/subscribers","subscription_url":"https://api.github.com/repos/Flyangz/spark/subscription","commits_url":"https://api.github.com/repos/Flyangz/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/Flyangz/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/Flyangz/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/Flyangz/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/Flyangz/spark/contents/{+path}","compare_url":"https://api.github.com/repos/Flyangz/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Flyangz/spark/merges","archive_url":"https://api.github.com/repos/Flyangz/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Flyangz/spark/downloads","issues_url":"https://api.github.com/repos/Flyangz/spark/issues{/number}","pulls_url":"https://api.github.com/repos/Flyangz/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/Flyangz/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/Flyangz/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Flyangz/spark/labels{/name}","releases_url":"https://api.github.com/repos/Flyangz/spark/releases{/id}","deployments_url":"https://api.github.com/repos/Flyangz/spark/deployments","created_at":"2021-12-01T06:22:05Z","updated_at":"2022-04-02T09:45:41Z","pushed_at":"2022-04-03T05:27:33Z","git_url":"git://github.com/Flyangz/spark.git","ssh_url":"git@github.com:Flyangz/spark.git","clone_url":"https://github.com/Flyangz/spark.git","svn_url":"https://github.com/Flyangz/spark","homepage":"https://spark.apache.org/","size":412031,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"f53f0b305a169054c9ed7420301a89fc0ac8f12c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36047"},"html":{"href":"https://github.com/apache/spark/pull/36047"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36047"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36047/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36047/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36047/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/35eb5d2816db82b3d13fd01ecbdbc16c6de40a7c"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36046","id":898032495,"node_id":"PR_kwDOAQXtWs41huNv","html_url":"https://github.com/apache/spark/pull/36046","diff_url":"https://github.com/apache/spark/pull/36046.diff","patch_url":"https://github.com/apache/spark/pull/36046.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36046","number":36046,"state":"closed","locked":false,"title":"[SPARK-38771][SQL] Adaptive Bloom filter Join","user":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR introduces an adaptive Bloom filter Join rule for `AQEOptimizer`.\r\nIt has two benefit:\r\n1. It reduces spilling data when sorting.\r\n2. It improves join performance, especially join keys may be skewed.\r\n\r\nIt only works:\r\n1. AQE is enabled and can't be convert to BroadcastHashJoin.\r\n2. The filtering side rows should be less than 100,000,000 rows.\r\n3. The pruning side should be large and must spill data to disk when sorting(Larger than `spark.executor.memory(mb) * spark.memory.fraction * (1 - spark.memory.storageFraction) * 1024 * 1024 / spark.executor.cores  / factor * spark.sql.shuffle.partitions`). For example:\r\n     Default config: `spark.executor.memory` = 1g,`spark.memory.fraction` = 0.6, `spark.memory.storageFraction` = 0.5, `spark.executor.cores` = 1 and `spark.sql.shuffle.partitions` = 200. The pruning side should larger than 30gb.\r\n     Our production config: `spark.executor.memory` = 45g,`spark.memory.fraction` = 0.75, `spark.memory.storageFraction` = 0.5, `spark.executor.cores` = 18 and `spark.sql.shuffle.partitions` = 10000. The pruning side should larger than 4687gb.\r\n\r\nHow to disable this rule:\r\n```\r\nset spark.sql.adaptive.optimizer.excludedRules=org.apache.spark.sql.execution.adaptive.AdaptiveBloomFilterJoin\r\n```\r\n\r\n### Why are the changes needed?\r\n\r\nImprove query performance.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nUnit test and benchmark test.\r\n Before | After\r\n-- | --\r\n![image](https://user-images.githubusercontent.com/5399861/161379061-629b8031-3919-4078-96de-e8eb7d72428c.png) | ![image](https://user-images.githubusercontent.com/5399861/161379140-c72102ca-e94a-4962-8160-e80f22e6899e.png)\r\n","created_at":"2022-04-02T10:48:55Z","updated_at":"2022-09-29T07:50:16Z","closed_at":"2022-09-27T00:27:53Z","merged_at":null,"merge_commit_sha":"56e2bb2fa3248486aba549372a4da9ca5def510a","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null},{"id":1982110661,"node_id":"MDU6TGFiZWwxOTgyMTEwNjYx","url":"https://api.github.com/repos/apache/spark/labels/INFRA","name":"INFRA","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36046/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36046/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36046/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/e505b3c1f73215b10d114f06a011b1f7f1ecd0cf","head":{"label":"wangyum:SPARK-38771","ref":"SPARK-38771","sha":"e505b3c1f73215b10d114f06a011b1f7f1ecd0cf","user":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":467759455,"node_id":"R_kgDOG-FxXw","name":"spark","full_name":"wangyum/spark","private":false,"owner":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/wangyum/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/wangyum/spark","forks_url":"https://api.github.com/repos/wangyum/spark/forks","keys_url":"https://api.github.com/repos/wangyum/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/wangyum/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/wangyum/spark/teams","hooks_url":"https://api.github.com/repos/wangyum/spark/hooks","issue_events_url":"https://api.github.com/repos/wangyum/spark/issues/events{/number}","events_url":"https://api.github.com/repos/wangyum/spark/events","assignees_url":"https://api.github.com/repos/wangyum/spark/assignees{/user}","branches_url":"https://api.github.com/repos/wangyum/spark/branches{/branch}","tags_url":"https://api.github.com/repos/wangyum/spark/tags","blobs_url":"https://api.github.com/repos/wangyum/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/wangyum/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/wangyum/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/wangyum/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/wangyum/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/wangyum/spark/languages","stargazers_url":"https://api.github.com/repos/wangyum/spark/stargazers","contributors_url":"https://api.github.com/repos/wangyum/spark/contributors","subscribers_url":"https://api.github.com/repos/wangyum/spark/subscribers","subscription_url":"https://api.github.com/repos/wangyum/spark/subscription","commits_url":"https://api.github.com/repos/wangyum/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/wangyum/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/wangyum/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/wangyum/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/wangyum/spark/contents/{+path}","compare_url":"https://api.github.com/repos/wangyum/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/wangyum/spark/merges","archive_url":"https://api.github.com/repos/wangyum/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/wangyum/spark/downloads","issues_url":"https://api.github.com/repos/wangyum/spark/issues{/number}","pulls_url":"https://api.github.com/repos/wangyum/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/wangyum/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/wangyum/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/wangyum/spark/labels{/name}","releases_url":"https://api.github.com/repos/wangyum/spark/releases{/id}","deployments_url":"https://api.github.com/repos/wangyum/spark/deployments","created_at":"2022-03-09T03:11:29Z","updated_at":"2025-02-09T07:30:39Z","pushed_at":"2025-02-09T07:30:08Z","git_url":"git://github.com/wangyum/spark.git","ssh_url":"git@github.com:wangyum/spark.git","clone_url":"https://github.com/wangyum/spark.git","svn_url":"https://github.com/wangyum/spark","homepage":"https://spark.apache.org/","size":487127,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":8,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":8,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"bf75b495e18ed87d0c118bfd5f1ceb52d720cad9","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36046"},"html":{"href":"https://github.com/apache/spark/pull/36046"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36046"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36046/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36046/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36046/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/e505b3c1f73215b10d114f06a011b1f7f1ecd0cf"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36045","id":897995179,"node_id":"PR_kwDOAQXtWs41hlGr","html_url":"https://github.com/apache/spark/pull/36045","diff_url":"https://github.com/apache/spark/pull/36045.diff","patch_url":"https://github.com/apache/spark/pull/36045.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36045","number":36045,"state":"closed","locked":false,"title":"[SPARK-38772][SQL] Formatting the log plan in AdaptiveSparkPlanExec","user":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nUse sideBySide to format the log plan in `AdaptiveSparkPlanExec`.\r\nBefore:\r\n```\r\n12:08:36.876 ERROR org.apache.spark.sql.execution.adaptive.AdaptiveSparkPlanExec: Plan changed from SortMergeJoin [key#13], [a#23], Inner\r\n:- Sort [key#13 ASC NULLS FIRST], false, 0\r\n:  +- ShuffleQueryStage 0\r\n:     +- Exchange hashpartitioning(key#13, 5), ENSURE_REQUIREMENTS, [id=#110]\r\n:        +- *(1) Filter (isnotnull(value#14) AND (value#14 = 1))\r\n:           +- *(1) SerializeFromObject [knownnotnull(assertnotnull(input[0, org.apache.spark.sql.test.SQLTestData$TestData, true])).key AS key#13, staticinvoke(class org.apache.spark.unsafe.types.UTF8String, StringType, fromString, knownnotnull(assertnotnull(input[0, org.apache.spark.sql.test.SQLTestData$TestData, true])).value, true, false, true) AS value#14]\r\n:              +- Scan[obj#12]\r\n+- Sort [a#23 ASC NULLS FIRST], false, 0\r\n   +- ShuffleQueryStage 1\r\n      +- Exchange hashpartitioning(a#23, 5), ENSURE_REQUIREMENTS, [id=#129]\r\n         +- *(2) SerializeFromObject [knownnotnull(assertnotnull(input[0, org.apache.spark.sql.test.SQLTestData$TestData2, true])).a AS a#23, knownnotnull(assertnotnull(input[0, org.apache.spark.sql.test.SQLTestData$TestData2, true])).b AS b#24]\r\n            +- Scan[obj#22]\r\n to BroadcastHashJoin [key#13], [a#23], Inner, BuildLeft, false\r\n:- BroadcastExchange HashedRelationBroadcastMode(List(cast(input[0, int, false] as bigint)),false), [id=#145]\r\n:  +- ShuffleQueryStage 0\r\n:     +- Exchange hashpartitioning(key#13, 5), ENSURE_REQUIREMENTS, [id=#110]\r\n:        +- *(1) Filter (isnotnull(value#14) AND (value#14 = 1))\r\n:           +- *(1) SerializeFromObject [knownnotnull(assertnotnull(input[0, org.apache.spark.sql.test.SQLTestData$TestData, true])).key AS key#13, staticinvoke(class org.apache.spark.unsafe.types.UTF8String, StringType, fromString, knownnotnull(assertnotnull(input[0, org.apache.spark.sql.test.SQLTestData$TestData, true])).value, true, false, true) AS value#14]\r\n:              +- Scan[obj#12]\r\n+- ShuffleQueryStage 1\r\n   +- Exchange hashpartitioning(a#23, 5), ENSURE_REQUIREMENTS, [id=#129]\r\n      +- *(2) SerializeFromObject [knownnotnull(assertnotnull(input[0, org.apache.spark.sql.test.SQLTestData$TestData2, true])).a AS a#23, knownnotnull(assertnotnull(input[0, org.apache.spark.sql.test.SQLTestData$TestData2, true])).b AS b#24]\r\n         +- Scan[obj#22]\r\n```\r\n\r\nAfter:\r\n```\r\n15:57:59.481 ERROR org.apache.spark.sql.execution.adaptive.AdaptiveSparkPlanExec: Plan changed:\r\n!SortMergeJoin [key#13], [a#23], Inner                                                                                                                                                                                                                                                                                                                                         BroadcastHashJoin [key#13], [a#23], Inner, BuildLeft, false\r\n!:- Sort [key#13 ASC NULLS FIRST], false, 0                                                                                                                                                                                                                                                                                                                                    :- BroadcastExchange HashedRelationBroadcastMode(List(cast(input[0, int, false] as bigint)),false), [id=#145]\r\n :  +- ShuffleQueryStage 0                                                                                                                                                                                                                                                                                                                                                     :  +- ShuffleQueryStage 0\r\n :     +- Exchange hashpartitioning(key#13, 5), ENSURE_REQUIREMENTS, [id=#110]                                                                                                                                                                                                                                                                                                 :     +- Exchange hashpartitioning(key#13, 5), ENSURE_REQUIREMENTS, [id=#110]\r\n :        +- *(1) Filter (isnotnull(value#14) AND (value#14 = 1))                                                                                                                                                                                                                                                                                                              :        +- *(1) Filter (isnotnull(value#14) AND (value#14 = 1))\r\n :           +- *(1) SerializeFromObject [knownnotnull(assertnotnull(input[0, org.apache.spark.sql.test.SQLTestData$TestData, true])).key AS key#13, staticinvoke(class org.apache.spark.unsafe.types.UTF8String, StringType, fromString, knownnotnull(assertnotnull(input[0, org.apache.spark.sql.test.SQLTestData$TestData, true])).value, true, false, true) AS value#14]   :           +- *(1) SerializeFromObject [knownnotnull(assertnotnull(input[0, org.apache.spark.sql.test.SQLTestData$TestData, true])).key AS key#13, staticinvoke(class org.apache.spark.unsafe.types.UTF8String, StringType, fromString, knownnotnull(assertnotnull(input[0, org.apache.spark.sql.test.SQLTestData$TestData, true])).value, true, false, true) AS value#14]\r\n :              +- Scan[obj#12]                                                                                                                                                                                                                                                                                                                                                :              +- Scan[obj#12]\r\n!+- Sort [a#23 ASC NULLS FIRST], false, 0                                                                                                                                                                                                                                                                                                                                      +- ShuffleQueryStage 1\r\n!   +- ShuffleQueryStage 1                                                                                                                                                                                                                                                                                                                                                        +- Exchange hashpartitioning(a#23, 5), ENSURE_REQUIREMENTS, [id=#129]\r\n!      +- Exchange hashpartitioning(a#23, 5), ENSURE_REQUIREMENTS, [id=#129]                                                                                                                                                                                                                                                                                                         +- *(2) SerializeFromObject [knownnotnull(assertnotnull(input[0, org.apache.spark.sql.test.SQLTestData$TestData2, true])).a AS a#23, knownnotnull(assertnotnull(input[0, org.apache.spark.sql.test.SQLTestData$TestData2, true])).b AS b#24]\r\n!         +- *(2) SerializeFromObject [knownnotnull(assertnotnull(input[0, org.apache.spark.sql.test.SQLTestData$TestData2, true])).a AS a#23, knownnotnull(assertnotnull(input[0, org.apache.spark.sql.test.SQLTestData$TestData2, true])).b AS b#24]                                                                                                                                  +- Scan[obj#22]\r\n!            +- Scan[obj#22] \r\n```\r\n\r\n### Why are the changes needed?\r\n\r\nEnhance readability.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nManual testing.\r\n","created_at":"2022-04-02T07:58:32Z","updated_at":"2022-04-07T00:55:02Z","closed_at":"2022-04-07T00:54:23Z","merged_at":null,"merge_commit_sha":"b3099c715837f8cdd5b38a7690ffa1367d876dd9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36045/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36045/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36045/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/ef99defae3b4750ca0ceb9675527bd91c03d98b5","head":{"label":"wangyum:SPARK-38772","ref":"SPARK-38772","sha":"ef99defae3b4750ca0ceb9675527bd91c03d98b5","user":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":467759455,"node_id":"R_kgDOG-FxXw","name":"spark","full_name":"wangyum/spark","private":false,"owner":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/wangyum/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/wangyum/spark","forks_url":"https://api.github.com/repos/wangyum/spark/forks","keys_url":"https://api.github.com/repos/wangyum/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/wangyum/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/wangyum/spark/teams","hooks_url":"https://api.github.com/repos/wangyum/spark/hooks","issue_events_url":"https://api.github.com/repos/wangyum/spark/issues/events{/number}","events_url":"https://api.github.com/repos/wangyum/spark/events","assignees_url":"https://api.github.com/repos/wangyum/spark/assignees{/user}","branches_url":"https://api.github.com/repos/wangyum/spark/branches{/branch}","tags_url":"https://api.github.com/repos/wangyum/spark/tags","blobs_url":"https://api.github.com/repos/wangyum/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/wangyum/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/wangyum/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/wangyum/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/wangyum/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/wangyum/spark/languages","stargazers_url":"https://api.github.com/repos/wangyum/spark/stargazers","contributors_url":"https://api.github.com/repos/wangyum/spark/contributors","subscribers_url":"https://api.github.com/repos/wangyum/spark/subscribers","subscription_url":"https://api.github.com/repos/wangyum/spark/subscription","commits_url":"https://api.github.com/repos/wangyum/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/wangyum/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/wangyum/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/wangyum/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/wangyum/spark/contents/{+path}","compare_url":"https://api.github.com/repos/wangyum/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/wangyum/spark/merges","archive_url":"https://api.github.com/repos/wangyum/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/wangyum/spark/downloads","issues_url":"https://api.github.com/repos/wangyum/spark/issues{/number}","pulls_url":"https://api.github.com/repos/wangyum/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/wangyum/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/wangyum/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/wangyum/spark/labels{/name}","releases_url":"https://api.github.com/repos/wangyum/spark/releases{/id}","deployments_url":"https://api.github.com/repos/wangyum/spark/deployments","created_at":"2022-03-09T03:11:29Z","updated_at":"2025-02-09T07:30:39Z","pushed_at":"2025-02-09T07:30:08Z","git_url":"git://github.com/wangyum/spark.git","ssh_url":"git@github.com:wangyum/spark.git","clone_url":"https://github.com/wangyum/spark.git","svn_url":"https://github.com/wangyum/spark","homepage":"https://spark.apache.org/","size":487127,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":8,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":8,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"deac8f950edb1d893fe4bf2cc7c4adbd29d1db22","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36045"},"html":{"href":"https://github.com/apache/spark/pull/36045"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36045"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36045/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36045/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36045/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/ef99defae3b4750ca0ceb9675527bd91c03d98b5"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36044","id":897962552,"node_id":"PR_kwDOAQXtWs41hdI4","html_url":"https://github.com/apache/spark/pull/36044","diff_url":"https://github.com/apache/spark/pull/36044.diff","patch_url":"https://github.com/apache/spark/pull/36044.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36044","number":36044,"state":"closed","locked":false,"title":"[SPARK-38770][K8S] Remove `renameMainAppResource` from `baseDriverContainer`","user":{"login":"dcoliversun","id":44011673,"node_id":"MDQ6VXNlcjQ0MDExNjcz","avatar_url":"https://avatars.githubusercontent.com/u/44011673?v=4","gravatar_id":"","url":"https://api.github.com/users/dcoliversun","html_url":"https://github.com/dcoliversun","followers_url":"https://api.github.com/users/dcoliversun/followers","following_url":"https://api.github.com/users/dcoliversun/following{/other_user}","gists_url":"https://api.github.com/users/dcoliversun/gists{/gist_id}","starred_url":"https://api.github.com/users/dcoliversun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcoliversun/subscriptions","organizations_url":"https://api.github.com/users/dcoliversun/orgs","repos_url":"https://api.github.com/users/dcoliversun/repos","events_url":"https://api.github.com/users/dcoliversun/events{/privacy}","received_events_url":"https://api.github.com/users/dcoliversun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis PR aims to simply steps to re-write primary resource in k8s spark application.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nRe-write primary resource uses `renameMainAppResource` twice.  \r\n* First `renameMainAppResource` in `baseDriverContainer` in  is introduced by #23546 \r\n* #25870 refactors `renameMainAppResource` and introduces `renameMainAppResource` in `configureForJava`.\r\n\r\nRefactoring and `renameMainAppResource` in `configureForJava` makes `renameMainAppResource` in `baseDriverContainer` useless.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n* Pass the GA.\r\n* Pass k8s IT.\r\n```\r\n$ build/sbt -Pkubernetes -Pkubernetes-integration-tests -Dtest.exclude.tags=r -Dspark.kubernetes.test.imageRepo=kubespark \"kubernetes-integration-tests/test\"\r\n[info] KubernetesSuite:\r\n[info] - Run SparkPi with no resources (17 seconds, 443 milliseconds)\r\n[info] - Run SparkPi with no resources & statefulset allocation (17 seconds, 858 milliseconds)\r\n[info] - Run SparkPi with a very long application name. (30 seconds, 450 milliseconds)\r\n[info] - Use SparkLauncher.NO_RESOURCE (18 seconds, 596 milliseconds)\r\n[info] - Run SparkPi with a master URL without a scheme. (18 seconds, 534 milliseconds)\r\n[info] - Run SparkPi with an argument. (21 seconds, 853 milliseconds)\r\n[info] - Run SparkPi with custom labels, annotations, and environment variables. (14 seconds, 285 milliseconds)\r\n[info] - All pods have the same service account by default (13 seconds, 800 milliseconds)\r\n[info] - Run extraJVMOptions check on driver (7 seconds, 825 milliseconds)\r\n[info] - Run SparkRemoteFileTest using a remote data file (15 seconds, 242 milliseconds)\r\n[info] - Verify logging configuration is picked from the provided SPARK_CONF_DIR/log4j2.properties (15 seconds, 491 milliseconds)\r\n[info] - Run SparkPi with env and mount secrets. (26 seconds, 967 milliseconds)\r\n[info] - Run PySpark on simple pi.py example (20 seconds, 318 milliseconds)\r\n[info] - Run PySpark to test a pyfiles example (25 seconds, 659 milliseconds)\r\n[info] - Run PySpark with memory customization (25 seconds, 608 milliseconds)\r\n[info] - Run in client mode. (14 seconds, 620 milliseconds)\r\n[info] - Start pod creation from template (19 seconds, 916 milliseconds)\r\n[info] - SPARK-38398: Schedule pod creation from template (19 seconds, 966 milliseconds)\r\n[info] - PVs with local hostpath storage on statefulsets (22 seconds, 380 milliseconds)\r\n[info] - PVs with local hostpath and storageClass on statefulsets (26 seconds, 935 milliseconds)\r\n[info] - PVs with local storage (30 seconds, 75 milliseconds)\r\n[info] - Launcher client dependencies (2 minutes, 48 seconds)\r\n[info] - SPARK-33615: Launcher client archives (1 minute, 26 seconds)\r\n[info] - SPARK-33748: Launcher python client respecting PYSPARK_PYTHON (1 minute, 47 seconds)\r\n[info] - SPARK-33748: Launcher python client respecting spark.pyspark.python and spark.pyspark.driver.python (1 minute, 51 seconds)\r\n[info] - Launcher python client dependencies using a zip file (1 minute, 51 seconds)\r\n[info] - Test basic decommissioning (59 seconds, 765 milliseconds)\r\n[info] - Test basic decommissioning with shuffle cleanup (1 minute, 3 seconds)\r\n[info] - Test decommissioning with dynamic allocation & shuffle cleanups (2 minutes, 58 seconds)\r\n[info] - Test decommissioning timeouts (58 seconds, 754 milliseconds)\r\n[info] - SPARK-37576: Rolling decommissioning (1 minute, 15 seconds)\r\n[info] Run completed in 29 minutes, 15 seconds.\r\n[info] Total number of tests run: 31\r\n[info] Suites: completed 1, aborted 0\r\n[info] Tests: succeeded 31, failed 0, canceled 0, ignored 0, pending 0\r\n[info] All tests passed.\r\n[success] Total time: 2020 s (33:40), completed 2022-4-2 12:35:52\r\n```\r\nPS. #23546 introduces deleted code and `DepsTestsSuite`. `DepsTestsSuite` can check re-write primary resource. This PR can pass `DepsTestsSuite`, which can prove deletion about `renameMainAppResource` in `baseDriverContainer` does not affect the process about re-write primary resource.","created_at":"2022-04-02T05:34:34Z","updated_at":"2022-04-03T11:46:08Z","closed_at":"2022-04-03T02:41:43Z","merged_at":null,"merge_commit_sha":"71661399b65abb6664df148dddf58c28d2f25522","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406605057,"node_id":"MDU6TGFiZWwxNDA2NjA1MDU3","url":"https://api.github.com/repos/apache/spark/labels/KUBERNETES","name":"KUBERNETES","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36044/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36044/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36044/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/7dd1d0517b21ab277fcd2db785b3f2ce397c03c3","head":{"label":"dcoliversun:SPARK-38770","ref":"SPARK-38770","sha":"7dd1d0517b21ab277fcd2db785b3f2ce397c03c3","user":{"login":"dcoliversun","id":44011673,"node_id":"MDQ6VXNlcjQ0MDExNjcz","avatar_url":"https://avatars.githubusercontent.com/u/44011673?v=4","gravatar_id":"","url":"https://api.github.com/users/dcoliversun","html_url":"https://github.com/dcoliversun","followers_url":"https://api.github.com/users/dcoliversun/followers","following_url":"https://api.github.com/users/dcoliversun/following{/other_user}","gists_url":"https://api.github.com/users/dcoliversun/gists{/gist_id}","starred_url":"https://api.github.com/users/dcoliversun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcoliversun/subscriptions","organizations_url":"https://api.github.com/users/dcoliversun/orgs","repos_url":"https://api.github.com/users/dcoliversun/repos","events_url":"https://api.github.com/users/dcoliversun/events{/privacy}","received_events_url":"https://api.github.com/users/dcoliversun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":427809934,"node_id":"R_kgDOGX_cjg","name":"spark","full_name":"dcoliversun/spark","private":false,"owner":{"login":"dcoliversun","id":44011673,"node_id":"MDQ6VXNlcjQ0MDExNjcz","avatar_url":"https://avatars.githubusercontent.com/u/44011673?v=4","gravatar_id":"","url":"https://api.github.com/users/dcoliversun","html_url":"https://github.com/dcoliversun","followers_url":"https://api.github.com/users/dcoliversun/followers","following_url":"https://api.github.com/users/dcoliversun/following{/other_user}","gists_url":"https://api.github.com/users/dcoliversun/gists{/gist_id}","starred_url":"https://api.github.com/users/dcoliversun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcoliversun/subscriptions","organizations_url":"https://api.github.com/users/dcoliversun/orgs","repos_url":"https://api.github.com/users/dcoliversun/repos","events_url":"https://api.github.com/users/dcoliversun/events{/privacy}","received_events_url":"https://api.github.com/users/dcoliversun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dcoliversun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/dcoliversun/spark","forks_url":"https://api.github.com/repos/dcoliversun/spark/forks","keys_url":"https://api.github.com/repos/dcoliversun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dcoliversun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dcoliversun/spark/teams","hooks_url":"https://api.github.com/repos/dcoliversun/spark/hooks","issue_events_url":"https://api.github.com/repos/dcoliversun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/dcoliversun/spark/events","assignees_url":"https://api.github.com/repos/dcoliversun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/dcoliversun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/dcoliversun/spark/tags","blobs_url":"https://api.github.com/repos/dcoliversun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dcoliversun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dcoliversun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/dcoliversun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dcoliversun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/dcoliversun/spark/languages","stargazers_url":"https://api.github.com/repos/dcoliversun/spark/stargazers","contributors_url":"https://api.github.com/repos/dcoliversun/spark/contributors","subscribers_url":"https://api.github.com/repos/dcoliversun/spark/subscribers","subscription_url":"https://api.github.com/repos/dcoliversun/spark/subscription","commits_url":"https://api.github.com/repos/dcoliversun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/dcoliversun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/dcoliversun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/dcoliversun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/dcoliversun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/dcoliversun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dcoliversun/spark/merges","archive_url":"https://api.github.com/repos/dcoliversun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dcoliversun/spark/downloads","issues_url":"https://api.github.com/repos/dcoliversun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/dcoliversun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/dcoliversun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/dcoliversun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dcoliversun/spark/labels{/name}","releases_url":"https://api.github.com/repos/dcoliversun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/dcoliversun/spark/deployments","created_at":"2021-11-14T01:20:19Z","updated_at":"2024-06-26T10:06:01Z","pushed_at":"2024-11-21T04:27:41Z","git_url":"git://github.com/dcoliversun/spark.git","ssh_url":"git@github.com:dcoliversun/spark.git","clone_url":"https://github.com/dcoliversun/spark.git","svn_url":"https://github.com/dcoliversun/spark","homepage":"https://spark.apache.org/","size":439733,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"deac8f950edb1d893fe4bf2cc7c4adbd29d1db22","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36044"},"html":{"href":"https://github.com/apache/spark/pull/36044"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36044"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36044/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36044/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36044/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/7dd1d0517b21ab277fcd2db785b3f2ce397c03c3"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36043","id":897939765,"node_id":"PR_kwDOAQXtWs41hXk1","html_url":"https://github.com/apache/spark/pull/36043","diff_url":"https://github.com/apache/spark/pull/36043.diff","patch_url":"https://github.com/apache/spark/pull/36043.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36043","number":36043,"state":"closed","locked":false,"title":"[SPARK-38768][SQL] Remove `Limit` from plan if complete push down limit to data source.","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nCurrently, Spark supports push down limit to data source.\r\nIf limit could pushed down and Data source only have one partition, DS V2 still do limit again.\r\nThis PR want remove `Limit` from plan if complete push down limit to data source.\r\n\r\n\r\n### Why are the changes needed?\r\nImprove performance.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n'No'.\r\nNew feature.\r\n\r\n\r\n### How was this patch tested?\r\nTests updated.\r\n","created_at":"2022-04-02T03:31:38Z","updated_at":"2022-04-07T00:08:10Z","closed_at":"2022-04-06T15:57:34Z","merged_at":null,"merge_commit_sha":"7bb6b90248c57d3ea9fc6b091bd0897c0f933dc3","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36043/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36043/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36043/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/325e63e2b2f044a68092f78c8ff44fe1b79cc388","head":{"label":"beliefer:SPARK-38768","ref":"SPARK-38768","sha":"325e63e2b2f044a68092f78c8ff44fe1b79cc388","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":237617513,"node_id":"MDEwOlJlcG9zaXRvcnkyMzc2MTc1MTM=","name":"spark","full_name":"beliefer/spark","private":false,"owner":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/beliefer/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/beliefer/spark","forks_url":"https://api.github.com/repos/beliefer/spark/forks","keys_url":"https://api.github.com/repos/beliefer/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/beliefer/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/beliefer/spark/teams","hooks_url":"https://api.github.com/repos/beliefer/spark/hooks","issue_events_url":"https://api.github.com/repos/beliefer/spark/issues/events{/number}","events_url":"https://api.github.com/repos/beliefer/spark/events","assignees_url":"https://api.github.com/repos/beliefer/spark/assignees{/user}","branches_url":"https://api.github.com/repos/beliefer/spark/branches{/branch}","tags_url":"https://api.github.com/repos/beliefer/spark/tags","blobs_url":"https://api.github.com/repos/beliefer/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/beliefer/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/beliefer/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/beliefer/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/beliefer/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/beliefer/spark/languages","stargazers_url":"https://api.github.com/repos/beliefer/spark/stargazers","contributors_url":"https://api.github.com/repos/beliefer/spark/contributors","subscribers_url":"https://api.github.com/repos/beliefer/spark/subscribers","subscription_url":"https://api.github.com/repos/beliefer/spark/subscription","commits_url":"https://api.github.com/repos/beliefer/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/beliefer/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/beliefer/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/beliefer/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/beliefer/spark/contents/{+path}","compare_url":"https://api.github.com/repos/beliefer/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/beliefer/spark/merges","archive_url":"https://api.github.com/repos/beliefer/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/beliefer/spark/downloads","issues_url":"https://api.github.com/repos/beliefer/spark/issues{/number}","pulls_url":"https://api.github.com/repos/beliefer/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/beliefer/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/beliefer/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/beliefer/spark/labels{/name}","releases_url":"https://api.github.com/repos/beliefer/spark/releases{/id}","deployments_url":"https://api.github.com/repos/beliefer/spark/deployments","created_at":"2020-02-01T13:17:08Z","updated_at":"2025-01-28T09:45:49Z","pushed_at":"2025-01-28T11:57:29Z","git_url":"git://github.com/beliefer/spark.git","ssh_url":"git@github.com:beliefer/spark.git","clone_url":"https://github.com/beliefer/spark.git","svn_url":"https://github.com/beliefer/spark","homepage":"","size":488033,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"deac8f950edb1d893fe4bf2cc7c4adbd29d1db22","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36043"},"html":{"href":"https://github.com/apache/spark/pull/36043"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36043"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36043/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36043/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36043/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/325e63e2b2f044a68092f78c8ff44fe1b79cc388"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36042","id":897901479,"node_id":"PR_kwDOAQXtWs41hOOn","html_url":"https://github.com/apache/spark/pull/36042","diff_url":"https://github.com/apache/spark/pull/36042.diff","patch_url":"https://github.com/apache/spark/pull/36042.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36042","number":36042,"state":"closed","locked":false,"title":"[SPARK-38763][PYTHON] Support lambda `column` parameter of `DataFrame.rename`","user":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nSupport lambda `column` parameter of `DataFrame.rename`.\r\n\r\nWe may want to backport this to 3.3 since this is a regression.\r\n\r\n### Why are the changes needed?\r\nTo reach parity with Pandas.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes. The regression is fixed; lambda `column` is supported again.\r\n\r\n```py\r\n>>> psdf = ps.DataFrame({'x': [1, 2], 'y': [3, 4]})\r\n\r\n>>> psdf.rename(columns=lambda x: x + 'o')\r\n   xo  yo\r\n0   1   3\r\n1   2   4\r\n```\r\n\r\n### How was this patch tested?\r\nUnit tests.","created_at":"2022-04-02T00:13:56Z","updated_at":"2022-04-03T00:52:57Z","closed_at":"2022-04-03T00:52:57Z","merged_at":null,"merge_commit_sha":"f7a668cda41e5efd063598035b14945986931466","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36042/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36042/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36042/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/84addc2fb51c855a27b887d5b4fad57a932182ec","head":{"label":"xinrong-meng:frame.rename","ref":"frame.rename","sha":"84addc2fb51c855a27b887d5b4fad57a932182ec","user":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":335786381,"node_id":"MDEwOlJlcG9zaXRvcnkzMzU3ODYzODE=","name":"spark","full_name":"xinrong-meng/spark","private":false,"owner":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/xinrong-meng/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/xinrong-meng/spark","forks_url":"https://api.github.com/repos/xinrong-meng/spark/forks","keys_url":"https://api.github.com/repos/xinrong-meng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xinrong-meng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xinrong-meng/spark/teams","hooks_url":"https://api.github.com/repos/xinrong-meng/spark/hooks","issue_events_url":"https://api.github.com/repos/xinrong-meng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/xinrong-meng/spark/events","assignees_url":"https://api.github.com/repos/xinrong-meng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/xinrong-meng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/xinrong-meng/spark/tags","blobs_url":"https://api.github.com/repos/xinrong-meng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xinrong-meng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xinrong-meng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/xinrong-meng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xinrong-meng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/xinrong-meng/spark/languages","stargazers_url":"https://api.github.com/repos/xinrong-meng/spark/stargazers","contributors_url":"https://api.github.com/repos/xinrong-meng/spark/contributors","subscribers_url":"https://api.github.com/repos/xinrong-meng/spark/subscribers","subscription_url":"https://api.github.com/repos/xinrong-meng/spark/subscription","commits_url":"https://api.github.com/repos/xinrong-meng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/xinrong-meng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/xinrong-meng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/xinrong-meng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/xinrong-meng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/xinrong-meng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xinrong-meng/spark/merges","archive_url":"https://api.github.com/repos/xinrong-meng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xinrong-meng/spark/downloads","issues_url":"https://api.github.com/repos/xinrong-meng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/xinrong-meng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/xinrong-meng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/xinrong-meng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xinrong-meng/spark/labels{/name}","releases_url":"https://api.github.com/repos/xinrong-meng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/xinrong-meng/spark/deployments","created_at":"2021-02-03T23:47:29Z","updated_at":"2024-09-27T08:09:06Z","pushed_at":"2025-02-08T02:14:33Z","git_url":"git://github.com/xinrong-meng/spark.git","ssh_url":"git@github.com:xinrong-meng/spark.git","clone_url":"https://github.com/xinrong-meng/spark.git","svn_url":"https://github.com/xinrong-meng/spark","homepage":"https://spark.apache.org/","size":469811,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":2,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"2f8613f22c0750c00cf1dcfb2f31c431d8dc1be7","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36042"},"html":{"href":"https://github.com/apache/spark/pull/36042"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36042"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36042/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36042/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36042/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/84addc2fb51c855a27b887d5b4fad57a932182ec"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36041","id":897701205,"node_id":"PR_kwDOAQXtWs41gdVV","html_url":"https://github.com/apache/spark/pull/36041","diff_url":"https://github.com/apache/spark/pull/36041.diff","patch_url":"https://github.com/apache/spark/pull/36041.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36041","number":36041,"state":"closed","locked":false,"title":"[SPARK-38765][PYTHON] Implement `inplace` parameter of `Series.clip`","user":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nImplement `inplace` parameter of `Series.clip`.\r\n\r\n### Why are the changes needed?\r\nTo reach parity with pandas.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes.\r\n\r\n`inplace` parameter of `Series.clip` is supported as below:\r\n```py\r\n        >>> psser = ps.Series([0, 2, 4])\r\n        >>> psser\r\n        0    0\r\n        1    2\r\n        2    4\r\n        dtype: int64\r\n\r\n        >>> psser.clip(2, 3, inplace=True)\r\n        >>> psser\r\n        0    2\r\n        1    2\r\n        2    3\r\n        dtype: int64\r\n```\r\n### How was this patch tested?\r\nUnit tests.","created_at":"2022-04-01T18:31:50Z","updated_at":"2022-04-08T00:54:06Z","closed_at":"2022-04-08T00:54:06Z","merged_at":null,"merge_commit_sha":"b454f673ec03781451be1dcd8f574baa0d056f66","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36041/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36041/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36041/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/379fe5e75ab702b88ca052642131800ac04e360e","head":{"label":"xinrong-meng:series.clip","ref":"series.clip","sha":"379fe5e75ab702b88ca052642131800ac04e360e","user":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":335786381,"node_id":"MDEwOlJlcG9zaXRvcnkzMzU3ODYzODE=","name":"spark","full_name":"xinrong-meng/spark","private":false,"owner":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/xinrong-meng/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/xinrong-meng/spark","forks_url":"https://api.github.com/repos/xinrong-meng/spark/forks","keys_url":"https://api.github.com/repos/xinrong-meng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xinrong-meng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xinrong-meng/spark/teams","hooks_url":"https://api.github.com/repos/xinrong-meng/spark/hooks","issue_events_url":"https://api.github.com/repos/xinrong-meng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/xinrong-meng/spark/events","assignees_url":"https://api.github.com/repos/xinrong-meng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/xinrong-meng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/xinrong-meng/spark/tags","blobs_url":"https://api.github.com/repos/xinrong-meng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xinrong-meng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xinrong-meng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/xinrong-meng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xinrong-meng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/xinrong-meng/spark/languages","stargazers_url":"https://api.github.com/repos/xinrong-meng/spark/stargazers","contributors_url":"https://api.github.com/repos/xinrong-meng/spark/contributors","subscribers_url":"https://api.github.com/repos/xinrong-meng/spark/subscribers","subscription_url":"https://api.github.com/repos/xinrong-meng/spark/subscription","commits_url":"https://api.github.com/repos/xinrong-meng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/xinrong-meng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/xinrong-meng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/xinrong-meng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/xinrong-meng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/xinrong-meng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xinrong-meng/spark/merges","archive_url":"https://api.github.com/repos/xinrong-meng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xinrong-meng/spark/downloads","issues_url":"https://api.github.com/repos/xinrong-meng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/xinrong-meng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/xinrong-meng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/xinrong-meng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xinrong-meng/spark/labels{/name}","releases_url":"https://api.github.com/repos/xinrong-meng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/xinrong-meng/spark/deployments","created_at":"2021-02-03T23:47:29Z","updated_at":"2024-09-27T08:09:06Z","pushed_at":"2025-02-08T02:14:33Z","git_url":"git://github.com/xinrong-meng/spark.git","ssh_url":"git@github.com:xinrong-meng/spark.git","clone_url":"https://github.com/xinrong-meng/spark.git","svn_url":"https://github.com/xinrong-meng/spark","homepage":"https://spark.apache.org/","size":469811,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":2,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"2f8613f22c0750c00cf1dcfb2f31c431d8dc1be7","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36041"},"html":{"href":"https://github.com/apache/spark/pull/36041"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36041"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36041/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36041/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36041/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/379fe5e75ab702b88ca052642131800ac04e360e"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36040","id":897316916,"node_id":"PR_kwDOAQXtWs41e_g0","html_url":"https://github.com/apache/spark/pull/36040","diff_url":"https://github.com/apache/spark/pull/36040.diff","patch_url":"https://github.com/apache/spark/pull/36040.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36040","number":36040,"state":"closed","locked":false,"title":"[SPARK-38762][SQL] Provide query context in Decimal overflow errors","user":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nProvide query context in Decimal overflow errors:\r\n* explicit casting other data types as decimal\r\n* implicit casting in decimal operations, including add/subtract/multiply/divide/reminder/pmod\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nProvide SQL query context of runtime errors to users, so that they can understand it better.\r\n\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes, improve the runtime error message of decimal overflow\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nExisting UT\r\nAlso test `sql/core/src/test/resources/sql-tests/inputs/cast.sql` under ANSI mode.","created_at":"2022-04-01T12:07:23Z","updated_at":"2022-04-06T17:27:38Z","closed_at":"2022-04-06T17:27:38Z","merged_at":null,"merge_commit_sha":"cf84cdedaa0b7d8e2009b8f4065792b6b5646edd","assignee":null,"assignees":[],"requested_reviewers":[{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36040/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36040/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36040/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/a8f4ad10fb62f6fc33670fb839bddda47fe1494e","head":{"label":"gengliangwang:decimalContext","ref":"decimalContext","sha":"a8f4ad10fb62f6fc33670fb839bddda47fe1494e","user":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":95047635,"node_id":"MDEwOlJlcG9zaXRvcnk5NTA0NzYzNQ==","name":"spark","full_name":"gengliangwang/spark","private":false,"owner":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/gengliangwang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/gengliangwang/spark","forks_url":"https://api.github.com/repos/gengliangwang/spark/forks","keys_url":"https://api.github.com/repos/gengliangwang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/gengliangwang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/gengliangwang/spark/teams","hooks_url":"https://api.github.com/repos/gengliangwang/spark/hooks","issue_events_url":"https://api.github.com/repos/gengliangwang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/gengliangwang/spark/events","assignees_url":"https://api.github.com/repos/gengliangwang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/gengliangwang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/gengliangwang/spark/tags","blobs_url":"https://api.github.com/repos/gengliangwang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/gengliangwang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/gengliangwang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/gengliangwang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/gengliangwang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/gengliangwang/spark/languages","stargazers_url":"https://api.github.com/repos/gengliangwang/spark/stargazers","contributors_url":"https://api.github.com/repos/gengliangwang/spark/contributors","subscribers_url":"https://api.github.com/repos/gengliangwang/spark/subscribers","subscription_url":"https://api.github.com/repos/gengliangwang/spark/subscription","commits_url":"https://api.github.com/repos/gengliangwang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/gengliangwang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/gengliangwang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/gengliangwang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/gengliangwang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/gengliangwang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/gengliangwang/spark/merges","archive_url":"https://api.github.com/repos/gengliangwang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/gengliangwang/spark/downloads","issues_url":"https://api.github.com/repos/gengliangwang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/gengliangwang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/gengliangwang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/gengliangwang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/gengliangwang/spark/labels{/name}","releases_url":"https://api.github.com/repos/gengliangwang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/gengliangwang/spark/deployments","created_at":"2017-06-21T21:26:20Z","updated_at":"2022-01-05T09:39:12Z","pushed_at":"2025-02-07T19:52:00Z","git_url":"git://github.com/gengliangwang/spark.git","ssh_url":"git@github.com:gengliangwang/spark.git","clone_url":"https://github.com/gengliangwang/spark.git","svn_url":"https://github.com/gengliangwang/spark","homepage":null,"size":481326,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"2f8613f22c0750c00cf1dcfb2f31c431d8dc1be7","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36040"},"html":{"href":"https://github.com/apache/spark/pull/36040"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36040"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36040/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36040/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36040/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/a8f4ad10fb62f6fc33670fb839bddda47fe1494e"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36039","id":897214896,"node_id":"PR_kwDOAQXtWs41emmw","html_url":"https://github.com/apache/spark/pull/36039","diff_url":"https://github.com/apache/spark/pull/36039.diff","patch_url":"https://github.com/apache/spark/pull/36039.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36039","number":36039,"state":"closed","locked":false,"title":"[SPARK-38761][SQL] DS V2 supports push down misc non-aggregate functions","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nCurrently, Spark have some misc non-aggregate functions of ANSI standard. Please refer https://github.com/apache/spark/blob/2f8613f22c0750c00cf1dcfb2f31c431d8dc1be7/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/analysis/FunctionRegistry.scala#L362.\r\nThese functions show below:\r\n`abs`,\r\n`coalesce`,\r\n`nullif`,\r\n`CASE WHEN`\r\nDS V2 should supports push down these misc non-aggregate functions.\r\nBecause DS V2 already support push down `CASE WHEN`, so this PR no need do the job again.\r\nBecause `nullif` extends `RuntimeReplaceable`, so this PR no need do the job too.\r\n\r\n\r\n### Why are the changes needed?\r\nDS V2 supports push down misc non-aggregate functions\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n'No'.\r\nNew feature.\r\n\r\n\r\n### How was this patch tested?\r\nNew tests.\r\n","created_at":"2022-04-01T10:27:07Z","updated_at":"2022-04-12T00:52:52Z","closed_at":"2022-04-11T05:51:05Z","merged_at":null,"merge_commit_sha":"8e4d51ea3ae1e3e28841de6e1bf9ea8e69ec77e6","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36039/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36039/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36039/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/1ad874972803ddf8a30c176d75302f2093d28575","head":{"label":"beliefer:SPARK-38761","ref":"SPARK-38761","sha":"1ad874972803ddf8a30c176d75302f2093d28575","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":237617513,"node_id":"MDEwOlJlcG9zaXRvcnkyMzc2MTc1MTM=","name":"spark","full_name":"beliefer/spark","private":false,"owner":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/beliefer/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/beliefer/spark","forks_url":"https://api.github.com/repos/beliefer/spark/forks","keys_url":"https://api.github.com/repos/beliefer/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/beliefer/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/beliefer/spark/teams","hooks_url":"https://api.github.com/repos/beliefer/spark/hooks","issue_events_url":"https://api.github.com/repos/beliefer/spark/issues/events{/number}","events_url":"https://api.github.com/repos/beliefer/spark/events","assignees_url":"https://api.github.com/repos/beliefer/spark/assignees{/user}","branches_url":"https://api.github.com/repos/beliefer/spark/branches{/branch}","tags_url":"https://api.github.com/repos/beliefer/spark/tags","blobs_url":"https://api.github.com/repos/beliefer/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/beliefer/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/beliefer/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/beliefer/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/beliefer/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/beliefer/spark/languages","stargazers_url":"https://api.github.com/repos/beliefer/spark/stargazers","contributors_url":"https://api.github.com/repos/beliefer/spark/contributors","subscribers_url":"https://api.github.com/repos/beliefer/spark/subscribers","subscription_url":"https://api.github.com/repos/beliefer/spark/subscription","commits_url":"https://api.github.com/repos/beliefer/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/beliefer/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/beliefer/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/beliefer/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/beliefer/spark/contents/{+path}","compare_url":"https://api.github.com/repos/beliefer/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/beliefer/spark/merges","archive_url":"https://api.github.com/repos/beliefer/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/beliefer/spark/downloads","issues_url":"https://api.github.com/repos/beliefer/spark/issues{/number}","pulls_url":"https://api.github.com/repos/beliefer/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/beliefer/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/beliefer/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/beliefer/spark/labels{/name}","releases_url":"https://api.github.com/repos/beliefer/spark/releases{/id}","deployments_url":"https://api.github.com/repos/beliefer/spark/deployments","created_at":"2020-02-01T13:17:08Z","updated_at":"2025-01-28T09:45:49Z","pushed_at":"2025-01-28T11:57:29Z","git_url":"git://github.com/beliefer/spark.git","ssh_url":"git@github.com:beliefer/spark.git","clone_url":"https://github.com/beliefer/spark.git","svn_url":"https://github.com/beliefer/spark","homepage":"","size":488033,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"2f8613f22c0750c00cf1dcfb2f31c431d8dc1be7","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36039"},"html":{"href":"https://github.com/apache/spark/pull/36039"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36039"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36039/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36039/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36039/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/1ad874972803ddf8a30c176d75302f2093d28575"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36038","id":897199930,"node_id":"PR_kwDOAQXtWs41ei86","html_url":"https://github.com/apache/spark/pull/36038","diff_url":"https://github.com/apache/spark/pull/36038.diff","patch_url":"https://github.com/apache/spark/pull/36038.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36038","number":36038,"state":"closed","locked":false,"title":"[SPARK-38759][PYTHON][SS] Add StreamingQueryListener support in PySpark","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR adds the support of `StreamingQueryListener` in PySpark. This PR adds the Python classes corresponding to Scala classes below:\r\n- `StreamingQueryListener`\r\n- `QueryStartedEvent`\r\n- `QueryProgressEvent`\r\n- `QueryTerminatedEvent`\r\n- `StreamingQueryProgress`\r\n- `StateOperatorProgress`\r\n- `SourceProgress`\r\n- `SinkProgress`\r\n\r\nwith the listener API, `StreamingQueryManager.addListener`\r\n\r\n### Why are the changes needed?\r\n\r\nThis is a blocker of SPARK-38760. `DataFrame.observe` is an imporant feature for SS users to monitor their queries. However, this is missing in PySpark.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nYes, it adds a new API and class as described above. Users can do:\r\n\r\n```python\r\nfrom pyspark.sql.streaming import StreamingQueryListener\r\n\r\n\r\nclass Listener(StreamingQueryListener):\r\n    def onQueryStarted(self, event: \"QueryStartedEvent\") -> None:\r\n        print(\"Wow!\")\r\n    def onQueryProgress(self, event: \"QueryProgressEvent\") -> None:\r\n        print(\"Hello!\")\r\n    def onQueryTerminated(self, event: \"QueryTerminatedEvent\") -> None:\r\n        print(\"HI!\")\r\n\r\n\r\nspark.streams.addListener(Listener())\r\n\r\n\r\nrates = spark.readStream.format(\"rate\").option(\"rowsPerSecond\", 1).load()\r\nquery = rates.writeStream.format(\"console\").start()\r\nquery.awaitTermination()\r\n```\r\n\r\n### How was this patch tested?\r\n\r\nUnittests added\r\n","created_at":"2022-04-01T10:14:00Z","updated_at":"2024-01-15T00:53:42Z","closed_at":"2022-04-05T01:50:39Z","merged_at":null,"merge_commit_sha":"af18bb92eb807ae25c7dec0ec832dbef65c869f6","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36038/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36038/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36038/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/0e546e7e414022ba349b9125a57c5694d942fdac","head":{"label":"HyukjinKwon:streaming-listener","ref":"streaming-listener","sha":"0e546e7e414022ba349b9125a57c5694d942fdac","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"65d347d145f0039d5246431431573ccd34724276","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36038"},"html":{"href":"https://github.com/apache/spark/pull/36038"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36038"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36038/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36038/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36038/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/0e546e7e414022ba349b9125a57c5694d942fdac"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36037","id":897168378,"node_id":"PR_kwDOAQXtWs41ebP6","html_url":"https://github.com/apache/spark/pull/36037","diff_url":"https://github.com/apache/spark/pull/36037.diff","patch_url":"https://github.com/apache/spark/pull/36037.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36037","number":36037,"state":"closed","locked":false,"title":"[SPARK-38758][CORE][WEB UI] Add heap dump","user":{"login":"cutiechi","id":27606234,"node_id":"MDQ6VXNlcjI3NjA2MjM0","avatar_url":"https://avatars.githubusercontent.com/u/27606234?v=4","gravatar_id":"","url":"https://api.github.com/users/cutiechi","html_url":"https://github.com/cutiechi","followers_url":"https://api.github.com/users/cutiechi/followers","following_url":"https://api.github.com/users/cutiechi/following{/other_user}","gists_url":"https://api.github.com/users/cutiechi/gists{/gist_id}","starred_url":"https://api.github.com/users/cutiechi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cutiechi/subscriptions","organizations_url":"https://api.github.com/users/cutiechi/orgs","repos_url":"https://api.github.com/users/cutiechi/repos","events_url":"https://api.github.com/users/cutiechi/events{/privacy}","received_events_url":"https://api.github.com/users/cutiechi/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nAdd executors heap dump to web ui\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nCurrently only the dump thread is supported\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n","created_at":"2022-04-01T09:47:09Z","updated_at":"2022-07-20T05:06:38Z","closed_at":"2022-07-20T05:06:38Z","merged_at":null,"merge_commit_sha":"0d3d79368cc37b959fa430671b2b3783d5a39c41","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406605079,"node_id":"MDU6TGFiZWwxNDA2NjA1MDc5","url":"https://api.github.com/repos/apache/spark/labels/WEB%20UI","name":"WEB UI","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36037/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36037/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36037/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/5953305b81611ad306f823e9bf66a3b09182848e","head":{"label":"cutiechi:SPARK-38358","ref":"SPARK-38358","sha":"5953305b81611ad306f823e9bf66a3b09182848e","user":{"login":"cutiechi","id":27606234,"node_id":"MDQ6VXNlcjI3NjA2MjM0","avatar_url":"https://avatars.githubusercontent.com/u/27606234?v=4","gravatar_id":"","url":"https://api.github.com/users/cutiechi","html_url":"https://github.com/cutiechi","followers_url":"https://api.github.com/users/cutiechi/followers","following_url":"https://api.github.com/users/cutiechi/following{/other_user}","gists_url":"https://api.github.com/users/cutiechi/gists{/gist_id}","starred_url":"https://api.github.com/users/cutiechi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cutiechi/subscriptions","organizations_url":"https://api.github.com/users/cutiechi/orgs","repos_url":"https://api.github.com/users/cutiechi/repos","events_url":"https://api.github.com/users/cutiechi/events{/privacy}","received_events_url":"https://api.github.com/users/cutiechi/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"2f8613f22c0750c00cf1dcfb2f31c431d8dc1be7","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36037"},"html":{"href":"https://github.com/apache/spark/pull/36037"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36037"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36037/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36037/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36037/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/5953305b81611ad306f823e9bf66a3b09182848e"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36036","id":897097381,"node_id":"PR_kwDOAQXtWs41eJ6l","html_url":"https://github.com/apache/spark/pull/36036","diff_url":"https://github.com/apache/spark/pull/36036.diff","patch_url":"https://github.com/apache/spark/pull/36036.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36036","number":36036,"state":"closed","locked":false,"title":"[SPARK-38757][TEST] Update oracle-xe version from 18.4.0 to 21.3.0","user":{"login":"LucaCanali","id":5243162,"node_id":"MDQ6VXNlcjUyNDMxNjI=","avatar_url":"https://avatars.githubusercontent.com/u/5243162?v=4","gravatar_id":"","url":"https://api.github.com/users/LucaCanali","html_url":"https://github.com/LucaCanali","followers_url":"https://api.github.com/users/LucaCanali/followers","following_url":"https://api.github.com/users/LucaCanali/following{/other_user}","gists_url":"https://api.github.com/users/LucaCanali/gists{/gist_id}","starred_url":"https://api.github.com/users/LucaCanali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LucaCanali/subscriptions","organizations_url":"https://api.github.com/users/LucaCanali/orgs","repos_url":"https://api.github.com/users/LucaCanali/repos","events_url":"https://api.github.com/users/LucaCanali/events{/privacy}","received_events_url":"https://api.github.com/users/LucaCanali/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes are proposed in this pull request?\r\nThis proposes to update the Docker image used for integration tests and builds from Oracle XE version 18.4.0 to Oracle XE version 21.3.0.\r\n\r\n### Why are the changes needed?\r\nCurrently Oracle XE version 18.4.0 is being used. Oracle 18c support has ended in 2021. Oracle 21c is the latest release of the Oracle RDBMS.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n### How was this patch tested?\r\nExisting test infrastructure.","created_at":"2022-04-01T08:34:58Z","updated_at":"2022-04-02T20:53:31Z","closed_at":"2022-04-02T13:47:33Z","merged_at":null,"merge_commit_sha":"e003bbee181a17bd2eac3ddcb9b3498a6a081840","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982110661,"node_id":"MDU6TGFiZWwxOTgyMTEwNjYx","url":"https://api.github.com/repos/apache/spark/labels/INFRA","name":"INFRA","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36036/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36036/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36036/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/4fa6b980b41aa89e8b6877ef901892da92d94650","head":{"label":"LucaCanali:updateOraclexeImage","ref":"updateOraclexeImage","sha":"4fa6b980b41aa89e8b6877ef901892da92d94650","user":{"login":"LucaCanali","id":5243162,"node_id":"MDQ6VXNlcjUyNDMxNjI=","avatar_url":"https://avatars.githubusercontent.com/u/5243162?v=4","gravatar_id":"","url":"https://api.github.com/users/LucaCanali","html_url":"https://github.com/LucaCanali","followers_url":"https://api.github.com/users/LucaCanali/followers","following_url":"https://api.github.com/users/LucaCanali/following{/other_user}","gists_url":"https://api.github.com/users/LucaCanali/gists{/gist_id}","starred_url":"https://api.github.com/users/LucaCanali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LucaCanali/subscriptions","organizations_url":"https://api.github.com/users/LucaCanali/orgs","repos_url":"https://api.github.com/users/LucaCanali/repos","events_url":"https://api.github.com/users/LucaCanali/events{/privacy}","received_events_url":"https://api.github.com/users/LucaCanali/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":145986175,"node_id":"MDEwOlJlcG9zaXRvcnkxNDU5ODYxNzU=","name":"spark","full_name":"LucaCanali/spark","private":false,"owner":{"login":"LucaCanali","id":5243162,"node_id":"MDQ6VXNlcjUyNDMxNjI=","avatar_url":"https://avatars.githubusercontent.com/u/5243162?v=4","gravatar_id":"","url":"https://api.github.com/users/LucaCanali","html_url":"https://github.com/LucaCanali","followers_url":"https://api.github.com/users/LucaCanali/followers","following_url":"https://api.github.com/users/LucaCanali/following{/other_user}","gists_url":"https://api.github.com/users/LucaCanali/gists{/gist_id}","starred_url":"https://api.github.com/users/LucaCanali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LucaCanali/subscriptions","organizations_url":"https://api.github.com/users/LucaCanali/orgs","repos_url":"https://api.github.com/users/LucaCanali/repos","events_url":"https://api.github.com/users/LucaCanali/events{/privacy}","received_events_url":"https://api.github.com/users/LucaCanali/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LucaCanali/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LucaCanali/spark","forks_url":"https://api.github.com/repos/LucaCanali/spark/forks","keys_url":"https://api.github.com/repos/LucaCanali/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LucaCanali/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LucaCanali/spark/teams","hooks_url":"https://api.github.com/repos/LucaCanali/spark/hooks","issue_events_url":"https://api.github.com/repos/LucaCanali/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LucaCanali/spark/events","assignees_url":"https://api.github.com/repos/LucaCanali/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LucaCanali/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LucaCanali/spark/tags","blobs_url":"https://api.github.com/repos/LucaCanali/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LucaCanali/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LucaCanali/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LucaCanali/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LucaCanali/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LucaCanali/spark/languages","stargazers_url":"https://api.github.com/repos/LucaCanali/spark/stargazers","contributors_url":"https://api.github.com/repos/LucaCanali/spark/contributors","subscribers_url":"https://api.github.com/repos/LucaCanali/spark/subscribers","subscription_url":"https://api.github.com/repos/LucaCanali/spark/subscription","commits_url":"https://api.github.com/repos/LucaCanali/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LucaCanali/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LucaCanali/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LucaCanali/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LucaCanali/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LucaCanali/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LucaCanali/spark/merges","archive_url":"https://api.github.com/repos/LucaCanali/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LucaCanali/spark/downloads","issues_url":"https://api.github.com/repos/LucaCanali/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LucaCanali/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LucaCanali/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LucaCanali/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LucaCanali/spark/labels{/name}","releases_url":"https://api.github.com/repos/LucaCanali/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LucaCanali/spark/deployments","created_at":"2018-08-24T12:02:34Z","updated_at":"2025-01-22T15:30:45Z","pushed_at":"2025-01-22T16:08:40Z","git_url":"git://github.com/LucaCanali/spark.git","ssh_url":"git@github.com:LucaCanali/spark.git","clone_url":"https://github.com/LucaCanali/spark.git","svn_url":"https://github.com/LucaCanali/spark","homepage":null,"size":445683,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"eb353aa959ca2298b28ff0b9671edcfa3ac62822","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36036"},"html":{"href":"https://github.com/apache/spark/pull/36036"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36036"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36036/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36036/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36036/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/4fa6b980b41aa89e8b6877ef901892da92d94650"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36035","id":897005776,"node_id":"PR_kwDOAQXtWs41dzjQ","html_url":"https://github.com/apache/spark/pull/36035","diff_url":"https://github.com/apache/spark/pull/36035.diff","patch_url":"https://github.com/apache/spark/pull/36035.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36035","number":36035,"state":"closed","locked":false,"title":"[SPARK-38756][CORE][DOCS] Clean up unused security configuration items in `TransportConf`","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThere are some configuration items in `TransportConf` already unused after [Update Spark key negotiation protocol](https://github.com/apache/spark/commit/3b0dd14f1c5dd033ad0a6295baa288eda9dfe10a)\r\n\r\n- `spark.network.crypto.keyFactoryAlgorithm`\r\n- `spark.network.crypto.keyLength`\r\n- `spark.network.crypto.ivLength`\r\n- `spark.network.crypto.keyAlgorithm`\r\n\r\nso this pr clean up these configuration items from `TransportConf`,  ` security.md` and relevant UT `AuthEngineSuite`\r\n\r\n\r\n### Why are the changes needed?\r\nClean up unused security configuration items.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nPass GA","created_at":"2022-04-01T06:53:36Z","updated_at":"2022-04-02T18:32:15Z","closed_at":"2022-04-02T16:40:44Z","merged_at":null,"merge_commit_sha":"3359cd91ec957f9340ccbcfc5d604922fdfabd40","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36035/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36035/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36035/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/956075b5ea54a27098bd3aa038385b8f91ea7a12","head":{"label":"LuciferYang:unused-security-config","ref":"unused-security-config","sha":"956075b5ea54a27098bd3aa038385b8f91ea7a12","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"eb353aa959ca2298b28ff0b9671edcfa3ac62822","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36035"},"html":{"href":"https://github.com/apache/spark/pull/36035"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36035"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36035/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36035/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36035/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/956075b5ea54a27098bd3aa038385b8f91ea7a12"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36034","id":896902951,"node_id":"PR_kwDOAQXtWs41dacn","html_url":"https://github.com/apache/spark/pull/36034","diff_url":"https://github.com/apache/spark/pull/36034.diff","patch_url":"https://github.com/apache/spark/pull/36034.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36034","number":36034,"state":"closed","locked":false,"title":"[SPARK-38755][PYTHON][TEST] Add file to address missing pandas general functions","user":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR proposes to add `python/pyspark/pandas/missing/general_functions.py` to track the missing [pandas general functions](https://pandas.pydata.org/docs/reference/general_functions.html) API.\r\n\r\n\r\n### Why are the changes needed?\r\n\r\nWe have scripts in `missing` directory to track & address the missing pandas APIs, but one for general functions is missing.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\n\r\nThe existing tests should cover","created_at":"2022-04-01T04:19:34Z","updated_at":"2023-04-22T05:42:46Z","closed_at":"2022-04-08T02:12:35Z","merged_at":null,"merge_commit_sha":"4a81cd5871d9ab08860c3fd77eed7e9c5907ecd2","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36034/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36034/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36034/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/4048f221801081eeba4b1945a08eec47856bbcd8","head":{"label":"itholic:SPARK-38755","ref":"SPARK-38755","sha":"4048f221801081eeba4b1945a08eec47856bbcd8","user":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":445423122,"node_id":"R_kgDOGoyeEg","name":"spark","full_name":"itholic/spark","private":false,"owner":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/itholic/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/itholic/spark","forks_url":"https://api.github.com/repos/itholic/spark/forks","keys_url":"https://api.github.com/repos/itholic/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/itholic/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/itholic/spark/teams","hooks_url":"https://api.github.com/repos/itholic/spark/hooks","issue_events_url":"https://api.github.com/repos/itholic/spark/issues/events{/number}","events_url":"https://api.github.com/repos/itholic/spark/events","assignees_url":"https://api.github.com/repos/itholic/spark/assignees{/user}","branches_url":"https://api.github.com/repos/itholic/spark/branches{/branch}","tags_url":"https://api.github.com/repos/itholic/spark/tags","blobs_url":"https://api.github.com/repos/itholic/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/itholic/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/itholic/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/itholic/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/itholic/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/itholic/spark/languages","stargazers_url":"https://api.github.com/repos/itholic/spark/stargazers","contributors_url":"https://api.github.com/repos/itholic/spark/contributors","subscribers_url":"https://api.github.com/repos/itholic/spark/subscribers","subscription_url":"https://api.github.com/repos/itholic/spark/subscription","commits_url":"https://api.github.com/repos/itholic/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/itholic/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/itholic/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/itholic/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/itholic/spark/contents/{+path}","compare_url":"https://api.github.com/repos/itholic/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/itholic/spark/merges","archive_url":"https://api.github.com/repos/itholic/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/itholic/spark/downloads","issues_url":"https://api.github.com/repos/itholic/spark/issues{/number}","pulls_url":"https://api.github.com/repos/itholic/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/itholic/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/itholic/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/itholic/spark/labels{/name}","releases_url":"https://api.github.com/repos/itholic/spark/releases{/id}","deployments_url":"https://api.github.com/repos/itholic/spark/deployments","created_at":"2022-01-07T06:35:10Z","updated_at":"2025-01-23T06:13:52Z","pushed_at":"2025-01-23T06:47:35Z","git_url":"git://github.com/itholic/spark.git","ssh_url":"git@github.com:itholic/spark.git","clone_url":"https://github.com/itholic/spark.git","svn_url":"https://github.com/itholic/spark","homepage":"https://spark.apache.org/","size":459393,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"f0fc991f1d2e7b04b0e3967481f7e75e4322ae15","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36034"},"html":{"href":"https://github.com/apache/spark/pull/36034"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36034"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36034/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36034/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36034/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/4048f221801081eeba4b1945a08eec47856bbcd8"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36033","id":896887567,"node_id":"PR_kwDOAQXtWs41dWsP","html_url":"https://github.com/apache/spark/pull/36033","diff_url":"https://github.com/apache/spark/pull/36033.diff","patch_url":"https://github.com/apache/spark/pull/36033.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36033","number":36033,"state":"closed","locked":false,"title":"[SPARK-38754][SQL][TEST][3.1] Using EquivalentExpressions getEquivalentExprs function instead of getExprState at SubexpressionEliminationSuite","user":{"login":"monkeyboy123","id":9074114,"node_id":"MDQ6VXNlcjkwNzQxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9074114?v=4","gravatar_id":"","url":"https://api.github.com/users/monkeyboy123","html_url":"https://github.com/monkeyboy123","followers_url":"https://api.github.com/users/monkeyboy123/followers","following_url":"https://api.github.com/users/monkeyboy123/following{/other_user}","gists_url":"https://api.github.com/users/monkeyboy123/gists{/gist_id}","starred_url":"https://api.github.com/users/monkeyboy123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monkeyboy123/subscriptions","organizations_url":"https://api.github.com/users/monkeyboy123/orgs","repos_url":"https://api.github.com/users/monkeyboy123/repos","events_url":"https://api.github.com/users/monkeyboy123/events{/privacy}","received_events_url":"https://api.github.com/users/monkeyboy123/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\n<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis pr use EquivalentExpressions getEquivalentExprs function instead of getExprState at SubexpressionEliminationSuite, and remove cpus paramter.\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nFixes build error\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNO\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nCI Tests","created_at":"2022-04-01T03:58:50Z","updated_at":"2022-04-03T18:01:39Z","closed_at":"2022-04-01T14:54:55Z","merged_at":null,"merge_commit_sha":"42c903b93c6b468d25bd5f2430dc31130411a467","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36033/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36033/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36033/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/4af95c1a0a719f0749744c99f594ae0ad5450729","head":{"label":"monkeyboy123:SPARK-38754","ref":"SPARK-38754","sha":"4af95c1a0a719f0749744c99f594ae0ad5450729","user":{"login":"monkeyboy123","id":9074114,"node_id":"MDQ6VXNlcjkwNzQxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9074114?v=4","gravatar_id":"","url":"https://api.github.com/users/monkeyboy123","html_url":"https://github.com/monkeyboy123","followers_url":"https://api.github.com/users/monkeyboy123/followers","following_url":"https://api.github.com/users/monkeyboy123/following{/other_user}","gists_url":"https://api.github.com/users/monkeyboy123/gists{/gist_id}","starred_url":"https://api.github.com/users/monkeyboy123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monkeyboy123/subscriptions","organizations_url":"https://api.github.com/users/monkeyboy123/orgs","repos_url":"https://api.github.com/users/monkeyboy123/repos","events_url":"https://api.github.com/users/monkeyboy123/events{/privacy}","received_events_url":"https://api.github.com/users/monkeyboy123/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":152182667,"node_id":"MDEwOlJlcG9zaXRvcnkxNTIxODI2Njc=","name":"spark","full_name":"monkeyboy123/spark","private":false,"owner":{"login":"monkeyboy123","id":9074114,"node_id":"MDQ6VXNlcjkwNzQxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9074114?v=4","gravatar_id":"","url":"https://api.github.com/users/monkeyboy123","html_url":"https://github.com/monkeyboy123","followers_url":"https://api.github.com/users/monkeyboy123/followers","following_url":"https://api.github.com/users/monkeyboy123/following{/other_user}","gists_url":"https://api.github.com/users/monkeyboy123/gists{/gist_id}","starred_url":"https://api.github.com/users/monkeyboy123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monkeyboy123/subscriptions","organizations_url":"https://api.github.com/users/monkeyboy123/orgs","repos_url":"https://api.github.com/users/monkeyboy123/repos","events_url":"https://api.github.com/users/monkeyboy123/events{/privacy}","received_events_url":"https://api.github.com/users/monkeyboy123/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/monkeyboy123/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/monkeyboy123/spark","forks_url":"https://api.github.com/repos/monkeyboy123/spark/forks","keys_url":"https://api.github.com/repos/monkeyboy123/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/monkeyboy123/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/monkeyboy123/spark/teams","hooks_url":"https://api.github.com/repos/monkeyboy123/spark/hooks","issue_events_url":"https://api.github.com/repos/monkeyboy123/spark/issues/events{/number}","events_url":"https://api.github.com/repos/monkeyboy123/spark/events","assignees_url":"https://api.github.com/repos/monkeyboy123/spark/assignees{/user}","branches_url":"https://api.github.com/repos/monkeyboy123/spark/branches{/branch}","tags_url":"https://api.github.com/repos/monkeyboy123/spark/tags","blobs_url":"https://api.github.com/repos/monkeyboy123/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/monkeyboy123/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/monkeyboy123/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/monkeyboy123/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/monkeyboy123/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/monkeyboy123/spark/languages","stargazers_url":"https://api.github.com/repos/monkeyboy123/spark/stargazers","contributors_url":"https://api.github.com/repos/monkeyboy123/spark/contributors","subscribers_url":"https://api.github.com/repos/monkeyboy123/spark/subscribers","subscription_url":"https://api.github.com/repos/monkeyboy123/spark/subscription","commits_url":"https://api.github.com/repos/monkeyboy123/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/monkeyboy123/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/monkeyboy123/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/monkeyboy123/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/monkeyboy123/spark/contents/{+path}","compare_url":"https://api.github.com/repos/monkeyboy123/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/monkeyboy123/spark/merges","archive_url":"https://api.github.com/repos/monkeyboy123/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/monkeyboy123/spark/downloads","issues_url":"https://api.github.com/repos/monkeyboy123/spark/issues{/number}","pulls_url":"https://api.github.com/repos/monkeyboy123/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/monkeyboy123/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/monkeyboy123/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/monkeyboy123/spark/labels{/name}","releases_url":"https://api.github.com/repos/monkeyboy123/spark/releases{/id}","deployments_url":"https://api.github.com/repos/monkeyboy123/spark/deployments","created_at":"2018-10-09T03:32:45Z","updated_at":"2024-05-22T13:10:31Z","pushed_at":"2024-05-25T23:04:44Z","git_url":"git://github.com/monkeyboy123/spark.git","ssh_url":"git@github.com:monkeyboy123/spark.git","clone_url":"https://github.com/monkeyboy123/spark.git","svn_url":"https://github.com/monkeyboy123/spark","homepage":null,"size":427706,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:branch-3.1","ref":"branch-3.1","sha":"e12c9e7a44583af824655b9804be61292f27bb9f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36033"},"html":{"href":"https://github.com/apache/spark/pull/36033"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36033"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36033/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36033/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36033/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/4af95c1a0a719f0749744c99f594ae0ad5450729"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36032","id":896793810,"node_id":"PR_kwDOAQXtWs41c_zS","html_url":"https://github.com/apache/spark/pull/36032","diff_url":"https://github.com/apache/spark/pull/36032.diff","patch_url":"https://github.com/apache/spark/pull/36032.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36032","number":36032,"state":"closed","locked":false,"title":"[SPARK-37960][SQL][FOLLOWUP] Make the testing CASE WHEN query more reasonable","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nSome testing CASE WHEN queries are not carefully written and do not make sense. In the future, the optimizer may get smarter and get rid of the CASE WHEN completely, and then we loose test coverage.\r\n\r\nThis PR updates some CASE WHEN queries to make them more reasonable.\r\n\r\n\r\n### Why are the changes needed?\r\nfuture-proof test coverage.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n'No'.\r\n\r\n\r\n### How was this patch tested?\r\nN/A\r\n","created_at":"2022-04-01T01:30:28Z","updated_at":"2022-04-11T05:32:10Z","closed_at":"2022-04-01T05:35:04Z","merged_at":null,"merge_commit_sha":"03b330316fdcfe25622beb0d14b2f321235c7bc4","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36032/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36032/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36032/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/bb14a23ffe4408bf2ce318bfc2dfa55f570b1fd5","head":{"label":"beliefer:SPARK-37960_followup2","ref":"SPARK-37960_followup2","sha":"bb14a23ffe4408bf2ce318bfc2dfa55f570b1fd5","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":237617513,"node_id":"MDEwOlJlcG9zaXRvcnkyMzc2MTc1MTM=","name":"spark","full_name":"beliefer/spark","private":false,"owner":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/beliefer/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/beliefer/spark","forks_url":"https://api.github.com/repos/beliefer/spark/forks","keys_url":"https://api.github.com/repos/beliefer/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/beliefer/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/beliefer/spark/teams","hooks_url":"https://api.github.com/repos/beliefer/spark/hooks","issue_events_url":"https://api.github.com/repos/beliefer/spark/issues/events{/number}","events_url":"https://api.github.com/repos/beliefer/spark/events","assignees_url":"https://api.github.com/repos/beliefer/spark/assignees{/user}","branches_url":"https://api.github.com/repos/beliefer/spark/branches{/branch}","tags_url":"https://api.github.com/repos/beliefer/spark/tags","blobs_url":"https://api.github.com/repos/beliefer/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/beliefer/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/beliefer/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/beliefer/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/beliefer/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/beliefer/spark/languages","stargazers_url":"https://api.github.com/repos/beliefer/spark/stargazers","contributors_url":"https://api.github.com/repos/beliefer/spark/contributors","subscribers_url":"https://api.github.com/repos/beliefer/spark/subscribers","subscription_url":"https://api.github.com/repos/beliefer/spark/subscription","commits_url":"https://api.github.com/repos/beliefer/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/beliefer/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/beliefer/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/beliefer/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/beliefer/spark/contents/{+path}","compare_url":"https://api.github.com/repos/beliefer/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/beliefer/spark/merges","archive_url":"https://api.github.com/repos/beliefer/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/beliefer/spark/downloads","issues_url":"https://api.github.com/repos/beliefer/spark/issues{/number}","pulls_url":"https://api.github.com/repos/beliefer/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/beliefer/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/beliefer/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/beliefer/spark/labels{/name}","releases_url":"https://api.github.com/repos/beliefer/spark/releases{/id}","deployments_url":"https://api.github.com/repos/beliefer/spark/deployments","created_at":"2020-02-01T13:17:08Z","updated_at":"2025-01-28T09:45:49Z","pushed_at":"2025-01-28T11:57:29Z","git_url":"git://github.com/beliefer/spark.git","ssh_url":"git@github.com:beliefer/spark.git","clone_url":"https://github.com/beliefer/spark.git","svn_url":"https://github.com/beliefer/spark","homepage":"","size":488033,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c1c3f4f93dcc097624b24de993a48f4a57f7e70e","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36032"},"html":{"href":"https://github.com/apache/spark/pull/36032"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36032"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36032/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36032/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36032/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/bb14a23ffe4408bf2ce318bfc2dfa55f570b1fd5"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36031","id":896724693,"node_id":"PR_kwDOAQXtWs41cu7V","html_url":"https://github.com/apache/spark/pull/36031","diff_url":"https://github.com/apache/spark/pull/36031.diff","patch_url":"https://github.com/apache/spark/pull/36031.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36031","number":36031,"state":"closed","locked":false,"title":"[SPARK-38679][SQL][TESTS][FOLLOW-UP]Add numPartitions parameter to TaskContextImpl at SubexpressionEliminationSuite","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThere was a logical conflict between https://github.com/apache/spark/pull/36012 and https://github.com/apache/spark/pull/35995. This PR fixes it up by providing `numPartitions` paramter to `TaskContextImpl` at `SubexpressionEliminationSuite`.\r\n\r\n### Why are the changes needed?\r\n\r\nTo fix the build up.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo, dev-only.\r\n\r\n### How was this patch tested?\r\n\r\nCI in this PR should test it out.","created_at":"2022-03-31T23:39:05Z","updated_at":"2024-01-15T00:53:43Z","closed_at":"2022-03-31T23:54:44Z","merged_at":null,"merge_commit_sha":"16d8eaaacb798e447fa7f34a3772a4b568f3a016","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36031/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36031/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36031/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9dc8fcc7d0e04966df06631dedc136c285ec15e5","head":{"label":"HyukjinKwon:SPARK-38333","ref":"SPARK-38333","sha":"9dc8fcc7d0e04966df06631dedc136c285ec15e5","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"43af6f9c7fe3feec9dd1aa26a9988f217ad4a8ab","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36031"},"html":{"href":"https://github.com/apache/spark/pull/36031"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36031"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36031/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36031/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36031/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9dc8fcc7d0e04966df06631dedc136c285ec15e5"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36030","id":896416197,"node_id":"PR_kwDOAQXtWs41bjnF","html_url":"https://github.com/apache/spark/pull/36030","diff_url":"https://github.com/apache/spark/pull/36030.diff","patch_url":"https://github.com/apache/spark/pull/36030.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36030","number":36030,"state":"closed","locked":false,"title":"Draft: [SPARK-38715] Configurable client ID for Kafka Spark SQL producer","user":{"login":"cchantep","id":166062,"node_id":"MDQ6VXNlcjE2NjA2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/166062?v=4","gravatar_id":"","url":"https://api.github.com/users/cchantep","html_url":"https://github.com/cchantep","followers_url":"https://api.github.com/users/cchantep/followers","following_url":"https://api.github.com/users/cchantep/following{/other_user}","gists_url":"https://api.github.com/users/cchantep/gists{/gist_id}","starred_url":"https://api.github.com/users/cchantep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cchantep/subscriptions","organizations_url":"https://api.github.com/users/cchantep/orgs","repos_url":"https://api.github.com/users/cchantep/repos","events_url":"https://api.github.com/users/cchantep/events{/privacy}","received_events_url":"https://api.github.com/users/cchantep/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"By default Kafka client automatically generated a unique client ID.\r\nClient ID is used by many data lineage tool to gather consumer/producer (for consumer the consumer group is also used, but only client ID can be used for producer).\r\n\r\nSetting the [client.id](https://kafka.apache.org/documentation/#producerconfigs_client.id) is options passed to Spark Kafka read or write is not possible, as it would force the same client.id on at east both the driver and the executor.\r\n\r\nWhat could be done is to be able to passed Spark specific option, maybe named `clientIdPrefix`.\r\n\r\ne.g.\r\n\r\n```scala\r\nval df = spark\r\n.read\r\n.format(\"kafka\")\r\n.option(\"kafka.bootstrap.servers\", \"host1:port1,host2:port2\")\r\n.option(\"subscribePattern\", \"topic.*\")\r\n.option(\"startingOffsets\", \"earliest\")\r\n.option(\"endingOffsets\", \"latest\")\r\n.option(\"clientIdPrefix\", \"my-workflow-\")\r\n.load()\r\n```\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\n- A new client ID prefix setting in Sparl SQL\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n","created_at":"2022-03-31T20:17:06Z","updated_at":"2022-09-27T00:27:54Z","closed_at":"2022-09-27T00:27:54Z","merged_at":null,"merge_commit_sha":"1e018d4327754e01276caa7e9cfeeb6d181fb5fc","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":true,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36030/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36030/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36030/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b30892bb49b96d3c13773594ddac26bd42490d71","head":{"label":"cchantep:feature/SPARK-38715","ref":"feature/SPARK-38715","sha":"b30892bb49b96d3c13773594ddac26bd42490d71","user":{"login":"cchantep","id":166062,"node_id":"MDQ6VXNlcjE2NjA2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/166062?v=4","gravatar_id":"","url":"https://api.github.com/users/cchantep","html_url":"https://github.com/cchantep","followers_url":"https://api.github.com/users/cchantep/followers","following_url":"https://api.github.com/users/cchantep/following{/other_user}","gists_url":"https://api.github.com/users/cchantep/gists{/gist_id}","starred_url":"https://api.github.com/users/cchantep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cchantep/subscriptions","organizations_url":"https://api.github.com/users/cchantep/orgs","repos_url":"https://api.github.com/users/cchantep/repos","events_url":"https://api.github.com/users/cchantep/events{/privacy}","received_events_url":"https://api.github.com/users/cchantep/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":438257744,"node_id":"R_kgDOGh9IUA","name":"spark","full_name":"cchantep/spark","private":false,"owner":{"login":"cchantep","id":166062,"node_id":"MDQ6VXNlcjE2NjA2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/166062?v=4","gravatar_id":"","url":"https://api.github.com/users/cchantep","html_url":"https://github.com/cchantep","followers_url":"https://api.github.com/users/cchantep/followers","following_url":"https://api.github.com/users/cchantep/following{/other_user}","gists_url":"https://api.github.com/users/cchantep/gists{/gist_id}","starred_url":"https://api.github.com/users/cchantep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cchantep/subscriptions","organizations_url":"https://api.github.com/users/cchantep/orgs","repos_url":"https://api.github.com/users/cchantep/repos","events_url":"https://api.github.com/users/cchantep/events{/privacy}","received_events_url":"https://api.github.com/users/cchantep/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/cchantep/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/cchantep/spark","forks_url":"https://api.github.com/repos/cchantep/spark/forks","keys_url":"https://api.github.com/repos/cchantep/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cchantep/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cchantep/spark/teams","hooks_url":"https://api.github.com/repos/cchantep/spark/hooks","issue_events_url":"https://api.github.com/repos/cchantep/spark/issues/events{/number}","events_url":"https://api.github.com/repos/cchantep/spark/events","assignees_url":"https://api.github.com/repos/cchantep/spark/assignees{/user}","branches_url":"https://api.github.com/repos/cchantep/spark/branches{/branch}","tags_url":"https://api.github.com/repos/cchantep/spark/tags","blobs_url":"https://api.github.com/repos/cchantep/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cchantep/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cchantep/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/cchantep/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cchantep/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/cchantep/spark/languages","stargazers_url":"https://api.github.com/repos/cchantep/spark/stargazers","contributors_url":"https://api.github.com/repos/cchantep/spark/contributors","subscribers_url":"https://api.github.com/repos/cchantep/spark/subscribers","subscription_url":"https://api.github.com/repos/cchantep/spark/subscription","commits_url":"https://api.github.com/repos/cchantep/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/cchantep/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/cchantep/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/cchantep/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/cchantep/spark/contents/{+path}","compare_url":"https://api.github.com/repos/cchantep/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cchantep/spark/merges","archive_url":"https://api.github.com/repos/cchantep/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cchantep/spark/downloads","issues_url":"https://api.github.com/repos/cchantep/spark/issues{/number}","pulls_url":"https://api.github.com/repos/cchantep/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/cchantep/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/cchantep/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cchantep/spark/labels{/name}","releases_url":"https://api.github.com/repos/cchantep/spark/releases{/id}","deployments_url":"https://api.github.com/repos/cchantep/spark/deployments","created_at":"2021-12-14T13:11:22Z","updated_at":"2021-12-14T13:11:24Z","pushed_at":"2022-03-31T20:15:03Z","git_url":"git://github.com/cchantep/spark.git","ssh_url":"git@github.com:cchantep/spark.git","clone_url":"https://github.com/cchantep/spark.git","svn_url":"https://github.com/cchantep/spark","homepage":"https://spark.apache.org/","size":411780,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"af40145990a0d507cbf922f13d60aaabb5660cd8","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36030"},"html":{"href":"https://github.com/apache/spark/pull/36030"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36030"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36030/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36030/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36030/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b30892bb49b96d3c13773594ddac26bd42490d71"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36029","id":896257394,"node_id":"PR_kwDOAQXtWs41a81y","html_url":"https://github.com/apache/spark/pull/36029","diff_url":"https://github.com/apache/spark/pull/36029.diff","patch_url":"https://github.com/apache/spark/pull/36029.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36029","number":36029,"state":"closed","locked":false,"title":"[SPARK-38679][SQL][TESTS][FOLLOW-UP]Add numPartitions parameter to TaskContextImpl at SubexpressionEliminationSuite","user":{"login":"tedyu","id":235188,"node_id":"MDQ6VXNlcjIzNTE4OA==","avatar_url":"https://avatars.githubusercontent.com/u/235188?v=4","gravatar_id":"","url":"https://api.github.com/users/tedyu","html_url":"https://github.com/tedyu","followers_url":"https://api.github.com/users/tedyu/followers","following_url":"https://api.github.com/users/tedyu/following{/other_user}","gists_url":"https://api.github.com/users/tedyu/gists{/gist_id}","starred_url":"https://api.github.com/users/tedyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tedyu/subscriptions","organizations_url":"https://api.github.com/users/tedyu/orgs","repos_url":"https://api.github.com/users/tedyu/repos","events_url":"https://api.github.com/users/tedyu/events{/privacy}","received_events_url":"https://api.github.com/users/tedyu/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis PR adds missing `numPartitions` parameter for `TaskContextImpl` ctor.\r\n\r\n### Why are the changes needed?\r\nThis PR fixes build error:\r\n\r\n```\r\nspark/sql/catalyst/src/test/scala/org/apache/spark/sql/catalyst/expressions/SubexpressionEliminationSuite.scala:426: not enough arguments for constructor TaskContextImpl: (stageId: Int, stageAttemptNumber: Int, partitionId: Int, taskAttemptId: Long, attemptNumber: Int, numPartitions: Int, taskMemoryManager: org.apache.spark.memory.TaskMemoryManager, localProperties: java.util.Properties, metricsSystem: org.apache.spark.metrics.MetricsSystem, taskMetrics: org.apache.spark.executor.TaskMetrics, cpus: Int, resources: Map[String,org.apache.spark.resource.ResourceInformation])org.apache.spark.TaskContextImpl.\r\nUnspecified value parameter metricsSystem.\r\n```\r\nThis was due to commit a40acd4392a8611062763ce6ec7bc853d401c646 not being updated with latest TaskContextImpl ctor before merging.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n### How was this patch tested?\r\n```\r\n./build/mvn install -Phive -Phive-thriftserver -DskipTests\r\n```","created_at":"2022-03-31T18:50:33Z","updated_at":"2022-03-31T23:55:25Z","closed_at":"2022-03-31T23:55:25Z","merged_at":null,"merge_commit_sha":"9fcb4d0c6bba42d1ce0fa5549e8609b2902fdc1a","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36029/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36029/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36029/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9f9324177023687cbba7cecafa9e13ca44619030","head":{"label":"tedyu:subex-ctx","ref":"subex-ctx","sha":"9f9324177023687cbba7cecafa9e13ca44619030","user":{"login":"tedyu","id":235188,"node_id":"MDQ6VXNlcjIzNTE4OA==","avatar_url":"https://avatars.githubusercontent.com/u/235188?v=4","gravatar_id":"","url":"https://api.github.com/users/tedyu","html_url":"https://github.com/tedyu","followers_url":"https://api.github.com/users/tedyu/followers","following_url":"https://api.github.com/users/tedyu/following{/other_user}","gists_url":"https://api.github.com/users/tedyu/gists{/gist_id}","starred_url":"https://api.github.com/users/tedyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tedyu/subscriptions","organizations_url":"https://api.github.com/users/tedyu/orgs","repos_url":"https://api.github.com/users/tedyu/repos","events_url":"https://api.github.com/users/tedyu/events{/privacy}","received_events_url":"https://api.github.com/users/tedyu/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":325822007,"node_id":"MDEwOlJlcG9zaXRvcnkzMjU4MjIwMDc=","name":"spark","full_name":"tedyu/spark","private":false,"owner":{"login":"tedyu","id":235188,"node_id":"MDQ6VXNlcjIzNTE4OA==","avatar_url":"https://avatars.githubusercontent.com/u/235188?v=4","gravatar_id":"","url":"https://api.github.com/users/tedyu","html_url":"https://github.com/tedyu","followers_url":"https://api.github.com/users/tedyu/followers","following_url":"https://api.github.com/users/tedyu/following{/other_user}","gists_url":"https://api.github.com/users/tedyu/gists{/gist_id}","starred_url":"https://api.github.com/users/tedyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tedyu/subscriptions","organizations_url":"https://api.github.com/users/tedyu/orgs","repos_url":"https://api.github.com/users/tedyu/repos","events_url":"https://api.github.com/users/tedyu/events{/privacy}","received_events_url":"https://api.github.com/users/tedyu/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/tedyu/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/tedyu/spark","forks_url":"https://api.github.com/repos/tedyu/spark/forks","keys_url":"https://api.github.com/repos/tedyu/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tedyu/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tedyu/spark/teams","hooks_url":"https://api.github.com/repos/tedyu/spark/hooks","issue_events_url":"https://api.github.com/repos/tedyu/spark/issues/events{/number}","events_url":"https://api.github.com/repos/tedyu/spark/events","assignees_url":"https://api.github.com/repos/tedyu/spark/assignees{/user}","branches_url":"https://api.github.com/repos/tedyu/spark/branches{/branch}","tags_url":"https://api.github.com/repos/tedyu/spark/tags","blobs_url":"https://api.github.com/repos/tedyu/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tedyu/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tedyu/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/tedyu/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tedyu/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/tedyu/spark/languages","stargazers_url":"https://api.github.com/repos/tedyu/spark/stargazers","contributors_url":"https://api.github.com/repos/tedyu/spark/contributors","subscribers_url":"https://api.github.com/repos/tedyu/spark/subscribers","subscription_url":"https://api.github.com/repos/tedyu/spark/subscription","commits_url":"https://api.github.com/repos/tedyu/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/tedyu/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/tedyu/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/tedyu/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/tedyu/spark/contents/{+path}","compare_url":"https://api.github.com/repos/tedyu/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tedyu/spark/merges","archive_url":"https://api.github.com/repos/tedyu/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tedyu/spark/downloads","issues_url":"https://api.github.com/repos/tedyu/spark/issues{/number}","pulls_url":"https://api.github.com/repos/tedyu/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/tedyu/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/tedyu/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tedyu/spark/labels{/name}","releases_url":"https://api.github.com/repos/tedyu/spark/releases{/id}","deployments_url":"https://api.github.com/repos/tedyu/spark/deployments","created_at":"2020-12-31T15:02:53Z","updated_at":"2024-08-20T17:49:00Z","pushed_at":"2025-01-05T16:23:32Z","git_url":"git://github.com/tedyu/spark.git","ssh_url":"git@github.com:tedyu/spark.git","clone_url":"https://github.com/tedyu/spark.git","svn_url":"https://github.com/tedyu/spark","homepage":"https://spark.apache.org/","size":455362,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"b70fa24304e524255df8b19c31666699e2642583","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36029"},"html":{"href":"https://github.com/apache/spark/pull/36029"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36029"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36029/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36029/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36029/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9f9324177023687cbba7cecafa9e13ca44619030"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36028","id":896166625,"node_id":"PR_kwDOAQXtWs41amrh","html_url":"https://github.com/apache/spark/pull/36028","diff_url":"https://github.com/apache/spark/pull/36028.diff","patch_url":"https://github.com/apache/spark/pull/36028.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36028","number":36028,"state":"closed","locked":false,"title":"[SPARK-38726][PYTHON] Support `how` parameter of `MultiIndex.dropna`","user":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nSupport `how` parameter of `MultiIndex.dropna` to specify drop the value when any or all levels are NaN.\r\n\r\n\r\n### Why are the changes needed?\r\nTo reach parity with pandas.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes.`how` parameter of `MultiIndex.dropna` is supported\r\n```py\r\n        >>> tuples = [(np.nan, 1.0), (2.0, 2.0), (np.nan, np.nan), (3.0, np.nan)]\r\n        >>> midx = ps.MultiIndex.from_tuples(tuples)\r\n        >>> midx\r\n        MultiIndex([(nan, 1.0),\r\n                    (2.0, 2.0),\r\n                    (nan, nan),\r\n                    (3.0, nan)],\r\n                   )\r\n\r\n        >>> midx.dropna(how=\"any\")\r\n        MultiIndex([(2.0, 2.0)],\r\n                   )\r\n\r\n        >>> midx.dropna(how=\"all\")\r\n        MultiIndex([(nan, 1.0),\r\n                    (2.0, 2.0),\r\n                    (3.0, nan)],\r\n                   )\r\n```\r\n\r\n### How was this patch tested?\r\nUnit tests.\r\n","created_at":"2022-03-31T17:28:16Z","updated_at":"2022-04-08T00:53:23Z","closed_at":"2022-04-08T00:53:23Z","merged_at":null,"merge_commit_sha":"ea3c46db01bdd5b7fc20fa227559f73bab8fafde","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36028/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36028/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36028/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/480c8cf591f38a44c470ab4b65dcce15d9b64d1e","head":{"label":"xinrong-meng:index.dropna","ref":"index.dropna","sha":"480c8cf591f38a44c470ab4b65dcce15d9b64d1e","user":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":335786381,"node_id":"MDEwOlJlcG9zaXRvcnkzMzU3ODYzODE=","name":"spark","full_name":"xinrong-meng/spark","private":false,"owner":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/xinrong-meng/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/xinrong-meng/spark","forks_url":"https://api.github.com/repos/xinrong-meng/spark/forks","keys_url":"https://api.github.com/repos/xinrong-meng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xinrong-meng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xinrong-meng/spark/teams","hooks_url":"https://api.github.com/repos/xinrong-meng/spark/hooks","issue_events_url":"https://api.github.com/repos/xinrong-meng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/xinrong-meng/spark/events","assignees_url":"https://api.github.com/repos/xinrong-meng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/xinrong-meng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/xinrong-meng/spark/tags","blobs_url":"https://api.github.com/repos/xinrong-meng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xinrong-meng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xinrong-meng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/xinrong-meng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xinrong-meng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/xinrong-meng/spark/languages","stargazers_url":"https://api.github.com/repos/xinrong-meng/spark/stargazers","contributors_url":"https://api.github.com/repos/xinrong-meng/spark/contributors","subscribers_url":"https://api.github.com/repos/xinrong-meng/spark/subscribers","subscription_url":"https://api.github.com/repos/xinrong-meng/spark/subscription","commits_url":"https://api.github.com/repos/xinrong-meng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/xinrong-meng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/xinrong-meng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/xinrong-meng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/xinrong-meng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/xinrong-meng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xinrong-meng/spark/merges","archive_url":"https://api.github.com/repos/xinrong-meng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xinrong-meng/spark/downloads","issues_url":"https://api.github.com/repos/xinrong-meng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/xinrong-meng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/xinrong-meng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/xinrong-meng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xinrong-meng/spark/labels{/name}","releases_url":"https://api.github.com/repos/xinrong-meng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/xinrong-meng/spark/deployments","created_at":"2021-02-03T23:47:29Z","updated_at":"2024-09-27T08:09:06Z","pushed_at":"2025-02-08T02:14:33Z","git_url":"git://github.com/xinrong-meng/spark.git","ssh_url":"git@github.com:xinrong-meng/spark.git","clone_url":"https://github.com/xinrong-meng/spark.git","svn_url":"https://github.com/xinrong-meng/spark","homepage":"https://spark.apache.org/","size":469811,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":2,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"2f8613f22c0750c00cf1dcfb2f31c431d8dc1be7","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36028"},"html":{"href":"https://github.com/apache/spark/pull/36028"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36028"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36028/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36028/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36028/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/480c8cf591f38a44c470ab4b65dcce15d9b64d1e"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36027","id":896124992,"node_id":"PR_kwDOAQXtWs41achA","html_url":"https://github.com/apache/spark/pull/36027","diff_url":"https://github.com/apache/spark/pull/36027.diff","patch_url":"https://github.com/apache/spark/pull/36027.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36027","number":36027,"state":"closed","locked":false,"title":"[SPARK-38717][SQL] Handle Hive's bucket spec case preserving behaviour","user":{"login":"peter-toth","id":7253827,"node_id":"MDQ6VXNlcjcyNTM4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/7253827?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-toth","html_url":"https://github.com/peter-toth","followers_url":"https://api.github.com/users/peter-toth/followers","following_url":"https://api.github.com/users/peter-toth/following{/other_user}","gists_url":"https://api.github.com/users/peter-toth/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-toth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-toth/subscriptions","organizations_url":"https://api.github.com/users/peter-toth/orgs","repos_url":"https://api.github.com/users/peter-toth/repos","events_url":"https://api.github.com/users/peter-toth/events{/privacy}","received_events_url":"https://api.github.com/users/peter-toth/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nWhen converting a native table metadata representation `CatalogTable` to `HiveTable` make sure bucket spec uses an existing column.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nHive metastore seems to be not case preserving with columns but case preserving with bucket spec, which means the following table creation:\r\n```\r\n  CREATE TABLE t(\r\n    c STRING,\r\n    B_C STRING\r\n  )\r\n  PARTITIONED BY (p_c STRING)\r\n  CLUSTERED BY (B_C) INTO 4 BUCKETS\r\n  STORED AS PARQUET\r\n```\r\nfollowed by a query:\r\n```\r\n  SELECT * FROM t\r\n```\r\nfails with:\r\n```\r\nCaused by: org.apache.hadoop.hive.ql.metadata.HiveException: Bucket columns B_C is not part of the table columns ([FieldSchema(name:c, type:string, comment:null), FieldSchema(name:b_c, type:string, comment:null)]\r\n```\r\n\r\n### Why are the changes needed?\r\nBug fix.\r\n\r\n### How was this patch tested?\r\nAdded new UT.\r\n","created_at":"2022-03-31T16:45:47Z","updated_at":"2022-09-23T10:24:13Z","closed_at":"2022-09-23T09:30:40Z","merged_at":null,"merge_commit_sha":"1ced41e4b41dd4ec68b8dcc2048e5a0819bdd314","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36027/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36027/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36027/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/2d12b855557556c463deb2d4288ddb16fc71bcba","head":{"label":"peter-toth:SPARK-38717-handle-upper-case-bucket-spec","ref":"SPARK-38717-handle-upper-case-bucket-spec","sha":"2d12b855557556c463deb2d4288ddb16fc71bcba","user":{"login":"peter-toth","id":7253827,"node_id":"MDQ6VXNlcjcyNTM4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/7253827?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-toth","html_url":"https://github.com/peter-toth","followers_url":"https://api.github.com/users/peter-toth/followers","following_url":"https://api.github.com/users/peter-toth/following{/other_user}","gists_url":"https://api.github.com/users/peter-toth/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-toth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-toth/subscriptions","organizations_url":"https://api.github.com/users/peter-toth/orgs","repos_url":"https://api.github.com/users/peter-toth/repos","events_url":"https://api.github.com/users/peter-toth/events{/privacy}","received_events_url":"https://api.github.com/users/peter-toth/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":130546049,"node_id":"MDEwOlJlcG9zaXRvcnkxMzA1NDYwNDk=","name":"spark","full_name":"peter-toth/spark","private":false,"owner":{"login":"peter-toth","id":7253827,"node_id":"MDQ6VXNlcjcyNTM4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/7253827?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-toth","html_url":"https://github.com/peter-toth","followers_url":"https://api.github.com/users/peter-toth/followers","following_url":"https://api.github.com/users/peter-toth/following{/other_user}","gists_url":"https://api.github.com/users/peter-toth/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-toth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-toth/subscriptions","organizations_url":"https://api.github.com/users/peter-toth/orgs","repos_url":"https://api.github.com/users/peter-toth/repos","events_url":"https://api.github.com/users/peter-toth/events{/privacy}","received_events_url":"https://api.github.com/users/peter-toth/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/peter-toth/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/peter-toth/spark","forks_url":"https://api.github.com/repos/peter-toth/spark/forks","keys_url":"https://api.github.com/repos/peter-toth/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/peter-toth/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/peter-toth/spark/teams","hooks_url":"https://api.github.com/repos/peter-toth/spark/hooks","issue_events_url":"https://api.github.com/repos/peter-toth/spark/issues/events{/number}","events_url":"https://api.github.com/repos/peter-toth/spark/events","assignees_url":"https://api.github.com/repos/peter-toth/spark/assignees{/user}","branches_url":"https://api.github.com/repos/peter-toth/spark/branches{/branch}","tags_url":"https://api.github.com/repos/peter-toth/spark/tags","blobs_url":"https://api.github.com/repos/peter-toth/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/peter-toth/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/peter-toth/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/peter-toth/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/peter-toth/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/peter-toth/spark/languages","stargazers_url":"https://api.github.com/repos/peter-toth/spark/stargazers","contributors_url":"https://api.github.com/repos/peter-toth/spark/contributors","subscribers_url":"https://api.github.com/repos/peter-toth/spark/subscribers","subscription_url":"https://api.github.com/repos/peter-toth/spark/subscription","commits_url":"https://api.github.com/repos/peter-toth/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/peter-toth/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/peter-toth/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/peter-toth/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/peter-toth/spark/contents/{+path}","compare_url":"https://api.github.com/repos/peter-toth/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/peter-toth/spark/merges","archive_url":"https://api.github.com/repos/peter-toth/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/peter-toth/spark/downloads","issues_url":"https://api.github.com/repos/peter-toth/spark/issues{/number}","pulls_url":"https://api.github.com/repos/peter-toth/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/peter-toth/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/peter-toth/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/peter-toth/spark/labels{/name}","releases_url":"https://api.github.com/repos/peter-toth/spark/releases{/id}","deployments_url":"https://api.github.com/repos/peter-toth/spark/deployments","created_at":"2018-04-22T07:43:37Z","updated_at":"2025-01-06T11:44:37Z","pushed_at":"2025-01-07T12:36:36Z","git_url":"git://github.com/peter-toth/spark.git","ssh_url":"git@github.com:peter-toth/spark.git","clone_url":"https://github.com/peter-toth/spark.git","svn_url":"https://github.com/peter-toth/spark","homepage":null,"size":498613,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"f6c4e58b85d7486c70cd6d58aae208f037e657fa","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36027"},"html":{"href":"https://github.com/apache/spark/pull/36027"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36027"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36027/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36027/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36027/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/2d12b855557556c463deb2d4288ddb16fc71bcba"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36026","id":896088562,"node_id":"PR_kwDOAQXtWs41aTny","html_url":"https://github.com/apache/spark/pull/36026","diff_url":"https://github.com/apache/spark/pull/36026.diff","patch_url":"https://github.com/apache/spark/pull/36026.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36026","number":36026,"state":"closed","locked":false,"title":"[SPARK-38588][ML][FOLLOWUP] fix ga failed at `Bernoulli: check vectors`","user":{"login":"jackylee-ch","id":10897625,"node_id":"MDQ6VXNlcjEwODk3NjI1","avatar_url":"https://avatars.githubusercontent.com/u/10897625?v=4","gravatar_id":"","url":"https://api.github.com/users/jackylee-ch","html_url":"https://github.com/jackylee-ch","followers_url":"https://api.github.com/users/jackylee-ch/followers","following_url":"https://api.github.com/users/jackylee-ch/following{/other_user}","gists_url":"https://api.github.com/users/jackylee-ch/gists{/gist_id}","starred_url":"https://api.github.com/users/jackylee-ch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackylee-ch/subscriptions","organizations_url":"https://api.github.com/users/jackylee-ch/orgs","repos_url":"https://api.github.com/users/jackylee-ch/repos","events_url":"https://api.github.com/users/jackylee-ch/events{/privacy}","received_events_url":"https://api.github.com/users/jackylee-ch/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### Why are the changes needed?\r\nGA failed at `Bernoulli: check vectors` in `NaiveBayesSuite`.\r\nThe first case in `Bernoulli: check vectors` tried to check Exception while value is null, however the other given value is not valid to this case, thus we got the error message of `Vector values MUST be in {0, 1}, but got [1.0,2.0]`.\r\nThe relevant code can be found [here](https://github.com/apache/spark/blob/master/mllib/src/main/scala/org/apache/spark/ml/classification/NaiveBayes.scala#L183), we check for null first, and then check if the data is reasonable\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nGA passed.","created_at":"2022-03-31T16:10:06Z","updated_at":"2022-04-01T03:15:46Z","closed_at":"2022-04-01T02:04:51Z","merged_at":null,"merge_commit_sha":"180d68fe35ef09c293a029fe2d9231593bdcdc85","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36026/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36026/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36026/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/00634e59179b70f4f361e892f9fd2af8c67061d1","head":{"label":"jackylee-ch:fix_ga_failed","ref":"fix_ga_failed","sha":"00634e59179b70f4f361e892f9fd2af8c67061d1","user":{"login":"jackylee-ch","id":10897625,"node_id":"MDQ6VXNlcjEwODk3NjI1","avatar_url":"https://avatars.githubusercontent.com/u/10897625?v=4","gravatar_id":"","url":"https://api.github.com/users/jackylee-ch","html_url":"https://github.com/jackylee-ch","followers_url":"https://api.github.com/users/jackylee-ch/followers","following_url":"https://api.github.com/users/jackylee-ch/following{/other_user}","gists_url":"https://api.github.com/users/jackylee-ch/gists{/gist_id}","starred_url":"https://api.github.com/users/jackylee-ch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackylee-ch/subscriptions","organizations_url":"https://api.github.com/users/jackylee-ch/orgs","repos_url":"https://api.github.com/users/jackylee-ch/repos","events_url":"https://api.github.com/users/jackylee-ch/events{/privacy}","received_events_url":"https://api.github.com/users/jackylee-ch/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":150664479,"node_id":"MDEwOlJlcG9zaXRvcnkxNTA2NjQ0Nzk=","name":"spark","full_name":"jackylee-ch/spark","private":false,"owner":{"login":"jackylee-ch","id":10897625,"node_id":"MDQ6VXNlcjEwODk3NjI1","avatar_url":"https://avatars.githubusercontent.com/u/10897625?v=4","gravatar_id":"","url":"https://api.github.com/users/jackylee-ch","html_url":"https://github.com/jackylee-ch","followers_url":"https://api.github.com/users/jackylee-ch/followers","following_url":"https://api.github.com/users/jackylee-ch/following{/other_user}","gists_url":"https://api.github.com/users/jackylee-ch/gists{/gist_id}","starred_url":"https://api.github.com/users/jackylee-ch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackylee-ch/subscriptions","organizations_url":"https://api.github.com/users/jackylee-ch/orgs","repos_url":"https://api.github.com/users/jackylee-ch/repos","events_url":"https://api.github.com/users/jackylee-ch/events{/privacy}","received_events_url":"https://api.github.com/users/jackylee-ch/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/jackylee-ch/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/jackylee-ch/spark","forks_url":"https://api.github.com/repos/jackylee-ch/spark/forks","keys_url":"https://api.github.com/repos/jackylee-ch/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/jackylee-ch/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/jackylee-ch/spark/teams","hooks_url":"https://api.github.com/repos/jackylee-ch/spark/hooks","issue_events_url":"https://api.github.com/repos/jackylee-ch/spark/issues/events{/number}","events_url":"https://api.github.com/repos/jackylee-ch/spark/events","assignees_url":"https://api.github.com/repos/jackylee-ch/spark/assignees{/user}","branches_url":"https://api.github.com/repos/jackylee-ch/spark/branches{/branch}","tags_url":"https://api.github.com/repos/jackylee-ch/spark/tags","blobs_url":"https://api.github.com/repos/jackylee-ch/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/jackylee-ch/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/jackylee-ch/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/jackylee-ch/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/jackylee-ch/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/jackylee-ch/spark/languages","stargazers_url":"https://api.github.com/repos/jackylee-ch/spark/stargazers","contributors_url":"https://api.github.com/repos/jackylee-ch/spark/contributors","subscribers_url":"https://api.github.com/repos/jackylee-ch/spark/subscribers","subscription_url":"https://api.github.com/repos/jackylee-ch/spark/subscription","commits_url":"https://api.github.com/repos/jackylee-ch/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/jackylee-ch/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/jackylee-ch/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/jackylee-ch/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/jackylee-ch/spark/contents/{+path}","compare_url":"https://api.github.com/repos/jackylee-ch/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/jackylee-ch/spark/merges","archive_url":"https://api.github.com/repos/jackylee-ch/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/jackylee-ch/spark/downloads","issues_url":"https://api.github.com/repos/jackylee-ch/spark/issues{/number}","pulls_url":"https://api.github.com/repos/jackylee-ch/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/jackylee-ch/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/jackylee-ch/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/jackylee-ch/spark/labels{/name}","releases_url":"https://api.github.com/repos/jackylee-ch/spark/releases{/id}","deployments_url":"https://api.github.com/repos/jackylee-ch/spark/deployments","created_at":"2018-09-28T00:44:20Z","updated_at":"2025-02-06T09:34:29Z","pushed_at":"2025-02-06T09:33:13Z","git_url":"git://github.com/jackylee-ch/spark.git","ssh_url":"git@github.com:jackylee-ch/spark.git","clone_url":"https://github.com/jackylee-ch/spark.git","svn_url":"https://github.com/jackylee-ch/spark","homepage":null,"size":458481,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"b70fa24304e524255df8b19c31666699e2642583","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36026"},"html":{"href":"https://github.com/apache/spark/pull/36026"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36026"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36026/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36026/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36026/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/00634e59179b70f4f361e892f9fd2af8c67061d1"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36025","id":895917104,"node_id":"PR_kwDOAQXtWs41Zpww","html_url":"https://github.com/apache/spark/pull/36025","diff_url":"https://github.com/apache/spark/pull/36025.diff","patch_url":"https://github.com/apache/spark/pull/36025.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36025","number":36025,"state":"closed","locked":false,"title":"[SPARK-38716][SQL] Provide query context in map key not exists error","user":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nProvide query context in `map key does not exist` runtime error with ANSI SQL mode on, including\r\n- operator `[]`\r\n- function `element_at()` \r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nProvide SQL query context of runtime errors to users, so that they can understand it better.\r\n\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes, improve the runtime error message of  \"map key does not exist\"\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUT","created_at":"2022-03-31T13:54:51Z","updated_at":"2022-04-01T03:40:51Z","closed_at":"2022-04-01T03:40:51Z","merged_at":null,"merge_commit_sha":"029690d5717567e0a10f90bb886a027760f01f22","assignee":null,"assignees":[],"requested_reviewers":[{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36025/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36025/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36025/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/ffa5f59030af84ab50edb2add9117fced536c71c","head":{"label":"gengliangwang:mapKeyContext","ref":"mapKeyContext","sha":"ffa5f59030af84ab50edb2add9117fced536c71c","user":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":95047635,"node_id":"MDEwOlJlcG9zaXRvcnk5NTA0NzYzNQ==","name":"spark","full_name":"gengliangwang/spark","private":false,"owner":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/gengliangwang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/gengliangwang/spark","forks_url":"https://api.github.com/repos/gengliangwang/spark/forks","keys_url":"https://api.github.com/repos/gengliangwang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/gengliangwang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/gengliangwang/spark/teams","hooks_url":"https://api.github.com/repos/gengliangwang/spark/hooks","issue_events_url":"https://api.github.com/repos/gengliangwang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/gengliangwang/spark/events","assignees_url":"https://api.github.com/repos/gengliangwang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/gengliangwang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/gengliangwang/spark/tags","blobs_url":"https://api.github.com/repos/gengliangwang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/gengliangwang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/gengliangwang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/gengliangwang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/gengliangwang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/gengliangwang/spark/languages","stargazers_url":"https://api.github.com/repos/gengliangwang/spark/stargazers","contributors_url":"https://api.github.com/repos/gengliangwang/spark/contributors","subscribers_url":"https://api.github.com/repos/gengliangwang/spark/subscribers","subscription_url":"https://api.github.com/repos/gengliangwang/spark/subscription","commits_url":"https://api.github.com/repos/gengliangwang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/gengliangwang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/gengliangwang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/gengliangwang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/gengliangwang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/gengliangwang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/gengliangwang/spark/merges","archive_url":"https://api.github.com/repos/gengliangwang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/gengliangwang/spark/downloads","issues_url":"https://api.github.com/repos/gengliangwang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/gengliangwang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/gengliangwang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/gengliangwang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/gengliangwang/spark/labels{/name}","releases_url":"https://api.github.com/repos/gengliangwang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/gengliangwang/spark/deployments","created_at":"2017-06-21T21:26:20Z","updated_at":"2022-01-05T09:39:12Z","pushed_at":"2025-02-07T19:52:00Z","git_url":"git://github.com/gengliangwang/spark.git","ssh_url":"git@github.com:gengliangwang/spark.git","clone_url":"https://github.com/gengliangwang/spark.git","svn_url":"https://github.com/gengliangwang/spark","homepage":null,"size":481326,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"f48602912b4d967a59085226345e056bc39d865e","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36025"},"html":{"href":"https://github.com/apache/spark/pull/36025"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36025"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36025/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36025/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36025/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/ffa5f59030af84ab50edb2add9117fced536c71c"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36024","id":895736138,"node_id":"PR_kwDOAQXtWs41Y9lK","html_url":"https://github.com/apache/spark/pull/36024","diff_url":"https://github.com/apache/spark/pull/36024.diff","patch_url":"https://github.com/apache/spark/pull/36024.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36024","number":36024,"state":"closed","locked":false,"title":"[SPARK-38712][SQL] Fix perf regression in PhysicalOperation","user":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nhttps://github.com/apache/spark/pull/33958 introduced a perf regression in SQL compiler in Spark 3.3. The `PhysicalOperation` pattern match now needs to transform the expression tree twice when it calls `replaceAliasButKeepName`, while before it only transform the expression tree once. This can bring significant slowdown if a `Project` has many fields and each field is a complicated expression tree.\r\n\r\nThis PR improves `AliasHelper.replaceAliasButKeepName` to only transform the expression tree once like before.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nFix perf regression\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nThis fixes the perf regression in our internal workload when trying Spark 3.3. I also wrote a simple benchmark to verify it\r\n```\r\n    val plan = Project(Alias(relation.output.head, \"name\")() :: Nil, relation)\r\n    var expr = new Substring(plan.output.head, Literal(1))\r\n    for (_ <- 1 to 1000) {\r\n      expr = new Substring(expr, Literal(1))\r\n    }\r\n    val fields = 1.to(1000).map(i => Alias(expr, s\"col$i\")())\r\n    val plan2 = Project(fields, plan)\r\n    val start = System.currentTimeMillis()\r\n    plan2 match {\r\n      case ScanOperation(_, _, _) => Nil\r\n    }\r\n    println(System.currentTimeMillis() - start)\r\n```\r\nThis takes 22 seconds before my PR and 15 seconds after my PR.","created_at":"2022-03-31T11:10:38Z","updated_at":"2022-03-31T14:53:35Z","closed_at":"2022-03-31T14:53:34Z","merged_at":null,"merge_commit_sha":"7bf0440ba4e07bb310ae2ed31166579cf34fbd88","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36024/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36024/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36024/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/d94ca35e275f0c0a296563fcb0bca2f4524751ed","head":{"label":"cloud-fan:perf","ref":"perf","sha":"d94ca35e275f0c0a296563fcb0bca2f4524751ed","user":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":19689699,"node_id":"MDEwOlJlcG9zaXRvcnkxOTY4OTY5OQ==","name":"spark","full_name":"cloud-fan/spark","private":false,"owner":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/cloud-fan/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/cloud-fan/spark","forks_url":"https://api.github.com/repos/cloud-fan/spark/forks","keys_url":"https://api.github.com/repos/cloud-fan/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cloud-fan/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cloud-fan/spark/teams","hooks_url":"https://api.github.com/repos/cloud-fan/spark/hooks","issue_events_url":"https://api.github.com/repos/cloud-fan/spark/issues/events{/number}","events_url":"https://api.github.com/repos/cloud-fan/spark/events","assignees_url":"https://api.github.com/repos/cloud-fan/spark/assignees{/user}","branches_url":"https://api.github.com/repos/cloud-fan/spark/branches{/branch}","tags_url":"https://api.github.com/repos/cloud-fan/spark/tags","blobs_url":"https://api.github.com/repos/cloud-fan/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cloud-fan/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cloud-fan/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/cloud-fan/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cloud-fan/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/cloud-fan/spark/languages","stargazers_url":"https://api.github.com/repos/cloud-fan/spark/stargazers","contributors_url":"https://api.github.com/repos/cloud-fan/spark/contributors","subscribers_url":"https://api.github.com/repos/cloud-fan/spark/subscribers","subscription_url":"https://api.github.com/repos/cloud-fan/spark/subscription","commits_url":"https://api.github.com/repos/cloud-fan/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/cloud-fan/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/cloud-fan/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/cloud-fan/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/cloud-fan/spark/contents/{+path}","compare_url":"https://api.github.com/repos/cloud-fan/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cloud-fan/spark/merges","archive_url":"https://api.github.com/repos/cloud-fan/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cloud-fan/spark/downloads","issues_url":"https://api.github.com/repos/cloud-fan/spark/issues{/number}","pulls_url":"https://api.github.com/repos/cloud-fan/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/cloud-fan/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/cloud-fan/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cloud-fan/spark/labels{/name}","releases_url":"https://api.github.com/repos/cloud-fan/spark/releases{/id}","deployments_url":"https://api.github.com/repos/cloud-fan/spark/deployments","created_at":"2014-05-12T07:32:26Z","updated_at":"2022-06-21T07:59:41Z","pushed_at":"2025-02-07T13:15:09Z","git_url":"git://github.com/cloud-fan/spark.git","ssh_url":"git@github.com:cloud-fan/spark.git","clone_url":"https://github.com/cloud-fan/spark.git","svn_url":"https://github.com/cloud-fan/spark","homepage":null,"size":467110,"stargazers_count":3,"watchers_count":3,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":3,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"454fe9c8eb1903e1f199e4d5e13b171e519f793e","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36024"},"html":{"href":"https://github.com/apache/spark/pull/36024"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36024"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36024/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36024/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36024/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/d94ca35e275f0c0a296563fcb0bca2f4524751ed"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36023","id":895591653,"node_id":"PR_kwDOAQXtWs41YaTl","html_url":"https://github.com/apache/spark/pull/36023","diff_url":"https://github.com/apache/spark/pull/36023.diff","patch_url":"https://github.com/apache/spark/pull/36023.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36023","number":36023,"state":"closed","locked":false,"title":"[SPARK-38711][PYTHON][SS] Refactor pyspark.sql.streaming module","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR changes `pyspark/sql/streaming.py` module to a package with two files: `pyspark/sql/streaming/query.py` and `pyspark/sql/streaming/readwriter.py`. This is similar with `pyspark/sql/dataframe.py` and `pyspark/sql/readwriter.py`.\r\n\r\nThere should be no user facing change because I kept the existing import at `pyspark/sql/streaming/__init__.py`.\r\n\r\n### Why are the changes needed?\r\n\r\nTo make the codes easier to read.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo, dev-only.\r\n\r\n### How was this patch tested?\r\n\r\nExisting test cases should cover this change.","created_at":"2022-03-31T09:09:38Z","updated_at":"2024-01-15T00:53:43Z","closed_at":"2022-03-31T23:30:07Z","merged_at":null,"merge_commit_sha":"839a262d25efa5aef13f3ecc34381f245605da1b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982110661,"node_id":"MDU6TGFiZWwxOTgyMTEwNjYx","url":"https://api.github.com/repos/apache/spark/labels/INFRA","name":"INFRA","color":"ededed","default":false,"description":null},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36023/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36023/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36023/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/df3e6450a02d336a2dd91ae7a31daf8c6d240847","head":{"label":"HyukjinKwon:refactoring-streaming-module","ref":"refactoring-streaming-module","sha":"df3e6450a02d336a2dd91ae7a31daf8c6d240847","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"794420fcddcacbb655ea88c4015d0a309b410bda","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36023"},"html":{"href":"https://github.com/apache/spark/pull/36023"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36023"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36023/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36023/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36023/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/df3e6450a02d336a2dd91ae7a31daf8c6d240847"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36022","id":895509583,"node_id":"PR_kwDOAQXtWs41YGRP","html_url":"https://github.com/apache/spark/pull/36022","diff_url":"https://github.com/apache/spark/pull/36022.diff","patch_url":"https://github.com/apache/spark/pull/36022.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36022","number":36022,"state":"closed","locked":false,"title":"[SPARK-38710][SQL] Use SparkArithmeticException for arithmetic overflow runtime errors","user":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nOn arithmetic overflow runtime errors, Spark should throw SparkArithmeticException instead of `java.lang.ArithmeticException`\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nUse a better error exception type.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes, trivial change on the exception type: on arithmetic overflow runtime errors, Spark will throw SparkArithmeticException instead of `java.lang.ArithmeticException`\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUT","created_at":"2022-03-31T07:48:17Z","updated_at":"2022-04-11T13:55:27Z","closed_at":"2022-03-31T15:22:34Z","merged_at":null,"merge_commit_sha":"9726d53aa050ec09f8b44f4323a3e59561c58c25","assignee":null,"assignees":[],"requested_reviewers":[{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36022/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36022/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36022/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/61f60d14816592e40c86698ab47600274cebd93a","head":{"label":"gengliangwang:ArithmeticException","ref":"ArithmeticException","sha":"61f60d14816592e40c86698ab47600274cebd93a","user":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":95047635,"node_id":"MDEwOlJlcG9zaXRvcnk5NTA0NzYzNQ==","name":"spark","full_name":"gengliangwang/spark","private":false,"owner":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/gengliangwang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/gengliangwang/spark","forks_url":"https://api.github.com/repos/gengliangwang/spark/forks","keys_url":"https://api.github.com/repos/gengliangwang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/gengliangwang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/gengliangwang/spark/teams","hooks_url":"https://api.github.com/repos/gengliangwang/spark/hooks","issue_events_url":"https://api.github.com/repos/gengliangwang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/gengliangwang/spark/events","assignees_url":"https://api.github.com/repos/gengliangwang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/gengliangwang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/gengliangwang/spark/tags","blobs_url":"https://api.github.com/repos/gengliangwang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/gengliangwang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/gengliangwang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/gengliangwang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/gengliangwang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/gengliangwang/spark/languages","stargazers_url":"https://api.github.com/repos/gengliangwang/spark/stargazers","contributors_url":"https://api.github.com/repos/gengliangwang/spark/contributors","subscribers_url":"https://api.github.com/repos/gengliangwang/spark/subscribers","subscription_url":"https://api.github.com/repos/gengliangwang/spark/subscription","commits_url":"https://api.github.com/repos/gengliangwang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/gengliangwang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/gengliangwang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/gengliangwang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/gengliangwang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/gengliangwang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/gengliangwang/spark/merges","archive_url":"https://api.github.com/repos/gengliangwang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/gengliangwang/spark/downloads","issues_url":"https://api.github.com/repos/gengliangwang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/gengliangwang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/gengliangwang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/gengliangwang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/gengliangwang/spark/labels{/name}","releases_url":"https://api.github.com/repos/gengliangwang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/gengliangwang/spark/deployments","created_at":"2017-06-21T21:26:20Z","updated_at":"2022-01-05T09:39:12Z","pushed_at":"2025-02-07T19:52:00Z","git_url":"git://github.com/gengliangwang/spark.git","ssh_url":"git@github.com:gengliangwang/spark.git","clone_url":"https://github.com/gengliangwang/spark.git","svn_url":"https://github.com/gengliangwang/spark","homepage":null,"size":481326,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d790f3e144f63dc0e7a1ecb754cdfc69f568cc8c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36022"},"html":{"href":"https://github.com/apache/spark/pull/36022"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36022"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36022/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36022/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36022/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/61f60d14816592e40c86698ab47600274cebd93a"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36021","id":895391660,"node_id":"PR_kwDOAQXtWs41Xpes","html_url":"https://github.com/apache/spark/pull/36021","diff_url":"https://github.com/apache/spark/pull/36021.diff","patch_url":"https://github.com/apache/spark/pull/36021.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36021","number":36021,"state":"closed","locked":false,"title":"[SPARK-38709][SQL] Remove trailing $ from function class name in sql-expression-schema.md","user":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nIt's a bit weird to see class names like `CeilExpressionBuilder$` in `sql-expression-schema.md`. This PR removes the trailing `$`.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\ncode cleanup\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nexisting tests","created_at":"2022-03-31T05:09:50Z","updated_at":"2022-03-31T10:32:07Z","closed_at":"2022-03-31T07:52:33Z","merged_at":null,"merge_commit_sha":"c17e4f22e3b35edf68f8714766ecf64f15bb6170","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36021/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36021/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36021/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3379cb0da5b192b2d8bbf039be414e33d03db50b","head":{"label":"cloud-fan:minor","ref":"minor","sha":"3379cb0da5b192b2d8bbf039be414e33d03db50b","user":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":19689699,"node_id":"MDEwOlJlcG9zaXRvcnkxOTY4OTY5OQ==","name":"spark","full_name":"cloud-fan/spark","private":false,"owner":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/cloud-fan/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/cloud-fan/spark","forks_url":"https://api.github.com/repos/cloud-fan/spark/forks","keys_url":"https://api.github.com/repos/cloud-fan/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cloud-fan/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cloud-fan/spark/teams","hooks_url":"https://api.github.com/repos/cloud-fan/spark/hooks","issue_events_url":"https://api.github.com/repos/cloud-fan/spark/issues/events{/number}","events_url":"https://api.github.com/repos/cloud-fan/spark/events","assignees_url":"https://api.github.com/repos/cloud-fan/spark/assignees{/user}","branches_url":"https://api.github.com/repos/cloud-fan/spark/branches{/branch}","tags_url":"https://api.github.com/repos/cloud-fan/spark/tags","blobs_url":"https://api.github.com/repos/cloud-fan/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cloud-fan/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cloud-fan/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/cloud-fan/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cloud-fan/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/cloud-fan/spark/languages","stargazers_url":"https://api.github.com/repos/cloud-fan/spark/stargazers","contributors_url":"https://api.github.com/repos/cloud-fan/spark/contributors","subscribers_url":"https://api.github.com/repos/cloud-fan/spark/subscribers","subscription_url":"https://api.github.com/repos/cloud-fan/spark/subscription","commits_url":"https://api.github.com/repos/cloud-fan/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/cloud-fan/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/cloud-fan/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/cloud-fan/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/cloud-fan/spark/contents/{+path}","compare_url":"https://api.github.com/repos/cloud-fan/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cloud-fan/spark/merges","archive_url":"https://api.github.com/repos/cloud-fan/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cloud-fan/spark/downloads","issues_url":"https://api.github.com/repos/cloud-fan/spark/issues{/number}","pulls_url":"https://api.github.com/repos/cloud-fan/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/cloud-fan/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/cloud-fan/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cloud-fan/spark/labels{/name}","releases_url":"https://api.github.com/repos/cloud-fan/spark/releases{/id}","deployments_url":"https://api.github.com/repos/cloud-fan/spark/deployments","created_at":"2014-05-12T07:32:26Z","updated_at":"2022-06-21T07:59:41Z","pushed_at":"2025-02-07T13:15:09Z","git_url":"git://github.com/cloud-fan/spark.git","ssh_url":"git@github.com:cloud-fan/spark.git","clone_url":"https://github.com/cloud-fan/spark.git","svn_url":"https://github.com/cloud-fan/spark","homepage":null,"size":467110,"stargazers_count":3,"watchers_count":3,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":3,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"60d09213105f235793f3418d79e6755561a19b15","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36021"},"html":{"href":"https://github.com/apache/spark/pull/36021"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36021"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36021/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36021/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36021/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3379cb0da5b192b2d8bbf039be414e33d03db50b"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36020","id":895326423,"node_id":"PR_kwDOAQXtWs41XZjX","html_url":"https://github.com/apache/spark/pull/36020","diff_url":"https://github.com/apache/spark/pull/36020.diff","patch_url":"https://github.com/apache/spark/pull/36020.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36020","number":36020,"state":"closed","locked":false,"title":"[SPARK-38707][SQL] Allow user to insert into only certain columns of a table","user":{"login":"morvenhuang","id":7865928,"node_id":"MDQ6VXNlcjc4NjU5Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/7865928?v=4","gravatar_id":"","url":"https://api.github.com/users/morvenhuang","html_url":"https://github.com/morvenhuang","followers_url":"https://api.github.com/users/morvenhuang/followers","following_url":"https://api.github.com/users/morvenhuang/following{/other_user}","gists_url":"https://api.github.com/users/morvenhuang/gists{/gist_id}","starred_url":"https://api.github.com/users/morvenhuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morvenhuang/subscriptions","organizations_url":"https://api.github.com/users/morvenhuang/orgs","repos_url":"https://api.github.com/users/morvenhuang/repos","events_url":"https://api.github.com/users/morvenhuang/events{/privacy}","received_events_url":"https://api.github.com/users/morvenhuang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\n### What changes were proposed in this pull request?\r\nUpdate the column number check logic for INSERT INTO statement, avoid checking all columns of the table when user has specified a column list in the statement.\r\n\r\n\r\n### Why are the changes needed?\r\nWhen running INSERT INTO statement, it's quite common that user wants to insert only certain columns, especially when the rest columns have default value. \r\n\r\nCurrently, spark allows user to specify column list for INSERT INTO statement only when the column list contains all columns of the table. If user does not provided a completed list of column, it will result in an AnalysisException.\r\n\r\nThis patch allows user to insert into only certain columns of the table, which will help when excuting INSERT INTO, especially when excuting them on RDBMS.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes.\r\n\r\n\r\n### How was this patch tested?\r\nNew test case added.\r\n","created_at":"2022-03-31T03:32:26Z","updated_at":"2022-04-08T01:47:12Z","closed_at":"2022-04-08T01:31:49Z","merged_at":null,"merge_commit_sha":"ad8d4b8a02ee58c54a22dc0f6abb96037dc74d35","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36020/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36020/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36020/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/85eb874113cd320ab1f45a4d4fa2908e3600547e","head":{"label":"morvenhuang:SPARK-38707","ref":"SPARK-38707","sha":"85eb874113cd320ab1f45a4d4fa2908e3600547e","user":{"login":"morvenhuang","id":7865928,"node_id":"MDQ6VXNlcjc4NjU5Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/7865928?v=4","gravatar_id":"","url":"https://api.github.com/users/morvenhuang","html_url":"https://github.com/morvenhuang","followers_url":"https://api.github.com/users/morvenhuang/followers","following_url":"https://api.github.com/users/morvenhuang/following{/other_user}","gists_url":"https://api.github.com/users/morvenhuang/gists{/gist_id}","starred_url":"https://api.github.com/users/morvenhuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morvenhuang/subscriptions","organizations_url":"https://api.github.com/users/morvenhuang/orgs","repos_url":"https://api.github.com/users/morvenhuang/repos","events_url":"https://api.github.com/users/morvenhuang/events{/privacy}","received_events_url":"https://api.github.com/users/morvenhuang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":459084771,"node_id":"R_kgDOG10T4w","name":"spark","full_name":"morvenhuang/spark","private":false,"owner":{"login":"morvenhuang","id":7865928,"node_id":"MDQ6VXNlcjc4NjU5Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/7865928?v=4","gravatar_id":"","url":"https://api.github.com/users/morvenhuang","html_url":"https://github.com/morvenhuang","followers_url":"https://api.github.com/users/morvenhuang/followers","following_url":"https://api.github.com/users/morvenhuang/following{/other_user}","gists_url":"https://api.github.com/users/morvenhuang/gists{/gist_id}","starred_url":"https://api.github.com/users/morvenhuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morvenhuang/subscriptions","organizations_url":"https://api.github.com/users/morvenhuang/orgs","repos_url":"https://api.github.com/users/morvenhuang/repos","events_url":"https://api.github.com/users/morvenhuang/events{/privacy}","received_events_url":"https://api.github.com/users/morvenhuang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/morvenhuang/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/morvenhuang/spark","forks_url":"https://api.github.com/repos/morvenhuang/spark/forks","keys_url":"https://api.github.com/repos/morvenhuang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/morvenhuang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/morvenhuang/spark/teams","hooks_url":"https://api.github.com/repos/morvenhuang/spark/hooks","issue_events_url":"https://api.github.com/repos/morvenhuang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/morvenhuang/spark/events","assignees_url":"https://api.github.com/repos/morvenhuang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/morvenhuang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/morvenhuang/spark/tags","blobs_url":"https://api.github.com/repos/morvenhuang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/morvenhuang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/morvenhuang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/morvenhuang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/morvenhuang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/morvenhuang/spark/languages","stargazers_url":"https://api.github.com/repos/morvenhuang/spark/stargazers","contributors_url":"https://api.github.com/repos/morvenhuang/spark/contributors","subscribers_url":"https://api.github.com/repos/morvenhuang/spark/subscribers","subscription_url":"https://api.github.com/repos/morvenhuang/spark/subscription","commits_url":"https://api.github.com/repos/morvenhuang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/morvenhuang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/morvenhuang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/morvenhuang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/morvenhuang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/morvenhuang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/morvenhuang/spark/merges","archive_url":"https://api.github.com/repos/morvenhuang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/morvenhuang/spark/downloads","issues_url":"https://api.github.com/repos/morvenhuang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/morvenhuang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/morvenhuang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/morvenhuang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/morvenhuang/spark/labels{/name}","releases_url":"https://api.github.com/repos/morvenhuang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/morvenhuang/spark/deployments","created_at":"2022-02-14T08:57:14Z","updated_at":"2025-01-06T08:39:39Z","pushed_at":"2025-01-06T08:39:22Z","git_url":"git://github.com/morvenhuang/spark.git","ssh_url":"git@github.com:morvenhuang/spark.git","clone_url":"https://github.com/morvenhuang/spark.git","svn_url":"https://github.com/morvenhuang/spark","homepage":"https://spark.apache.org/","size":460789,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"a6b04f007c07fe00637aa8be33a56f247a494110","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36020"},"html":{"href":"https://github.com/apache/spark/pull/36020"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36020"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36020/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36020/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36020/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/85eb874113cd320ab1f45a4d4fa2908e3600547e"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36019","id":895321697,"node_id":"PR_kwDOAQXtWs41XYZh","html_url":"https://github.com/apache/spark/pull/36019","diff_url":"https://github.com/apache/spark/pull/36019.diff","patch_url":"https://github.com/apache/spark/pull/36019.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36019","number":36019,"state":"closed","locked":false,"title":"[SPARK-37206][BUILD][FOLLOWUP] Update avro to 1.11.0 in `SparkBuild.scala` and docs","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis is a follow-up of https://github.com/apache/spark/pull/34482 to update the Avro version consistently in both Maven and SBT.\r\n\r\nIn addition, this also reviews and updates the doc links and adds a note for the future.\r\n\r\n### Why are the changes needed?\r\n\r\nDue to the mismatch, there occur some compilation failures in some systems.\r\n```\r\n$ build/mvn dependency:tree -pl core | grep avro\r\n[INFO] +- org.apache.avro:avro:jar:1.11.0:compile\r\n[INFO] +- org.apache.avro:avro-mapred:jar:1.11.0:compile\r\n[INFO] |  \\- org.apache.avro:avro-ipc:jar:1.11.0:compile\r\n```\r\n\r\n```\r\n$ build/sbt \"core/dependencyTree\" | grep avro\r\n[info]   +-org.apache.avro:avro-mapred:1.11.0\r\n[info]   | +-org.apache.avro:avro-ipc:1.11.0\r\n[info]   | | +-org.apache.avro:avro:1.10.2\r\n[info]   +-org.apache.avro:avro:1.10.2\r\n```\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nManually verified.","created_at":"2022-03-31T03:24:36Z","updated_at":"2022-03-31T07:06:30Z","closed_at":"2022-03-31T07:00:17Z","merged_at":null,"merge_commit_sha":"0e013e619745970bcf7e62f5a4c746c060837398","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null},{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36019/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36019/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36019/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/c3d4c227fbe1d8bd433aa39c90de8b78fd9d5a07","head":{"label":"dongjoon-hyun:SPARK-37206","ref":"SPARK-37206","sha":"c3d4c227fbe1d8bd433aa39c90de8b78fd9d5a07","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"26e93f98636449643859fd6725e2c4343de2eb4c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36019"},"html":{"href":"https://github.com/apache/spark/pull/36019"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36019"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36019/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36019/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36019/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/c3d4c227fbe1d8bd433aa39c90de8b78fd9d5a07"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36018","id":895307570,"node_id":"PR_kwDOAQXtWs41XU8y","html_url":"https://github.com/apache/spark/pull/36018","diff_url":"https://github.com/apache/spark/pull/36018.diff","patch_url":"https://github.com/apache/spark/pull/36018.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36018","number":36018,"state":"closed","locked":false,"title":"[SPARK-38708][SQL] Upgrade Hive Metastore Client to the 3.1.3 for Hive 3.1","user":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nHive 3.1.3 has been released.\r\n\r\n1. Upgrade Hive Metastore Client to the 3.1.3 for Hive 3.1.\r\n2. Upgrade hive-service-rpc to 3.1.3.\r\n\r\nHive 3.1.3 release notes:\r\nhttps://issues.apache.org/jira/secure/ReleaseNote.jspa?version=12346277&styleName=Html&projectId=12310843\r\n\r\n### Why are the changes needed?\r\n\r\nKeep the Hive Metastore client jars up to date.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\n\r\nUnit test.","created_at":"2022-03-31T02:57:20Z","updated_at":"2022-04-11T01:35:59Z","closed_at":"2022-04-11T01:34:47Z","merged_at":null,"merge_commit_sha":"ed9998168e598fead864784e1d4605b516895e73","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null},{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36018/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36018/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36018/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/655d4db24f07232004c06fcbd78d5c1975aa3151","head":{"label":"wangyum:SPARK-38708","ref":"SPARK-38708","sha":"655d4db24f07232004c06fcbd78d5c1975aa3151","user":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":467759455,"node_id":"R_kgDOG-FxXw","name":"spark","full_name":"wangyum/spark","private":false,"owner":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/wangyum/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/wangyum/spark","forks_url":"https://api.github.com/repos/wangyum/spark/forks","keys_url":"https://api.github.com/repos/wangyum/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/wangyum/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/wangyum/spark/teams","hooks_url":"https://api.github.com/repos/wangyum/spark/hooks","issue_events_url":"https://api.github.com/repos/wangyum/spark/issues/events{/number}","events_url":"https://api.github.com/repos/wangyum/spark/events","assignees_url":"https://api.github.com/repos/wangyum/spark/assignees{/user}","branches_url":"https://api.github.com/repos/wangyum/spark/branches{/branch}","tags_url":"https://api.github.com/repos/wangyum/spark/tags","blobs_url":"https://api.github.com/repos/wangyum/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/wangyum/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/wangyum/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/wangyum/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/wangyum/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/wangyum/spark/languages","stargazers_url":"https://api.github.com/repos/wangyum/spark/stargazers","contributors_url":"https://api.github.com/repos/wangyum/spark/contributors","subscribers_url":"https://api.github.com/repos/wangyum/spark/subscribers","subscription_url":"https://api.github.com/repos/wangyum/spark/subscription","commits_url":"https://api.github.com/repos/wangyum/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/wangyum/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/wangyum/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/wangyum/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/wangyum/spark/contents/{+path}","compare_url":"https://api.github.com/repos/wangyum/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/wangyum/spark/merges","archive_url":"https://api.github.com/repos/wangyum/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/wangyum/spark/downloads","issues_url":"https://api.github.com/repos/wangyum/spark/issues{/number}","pulls_url":"https://api.github.com/repos/wangyum/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/wangyum/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/wangyum/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/wangyum/spark/labels{/name}","releases_url":"https://api.github.com/repos/wangyum/spark/releases{/id}","deployments_url":"https://api.github.com/repos/wangyum/spark/deployments","created_at":"2022-03-09T03:11:29Z","updated_at":"2025-02-09T07:30:39Z","pushed_at":"2025-02-09T07:30:08Z","git_url":"git://github.com/wangyum/spark.git","ssh_url":"git@github.com:wangyum/spark.git","clone_url":"https://github.com/wangyum/spark.git","svn_url":"https://github.com/wangyum/spark","homepage":"https://spark.apache.org/","size":487127,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":8,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":8,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"26e93f98636449643859fd6725e2c4343de2eb4c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36018"},"html":{"href":"https://github.com/apache/spark/pull/36018"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36018"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36018/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36018/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36018/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/655d4db24f07232004c06fcbd78d5c1975aa3151"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36017","id":895281831,"node_id":"PR_kwDOAQXtWs41XOqn","html_url":"https://github.com/apache/spark/pull/36017","diff_url":"https://github.com/apache/spark/pull/36017.diff","patch_url":"https://github.com/apache/spark/pull/36017.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36017","number":36017,"state":"closed","locked":false,"title":"[SPARK-38706][CORE] Use URI in `FallbackStorage.copy`","user":{"login":"williamhyun","id":62487364,"node_id":"MDQ6VXNlcjYyNDg3MzY0","avatar_url":"https://avatars.githubusercontent.com/u/62487364?v=4","gravatar_id":"","url":"https://api.github.com/users/williamhyun","html_url":"https://github.com/williamhyun","followers_url":"https://api.github.com/users/williamhyun/followers","following_url":"https://api.github.com/users/williamhyun/following{/other_user}","gists_url":"https://api.github.com/users/williamhyun/gists{/gist_id}","starred_url":"https://api.github.com/users/williamhyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/williamhyun/subscriptions","organizations_url":"https://api.github.com/users/williamhyun/orgs","repos_url":"https://api.github.com/users/williamhyun/repos","events_url":"https://api.github.com/users/williamhyun/events{/privacy}","received_events_url":"https://api.github.com/users/williamhyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR aims to use URI in `FallbackStorage.copy` method.\r\n\r\n### Why are the changes needed?\r\n\r\nLike the case of SPARK-38652, the current fallback feature is broken with `S3A` due to Hadoop 3.3.2's `org.apache.hadoop.fs.PathIOException`.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo\r\n\r\n### How was this patch tested?\r\n\r\nManually start one master and executor and decommission the executor.\r\n\r\n```\r\nspark.decommission.enabled                          true\r\nspark.storage.decommission.enabled                  true\r\nspark.storage.decommission.shuffleBlocks.enabled    true\r\nspark.storage.decommission.fallbackStorage.path     s3a://spark/storage/\r\n```\r\n\r\n```\r\n$ curl -v -X POST -d \"host=hostname\" http://hostname:8080/workers/kill/\r\n```","created_at":"2022-03-31T02:08:29Z","updated_at":"2022-03-31T04:16:04Z","closed_at":"2022-03-31T04:16:04Z","merged_at":null,"merge_commit_sha":"e976e4e8eddbf20451672c8055dd64eaeafcc815","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36017/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36017/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36017/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/bf6fad0456a77fa81eb038c4df2191b5928b2da2","head":{"label":"williamhyun:fallbackstorage","ref":"fallbackstorage","sha":"bf6fad0456a77fa81eb038c4df2191b5928b2da2","user":{"login":"williamhyun","id":62487364,"node_id":"MDQ6VXNlcjYyNDg3MzY0","avatar_url":"https://avatars.githubusercontent.com/u/62487364?v=4","gravatar_id":"","url":"https://api.github.com/users/williamhyun","html_url":"https://github.com/williamhyun","followers_url":"https://api.github.com/users/williamhyun/followers","following_url":"https://api.github.com/users/williamhyun/following{/other_user}","gists_url":"https://api.github.com/users/williamhyun/gists{/gist_id}","starred_url":"https://api.github.com/users/williamhyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/williamhyun/subscriptions","organizations_url":"https://api.github.com/users/williamhyun/orgs","repos_url":"https://api.github.com/users/williamhyun/repos","events_url":"https://api.github.com/users/williamhyun/events{/privacy}","received_events_url":"https://api.github.com/users/williamhyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"26e93f98636449643859fd6725e2c4343de2eb4c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36017"},"html":{"href":"https://github.com/apache/spark/pull/36017"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36017"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36017/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36017/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36017/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/bf6fad0456a77fa81eb038c4df2191b5928b2da2"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36016","id":894874352,"node_id":"PR_kwDOAQXtWs41VrLw","html_url":"https://github.com/apache/spark/pull/36016","diff_url":"https://github.com/apache/spark/pull/36016.diff","patch_url":"https://github.com/apache/spark/pull/36016.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36016","number":36016,"state":"closed","locked":false,"title":"[SPARK-38705][SQL] Use function identifier in create and drop function command","user":{"login":"allisonwang-db","id":66282705,"node_id":"MDQ6VXNlcjY2MjgyNzA1","avatar_url":"https://avatars.githubusercontent.com/u/66282705?v=4","gravatar_id":"","url":"https://api.github.com/users/allisonwang-db","html_url":"https://github.com/allisonwang-db","followers_url":"https://api.github.com/users/allisonwang-db/followers","following_url":"https://api.github.com/users/allisonwang-db/following{/other_user}","gists_url":"https://api.github.com/users/allisonwang-db/gists{/gist_id}","starred_url":"https://api.github.com/users/allisonwang-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/allisonwang-db/subscriptions","organizations_url":"https://api.github.com/users/allisonwang-db/orgs","repos_url":"https://api.github.com/users/allisonwang-db/repos","events_url":"https://api.github.com/users/allisonwang-db/events{/privacy}","received_events_url":"https://api.github.com/users/allisonwang-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis PR refactors `CreateFunctionCommand` and `DropFunctionCommand` to use `FunctionIdentifier`.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nTo make the code cleaner.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nExisting unit tests.","created_at":"2022-03-30T20:32:57Z","updated_at":"2022-03-31T01:07:15Z","closed_at":"2022-03-31T01:07:15Z","merged_at":null,"merge_commit_sha":"b9c539207d8b604987f3afc6d3409db1f740f1a7","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36016/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36016/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36016/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/05d6687aafcacc15bf55e4b6aa8d81660edc2f97","head":{"label":"allisonwang-db:spark-38705-refactor-func-identifier","ref":"spark-38705-refactor-func-identifier","sha":"05d6687aafcacc15bf55e4b6aa8d81660edc2f97","user":{"login":"allisonwang-db","id":66282705,"node_id":"MDQ6VXNlcjY2MjgyNzA1","avatar_url":"https://avatars.githubusercontent.com/u/66282705?v=4","gravatar_id":"","url":"https://api.github.com/users/allisonwang-db","html_url":"https://github.com/allisonwang-db","followers_url":"https://api.github.com/users/allisonwang-db/followers","following_url":"https://api.github.com/users/allisonwang-db/following{/other_user}","gists_url":"https://api.github.com/users/allisonwang-db/gists{/gist_id}","starred_url":"https://api.github.com/users/allisonwang-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/allisonwang-db/subscriptions","organizations_url":"https://api.github.com/users/allisonwang-db/orgs","repos_url":"https://api.github.com/users/allisonwang-db/repos","events_url":"https://api.github.com/users/allisonwang-db/events{/privacy}","received_events_url":"https://api.github.com/users/allisonwang-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":271915022,"node_id":"MDEwOlJlcG9zaXRvcnkyNzE5MTUwMjI=","name":"spark","full_name":"allisonwang-db/spark","private":false,"owner":{"login":"allisonwang-db","id":66282705,"node_id":"MDQ6VXNlcjY2MjgyNzA1","avatar_url":"https://avatars.githubusercontent.com/u/66282705?v=4","gravatar_id":"","url":"https://api.github.com/users/allisonwang-db","html_url":"https://github.com/allisonwang-db","followers_url":"https://api.github.com/users/allisonwang-db/followers","following_url":"https://api.github.com/users/allisonwang-db/following{/other_user}","gists_url":"https://api.github.com/users/allisonwang-db/gists{/gist_id}","starred_url":"https://api.github.com/users/allisonwang-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/allisonwang-db/subscriptions","organizations_url":"https://api.github.com/users/allisonwang-db/orgs","repos_url":"https://api.github.com/users/allisonwang-db/repos","events_url":"https://api.github.com/users/allisonwang-db/events{/privacy}","received_events_url":"https://api.github.com/users/allisonwang-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/allisonwang-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/allisonwang-db/spark","forks_url":"https://api.github.com/repos/allisonwang-db/spark/forks","keys_url":"https://api.github.com/repos/allisonwang-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/allisonwang-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/allisonwang-db/spark/teams","hooks_url":"https://api.github.com/repos/allisonwang-db/spark/hooks","issue_events_url":"https://api.github.com/repos/allisonwang-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/allisonwang-db/spark/events","assignees_url":"https://api.github.com/repos/allisonwang-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/allisonwang-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/allisonwang-db/spark/tags","blobs_url":"https://api.github.com/repos/allisonwang-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/allisonwang-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/allisonwang-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/allisonwang-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/allisonwang-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/allisonwang-db/spark/languages","stargazers_url":"https://api.github.com/repos/allisonwang-db/spark/stargazers","contributors_url":"https://api.github.com/repos/allisonwang-db/spark/contributors","subscribers_url":"https://api.github.com/repos/allisonwang-db/spark/subscribers","subscription_url":"https://api.github.com/repos/allisonwang-db/spark/subscription","commits_url":"https://api.github.com/repos/allisonwang-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/allisonwang-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/allisonwang-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/allisonwang-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/allisonwang-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/allisonwang-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/allisonwang-db/spark/merges","archive_url":"https://api.github.com/repos/allisonwang-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/allisonwang-db/spark/downloads","issues_url":"https://api.github.com/repos/allisonwang-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/allisonwang-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/allisonwang-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/allisonwang-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/allisonwang-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/allisonwang-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/allisonwang-db/spark/deployments","created_at":"2020-06-13T00:43:34Z","updated_at":"2025-01-07T02:25:07Z","pushed_at":"2025-01-24T00:00:13Z","git_url":"git://github.com/allisonwang-db/spark.git","ssh_url":"git@github.com:allisonwang-db/spark.git","clone_url":"https://github.com/allisonwang-db/spark.git","svn_url":"https://github.com/allisonwang-db/spark","homepage":"https://spark.apache.org/","size":467528,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"cab8aa1c4fe66c4cb1b69112094a203a04758f76","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36016"},"html":{"href":"https://github.com/apache/spark/pull/36016"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36016"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36016/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36016/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36016/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/05d6687aafcacc15bf55e4b6aa8d81660edc2f97"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36015","id":894856989,"node_id":"PR_kwDOAQXtWs41Vm8d","html_url":"https://github.com/apache/spark/pull/36015","diff_url":"https://github.com/apache/spark/pull/36015.diff","patch_url":"https://github.com/apache/spark/pull/36015.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36015","number":36015,"state":"closed","locked":false,"title":"[SPARK-38704][PYTHON] Support string `inclusive` parameter of `Series.between`","user":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nSupport string `inclusive` parameter of `Series.between`\r\n\r\n### Why are the changes needed?\r\nTo reach parity with Pandas.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes. String `inclusive` is supported now as below.\r\n```py\r\n        >>> s = ps.Series([2, 0, 4, 8, np.nan])\r\n\r\n        With `inclusive` set to \"both\" boundary values are included:\r\n\r\n        >>> s.between(0, 4, inclusive=\"both\")\r\n        0     True\r\n        1     True\r\n        2     True\r\n        3    False\r\n        4    False\r\n        dtype: bool\r\n\r\n        With `inclusive` set to \"neither\" boundary values are excluded:\r\n\r\n        >>> s.between(0, 4, inclusive=\"neither\")\r\n        0     True\r\n        1    False\r\n        2    False\r\n        3    False\r\n        4    False\r\n        dtype: bool\r\n\r\n        With `inclusive` set to \"right\" only right boundary value is included:\r\n\r\n        >>> s.between(0, 4, inclusive=\"right\")\r\n        0     True\r\n        1    False\r\n        2     True\r\n        3    False\r\n        4    False\r\n        dtype: bool\r\n\r\n        With `inclusive` set to \"left\" only left boundary value is included:\r\n\r\n        >>> s.between(0, 4, inclusive=\"left\")\r\n        0     True\r\n        1     True\r\n        2    False\r\n        3    False\r\n        4    False\r\n        dtype: bool\r\n\r\n```\r\n\r\n### How was this patch tested?\r\nUnit tests.","created_at":"2022-03-30T20:12:40Z","updated_at":"2022-04-01T04:38:20Z","closed_at":"2022-04-01T04:38:20Z","merged_at":null,"merge_commit_sha":"85fe92928dd1ae95a72a06b28691b8e0d6e330af","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36015/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36015/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36015/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b58a19a89d1b1a2b65f7e2344f473035cef4ad4b","head":{"label":"xinrong-meng:series.between","ref":"series.between","sha":"b58a19a89d1b1a2b65f7e2344f473035cef4ad4b","user":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":335786381,"node_id":"MDEwOlJlcG9zaXRvcnkzMzU3ODYzODE=","name":"spark","full_name":"xinrong-meng/spark","private":false,"owner":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/xinrong-meng/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/xinrong-meng/spark","forks_url":"https://api.github.com/repos/xinrong-meng/spark/forks","keys_url":"https://api.github.com/repos/xinrong-meng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xinrong-meng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xinrong-meng/spark/teams","hooks_url":"https://api.github.com/repos/xinrong-meng/spark/hooks","issue_events_url":"https://api.github.com/repos/xinrong-meng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/xinrong-meng/spark/events","assignees_url":"https://api.github.com/repos/xinrong-meng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/xinrong-meng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/xinrong-meng/spark/tags","blobs_url":"https://api.github.com/repos/xinrong-meng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xinrong-meng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xinrong-meng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/xinrong-meng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xinrong-meng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/xinrong-meng/spark/languages","stargazers_url":"https://api.github.com/repos/xinrong-meng/spark/stargazers","contributors_url":"https://api.github.com/repos/xinrong-meng/spark/contributors","subscribers_url":"https://api.github.com/repos/xinrong-meng/spark/subscribers","subscription_url":"https://api.github.com/repos/xinrong-meng/spark/subscription","commits_url":"https://api.github.com/repos/xinrong-meng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/xinrong-meng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/xinrong-meng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/xinrong-meng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/xinrong-meng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/xinrong-meng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xinrong-meng/spark/merges","archive_url":"https://api.github.com/repos/xinrong-meng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xinrong-meng/spark/downloads","issues_url":"https://api.github.com/repos/xinrong-meng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/xinrong-meng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/xinrong-meng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/xinrong-meng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xinrong-meng/spark/labels{/name}","releases_url":"https://api.github.com/repos/xinrong-meng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/xinrong-meng/spark/deployments","created_at":"2021-02-03T23:47:29Z","updated_at":"2024-09-27T08:09:06Z","pushed_at":"2025-02-08T02:14:33Z","git_url":"git://github.com/xinrong-meng/spark.git","ssh_url":"git@github.com:xinrong-meng/spark.git","clone_url":"https://github.com/xinrong-meng/spark.git","svn_url":"https://github.com/xinrong-meng/spark","homepage":"https://spark.apache.org/","size":469811,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":2,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"cab8aa1c4fe66c4cb1b69112094a203a04758f76","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36015"},"html":{"href":"https://github.com/apache/spark/pull/36015"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36015"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36015/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36015/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36015/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b58a19a89d1b1a2b65f7e2344f473035cef4ad4b"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36014","id":894480290,"node_id":"PR_kwDOAQXtWs41UK-i","html_url":"https://github.com/apache/spark/pull/36014","diff_url":"https://github.com/apache/spark/pull/36014.diff","patch_url":"https://github.com/apache/spark/pull/36014.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36014","number":36014,"state":"closed","locked":false,"title":"[SPARK-38701][SQL] Inline `IllegalStateException` out from `QueryExecutionErrors`","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nIn the PR, I propose to remove `IllegalStateException` from `QueryExecutionErrors`, and inline such exceptions in the places where they are used.\r\n\r\n### Why are the changes needed?\r\nTo improve code maintenance. The exceptions of QueryExecutionErrors are supposed to migrate on error classes and be visible to users. `IllegalStateException` shouldn't be propagated to user space.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n### How was this patch tested?\r\nBy existing tests.","created_at":"2022-03-30T13:56:37Z","updated_at":"2022-03-31T06:43:46Z","closed_at":"2022-03-31T06:43:46Z","merged_at":null,"merge_commit_sha":"eb9b42bdf53f2639da5e7a0c1b4fdf3824b498a1","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36014/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36014/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36014/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/c768060d292f095147d81045a54f3cbd40525077","head":{"label":"MaxGekk:throw-IllegalStateException","ref":"throw-IllegalStateException","sha":"c768060d292f095147d81045a54f3cbd40525077","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":123690489,"node_id":"MDEwOlJlcG9zaXRvcnkxMjM2OTA0ODk=","name":"spark","full_name":"MaxGekk/spark","private":false,"owner":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/MaxGekk/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/MaxGekk/spark","forks_url":"https://api.github.com/repos/MaxGekk/spark/forks","keys_url":"https://api.github.com/repos/MaxGekk/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/MaxGekk/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/MaxGekk/spark/teams","hooks_url":"https://api.github.com/repos/MaxGekk/spark/hooks","issue_events_url":"https://api.github.com/repos/MaxGekk/spark/issues/events{/number}","events_url":"https://api.github.com/repos/MaxGekk/spark/events","assignees_url":"https://api.github.com/repos/MaxGekk/spark/assignees{/user}","branches_url":"https://api.github.com/repos/MaxGekk/spark/branches{/branch}","tags_url":"https://api.github.com/repos/MaxGekk/spark/tags","blobs_url":"https://api.github.com/repos/MaxGekk/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/MaxGekk/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/MaxGekk/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/MaxGekk/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/MaxGekk/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/MaxGekk/spark/languages","stargazers_url":"https://api.github.com/repos/MaxGekk/spark/stargazers","contributors_url":"https://api.github.com/repos/MaxGekk/spark/contributors","subscribers_url":"https://api.github.com/repos/MaxGekk/spark/subscribers","subscription_url":"https://api.github.com/repos/MaxGekk/spark/subscription","commits_url":"https://api.github.com/repos/MaxGekk/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/MaxGekk/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/MaxGekk/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/MaxGekk/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/MaxGekk/spark/contents/{+path}","compare_url":"https://api.github.com/repos/MaxGekk/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/MaxGekk/spark/merges","archive_url":"https://api.github.com/repos/MaxGekk/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/MaxGekk/spark/downloads","issues_url":"https://api.github.com/repos/MaxGekk/spark/issues{/number}","pulls_url":"https://api.github.com/repos/MaxGekk/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/MaxGekk/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/MaxGekk/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/MaxGekk/spark/labels{/name}","releases_url":"https://api.github.com/repos/MaxGekk/spark/releases{/id}","deployments_url":"https://api.github.com/repos/MaxGekk/spark/deployments","created_at":"2018-03-03T12:37:00Z","updated_at":"2025-02-07T09:44:52Z","pushed_at":"2025-02-07T09:44:24Z","git_url":"git://github.com/MaxGekk/spark.git","ssh_url":"git@github.com:MaxGekk/spark.git","clone_url":"https://github.com/MaxGekk/spark.git","svn_url":"https://github.com/MaxGekk/spark","homepage":null,"size":486456,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"9f6aad407724997dc04a7689bb870d1d3ddd5526","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36014"},"html":{"href":"https://github.com/apache/spark/pull/36014"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36014"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36014/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36014/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36014/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/c768060d292f095147d81045a54f3cbd40525077"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36013","id":894433810,"node_id":"PR_kwDOAQXtWs41T_oS","html_url":"https://github.com/apache/spark/pull/36013","diff_url":"https://github.com/apache/spark/pull/36013.diff","patch_url":"https://github.com/apache/spark/pull/36013.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36013","number":36013,"state":"closed","locked":false,"title":"[SPARK-38698][SQL] Provide query context in runtime error of Divide/Div/Reminder/Pmod","user":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nProvide SQL query context in the following runtime error:\r\n\r\n- Divide: divide by 0 error, including numeric types and ANSI interval types\r\n- Integral Divide: divide by 0 error and overflow error\r\n- Reminder: divide by 0 error\r\n- Pmod: divide by 0 error\r\n\r\nExample1:\r\n```\r\n== SQL(line 1, position 7) ==\r\nselect smallint('100') / bigint('0')\r\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n```\r\n\r\nExample 2:\r\n```\r\n== SQL(line 1, position 7) ==\r\nselect interval '2' year / 0\r\n       ^^^^^^^^^^^^^^^^^^^^^\r\n```\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nProvide SQL query context of runtime errors to users, so that they can understand it better.\r\n\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nYes, improve the runtime error message of Divide/Div/Reminder/Pmod\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUT","created_at":"2022-03-30T13:17:47Z","updated_at":"2022-03-31T05:18:54Z","closed_at":"2022-03-31T05:18:54Z","merged_at":null,"merge_commit_sha":"dc0229c420bda06007af78b324500ebd350c0c8a","assignee":null,"assignees":[],"requested_reviewers":[{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36013/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36013/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36013/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/d873307a006888763116e10e5ec6bb1eeb79621b","head":{"label":"gengliangwang:divideError","ref":"divideError","sha":"d873307a006888763116e10e5ec6bb1eeb79621b","user":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":95047635,"node_id":"MDEwOlJlcG9zaXRvcnk5NTA0NzYzNQ==","name":"spark","full_name":"gengliangwang/spark","private":false,"owner":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/gengliangwang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/gengliangwang/spark","forks_url":"https://api.github.com/repos/gengliangwang/spark/forks","keys_url":"https://api.github.com/repos/gengliangwang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/gengliangwang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/gengliangwang/spark/teams","hooks_url":"https://api.github.com/repos/gengliangwang/spark/hooks","issue_events_url":"https://api.github.com/repos/gengliangwang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/gengliangwang/spark/events","assignees_url":"https://api.github.com/repos/gengliangwang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/gengliangwang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/gengliangwang/spark/tags","blobs_url":"https://api.github.com/repos/gengliangwang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/gengliangwang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/gengliangwang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/gengliangwang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/gengliangwang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/gengliangwang/spark/languages","stargazers_url":"https://api.github.com/repos/gengliangwang/spark/stargazers","contributors_url":"https://api.github.com/repos/gengliangwang/spark/contributors","subscribers_url":"https://api.github.com/repos/gengliangwang/spark/subscribers","subscription_url":"https://api.github.com/repos/gengliangwang/spark/subscription","commits_url":"https://api.github.com/repos/gengliangwang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/gengliangwang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/gengliangwang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/gengliangwang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/gengliangwang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/gengliangwang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/gengliangwang/spark/merges","archive_url":"https://api.github.com/repos/gengliangwang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/gengliangwang/spark/downloads","issues_url":"https://api.github.com/repos/gengliangwang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/gengliangwang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/gengliangwang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/gengliangwang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/gengliangwang/spark/labels{/name}","releases_url":"https://api.github.com/repos/gengliangwang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/gengliangwang/spark/deployments","created_at":"2017-06-21T21:26:20Z","updated_at":"2022-01-05T09:39:12Z","pushed_at":"2025-02-07T19:52:00Z","git_url":"git://github.com/gengliangwang/spark.git","ssh_url":"git@github.com:gengliangwang/spark.git","clone_url":"https://github.com/gengliangwang/spark.git","svn_url":"https://github.com/gengliangwang/spark","homepage":null,"size":481326,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"9f6aad407724997dc04a7689bb870d1d3ddd5526","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36013"},"html":{"href":"https://github.com/apache/spark/pull/36013"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36013"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36013/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36013/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36013/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/d873307a006888763116e10e5ec6bb1eeb79621b"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36012","id":894284077,"node_id":"PR_kwDOAQXtWs41TbEt","html_url":"https://github.com/apache/spark/pull/36012","diff_url":"https://github.com/apache/spark/pull/36012.diff","patch_url":"https://github.com/apache/spark/pull/36012.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36012","number":36012,"state":"closed","locked":false,"title":"[SPARK-38333][SQL] PlanExpression expression should skip addExprTree function in Executor","user":{"login":"monkeyboy123","id":9074114,"node_id":"MDQ6VXNlcjkwNzQxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9074114?v=4","gravatar_id":"","url":"https://api.github.com/users/monkeyboy123","html_url":"https://github.com/monkeyboy123","followers_url":"https://api.github.com/users/monkeyboy123/followers","following_url":"https://api.github.com/users/monkeyboy123/following{/other_user}","gists_url":"https://api.github.com/users/monkeyboy123/gists{/gist_id}","starred_url":"https://api.github.com/users/monkeyboy123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monkeyboy123/subscriptions","organizations_url":"https://api.github.com/users/monkeyboy123/orgs","repos_url":"https://api.github.com/users/monkeyboy123/repos","events_url":"https://api.github.com/users/monkeyboy123/events{/privacy}","received_events_url":"https://api.github.com/users/monkeyboy123/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nIt is master branch pr [SPARK-38333](https://github.com/apache/spark/pull/35662)\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nBug fix, it is potential issue.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUT","created_at":"2022-03-30T10:54:35Z","updated_at":"2022-04-01T10:09:53Z","closed_at":"2022-03-31T13:33:32Z","merged_at":null,"merge_commit_sha":"097e636877047822cd711872d97a4d1d2e5df2df","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36012/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36012/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36012/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3ddccc65bcecbc73bc85eea2a24dadc516cc520d","head":{"label":"monkeyboy123:spark-38333","ref":"spark-38333","sha":"3ddccc65bcecbc73bc85eea2a24dadc516cc520d","user":{"login":"monkeyboy123","id":9074114,"node_id":"MDQ6VXNlcjkwNzQxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9074114?v=4","gravatar_id":"","url":"https://api.github.com/users/monkeyboy123","html_url":"https://github.com/monkeyboy123","followers_url":"https://api.github.com/users/monkeyboy123/followers","following_url":"https://api.github.com/users/monkeyboy123/following{/other_user}","gists_url":"https://api.github.com/users/monkeyboy123/gists{/gist_id}","starred_url":"https://api.github.com/users/monkeyboy123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monkeyboy123/subscriptions","organizations_url":"https://api.github.com/users/monkeyboy123/orgs","repos_url":"https://api.github.com/users/monkeyboy123/repos","events_url":"https://api.github.com/users/monkeyboy123/events{/privacy}","received_events_url":"https://api.github.com/users/monkeyboy123/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":152182667,"node_id":"MDEwOlJlcG9zaXRvcnkxNTIxODI2Njc=","name":"spark","full_name":"monkeyboy123/spark","private":false,"owner":{"login":"monkeyboy123","id":9074114,"node_id":"MDQ6VXNlcjkwNzQxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9074114?v=4","gravatar_id":"","url":"https://api.github.com/users/monkeyboy123","html_url":"https://github.com/monkeyboy123","followers_url":"https://api.github.com/users/monkeyboy123/followers","following_url":"https://api.github.com/users/monkeyboy123/following{/other_user}","gists_url":"https://api.github.com/users/monkeyboy123/gists{/gist_id}","starred_url":"https://api.github.com/users/monkeyboy123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monkeyboy123/subscriptions","organizations_url":"https://api.github.com/users/monkeyboy123/orgs","repos_url":"https://api.github.com/users/monkeyboy123/repos","events_url":"https://api.github.com/users/monkeyboy123/events{/privacy}","received_events_url":"https://api.github.com/users/monkeyboy123/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/monkeyboy123/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/monkeyboy123/spark","forks_url":"https://api.github.com/repos/monkeyboy123/spark/forks","keys_url":"https://api.github.com/repos/monkeyboy123/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/monkeyboy123/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/monkeyboy123/spark/teams","hooks_url":"https://api.github.com/repos/monkeyboy123/spark/hooks","issue_events_url":"https://api.github.com/repos/monkeyboy123/spark/issues/events{/number}","events_url":"https://api.github.com/repos/monkeyboy123/spark/events","assignees_url":"https://api.github.com/repos/monkeyboy123/spark/assignees{/user}","branches_url":"https://api.github.com/repos/monkeyboy123/spark/branches{/branch}","tags_url":"https://api.github.com/repos/monkeyboy123/spark/tags","blobs_url":"https://api.github.com/repos/monkeyboy123/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/monkeyboy123/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/monkeyboy123/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/monkeyboy123/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/monkeyboy123/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/monkeyboy123/spark/languages","stargazers_url":"https://api.github.com/repos/monkeyboy123/spark/stargazers","contributors_url":"https://api.github.com/repos/monkeyboy123/spark/contributors","subscribers_url":"https://api.github.com/repos/monkeyboy123/spark/subscribers","subscription_url":"https://api.github.com/repos/monkeyboy123/spark/subscription","commits_url":"https://api.github.com/repos/monkeyboy123/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/monkeyboy123/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/monkeyboy123/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/monkeyboy123/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/monkeyboy123/spark/contents/{+path}","compare_url":"https://api.github.com/repos/monkeyboy123/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/monkeyboy123/spark/merges","archive_url":"https://api.github.com/repos/monkeyboy123/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/monkeyboy123/spark/downloads","issues_url":"https://api.github.com/repos/monkeyboy123/spark/issues{/number}","pulls_url":"https://api.github.com/repos/monkeyboy123/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/monkeyboy123/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/monkeyboy123/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/monkeyboy123/spark/labels{/name}","releases_url":"https://api.github.com/repos/monkeyboy123/spark/releases{/id}","deployments_url":"https://api.github.com/repos/monkeyboy123/spark/deployments","created_at":"2018-10-09T03:32:45Z","updated_at":"2024-05-22T13:10:31Z","pushed_at":"2024-05-25T23:04:44Z","git_url":"git://github.com/monkeyboy123/spark.git","ssh_url":"git@github.com:monkeyboy123/spark.git","clone_url":"https://github.com/monkeyboy123/spark.git","svn_url":"https://github.com/monkeyboy123/spark","homepage":null,"size":427706,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"794420fcddcacbb655ea88c4015d0a309b410bda","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36012"},"html":{"href":"https://github.com/apache/spark/pull/36012"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36012"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36012/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36012/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36012/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3ddccc65bcecbc73bc85eea2a24dadc516cc520d"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36011","id":894225251,"node_id":"PR_kwDOAQXtWs41TMtj","html_url":"https://github.com/apache/spark/pull/36011","diff_url":"https://github.com/apache/spark/pull/36011.diff","patch_url":"https://github.com/apache/spark/pull/36011.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36011","number":36011,"state":"closed","locked":false,"title":"[SPARK-38697][SQL] Extend SparkSessionExtensions to inject rules into AQE Optimizer","user":{"login":"ulysses-you","id":12025282,"node_id":"MDQ6VXNlcjEyMDI1Mjgy","avatar_url":"https://avatars.githubusercontent.com/u/12025282?v=4","gravatar_id":"","url":"https://api.github.com/users/ulysses-you","html_url":"https://github.com/ulysses-you","followers_url":"https://api.github.com/users/ulysses-you/followers","following_url":"https://api.github.com/users/ulysses-you/following{/other_user}","gists_url":"https://api.github.com/users/ulysses-you/gists{/gist_id}","starred_url":"https://api.github.com/users/ulysses-you/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulysses-you/subscriptions","organizations_url":"https://api.github.com/users/ulysses-you/orgs","repos_url":"https://api.github.com/users/ulysses-you/repos","events_url":"https://api.github.com/users/ulysses-you/events{/privacy}","received_events_url":"https://api.github.com/users/ulysses-you/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nAdd `injectRuntimeOptimizerRule` public method in `SparkSessionExtensions`\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nProvide a entrance for user to play their logical plan with runtime optimizer in adaptive query execution framework.\r\n\r\nWe should follow the existed Spark session extension to allow user inject the rule.\r\n\r\nSo developers can improve the logical plan leverage accurate statistics from shuffle.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nyes, a new entrance for Spark session extension\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nAdd test","created_at":"2022-03-30T09:57:18Z","updated_at":"2022-10-26T18:28:44Z","closed_at":"2022-04-15T08:02:17Z","merged_at":null,"merge_commit_sha":"85c9dbc55517a8c851d9cb46a4444c2d28a0733f","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36011/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36011/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36011/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/31ecb5b2f236010557984b47a28e12ebce314096","head":{"label":"ulysses-you:aqe-optimizer","ref":"aqe-optimizer","sha":"31ecb5b2f236010557984b47a28e12ebce314096","user":{"login":"ulysses-you","id":12025282,"node_id":"MDQ6VXNlcjEyMDI1Mjgy","avatar_url":"https://avatars.githubusercontent.com/u/12025282?v=4","gravatar_id":"","url":"https://api.github.com/users/ulysses-you","html_url":"https://github.com/ulysses-you","followers_url":"https://api.github.com/users/ulysses-you/followers","following_url":"https://api.github.com/users/ulysses-you/following{/other_user}","gists_url":"https://api.github.com/users/ulysses-you/gists{/gist_id}","starred_url":"https://api.github.com/users/ulysses-you/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulysses-you/subscriptions","organizations_url":"https://api.github.com/users/ulysses-you/orgs","repos_url":"https://api.github.com/users/ulysses-you/repos","events_url":"https://api.github.com/users/ulysses-you/events{/privacy}","received_events_url":"https://api.github.com/users/ulysses-you/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":195747855,"node_id":"MDEwOlJlcG9zaXRvcnkxOTU3NDc4NTU=","name":"spark","full_name":"ulysses-you/spark","private":false,"owner":{"login":"ulysses-you","id":12025282,"node_id":"MDQ6VXNlcjEyMDI1Mjgy","avatar_url":"https://avatars.githubusercontent.com/u/12025282?v=4","gravatar_id":"","url":"https://api.github.com/users/ulysses-you","html_url":"https://github.com/ulysses-you","followers_url":"https://api.github.com/users/ulysses-you/followers","following_url":"https://api.github.com/users/ulysses-you/following{/other_user}","gists_url":"https://api.github.com/users/ulysses-you/gists{/gist_id}","starred_url":"https://api.github.com/users/ulysses-you/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulysses-you/subscriptions","organizations_url":"https://api.github.com/users/ulysses-you/orgs","repos_url":"https://api.github.com/users/ulysses-you/repos","events_url":"https://api.github.com/users/ulysses-you/events{/privacy}","received_events_url":"https://api.github.com/users/ulysses-you/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ulysses-you/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/ulysses-you/spark","forks_url":"https://api.github.com/repos/ulysses-you/spark/forks","keys_url":"https://api.github.com/repos/ulysses-you/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ulysses-you/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ulysses-you/spark/teams","hooks_url":"https://api.github.com/repos/ulysses-you/spark/hooks","issue_events_url":"https://api.github.com/repos/ulysses-you/spark/issues/events{/number}","events_url":"https://api.github.com/repos/ulysses-you/spark/events","assignees_url":"https://api.github.com/repos/ulysses-you/spark/assignees{/user}","branches_url":"https://api.github.com/repos/ulysses-you/spark/branches{/branch}","tags_url":"https://api.github.com/repos/ulysses-you/spark/tags","blobs_url":"https://api.github.com/repos/ulysses-you/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ulysses-you/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ulysses-you/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/ulysses-you/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ulysses-you/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/ulysses-you/spark/languages","stargazers_url":"https://api.github.com/repos/ulysses-you/spark/stargazers","contributors_url":"https://api.github.com/repos/ulysses-you/spark/contributors","subscribers_url":"https://api.github.com/repos/ulysses-you/spark/subscribers","subscription_url":"https://api.github.com/repos/ulysses-you/spark/subscription","commits_url":"https://api.github.com/repos/ulysses-you/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/ulysses-you/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/ulysses-you/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/ulysses-you/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/ulysses-you/spark/contents/{+path}","compare_url":"https://api.github.com/repos/ulysses-you/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ulysses-you/spark/merges","archive_url":"https://api.github.com/repos/ulysses-you/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ulysses-you/spark/downloads","issues_url":"https://api.github.com/repos/ulysses-you/spark/issues{/number}","pulls_url":"https://api.github.com/repos/ulysses-you/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/ulysses-you/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/ulysses-you/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ulysses-you/spark/labels{/name}","releases_url":"https://api.github.com/repos/ulysses-you/spark/releases{/id}","deployments_url":"https://api.github.com/repos/ulysses-you/spark/deployments","created_at":"2019-07-08T06:11:57Z","updated_at":"2022-01-10T01:34:59Z","pushed_at":"2024-08-13T23:12:37Z","git_url":"git://github.com/ulysses-you/spark.git","ssh_url":"git@github.com:ulysses-you/spark.git","clone_url":"https://github.com/ulysses-you/spark.git","svn_url":"https://github.com/ulysses-you/spark","homepage":"","size":399300,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"eb353aa959ca2298b28ff0b9671edcfa3ac62822","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36011"},"html":{"href":"https://github.com/apache/spark/pull/36011"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36011"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36011/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36011/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36011/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/31ecb5b2f236010557984b47a28e12ebce314096"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36010","id":894211830,"node_id":"PR_kwDOAQXtWs41TJb2","html_url":"https://github.com/apache/spark/pull/36010","diff_url":"https://github.com/apache/spark/pull/36010.diff","patch_url":"https://github.com/apache/spark/pull/36010.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36010","number":36010,"state":"closed","locked":false,"title":"[SPARK-38652][K8S] `uploadFileUri` should preserve file scheme","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR replaces `new Path(fileUri.getPath)` with `new Path(fileUri)`.\r\nBy using `Path` class constructor with URI parameter, we can preserve file scheme.\r\n\r\n### Why are the changes needed?\r\n\r\nIf we use, `Path` class constructor with `String` parameter, it loses file scheme information.\r\nAlthough the original code works so far, it fails at Apache Hadoop 3.3.2 and breaks dependency upload feature which is covered by K8s Minikube integration tests.\r\n\r\n```scala\r\ntest(\"uploadFileUri\") {\r\n   val fileUri = org.apache.spark.util.Utils.resolveURI(\"/tmp/1.txt\")\r\n   assert(new Path(fileUri).toString == \"file:/private/tmp/1.txt\")\r\n   assert(new Path(fileUri.getPath).toString == \"/private/tmp/1.txt\")\r\n}\r\n```\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo, this will prevent a regression at Apache Spark 3.3.0 instead.\r\n\r\n### How was this patch tested?\r\n\r\nPass the CIs.\r\n\r\nIn addition, this PR and #36009 will recover K8s IT `DepsTestsSuite`.","created_at":"2022-03-30T09:44:17Z","updated_at":"2022-03-30T15:29:16Z","closed_at":"2022-03-30T15:27:13Z","merged_at":null,"merge_commit_sha":"90e782f52dbf33e694a9244d1f4ec9f426a05a20","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406605057,"node_id":"MDU6TGFiZWwxNDA2NjA1MDU3","url":"https://api.github.com/repos/apache/spark/labels/KUBERNETES","name":"KUBERNETES","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36010/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36010/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36010/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/c2c5027f3c57a9c0654514b421e74039238eb551","head":{"label":"dongjoon-hyun:SPARK-38652","ref":"SPARK-38652","sha":"c2c5027f3c57a9c0654514b421e74039238eb551","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"9f6aad407724997dc04a7689bb870d1d3ddd5526","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36010"},"html":{"href":"https://github.com/apache/spark/pull/36010"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36010"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36010/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36010/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36010/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/c2c5027f3c57a9c0654514b421e74039238eb551"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36009","id":894157682,"node_id":"PR_kwDOAQXtWs41S8Ny","html_url":"https://github.com/apache/spark/pull/36009","diff_url":"https://github.com/apache/spark/pull/36009.diff","patch_url":"https://github.com/apache/spark/pull/36009.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36009","number":36009,"state":"closed","locked":false,"title":"[SPARK-38696][BUILD] Add `commons-collections` back for hadoop-3 profile","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\n- SPARK-37968 replaced `commons-collections 3.x` with `commons-collections4`.\r\n- SPARK-37600 upgrades to Apache Hadoop 3.3.2.\r\n\r\nThis PR adds it back for `hadoop-3` profile because Apache Hadoop 3.3.2 is still using it. Since SPARK-37968 didn't remove it from `hadoop-2` profile , this is a regression in `hadoop-3` profile only.\r\n\r\n### Why are the changes needed?\r\n\r\n[HADOOP-17139](https://issues.apache.org/jira/browse/HADOOP-17139) added `commons-collections` usage at 3.3.2. Without this patch, `ClassNotFound` error happens while using S3A filesystem.\r\n\r\nhttps://github.com/apache/hadoop/blob/f91452b289aea1418f56d242c046b58d9f214a1d/hadoop-tools/hadoop-aws/src/main/java/org/apache/hadoop/fs/s3a/impl/CopyFromLocalOperation.java#L41\r\n```\r\nimport org.apache.commons.collections.comparators.ReverseComparator;\r\n```\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo. \r\n\r\n### How was this patch tested?\r\n\r\nThis is a kind of dependency recovery. This should pass CIs.","created_at":"2022-03-30T08:55:17Z","updated_at":"2022-03-30T14:27:59Z","closed_at":"2022-03-30T14:27:02Z","merged_at":null,"merge_commit_sha":"7184c16793547f19eb441073de70738198a696ad","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36009/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36009/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36009/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/5dfed33df92e1327b37466101809bb37843f80b5","head":{"label":"dongjoon-hyun:SPARK-38696","ref":"SPARK-38696","sha":"5dfed33df92e1327b37466101809bb37843f80b5","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"a44553648f75e9243b8a7dc27185ae6901f35f94","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36009"},"html":{"href":"https://github.com/apache/spark/pull/36009"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36009"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36009/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36009/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36009/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/5dfed33df92e1327b37466101809bb37843f80b5"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36008","id":893877506,"node_id":"PR_kwDOAQXtWs41R30C","html_url":"https://github.com/apache/spark/pull/36008","diff_url":"https://github.com/apache/spark/pull/36008.diff","patch_url":"https://github.com/apache/spark/pull/36008.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36008","number":36008,"state":"closed","locked":false,"title":"[SPARK-38694][TESTS] Simplify Java UT code with Junit `assertThrows` Api","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThere are some code patterns in Spark Java UTs:\r\n\r\n```java\r\n@Test\r\n  public void testAuthReplay() throws Exception {\r\n    try {\r\n      doSomeOperation();\r\n      fail(\"Should have failed\");\r\n    } catch (Exception e) {\r\n      assertTrue(doExceptionCheck(e));\r\n    }\r\n  }\r\n```\r\nor\r\n```java\r\n  @Test(expected = SomeException.class)\r\n  public void testAuthReplay() throws Exception {\r\n    try {\r\n      doSomeOperation();\r\n      fail(\"Should have failed\");\r\n    } catch (Exception e) {\r\n      assertTrue(doExceptionCheck(e));\r\n      throw e;\r\n    }\r\n  } \r\n```\r\nThis pr  use Junit `assertThrows` Api to simplify the similar patterns.\r\n\r\n\r\n### Why are the changes needed?\r\nSimplify code.\r\n\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nPass GA","created_at":"2022-03-30T02:54:03Z","updated_at":"2022-03-30T23:32:43Z","closed_at":"2022-03-30T23:32:43Z","merged_at":null,"merge_commit_sha":"d764fa4203ad4a3b649cf5d31ef1fce44626eb1f","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36008/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36008/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36008/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/721c78e7d3ba2947cf5c5a8992bf94f55dab64fd","head":{"label":"LuciferYang:SPARK-38694","ref":"SPARK-38694","sha":"721c78e7d3ba2947cf5c5a8992bf94f55dab64fd","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"42a9114f4c509f1f369bfb1499ea99c187518c48","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36008"},"html":{"href":"https://github.com/apache/spark/pull/36008"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36008"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36008/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36008/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36008/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/721c78e7d3ba2947cf5c5a8992bf94f55dab64fd"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36007","id":893861018,"node_id":"PR_kwDOAQXtWs41Rzya","html_url":"https://github.com/apache/spark/pull/36007","diff_url":"https://github.com/apache/spark/pull/36007.diff","patch_url":"https://github.com/apache/spark/pull/36007.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36007","number":36007,"state":"closed","locked":false,"title":"ORC can not surport the dataType,such as char or varchar","user":{"login":"Jackhjf","id":33471639,"node_id":"MDQ6VXNlcjMzNDcxNjM5","avatar_url":"https://avatars.githubusercontent.com/u/33471639?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackhjf","html_url":"https://github.com/Jackhjf","followers_url":"https://api.github.com/users/Jackhjf/followers","following_url":"https://api.github.com/users/Jackhjf/following{/other_user}","gists_url":"https://api.github.com/users/Jackhjf/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackhjf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackhjf/subscriptions","organizations_url":"https://api.github.com/users/Jackhjf/orgs","repos_url":"https://api.github.com/users/Jackhjf/repos","events_url":"https://api.github.com/users/Jackhjf/events{/privacy}","received_events_url":"https://api.github.com/users/Jackhjf/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"the detail error info:\r\n<img width=\"416\" alt=\"image\" src=\"https://user-images.githubusercontent.com/33471639/160738846-15d85da6-b056-4795-ab78-baa0444b8e5e.png\">\r\n\r\nwhen I change this code，I can succeed to run\r\n<img width=\"416\" alt=\"image\" src=\"https://user-images.githubusercontent.com/33471639/160738986-f51a592d-9965-4a2e-8983-9b72152d25dc.png\">\r\n\r\n","created_at":"2022-03-30T02:31:01Z","updated_at":"2022-03-30T08:26:34Z","closed_at":"2022-03-30T03:23:21Z","merged_at":null,"merge_commit_sha":null,"assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1405803268,"node_id":"MDU6TGFiZWwxNDA1ODAzMjY4","url":"https://api.github.com/repos/apache/spark/labels/MLLIB","name":"MLLIB","color":"ededed","default":false,"description":null},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1406605057,"node_id":"MDU6TGFiZWwxNDA2NjA1MDU3","url":"https://api.github.com/repos/apache/spark/labels/KUBERNETES","name":"KUBERNETES","color":"ededed","default":false,"description":null},{"id":1406605079,"node_id":"MDU6TGFiZWwxNDA2NjA1MDc5","url":"https://api.github.com/repos/apache/spark/labels/WEB%20UI","name":"WEB UI","color":"ededed","default":false,"description":null},{"id":1406606351,"node_id":"MDU6TGFiZWwxNDA2NjA2MzUx","url":"https://api.github.com/repos/apache/spark/labels/DEPLOY","name":"DEPLOY","color":"ededed","default":false,"description":null},{"id":1406607243,"node_id":"MDU6TGFiZWwxNDA2NjA3MjQz","url":"https://api.github.com/repos/apache/spark/labels/GRAPHX","name":"GRAPHX","color":"ededed","default":false,"description":null},{"id":1406625202,"node_id":"MDU6TGFiZWwxNDA2NjI1MjAy","url":"https://api.github.com/repos/apache/spark/labels/MESOS","name":"MESOS","color":"ededed","default":false,"description":null},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null},{"id":1406628559,"node_id":"MDU6TGFiZWwxNDA2NjI4NTU5","url":"https://api.github.com/repos/apache/spark/labels/SPARK%20SHELL","name":"SPARK SHELL","color":"ededed","default":false,"description":null},{"id":1427970157,"node_id":"MDU6TGFiZWwxNDI3OTcwMTU3","url":"https://api.github.com/repos/apache/spark/labels/YARN","name":"YARN","color":"ededed","default":false,"description":null},{"id":1496047285,"node_id":"MDU6TGFiZWwxNDk2MDQ3Mjg1","url":"https://api.github.com/repos/apache/spark/labels/EXAMPLES","name":"EXAMPLES","color":"ededed","default":false,"description":""},{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982015569,"node_id":"MDU6TGFiZWwxOTgyMDE1NTY5","url":"https://api.github.com/repos/apache/spark/labels/WINDOWS","name":"WINDOWS","color":"ededed","default":false,"description":null},{"id":1982110661,"node_id":"MDU6TGFiZWwxOTgyMTEwNjYx","url":"https://api.github.com/repos/apache/spark/labels/INFRA","name":"INFRA","color":"ededed","default":false,"description":null},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":1984361638,"node_id":"MDU6TGFiZWwxOTg0MzYxNjM4","url":"https://api.github.com/repos/apache/spark/labels/R","name":"R","color":"ededed","default":false,"description":null},{"id":1984378631,"node_id":"MDU6TGFiZWwxOTg0Mzc4NjMx","url":"https://api.github.com/repos/apache/spark/labels/DSTREAM","name":"DSTREAM","color":"ededed","default":false,"description":null},{"id":1988040187,"node_id":"MDU6TGFiZWwxOTg4MDQwMTg3","url":"https://api.github.com/repos/apache/spark/labels/AVRO","name":"AVRO","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36007/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36007/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36007/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/d81ad57a6b606ba2850bc0e1dec91bc28831a0ae","head":{"label":"apache:branch-3.2","ref":"branch-3.2","sha":"d81ad57a6b606ba2850bc0e1dec91bc28831a0ae","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"42a9114f4c509f1f369bfb1499ea99c187518c48","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36007"},"html":{"href":"https://github.com/apache/spark/pull/36007"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36007"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36007/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36007/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36007/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/d81ad57a6b606ba2850bc0e1dec91bc28831a0ae"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36006","id":893371193,"node_id":"PR_kwDOAQXtWs41P8M5","html_url":"https://github.com/apache/spark/pull/36006","diff_url":"https://github.com/apache/spark/pull/36006.diff","patch_url":"https://github.com/apache/spark/pull/36006.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36006","number":36006,"state":"closed","locked":false,"title":"[SPARK-38686][PYTHON] Implement `keep` parameter of `(Index/MultiIndex).drop_duplicates`","user":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nImplement `keep` parameter of `(Index/MultiIndex).drop_duplicates` to specify how to handle dropping duplicates.\r\n\r\n\r\n### Why are the changes needed?\r\nTo reach parity with pandas.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, `keep` parameter of `(Index/MultiIndex).drop_duplicates` is supported now.\r\n\r\nTake MultiIndex for example,\r\n```py\r\n        >>> arrays = [[1, 2, 3, 1, 2], [\"red\", \"blue\", \"black\", \"red\", \"blue\"]]\r\n        >>> midx = ps.MultiIndex.from_arrays(arrays, names=(\"number\", \"color\"))\r\n        >>> midx\r\n        MultiIndex([(1,   'red'),\r\n                    (2,  'blue'),\r\n                    (3, 'black'),\r\n                    (1,   'red'),\r\n                    (2,  'blue')],\r\n                   names=['number', 'color'])\r\n\r\n        >>> midx.drop_duplicates(keep='first')\r\n        MultiIndex([(1,   'red'),\r\n                    (2,  'blue'),\r\n                    (3, 'black')],\r\n                   names=['number', 'color'])\r\n\r\n        >>> midx.drop_duplicates(keep='last')\r\n        MultiIndex([(3, 'black'),\r\n                    (1,   'red'),\r\n                    (2,  'blue')],\r\n                   names=['number', 'color'])\r\n\r\n        >>> midx.drop_duplicates(keep=False)\r\n        MultiIndex([(3, 'black')],\r\n                   names=['number', 'color'])\r\n```\r\n\r\n### How was this patch tested?\r\nUnit tests.\r\n","created_at":"2022-03-29T18:06:00Z","updated_at":"2022-04-03T18:46:52Z","closed_at":"2022-04-03T00:51:08Z","merged_at":null,"merge_commit_sha":"2e59ea5f653c6690805d3ce0c06bee0a9d9791ef","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36006/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36006/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36006/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/0fbb661607492057eb9a7a9bc30fc0871fb8fb3d","head":{"label":"xinrong-meng:index.drop_duplicates","ref":"index.drop_duplicates","sha":"0fbb661607492057eb9a7a9bc30fc0871fb8fb3d","user":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":335786381,"node_id":"MDEwOlJlcG9zaXRvcnkzMzU3ODYzODE=","name":"spark","full_name":"xinrong-meng/spark","private":false,"owner":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/xinrong-meng/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/xinrong-meng/spark","forks_url":"https://api.github.com/repos/xinrong-meng/spark/forks","keys_url":"https://api.github.com/repos/xinrong-meng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xinrong-meng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xinrong-meng/spark/teams","hooks_url":"https://api.github.com/repos/xinrong-meng/spark/hooks","issue_events_url":"https://api.github.com/repos/xinrong-meng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/xinrong-meng/spark/events","assignees_url":"https://api.github.com/repos/xinrong-meng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/xinrong-meng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/xinrong-meng/spark/tags","blobs_url":"https://api.github.com/repos/xinrong-meng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xinrong-meng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xinrong-meng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/xinrong-meng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xinrong-meng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/xinrong-meng/spark/languages","stargazers_url":"https://api.github.com/repos/xinrong-meng/spark/stargazers","contributors_url":"https://api.github.com/repos/xinrong-meng/spark/contributors","subscribers_url":"https://api.github.com/repos/xinrong-meng/spark/subscribers","subscription_url":"https://api.github.com/repos/xinrong-meng/spark/subscription","commits_url":"https://api.github.com/repos/xinrong-meng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/xinrong-meng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/xinrong-meng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/xinrong-meng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/xinrong-meng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/xinrong-meng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xinrong-meng/spark/merges","archive_url":"https://api.github.com/repos/xinrong-meng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xinrong-meng/spark/downloads","issues_url":"https://api.github.com/repos/xinrong-meng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/xinrong-meng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/xinrong-meng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/xinrong-meng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xinrong-meng/spark/labels{/name}","releases_url":"https://api.github.com/repos/xinrong-meng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/xinrong-meng/spark/deployments","created_at":"2021-02-03T23:47:29Z","updated_at":"2024-09-27T08:09:06Z","pushed_at":"2025-02-08T02:14:33Z","git_url":"git://github.com/xinrong-meng/spark.git","ssh_url":"git@github.com:xinrong-meng/spark.git","clone_url":"https://github.com/xinrong-meng/spark.git","svn_url":"https://github.com/xinrong-meng/spark","homepage":"https://spark.apache.org/","size":469811,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":2,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"80deb24588aa8ba15db592504e90980d016f881b","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36006"},"html":{"href":"https://github.com/apache/spark/pull/36006"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36006"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36006/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36006/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36006/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/0fbb661607492057eb9a7a9bc30fc0871fb8fb3d"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36005","id":893140446,"node_id":"PR_kwDOAQXtWs41PD3e","html_url":"https://github.com/apache/spark/pull/36005","diff_url":"https://github.com/apache/spark/pull/36005.diff","patch_url":"https://github.com/apache/spark/pull/36005.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36005","number":36005,"state":"closed","locked":false,"title":"[SPARK-38506][SQL] Push partial aggregation through join","user":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR add a new rule to push down the partial aggregation through join if it cannot be planned as broadcast hash join. For example:\r\n```\r\nset spark.sql.autoBroadcastJoinThreshold=-1;\r\nCREATE TABLE t1 using parquet AS SELECT id AS a, id AS b, id AS c FROM range(10);\r\nCREATE TABLE t2 using parquet AS SELECT id AS x, id AS y FROM range(8);\r\nSELECT c, y FROM t1 JOIN t2 ON t1.a = t2.x GROUP BY c, y;\r\n```\r\n\r\nBefore this pr:\r\n```\r\n== Optimized Logical Plan ==\r\nAggregate [c#19L, y#21L], [c#19L, y#21L], false\r\n+- Project [c#19L, y#21L]\r\n   +- Join Inner, (a#17L = x#20L)\r\n      :- Project [a#17L, c#19L]\r\n      :  +- Filter isnotnull(a#17L)\r\n      :     +- Relation default.t1[a#17L,b#18L,c#19L] parquet\r\n      +- Filter isnotnull(x#20L)\r\n         +- Relation default.t2[x#20L,y#21L] parquet\r\n```\r\n\r\nAfter this pr:\r\n```\r\n== Optimized Logical Plan ==\r\nAggregate [c#19L, y#21L], [c#19L, y#21L], false\r\n+- Project [c#19L, y#21L]\r\n   +- Join Inner, (a#17L = x#20L)\r\n      :- Aggregate [c#19L, a#17L], [c#19L, a#17L], true\r\n      :  +- Project [a#17L, c#19L]\r\n      :     +- Filter isnotnull(a#17L)\r\n      :        +- Relation default.t1[a#17L,b#18L,c#19L] parquet\r\n      +- Aggregate [y#21L, x#20L], [y#21L, x#20L], true\r\n         +- Filter isnotnull(x#20L)\r\n            +- Relation default.t2[x#20L,y#21L] parquet\r\n```\r\n\r\n### Why are the changes needed?\r\n\r\n1. Reduce shuffle data to improve query performance.\r\n2. Many databases have similar rules:\r\n    Teradata: https://docs.teradata.com/r/Teradata-VantageTM-SQL-Request-and-Transaction-Processing/March-2019/Join-Planning-and-Optimization/Partial-GROUP-BY-Block-Optimization\r\n    Calcite: https://issues.apache.org/jira/browse/CALCITE-366\r\n    Hive: https://issues.apache.org/jira/browse/HIVE-10785\r\n    Trino: https://github.com/trinodb/trino/blob/375/core/trino-main/src/main/java/io/trino/sql/planner/iterative/rule/PushPartialAggregationThroughJoin.java\r\n    Presto: https://github.com/prestodb/presto/blob/0.271/presto-main/src/main/java/com/facebook/presto/sql/planner/iterative/rule/PushPartialAggregationThroughJoin.java\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nUnit test and TPC-DS benchmark test.\r\n\r\nSQL | Before this PR(Seconds) | After this PR(Seconds)\r\n-- | -- | --\r\nq37 | 31 | 14\r\nq38 | 60 | 28\r\nq54 | 10 | 12\r\nq82 | 52 | 25\r\nq87 | 46 | 41\r\n\r\n\r\n","created_at":"2022-03-29T14:31:43Z","updated_at":"2022-09-27T00:27:55Z","closed_at":"2022-09-27T00:27:55Z","merged_at":null,"merge_commit_sha":"603448b353da6e44f1fc1cdc5b13e617b79b1c8d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36005/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36005/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36005/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/37c9931db691be90dfbd734e1b8cb1100ec9a206","head":{"label":"wangyum:SPARK-38506-dev","ref":"SPARK-38506-dev","sha":"37c9931db691be90dfbd734e1b8cb1100ec9a206","user":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":467759455,"node_id":"R_kgDOG-FxXw","name":"spark","full_name":"wangyum/spark","private":false,"owner":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/wangyum/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/wangyum/spark","forks_url":"https://api.github.com/repos/wangyum/spark/forks","keys_url":"https://api.github.com/repos/wangyum/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/wangyum/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/wangyum/spark/teams","hooks_url":"https://api.github.com/repos/wangyum/spark/hooks","issue_events_url":"https://api.github.com/repos/wangyum/spark/issues/events{/number}","events_url":"https://api.github.com/repos/wangyum/spark/events","assignees_url":"https://api.github.com/repos/wangyum/spark/assignees{/user}","branches_url":"https://api.github.com/repos/wangyum/spark/branches{/branch}","tags_url":"https://api.github.com/repos/wangyum/spark/tags","blobs_url":"https://api.github.com/repos/wangyum/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/wangyum/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/wangyum/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/wangyum/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/wangyum/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/wangyum/spark/languages","stargazers_url":"https://api.github.com/repos/wangyum/spark/stargazers","contributors_url":"https://api.github.com/repos/wangyum/spark/contributors","subscribers_url":"https://api.github.com/repos/wangyum/spark/subscribers","subscription_url":"https://api.github.com/repos/wangyum/spark/subscription","commits_url":"https://api.github.com/repos/wangyum/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/wangyum/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/wangyum/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/wangyum/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/wangyum/spark/contents/{+path}","compare_url":"https://api.github.com/repos/wangyum/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/wangyum/spark/merges","archive_url":"https://api.github.com/repos/wangyum/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/wangyum/spark/downloads","issues_url":"https://api.github.com/repos/wangyum/spark/issues{/number}","pulls_url":"https://api.github.com/repos/wangyum/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/wangyum/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/wangyum/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/wangyum/spark/labels{/name}","releases_url":"https://api.github.com/repos/wangyum/spark/releases{/id}","deployments_url":"https://api.github.com/repos/wangyum/spark/deployments","created_at":"2022-03-09T03:11:29Z","updated_at":"2025-02-09T07:30:39Z","pushed_at":"2025-02-09T07:30:08Z","git_url":"git://github.com/wangyum/spark.git","ssh_url":"git@github.com:wangyum/spark.git","clone_url":"https://github.com/wangyum/spark.git","svn_url":"https://github.com/wangyum/spark","homepage":"https://spark.apache.org/","size":487127,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":8,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":8,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"33091980ab325bcd001fad93129d74f0189c08e9","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36005"},"html":{"href":"https://github.com/apache/spark/pull/36005"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36005"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36005/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36005/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36005/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/37c9931db691be90dfbd734e1b8cb1100ec9a206"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36004","id":893006649,"node_id":"PR_kwDOAQXtWs41OjM5","html_url":"https://github.com/apache/spark/pull/36004","diff_url":"https://github.com/apache/spark/pull/36004.diff","patch_url":"https://github.com/apache/spark/pull/36004.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36004","number":36004,"state":"closed","locked":false,"title":"[SPARK-38681][SQL] Support nested generic case classes","user":{"login":"eejbyfeldt","id":73838248,"node_id":"MDQ6VXNlcjczODM4MjQ4","avatar_url":"https://avatars.githubusercontent.com/u/73838248?v=4","gravatar_id":"","url":"https://api.github.com/users/eejbyfeldt","html_url":"https://github.com/eejbyfeldt","followers_url":"https://api.github.com/users/eejbyfeldt/followers","following_url":"https://api.github.com/users/eejbyfeldt/following{/other_user}","gists_url":"https://api.github.com/users/eejbyfeldt/gists{/gist_id}","starred_url":"https://api.github.com/users/eejbyfeldt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eejbyfeldt/subscriptions","organizations_url":"https://api.github.com/users/eejbyfeldt/orgs","repos_url":"https://api.github.com/users/eejbyfeldt/repos","events_url":"https://api.github.com/users/eejbyfeldt/events{/privacy}","received_events_url":"https://api.github.com/users/eejbyfeldt/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n\r\nMaster and branch-3.3 will fail to derive schema for case classes with generic parameters if the parameter was not used directly as a field, but instead pass on as a generic parameter to another type. e.g.\r\n```\r\ncase class NestedGeneric[T](\r\n  generic: GenericData[T])\r\n```\r\n\r\nThis is a regression from the latest release of 3.2.1 where this works as expected.\r\n\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\n\r\n### Why are the changes needed?\r\nSupport more general case classes that user might have.\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nBetter support for generic case classes.\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\n\r\n### How was this patch tested?\r\nNew specs in ScalaReflectionSuite and ExpressionEncoderSuite. All the new test cases that does not use value classes pass if added to the 3.2 branch\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->","created_at":"2022-03-29T12:45:37Z","updated_at":"2022-05-20T00:18:04Z","closed_at":"2022-05-20T00:12:49Z","merged_at":null,"merge_commit_sha":"13f1867f552eb2c3bb7c98ecad9804411597b83d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36004/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36004/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36004/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/4b418ec9ac591121aa1cbf44bd09c0584a4c960d","head":{"label":"eejbyfeldt:SPARK-38681-nested-generic","ref":"SPARK-38681-nested-generic","sha":"4b418ec9ac591121aa1cbf44bd09c0584a4c960d","user":{"login":"eejbyfeldt","id":73838248,"node_id":"MDQ6VXNlcjczODM4MjQ4","avatar_url":"https://avatars.githubusercontent.com/u/73838248?v=4","gravatar_id":"","url":"https://api.github.com/users/eejbyfeldt","html_url":"https://github.com/eejbyfeldt","followers_url":"https://api.github.com/users/eejbyfeldt/followers","following_url":"https://api.github.com/users/eejbyfeldt/following{/other_user}","gists_url":"https://api.github.com/users/eejbyfeldt/gists{/gist_id}","starred_url":"https://api.github.com/users/eejbyfeldt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eejbyfeldt/subscriptions","organizations_url":"https://api.github.com/users/eejbyfeldt/orgs","repos_url":"https://api.github.com/users/eejbyfeldt/repos","events_url":"https://api.github.com/users/eejbyfeldt/events{/privacy}","received_events_url":"https://api.github.com/users/eejbyfeldt/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":373800628,"node_id":"MDEwOlJlcG9zaXRvcnkzNzM4MDA2Mjg=","name":"spark","full_name":"eejbyfeldt/spark","private":false,"owner":{"login":"eejbyfeldt","id":73838248,"node_id":"MDQ6VXNlcjczODM4MjQ4","avatar_url":"https://avatars.githubusercontent.com/u/73838248?v=4","gravatar_id":"","url":"https://api.github.com/users/eejbyfeldt","html_url":"https://github.com/eejbyfeldt","followers_url":"https://api.github.com/users/eejbyfeldt/followers","following_url":"https://api.github.com/users/eejbyfeldt/following{/other_user}","gists_url":"https://api.github.com/users/eejbyfeldt/gists{/gist_id}","starred_url":"https://api.github.com/users/eejbyfeldt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eejbyfeldt/subscriptions","organizations_url":"https://api.github.com/users/eejbyfeldt/orgs","repos_url":"https://api.github.com/users/eejbyfeldt/repos","events_url":"https://api.github.com/users/eejbyfeldt/events{/privacy}","received_events_url":"https://api.github.com/users/eejbyfeldt/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/eejbyfeldt/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/eejbyfeldt/spark","forks_url":"https://api.github.com/repos/eejbyfeldt/spark/forks","keys_url":"https://api.github.com/repos/eejbyfeldt/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/eejbyfeldt/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/eejbyfeldt/spark/teams","hooks_url":"https://api.github.com/repos/eejbyfeldt/spark/hooks","issue_events_url":"https://api.github.com/repos/eejbyfeldt/spark/issues/events{/number}","events_url":"https://api.github.com/repos/eejbyfeldt/spark/events","assignees_url":"https://api.github.com/repos/eejbyfeldt/spark/assignees{/user}","branches_url":"https://api.github.com/repos/eejbyfeldt/spark/branches{/branch}","tags_url":"https://api.github.com/repos/eejbyfeldt/spark/tags","blobs_url":"https://api.github.com/repos/eejbyfeldt/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/eejbyfeldt/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/eejbyfeldt/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/eejbyfeldt/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/eejbyfeldt/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/eejbyfeldt/spark/languages","stargazers_url":"https://api.github.com/repos/eejbyfeldt/spark/stargazers","contributors_url":"https://api.github.com/repos/eejbyfeldt/spark/contributors","subscribers_url":"https://api.github.com/repos/eejbyfeldt/spark/subscribers","subscription_url":"https://api.github.com/repos/eejbyfeldt/spark/subscription","commits_url":"https://api.github.com/repos/eejbyfeldt/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/eejbyfeldt/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/eejbyfeldt/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/eejbyfeldt/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/eejbyfeldt/spark/contents/{+path}","compare_url":"https://api.github.com/repos/eejbyfeldt/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/eejbyfeldt/spark/merges","archive_url":"https://api.github.com/repos/eejbyfeldt/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/eejbyfeldt/spark/downloads","issues_url":"https://api.github.com/repos/eejbyfeldt/spark/issues{/number}","pulls_url":"https://api.github.com/repos/eejbyfeldt/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/eejbyfeldt/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/eejbyfeldt/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/eejbyfeldt/spark/labels{/name}","releases_url":"https://api.github.com/repos/eejbyfeldt/spark/releases{/id}","deployments_url":"https://api.github.com/repos/eejbyfeldt/spark/deployments","created_at":"2021-06-04T10:07:59Z","updated_at":"2024-07-01T13:03:49Z","pushed_at":"2024-12-16T08:54:17Z","git_url":"git://github.com/eejbyfeldt/spark.git","ssh_url":"git@github.com:eejbyfeldt/spark.git","clone_url":"https://github.com/eejbyfeldt/spark.git","svn_url":"https://github.com/eejbyfeldt/spark","homepage":"https://spark.apache.org/","size":460540,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"7309e76d8b95e306d6f3d2f611316b748949e9cf","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36004"},"html":{"href":"https://github.com/apache/spark/pull/36004"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36004"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36004/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36004/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36004/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/4b418ec9ac591121aa1cbf44bd09c0584a4c960d"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36003","id":892958825,"node_id":"PR_kwDOAQXtWs41OXhp","html_url":"https://github.com/apache/spark/pull/36003","diff_url":"https://github.com/apache/spark/pull/36003.diff","patch_url":"https://github.com/apache/spark/pull/36003.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36003","number":36003,"state":"closed","locked":false,"title":"[SPARK-38685][SQL] Improve the implement of percentile_cont","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe current implement of percentile_cont looks a little overkill.\r\nThis PR uses tree node tag to avoid the issue.\r\n\r\n\r\n### Why are the changes needed?\r\nImprove the implement of percentile_cont\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n'No'.\r\nJust update new feature\r\n\r\n\r\n### How was this patch tested?\r\ntests updated.\r\n","created_at":"2022-03-29T12:00:37Z","updated_at":"2022-04-13T11:03:11Z","closed_at":"2022-04-13T11:03:11Z","merged_at":null,"merge_commit_sha":"2480460ad7c5a5fd02615b46099e58c107861eb6","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36003/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36003/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36003/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/0943299eed58cea95bef0a04e5b0b473a228eaa1","head":{"label":"beliefer:SPARK-38685","ref":"SPARK-38685","sha":"0943299eed58cea95bef0a04e5b0b473a228eaa1","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":237617513,"node_id":"MDEwOlJlcG9zaXRvcnkyMzc2MTc1MTM=","name":"spark","full_name":"beliefer/spark","private":false,"owner":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/beliefer/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/beliefer/spark","forks_url":"https://api.github.com/repos/beliefer/spark/forks","keys_url":"https://api.github.com/repos/beliefer/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/beliefer/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/beliefer/spark/teams","hooks_url":"https://api.github.com/repos/beliefer/spark/hooks","issue_events_url":"https://api.github.com/repos/beliefer/spark/issues/events{/number}","events_url":"https://api.github.com/repos/beliefer/spark/events","assignees_url":"https://api.github.com/repos/beliefer/spark/assignees{/user}","branches_url":"https://api.github.com/repos/beliefer/spark/branches{/branch}","tags_url":"https://api.github.com/repos/beliefer/spark/tags","blobs_url":"https://api.github.com/repos/beliefer/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/beliefer/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/beliefer/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/beliefer/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/beliefer/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/beliefer/spark/languages","stargazers_url":"https://api.github.com/repos/beliefer/spark/stargazers","contributors_url":"https://api.github.com/repos/beliefer/spark/contributors","subscribers_url":"https://api.github.com/repos/beliefer/spark/subscribers","subscription_url":"https://api.github.com/repos/beliefer/spark/subscription","commits_url":"https://api.github.com/repos/beliefer/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/beliefer/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/beliefer/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/beliefer/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/beliefer/spark/contents/{+path}","compare_url":"https://api.github.com/repos/beliefer/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/beliefer/spark/merges","archive_url":"https://api.github.com/repos/beliefer/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/beliefer/spark/downloads","issues_url":"https://api.github.com/repos/beliefer/spark/issues{/number}","pulls_url":"https://api.github.com/repos/beliefer/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/beliefer/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/beliefer/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/beliefer/spark/labels{/name}","releases_url":"https://api.github.com/repos/beliefer/spark/releases{/id}","deployments_url":"https://api.github.com/repos/beliefer/spark/deployments","created_at":"2020-02-01T13:17:08Z","updated_at":"2025-01-28T09:45:49Z","pushed_at":"2025-01-28T11:57:29Z","git_url":"git://github.com/beliefer/spark.git","ssh_url":"git@github.com:beliefer/spark.git","clone_url":"https://github.com/beliefer/spark.git","svn_url":"https://github.com/beliefer/spark","homepage":"","size":488033,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"9f6aad407724997dc04a7689bb870d1d3ddd5526","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36003"},"html":{"href":"https://github.com/apache/spark/pull/36003"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36003"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36003/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36003/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36003/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/0943299eed58cea95bef0a04e5b0b473a228eaa1"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36002","id":892883217,"node_id":"PR_kwDOAQXtWs41OFER","html_url":"https://github.com/apache/spark/pull/36002","diff_url":"https://github.com/apache/spark/pull/36002.diff","patch_url":"https://github.com/apache/spark/pull/36002.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36002","number":36002,"state":"closed","locked":false,"title":"[SPARK-38684][SS] Fix correctness issue on stream-stream outer join with RocksDB state store provider","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\n(Credit to @alex-balikov for the inspiration of the root cause observation, and @anishshri-db for looking into the issue together.)\r\n\r\nThis PR fixes the correctness issue on stream-stream outer join with RocksDB state store provider, which can occur in certain condition, like below:\r\n\r\n* stream-stream time interval outer join\r\n  * left outer join has an issue on left side, right outer join has an issue on right side, full outer join has an issue on both sides\r\n* At batch N, produce non-late row(s) on the problematic side\r\n* At the same batch (batch N), some row(s) on the problematic side are evicted by the condition of watermark\r\n\r\nThe root cause is same as [SPARK-38320](https://issues.apache.org/jira/browse/SPARK-38320) - weak read consistency on iterator, especially with RocksDB state store provider. (Quoting from SPARK-38320: The problem is due to the StateStore.iterator not reflecting StateStore changes made after its creation.)\r\n\r\nMore specifically, if updates are performed during processing input rows and somehow updates the number of values for grouping key, the update is not seen in SymmetricHashJoinStateManager.removeByValueCondition, and the method does the eviction with the number of values in out of sync.\r\n\r\nMaking it more worse, if the method performs the eviction and updates the number of values for grouping key, it \"overwrites\" the number of value, effectively drop all rows being inserted in the same batch.\r\n\r\nBelow code blocks are references on understanding the details of the issue.\r\n\r\nhttps://github.com/apache/spark/blob/ca7200b0008dc6101a252020e6c34ef7b72d81d6/sql/core/src/main/scala/org/apache/spark/sql/execution/streaming/StreamingSymmetricHashJoinExec.scala#L327-L339\r\n\r\nhttps://github.com/apache/spark/blob/ca7200b0008dc6101a252020e6c34ef7b72d81d6/sql/core/src/main/scala/org/apache/spark/sql/execution/streaming/StreamingSymmetricHashJoinExec.scala#L619-L627\r\n\r\nhttps://github.com/apache/spark/blob/ca7200b0008dc6101a252020e6c34ef7b72d81d6/sql/core/src/main/scala/org/apache/spark/sql/execution/streaming/state/SymmetricHashJoinStateManager.scala#L195-L201\r\n\r\nhttps://github.com/apache/spark/blob/ca7200b0008dc6101a252020e6c34ef7b72d81d6/sql/core/src/main/scala/org/apache/spark/sql/execution/streaming/state/SymmetricHashJoinStateManager.scala#L208-L223\r\n\r\nThis PR fixes the outer iterators as late evaluation to ensure all updates on processing input rows are reflected \"before\" outer iterators are initialized.\r\n\r\n### Why are the changes needed?\r\n\r\nThe bug is described in above section.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nNew UT added.","created_at":"2022-03-29T10:46:50Z","updated_at":"2022-04-08T01:44:38Z","closed_at":"2022-04-01T09:22:02Z","merged_at":null,"merge_commit_sha":"27e42b8b8be3f39341428ca17d2f94875155fefd","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36002/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36002/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36002/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/6a31efe9c8cbe45e1b054e60fe30e9ac3e4591e4","head":{"label":"HeartSaVioR:SPARK-38684","ref":"SPARK-38684","sha":"6a31efe9c8cbe45e1b054e60fe30e9ac3e4591e4","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":27994296,"node_id":"MDEwOlJlcG9zaXRvcnkyNzk5NDI5Ng==","name":"spark","full_name":"HeartSaVioR/spark","private":false,"owner":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HeartSaVioR/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HeartSaVioR/spark","forks_url":"https://api.github.com/repos/HeartSaVioR/spark/forks","keys_url":"https://api.github.com/repos/HeartSaVioR/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HeartSaVioR/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HeartSaVioR/spark/teams","hooks_url":"https://api.github.com/repos/HeartSaVioR/spark/hooks","issue_events_url":"https://api.github.com/repos/HeartSaVioR/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HeartSaVioR/spark/events","assignees_url":"https://api.github.com/repos/HeartSaVioR/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HeartSaVioR/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HeartSaVioR/spark/tags","blobs_url":"https://api.github.com/repos/HeartSaVioR/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HeartSaVioR/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HeartSaVioR/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HeartSaVioR/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HeartSaVioR/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HeartSaVioR/spark/languages","stargazers_url":"https://api.github.com/repos/HeartSaVioR/spark/stargazers","contributors_url":"https://api.github.com/repos/HeartSaVioR/spark/contributors","subscribers_url":"https://api.github.com/repos/HeartSaVioR/spark/subscribers","subscription_url":"https://api.github.com/repos/HeartSaVioR/spark/subscription","commits_url":"https://api.github.com/repos/HeartSaVioR/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HeartSaVioR/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HeartSaVioR/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HeartSaVioR/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HeartSaVioR/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HeartSaVioR/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HeartSaVioR/spark/merges","archive_url":"https://api.github.com/repos/HeartSaVioR/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HeartSaVioR/spark/downloads","issues_url":"https://api.github.com/repos/HeartSaVioR/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HeartSaVioR/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HeartSaVioR/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HeartSaVioR/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HeartSaVioR/spark/labels{/name}","releases_url":"https://api.github.com/repos/HeartSaVioR/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HeartSaVioR/spark/deployments","created_at":"2014-12-14T12:56:04Z","updated_at":"2024-10-21T04:36:36Z","pushed_at":"2025-01-08T06:13:27Z","git_url":"git://github.com/HeartSaVioR/spark.git","ssh_url":"git@github.com:HeartSaVioR/spark.git","clone_url":"https://github.com/HeartSaVioR/spark.git","svn_url":"https://github.com/HeartSaVioR/spark","homepage":null,"size":456164,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":1,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"42a9114f4c509f1f369bfb1499ea99c187518c48","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36002"},"html":{"href":"https://github.com/apache/spark/pull/36002"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36002"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36002/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36002/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36002/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/6a31efe9c8cbe45e1b054e60fe30e9ac3e4591e4"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36001","id":892807840,"node_id":"PR_kwDOAQXtWs41Nyqg","html_url":"https://github.com/apache/spark/pull/36001","diff_url":"https://github.com/apache/spark/pull/36001.diff","patch_url":"https://github.com/apache/spark/pull/36001.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36001","number":36001,"state":"closed","locked":false,"title":"[SPARK-38561][K8S][DOCS][FOLLOWUP] Add note for specific scheduler configuration and fix typos","user":{"login":"Yikun","id":1736354,"node_id":"MDQ6VXNlcjE3MzYzNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1736354?v=4","gravatar_id":"","url":"https://api.github.com/users/Yikun","html_url":"https://github.com/Yikun","followers_url":"https://api.github.com/users/Yikun/followers","following_url":"https://api.github.com/users/Yikun/following{/other_user}","gists_url":"https://api.github.com/users/Yikun/gists{/gist_id}","starred_url":"https://api.github.com/users/Yikun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yikun/subscriptions","organizations_url":"https://api.github.com/users/Yikun/orgs","repos_url":"https://api.github.com/users/Yikun/repos","events_url":"https://api.github.com/users/Yikun/events{/privacy}","received_events_url":"https://api.github.com/users/Yikun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nAdd note for specific scheduler configuration and fix typos\r\n\r\n\r\n### Why are the changes needed?\r\nWe addressed some comments on https://github.com/apache/spark/pull/35955 when backport to 3.3 branch.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo, doc only\r\n\r\n\r\n### How was this patch tested?\r\n![image](https://user-images.githubusercontent.com/1736354/160582401-ced6071e-61f4-42fe-a62a-d32f42e67a53.png)\r\n\r\nSKIP_API=1 bundle exec jekyll serve --watch","created_at":"2022-03-29T09:37:14Z","updated_at":"2022-04-02T16:39:55Z","closed_at":"2022-04-02T16:39:17Z","merged_at":null,"merge_commit_sha":"9a6db6d6df3c8bd5b787e659f66fd218fadf009e","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36001/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36001/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36001/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/26425eb689ef39c25b42c87368f585e6f1fdd44d","head":{"label":"Yikun:SPARK-38561-FOLLOWUP","ref":"SPARK-38561-FOLLOWUP","sha":"26425eb689ef39c25b42c87368f585e6f1fdd44d","user":{"login":"Yikun","id":1736354,"node_id":"MDQ6VXNlcjE3MzYzNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1736354?v=4","gravatar_id":"","url":"https://api.github.com/users/Yikun","html_url":"https://github.com/Yikun","followers_url":"https://api.github.com/users/Yikun/followers","following_url":"https://api.github.com/users/Yikun/following{/other_user}","gists_url":"https://api.github.com/users/Yikun/gists{/gist_id}","starred_url":"https://api.github.com/users/Yikun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yikun/subscriptions","organizations_url":"https://api.github.com/users/Yikun/orgs","repos_url":"https://api.github.com/users/Yikun/repos","events_url":"https://api.github.com/users/Yikun/events{/privacy}","received_events_url":"https://api.github.com/users/Yikun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":335541670,"node_id":"MDEwOlJlcG9zaXRvcnkzMzU1NDE2NzA=","name":"spark","full_name":"Yikun/spark","private":false,"owner":{"login":"Yikun","id":1736354,"node_id":"MDQ6VXNlcjE3MzYzNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1736354?v=4","gravatar_id":"","url":"https://api.github.com/users/Yikun","html_url":"https://github.com/Yikun","followers_url":"https://api.github.com/users/Yikun/followers","following_url":"https://api.github.com/users/Yikun/following{/other_user}","gists_url":"https://api.github.com/users/Yikun/gists{/gist_id}","starred_url":"https://api.github.com/users/Yikun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yikun/subscriptions","organizations_url":"https://api.github.com/users/Yikun/orgs","repos_url":"https://api.github.com/users/Yikun/repos","events_url":"https://api.github.com/users/Yikun/events{/privacy}","received_events_url":"https://api.github.com/users/Yikun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Yikun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/Yikun/spark","forks_url":"https://api.github.com/repos/Yikun/spark/forks","keys_url":"https://api.github.com/repos/Yikun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Yikun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Yikun/spark/teams","hooks_url":"https://api.github.com/repos/Yikun/spark/hooks","issue_events_url":"https://api.github.com/repos/Yikun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/Yikun/spark/events","assignees_url":"https://api.github.com/repos/Yikun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/Yikun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/Yikun/spark/tags","blobs_url":"https://api.github.com/repos/Yikun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Yikun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Yikun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/Yikun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Yikun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/Yikun/spark/languages","stargazers_url":"https://api.github.com/repos/Yikun/spark/stargazers","contributors_url":"https://api.github.com/repos/Yikun/spark/contributors","subscribers_url":"https://api.github.com/repos/Yikun/spark/subscribers","subscription_url":"https://api.github.com/repos/Yikun/spark/subscription","commits_url":"https://api.github.com/repos/Yikun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/Yikun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/Yikun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/Yikun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/Yikun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/Yikun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Yikun/spark/merges","archive_url":"https://api.github.com/repos/Yikun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Yikun/spark/downloads","issues_url":"https://api.github.com/repos/Yikun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/Yikun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/Yikun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/Yikun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Yikun/spark/labels{/name}","releases_url":"https://api.github.com/repos/Yikun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/Yikun/spark/deployments","created_at":"2021-02-03T07:25:58Z","updated_at":"2022-01-13T12:26:18Z","pushed_at":"2023-01-28T06:50:14Z","git_url":"git://github.com/Yikun/spark.git","ssh_url":"git@github.com:Yikun/spark.git","clone_url":"https://github.com/Yikun/spark.git","svn_url":"https://github.com/Yikun/spark","homepage":"https://spark.apache.org/","size":452564,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":1,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ca7200b0008dc6101a252020e6c34ef7b72d81d6","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36001"},"html":{"href":"https://github.com/apache/spark/pull/36001"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36001"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36001/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36001/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36001/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/26425eb689ef39c25b42c87368f585e6f1fdd44d"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/36000","id":892796783,"node_id":"PR_kwDOAQXtWs41Nv9v","html_url":"https://github.com/apache/spark/pull/36000","diff_url":"https://github.com/apache/spark/pull/36000.diff","patch_url":"https://github.com/apache/spark/pull/36000.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/36000","number":36000,"state":"closed","locked":false,"title":"[SPARK-38683][SHUFFLE] It is unnecessary to release the ShuffleManagedBufferIterator or ShuffleChunkManagedBufferIterator or ManagedBufferIterator buffers when the client channel's connection is terminated.","user":{"login":"weixiuli","id":39684231,"node_id":"MDQ6VXNlcjM5Njg0MjMx","avatar_url":"https://avatars.githubusercontent.com/u/39684231?v=4","gravatar_id":"","url":"https://api.github.com/users/weixiuli","html_url":"https://github.com/weixiuli","followers_url":"https://api.github.com/users/weixiuli/followers","following_url":"https://api.github.com/users/weixiuli/following{/other_user}","gists_url":"https://api.github.com/users/weixiuli/gists{/gist_id}","starred_url":"https://api.github.com/users/weixiuli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weixiuli/subscriptions","organizations_url":"https://api.github.com/users/weixiuli/orgs","repos_url":"https://api.github.com/users/weixiuli/repos","events_url":"https://api.github.com/users/weixiuli/events{/privacy}","received_events_url":"https://api.github.com/users/weixiuli/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nIt is unnecessary to release the ShuffleManagedBufferIterator or ShuffleChunkManagedBufferIterator or ManagedBufferIterator buffers when the client channel's connection is terminated.\r\n\r\nIf a  client connection is closed before the iterator is fully drained, then the remaining materialized buffers should all be released, but some buffers like `ShuffleManagedBufferIterator`, `ShuffleChunkManagedBufferIterator`, `ManagedBufferIterator` are not materialized until the iterator is traversed by calling next(),  so we should not traverse and release them in order to avoid unnecessary buffer materialization,  which could be I/O based.\r\n### Why are the changes needed?\r\n\r\nTo reduce I/O operations  for the External Shuffle Service.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nExisting unittests.\r\n","created_at":"2022-03-29T09:26:52Z","updated_at":"2022-04-01T02:06:52Z","closed_at":"2022-04-01T02:06:33Z","merged_at":null,"merge_commit_sha":"5234cad20e6020f2d4266d178e014af62f2b5fa6","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/36000/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/36000/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/36000/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/e6c87792131b030b9f114db65237ec448155d674","head":{"label":"weixiuli:SPARK-38683-unnecessary-release","ref":"SPARK-38683-unnecessary-release","sha":"e6c87792131b030b9f114db65237ec448155d674","user":{"login":"weixiuli","id":39684231,"node_id":"MDQ6VXNlcjM5Njg0MjMx","avatar_url":"https://avatars.githubusercontent.com/u/39684231?v=4","gravatar_id":"","url":"https://api.github.com/users/weixiuli","html_url":"https://github.com/weixiuli","followers_url":"https://api.github.com/users/weixiuli/followers","following_url":"https://api.github.com/users/weixiuli/following{/other_user}","gists_url":"https://api.github.com/users/weixiuli/gists{/gist_id}","starred_url":"https://api.github.com/users/weixiuli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weixiuli/subscriptions","organizations_url":"https://api.github.com/users/weixiuli/orgs","repos_url":"https://api.github.com/users/weixiuli/repos","events_url":"https://api.github.com/users/weixiuli/events{/privacy}","received_events_url":"https://api.github.com/users/weixiuli/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":140506691,"node_id":"MDEwOlJlcG9zaXRvcnkxNDA1MDY2OTE=","name":"spark","full_name":"weixiuli/spark","private":false,"owner":{"login":"weixiuli","id":39684231,"node_id":"MDQ6VXNlcjM5Njg0MjMx","avatar_url":"https://avatars.githubusercontent.com/u/39684231?v=4","gravatar_id":"","url":"https://api.github.com/users/weixiuli","html_url":"https://github.com/weixiuli","followers_url":"https://api.github.com/users/weixiuli/followers","following_url":"https://api.github.com/users/weixiuli/following{/other_user}","gists_url":"https://api.github.com/users/weixiuli/gists{/gist_id}","starred_url":"https://api.github.com/users/weixiuli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weixiuli/subscriptions","organizations_url":"https://api.github.com/users/weixiuli/orgs","repos_url":"https://api.github.com/users/weixiuli/repos","events_url":"https://api.github.com/users/weixiuli/events{/privacy}","received_events_url":"https://api.github.com/users/weixiuli/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/weixiuli/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/weixiuli/spark","forks_url":"https://api.github.com/repos/weixiuli/spark/forks","keys_url":"https://api.github.com/repos/weixiuli/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/weixiuli/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/weixiuli/spark/teams","hooks_url":"https://api.github.com/repos/weixiuli/spark/hooks","issue_events_url":"https://api.github.com/repos/weixiuli/spark/issues/events{/number}","events_url":"https://api.github.com/repos/weixiuli/spark/events","assignees_url":"https://api.github.com/repos/weixiuli/spark/assignees{/user}","branches_url":"https://api.github.com/repos/weixiuli/spark/branches{/branch}","tags_url":"https://api.github.com/repos/weixiuli/spark/tags","blobs_url":"https://api.github.com/repos/weixiuli/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/weixiuli/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/weixiuli/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/weixiuli/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/weixiuli/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/weixiuli/spark/languages","stargazers_url":"https://api.github.com/repos/weixiuli/spark/stargazers","contributors_url":"https://api.github.com/repos/weixiuli/spark/contributors","subscribers_url":"https://api.github.com/repos/weixiuli/spark/subscribers","subscription_url":"https://api.github.com/repos/weixiuli/spark/subscription","commits_url":"https://api.github.com/repos/weixiuli/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/weixiuli/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/weixiuli/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/weixiuli/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/weixiuli/spark/contents/{+path}","compare_url":"https://api.github.com/repos/weixiuli/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/weixiuli/spark/merges","archive_url":"https://api.github.com/repos/weixiuli/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/weixiuli/spark/downloads","issues_url":"https://api.github.com/repos/weixiuli/spark/issues{/number}","pulls_url":"https://api.github.com/repos/weixiuli/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/weixiuli/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/weixiuli/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/weixiuli/spark/labels{/name}","releases_url":"https://api.github.com/repos/weixiuli/spark/releases{/id}","deployments_url":"https://api.github.com/repos/weixiuli/spark/deployments","created_at":"2018-07-11T01:41:23Z","updated_at":"2021-12-04T07:08:38Z","pushed_at":"2022-09-13T11:48:55Z","git_url":"git://github.com/weixiuli/spark.git","ssh_url":"git@github.com:weixiuli/spark.git","clone_url":"https://github.com/weixiuli/spark.git","svn_url":"https://github.com/weixiuli/spark","homepage":null,"size":416133,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ca7200b0008dc6101a252020e6c34ef7b72d81d6","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/36000"},"html":{"href":"https://github.com/apache/spark/pull/36000"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/36000"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/36000/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/36000/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/36000/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/e6c87792131b030b9f114db65237ec448155d674"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35999","id":892584378,"node_id":"PR_kwDOAQXtWs41M8G6","html_url":"https://github.com/apache/spark/pull/35999","diff_url":"https://github.com/apache/spark/pull/35999.diff","patch_url":"https://github.com/apache/spark/pull/35999.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35999","number":35999,"state":"closed","locked":false,"title":"[SPARK-38633][SQL][FOLLOWUP] JDBCSQLBuilder should build cast to type of databases","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nDS V2 supports push down CAST to database.\r\nThe current implement only uses the typeName of DataType.\r\nFor example: `Cast(column, StringType)` will be build to `CAST(column AS String)`.\r\nBut it should be `CAST(column AS TEXT)` for Postgres or `CAST(column AS VARCHAR2(255))` for Oracle.\r\n\r\n\r\n### Why are the changes needed?\r\nImprove the implement of push down CAST.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n'No'.\r\nJust new feature.\r\n\r\n\r\n### How was this patch tested?\r\nExists tests\r\n","created_at":"2022-03-29T05:30:10Z","updated_at":"2022-03-29T08:31:27Z","closed_at":"2022-03-29T08:24:50Z","merged_at":null,"merge_commit_sha":"1f082554886547f677a437812eee5f2c8b8a6c1f","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35999/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35999/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35999/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/57dc1997dd3d316edd605c53372b87b27e159342","head":{"label":"beliefer:SPARK-38633_followup","ref":"SPARK-38633_followup","sha":"57dc1997dd3d316edd605c53372b87b27e159342","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":237617513,"node_id":"MDEwOlJlcG9zaXRvcnkyMzc2MTc1MTM=","name":"spark","full_name":"beliefer/spark","private":false,"owner":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/beliefer/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/beliefer/spark","forks_url":"https://api.github.com/repos/beliefer/spark/forks","keys_url":"https://api.github.com/repos/beliefer/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/beliefer/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/beliefer/spark/teams","hooks_url":"https://api.github.com/repos/beliefer/spark/hooks","issue_events_url":"https://api.github.com/repos/beliefer/spark/issues/events{/number}","events_url":"https://api.github.com/repos/beliefer/spark/events","assignees_url":"https://api.github.com/repos/beliefer/spark/assignees{/user}","branches_url":"https://api.github.com/repos/beliefer/spark/branches{/branch}","tags_url":"https://api.github.com/repos/beliefer/spark/tags","blobs_url":"https://api.github.com/repos/beliefer/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/beliefer/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/beliefer/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/beliefer/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/beliefer/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/beliefer/spark/languages","stargazers_url":"https://api.github.com/repos/beliefer/spark/stargazers","contributors_url":"https://api.github.com/repos/beliefer/spark/contributors","subscribers_url":"https://api.github.com/repos/beliefer/spark/subscribers","subscription_url":"https://api.github.com/repos/beliefer/spark/subscription","commits_url":"https://api.github.com/repos/beliefer/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/beliefer/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/beliefer/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/beliefer/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/beliefer/spark/contents/{+path}","compare_url":"https://api.github.com/repos/beliefer/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/beliefer/spark/merges","archive_url":"https://api.github.com/repos/beliefer/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/beliefer/spark/downloads","issues_url":"https://api.github.com/repos/beliefer/spark/issues{/number}","pulls_url":"https://api.github.com/repos/beliefer/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/beliefer/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/beliefer/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/beliefer/spark/labels{/name}","releases_url":"https://api.github.com/repos/beliefer/spark/releases{/id}","deployments_url":"https://api.github.com/repos/beliefer/spark/deployments","created_at":"2020-02-01T13:17:08Z","updated_at":"2025-01-28T09:45:49Z","pushed_at":"2025-01-28T11:57:29Z","git_url":"git://github.com/beliefer/spark.git","ssh_url":"git@github.com:beliefer/spark.git","clone_url":"https://github.com/beliefer/spark.git","svn_url":"https://github.com/beliefer/spark","homepage":"","size":488033,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"cd222db3b7e31108c154eba5b0a2afb224a75ff5","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35999"},"html":{"href":"https://github.com/apache/spark/pull/35999"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35999"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35999/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35999/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35999/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/57dc1997dd3d316edd605c53372b87b27e159342"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35998","id":892535707,"node_id":"PR_kwDOAQXtWs41MwOb","html_url":"https://github.com/apache/spark/pull/35998","diff_url":"https://github.com/apache/spark/pull/35998.diff","patch_url":"https://github.com/apache/spark/pull/35998.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35998","number":35998,"state":"closed","locked":false,"title":"[SPARK-32268][SQL][FOLLOWUP] Add RewritePredicateSubquery below the InjectRuntimeFilter","user":{"login":"ulysses-you","id":12025282,"node_id":"MDQ6VXNlcjEyMDI1Mjgy","avatar_url":"https://avatars.githubusercontent.com/u/12025282?v=4","gravatar_id":"","url":"https://api.github.com/users/ulysses-you","html_url":"https://github.com/ulysses-you","followers_url":"https://api.github.com/users/ulysses-you/followers","following_url":"https://api.github.com/users/ulysses-you/following{/other_user}","gists_url":"https://api.github.com/users/ulysses-you/gists{/gist_id}","starred_url":"https://api.github.com/users/ulysses-you/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulysses-you/subscriptions","organizations_url":"https://api.github.com/users/ulysses-you/orgs","repos_url":"https://api.github.com/users/ulysses-you/repos","events_url":"https://api.github.com/users/ulysses-you/events{/privacy}","received_events_url":"https://api.github.com/users/ulysses-you/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nAdd `RewritePredicateSubquery` below the `InjectRuntimeFilter` in `SparkOptimizer`.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nIt seems if the runtime use in-subquery to do the filter, it won't be converted to semi-join as the design said.\r\n\r\nThis pr fixes the issue.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo, not released\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nImprove the test by adding: ensure the semi-join exists if the runtime filter use in-subquery code path.","created_at":"2022-03-29T04:08:23Z","updated_at":"2022-03-29T14:17:47Z","closed_at":"2022-03-29T13:33:30Z","merged_at":null,"merge_commit_sha":"da32dcb85dece27799848175cfe2d007d3f19507","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35998/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35998/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35998/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b925559027478377eaaa1459e9e87c97431db717","head":{"label":"ulysses-you:SPARK-32268-FOllOWUP","ref":"SPARK-32268-FOllOWUP","sha":"b925559027478377eaaa1459e9e87c97431db717","user":{"login":"ulysses-you","id":12025282,"node_id":"MDQ6VXNlcjEyMDI1Mjgy","avatar_url":"https://avatars.githubusercontent.com/u/12025282?v=4","gravatar_id":"","url":"https://api.github.com/users/ulysses-you","html_url":"https://github.com/ulysses-you","followers_url":"https://api.github.com/users/ulysses-you/followers","following_url":"https://api.github.com/users/ulysses-you/following{/other_user}","gists_url":"https://api.github.com/users/ulysses-you/gists{/gist_id}","starred_url":"https://api.github.com/users/ulysses-you/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulysses-you/subscriptions","organizations_url":"https://api.github.com/users/ulysses-you/orgs","repos_url":"https://api.github.com/users/ulysses-you/repos","events_url":"https://api.github.com/users/ulysses-you/events{/privacy}","received_events_url":"https://api.github.com/users/ulysses-you/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":195747855,"node_id":"MDEwOlJlcG9zaXRvcnkxOTU3NDc4NTU=","name":"spark","full_name":"ulysses-you/spark","private":false,"owner":{"login":"ulysses-you","id":12025282,"node_id":"MDQ6VXNlcjEyMDI1Mjgy","avatar_url":"https://avatars.githubusercontent.com/u/12025282?v=4","gravatar_id":"","url":"https://api.github.com/users/ulysses-you","html_url":"https://github.com/ulysses-you","followers_url":"https://api.github.com/users/ulysses-you/followers","following_url":"https://api.github.com/users/ulysses-you/following{/other_user}","gists_url":"https://api.github.com/users/ulysses-you/gists{/gist_id}","starred_url":"https://api.github.com/users/ulysses-you/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulysses-you/subscriptions","organizations_url":"https://api.github.com/users/ulysses-you/orgs","repos_url":"https://api.github.com/users/ulysses-you/repos","events_url":"https://api.github.com/users/ulysses-you/events{/privacy}","received_events_url":"https://api.github.com/users/ulysses-you/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ulysses-you/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/ulysses-you/spark","forks_url":"https://api.github.com/repos/ulysses-you/spark/forks","keys_url":"https://api.github.com/repos/ulysses-you/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ulysses-you/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ulysses-you/spark/teams","hooks_url":"https://api.github.com/repos/ulysses-you/spark/hooks","issue_events_url":"https://api.github.com/repos/ulysses-you/spark/issues/events{/number}","events_url":"https://api.github.com/repos/ulysses-you/spark/events","assignees_url":"https://api.github.com/repos/ulysses-you/spark/assignees{/user}","branches_url":"https://api.github.com/repos/ulysses-you/spark/branches{/branch}","tags_url":"https://api.github.com/repos/ulysses-you/spark/tags","blobs_url":"https://api.github.com/repos/ulysses-you/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ulysses-you/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ulysses-you/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/ulysses-you/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ulysses-you/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/ulysses-you/spark/languages","stargazers_url":"https://api.github.com/repos/ulysses-you/spark/stargazers","contributors_url":"https://api.github.com/repos/ulysses-you/spark/contributors","subscribers_url":"https://api.github.com/repos/ulysses-you/spark/subscribers","subscription_url":"https://api.github.com/repos/ulysses-you/spark/subscription","commits_url":"https://api.github.com/repos/ulysses-you/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/ulysses-you/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/ulysses-you/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/ulysses-you/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/ulysses-you/spark/contents/{+path}","compare_url":"https://api.github.com/repos/ulysses-you/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ulysses-you/spark/merges","archive_url":"https://api.github.com/repos/ulysses-you/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ulysses-you/spark/downloads","issues_url":"https://api.github.com/repos/ulysses-you/spark/issues{/number}","pulls_url":"https://api.github.com/repos/ulysses-you/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/ulysses-you/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/ulysses-you/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ulysses-you/spark/labels{/name}","releases_url":"https://api.github.com/repos/ulysses-you/spark/releases{/id}","deployments_url":"https://api.github.com/repos/ulysses-you/spark/deployments","created_at":"2019-07-08T06:11:57Z","updated_at":"2022-01-10T01:34:59Z","pushed_at":"2024-08-13T23:12:37Z","git_url":"git://github.com/ulysses-you/spark.git","ssh_url":"git@github.com:ulysses-you/spark.git","clone_url":"https://github.com/ulysses-you/spark.git","svn_url":"https://github.com/ulysses-you/spark","homepage":"","size":399300,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"cd222db3b7e31108c154eba5b0a2afb224a75ff5","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35998"},"html":{"href":"https://github.com/apache/spark/pull/35998"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35998"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35998/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35998/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35998/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b925559027478377eaaa1459e9e87c97431db717"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35997","id":892468053,"node_id":"PR_kwDOAQXtWs41MftV","html_url":"https://github.com/apache/spark/pull/35997","diff_url":"https://github.com/apache/spark/pull/35997.diff","patch_url":"https://github.com/apache/spark/pull/35997.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35997","number":35997,"state":"closed","locked":false,"title":"[MINOR][PYTHON] Fix `MultilayerPerceptronClassifierTest.test_raw_and_probability_prediction`","user":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\n- A follow-up for https://github.com/apache/spark/pull/35778\r\n- Increase `rtol` to de-flake the test.\r\n\r\nhttps://github.com/apache/spark/runs/5725350556\r\n\r\n```\r\nNot equal to tolerance rtol=0.15, atol=1e-08\r\n\r\nMismatched elements: 3 / 3 (100%)\r\nMax absolute difference: 4.39314499\r\nMax relative difference: 0.23356037\r\n x: array([-14.190332, -10.063731,  26.570715])\r\n y: array([-11.608192,  -8.15828 ,  22.17757 ])\r\n```\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n","created_at":"2022-03-29T01:53:41Z","updated_at":"2022-03-29T23:35:28Z","closed_at":"2022-03-29T02:08:53Z","merged_at":null,"merge_commit_sha":"22bc6c5c60f630c717c581ed80b74c5f3bb74ed0","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35997/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35997/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35997/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/4cf5244f3ccdb4d0937a48b0edc2f718cf1effe8","head":{"label":"harupy:fix-test_raw_and_probability_prediction-2","ref":"fix-test_raw_and_probability_prediction-2","sha":"4cf5244f3ccdb4d0937a48b0edc2f718cf1effe8","user":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":359655584,"node_id":"MDEwOlJlcG9zaXRvcnkzNTk2NTU1ODQ=","name":"spark","full_name":"harupy/spark","private":false,"owner":{"login":"harupy","id":17039389,"node_id":"MDQ6VXNlcjE3MDM5Mzg5","avatar_url":"https://avatars.githubusercontent.com/u/17039389?v=4","gravatar_id":"","url":"https://api.github.com/users/harupy","html_url":"https://github.com/harupy","followers_url":"https://api.github.com/users/harupy/followers","following_url":"https://api.github.com/users/harupy/following{/other_user}","gists_url":"https://api.github.com/users/harupy/gists{/gist_id}","starred_url":"https://api.github.com/users/harupy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harupy/subscriptions","organizations_url":"https://api.github.com/users/harupy/orgs","repos_url":"https://api.github.com/users/harupy/repos","events_url":"https://api.github.com/users/harupy/events{/privacy}","received_events_url":"https://api.github.com/users/harupy/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/harupy/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/harupy/spark","forks_url":"https://api.github.com/repos/harupy/spark/forks","keys_url":"https://api.github.com/repos/harupy/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/harupy/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/harupy/spark/teams","hooks_url":"https://api.github.com/repos/harupy/spark/hooks","issue_events_url":"https://api.github.com/repos/harupy/spark/issues/events{/number}","events_url":"https://api.github.com/repos/harupy/spark/events","assignees_url":"https://api.github.com/repos/harupy/spark/assignees{/user}","branches_url":"https://api.github.com/repos/harupy/spark/branches{/branch}","tags_url":"https://api.github.com/repos/harupy/spark/tags","blobs_url":"https://api.github.com/repos/harupy/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/harupy/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/harupy/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/harupy/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/harupy/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/harupy/spark/languages","stargazers_url":"https://api.github.com/repos/harupy/spark/stargazers","contributors_url":"https://api.github.com/repos/harupy/spark/contributors","subscribers_url":"https://api.github.com/repos/harupy/spark/subscribers","subscription_url":"https://api.github.com/repos/harupy/spark/subscription","commits_url":"https://api.github.com/repos/harupy/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/harupy/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/harupy/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/harupy/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/harupy/spark/contents/{+path}","compare_url":"https://api.github.com/repos/harupy/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/harupy/spark/merges","archive_url":"https://api.github.com/repos/harupy/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/harupy/spark/downloads","issues_url":"https://api.github.com/repos/harupy/spark/issues{/number}","pulls_url":"https://api.github.com/repos/harupy/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/harupy/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/harupy/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/harupy/spark/labels{/name}","releases_url":"https://api.github.com/repos/harupy/spark/releases{/id}","deployments_url":"https://api.github.com/repos/harupy/spark/deployments","created_at":"2021-04-20T02:11:00Z","updated_at":"2022-03-09T02:14:12Z","pushed_at":"2023-01-13T03:07:45Z","git_url":"git://github.com/harupy/spark.git","ssh_url":"git@github.com:harupy/spark.git","clone_url":"https://github.com/harupy/spark.git","svn_url":"https://github.com/harupy/spark","homepage":"https://spark.apache.org/","size":440049,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"84bc452bb59d2b4067b617f8dd32d35f875b1e72","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35997"},"html":{"href":"https://github.com/apache/spark/pull/35997"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35997"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35997/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35997/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35997/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/4cf5244f3ccdb4d0937a48b0edc2f718cf1effe8"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35996","id":892425886,"node_id":"PR_kwDOAQXtWs41MVae","html_url":"https://github.com/apache/spark/pull/35996","diff_url":"https://github.com/apache/spark/pull/35996.diff","patch_url":"https://github.com/apache/spark/pull/35996.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35996","number":35996,"state":"closed","locked":false,"title":"[SPARK-38680][INFRA] Set upperbound for pandas-stubs in CI","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\n`pandas-stubs` released `1.2.0.54` but that seems like havng a breaking change:\r\n\r\ne.g., ) https://github.com/apache/spark/runs/5729037000?check_suite_focus=true\r\n\r\n```\r\nstarting mypy annotations test...\r\nannotations failed mypy checks:\r\npython/pyspark/pandas/ml.py:62: error: Incompatible types in assignment (expression has type \"Index\", variable has type \"MultiIndex\")  [assignment]\r\npython/pyspark/pandas/frame.py:6133: error: unused \"type: ignore\" comment\r\npython/pyspark/pandas/frame.py:6292: error: Incompatible types in assignment (expression has type \"Index\", variable has type \"MultiIndex\")  [assignment]\r\nFound 3 errors in 2 files (checked 325 source files)\r\n```\r\n\r\nThis PR proposes to pin pandas-stubs version for now to avoid breaking CI.\r\n\r\n### Why are the changes needed?\r\n\r\nTo have the stable CI status.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo, dev-only.\r\n\r\n### How was this patch tested?\r\n\r\nIt should be tested in this CI.","created_at":"2022-03-29T00:30:18Z","updated_at":"2024-01-15T00:53:45Z","closed_at":"2022-03-29T02:07:28Z","merged_at":null,"merge_commit_sha":"53c003135bf5f90483bcf046c35de9fe6e5e41e8","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null},{"id":1982110661,"node_id":"MDU6TGFiZWwxOTgyMTEwNjYx","url":"https://api.github.com/repos/apache/spark/labels/INFRA","name":"INFRA","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35996/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35996/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35996/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/0d26738aed0f8dcc815a518efffac61c0780bf7a","head":{"label":"HyukjinKwon:SPARK-38680","ref":"SPARK-38680","sha":"0d26738aed0f8dcc815a518efffac61c0780bf7a","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"84bc452bb59d2b4067b617f8dd32d35f875b1e72","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35996"},"html":{"href":"https://github.com/apache/spark/pull/35996"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35996"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35996/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35996/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35996/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/0d26738aed0f8dcc815a518efffac61c0780bf7a"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35995","id":892419580,"node_id":"PR_kwDOAQXtWs41MT38","html_url":"https://github.com/apache/spark/pull/35995","diff_url":"https://github.com/apache/spark/pull/35995.diff","patch_url":"https://github.com/apache/spark/pull/35995.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35995","number":35995,"state":"closed","locked":false,"title":"[SPARK-38679][CORE] Expose the number partitions in a stage to TaskContext","user":{"login":"vkorukanti","id":1719945,"node_id":"MDQ6VXNlcjE3MTk5NDU=","avatar_url":"https://avatars.githubusercontent.com/u/1719945?v=4","gravatar_id":"","url":"https://api.github.com/users/vkorukanti","html_url":"https://github.com/vkorukanti","followers_url":"https://api.github.com/users/vkorukanti/followers","following_url":"https://api.github.com/users/vkorukanti/following{/other_user}","gists_url":"https://api.github.com/users/vkorukanti/gists{/gist_id}","starred_url":"https://api.github.com/users/vkorukanti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vkorukanti/subscriptions","organizations_url":"https://api.github.com/users/vkorukanti/orgs","repos_url":"https://api.github.com/users/vkorukanti/repos","events_url":"https://api.github.com/users/vkorukanti/events{/privacy}","received_events_url":"https://api.github.com/users/vkorukanti/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nAdd a new api to expose total partition count in the stage belonging to the task in TaskContext,\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nAdd a new api to expose total partition count in the stage belonging to the task in TaskContext, so that the task knows what fraction of the computation is doing.\r\n\r\nWith this extra information, users can generate 32bit unique int ids as below rather than using `monotonically_increasing_id` which generates 64bit long ids.\r\n\r\n```scala\r\nrdd.mapPartitions { rowsIter =>\r\n  val partitionId = TaskContext.get().partitionId()\r\n  val numPartitions = TaskContext.get().numPartitions()\r\n  var i = 0\r\n  rowsIter.map { row =>\r\n    val rowId = partitionId + i * numPartitions\r\n    i += 1\r\n    (rowId, row)\r\n  }\r\n}\r\n```\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes. We add a new API `TaskContext.numPartitions`.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nAdded new unit tests to verify the number of partitions retrieved from TaskContext is expected.","created_at":"2022-03-29T00:15:35Z","updated_at":"2022-03-31T16:46:53Z","closed_at":"2022-03-31T13:44:45Z","merged_at":null,"merge_commit_sha":"6812d04fd145d1825c1f9bf930ea1379219fd301","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35995/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35995/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35995/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/c975242dbd088e310c4637fa8a0f81777936c6f0","head":{"label":"vkorukanti:task_numPartitions","ref":"task_numPartitions","sha":"c975242dbd088e310c4637fa8a0f81777936c6f0","user":{"login":"vkorukanti","id":1719945,"node_id":"MDQ6VXNlcjE3MTk5NDU=","avatar_url":"https://avatars.githubusercontent.com/u/1719945?v=4","gravatar_id":"","url":"https://api.github.com/users/vkorukanti","html_url":"https://github.com/vkorukanti","followers_url":"https://api.github.com/users/vkorukanti/followers","following_url":"https://api.github.com/users/vkorukanti/following{/other_user}","gists_url":"https://api.github.com/users/vkorukanti/gists{/gist_id}","starred_url":"https://api.github.com/users/vkorukanti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vkorukanti/subscriptions","organizations_url":"https://api.github.com/users/vkorukanti/orgs","repos_url":"https://api.github.com/users/vkorukanti/repos","events_url":"https://api.github.com/users/vkorukanti/events{/privacy}","received_events_url":"https://api.github.com/users/vkorukanti/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":311178081,"node_id":"MDEwOlJlcG9zaXRvcnkzMTExNzgwODE=","name":"spark","full_name":"vkorukanti/spark","private":false,"owner":{"login":"vkorukanti","id":1719945,"node_id":"MDQ6VXNlcjE3MTk5NDU=","avatar_url":"https://avatars.githubusercontent.com/u/1719945?v=4","gravatar_id":"","url":"https://api.github.com/users/vkorukanti","html_url":"https://github.com/vkorukanti","followers_url":"https://api.github.com/users/vkorukanti/followers","following_url":"https://api.github.com/users/vkorukanti/following{/other_user}","gists_url":"https://api.github.com/users/vkorukanti/gists{/gist_id}","starred_url":"https://api.github.com/users/vkorukanti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vkorukanti/subscriptions","organizations_url":"https://api.github.com/users/vkorukanti/orgs","repos_url":"https://api.github.com/users/vkorukanti/repos","events_url":"https://api.github.com/users/vkorukanti/events{/privacy}","received_events_url":"https://api.github.com/users/vkorukanti/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/vkorukanti/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/vkorukanti/spark","forks_url":"https://api.github.com/repos/vkorukanti/spark/forks","keys_url":"https://api.github.com/repos/vkorukanti/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/vkorukanti/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/vkorukanti/spark/teams","hooks_url":"https://api.github.com/repos/vkorukanti/spark/hooks","issue_events_url":"https://api.github.com/repos/vkorukanti/spark/issues/events{/number}","events_url":"https://api.github.com/repos/vkorukanti/spark/events","assignees_url":"https://api.github.com/repos/vkorukanti/spark/assignees{/user}","branches_url":"https://api.github.com/repos/vkorukanti/spark/branches{/branch}","tags_url":"https://api.github.com/repos/vkorukanti/spark/tags","blobs_url":"https://api.github.com/repos/vkorukanti/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/vkorukanti/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/vkorukanti/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/vkorukanti/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/vkorukanti/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/vkorukanti/spark/languages","stargazers_url":"https://api.github.com/repos/vkorukanti/spark/stargazers","contributors_url":"https://api.github.com/repos/vkorukanti/spark/contributors","subscribers_url":"https://api.github.com/repos/vkorukanti/spark/subscribers","subscription_url":"https://api.github.com/repos/vkorukanti/spark/subscription","commits_url":"https://api.github.com/repos/vkorukanti/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/vkorukanti/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/vkorukanti/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/vkorukanti/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/vkorukanti/spark/contents/{+path}","compare_url":"https://api.github.com/repos/vkorukanti/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/vkorukanti/spark/merges","archive_url":"https://api.github.com/repos/vkorukanti/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/vkorukanti/spark/downloads","issues_url":"https://api.github.com/repos/vkorukanti/spark/issues{/number}","pulls_url":"https://api.github.com/repos/vkorukanti/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/vkorukanti/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/vkorukanti/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/vkorukanti/spark/labels{/name}","releases_url":"https://api.github.com/repos/vkorukanti/spark/releases{/id}","deployments_url":"https://api.github.com/repos/vkorukanti/spark/deployments","created_at":"2020-11-08T23:48:31Z","updated_at":"2020-11-08T23:48:34Z","pushed_at":"2024-07-25T06:42:13Z","git_url":"git://github.com/vkorukanti/spark.git","ssh_url":"git@github.com:vkorukanti/spark.git","clone_url":"https://github.com/vkorukanti/spark.git","svn_url":"https://github.com/vkorukanti/spark","homepage":"https://spark.apache.org/","size":389551,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"cab8aa1c4fe66c4cb1b69112094a203a04758f76","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35995"},"html":{"href":"https://github.com/apache/spark/pull/35995"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35995"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35995/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35995/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35995/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/c975242dbd088e310c4637fa8a0f81777936c6f0"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35994","id":892239598,"node_id":"PR_kwDOAQXtWs41Ln7u","html_url":"https://github.com/apache/spark/pull/35994","diff_url":"https://github.com/apache/spark/pull/35994.diff","patch_url":"https://github.com/apache/spark/pull/35994.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35994","number":35994,"state":"closed","locked":false,"title":"[SPARK-38605][SS] Retrying on file manager open operation in HDFSMetadataLog","user":{"login":"viirya","id":68855,"node_id":"MDQ6VXNlcjY4ODU1","avatar_url":"https://avatars.githubusercontent.com/u/68855?v=4","gravatar_id":"","url":"https://api.github.com/users/viirya","html_url":"https://github.com/viirya","followers_url":"https://api.github.com/users/viirya/followers","following_url":"https://api.github.com/users/viirya/following{/other_user}","gists_url":"https://api.github.com/users/viirya/gists{/gist_id}","starred_url":"https://api.github.com/users/viirya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/viirya/subscriptions","organizations_url":"https://api.github.com/users/viirya/orgs","repos_url":"https://api.github.com/users/viirya/repos","events_url":"https://api.github.com/users/viirya/events{/privacy}","received_events_url":"https://api.github.com/users/viirya/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nThis patch adds retrying to file open operation in `HDFSMetadataLog`.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nCurrently `HDFSMetadataLog` uses `CheckpointFileManager` to do some file operation like opening metadata file. It is very easy to be affected by network blips and causes the streaming query failed. We experiences such issues which caused streaming query failed. Although we can restart the streaming query, but it takes more time to recover. It sounds better to make the stream query more resilient to such temporary failure by retrying.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nYes, users can config retrying mechanism for HDFSMetadataLog file open operation.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nExisting tests.","created_at":"2022-03-28T20:09:50Z","updated_at":"2023-12-27T18:26:24Z","closed_at":"2022-03-30T04:48:19Z","merged_at":null,"merge_commit_sha":"c2db9789e9a51ace61c5c633e9055b2269e6ef30","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35994/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35994/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35994/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/cf4b3ffbca10dd73be0dce3a9027778434a7b95e","head":{"label":"viirya:fs_retry","ref":"fs_retry","sha":"cf4b3ffbca10dd73be0dce3a9027778434a7b95e","user":{"login":"viirya","id":68855,"node_id":"MDQ6VXNlcjY4ODU1","avatar_url":"https://avatars.githubusercontent.com/u/68855?v=4","gravatar_id":"","url":"https://api.github.com/users/viirya","html_url":"https://github.com/viirya","followers_url":"https://api.github.com/users/viirya/followers","following_url":"https://api.github.com/users/viirya/following{/other_user}","gists_url":"https://api.github.com/users/viirya/gists{/gist_id}","starred_url":"https://api.github.com/users/viirya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/viirya/subscriptions","organizations_url":"https://api.github.com/users/viirya/orgs","repos_url":"https://api.github.com/users/viirya/repos","events_url":"https://api.github.com/users/viirya/events{/privacy}","received_events_url":"https://api.github.com/users/viirya/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":21467907,"node_id":"MDEwOlJlcG9zaXRvcnkyMTQ2NzkwNw==","name":"spark-1","full_name":"viirya/spark-1","private":false,"owner":{"login":"viirya","id":68855,"node_id":"MDQ6VXNlcjY4ODU1","avatar_url":"https://avatars.githubusercontent.com/u/68855?v=4","gravatar_id":"","url":"https://api.github.com/users/viirya","html_url":"https://github.com/viirya","followers_url":"https://api.github.com/users/viirya/followers","following_url":"https://api.github.com/users/viirya/following{/other_user}","gists_url":"https://api.github.com/users/viirya/gists{/gist_id}","starred_url":"https://api.github.com/users/viirya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/viirya/subscriptions","organizations_url":"https://api.github.com/users/viirya/orgs","repos_url":"https://api.github.com/users/viirya/repos","events_url":"https://api.github.com/users/viirya/events{/privacy}","received_events_url":"https://api.github.com/users/viirya/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/viirya/spark-1","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/viirya/spark-1","forks_url":"https://api.github.com/repos/viirya/spark-1/forks","keys_url":"https://api.github.com/repos/viirya/spark-1/keys{/key_id}","collaborators_url":"https://api.github.com/repos/viirya/spark-1/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/viirya/spark-1/teams","hooks_url":"https://api.github.com/repos/viirya/spark-1/hooks","issue_events_url":"https://api.github.com/repos/viirya/spark-1/issues/events{/number}","events_url":"https://api.github.com/repos/viirya/spark-1/events","assignees_url":"https://api.github.com/repos/viirya/spark-1/assignees{/user}","branches_url":"https://api.github.com/repos/viirya/spark-1/branches{/branch}","tags_url":"https://api.github.com/repos/viirya/spark-1/tags","blobs_url":"https://api.github.com/repos/viirya/spark-1/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/viirya/spark-1/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/viirya/spark-1/git/refs{/sha}","trees_url":"https://api.github.com/repos/viirya/spark-1/git/trees{/sha}","statuses_url":"https://api.github.com/repos/viirya/spark-1/statuses/{sha}","languages_url":"https://api.github.com/repos/viirya/spark-1/languages","stargazers_url":"https://api.github.com/repos/viirya/spark-1/stargazers","contributors_url":"https://api.github.com/repos/viirya/spark-1/contributors","subscribers_url":"https://api.github.com/repos/viirya/spark-1/subscribers","subscription_url":"https://api.github.com/repos/viirya/spark-1/subscription","commits_url":"https://api.github.com/repos/viirya/spark-1/commits{/sha}","git_commits_url":"https://api.github.com/repos/viirya/spark-1/git/commits{/sha}","comments_url":"https://api.github.com/repos/viirya/spark-1/comments{/number}","issue_comment_url":"https://api.github.com/repos/viirya/spark-1/issues/comments{/number}","contents_url":"https://api.github.com/repos/viirya/spark-1/contents/{+path}","compare_url":"https://api.github.com/repos/viirya/spark-1/compare/{base}...{head}","merges_url":"https://api.github.com/repos/viirya/spark-1/merges","archive_url":"https://api.github.com/repos/viirya/spark-1/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/viirya/spark-1/downloads","issues_url":"https://api.github.com/repos/viirya/spark-1/issues{/number}","pulls_url":"https://api.github.com/repos/viirya/spark-1/pulls{/number}","milestones_url":"https://api.github.com/repos/viirya/spark-1/milestones{/number}","notifications_url":"https://api.github.com/repos/viirya/spark-1/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/viirya/spark-1/labels{/name}","releases_url":"https://api.github.com/repos/viirya/spark-1/releases{/id}","deployments_url":"https://api.github.com/repos/viirya/spark-1/deployments","created_at":"2014-07-03T15:40:08Z","updated_at":"2025-02-01T00:45:46Z","pushed_at":"2025-02-01T00:42:28Z","git_url":"git://github.com/viirya/spark-1.git","ssh_url":"git@github.com:viirya/spark-1.git","clone_url":"https://github.com/viirya/spark-1.git","svn_url":"https://github.com/viirya/spark-1","homepage":null,"size":440683,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"3e12ec975c2ce75ef31f82dad22d5b5ecf3808ec","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35994"},"html":{"href":"https://github.com/apache/spark/pull/35994"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35994"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35994/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35994/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35994/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/cf4b3ffbca10dd73be0dce3a9027778434a7b95e"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35993","id":892182289,"node_id":"PR_kwDOAQXtWs41LZ8R","html_url":"https://github.com/apache/spark/pull/35993","diff_url":"https://github.com/apache/spark/pull/35993.diff","patch_url":"https://github.com/apache/spark/pull/35993.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35993","number":35993,"state":"closed","locked":false,"title":"[SPARK-38678][TESTS] Enable RocksDB tests on Apple Silicon on MacOS","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR aims to enable `RocksDB`-related test coverage on Apple Silicon on MacOS.\r\n- In `kvstore`, remove the following in `RocksDBSuite` and `RocksDBIteratorSuite` Java test.\r\n```\r\nassumeFalse(SystemUtils.IS_OS_MAC_OSX && SystemUtils.OS_ARCH.equals(\"aarch64\"));\r\n```\r\n- Remove `ExtendedRocksDBTest` test tag.\r\n- Remove `ExtendedRocksDBTest` test tag annotation from the following `core` module tests.\r\n  - `HistoryServerDiskManagerSuite`\r\n  - `HybridStoreSuite`\r\n  - `AppStatusListenerSuite`\r\n- Remove `ExtendedRocksDBTest` test tag annotation from the following `streaming` module tests.\r\n  - `RocksDBStateStoreIntegrationSuite`\r\n  - `RocksDBStateStoreSuite`\r\n  - `RocksDBSuite`\r\n- Remove `RocksDBStateStoreProvider` exclusion from `providerOptions`.\r\n  - `StreamingSessionWindowSuite`\r\n\r\n### Why are the changes needed?\r\n\r\nRocksDB 7 supports Apple Silicon officially. \r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo. This is a dev-only change.\r\n\r\n### How was this patch tested?\r\n\r\nManually test on Apple Silicon environment with Java 17.\r\n```\r\n$ build/sbt \"kvstore/test\" \"core/testOnly *RocksDB*\" \"sql/testOnly *RocksDB*\" \"sql/testOnly *.StreamingSessionWindowSuite\"\r\n```","created_at":"2022-03-28T19:08:36Z","updated_at":"2022-03-29T03:44:29Z","closed_at":"2022-03-28T22:03:48Z","merged_at":null,"merge_commit_sha":"8bcc09837de1eaf16019deba264ed785a460e721","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35993/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35993/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35993/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/d9ae2cb8031167a84795186b93539b1af873f4b7","head":{"label":"dongjoon-hyun:SPARK-38678","ref":"SPARK-38678","sha":"d9ae2cb8031167a84795186b93539b1af873f4b7","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"9987d1756615e22dd71184545409f321b18b66c3","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35993"},"html":{"href":"https://github.com/apache/spark/pull/35993"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35993"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35993/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35993/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35993/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/d9ae2cb8031167a84795186b93539b1af873f4b7"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35992","id":891850891,"node_id":"PR_kwDOAQXtWs41KJCL","html_url":"https://github.com/apache/spark/pull/35992","diff_url":"https://github.com/apache/spark/pull/35992.diff","patch_url":"https://github.com/apache/spark/pull/35992.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35992","number":35992,"state":"closed","locked":false,"title":"[SPARK-38676][SQL] Provide SQL query context in runtime error message of Add/Subtract/Multiply","user":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nProvide SQL query context in runtime error of Add/Subtract/Multiply if the data type is Int or Long. This is the first PR for improving the runtime error message. There are more to be done after we decide what the error message should be like.\r\n\r\nBefore changes:\r\n```\r\n> SELECT i.f1 - 100, i.f1 * smallint('2') AS x FROM INT4_TBL i\r\njava.lang.ArithmeticException\r\ninteger overflow. If necessary set spark.sql.ansi.enabled to false (except for ANSI interval type) to bypass this error.\r\n```\r\nAfter changes:\r\n```\r\n> SELECT i.f1 - 100, i.f1 * smallint('2') AS x FROM INT4_TBL i\r\njava.lang.ArithmeticException\r\ninteger overflow. If necessary set spark.sql.ansi.enabled to false (except for ANSI interval type) to bypass this error.\r\n\r\n== SQL(line 1, position 25) ==\r\nSELECT '' AS five, i.f1, i.f1 * smallint('2') AS x FROM INT4_TBL i\r\n                         ^^^^^^^^^^^^^^^^^^^^\r\n```\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nProvide SQL query context of runtime errors to users, so that they can understand it better.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes, improve the runtime error message of Add/Subtract/Multiply\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUT","created_at":"2022-03-28T13:59:46Z","updated_at":"2022-03-30T09:18:26Z","closed_at":"2022-03-30T09:18:26Z","merged_at":null,"merge_commit_sha":"bc05dba94013fe088dfbbc62b87b18ec19920bcd","assignee":null,"assignees":[],"requested_reviewers":[{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35992/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35992/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35992/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/472a7cbcc3f92e319930a6a9ce9dafe3010dca50","head":{"label":"gengliangwang:runtimeError","ref":"runtimeError","sha":"472a7cbcc3f92e319930a6a9ce9dafe3010dca50","user":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":95047635,"node_id":"MDEwOlJlcG9zaXRvcnk5NTA0NzYzNQ==","name":"spark","full_name":"gengliangwang/spark","private":false,"owner":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/gengliangwang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/gengliangwang/spark","forks_url":"https://api.github.com/repos/gengliangwang/spark/forks","keys_url":"https://api.github.com/repos/gengliangwang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/gengliangwang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/gengliangwang/spark/teams","hooks_url":"https://api.github.com/repos/gengliangwang/spark/hooks","issue_events_url":"https://api.github.com/repos/gengliangwang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/gengliangwang/spark/events","assignees_url":"https://api.github.com/repos/gengliangwang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/gengliangwang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/gengliangwang/spark/tags","blobs_url":"https://api.github.com/repos/gengliangwang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/gengliangwang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/gengliangwang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/gengliangwang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/gengliangwang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/gengliangwang/spark/languages","stargazers_url":"https://api.github.com/repos/gengliangwang/spark/stargazers","contributors_url":"https://api.github.com/repos/gengliangwang/spark/contributors","subscribers_url":"https://api.github.com/repos/gengliangwang/spark/subscribers","subscription_url":"https://api.github.com/repos/gengliangwang/spark/subscription","commits_url":"https://api.github.com/repos/gengliangwang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/gengliangwang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/gengliangwang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/gengliangwang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/gengliangwang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/gengliangwang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/gengliangwang/spark/merges","archive_url":"https://api.github.com/repos/gengliangwang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/gengliangwang/spark/downloads","issues_url":"https://api.github.com/repos/gengliangwang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/gengliangwang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/gengliangwang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/gengliangwang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/gengliangwang/spark/labels{/name}","releases_url":"https://api.github.com/repos/gengliangwang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/gengliangwang/spark/deployments","created_at":"2017-06-21T21:26:20Z","updated_at":"2022-01-05T09:39:12Z","pushed_at":"2025-02-07T19:52:00Z","git_url":"git://github.com/gengliangwang/spark.git","ssh_url":"git@github.com:gengliangwang/spark.git","clone_url":"https://github.com/gengliangwang/spark.git","svn_url":"https://github.com/gengliangwang/spark","homepage":null,"size":481326,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"6d32d2e0e2f3d1f36a609a4ab26bfad278a42102","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35992"},"html":{"href":"https://github.com/apache/spark/pull/35992"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35992"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35992/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35992/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35992/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/472a7cbcc3f92e319930a6a9ce9dafe3010dca50"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35991","id":891776383,"node_id":"PR_kwDOAQXtWs41J21_","html_url":"https://github.com/apache/spark/pull/35991","diff_url":"https://github.com/apache/spark/pull/35991.diff","patch_url":"https://github.com/apache/spark/pull/35991.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35991","number":35991,"state":"closed","locked":false,"title":"[SPARK-38675][CORE] Fix race during unlock in BlockInfoManager","user":{"login":"hvanhovell","id":9616802,"node_id":"MDQ6VXNlcjk2MTY4MDI=","avatar_url":"https://avatars.githubusercontent.com/u/9616802?v=4","gravatar_id":"","url":"https://api.github.com/users/hvanhovell","html_url":"https://github.com/hvanhovell","followers_url":"https://api.github.com/users/hvanhovell/followers","following_url":"https://api.github.com/users/hvanhovell/following{/other_user}","gists_url":"https://api.github.com/users/hvanhovell/gists{/gist_id}","starred_url":"https://api.github.com/users/hvanhovell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hvanhovell/subscriptions","organizations_url":"https://api.github.com/users/hvanhovell/orgs","repos_url":"https://api.github.com/users/hvanhovell/repos","events_url":"https://api.github.com/users/hvanhovell/events{/privacy}","received_events_url":"https://api.github.com/users/hvanhovell/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis PR fixes a race in the `BlockInfoManager` between `unlock` and `releaseAllLocksForTask`, resulting in a negative reader count for a block (which trips an assert). This happens when the following events take place:\r\n\r\n1. [THREAD 1] calls `releaseAllLocksForTask`. This starts by collecting all the blocks to be unlocked for this task.\r\n2. [THREAD 2] calls `unlock` for a read lock for the same task (this means the block is also in the list collected in step 1). It then proceeds to unlock the block by decrementing the reader count.\r\n3. [THREAD 1] now starts to release the collected locks, it does this by decrementing the readers counts for blocks by the number of acquired read locks. The problem is that step 2 made the lock counts for blocks incorrect, and we decrement by one (or a few) too many. This triggers a negative reader count assert.\r\n\r\nWe fix this by adding a check to `unlock` that makes sure we are not in the process of unlocking. We do this by checking if there is a multiset associated with the task that contains the read locks.\r\n\r\n\r\n### Why are the changes needed?\r\nIt is a bug. Not fixing this can cause negative reader counts for blocks, and this causes task failures.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n### How was this patch tested?\r\nAdded a regression test in BlockInfoManager suite.\r\n","created_at":"2022-03-28T12:57:35Z","updated_at":"2022-07-26T23:14:17Z","closed_at":"2022-06-02T08:48:23Z","merged_at":null,"merge_commit_sha":"245b1f439ece43f9dc6d51b8b71acd996bbfe388","assignee":null,"assignees":[],"requested_reviewers":[{"login":"jiangxb1987","id":4784782,"node_id":"MDQ6VXNlcjQ3ODQ3ODI=","avatar_url":"https://avatars.githubusercontent.com/u/4784782?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangxb1987","html_url":"https://github.com/jiangxb1987","followers_url":"https://api.github.com/users/jiangxb1987/followers","following_url":"https://api.github.com/users/jiangxb1987/following{/other_user}","gists_url":"https://api.github.com/users/jiangxb1987/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangxb1987/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangxb1987/subscriptions","organizations_url":"https://api.github.com/users/jiangxb1987/orgs","repos_url":"https://api.github.com/users/jiangxb1987/repos","events_url":"https://api.github.com/users/jiangxb1987/events{/privacy}","received_events_url":"https://api.github.com/users/jiangxb1987/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35991/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35991/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35991/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b72db245b5d4f10dbd8200cdeb22c9250de36a1c","head":{"label":"hvanhovell:SPARK-38675","ref":"SPARK-38675","sha":"b72db245b5d4f10dbd8200cdeb22c9250de36a1c","user":{"login":"hvanhovell","id":9616802,"node_id":"MDQ6VXNlcjk2MTY4MDI=","avatar_url":"https://avatars.githubusercontent.com/u/9616802?v=4","gravatar_id":"","url":"https://api.github.com/users/hvanhovell","html_url":"https://github.com/hvanhovell","followers_url":"https://api.github.com/users/hvanhovell/followers","following_url":"https://api.github.com/users/hvanhovell/following{/other_user}","gists_url":"https://api.github.com/users/hvanhovell/gists{/gist_id}","starred_url":"https://api.github.com/users/hvanhovell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hvanhovell/subscriptions","organizations_url":"https://api.github.com/users/hvanhovell/orgs","repos_url":"https://api.github.com/users/hvanhovell/repos","events_url":"https://api.github.com/users/hvanhovell/events{/privacy}","received_events_url":"https://api.github.com/users/hvanhovell/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":35900688,"node_id":"MDEwOlJlcG9zaXRvcnkzNTkwMDY4OA==","name":"spark","full_name":"hvanhovell/spark","private":false,"owner":{"login":"hvanhovell","id":9616802,"node_id":"MDQ6VXNlcjk2MTY4MDI=","avatar_url":"https://avatars.githubusercontent.com/u/9616802?v=4","gravatar_id":"","url":"https://api.github.com/users/hvanhovell","html_url":"https://github.com/hvanhovell","followers_url":"https://api.github.com/users/hvanhovell/followers","following_url":"https://api.github.com/users/hvanhovell/following{/other_user}","gists_url":"https://api.github.com/users/hvanhovell/gists{/gist_id}","starred_url":"https://api.github.com/users/hvanhovell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hvanhovell/subscriptions","organizations_url":"https://api.github.com/users/hvanhovell/orgs","repos_url":"https://api.github.com/users/hvanhovell/repos","events_url":"https://api.github.com/users/hvanhovell/events{/privacy}","received_events_url":"https://api.github.com/users/hvanhovell/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/hvanhovell/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/hvanhovell/spark","forks_url":"https://api.github.com/repos/hvanhovell/spark/forks","keys_url":"https://api.github.com/repos/hvanhovell/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/hvanhovell/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/hvanhovell/spark/teams","hooks_url":"https://api.github.com/repos/hvanhovell/spark/hooks","issue_events_url":"https://api.github.com/repos/hvanhovell/spark/issues/events{/number}","events_url":"https://api.github.com/repos/hvanhovell/spark/events","assignees_url":"https://api.github.com/repos/hvanhovell/spark/assignees{/user}","branches_url":"https://api.github.com/repos/hvanhovell/spark/branches{/branch}","tags_url":"https://api.github.com/repos/hvanhovell/spark/tags","blobs_url":"https://api.github.com/repos/hvanhovell/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/hvanhovell/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/hvanhovell/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/hvanhovell/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/hvanhovell/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/hvanhovell/spark/languages","stargazers_url":"https://api.github.com/repos/hvanhovell/spark/stargazers","contributors_url":"https://api.github.com/repos/hvanhovell/spark/contributors","subscribers_url":"https://api.github.com/repos/hvanhovell/spark/subscribers","subscription_url":"https://api.github.com/repos/hvanhovell/spark/subscription","commits_url":"https://api.github.com/repos/hvanhovell/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/hvanhovell/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/hvanhovell/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/hvanhovell/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/hvanhovell/spark/contents/{+path}","compare_url":"https://api.github.com/repos/hvanhovell/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/hvanhovell/spark/merges","archive_url":"https://api.github.com/repos/hvanhovell/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/hvanhovell/spark/downloads","issues_url":"https://api.github.com/repos/hvanhovell/spark/issues{/number}","pulls_url":"https://api.github.com/repos/hvanhovell/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/hvanhovell/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/hvanhovell/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/hvanhovell/spark/labels{/name}","releases_url":"https://api.github.com/repos/hvanhovell/spark/releases{/id}","deployments_url":"https://api.github.com/repos/hvanhovell/spark/deployments","created_at":"2015-05-19T18:29:31Z","updated_at":"2024-11-14T19:45:14Z","pushed_at":"2025-02-06T16:48:48Z","git_url":"git://github.com/hvanhovell/spark.git","ssh_url":"git@github.com:hvanhovell/spark.git","clone_url":"https://github.com/hvanhovell/spark.git","svn_url":"https://github.com/hvanhovell/spark","homepage":null,"size":447542,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"6d43556089a21b26d1a7590fbe1e25bd1ca7cedd","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35991"},"html":{"href":"https://github.com/apache/spark/pull/35991"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35991"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35991/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35991/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35991/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b72db245b5d4f10dbd8200cdeb22c9250de36a1c"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35990","id":891658883,"node_id":"PR_kwDOAQXtWs41JaKD","html_url":"https://github.com/apache/spark/pull/35990","diff_url":"https://github.com/apache/spark/pull/35990.diff","patch_url":"https://github.com/apache/spark/pull/35990.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35990","number":35990,"state":"closed","locked":false,"title":"[SPARK-38639][SQL] Support ignoreCorruptRecord flag to ensure querying broken sequence file table smoothly","user":{"login":"TonyDoen","id":7348090,"node_id":"MDQ6VXNlcjczNDgwOTA=","avatar_url":"https://avatars.githubusercontent.com/u/7348090?v=4","gravatar_id":"","url":"https://api.github.com/users/TonyDoen","html_url":"https://github.com/TonyDoen","followers_url":"https://api.github.com/users/TonyDoen/followers","following_url":"https://api.github.com/users/TonyDoen/following{/other_user}","gists_url":"https://api.github.com/users/TonyDoen/gists{/gist_id}","starred_url":"https://api.github.com/users/TonyDoen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TonyDoen/subscriptions","organizations_url":"https://api.github.com/users/TonyDoen/orgs","repos_url":"https://api.github.com/users/TonyDoen/repos","events_url":"https://api.github.com/users/TonyDoen/events{/privacy}","received_events_url":"https://api.github.com/users/TonyDoen/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\n### What changes were proposed in this pull request?\r\nThis PR adds a \"spark.sql.hive.ignoreCorruptRecord\" to fill out the functionality that users can query successfully in dirty data(mixed schema in one table).\r\n\r\n\r\n### Why are the changes needed?\r\nThere's an existing flag \"spark.sql.files.ignoreCorruptFiles\" and \"spark.sql.files.ignoreMissingFiles\" that will quietly ignore attempted reads from files that have been corrupted, but it still allows the query to fail on sequence files.\r\n\r\nBeing able to ignore corrupt record is useful in the scenarios that users want to query successfully in dirty data(mixed schema in one table).\r\n\r\nWe would like to add a \"spark.sql.hive.ignoreCorruptRecord\" to fill out the functionality.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, add new config: \"spark.sql.hive.ignoreCorruptRecord\"\r\n\r\n\r\n### How was this patch tested?\r\nManually tested in local and existed UT\r\n","created_at":"2022-03-28T11:02:41Z","updated_at":"2022-09-28T00:31:27Z","closed_at":"2022-09-28T00:31:27Z","merged_at":null,"merge_commit_sha":"2f3c20e71686f45b57b546f986e842759fe1fcc9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35990/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35990/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35990/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/72da02c535c64d6210a4489420b1ff1cb947f6d7","head":{"label":"TonyDoen:SPARK-38639","ref":"SPARK-38639","sha":"72da02c535c64d6210a4489420b1ff1cb947f6d7","user":{"login":"TonyDoen","id":7348090,"node_id":"MDQ6VXNlcjczNDgwOTA=","avatar_url":"https://avatars.githubusercontent.com/u/7348090?v=4","gravatar_id":"","url":"https://api.github.com/users/TonyDoen","html_url":"https://github.com/TonyDoen","followers_url":"https://api.github.com/users/TonyDoen/followers","following_url":"https://api.github.com/users/TonyDoen/following{/other_user}","gists_url":"https://api.github.com/users/TonyDoen/gists{/gist_id}","starred_url":"https://api.github.com/users/TonyDoen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TonyDoen/subscriptions","organizations_url":"https://api.github.com/users/TonyDoen/orgs","repos_url":"https://api.github.com/users/TonyDoen/repos","events_url":"https://api.github.com/users/TonyDoen/events{/privacy}","received_events_url":"https://api.github.com/users/TonyDoen/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":473618204,"node_id":"R_kgDOHDrXHA","name":"spark","full_name":"TonyDoen/spark","private":false,"owner":{"login":"TonyDoen","id":7348090,"node_id":"MDQ6VXNlcjczNDgwOTA=","avatar_url":"https://avatars.githubusercontent.com/u/7348090?v=4","gravatar_id":"","url":"https://api.github.com/users/TonyDoen","html_url":"https://github.com/TonyDoen","followers_url":"https://api.github.com/users/TonyDoen/followers","following_url":"https://api.github.com/users/TonyDoen/following{/other_user}","gists_url":"https://api.github.com/users/TonyDoen/gists{/gist_id}","starred_url":"https://api.github.com/users/TonyDoen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TonyDoen/subscriptions","organizations_url":"https://api.github.com/users/TonyDoen/orgs","repos_url":"https://api.github.com/users/TonyDoen/repos","events_url":"https://api.github.com/users/TonyDoen/events{/privacy}","received_events_url":"https://api.github.com/users/TonyDoen/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/TonyDoen/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/TonyDoen/spark","forks_url":"https://api.github.com/repos/TonyDoen/spark/forks","keys_url":"https://api.github.com/repos/TonyDoen/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/TonyDoen/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/TonyDoen/spark/teams","hooks_url":"https://api.github.com/repos/TonyDoen/spark/hooks","issue_events_url":"https://api.github.com/repos/TonyDoen/spark/issues/events{/number}","events_url":"https://api.github.com/repos/TonyDoen/spark/events","assignees_url":"https://api.github.com/repos/TonyDoen/spark/assignees{/user}","branches_url":"https://api.github.com/repos/TonyDoen/spark/branches{/branch}","tags_url":"https://api.github.com/repos/TonyDoen/spark/tags","blobs_url":"https://api.github.com/repos/TonyDoen/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/TonyDoen/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/TonyDoen/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/TonyDoen/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/TonyDoen/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/TonyDoen/spark/languages","stargazers_url":"https://api.github.com/repos/TonyDoen/spark/stargazers","contributors_url":"https://api.github.com/repos/TonyDoen/spark/contributors","subscribers_url":"https://api.github.com/repos/TonyDoen/spark/subscribers","subscription_url":"https://api.github.com/repos/TonyDoen/spark/subscription","commits_url":"https://api.github.com/repos/TonyDoen/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/TonyDoen/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/TonyDoen/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/TonyDoen/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/TonyDoen/spark/contents/{+path}","compare_url":"https://api.github.com/repos/TonyDoen/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/TonyDoen/spark/merges","archive_url":"https://api.github.com/repos/TonyDoen/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/TonyDoen/spark/downloads","issues_url":"https://api.github.com/repos/TonyDoen/spark/issues{/number}","pulls_url":"https://api.github.com/repos/TonyDoen/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/TonyDoen/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/TonyDoen/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/TonyDoen/spark/labels{/name}","releases_url":"https://api.github.com/repos/TonyDoen/spark/releases{/id}","deployments_url":"https://api.github.com/repos/TonyDoen/spark/deployments","created_at":"2022-03-24T13:28:59Z","updated_at":"2022-03-25T03:22:44Z","pushed_at":"2022-03-28T10:52:49Z","git_url":"git://github.com/TonyDoen/spark.git","ssh_url":"git@github.com:TonyDoen/spark.git","clone_url":"https://github.com/TonyDoen/spark.git","svn_url":"https://github.com/TonyDoen/spark","homepage":"https://spark.apache.org/","size":412753,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"6d32d2e0e2f3d1f36a609a4ab26bfad278a42102","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35990"},"html":{"href":"https://github.com/apache/spark/pull/35990"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35990"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35990/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35990/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35990/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/72da02c535c64d6210a4489420b1ff1cb947f6d7"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35989","id":891646758,"node_id":"PR_kwDOAQXtWs41JXMm","html_url":"https://github.com/apache/spark/pull/35989","diff_url":"https://github.com/apache/spark/pull/35989.diff","patch_url":"https://github.com/apache/spark/pull/35989.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35989","number":35989,"state":"closed","locked":false,"title":"[SPARK-38674][SQL] Avoid deduplication if the keys of the HashedRelation are unique","user":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR makes it avoid deduplication if the keys of the HashedRelation are unique.\r\n\r\n### Why are the changes needed?\r\n\r\nDeduplication is not need if it is [`LongHashedRelation`](https://github.com/apache/spark/blob/8476c8b846ffd2622a6bcf1accf9fa55ffbdc0db/sql/core/src/main/scala/org/apache/spark/sql/execution/joins/HashedRelation.scala#L1062) or the keys of the [`UnsafeHashedRelation`](https://github.com/apache/spark/blob/8476c8b846ffd2622a6bcf1accf9fa55ffbdc0db/sql/core/src/main/scala/org/apache/spark/sql/execution/joins/HashedRelation.scala#L221) are unique.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nUnit test and UI test:\r\n<img src=\"https://user-images.githubusercontent.com/5399861/160396221-21432bdf-8b11-4a95-b496-d8b00ce643ae.png\" width=\"350\">","created_at":"2022-03-28T10:49:28Z","updated_at":"2022-03-29T13:39:49Z","closed_at":"2022-03-29T13:37:07Z","merged_at":null,"merge_commit_sha":"b60b77053e5293df86e43845033ad50c730010a9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35989/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35989/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35989/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/5b019796ea9a5fc3b3325dd97a803534a36519ea","head":{"label":"wangyum:SPARK-38674","ref":"SPARK-38674","sha":"5b019796ea9a5fc3b3325dd97a803534a36519ea","user":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":467759455,"node_id":"R_kgDOG-FxXw","name":"spark","full_name":"wangyum/spark","private":false,"owner":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/wangyum/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/wangyum/spark","forks_url":"https://api.github.com/repos/wangyum/spark/forks","keys_url":"https://api.github.com/repos/wangyum/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/wangyum/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/wangyum/spark/teams","hooks_url":"https://api.github.com/repos/wangyum/spark/hooks","issue_events_url":"https://api.github.com/repos/wangyum/spark/issues/events{/number}","events_url":"https://api.github.com/repos/wangyum/spark/events","assignees_url":"https://api.github.com/repos/wangyum/spark/assignees{/user}","branches_url":"https://api.github.com/repos/wangyum/spark/branches{/branch}","tags_url":"https://api.github.com/repos/wangyum/spark/tags","blobs_url":"https://api.github.com/repos/wangyum/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/wangyum/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/wangyum/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/wangyum/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/wangyum/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/wangyum/spark/languages","stargazers_url":"https://api.github.com/repos/wangyum/spark/stargazers","contributors_url":"https://api.github.com/repos/wangyum/spark/contributors","subscribers_url":"https://api.github.com/repos/wangyum/spark/subscribers","subscription_url":"https://api.github.com/repos/wangyum/spark/subscription","commits_url":"https://api.github.com/repos/wangyum/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/wangyum/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/wangyum/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/wangyum/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/wangyum/spark/contents/{+path}","compare_url":"https://api.github.com/repos/wangyum/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/wangyum/spark/merges","archive_url":"https://api.github.com/repos/wangyum/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/wangyum/spark/downloads","issues_url":"https://api.github.com/repos/wangyum/spark/issues{/number}","pulls_url":"https://api.github.com/repos/wangyum/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/wangyum/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/wangyum/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/wangyum/spark/labels{/name}","releases_url":"https://api.github.com/repos/wangyum/spark/releases{/id}","deployments_url":"https://api.github.com/repos/wangyum/spark/deployments","created_at":"2022-03-09T03:11:29Z","updated_at":"2025-02-09T07:30:39Z","pushed_at":"2025-02-09T07:30:08Z","git_url":"git://github.com/wangyum/spark.git","ssh_url":"git@github.com:wangyum/spark.git","clone_url":"https://github.com/wangyum/spark.git","svn_url":"https://github.com/wangyum/spark","homepage":"https://spark.apache.org/","size":487127,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":8,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":8,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"6d32d2e0e2f3d1f36a609a4ab26bfad278a42102","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35989"},"html":{"href":"https://github.com/apache/spark/pull/35989"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35989"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35989/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35989/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35989/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/5b019796ea9a5fc3b3325dd97a803534a36519ea"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35988","id":891521147,"node_id":"PR_kwDOAQXtWs41I4h7","html_url":"https://github.com/apache/spark/pull/35988","diff_url":"https://github.com/apache/spark/pull/35988.diff","patch_url":"https://github.com/apache/spark/pull/35988.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35988","number":35988,"state":"closed","locked":false,"title":"[SPARK-38432][SQL][FOLLOWUP] Add test case for push down filter with alias","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nDS V2 pushdown predicates to data source supports column with alias.\r\nBut Spark missing the test case for push down filter with alias.\r\n\r\n\r\n### Why are the changes needed?\r\nAdd test case for push down filter with alias\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n'No'.\r\nJust add a test case.\r\n\r\n\r\n### How was this patch tested?\r\nNew tests.\r\n","created_at":"2022-03-28T08:51:58Z","updated_at":"2022-03-29T00:36:57Z","closed_at":"2022-03-28T14:06:38Z","merged_at":null,"merge_commit_sha":"25e72885921df33c964c8fe2ee030da64513dccc","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35988/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35988/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35988/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/05be7f307da5c1a6d58731d55aedf760c8b1b1b1","head":{"label":"beliefer:SPARK-38432_followup2","ref":"SPARK-38432_followup2","sha":"05be7f307da5c1a6d58731d55aedf760c8b1b1b1","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":237617513,"node_id":"MDEwOlJlcG9zaXRvcnkyMzc2MTc1MTM=","name":"spark","full_name":"beliefer/spark","private":false,"owner":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/beliefer/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/beliefer/spark","forks_url":"https://api.github.com/repos/beliefer/spark/forks","keys_url":"https://api.github.com/repos/beliefer/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/beliefer/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/beliefer/spark/teams","hooks_url":"https://api.github.com/repos/beliefer/spark/hooks","issue_events_url":"https://api.github.com/repos/beliefer/spark/issues/events{/number}","events_url":"https://api.github.com/repos/beliefer/spark/events","assignees_url":"https://api.github.com/repos/beliefer/spark/assignees{/user}","branches_url":"https://api.github.com/repos/beliefer/spark/branches{/branch}","tags_url":"https://api.github.com/repos/beliefer/spark/tags","blobs_url":"https://api.github.com/repos/beliefer/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/beliefer/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/beliefer/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/beliefer/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/beliefer/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/beliefer/spark/languages","stargazers_url":"https://api.github.com/repos/beliefer/spark/stargazers","contributors_url":"https://api.github.com/repos/beliefer/spark/contributors","subscribers_url":"https://api.github.com/repos/beliefer/spark/subscribers","subscription_url":"https://api.github.com/repos/beliefer/spark/subscription","commits_url":"https://api.github.com/repos/beliefer/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/beliefer/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/beliefer/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/beliefer/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/beliefer/spark/contents/{+path}","compare_url":"https://api.github.com/repos/beliefer/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/beliefer/spark/merges","archive_url":"https://api.github.com/repos/beliefer/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/beliefer/spark/downloads","issues_url":"https://api.github.com/repos/beliefer/spark/issues{/number}","pulls_url":"https://api.github.com/repos/beliefer/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/beliefer/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/beliefer/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/beliefer/spark/labels{/name}","releases_url":"https://api.github.com/repos/beliefer/spark/releases{/id}","deployments_url":"https://api.github.com/repos/beliefer/spark/deployments","created_at":"2020-02-01T13:17:08Z","updated_at":"2025-01-28T09:45:49Z","pushed_at":"2025-01-28T11:57:29Z","git_url":"git://github.com/beliefer/spark.git","ssh_url":"git@github.com:beliefer/spark.git","clone_url":"https://github.com/beliefer/spark.git","svn_url":"https://github.com/beliefer/spark","homepage":"","size":488033,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"3ffe4ef9eb07f983a7d5d092fe65fdb302b7603a","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35988"},"html":{"href":"https://github.com/apache/spark/pull/35988"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35988"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35988/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35988/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35988/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/05be7f307da5c1a6d58731d55aedf760c8b1b1b1"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35987","id":891378561,"node_id":"PR_kwDOAQXtWs41IVuB","html_url":"https://github.com/apache/spark/pull/35987","diff_url":"https://github.com/apache/spark/pull/35987.diff","patch_url":"https://github.com/apache/spark/pull/35987.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35987","number":35987,"state":"closed","locked":false,"title":"[SPARK-38673][TESTS] Replace Java assert with Junit API in Java UTs","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThere are some Java UTs use java `assert` for assertion, and these assertions will strongly depend on JVM start with `-ea` mode, so this pr replace them with Junit API.\r\n\r\n\r\n### Why are the changes needed?\r\nUse Junit API in Java UTs.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nPass GA","created_at":"2022-03-28T06:08:30Z","updated_at":"2022-03-29T02:40:39Z","closed_at":"2022-03-28T23:21:44Z","merged_at":null,"merge_commit_sha":"a46e24963d4fb59fae0a1d1ae51d7b2ddee4a9e9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35987/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35987/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35987/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/913ba4534d38f9cf6d386fd6d5440c14895cc047","head":{"label":"LuciferYang:SPARK-38673","ref":"SPARK-38673","sha":"913ba4534d38f9cf6d386fd6d5440c14895cc047","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c0cb5bce6623e98fa5161c1e3e866e730de87fa5","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35987"},"html":{"href":"https://github.com/apache/spark/pull/35987"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35987"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35987/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35987/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35987/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/913ba4534d38f9cf6d386fd6d5440c14895cc047"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35986","id":891330903,"node_id":"PR_kwDOAQXtWs41IKFX","html_url":"https://github.com/apache/spark/pull/35986","diff_url":"https://github.com/apache/spark/pull/35986.diff","patch_url":"https://github.com/apache/spark/pull/35986.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35986","number":35986,"state":"closed","locked":false,"title":"[SPARK-38671][INFRA] Publish snapshot from branch-3.3","user":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR makes it publish snapshot from branch-3.3.\r\n\r\n### Why are the changes needed?\r\n\r\nCurrently, it's publishing master and branch-3.2 and branch-3.1.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nN/A","created_at":"2022-03-28T04:56:05Z","updated_at":"2022-03-28T16:18:22Z","closed_at":"2022-03-28T10:18:02Z","merged_at":null,"merge_commit_sha":"f651b0823ec0829e92e32c0b7b8a8be652b2b656","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1982110661,"node_id":"MDU6TGFiZWwxOTgyMTEwNjYx","url":"https://api.github.com/repos/apache/spark/labels/INFRA","name":"INFRA","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35986/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35986/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35986/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b19ea64ddeafd561236ae7e6745f66e571b294a7","head":{"label":"wangyum:SPARK-38671","ref":"SPARK-38671","sha":"b19ea64ddeafd561236ae7e6745f66e571b294a7","user":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":467759455,"node_id":"R_kgDOG-FxXw","name":"spark","full_name":"wangyum/spark","private":false,"owner":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/wangyum/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/wangyum/spark","forks_url":"https://api.github.com/repos/wangyum/spark/forks","keys_url":"https://api.github.com/repos/wangyum/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/wangyum/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/wangyum/spark/teams","hooks_url":"https://api.github.com/repos/wangyum/spark/hooks","issue_events_url":"https://api.github.com/repos/wangyum/spark/issues/events{/number}","events_url":"https://api.github.com/repos/wangyum/spark/events","assignees_url":"https://api.github.com/repos/wangyum/spark/assignees{/user}","branches_url":"https://api.github.com/repos/wangyum/spark/branches{/branch}","tags_url":"https://api.github.com/repos/wangyum/spark/tags","blobs_url":"https://api.github.com/repos/wangyum/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/wangyum/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/wangyum/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/wangyum/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/wangyum/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/wangyum/spark/languages","stargazers_url":"https://api.github.com/repos/wangyum/spark/stargazers","contributors_url":"https://api.github.com/repos/wangyum/spark/contributors","subscribers_url":"https://api.github.com/repos/wangyum/spark/subscribers","subscription_url":"https://api.github.com/repos/wangyum/spark/subscription","commits_url":"https://api.github.com/repos/wangyum/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/wangyum/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/wangyum/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/wangyum/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/wangyum/spark/contents/{+path}","compare_url":"https://api.github.com/repos/wangyum/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/wangyum/spark/merges","archive_url":"https://api.github.com/repos/wangyum/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/wangyum/spark/downloads","issues_url":"https://api.github.com/repos/wangyum/spark/issues{/number}","pulls_url":"https://api.github.com/repos/wangyum/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/wangyum/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/wangyum/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/wangyum/spark/labels{/name}","releases_url":"https://api.github.com/repos/wangyum/spark/releases{/id}","deployments_url":"https://api.github.com/repos/wangyum/spark/deployments","created_at":"2022-03-09T03:11:29Z","updated_at":"2025-02-09T07:30:39Z","pushed_at":"2025-02-09T07:30:08Z","git_url":"git://github.com/wangyum/spark.git","ssh_url":"git@github.com:wangyum/spark.git","clone_url":"https://github.com/wangyum/spark.git","svn_url":"https://github.com/wangyum/spark","homepage":"https://spark.apache.org/","size":487127,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":8,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":8,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ecfe049cc271a3037c5e697be1a1e6af8f61f854","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35986"},"html":{"href":"https://github.com/apache/spark/pull/35986"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35986"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35986/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35986/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35986/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b19ea64ddeafd561236ae7e6745f66e571b294a7"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35985","id":891234490,"node_id":"PR_kwDOAQXtWs41Hyi6","html_url":"https://github.com/apache/spark/pull/35985","diff_url":"https://github.com/apache/spark/pull/35985.diff","patch_url":"https://github.com/apache/spark/pull/35985.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35985","number":35985,"state":"closed","locked":false,"title":"[SPARK-38670][SS] Add offset commit time to streaming query listener","user":{"login":"jerrypeng","id":3613359,"node_id":"MDQ6VXNlcjM2MTMzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3613359?v=4","gravatar_id":"","url":"https://api.github.com/users/jerrypeng","html_url":"https://github.com/jerrypeng","followers_url":"https://api.github.com/users/jerrypeng/followers","following_url":"https://api.github.com/users/jerrypeng/following{/other_user}","gists_url":"https://api.github.com/users/jerrypeng/gists{/gist_id}","starred_url":"https://api.github.com/users/jerrypeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerrypeng/subscriptions","organizations_url":"https://api.github.com/users/jerrypeng/orgs","repos_url":"https://api.github.com/users/jerrypeng/repos","events_url":"https://api.github.com/users/jerrypeng/events{/privacy}","received_events_url":"https://api.github.com/users/jerrypeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\n### What changes were proposed in this pull request?\r\nAdd a metric called \"commitOffsets\" to the StreamingQueryListener\r\n\r\n\r\n### Why are the changes needed?\r\nA good portion of the batch duration is committing offsets at the end of the micro-batch.  The timing for this operation is missing from the durationMs metrics.  Lets add this metric to have a more complete picture of where the time is going during the processing of a micro-batch\r\n\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, an event returned from the StreamingQueryListener will now contain an additional metric:\r\n\r\n```\r\n  \"durationMs\" : {\r\n    \"addBatch\" : 39,\r\n    \"getBatch\" : 0,\r\n    \"latestOffset\" : 0,\r\n    \"queryPlanning\" : 9,\r\n    \"triggerExecution\" : 228,\r\n    \"walCommit\" : 82,\r\n    \"commitOffsets\": 81 // <---- added this metric\r\n  },\r\n```\r\n\r\n\r\n### How was this patch tested?\r\nadd a test","created_at":"2022-03-28T02:05:58Z","updated_at":"2022-03-29T11:37:29Z","closed_at":"2022-03-29T11:37:09Z","merged_at":null,"merge_commit_sha":"a2faf281e2556b25bbc173af26aa92825499bbec","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35985/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35985/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35985/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/1d4b17eccfcb8fc3137f6454a93f0b70f330bddd","head":{"label":"jerrypeng:SPARK-38670","ref":"SPARK-38670","sha":"1d4b17eccfcb8fc3137f6454a93f0b70f330bddd","user":{"login":"jerrypeng","id":3613359,"node_id":"MDQ6VXNlcjM2MTMzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3613359?v=4","gravatar_id":"","url":"https://api.github.com/users/jerrypeng","html_url":"https://github.com/jerrypeng","followers_url":"https://api.github.com/users/jerrypeng/followers","following_url":"https://api.github.com/users/jerrypeng/following{/other_user}","gists_url":"https://api.github.com/users/jerrypeng/gists{/gist_id}","starred_url":"https://api.github.com/users/jerrypeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerrypeng/subscriptions","organizations_url":"https://api.github.com/users/jerrypeng/orgs","repos_url":"https://api.github.com/users/jerrypeng/repos","events_url":"https://api.github.com/users/jerrypeng/events{/privacy}","received_events_url":"https://api.github.com/users/jerrypeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":53078506,"node_id":"MDEwOlJlcG9zaXRvcnk1MzA3ODUwNg==","name":"spark","full_name":"jerrypeng/spark","private":false,"owner":{"login":"jerrypeng","id":3613359,"node_id":"MDQ6VXNlcjM2MTMzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3613359?v=4","gravatar_id":"","url":"https://api.github.com/users/jerrypeng","html_url":"https://github.com/jerrypeng","followers_url":"https://api.github.com/users/jerrypeng/followers","following_url":"https://api.github.com/users/jerrypeng/following{/other_user}","gists_url":"https://api.github.com/users/jerrypeng/gists{/gist_id}","starred_url":"https://api.github.com/users/jerrypeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerrypeng/subscriptions","organizations_url":"https://api.github.com/users/jerrypeng/orgs","repos_url":"https://api.github.com/users/jerrypeng/repos","events_url":"https://api.github.com/users/jerrypeng/events{/privacy}","received_events_url":"https://api.github.com/users/jerrypeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/jerrypeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/jerrypeng/spark","forks_url":"https://api.github.com/repos/jerrypeng/spark/forks","keys_url":"https://api.github.com/repos/jerrypeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/jerrypeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/jerrypeng/spark/teams","hooks_url":"https://api.github.com/repos/jerrypeng/spark/hooks","issue_events_url":"https://api.github.com/repos/jerrypeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/jerrypeng/spark/events","assignees_url":"https://api.github.com/repos/jerrypeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/jerrypeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/jerrypeng/spark/tags","blobs_url":"https://api.github.com/repos/jerrypeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/jerrypeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/jerrypeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/jerrypeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/jerrypeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/jerrypeng/spark/languages","stargazers_url":"https://api.github.com/repos/jerrypeng/spark/stargazers","contributors_url":"https://api.github.com/repos/jerrypeng/spark/contributors","subscribers_url":"https://api.github.com/repos/jerrypeng/spark/subscribers","subscription_url":"https://api.github.com/repos/jerrypeng/spark/subscription","commits_url":"https://api.github.com/repos/jerrypeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/jerrypeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/jerrypeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/jerrypeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/jerrypeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/jerrypeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/jerrypeng/spark/merges","archive_url":"https://api.github.com/repos/jerrypeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/jerrypeng/spark/downloads","issues_url":"https://api.github.com/repos/jerrypeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/jerrypeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/jerrypeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/jerrypeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/jerrypeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/jerrypeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/jerrypeng/spark/deployments","created_at":"2016-03-03T19:50:26Z","updated_at":"2022-08-05T15:06:46Z","pushed_at":"2024-11-27T23:41:18Z","git_url":"git://github.com/jerrypeng/spark.git","ssh_url":"git@github.com:jerrypeng/spark.git","clone_url":"https://github.com/jerrypeng/spark.git","svn_url":"https://github.com/jerrypeng/spark","homepage":null,"size":427705,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c952b83deee3e1063b237a1253b65f3b739343a7","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35985"},"html":{"href":"https://github.com/apache/spark/pull/35985"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35985"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35985/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35985/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35985/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/1d4b17eccfcb8fc3137f6454a93f0b70f330bddd"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35984","id":891231801,"node_id":"PR_kwDOAQXtWs41Hx45","html_url":"https://github.com/apache/spark/pull/35984","diff_url":"https://github.com/apache/spark/pull/35984.diff","patch_url":"https://github.com/apache/spark/pull/35984.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35984","number":35984,"state":"closed","locked":false,"title":"[MINOR][SQL] Show debug log for `AnalysisException` in Analyzer","user":{"login":"monkeyboy123","id":9074114,"node_id":"MDQ6VXNlcjkwNzQxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9074114?v=4","gravatar_id":"","url":"https://api.github.com/users/monkeyboy123","html_url":"https://github.com/monkeyboy123","followers_url":"https://api.github.com/users/monkeyboy123/followers","following_url":"https://api.github.com/users/monkeyboy123/following{/other_user}","gists_url":"https://api.github.com/users/monkeyboy123/gists{/gist_id}","starred_url":"https://api.github.com/users/monkeyboy123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monkeyboy123/subscriptions","organizations_url":"https://api.github.com/users/monkeyboy123/orgs","repos_url":"https://api.github.com/users/monkeyboy123/repos","events_url":"https://api.github.com/users/monkeyboy123/events{/privacy}","received_events_url":"https://api.github.com/users/monkeyboy123/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nLog  AnalysisException output for debug and tracing\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nIn ResolveReferences Rule, resolveExpressionByPlanOutput will be called, it will throw AnalysisException(s\"Reference '$name' is ambiguous, could be: $referenceNames.\") , but we do not log it output. It make confused.\r\nResolveSubquery, ResolveGroupingAnalytics, ResolveAggregateFunctions  also hit this.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNO.\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nJust log AnalysisException output ","created_at":"2022-03-28T02:01:37Z","updated_at":"2022-04-05T06:33:47Z","closed_at":"2022-04-05T00:50:02Z","merged_at":null,"merge_commit_sha":"a046a4b52ab44f2277e7487a766c9d2a2c304ec8","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35984/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35984/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35984/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/6ec45713f74b1f1a5f78db227fd5987f155c17ab","head":{"label":"monkeyboy123:log-analysisException","ref":"log-analysisException","sha":"6ec45713f74b1f1a5f78db227fd5987f155c17ab","user":{"login":"monkeyboy123","id":9074114,"node_id":"MDQ6VXNlcjkwNzQxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9074114?v=4","gravatar_id":"","url":"https://api.github.com/users/monkeyboy123","html_url":"https://github.com/monkeyboy123","followers_url":"https://api.github.com/users/monkeyboy123/followers","following_url":"https://api.github.com/users/monkeyboy123/following{/other_user}","gists_url":"https://api.github.com/users/monkeyboy123/gists{/gist_id}","starred_url":"https://api.github.com/users/monkeyboy123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monkeyboy123/subscriptions","organizations_url":"https://api.github.com/users/monkeyboy123/orgs","repos_url":"https://api.github.com/users/monkeyboy123/repos","events_url":"https://api.github.com/users/monkeyboy123/events{/privacy}","received_events_url":"https://api.github.com/users/monkeyboy123/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":152182667,"node_id":"MDEwOlJlcG9zaXRvcnkxNTIxODI2Njc=","name":"spark","full_name":"monkeyboy123/spark","private":false,"owner":{"login":"monkeyboy123","id":9074114,"node_id":"MDQ6VXNlcjkwNzQxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9074114?v=4","gravatar_id":"","url":"https://api.github.com/users/monkeyboy123","html_url":"https://github.com/monkeyboy123","followers_url":"https://api.github.com/users/monkeyboy123/followers","following_url":"https://api.github.com/users/monkeyboy123/following{/other_user}","gists_url":"https://api.github.com/users/monkeyboy123/gists{/gist_id}","starred_url":"https://api.github.com/users/monkeyboy123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monkeyboy123/subscriptions","organizations_url":"https://api.github.com/users/monkeyboy123/orgs","repos_url":"https://api.github.com/users/monkeyboy123/repos","events_url":"https://api.github.com/users/monkeyboy123/events{/privacy}","received_events_url":"https://api.github.com/users/monkeyboy123/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/monkeyboy123/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/monkeyboy123/spark","forks_url":"https://api.github.com/repos/monkeyboy123/spark/forks","keys_url":"https://api.github.com/repos/monkeyboy123/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/monkeyboy123/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/monkeyboy123/spark/teams","hooks_url":"https://api.github.com/repos/monkeyboy123/spark/hooks","issue_events_url":"https://api.github.com/repos/monkeyboy123/spark/issues/events{/number}","events_url":"https://api.github.com/repos/monkeyboy123/spark/events","assignees_url":"https://api.github.com/repos/monkeyboy123/spark/assignees{/user}","branches_url":"https://api.github.com/repos/monkeyboy123/spark/branches{/branch}","tags_url":"https://api.github.com/repos/monkeyboy123/spark/tags","blobs_url":"https://api.github.com/repos/monkeyboy123/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/monkeyboy123/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/monkeyboy123/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/monkeyboy123/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/monkeyboy123/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/monkeyboy123/spark/languages","stargazers_url":"https://api.github.com/repos/monkeyboy123/spark/stargazers","contributors_url":"https://api.github.com/repos/monkeyboy123/spark/contributors","subscribers_url":"https://api.github.com/repos/monkeyboy123/spark/subscribers","subscription_url":"https://api.github.com/repos/monkeyboy123/spark/subscription","commits_url":"https://api.github.com/repos/monkeyboy123/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/monkeyboy123/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/monkeyboy123/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/monkeyboy123/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/monkeyboy123/spark/contents/{+path}","compare_url":"https://api.github.com/repos/monkeyboy123/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/monkeyboy123/spark/merges","archive_url":"https://api.github.com/repos/monkeyboy123/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/monkeyboy123/spark/downloads","issues_url":"https://api.github.com/repos/monkeyboy123/spark/issues{/number}","pulls_url":"https://api.github.com/repos/monkeyboy123/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/monkeyboy123/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/monkeyboy123/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/monkeyboy123/spark/labels{/name}","releases_url":"https://api.github.com/repos/monkeyboy123/spark/releases{/id}","deployments_url":"https://api.github.com/repos/monkeyboy123/spark/deployments","created_at":"2018-10-09T03:32:45Z","updated_at":"2024-05-22T13:10:31Z","pushed_at":"2024-05-25T23:04:44Z","git_url":"git://github.com/monkeyboy123/spark.git","ssh_url":"git@github.com:monkeyboy123/spark.git","clone_url":"https://github.com/monkeyboy123/spark.git","svn_url":"https://github.com/monkeyboy123/spark","homepage":null,"size":427706,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"65d347d145f0039d5246431431573ccd34724276","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35984"},"html":{"href":"https://github.com/apache/spark/pull/35984"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35984"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35984/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35984/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35984/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/6ec45713f74b1f1a5f78db227fd5987f155c17ab"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35983","id":891203189,"node_id":"PR_kwDOAQXtWs41Hq51","html_url":"https://github.com/apache/spark/pull/35983","diff_url":"https://github.com/apache/spark/pull/35983.diff","patch_url":"https://github.com/apache/spark/pull/35983.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35983","number":35983,"state":"closed","locked":false,"title":"[SPARK-38669][ML] Validate input dataset of ml.clustering and ml.recommendation","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nValidate input dataset of ml.clustering\r\n\r\n\r\n### Why are the changes needed?\r\nwhen input dataset contains invalid values, fail fast and output relevant error message\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nadded testsuites\r\n","created_at":"2022-03-28T01:11:13Z","updated_at":"2022-04-03T02:24:15Z","closed_at":"2022-04-02T14:41:49Z","merged_at":null,"merge_commit_sha":"81a7b38a969170daca18303f27865ed5fed70c70","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35983/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35983/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35983/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/03e61cc0bdc8db963bb734354f7a887e968d5c66","head":{"label":"zhengruifeng:clustering_validate_training_dataset","ref":"clustering_validate_training_dataset","sha":"03e61cc0bdc8db963bb734354f7a887e968d5c66","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":51584791,"node_id":"MDEwOlJlcG9zaXRvcnk1MTU4NDc5MQ==","name":"spark","full_name":"zhengruifeng/spark","private":false,"owner":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhengruifeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zhengruifeng/spark","forks_url":"https://api.github.com/repos/zhengruifeng/spark/forks","keys_url":"https://api.github.com/repos/zhengruifeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhengruifeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhengruifeng/spark/teams","hooks_url":"https://api.github.com/repos/zhengruifeng/spark/hooks","issue_events_url":"https://api.github.com/repos/zhengruifeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhengruifeng/spark/events","assignees_url":"https://api.github.com/repos/zhengruifeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhengruifeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhengruifeng/spark/tags","blobs_url":"https://api.github.com/repos/zhengruifeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhengruifeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhengruifeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhengruifeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhengruifeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhengruifeng/spark/languages","stargazers_url":"https://api.github.com/repos/zhengruifeng/spark/stargazers","contributors_url":"https://api.github.com/repos/zhengruifeng/spark/contributors","subscribers_url":"https://api.github.com/repos/zhengruifeng/spark/subscribers","subscription_url":"https://api.github.com/repos/zhengruifeng/spark/subscription","commits_url":"https://api.github.com/repos/zhengruifeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhengruifeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhengruifeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhengruifeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhengruifeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhengruifeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhengruifeng/spark/merges","archive_url":"https://api.github.com/repos/zhengruifeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhengruifeng/spark/downloads","issues_url":"https://api.github.com/repos/zhengruifeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhengruifeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhengruifeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhengruifeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhengruifeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhengruifeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhengruifeng/spark/deployments","created_at":"2016-02-12T11:58:00Z","updated_at":"2025-02-09T01:55:22Z","pushed_at":"2025-02-09T01:55:17Z","git_url":"git://github.com/zhengruifeng/spark.git","ssh_url":"git@github.com:zhengruifeng/spark.git","clone_url":"https://github.com/zhengruifeng/spark.git","svn_url":"https://github.com/zhengruifeng/spark","homepage":null,"size":434785,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d790f3e144f63dc0e7a1ecb754cdfc69f568cc8c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35983"},"html":{"href":"https://github.com/apache/spark/pull/35983"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35983"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35983/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35983/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35983/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/03e61cc0bdc8db963bb734354f7a887e968d5c66"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35982","id":891145825,"node_id":"PR_kwDOAQXtWs41Hc5h","html_url":"https://github.com/apache/spark/pull/35982","diff_url":"https://github.com/apache/spark/pull/35982.diff","patch_url":"https://github.com/apache/spark/pull/35982.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35982","number":35982,"state":"closed","locked":false,"title":"[SPARK-38336][SQL] Support INSERT INTO commands into tables with DEFAULT columns","user":{"login":"dtenedor","id":99207096,"node_id":"U_kgDOBenHuA","avatar_url":"https://avatars.githubusercontent.com/u/99207096?v=4","gravatar_id":"","url":"https://api.github.com/users/dtenedor","html_url":"https://github.com/dtenedor","followers_url":"https://api.github.com/users/dtenedor/followers","following_url":"https://api.github.com/users/dtenedor/following{/other_user}","gists_url":"https://api.github.com/users/dtenedor/gists{/gist_id}","starred_url":"https://api.github.com/users/dtenedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dtenedor/subscriptions","organizations_url":"https://api.github.com/users/dtenedor/orgs","repos_url":"https://api.github.com/users/dtenedor/repos","events_url":"https://api.github.com/users/dtenedor/events{/privacy}","received_events_url":"https://api.github.com/users/dtenedor/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nExtend INSERT INTO statements to support omitting default values or referring to them explicitly with the DEFAULT keyword, in which case the Spark analyzer will automatically insert the appropriate corresponding values in the right places.\r\n\r\nExample:\r\n```\r\nCREATE TABLE T(a INT DEFAULT 4, b INT NOT NULL DEFAULT 5);\r\nINSERT INTO T VALUES (1);\r\nINSERT INTO T VALUES (1, DEFAULT);\r\nINSERT INTO T VALUES (DEFAULT, 6);\r\nSELECT * FROM T;\r\n(1, 5)\r\n(1, 5)\r\n(4, 6)\r\n```\r\n\r\n### Why are the changes needed?\r\n\r\nThis helps users issue INSERT INTO statements with less effort, and helps people creating or updating tables to add custom optional columns for use in specific circumstances as desired. \r\n\r\n### How was this patch tested?\r\n\r\nThis change is covered by new and existing unit test coverage as well as new INSERT INTO query test cases covering a variety of positive and negative scenarios.","created_at":"2022-03-27T21:35:44Z","updated_at":"2023-01-11T18:32:02Z","closed_at":"2022-03-31T06:30:10Z","merged_at":null,"merge_commit_sha":"ae508f7c766febfb8c256fb7553f7fdf4969a63b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982110661,"node_id":"MDU6TGFiZWwxOTgyMTEwNjYx","url":"https://api.github.com/repos/apache/spark/labels/INFRA","name":"INFRA","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35982/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35982/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35982/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b9f7a1c0b2d2be746b30720c705feb314c9dbb47","head":{"label":"dtenedor:default-columns-insert-into","ref":"default-columns-insert-into","sha":"b9f7a1c0b2d2be746b30720c705feb314c9dbb47","user":{"login":"dtenedor","id":99207096,"node_id":"U_kgDOBenHuA","avatar_url":"https://avatars.githubusercontent.com/u/99207096?v=4","gravatar_id":"","url":"https://api.github.com/users/dtenedor","html_url":"https://github.com/dtenedor","followers_url":"https://api.github.com/users/dtenedor/followers","following_url":"https://api.github.com/users/dtenedor/following{/other_user}","gists_url":"https://api.github.com/users/dtenedor/gists{/gist_id}","starred_url":"https://api.github.com/users/dtenedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dtenedor/subscriptions","organizations_url":"https://api.github.com/users/dtenedor/orgs","repos_url":"https://api.github.com/users/dtenedor/repos","events_url":"https://api.github.com/users/dtenedor/events{/privacy}","received_events_url":"https://api.github.com/users/dtenedor/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"cab8aa1c4fe66c4cb1b69112094a203a04758f76","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35982"},"html":{"href":"https://github.com/apache/spark/pull/35982"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35982"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35982/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35982/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35982/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b9f7a1c0b2d2be746b30720c705feb314c9dbb47"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35981","id":890467368,"node_id":"PR_kwDOAQXtWs41E3Qo","html_url":"https://github.com/apache/spark/pull/35981","diff_url":"https://github.com/apache/spark/pull/35981.diff","patch_url":"https://github.com/apache/spark/pull/35981.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35981","number":35981,"state":"closed","locked":false,"title":"[SPARK-38665][BUILD] Upgrade jackson due to CVE-2020-36518","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nUpgrade jackson due to CVE-2020-36518\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nhttps://github.com/FasterXML/jackson-databind/issues/2816\r\nonly jackson-databind has a 2.13.2.1 release\r\nother jackson jars should stay at 2.13.2\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nExisting tests.","created_at":"2022-03-26T16:50:19Z","updated_at":"2022-03-27T17:01:19Z","closed_at":"2022-03-27T16:59:40Z","merged_at":null,"merge_commit_sha":"f475634f62f23061f70e60bb853a292bd79976d8","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35981/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35981/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35981/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/85f1eb6ed49873adc0e49ff1ddacf5a06417585c","head":{"label":"pan3793:jackson","ref":"jackson","sha":"85f1eb6ed49873adc0e49ff1ddacf5a06417585c","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":275650396,"node_id":"MDEwOlJlcG9zaXRvcnkyNzU2NTAzOTY=","name":"spark","full_name":"pan3793/spark","private":false,"owner":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pan3793/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/pan3793/spark","forks_url":"https://api.github.com/repos/pan3793/spark/forks","keys_url":"https://api.github.com/repos/pan3793/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pan3793/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pan3793/spark/teams","hooks_url":"https://api.github.com/repos/pan3793/spark/hooks","issue_events_url":"https://api.github.com/repos/pan3793/spark/issues/events{/number}","events_url":"https://api.github.com/repos/pan3793/spark/events","assignees_url":"https://api.github.com/repos/pan3793/spark/assignees{/user}","branches_url":"https://api.github.com/repos/pan3793/spark/branches{/branch}","tags_url":"https://api.github.com/repos/pan3793/spark/tags","blobs_url":"https://api.github.com/repos/pan3793/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pan3793/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pan3793/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/pan3793/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pan3793/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/pan3793/spark/languages","stargazers_url":"https://api.github.com/repos/pan3793/spark/stargazers","contributors_url":"https://api.github.com/repos/pan3793/spark/contributors","subscribers_url":"https://api.github.com/repos/pan3793/spark/subscribers","subscription_url":"https://api.github.com/repos/pan3793/spark/subscription","commits_url":"https://api.github.com/repos/pan3793/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/pan3793/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/pan3793/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/pan3793/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/pan3793/spark/contents/{+path}","compare_url":"https://api.github.com/repos/pan3793/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pan3793/spark/merges","archive_url":"https://api.github.com/repos/pan3793/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pan3793/spark/downloads","issues_url":"https://api.github.com/repos/pan3793/spark/issues{/number}","pulls_url":"https://api.github.com/repos/pan3793/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/pan3793/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/pan3793/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pan3793/spark/labels{/name}","releases_url":"https://api.github.com/repos/pan3793/spark/releases{/id}","deployments_url":"https://api.github.com/repos/pan3793/spark/deployments","created_at":"2020-06-28T19:04:17Z","updated_at":"2024-06-11T02:32:11Z","pushed_at":"2025-01-16T02:34:50Z","git_url":"git://github.com/pan3793/spark.git","ssh_url":"git@github.com:pan3793/spark.git","clone_url":"https://github.com/pan3793/spark.git","svn_url":"https://github.com/pan3793/spark","homepage":"https://spark.apache.org/","size":473459,"stargazers_count":4,"watchers_count":4,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":0,"watchers":4,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"4e95738fdfc334c25f44689ff8c2db5aa7c726f2","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35981"},"html":{"href":"https://github.com/apache/spark/pull/35981"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35981"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35981/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35981/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35981/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/85f1eb6ed49873adc0e49ff1ddacf5a06417585c"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35980","id":890424328,"node_id":"PR_kwDOAQXtWs41EswI","html_url":"https://github.com/apache/spark/pull/35980","diff_url":"https://github.com/apache/spark/pull/35980.diff","patch_url":"https://github.com/apache/spark/pull/35980.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35980","number":35980,"state":"closed","locked":false,"title":"[SPARK-37512][PYTHON][FOLLOWUP] Add test_timedelta_ops to modules","user":{"login":"Yikun","id":1736354,"node_id":"MDQ6VXNlcjE3MzYzNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1736354?v=4","gravatar_id":"","url":"https://api.github.com/users/Yikun","html_url":"https://github.com/Yikun","followers_url":"https://api.github.com/users/Yikun/followers","following_url":"https://api.github.com/users/Yikun/following{/other_user}","gists_url":"https://api.github.com/users/Yikun/gists{/gist_id}","starred_url":"https://api.github.com/users/Yikun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yikun/subscriptions","organizations_url":"https://api.github.com/users/Yikun/orgs","repos_url":"https://api.github.com/users/Yikun/repos","events_url":"https://api.github.com/users/Yikun/events{/privacy}","received_events_url":"https://api.github.com/users/Yikun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nAdd `test_timedelta_ops` to modules\r\n\r\n### Why are the changes needed?\r\n`test_timedelta_ops` wasn't added to modules in original PR https://github.com/apache/spark/pull/34776.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\n- UT passed\r\n- `Build modules (master, regular job): pyspark-pandas` contains test_timedelta_ops.","created_at":"2022-03-26T15:41:06Z","updated_at":"2022-03-31T16:16:40Z","closed_at":"2022-03-27T00:23:39Z","merged_at":null,"merge_commit_sha":"6fff808f4f3875f52fcddf2db9dfde397ea889da","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35980/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35980/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35980/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9d8698b3dce87502c7ba78fb499479cde06adc0f","head":{"label":"Yikun:patch-19","ref":"patch-19","sha":"9d8698b3dce87502c7ba78fb499479cde06adc0f","user":{"login":"Yikun","id":1736354,"node_id":"MDQ6VXNlcjE3MzYzNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1736354?v=4","gravatar_id":"","url":"https://api.github.com/users/Yikun","html_url":"https://github.com/Yikun","followers_url":"https://api.github.com/users/Yikun/followers","following_url":"https://api.github.com/users/Yikun/following{/other_user}","gists_url":"https://api.github.com/users/Yikun/gists{/gist_id}","starred_url":"https://api.github.com/users/Yikun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yikun/subscriptions","organizations_url":"https://api.github.com/users/Yikun/orgs","repos_url":"https://api.github.com/users/Yikun/repos","events_url":"https://api.github.com/users/Yikun/events{/privacy}","received_events_url":"https://api.github.com/users/Yikun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":335541670,"node_id":"MDEwOlJlcG9zaXRvcnkzMzU1NDE2NzA=","name":"spark","full_name":"Yikun/spark","private":false,"owner":{"login":"Yikun","id":1736354,"node_id":"MDQ6VXNlcjE3MzYzNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1736354?v=4","gravatar_id":"","url":"https://api.github.com/users/Yikun","html_url":"https://github.com/Yikun","followers_url":"https://api.github.com/users/Yikun/followers","following_url":"https://api.github.com/users/Yikun/following{/other_user}","gists_url":"https://api.github.com/users/Yikun/gists{/gist_id}","starred_url":"https://api.github.com/users/Yikun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yikun/subscriptions","organizations_url":"https://api.github.com/users/Yikun/orgs","repos_url":"https://api.github.com/users/Yikun/repos","events_url":"https://api.github.com/users/Yikun/events{/privacy}","received_events_url":"https://api.github.com/users/Yikun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Yikun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/Yikun/spark","forks_url":"https://api.github.com/repos/Yikun/spark/forks","keys_url":"https://api.github.com/repos/Yikun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Yikun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Yikun/spark/teams","hooks_url":"https://api.github.com/repos/Yikun/spark/hooks","issue_events_url":"https://api.github.com/repos/Yikun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/Yikun/spark/events","assignees_url":"https://api.github.com/repos/Yikun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/Yikun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/Yikun/spark/tags","blobs_url":"https://api.github.com/repos/Yikun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Yikun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Yikun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/Yikun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Yikun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/Yikun/spark/languages","stargazers_url":"https://api.github.com/repos/Yikun/spark/stargazers","contributors_url":"https://api.github.com/repos/Yikun/spark/contributors","subscribers_url":"https://api.github.com/repos/Yikun/spark/subscribers","subscription_url":"https://api.github.com/repos/Yikun/spark/subscription","commits_url":"https://api.github.com/repos/Yikun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/Yikun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/Yikun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/Yikun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/Yikun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/Yikun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Yikun/spark/merges","archive_url":"https://api.github.com/repos/Yikun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Yikun/spark/downloads","issues_url":"https://api.github.com/repos/Yikun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/Yikun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/Yikun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/Yikun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Yikun/spark/labels{/name}","releases_url":"https://api.github.com/repos/Yikun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/Yikun/spark/deployments","created_at":"2021-02-03T07:25:58Z","updated_at":"2022-01-13T12:26:18Z","pushed_at":"2023-01-28T06:50:14Z","git_url":"git://github.com/Yikun/spark.git","ssh_url":"git@github.com:Yikun/spark.git","clone_url":"https://github.com/Yikun/spark.git","svn_url":"https://github.com/Yikun/spark","homepage":"https://spark.apache.org/","size":452564,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":1,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"4e95738fdfc334c25f44689ff8c2db5aa7c726f2","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35980"},"html":{"href":"https://github.com/apache/spark/pull/35980"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35980"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35980/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35980/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35980/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9d8698b3dce87502c7ba78fb499479cde06adc0f"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35979","id":890177968,"node_id":"PR_kwDOAQXtWs41Dwmw","html_url":"https://github.com/apache/spark/pull/35979","diff_url":"https://github.com/apache/spark/pull/35979.diff","patch_url":"https://github.com/apache/spark/pull/35979.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35979","number":35979,"state":"closed","locked":false,"title":"[SPARK-38664][CORE] Support compact EventLog when there are illegal characters in the path","user":{"login":"lw33","id":19798708,"node_id":"MDQ6VXNlcjE5Nzk4NzA4","avatar_url":"https://avatars.githubusercontent.com/u/19798708?v=4","gravatar_id":"","url":"https://api.github.com/users/lw33","html_url":"https://github.com/lw33","followers_url":"https://api.github.com/users/lw33/followers","following_url":"https://api.github.com/users/lw33/following{/other_user}","gists_url":"https://api.github.com/users/lw33/gists{/gist_id}","starred_url":"https://api.github.com/users/lw33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw33/subscriptions","organizations_url":"https://api.github.com/users/lw33/orgs","repos_url":"https://api.github.com/users/lw33/repos","events_url":"https://api.github.com/users/lw33/events{/privacy}","received_events_url":"https://api.github.com/users/lw33/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nDo not escape illegal characters.\r\n\r\n### Why are the changes needed?\r\nCompact EventLog fail.\r\n\r\n### Does this PR introduce any user-facing change?\r\nNo.\r\n\r\n### How was this patch tested?\r\nUnit Test","created_at":"2022-03-26T07:46:36Z","updated_at":"2022-04-05T02:26:01Z","closed_at":"2022-04-05T02:10:13Z","merged_at":null,"merge_commit_sha":"33fbc16be92da6408c2f135848d30e28f19d972f","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35979/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35979/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35979/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/086d66cbdd76a7da664d8653c43f9414e151872e","head":{"label":"lw33:master","ref":"master","sha":"086d66cbdd76a7da664d8653c43f9414e151872e","user":{"login":"lw33","id":19798708,"node_id":"MDQ6VXNlcjE5Nzk4NzA4","avatar_url":"https://avatars.githubusercontent.com/u/19798708?v=4","gravatar_id":"","url":"https://api.github.com/users/lw33","html_url":"https://github.com/lw33","followers_url":"https://api.github.com/users/lw33/followers","following_url":"https://api.github.com/users/lw33/following{/other_user}","gists_url":"https://api.github.com/users/lw33/gists{/gist_id}","starred_url":"https://api.github.com/users/lw33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw33/subscriptions","organizations_url":"https://api.github.com/users/lw33/orgs","repos_url":"https://api.github.com/users/lw33/repos","events_url":"https://api.github.com/users/lw33/events{/privacy}","received_events_url":"https://api.github.com/users/lw33/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":472819911,"node_id":"R_kgDOHC6oxw","name":"spark","full_name":"lw33/spark","private":false,"owner":{"login":"lw33","id":19798708,"node_id":"MDQ6VXNlcjE5Nzk4NzA4","avatar_url":"https://avatars.githubusercontent.com/u/19798708?v=4","gravatar_id":"","url":"https://api.github.com/users/lw33","html_url":"https://github.com/lw33","followers_url":"https://api.github.com/users/lw33/followers","following_url":"https://api.github.com/users/lw33/following{/other_user}","gists_url":"https://api.github.com/users/lw33/gists{/gist_id}","starred_url":"https://api.github.com/users/lw33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw33/subscriptions","organizations_url":"https://api.github.com/users/lw33/orgs","repos_url":"https://api.github.com/users/lw33/repos","events_url":"https://api.github.com/users/lw33/events{/privacy}","received_events_url":"https://api.github.com/users/lw33/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/lw33/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/lw33/spark","forks_url":"https://api.github.com/repos/lw33/spark/forks","keys_url":"https://api.github.com/repos/lw33/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/lw33/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/lw33/spark/teams","hooks_url":"https://api.github.com/repos/lw33/spark/hooks","issue_events_url":"https://api.github.com/repos/lw33/spark/issues/events{/number}","events_url":"https://api.github.com/repos/lw33/spark/events","assignees_url":"https://api.github.com/repos/lw33/spark/assignees{/user}","branches_url":"https://api.github.com/repos/lw33/spark/branches{/branch}","tags_url":"https://api.github.com/repos/lw33/spark/tags","blobs_url":"https://api.github.com/repos/lw33/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/lw33/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/lw33/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/lw33/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/lw33/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/lw33/spark/languages","stargazers_url":"https://api.github.com/repos/lw33/spark/stargazers","contributors_url":"https://api.github.com/repos/lw33/spark/contributors","subscribers_url":"https://api.github.com/repos/lw33/spark/subscribers","subscription_url":"https://api.github.com/repos/lw33/spark/subscription","commits_url":"https://api.github.com/repos/lw33/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/lw33/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/lw33/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/lw33/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/lw33/spark/contents/{+path}","compare_url":"https://api.github.com/repos/lw33/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/lw33/spark/merges","archive_url":"https://api.github.com/repos/lw33/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/lw33/spark/downloads","issues_url":"https://api.github.com/repos/lw33/spark/issues{/number}","pulls_url":"https://api.github.com/repos/lw33/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/lw33/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/lw33/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/lw33/spark/labels{/name}","releases_url":"https://api.github.com/repos/lw33/spark/releases{/id}","deployments_url":"https://api.github.com/repos/lw33/spark/deployments","created_at":"2022-03-22T15:05:35Z","updated_at":"2024-07-30T13:05:59Z","pushed_at":"2024-07-30T13:05:10Z","git_url":"git://github.com/lw33/spark.git","ssh_url":"git@github.com:lw33/spark.git","clone_url":"https://github.com/lw33/spark.git","svn_url":"https://github.com/lw33/spark","homepage":"https://spark.apache.org/","size":444739,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"eb30a27e53158e64fffaa6d32ff9369ffbae0384","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35979"},"html":{"href":"https://github.com/apache/spark/pull/35979"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35979"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35979/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35979/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35979/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/086d66cbdd76a7da664d8653c43f9414e151872e"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35978","id":890160429,"node_id":"PR_kwDOAQXtWs41DsUt","html_url":"https://github.com/apache/spark/pull/35978","diff_url":"https://github.com/apache/spark/pull/35978.diff","patch_url":"https://github.com/apache/spark/pull/35978.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35978","number":35978,"state":"closed","locked":false,"title":"[SPARK-38663][TESTS][3.0] Remove inaccessible repository: https://dl.bintray.com","user":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis pr removes the resolver of https://dl.bintray.com/typesafe/sbt-plugins.\r\n\r\n### Why are the changes needed?\r\n\r\nhttps://dl.bintray.com/typesafe/sbt-plugins is invalid:\r\n```\r\nRun ./dev/lint-scala\r\nScalastyle checks failed at following occurrences:\r\n[error] SERVER ERROR: Bad Gateway url=https://dl.bintray.com/typesafe/sbt-plugins/com.etsy/sbt-checkstyle-plugin/3.1.1/jars/sbt-checkstyle-plugin.jar\r\n[error] SERVER ERROR: Bad Gateway url=https://dl.bintray.com/typesafe/sbt-plugins/org.sonatype.oss/oss-parent/7/jars/oss-parent.jar\r\n[error] SERVER ERROR: Bad Gateway url=https://dl.bintray.com/typesafe/sbt-plugins/org.antlr/antlr4-master/4.7.2/jars/antlr4-master.jar\r\n[error] SERVER ERROR: Bad Gateway url=https://dl.bintray.com/typesafe/sbt-plugins/org.apache/apache/1[9](https://github.com/apache/spark/runs/5657909908?check_suite_focus=true#step:11:9)/jars/apache.jar\r\n```\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nLocal test:\r\n```\r\nrm -rf ~/.ivy2/\r\nbuild/sbt scalastyle test:scalastyle\r\n...\r\n[info] downloading https://repo.scala-sbt.org/scalasbt/sbt-plugin-releases/com.typesafe/sbt-mima-plugin/scala_2.10/sbt_0.13/0.3.0/jars/sbt-mima-plugin.jar ...\r\n[info]  [SUCCESSFUL ] com.typesafe#sbt-mima-plugin;0.3.0!sbt-mima-plugin.jar (4989ms)\r\n...\r\n```\r\n","created_at":"2022-03-26T06:51:15Z","updated_at":"2022-03-28T22:00:19Z","closed_at":"2022-03-27T00:46:24Z","merged_at":null,"merge_commit_sha":"d2516aea37172b241d9d3621b1b21188800974b3","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35978/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35978/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35978/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/a258d75f4a492e6586f132889887da028b347191","head":{"label":"wangyum:SPARK-38663","ref":"SPARK-38663","sha":"a258d75f4a492e6586f132889887da028b347191","user":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":467759455,"node_id":"R_kgDOG-FxXw","name":"spark","full_name":"wangyum/spark","private":false,"owner":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/wangyum/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/wangyum/spark","forks_url":"https://api.github.com/repos/wangyum/spark/forks","keys_url":"https://api.github.com/repos/wangyum/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/wangyum/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/wangyum/spark/teams","hooks_url":"https://api.github.com/repos/wangyum/spark/hooks","issue_events_url":"https://api.github.com/repos/wangyum/spark/issues/events{/number}","events_url":"https://api.github.com/repos/wangyum/spark/events","assignees_url":"https://api.github.com/repos/wangyum/spark/assignees{/user}","branches_url":"https://api.github.com/repos/wangyum/spark/branches{/branch}","tags_url":"https://api.github.com/repos/wangyum/spark/tags","blobs_url":"https://api.github.com/repos/wangyum/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/wangyum/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/wangyum/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/wangyum/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/wangyum/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/wangyum/spark/languages","stargazers_url":"https://api.github.com/repos/wangyum/spark/stargazers","contributors_url":"https://api.github.com/repos/wangyum/spark/contributors","subscribers_url":"https://api.github.com/repos/wangyum/spark/subscribers","subscription_url":"https://api.github.com/repos/wangyum/spark/subscription","commits_url":"https://api.github.com/repos/wangyum/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/wangyum/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/wangyum/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/wangyum/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/wangyum/spark/contents/{+path}","compare_url":"https://api.github.com/repos/wangyum/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/wangyum/spark/merges","archive_url":"https://api.github.com/repos/wangyum/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/wangyum/spark/downloads","issues_url":"https://api.github.com/repos/wangyum/spark/issues{/number}","pulls_url":"https://api.github.com/repos/wangyum/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/wangyum/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/wangyum/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/wangyum/spark/labels{/name}","releases_url":"https://api.github.com/repos/wangyum/spark/releases{/id}","deployments_url":"https://api.github.com/repos/wangyum/spark/deployments","created_at":"2022-03-09T03:11:29Z","updated_at":"2025-02-09T07:30:39Z","pushed_at":"2025-02-09T07:30:08Z","git_url":"git://github.com/wangyum/spark.git","ssh_url":"git@github.com:wangyum/spark.git","clone_url":"https://github.com/wangyum/spark.git","svn_url":"https://github.com/wangyum/spark","homepage":"https://spark.apache.org/","size":487127,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":8,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":8,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:branch-3.0","ref":"branch-3.0","sha":"4fc718fbc7e70784c250ea9315ccfc56cfaa5893","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35978"},"html":{"href":"https://github.com/apache/spark/pull/35978"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35978"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35978/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35978/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35978/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/a258d75f4a492e6586f132889887da028b347191"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35977","id":889906658,"node_id":"PR_kwDOAQXtWs41CuXi","html_url":"https://github.com/apache/spark/pull/35977","diff_url":"https://github.com/apache/spark/pull/35977.diff","patch_url":"https://github.com/apache/spark/pull/35977.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35977","number":35977,"state":"closed","locked":false,"title":"[SPARK-38660][PYTHON] PySpark DeprecationWarning: distutils Version classes are deprecated","user":{"login":"kianelbo","id":34425507,"node_id":"MDQ6VXNlcjM0NDI1NTA3","avatar_url":"https://avatars.githubusercontent.com/u/34425507?v=4","gravatar_id":"","url":"https://api.github.com/users/kianelbo","html_url":"https://github.com/kianelbo","followers_url":"https://api.github.com/users/kianelbo/followers","following_url":"https://api.github.com/users/kianelbo/following{/other_user}","gists_url":"https://api.github.com/users/kianelbo/gists{/gist_id}","starred_url":"https://api.github.com/users/kianelbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kianelbo/subscriptions","organizations_url":"https://api.github.com/users/kianelbo/orgs","repos_url":"https://api.github.com/users/kianelbo/repos","events_url":"https://api.github.com/users/kianelbo/events{/privacy}","received_events_url":"https://api.github.com/users/kianelbo/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\nUsing `packaging.version` instead of `distutils.version` to silence the deprecation warnings\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\n\r\n### Why are the changes needed?\r\n[PEP 632](https://peps.python.org/pep-0632/#migration-advice)\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\n\r\n### How was this patch tested?\r\nNo additional tests were required and added\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n","created_at":"2022-03-25T21:07:20Z","updated_at":"2022-04-17T06:10:18Z","closed_at":"2022-04-16T18:57:02Z","merged_at":null,"merge_commit_sha":"e56100d631be1bb26e790db5a65a09332cc0c698","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35977/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35977/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35977/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/91797272a6224bfb7ff17e8f0ec1105984b52cdd","head":{"label":"kianelbo:looseversion-deprecation","ref":"looseversion-deprecation","sha":"91797272a6224bfb7ff17e8f0ec1105984b52cdd","user":{"login":"kianelbo","id":34425507,"node_id":"MDQ6VXNlcjM0NDI1NTA3","avatar_url":"https://avatars.githubusercontent.com/u/34425507?v=4","gravatar_id":"","url":"https://api.github.com/users/kianelbo","html_url":"https://github.com/kianelbo","followers_url":"https://api.github.com/users/kianelbo/followers","following_url":"https://api.github.com/users/kianelbo/following{/other_user}","gists_url":"https://api.github.com/users/kianelbo/gists{/gist_id}","starred_url":"https://api.github.com/users/kianelbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kianelbo/subscriptions","organizations_url":"https://api.github.com/users/kianelbo/orgs","repos_url":"https://api.github.com/users/kianelbo/repos","events_url":"https://api.github.com/users/kianelbo/events{/privacy}","received_events_url":"https://api.github.com/users/kianelbo/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"acbfd038ab88188291d9318c75ad783385724338","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35977"},"html":{"href":"https://github.com/apache/spark/pull/35977"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35977"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35977/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35977/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35977/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/91797272a6224bfb7ff17e8f0ec1105984b52cdd"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35976","id":889871472,"node_id":"PR_kwDOAQXtWs41Clxw","html_url":"https://github.com/apache/spark/pull/35976","diff_url":"https://github.com/apache/spark/pull/35976.diff","patch_url":"https://github.com/apache/spark/pull/35976.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35976","number":35976,"state":"closed","locked":false,"title":"SPARK-38661: [TESTS][FOLLOWUP] Replace Symbol usage with $\"\" in unit tests","user":{"login":"martin-g","id":232002,"node_id":"MDQ6VXNlcjIzMjAwMg==","avatar_url":"https://avatars.githubusercontent.com/u/232002?v=4","gravatar_id":"","url":"https://api.github.com/users/martin-g","html_url":"https://github.com/martin-g","followers_url":"https://api.github.com/users/martin-g/followers","following_url":"https://api.github.com/users/martin-g/following{/other_user}","gists_url":"https://api.github.com/users/martin-g/gists{/gist_id}","starred_url":"https://api.github.com/users/martin-g/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martin-g/subscriptions","organizations_url":"https://api.github.com/users/martin-g/orgs","repos_url":"https://api.github.com/users/martin-g/repos","events_url":"https://api.github.com/users/martin-g/events{/privacy}","received_events_url":"https://api.github.com/users/martin-g/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nReplace symbols like 'abc and Symbol(\"abc\") (where possible) with the more verbose $\"abc\" in the test code.\r\n\r\n### Why are the changes needed?\r\n\r\nThis is a follow-up of #35560\r\n\r\nBuilding with Scala 2.13 produces a lot of warnings like the following ones:\r\n\r\n```\r\n[warn] /home/runner/work/spark/spark/sql/core/src/test/scala/org/apache/spark/sql/execution/BaseScriptTransformationSuite.scala:562:11: [deprecation @  | origin= | version=2.13.0] symbol literal is deprecated; use Symbol(\"d\") instead\r\n[warn]           'd.cast(\"string\"),\r\n[warn]           ^\r\n[warn] /home/runner/work/spark/spark/sql/core/src/test/scala/org/apache/spark/sql/execution/BaseScriptTransformationSuite.scala:563:11: [deprecation @  | origin= | version=2.13.0] symbol literal is deprecated; use Symbol(\"e\") instead\r\n[warn]           'e.cast(\"string\")).collect())\r\n```\r\n\r\nThis should make it easier to upgrade to Scala 3 later.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo! The PR touches only test classes!\r\n\r\n### How was this patch tested?\r\n\r\nThe build at CI must be green!","created_at":"2022-03-25T20:14:09Z","updated_at":"2022-04-02T18:19:03Z","closed_at":"2022-04-02T16:43:47Z","merged_at":null,"merge_commit_sha":"0b95e8bd28445367fae521b31bb647cc26253548","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1406605079,"node_id":"MDU6TGFiZWwxNDA2NjA1MDc5","url":"https://api.github.com/repos/apache/spark/labels/WEB%20UI","name":"WEB UI","color":"ededed","default":false,"description":null},{"id":1496047285,"node_id":"MDU6TGFiZWwxNDk2MDQ3Mjg1","url":"https://api.github.com/repos/apache/spark/labels/EXAMPLES","name":"EXAMPLES","color":"ededed","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35976/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35976/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35976/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/90982cc8966c79f3ba4e9109d7485c408cbb7feb","head":{"label":"martin-g:spark-38661-replace-symbol-with-dollarSign","ref":"spark-38661-replace-symbol-with-dollarSign","sha":"90982cc8966c79f3ba4e9109d7485c408cbb7feb","user":{"login":"martin-g","id":232002,"node_id":"MDQ6VXNlcjIzMjAwMg==","avatar_url":"https://avatars.githubusercontent.com/u/232002?v=4","gravatar_id":"","url":"https://api.github.com/users/martin-g","html_url":"https://github.com/martin-g","followers_url":"https://api.github.com/users/martin-g/followers","following_url":"https://api.github.com/users/martin-g/following{/other_user}","gists_url":"https://api.github.com/users/martin-g/gists{/gist_id}","starred_url":"https://api.github.com/users/martin-g/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martin-g/subscriptions","organizations_url":"https://api.github.com/users/martin-g/orgs","repos_url":"https://api.github.com/users/martin-g/repos","events_url":"https://api.github.com/users/martin-g/events{/privacy}","received_events_url":"https://api.github.com/users/martin-g/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":454008249,"node_id":"R_kgDOGw-duQ","name":"spark","full_name":"martin-g/spark","private":false,"owner":{"login":"martin-g","id":232002,"node_id":"MDQ6VXNlcjIzMjAwMg==","avatar_url":"https://avatars.githubusercontent.com/u/232002?v=4","gravatar_id":"","url":"https://api.github.com/users/martin-g","html_url":"https://github.com/martin-g","followers_url":"https://api.github.com/users/martin-g/followers","following_url":"https://api.github.com/users/martin-g/following{/other_user}","gists_url":"https://api.github.com/users/martin-g/gists{/gist_id}","starred_url":"https://api.github.com/users/martin-g/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martin-g/subscriptions","organizations_url":"https://api.github.com/users/martin-g/orgs","repos_url":"https://api.github.com/users/martin-g/repos","events_url":"https://api.github.com/users/martin-g/events{/privacy}","received_events_url":"https://api.github.com/users/martin-g/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/martin-g/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/martin-g/spark","forks_url":"https://api.github.com/repos/martin-g/spark/forks","keys_url":"https://api.github.com/repos/martin-g/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/martin-g/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/martin-g/spark/teams","hooks_url":"https://api.github.com/repos/martin-g/spark/hooks","issue_events_url":"https://api.github.com/repos/martin-g/spark/issues/events{/number}","events_url":"https://api.github.com/repos/martin-g/spark/events","assignees_url":"https://api.github.com/repos/martin-g/spark/assignees{/user}","branches_url":"https://api.github.com/repos/martin-g/spark/branches{/branch}","tags_url":"https://api.github.com/repos/martin-g/spark/tags","blobs_url":"https://api.github.com/repos/martin-g/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/martin-g/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/martin-g/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/martin-g/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/martin-g/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/martin-g/spark/languages","stargazers_url":"https://api.github.com/repos/martin-g/spark/stargazers","contributors_url":"https://api.github.com/repos/martin-g/spark/contributors","subscribers_url":"https://api.github.com/repos/martin-g/spark/subscribers","subscription_url":"https://api.github.com/repos/martin-g/spark/subscription","commits_url":"https://api.github.com/repos/martin-g/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/martin-g/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/martin-g/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/martin-g/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/martin-g/spark/contents/{+path}","compare_url":"https://api.github.com/repos/martin-g/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/martin-g/spark/merges","archive_url":"https://api.github.com/repos/martin-g/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/martin-g/spark/downloads","issues_url":"https://api.github.com/repos/martin-g/spark/issues{/number}","pulls_url":"https://api.github.com/repos/martin-g/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/martin-g/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/martin-g/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/martin-g/spark/labels{/name}","releases_url":"https://api.github.com/repos/martin-g/spark/releases{/id}","deployments_url":"https://api.github.com/repos/martin-g/spark/deployments","created_at":"2022-01-31T13:01:36Z","updated_at":"2022-02-03T09:02:41Z","pushed_at":"2022-07-11T06:32:39Z","git_url":"git://github.com/martin-g/spark.git","ssh_url":"git@github.com:martin-g/spark.git","clone_url":"https://github.com/martin-g/spark.git","svn_url":"https://github.com/martin-g/spark","homepage":"https://spark.apache.org/","size":423975,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"eb353aa959ca2298b28ff0b9671edcfa3ac62822","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35976"},"html":{"href":"https://github.com/apache/spark/pull/35976"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35976"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35976/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35976/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35976/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/90982cc8966c79f3ba4e9109d7485c408cbb7feb"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35975","id":889417454,"node_id":"PR_kwDOAQXtWs41A27u","html_url":"https://github.com/apache/spark/pull/35975","diff_url":"https://github.com/apache/spark/pull/35975.diff","patch_url":"https://github.com/apache/spark/pull/35975.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35975","number":35975,"state":"closed","locked":false,"title":"[SPARK-28330][SQL] Support ANSI SQL: result offset clause in query expression","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis is a ANSI SQL and feature id is `F861`\r\n```\r\n<query expression> ::=\r\n[ <with clause> ] <query expression body>\r\n[ <order by clause> ] [ <result offset clause> ] [ <fetch first clause> ]\r\n\r\n<result offset clause> ::=\r\nOFFSET <offset row count> { ROW | ROWS }\r\n```\r\nFor example:\r\n```\r\nSELECT customer_name, customer_gender FROM customer_dimension \r\n   WHERE occupation='Dancer' AND customer_city = 'San Francisco' ORDER BY customer_name;\r\n    customer_name     | customer_gender\r\n----------------------+-----------------\r\n Amy X. Lang          | Female\r\n Anna H. Li           | Female\r\n Brian O. Weaver      | Male\r\n Craig O. Pavlov      | Male\r\n Doug Z. Goldberg     | Male\r\n Harold S. Jones      | Male\r\n Jack E. Perkins      | Male\r\n Joseph W. Overstreet | Male\r\n Kevin . Campbell     | Male\r\n Raja Y. Wilson       | Male\r\n Samantha O. Brown    | Female\r\n Steve H. Gauthier    | Male\r\n William . Nielson    | Male\r\n William Z. Roy       | Male\r\n(14 rows)\r\n\r\nSELECT customer_name, customer_gender FROM customer_dimension \r\n   WHERE occupation='Dancer' AND customer_city = 'San Francisco' ORDER BY customer_name OFFSET 8;\r\n   customer_name   | customer_gender\r\n-------------------+-----------------\r\n Kevin . Campbell  | Male\r\n Raja Y. Wilson    | Male\r\n Samantha O. Brown | Female\r\n Steve H. Gauthier | Male\r\n William . Nielson | Male\r\n William Z. Roy    | Male\r\n(6 rows)\r\n```\r\nThere are some mainstream database support the syntax.\r\n\r\n**Druid**\r\nhttps://druid.apache.org/docs/latest/querying/sql.html#offset\r\n\r\n**Kylin**\r\nhttp://kylin.apache.org/docs/tutorial/sql_reference.html#QUERYSYNTAX\r\n\r\n**Exasol**\r\nhttps://docs.exasol.com/sql/select.htm\r\n\r\n**Greenplum**\r\nhttp://docs.greenplum.org/6-8/ref_guide/sql_commands/SELECT.html\r\n\r\n**MySQL**\r\nhttps://dev.mysql.com/doc/refman/5.6/en/select.html\r\n\r\n**Monetdb**\r\nhttps://www.monetdb.org/Documentation/SQLreference/SQLSyntaxOverview#SELECT\r\n\r\n**PostgreSQL**\r\nhttps://www.postgresql.org/docs/11/queries-limit.html\r\n\r\n**Sqlite**\r\nhttps://www.sqlite.org/lang_select.html\r\n\r\n**Vertica**\r\nhttps://www.vertica.com/docs/9.2.x/HTML/Content/Authoring/SQLReferenceManual/Statements/SELECT/OFFSETClause.htm?zoom_highlight=offset\r\n\r\nThe description for design:\r\n**1**. Consider `OFFSET` as the special case of `LIMIT`. For example:\r\n`SELECT * FROM a limit 10;` similar to `SELECT * FROM a limit 10 offset 0;`\r\n`SELECT * FROM a offset 10;` similar to `SELECT * FROM a limit -1 offset 10;`\r\n**2**. Because the current implement of `LIMIT` has good performance. For example:\r\n`SELECT * FROM a limit 10;` parsed to the logic plan as below:\r\n```\r\nGlobalLimit (limit = 10)\r\n|--LocalLimit (limit = 10)\r\n```\r\nand then the physical plan as below:\r\n```\r\nGlobalLimitExec (limit = 10) // Take the first 10 rows globally\r\n|--LocalLimitExec (limit = 10) // Take the first 10 rows locally\r\n```\r\nThis operator reduce massive shuffle and has good performance.\r\nSometimes, the logic plan transformed to the physical plan as:\r\n```\r\nCollectLimitExec (limit = 10) // Take the first 10 rows globally\r\n```\r\nIf the SQL contains order by, such as `SELECT * FROM a order by c limit 10;`.\r\nThis SQL will be transformed to the physical plan as below:\r\n```\r\nTakeOrderedAndProjectExec (limit = 10) // Take the first 10 rows after sort globally\r\n```\r\n\r\nBased on this situation, this PR produces the following operations. For example:\r\n`SELECT * FROM a limit 10 offset 10;` parsed to the logic plan as below:\r\n```\r\nGlobalLimit (limit = 10)\r\n|--LocalLimit (limit = 10)\r\n   |--Offset (offset = 10)\r\n```\r\nAfter optimization, the above logic plan will be transformed to:\r\n```\r\nGlobalLimitAndOffset (limit = 10, offset = 10) // Limit clause accompanied by offset clause\r\n|--LocalLimit (limit = 20)   // 10 + offset = 20\r\n```\r\n\r\nand then the physical plan as below:\r\n```\r\nGlobalLimitAndOffsetExec (limit = 10, offset = 10) // Skip the first 10 rows and take the next 10 rows globally\r\n|--LocalLimitExec (limit = 20) // Take the first 20(limit + offset) rows locally\r\n```\r\nSometimes, the logic plan transformed to the physical plan as:\r\n```\r\nCollectLimitExec (limit = 10, offset = 10) // Skip the first 10 rows and take the next 10 rows globally\r\n```\r\nIf the SQL contains order by, such as `SELECT * FROM a order by c limit 10 offset 10;`.\r\nThis SQL will be transformed to the physical plan as below:\r\n```\r\nTakeOrderedAndProjectExec (limit = 10, offset 10) // Skip the first 10 rows and take the next 10 rows after sort globally\r\n```\r\n**3**.In addition to the above, there is a special case that is only offset but no limit. For example:\r\n`SELECT * FROM a offset 10;` parsed to the logic plan as below:\r\n```\r\nOffset (offset = 10) // Only offset clause\r\n```\r\nIf offset is very large, will generate a lot of overhead. So this PR will refuse use offset clause without limit clause, although we can parse, transform and execute it.\r\n\r\nA balanced idea is add a configuration item `spark.sql.forceUsingOffsetWithoutLimit` to force running query when user knows the offset is small enough. The default value of `spark.sql.forceUsingOffsetWithoutLimit` is false. This PR just came up with the idea so that it could be implemented at a better time in the future.\r\n\r\nNote: The origin PR to support this feature is https://github.com/apache/spark/pull/25416.\r\nBecause the origin PR too old, there exists massive conflict which is hard to resolve. So I open this new PR to support this feature.\r\n\r\n### Why are the changes needed?\r\nnew feature\r\n\r\n### Does this PR introduce any user-facing change?\r\n'No'\r\n\r\n\r\n### How was this patch tested?\r\nExists and new UT","created_at":"2022-03-25T12:01:43Z","updated_at":"2022-04-21T01:25:51Z","closed_at":"2022-04-20T13:17:15Z","merged_at":null,"merge_commit_sha":"4b191157f3b05f4c9bf87c6d3ad7b18c62b88ab2","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35975/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35975/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35975/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/038a50fb3369ae0812a9e7d4899f3c45f6d0e990","head":{"label":"beliefer:SPARK-28330","ref":"SPARK-28330","sha":"038a50fb3369ae0812a9e7d4899f3c45f6d0e990","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":237617513,"node_id":"MDEwOlJlcG9zaXRvcnkyMzc2MTc1MTM=","name":"spark","full_name":"beliefer/spark","private":false,"owner":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/beliefer/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/beliefer/spark","forks_url":"https://api.github.com/repos/beliefer/spark/forks","keys_url":"https://api.github.com/repos/beliefer/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/beliefer/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/beliefer/spark/teams","hooks_url":"https://api.github.com/repos/beliefer/spark/hooks","issue_events_url":"https://api.github.com/repos/beliefer/spark/issues/events{/number}","events_url":"https://api.github.com/repos/beliefer/spark/events","assignees_url":"https://api.github.com/repos/beliefer/spark/assignees{/user}","branches_url":"https://api.github.com/repos/beliefer/spark/branches{/branch}","tags_url":"https://api.github.com/repos/beliefer/spark/tags","blobs_url":"https://api.github.com/repos/beliefer/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/beliefer/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/beliefer/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/beliefer/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/beliefer/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/beliefer/spark/languages","stargazers_url":"https://api.github.com/repos/beliefer/spark/stargazers","contributors_url":"https://api.github.com/repos/beliefer/spark/contributors","subscribers_url":"https://api.github.com/repos/beliefer/spark/subscribers","subscription_url":"https://api.github.com/repos/beliefer/spark/subscription","commits_url":"https://api.github.com/repos/beliefer/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/beliefer/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/beliefer/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/beliefer/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/beliefer/spark/contents/{+path}","compare_url":"https://api.github.com/repos/beliefer/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/beliefer/spark/merges","archive_url":"https://api.github.com/repos/beliefer/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/beliefer/spark/downloads","issues_url":"https://api.github.com/repos/beliefer/spark/issues{/number}","pulls_url":"https://api.github.com/repos/beliefer/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/beliefer/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/beliefer/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/beliefer/spark/labels{/name}","releases_url":"https://api.github.com/repos/beliefer/spark/releases{/id}","deployments_url":"https://api.github.com/repos/beliefer/spark/deployments","created_at":"2020-02-01T13:17:08Z","updated_at":"2025-01-28T09:45:49Z","pushed_at":"2025-01-28T11:57:29Z","git_url":"git://github.com/beliefer/spark.git","ssh_url":"git@github.com:beliefer/spark.git","clone_url":"https://github.com/beliefer/spark.git","svn_url":"https://github.com/beliefer/spark","homepage":"","size":488033,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"a7f0adb2dd8449af6f9e9b5a25f11b5dcf5868f1","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35975"},"html":{"href":"https://github.com/apache/spark/pull/35975"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35975"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35975/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35975/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35975/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/038a50fb3369ae0812a9e7d4899f3c45f6d0e990"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35974","id":889416511,"node_id":"PR_kwDOAQXtWs41A2s_","html_url":"https://github.com/apache/spark/pull/35974","diff_url":"https://github.com/apache/spark/pull/35974.diff","patch_url":"https://github.com/apache/spark/pull/35974.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35974","number":35974,"state":"closed","locked":false,"title":"[CI] Run all linters even if some fail, unless install deps failed","user":{"login":"EnricoMi","id":44700269,"node_id":"MDQ6VXNlcjQ0NzAwMjY5","avatar_url":"https://avatars.githubusercontent.com/u/44700269?v=4","gravatar_id":"","url":"https://api.github.com/users/EnricoMi","html_url":"https://github.com/EnricoMi","followers_url":"https://api.github.com/users/EnricoMi/followers","following_url":"https://api.github.com/users/EnricoMi/following{/other_user}","gists_url":"https://api.github.com/users/EnricoMi/gists{/gist_id}","starred_url":"https://api.github.com/users/EnricoMi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EnricoMi/subscriptions","organizations_url":"https://api.github.com/users/EnricoMi/orgs","repos_url":"https://api.github.com/users/EnricoMi/repos","events_url":"https://api.github.com/users/EnricoMi/events{/privacy}","received_events_url":"https://api.github.com/users/EnricoMi/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nCurrently, the GitHub Actions CI stops running linters if one fail. This makes it run all linters, even if some fail.\r\n\r\n### Why are the changes needed?\r\nFor instance, changes in Java and Scala and Python may contain linter errors, which a single pass of the CI could highlight. Currently, all issues for Scala have to be fixed first, in order to see the Java errors.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nOnly CI changes.\r\n\r\n### How was this patch tested?\r\nNo","created_at":"2022-03-25T12:00:33Z","updated_at":"2022-05-03T12:36:16Z","closed_at":"2022-05-03T12:36:16Z","merged_at":null,"merge_commit_sha":"b40e822e31e462bbb40c56195bff36a0945892f4","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1982110661,"node_id":"MDU6TGFiZWwxOTgyMTEwNjYx","url":"https://api.github.com/repos/apache/spark/labels/INFRA","name":"INFRA","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35974/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35974/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35974/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/30c6cba251b6a65e57dc8d8d8b03c0ecbd53c5a3","head":{"label":"G-Research:branch-ci-run-all-linters","ref":"branch-ci-run-all-linters","sha":"30c6cba251b6a65e57dc8d8d8b03c0ecbd53c5a3","user":{"login":"G-Research","id":21341965,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIxMzQxOTY1","avatar_url":"https://avatars.githubusercontent.com/u/21341965?v=4","gravatar_id":"","url":"https://api.github.com/users/G-Research","html_url":"https://github.com/G-Research","followers_url":"https://api.github.com/users/G-Research/followers","following_url":"https://api.github.com/users/G-Research/following{/other_user}","gists_url":"https://api.github.com/users/G-Research/gists{/gist_id}","starred_url":"https://api.github.com/users/G-Research/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/G-Research/subscriptions","organizations_url":"https://api.github.com/users/G-Research/orgs","repos_url":"https://api.github.com/users/G-Research/repos","events_url":"https://api.github.com/users/G-Research/events{/privacy}","received_events_url":"https://api.github.com/users/G-Research/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":214350064,"node_id":"MDEwOlJlcG9zaXRvcnkyMTQzNTAwNjQ=","name":"spark","full_name":"G-Research/spark","private":false,"owner":{"login":"G-Research","id":21341965,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIxMzQxOTY1","avatar_url":"https://avatars.githubusercontent.com/u/21341965?v=4","gravatar_id":"","url":"https://api.github.com/users/G-Research","html_url":"https://github.com/G-Research","followers_url":"https://api.github.com/users/G-Research/followers","following_url":"https://api.github.com/users/G-Research/following{/other_user}","gists_url":"https://api.github.com/users/G-Research/gists{/gist_id}","starred_url":"https://api.github.com/users/G-Research/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/G-Research/subscriptions","organizations_url":"https://api.github.com/users/G-Research/orgs","repos_url":"https://api.github.com/users/G-Research/repos","events_url":"https://api.github.com/users/G-Research/events{/privacy}","received_events_url":"https://api.github.com/users/G-Research/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/G-Research/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/G-Research/spark","forks_url":"https://api.github.com/repos/G-Research/spark/forks","keys_url":"https://api.github.com/repos/G-Research/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/G-Research/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/G-Research/spark/teams","hooks_url":"https://api.github.com/repos/G-Research/spark/hooks","issue_events_url":"https://api.github.com/repos/G-Research/spark/issues/events{/number}","events_url":"https://api.github.com/repos/G-Research/spark/events","assignees_url":"https://api.github.com/repos/G-Research/spark/assignees{/user}","branches_url":"https://api.github.com/repos/G-Research/spark/branches{/branch}","tags_url":"https://api.github.com/repos/G-Research/spark/tags","blobs_url":"https://api.github.com/repos/G-Research/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/G-Research/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/G-Research/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/G-Research/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/G-Research/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/G-Research/spark/languages","stargazers_url":"https://api.github.com/repos/G-Research/spark/stargazers","contributors_url":"https://api.github.com/repos/G-Research/spark/contributors","subscribers_url":"https://api.github.com/repos/G-Research/spark/subscribers","subscription_url":"https://api.github.com/repos/G-Research/spark/subscription","commits_url":"https://api.github.com/repos/G-Research/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/G-Research/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/G-Research/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/G-Research/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/G-Research/spark/contents/{+path}","compare_url":"https://api.github.com/repos/G-Research/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/G-Research/spark/merges","archive_url":"https://api.github.com/repos/G-Research/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/G-Research/spark/downloads","issues_url":"https://api.github.com/repos/G-Research/spark/issues{/number}","pulls_url":"https://api.github.com/repos/G-Research/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/G-Research/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/G-Research/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/G-Research/spark/labels{/name}","releases_url":"https://api.github.com/repos/G-Research/spark/releases{/id}","deployments_url":"https://api.github.com/repos/G-Research/spark/deployments","created_at":"2019-10-11T05:23:46Z","updated_at":"2025-01-29T17:21:41Z","pushed_at":"2025-02-07T20:55:49Z","git_url":"git://github.com/G-Research/spark.git","ssh_url":"git@github.com:G-Research/spark.git","clone_url":"https://github.com/G-Research/spark.git","svn_url":"https://github.com/G-Research/spark","homepage":"","size":474067,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":17,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":17,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"b11252806d49ed7915744147216db41a747e7d4d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35974"},"html":{"href":"https://github.com/apache/spark/pull/35974"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35974"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35974/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35974/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35974/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/30c6cba251b6a65e57dc8d8d8b03c0ecbd53c5a3"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35973","id":889326954,"node_id":"PR_kwDOAQXtWs41Ag1q","html_url":"https://github.com/apache/spark/pull/35973","diff_url":"https://github.com/apache/spark/pull/35973.diff","patch_url":"https://github.com/apache/spark/pull/35973.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35973","number":35973,"state":"closed","locked":false,"title":"[SPARK-38657][UI][SQL] Rename 'SQL' to 'SQL / DataFrame' in SQL UI page","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR proposes to rename, in SQL UI page,\r\n\r\n- `SQL` -> `SQL / DataFrame`\r\n\r\n### Why are the changes needed?\r\n\r\n- DataFrame executions are also included in this page.\r\n- Spark ML users will run DataFrame-based MLlib API, but they will have to check the \"SQL\" tab.\r\n- Pandas API on Spark arguably has no link to SQL itself conceptually. It makes less sense to users of pandas API.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nYes. After this change, the rename proposed above will be applied as below:\r\n\r\n<img width=\"1212\" alt=\"Screen Shot 2022-03-28 at 10 01 38 AM\" src=\"https://user-images.githubusercontent.com/6477701/160309790-04dc68c0-5154-4ef4-8e58-18b83cccb830.png\">\r\n<img width=\"662\" alt=\"Screen Shot 2022-03-28 at 10 01 45 AM\" src=\"https://user-images.githubusercontent.com/6477701/160309796-50ba31e0-a3e8-407d-aa82-9ec6151762fe.png\">\r\n\r\n\r\n\r\n### How was this patch tested?\r\nManually tested as above.\r\n\r\n","created_at":"2022-03-25T10:23:56Z","updated_at":"2024-01-15T00:53:44Z","closed_at":"2022-03-29T06:16:18Z","merged_at":null,"merge_commit_sha":"7a493bba9f94e1a9745a84e78542399a68c7ce45","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406605079,"node_id":"MDU6TGFiZWwxNDA2NjA1MDc5","url":"https://api.github.com/repos/apache/spark/labels/WEB%20UI","name":"WEB UI","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35973/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35973/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35973/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/fc42b8456a1975d0b4fe74bc67b445cacd777f9c","head":{"label":"HyukjinKwon:SPARK-38657","ref":"SPARK-38657","sha":"fc42b8456a1975d0b4fe74bc67b445cacd777f9c","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"264dbd7641ee30b01212d10de98f29c8be5c8943","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35973"},"html":{"href":"https://github.com/apache/spark/pull/35973"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35973"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35973/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35973/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35973/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/fc42b8456a1975d0b4fe74bc67b445cacd777f9c"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35972","id":889299303,"node_id":"PR_kwDOAQXtWs41AaFn","html_url":"https://github.com/apache/spark/pull/35972","diff_url":"https://github.com/apache/spark/pull/35972.diff","patch_url":"https://github.com/apache/spark/pull/35972.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35972","number":35972,"state":"closed","locked":false,"title":"[SPARK-38656][UI][PYTHON] Show options for Pandas API on Spark in UI","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR proposes to show options for Pandas API on Spark in UI.\r\n\r\nThe options in Pandas API on Spark (https://spark.apache.org/docs/latest/api/python/user_guide/pandas_on_spark/options.html#available-options) are currently not shown properly in \"SQL Properties\". It is shown, under \"SQL Properties\", as something like `pandas_on_Spark.compute.ops_on_diff_frames` as a key and `false` as its value that is the format internally used.\r\n\r\nThis PR extracts pandas-on-Spark specific options and show separately.\r\n\r\nAdditionally, this PR also proposes to hide \"SQL Properties\" is none of configurations set.\r\n\r\n### Why are the changes needed?\r\n\r\nFor better readability and UX for pandas API on Spark.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nYes. Now, we're able to show pandas-on-Spark specific options under \"Pandas API on Spark: Properties\" as below:\r\n\r\n<img width=\"893\" alt=\"Screen Shot 2022-03-28 at 9 31 54 AM\" src=\"https://user-images.githubusercontent.com/6477701/160308224-3e24ce1d-c422-4271-8e71-daaca3ac600d.png\">\r\n\r\n<img width=\"875\" alt=\"Screen Shot 2022-03-28 at 9 31 20 AM\" src=\"https://user-images.githubusercontent.com/6477701/160308226-8b07a0d6-ad31-4774-b5ec-37664d7fe5dd.png\">\r\n\r\n### How was this patch tested?\r\n\r\nManually tested as above.","created_at":"2022-03-25T09:54:22Z","updated_at":"2024-01-15T00:53:46Z","closed_at":"2022-03-29T03:00:28Z","merged_at":null,"merge_commit_sha":"dd9102b7419382bb52ab064707e6b4321e318826","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406605079,"node_id":"MDU6TGFiZWwxNDA2NjA1MDc5","url":"https://api.github.com/repos/apache/spark/labels/WEB%20UI","name":"WEB UI","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35972/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35972/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35972/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/461cefd59fdbd6f4460241258f1b6bf756af3ab8","head":{"label":"HyukjinKwon:SPARK-38656","ref":"SPARK-38656","sha":"461cefd59fdbd6f4460241258f1b6bf756af3ab8","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"6d3149a0d5fe0652197841a589bbeb8654471e58","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35972"},"html":{"href":"https://github.com/apache/spark/pull/35972"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35972"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35972/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35972/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35972/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/461cefd59fdbd6f4460241258f1b6bf756af3ab8"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35971","id":889265623,"node_id":"PR_kwDOAQXtWs41AR3X","html_url":"https://github.com/apache/spark/pull/35971","diff_url":"https://github.com/apache/spark/pull/35971.diff","patch_url":"https://github.com/apache/spark/pull/35971.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35971","number":35971,"state":"closed","locked":false,"title":"[SPARK-38655][SQL] `OffsetWindowFunctionFrameBase` cannot find the offset row whose input is not-null","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n```\r\nselect x, nth_value(x, 5) IGNORE NULLS over (order by x rows between unbounded preceding and current row)\r\nfrom (select explode(sequence(1, 3)) x)\r\n```\r\nThe sql output:\r\n```\r\nnull\r\nnull\r\n3\r\n```\r\nBut it should returns\r\n```\r\nnull\r\nnull\r\nnull\r\n```\r\n\r\n### Why are the changes needed?\r\nFix the bug UnboundedPrecedingOffsetWindowFunctionFrame works not good.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n'Yes'.\r\nThe output will be correct after fix this bug.\r\n\r\n\r\n### How was this patch tested?\r\nNew tests.\r\n","created_at":"2022-03-25T09:20:12Z","updated_at":"2022-03-28T06:18:36Z","closed_at":"2022-03-28T06:17:52Z","merged_at":null,"merge_commit_sha":"fdd769c674cb4730d9e8c237d451b6d05a74c6ca","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35971/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35971/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35971/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/2639413942c5101f5645ecaab57ea9515157c8b8","head":{"label":"beliefer:SPARK-38655","ref":"SPARK-38655","sha":"2639413942c5101f5645ecaab57ea9515157c8b8","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":237617513,"node_id":"MDEwOlJlcG9zaXRvcnkyMzc2MTc1MTM=","name":"spark","full_name":"beliefer/spark","private":false,"owner":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/beliefer/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/beliefer/spark","forks_url":"https://api.github.com/repos/beliefer/spark/forks","keys_url":"https://api.github.com/repos/beliefer/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/beliefer/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/beliefer/spark/teams","hooks_url":"https://api.github.com/repos/beliefer/spark/hooks","issue_events_url":"https://api.github.com/repos/beliefer/spark/issues/events{/number}","events_url":"https://api.github.com/repos/beliefer/spark/events","assignees_url":"https://api.github.com/repos/beliefer/spark/assignees{/user}","branches_url":"https://api.github.com/repos/beliefer/spark/branches{/branch}","tags_url":"https://api.github.com/repos/beliefer/spark/tags","blobs_url":"https://api.github.com/repos/beliefer/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/beliefer/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/beliefer/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/beliefer/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/beliefer/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/beliefer/spark/languages","stargazers_url":"https://api.github.com/repos/beliefer/spark/stargazers","contributors_url":"https://api.github.com/repos/beliefer/spark/contributors","subscribers_url":"https://api.github.com/repos/beliefer/spark/subscribers","subscription_url":"https://api.github.com/repos/beliefer/spark/subscription","commits_url":"https://api.github.com/repos/beliefer/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/beliefer/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/beliefer/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/beliefer/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/beliefer/spark/contents/{+path}","compare_url":"https://api.github.com/repos/beliefer/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/beliefer/spark/merges","archive_url":"https://api.github.com/repos/beliefer/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/beliefer/spark/downloads","issues_url":"https://api.github.com/repos/beliefer/spark/issues{/number}","pulls_url":"https://api.github.com/repos/beliefer/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/beliefer/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/beliefer/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/beliefer/spark/labels{/name}","releases_url":"https://api.github.com/repos/beliefer/spark/releases{/id}","deployments_url":"https://api.github.com/repos/beliefer/spark/deployments","created_at":"2020-02-01T13:17:08Z","updated_at":"2025-01-28T09:45:49Z","pushed_at":"2025-01-28T11:57:29Z","git_url":"git://github.com/beliefer/spark.git","ssh_url":"git@github.com:beliefer/spark.git","clone_url":"https://github.com/beliefer/spark.git","svn_url":"https://github.com/beliefer/spark","homepage":"","size":488033,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"6d3149a0d5fe0652197841a589bbeb8654471e58","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35971"},"html":{"href":"https://github.com/apache/spark/pull/35971"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35971"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35971/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35971/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35971/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/2639413942c5101f5645ecaab57ea9515157c8b8"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35970","id":889195966,"node_id":"PR_kwDOAQXtWs41AA2-","html_url":"https://github.com/apache/spark/pull/35970","diff_url":"https://github.com/apache/spark/pull/35970.diff","patch_url":"https://github.com/apache/spark/pull/35970.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35970","number":35970,"state":"closed","locked":false,"title":"[MINOR][BUILD] Remove `TODO` `Indentation|ImportOrder` module comments from Java `checkstyle.xml`","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThere are 2 TODOs in `checkstyle.xml`: `Indentation` and `ImportOrder`. Re enabling and fix them will involves hundreds of `Java` files, which not worth. So this pr delete these TODOs.\r\n\r\n\r\n\r\n### Why are the changes needed?\r\nRemove Impossible `TODO` of Java style check\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nPass GA","created_at":"2022-03-25T07:48:18Z","updated_at":"2022-04-04T13:49:07Z","closed_at":"2022-04-03T04:34:53Z","merged_at":null,"merge_commit_sha":"16098ce0237144611e807ed82c39e53c581d19de","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35970/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35970/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35970/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/417a71ccaf7bdcb3f634f90edf9c8ed0ee7b8a22","head":{"label":"LuciferYang:remove-checkstyle-todo","ref":"remove-checkstyle-todo","sha":"417a71ccaf7bdcb3f634f90edf9c8ed0ee7b8a22","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"6d3149a0d5fe0652197841a589bbeb8654471e58","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35970"},"html":{"href":"https://github.com/apache/spark/pull/35970"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35970"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35970/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35970/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35970/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/417a71ccaf7bdcb3f634f90edf9c8ed0ee7b8a22"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35969","id":889098309,"node_id":"PR_kwDOAQXtWs40_pBF","html_url":"https://github.com/apache/spark/pull/35969","diff_url":"https://github.com/apache/spark/pull/35969.diff","patch_url":"https://github.com/apache/spark/pull/35969.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35969","number":35969,"state":"closed","locked":false,"title":" [SPARK-38651][SQL] Add `spark.sql.legacy.allowEmptySchemaWrite`","user":{"login":"thejdeep","id":1708757,"node_id":"MDQ6VXNlcjE3MDg3NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1708757?v=4","gravatar_id":"","url":"https://api.github.com/users/thejdeep","html_url":"https://github.com/thejdeep","followers_url":"https://api.github.com/users/thejdeep/followers","following_url":"https://api.github.com/users/thejdeep/following{/other_user}","gists_url":"https://api.github.com/users/thejdeep/gists{/gist_id}","starred_url":"https://api.github.com/users/thejdeep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thejdeep/subscriptions","organizations_url":"https://api.github.com/users/thejdeep/orgs","repos_url":"https://api.github.com/users/thejdeep/repos","events_url":"https://api.github.com/users/thejdeep/events{/privacy}","received_events_url":"https://api.github.com/users/thejdeep/received_events","type":"User","user_view_type":"public","site_admin":false},"body":" ### What changes were proposed in this pull request?\r\n Add SQL configuration `spark.sql.legacy.allowEmptySchemaWrite` to allow support for writing out empty schemas to certain file based datasources that support it.\r\n\r\n ### Why are the changes needed?\r\n Without this change, there is backward in-compatibility introduced while applications are migrated past Spark 2.3 since Spark 2.4 introduced a breaking change that would disallow empty schemas. Since some file formats like ORC support empty schemas, we should honor this by not validating for empty schemas.\r\n\r\n ### Does this PR introduce _any_ user-facing change?\r\n Yes\r\n\r\n ### How was this patch tested?\r\n Added a unit test to test this behavior\r\n","created_at":"2022-03-25T04:51:13Z","updated_at":"2024-04-14T00:48:00Z","closed_at":"2023-01-14T09:58:36Z","merged_at":null,"merge_commit_sha":"b135fe8956aa0e191bf7d5b233c43430e9d4705a","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35969/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35969/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35969/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/97d4d8119ec1edc615ca5af744fa66b2aa1f53c7","head":{"label":"thejdeep:SPARK-38651","ref":"SPARK-38651","sha":"97d4d8119ec1edc615ca5af744fa66b2aa1f53c7","user":{"login":"thejdeep","id":1708757,"node_id":"MDQ6VXNlcjE3MDg3NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1708757?v=4","gravatar_id":"","url":"https://api.github.com/users/thejdeep","html_url":"https://github.com/thejdeep","followers_url":"https://api.github.com/users/thejdeep/followers","following_url":"https://api.github.com/users/thejdeep/following{/other_user}","gists_url":"https://api.github.com/users/thejdeep/gists{/gist_id}","starred_url":"https://api.github.com/users/thejdeep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thejdeep/subscriptions","organizations_url":"https://api.github.com/users/thejdeep/orgs","repos_url":"https://api.github.com/users/thejdeep/repos","events_url":"https://api.github.com/users/thejdeep/events{/privacy}","received_events_url":"https://api.github.com/users/thejdeep/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":302781737,"node_id":"MDEwOlJlcG9zaXRvcnkzMDI3ODE3Mzc=","name":"spark","full_name":"thejdeep/spark","private":false,"owner":{"login":"thejdeep","id":1708757,"node_id":"MDQ6VXNlcjE3MDg3NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1708757?v=4","gravatar_id":"","url":"https://api.github.com/users/thejdeep","html_url":"https://github.com/thejdeep","followers_url":"https://api.github.com/users/thejdeep/followers","following_url":"https://api.github.com/users/thejdeep/following{/other_user}","gists_url":"https://api.github.com/users/thejdeep/gists{/gist_id}","starred_url":"https://api.github.com/users/thejdeep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thejdeep/subscriptions","organizations_url":"https://api.github.com/users/thejdeep/orgs","repos_url":"https://api.github.com/users/thejdeep/repos","events_url":"https://api.github.com/users/thejdeep/events{/privacy}","received_events_url":"https://api.github.com/users/thejdeep/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/thejdeep/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/thejdeep/spark","forks_url":"https://api.github.com/repos/thejdeep/spark/forks","keys_url":"https://api.github.com/repos/thejdeep/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/thejdeep/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/thejdeep/spark/teams","hooks_url":"https://api.github.com/repos/thejdeep/spark/hooks","issue_events_url":"https://api.github.com/repos/thejdeep/spark/issues/events{/number}","events_url":"https://api.github.com/repos/thejdeep/spark/events","assignees_url":"https://api.github.com/repos/thejdeep/spark/assignees{/user}","branches_url":"https://api.github.com/repos/thejdeep/spark/branches{/branch}","tags_url":"https://api.github.com/repos/thejdeep/spark/tags","blobs_url":"https://api.github.com/repos/thejdeep/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/thejdeep/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/thejdeep/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/thejdeep/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/thejdeep/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/thejdeep/spark/languages","stargazers_url":"https://api.github.com/repos/thejdeep/spark/stargazers","contributors_url":"https://api.github.com/repos/thejdeep/spark/contributors","subscribers_url":"https://api.github.com/repos/thejdeep/spark/subscribers","subscription_url":"https://api.github.com/repos/thejdeep/spark/subscription","commits_url":"https://api.github.com/repos/thejdeep/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/thejdeep/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/thejdeep/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/thejdeep/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/thejdeep/spark/contents/{+path}","compare_url":"https://api.github.com/repos/thejdeep/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/thejdeep/spark/merges","archive_url":"https://api.github.com/repos/thejdeep/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/thejdeep/spark/downloads","issues_url":"https://api.github.com/repos/thejdeep/spark/issues{/number}","pulls_url":"https://api.github.com/repos/thejdeep/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/thejdeep/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/thejdeep/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/thejdeep/spark/labels{/name}","releases_url":"https://api.github.com/repos/thejdeep/spark/releases{/id}","deployments_url":"https://api.github.com/repos/thejdeep/spark/deployments","created_at":"2020-10-10T00:34:25Z","updated_at":"2022-04-15T15:41:18Z","pushed_at":"2024-03-12T17:57:10Z","git_url":"git://github.com/thejdeep/spark.git","ssh_url":"git@github.com:thejdeep/spark.git","clone_url":"https://github.com/thejdeep/spark.git","svn_url":"https://github.com/thejdeep/spark","homepage":"https://spark.apache.org/","size":387540,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"edb96a068fa18d590c191e94928cb7020adab47c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35969"},"html":{"href":"https://github.com/apache/spark/pull/35969"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35969"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35969/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35969/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35969/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/97d4d8119ec1edc615ca5af744fa66b2aa1f53c7"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35968","id":889093898,"node_id":"PR_kwDOAQXtWs40_n8K","html_url":"https://github.com/apache/spark/pull/35968","diff_url":"https://github.com/apache/spark/pull/35968.diff","patch_url":"https://github.com/apache/spark/pull/35968.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35968","number":35968,"state":"closed","locked":false,"title":"[SPARK-38654][SQL][PYTHON] Show default index type in SQL plans for pandas API on Spark","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR proposes to show the default index type in SQL plans for pandas API on Spark.\r\n\r\nNote that this PR does not handle `sequence` case because that's discouraged in production, and tricky to insert an alias.\r\n\r\n### Why are the changes needed?\r\n\r\nWhen users set `compute.default_index_type`, it's difficult to know which DataFrame users which index. We should at least note that in Spark SQL so users can tell which plans are for default index.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nYes, when users call `pyspark.pandas.DataFrame.spark.explain(True)`:\r\n\r\n**distributed**\r\n\r\n```python\r\nimport pyspark.pandas as ps\r\nps.set_option(\"compute.default_index_type\", \"distributed\")\r\nps.range(1).spark.explain()\r\n```\r\n\r\n```\r\n== Physical Plan ==\r\n*(1) Project [distributed_index() AS __index_level_0__#15L, id#13L]\r\n+- *(1) Range (0, 1, step=1, splits=16)\r\n```\r\n\r\n**distributed-sequence**\r\n\r\n```python\r\nimport pyspark.pandas as ps\r\nps.set_option(\"compute.default_index_type\", \"distributed-sequence\")\r\nps.range(1).spark.explain()\r\n```\r\n\r\n```\r\n== Physical Plan ==\r\nAttachDistributedSequence[__index_level_0__#16L, id#13L] Index: __index_level_0__#16L\r\n+- *(1) Range (0, 1, step=1, splits=16)\r\n```\r\n\r\n\r\n### How was this patch tested?\r\n\r\n\r\nManually tested.","created_at":"2022-03-25T04:40:33Z","updated_at":"2024-01-15T00:53:46Z","closed_at":"2022-03-25T13:01:04Z","merged_at":null,"merge_commit_sha":"c3fe1d82bec65acf8a1cee31ca189d4b6a176aa9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35968/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35968/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35968/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/c2788e3260741d6f038ae8e384c8f8acc42541e2","head":{"label":"HyukjinKwon:SPARK-38654","ref":"SPARK-38654","sha":"c2788e3260741d6f038ae8e384c8f8acc42541e2","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"18ff15729268def5ee1bdf5dfcb766bd1d699684","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35968"},"html":{"href":"https://github.com/apache/spark/pull/35968"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35968"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35968/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35968/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35968/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/c2788e3260741d6f038ae8e384c8f8acc42541e2"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35967","id":889068376,"node_id":"PR_kwDOAQXtWs40_htY","html_url":"https://github.com/apache/spark/pull/35967","diff_url":"https://github.com/apache/spark/pull/35967.diff","patch_url":"https://github.com/apache/spark/pull/35967.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35967","number":35967,"state":"closed","locked":false,"title":"[SPARK-38570][SQL][3.2] Incorrect DynamicPartitionPruning caused by Literal","user":{"login":"mcdull-zhang","id":63445864,"node_id":"MDQ6VXNlcjYzNDQ1ODY0","avatar_url":"https://avatars.githubusercontent.com/u/63445864?v=4","gravatar_id":"","url":"https://api.github.com/users/mcdull-zhang","html_url":"https://github.com/mcdull-zhang","followers_url":"https://api.github.com/users/mcdull-zhang/followers","following_url":"https://api.github.com/users/mcdull-zhang/following{/other_user}","gists_url":"https://api.github.com/users/mcdull-zhang/gists{/gist_id}","starred_url":"https://api.github.com/users/mcdull-zhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcdull-zhang/subscriptions","organizations_url":"https://api.github.com/users/mcdull-zhang/orgs","repos_url":"https://api.github.com/users/mcdull-zhang/repos","events_url":"https://api.github.com/users/mcdull-zhang/events{/privacy}","received_events_url":"https://api.github.com/users/mcdull-zhang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"This is a backport of #35878  to branch 3.2.\r\n\r\n### What changes were proposed in this pull request?\r\nThe return value of Literal.references is an empty AttributeSet, so Literal is mistaken for a partition column.\r\n\r\nFor example, the sql in the test case will generate such a physical plan when the adaptive is closed:\r\n```tex\r\n*(4) Project [store_id#5281, date_id#5283, state_province#5292]\r\n+- *(4) BroadcastHashJoin [store_id#5281], [store_id#5291], Inner, BuildRight, false\r\n   :- Union\r\n   :  :- *(1) Project [4 AS store_id#5281, date_id#5283]\r\n   :  :  +- *(1) Filter ((isnotnull(date_id#5283) AND (date_id#5283 >= 1300)) AND dynamicpruningexpression(4 IN dynamicpruning#5300))\r\n   :  :     :  +- ReusedSubquery SubqueryBroadcast dynamicpruning#5300, 0, [store_id#5291], [id=#336]\r\n   :  :     +- *(1) ColumnarToRow\r\n   :  :        +- FileScan parquet default.fact_sk[date_id#5283,store_id#5286] Batched: true, DataFilters: [isnotnull(date_id#5283), (date_id#5283 >= 1300)], Format: Parquet, Location: CatalogFileIndex(1 paths)[file:/Users/dongdongzhang/code/study/spark/spark-warehouse/org.apache.s..., PartitionFilters: [dynamicpruningexpression(4 IN dynamicpruning#5300)], PushedFilters: [IsNotNull(date_id), GreaterThanOrEqual(date_id,1300)], ReadSchema: struct<date_id:int>\r\n   :  :              +- SubqueryBroadcast dynamicpruning#5300, 0, [store_id#5291], [id=#336]\r\n   :  :                 +- BroadcastExchange HashedRelationBroadcastMode(List(cast(input[0, int, true] as bigint)),false), [id=#335]\r\n   :  :                    +- *(1) Project [store_id#5291, state_province#5292]\r\n   :  :                       +- *(1) Filter (((isnotnull(country#5293) AND (country#5293 = US)) AND ((store_id#5291 <=> 4) OR (store_id#5291 <=> 5))) AND isnotnull(store_id#5291))\r\n   :  :                          +- *(1) ColumnarToRow\r\n   :  :                             +- FileScan parquet default.dim_store[store_id#5291,state_province#5292,country#5293] Batched: true, DataFilters: [isnotnull(country#5293), (country#5293 = US), ((store_id#5291 <=> 4) OR (store_id#5291 <=> 5)), ..., Format: Parquet, Location: InMemoryFileIndex(1 paths)[file:/Users/dongdongzhang/code/study/spark/spark-warehouse/org.apache...., PartitionFilters: [], PushedFilters: [IsNotNull(country), EqualTo(country,US), Or(EqualNullSafe(store_id,4),EqualNullSafe(store_id,5))..., ReadSchema: struct<store_id:int,state_province:string,country:string>\r\n   :  +- *(2) Project [5 AS store_id#5282, date_id#5287]\r\n   :     +- *(2) Filter ((isnotnull(date_id#5287) AND (date_id#5287 <= 1000)) AND dynamicpruningexpression(5 IN dynamicpruning#5300))\r\n   :        :  +- ReusedSubquery SubqueryBroadcast dynamicpruning#5300, 0, [store_id#5291], [id=#336]\r\n   :        +- *(2) ColumnarToRow\r\n   :           +- FileScan parquet default.fact_stats[date_id#5287,store_id#5290] Batched: true, DataFilters: [isnotnull(date_id#5287), (date_id#5287 <= 1000)], Format: Parquet, Location: CatalogFileIndex(1 paths)[file:/Users/dongdongzhang/code/study/spark/spark-warehouse/org.apache.s..., PartitionFilters: [dynamicpruningexpression(5 IN dynamicpruning#5300)], PushedFilters: [IsNotNull(date_id), LessThanOrEqual(date_id,1000)], ReadSchema: struct<date_id:int>\r\n   :                 +- ReusedSubquery SubqueryBroadcast dynamicpruning#5300, 0, [store_id#5291], [id=#336]\r\n   +- ReusedExchange [store_id#5291, state_province#5292], BroadcastExchange HashedRelationBroadcastMode(List(cast(input[0, int, true] as bigint)),false), [id=#335]\r\n```\r\nafter this pr:\r\n```tex\r\n*(4) Project [store_id#5281, date_id#5283, state_province#5292]\r\n+- *(4) BroadcastHashJoin [store_id#5281], [store_id#5291], Inner, BuildRight, false\r\n   :- Union\r\n   :  :- *(1) Project [4 AS store_id#5281, date_id#5283]\r\n   :  :  +- *(1) Filter (isnotnull(date_id#5283) AND (date_id#5283 >= 1300))\r\n   :  :     +- *(1) ColumnarToRow\r\n   :  :        +- FileScan parquet default.fact_sk[date_id#5283,store_id#5286] Batched: true, DataFilters: [isnotnull(date_id#5283), (date_id#5283 >= 1300)], Format: Parquet, Location: CatalogFileIndex(1 paths)[file:/Users/dongdongzhang/code/study/spark/spark-warehouse/org.apache.s..., PartitionFilters: [], PushedFilters: [IsNotNull(date_id), GreaterThanOrEqual(date_id,1300)], ReadSchema: struct<date_id:int>\r\n   :  +- *(2) Project [5 AS store_id#5282, date_id#5287]\r\n   :     +- *(2) Filter (isnotnull(date_id#5287) AND (date_id#5287 <= 1000))\r\n   :        +- *(2) ColumnarToRow\r\n   :           +- FileScan parquet default.fact_stats[date_id#5287,store_id#5290] Batched: true, DataFilters: [isnotnull(date_id#5287), (date_id#5287 <= 1000)], Format: Parquet, Location: CatalogFileIndex(1 paths)[file:/Users/dongdongzhang/code/study/spark/spark-warehouse/org.apache.s..., PartitionFilters: [], PushedFilters: [IsNotNull(date_id), LessThanOrEqual(date_id,1000)], ReadSchema: struct<date_id:int>\r\n   +- BroadcastExchange HashedRelationBroadcastMode(List(cast(input[0, int, true] as bigint)),false), [id=#326]\r\n      +- *(3) Project [store_id#5291, state_province#5292]\r\n         +- *(3) Filter (((isnotnull(country#5293) AND (country#5293 = US)) AND ((store_id#5291 <=> 4) OR (store_id#5291 <=> 5))) AND isnotnull(store_id#5291))\r\n            +- *(3) ColumnarToRow\r\n               +- FileScan parquet default.dim_store[store_id#5291,state_province#5292,country#5293] Batched: true, DataFilters: [isnotnull(country#5293), (country#5293 = US), ((store_id#5291 <=> 4) OR (store_id#5291 <=> 5)), ..., Format: Parquet, Location: InMemoryFileIndex(1 paths)[file:/Users/dongdongzhang/code/study/spark/spark-warehouse/org.apache...., PartitionFilters: [], PushedFilters: [IsNotNull(country), EqualTo(country,US), Or(EqualNullSafe(store_id,4),EqualNullSafe(store_id,5))..., ReadSchema: struct<store_id:int,state_province:string,country:string>\r\n```\r\n\r\n### Why are the changes needed?\r\nExecution performance improvement\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nAdded unit test\r\n","created_at":"2022-03-25T03:48:13Z","updated_at":"2022-03-26T05:49:08Z","closed_at":"2022-03-26T05:49:07Z","merged_at":null,"merge_commit_sha":"a7551d165eac06988ea77db9e2dbdf97b822516f","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35967/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35967/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35967/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/526e80ab78e53b4b9f5c25016634f2d2fc86d848","head":{"label":"mcdull-zhang:spark_38570_3.2","ref":"spark_38570_3.2","sha":"526e80ab78e53b4b9f5c25016634f2d2fc86d848","user":{"login":"mcdull-zhang","id":63445864,"node_id":"MDQ6VXNlcjYzNDQ1ODY0","avatar_url":"https://avatars.githubusercontent.com/u/63445864?v=4","gravatar_id":"","url":"https://api.github.com/users/mcdull-zhang","html_url":"https://github.com/mcdull-zhang","followers_url":"https://api.github.com/users/mcdull-zhang/followers","following_url":"https://api.github.com/users/mcdull-zhang/following{/other_user}","gists_url":"https://api.github.com/users/mcdull-zhang/gists{/gist_id}","starred_url":"https://api.github.com/users/mcdull-zhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcdull-zhang/subscriptions","organizations_url":"https://api.github.com/users/mcdull-zhang/orgs","repos_url":"https://api.github.com/users/mcdull-zhang/repos","events_url":"https://api.github.com/users/mcdull-zhang/events{/privacy}","received_events_url":"https://api.github.com/users/mcdull-zhang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":254579603,"node_id":"MDEwOlJlcG9zaXRvcnkyNTQ1Nzk2MDM=","name":"spark","full_name":"mcdull-zhang/spark","private":false,"owner":{"login":"mcdull-zhang","id":63445864,"node_id":"MDQ6VXNlcjYzNDQ1ODY0","avatar_url":"https://avatars.githubusercontent.com/u/63445864?v=4","gravatar_id":"","url":"https://api.github.com/users/mcdull-zhang","html_url":"https://github.com/mcdull-zhang","followers_url":"https://api.github.com/users/mcdull-zhang/followers","following_url":"https://api.github.com/users/mcdull-zhang/following{/other_user}","gists_url":"https://api.github.com/users/mcdull-zhang/gists{/gist_id}","starred_url":"https://api.github.com/users/mcdull-zhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcdull-zhang/subscriptions","organizations_url":"https://api.github.com/users/mcdull-zhang/orgs","repos_url":"https://api.github.com/users/mcdull-zhang/repos","events_url":"https://api.github.com/users/mcdull-zhang/events{/privacy}","received_events_url":"https://api.github.com/users/mcdull-zhang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mcdull-zhang/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/mcdull-zhang/spark","forks_url":"https://api.github.com/repos/mcdull-zhang/spark/forks","keys_url":"https://api.github.com/repos/mcdull-zhang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mcdull-zhang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mcdull-zhang/spark/teams","hooks_url":"https://api.github.com/repos/mcdull-zhang/spark/hooks","issue_events_url":"https://api.github.com/repos/mcdull-zhang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/mcdull-zhang/spark/events","assignees_url":"https://api.github.com/repos/mcdull-zhang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/mcdull-zhang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/mcdull-zhang/spark/tags","blobs_url":"https://api.github.com/repos/mcdull-zhang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mcdull-zhang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mcdull-zhang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/mcdull-zhang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mcdull-zhang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/mcdull-zhang/spark/languages","stargazers_url":"https://api.github.com/repos/mcdull-zhang/spark/stargazers","contributors_url":"https://api.github.com/repos/mcdull-zhang/spark/contributors","subscribers_url":"https://api.github.com/repos/mcdull-zhang/spark/subscribers","subscription_url":"https://api.github.com/repos/mcdull-zhang/spark/subscription","commits_url":"https://api.github.com/repos/mcdull-zhang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/mcdull-zhang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/mcdull-zhang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/mcdull-zhang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/mcdull-zhang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/mcdull-zhang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mcdull-zhang/spark/merges","archive_url":"https://api.github.com/repos/mcdull-zhang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mcdull-zhang/spark/downloads","issues_url":"https://api.github.com/repos/mcdull-zhang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/mcdull-zhang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/mcdull-zhang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/mcdull-zhang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mcdull-zhang/spark/labels{/name}","releases_url":"https://api.github.com/repos/mcdull-zhang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/mcdull-zhang/spark/deployments","created_at":"2020-04-10T08:09:19Z","updated_at":"2024-12-02T07:21:07Z","pushed_at":"2024-12-02T07:18:08Z","git_url":"git://github.com/mcdull-zhang/spark.git","ssh_url":"git@github.com:mcdull-zhang/spark.git","clone_url":"https://github.com/mcdull-zhang/spark.git","svn_url":"https://github.com/mcdull-zhang/spark","homepage":"https://spark.apache.org/","size":450494,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:branch-3.2","ref":"branch-3.2","sha":"271b338324e88b0bfc63364937a56305f7b350fc","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35967"},"html":{"href":"https://github.com/apache/spark/pull/35967"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35967"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35967/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35967/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35967/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/526e80ab78e53b4b9f5c25016634f2d2fc86d848"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35966","id":888942233,"node_id":"PR_kwDOAQXtWs40_C6Z","html_url":"https://github.com/apache/spark/pull/35966","diff_url":"https://github.com/apache/spark/pull/35966.diff","patch_url":"https://github.com/apache/spark/pull/35966.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35966","number":35966,"state":"closed","locked":false,"title":"[SPARK-38650][SQL] Better ParseException message for char types without length","user":{"login":"anchovYu","id":25225043,"node_id":"MDQ6VXNlcjI1MjI1MDQz","avatar_url":"https://avatars.githubusercontent.com/u/25225043?v=4","gravatar_id":"","url":"https://api.github.com/users/anchovYu","html_url":"https://github.com/anchovYu","followers_url":"https://api.github.com/users/anchovYu/followers","following_url":"https://api.github.com/users/anchovYu/following{/other_user}","gists_url":"https://api.github.com/users/anchovYu/gists{/gist_id}","starred_url":"https://api.github.com/users/anchovYu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anchovYu/subscriptions","organizations_url":"https://api.github.com/users/anchovYu/orgs","repos_url":"https://api.github.com/users/anchovYu/repos","events_url":"https://api.github.com/users/anchovYu/events{/privacy}","received_events_url":"https://api.github.com/users/anchovYu/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis PR improves the error messages for the char / varchar / character datatypes without length. It also added related testcases.\r\n\r\n#### Details\r\nWe support char and varchar types. But when users input the type without length, the message is confusing and not helpful at all:\r\n\r\n```\r\n> SELECT cast('a' as CHAR)\r\n\r\nDataType char is not supported.(line 1, pos 19)\r\n\r\n== SQL ==\r\nSELECT cast('a' AS CHAR)\r\n-------------------^^^\r\n```\r\nIn the after case, the messages would be:\r\n```\r\nDatatype char requires a length parameter, for example char(10). Please specify the length.\r\n\r\n== SQL ==\r\nSELECT cast('a' AS CHAR)\r\n-------------------^^^\r\n```\r\n\r\n### Why are the changes needed?\r\nTo improve error messages for better usability.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nIf error messages are considered as user-facing changes, then yes. It improves the messages as above.\r\n\r\n### How was this patch tested?\r\nIt's tested by newly added unit tests.\r\n","created_at":"2022-03-24T23:31:33Z","updated_at":"2022-03-31T05:25:13Z","closed_at":"2022-03-31T05:25:13Z","merged_at":null,"merge_commit_sha":"becee8007252681e0c1a0eb5dcb855eb0aea107b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35966/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35966/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35966/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/80a6c37518b2ce5d1b6f3cab0bde3460e8ec05c9","head":{"label":"anchovYu:better-msg-for-char","ref":"better-msg-for-char","sha":"80a6c37518b2ce5d1b6f3cab0bde3460e8ec05c9","user":{"login":"anchovYu","id":25225043,"node_id":"MDQ6VXNlcjI1MjI1MDQz","avatar_url":"https://avatars.githubusercontent.com/u/25225043?v=4","gravatar_id":"","url":"https://api.github.com/users/anchovYu","html_url":"https://github.com/anchovYu","followers_url":"https://api.github.com/users/anchovYu/followers","following_url":"https://api.github.com/users/anchovYu/following{/other_user}","gists_url":"https://api.github.com/users/anchovYu/gists{/gist_id}","starred_url":"https://api.github.com/users/anchovYu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anchovYu/subscriptions","organizations_url":"https://api.github.com/users/anchovYu/orgs","repos_url":"https://api.github.com/users/anchovYu/repos","events_url":"https://api.github.com/users/anchovYu/events{/privacy}","received_events_url":"https://api.github.com/users/anchovYu/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":286528918,"node_id":"MDEwOlJlcG9zaXRvcnkyODY1Mjg5MTg=","name":"spark","full_name":"anchovYu/spark","private":false,"owner":{"login":"anchovYu","id":25225043,"node_id":"MDQ6VXNlcjI1MjI1MDQz","avatar_url":"https://avatars.githubusercontent.com/u/25225043?v=4","gravatar_id":"","url":"https://api.github.com/users/anchovYu","html_url":"https://github.com/anchovYu","followers_url":"https://api.github.com/users/anchovYu/followers","following_url":"https://api.github.com/users/anchovYu/following{/other_user}","gists_url":"https://api.github.com/users/anchovYu/gists{/gist_id}","starred_url":"https://api.github.com/users/anchovYu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anchovYu/subscriptions","organizations_url":"https://api.github.com/users/anchovYu/orgs","repos_url":"https://api.github.com/users/anchovYu/repos","events_url":"https://api.github.com/users/anchovYu/events{/privacy}","received_events_url":"https://api.github.com/users/anchovYu/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/anchovYu/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/anchovYu/spark","forks_url":"https://api.github.com/repos/anchovYu/spark/forks","keys_url":"https://api.github.com/repos/anchovYu/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/anchovYu/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/anchovYu/spark/teams","hooks_url":"https://api.github.com/repos/anchovYu/spark/hooks","issue_events_url":"https://api.github.com/repos/anchovYu/spark/issues/events{/number}","events_url":"https://api.github.com/repos/anchovYu/spark/events","assignees_url":"https://api.github.com/repos/anchovYu/spark/assignees{/user}","branches_url":"https://api.github.com/repos/anchovYu/spark/branches{/branch}","tags_url":"https://api.github.com/repos/anchovYu/spark/tags","blobs_url":"https://api.github.com/repos/anchovYu/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/anchovYu/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/anchovYu/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/anchovYu/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/anchovYu/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/anchovYu/spark/languages","stargazers_url":"https://api.github.com/repos/anchovYu/spark/stargazers","contributors_url":"https://api.github.com/repos/anchovYu/spark/contributors","subscribers_url":"https://api.github.com/repos/anchovYu/spark/subscribers","subscription_url":"https://api.github.com/repos/anchovYu/spark/subscription","commits_url":"https://api.github.com/repos/anchovYu/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/anchovYu/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/anchovYu/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/anchovYu/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/anchovYu/spark/contents/{+path}","compare_url":"https://api.github.com/repos/anchovYu/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/anchovYu/spark/merges","archive_url":"https://api.github.com/repos/anchovYu/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/anchovYu/spark/downloads","issues_url":"https://api.github.com/repos/anchovYu/spark/issues{/number}","pulls_url":"https://api.github.com/repos/anchovYu/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/anchovYu/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/anchovYu/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/anchovYu/spark/labels{/name}","releases_url":"https://api.github.com/repos/anchovYu/spark/releases{/id}","deployments_url":"https://api.github.com/repos/anchovYu/spark/deployments","created_at":"2020-08-10T16:43:50Z","updated_at":"2022-02-10T01:09:45Z","pushed_at":"2024-08-29T03:55:47Z","git_url":"git://github.com/anchovYu/spark.git","ssh_url":"git@github.com:anchovYu/spark.git","clone_url":"https://github.com/anchovYu/spark.git","svn_url":"https://github.com/anchovYu/spark","homepage":"https://spark.apache.org/","size":438781,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"de960a5d5f892248226a82f2f0f2adc43749db5d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35966"},"html":{"href":"https://github.com/apache/spark/pull/35966"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35966"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35966/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35966/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35966/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/80a6c37518b2ce5d1b6f3cab0bde3460e8ec05c9"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35965","id":888547243,"node_id":"PR_kwDOAQXtWs409ier","html_url":"https://github.com/apache/spark/pull/35965","diff_url":"https://github.com/apache/spark/pull/35965.diff","patch_url":"https://github.com/apache/spark/pull/35965.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35965","number":35965,"state":"closed","locked":false,"title":"[SPARK-38647][SQL] Add SupportsReportOrdering mix in interface for Scan (DataSourceV2)","user":{"login":"EnricoMi","id":44700269,"node_id":"MDQ6VXNlcjQ0NzAwMjY5","avatar_url":"https://avatars.githubusercontent.com/u/44700269?v=4","gravatar_id":"","url":"https://api.github.com/users/EnricoMi","html_url":"https://github.com/EnricoMi","followers_url":"https://api.github.com/users/EnricoMi/followers","following_url":"https://api.github.com/users/EnricoMi/following{/other_user}","gists_url":"https://api.github.com/users/EnricoMi/gists{/gist_id}","starred_url":"https://api.github.com/users/EnricoMi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EnricoMi/subscriptions","organizations_url":"https://api.github.com/users/EnricoMi/orgs","repos_url":"https://api.github.com/users/EnricoMi/repos","events_url":"https://api.github.com/users/EnricoMi/events{/privacy}","received_events_url":"https://api.github.com/users/EnricoMi/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nAs `SupportsReportPartitioning` allows implementations of `Scan` provide Spark with information about the exiting partitioning of data read by a `DataSourceV2`, a similar mix in interface `SupportsReportOrdering` should provide order information.\r\n\r\n### Why are the changes needed?\r\nThis prevents Spark from sorting data if they already exhibit a certain order provided by the source.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nIt adds `SupportsReportOrdering` mix in interface.\r\n\r\n### How was this patch tested?\r\nThis adds tests to `DataSourceV2Suite`, similar to the test for `SupportsReportPartitioning`.","created_at":"2022-03-24T15:55:29Z","updated_at":"2022-06-21T17:44:11Z","closed_at":"2022-06-21T17:40:18Z","merged_at":null,"merge_commit_sha":"cb7dde22bccb7e241e0941724172ab99c2bf7ee7","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35965/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35965/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35965/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/e444a5dbbf4f3ac6a0e082e2349e9d4f914a846e","head":{"label":"G-Research:branch-datasourcev2-output-ordering","ref":"branch-datasourcev2-output-ordering","sha":"e444a5dbbf4f3ac6a0e082e2349e9d4f914a846e","user":{"login":"G-Research","id":21341965,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIxMzQxOTY1","avatar_url":"https://avatars.githubusercontent.com/u/21341965?v=4","gravatar_id":"","url":"https://api.github.com/users/G-Research","html_url":"https://github.com/G-Research","followers_url":"https://api.github.com/users/G-Research/followers","following_url":"https://api.github.com/users/G-Research/following{/other_user}","gists_url":"https://api.github.com/users/G-Research/gists{/gist_id}","starred_url":"https://api.github.com/users/G-Research/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/G-Research/subscriptions","organizations_url":"https://api.github.com/users/G-Research/orgs","repos_url":"https://api.github.com/users/G-Research/repos","events_url":"https://api.github.com/users/G-Research/events{/privacy}","received_events_url":"https://api.github.com/users/G-Research/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":214350064,"node_id":"MDEwOlJlcG9zaXRvcnkyMTQzNTAwNjQ=","name":"spark","full_name":"G-Research/spark","private":false,"owner":{"login":"G-Research","id":21341965,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIxMzQxOTY1","avatar_url":"https://avatars.githubusercontent.com/u/21341965?v=4","gravatar_id":"","url":"https://api.github.com/users/G-Research","html_url":"https://github.com/G-Research","followers_url":"https://api.github.com/users/G-Research/followers","following_url":"https://api.github.com/users/G-Research/following{/other_user}","gists_url":"https://api.github.com/users/G-Research/gists{/gist_id}","starred_url":"https://api.github.com/users/G-Research/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/G-Research/subscriptions","organizations_url":"https://api.github.com/users/G-Research/orgs","repos_url":"https://api.github.com/users/G-Research/repos","events_url":"https://api.github.com/users/G-Research/events{/privacy}","received_events_url":"https://api.github.com/users/G-Research/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/G-Research/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/G-Research/spark","forks_url":"https://api.github.com/repos/G-Research/spark/forks","keys_url":"https://api.github.com/repos/G-Research/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/G-Research/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/G-Research/spark/teams","hooks_url":"https://api.github.com/repos/G-Research/spark/hooks","issue_events_url":"https://api.github.com/repos/G-Research/spark/issues/events{/number}","events_url":"https://api.github.com/repos/G-Research/spark/events","assignees_url":"https://api.github.com/repos/G-Research/spark/assignees{/user}","branches_url":"https://api.github.com/repos/G-Research/spark/branches{/branch}","tags_url":"https://api.github.com/repos/G-Research/spark/tags","blobs_url":"https://api.github.com/repos/G-Research/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/G-Research/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/G-Research/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/G-Research/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/G-Research/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/G-Research/spark/languages","stargazers_url":"https://api.github.com/repos/G-Research/spark/stargazers","contributors_url":"https://api.github.com/repos/G-Research/spark/contributors","subscribers_url":"https://api.github.com/repos/G-Research/spark/subscribers","subscription_url":"https://api.github.com/repos/G-Research/spark/subscription","commits_url":"https://api.github.com/repos/G-Research/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/G-Research/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/G-Research/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/G-Research/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/G-Research/spark/contents/{+path}","compare_url":"https://api.github.com/repos/G-Research/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/G-Research/spark/merges","archive_url":"https://api.github.com/repos/G-Research/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/G-Research/spark/downloads","issues_url":"https://api.github.com/repos/G-Research/spark/issues{/number}","pulls_url":"https://api.github.com/repos/G-Research/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/G-Research/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/G-Research/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/G-Research/spark/labels{/name}","releases_url":"https://api.github.com/repos/G-Research/spark/releases{/id}","deployments_url":"https://api.github.com/repos/G-Research/spark/deployments","created_at":"2019-10-11T05:23:46Z","updated_at":"2025-01-29T17:21:41Z","pushed_at":"2025-02-07T20:55:49Z","git_url":"git://github.com/G-Research/spark.git","ssh_url":"git@github.com:G-Research/spark.git","clone_url":"https://github.com/G-Research/spark.git","svn_url":"https://github.com/G-Research/spark","homepage":"","size":474067,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":17,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":17,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"0f2fe34d962795ee03d5f5a6667e8f5b935cef72","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35965"},"html":{"href":"https://github.com/apache/spark/pull/35965"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35965"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35965/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35965/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35965/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/e444a5dbbf4f3ac6a0e082e2349e9d4f914a846e"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35964","id":888461459,"node_id":"PR_kwDOAQXtWs409NiT","html_url":"https://github.com/apache/spark/pull/35964","diff_url":"https://github.com/apache/spark/pull/35964.diff","patch_url":"https://github.com/apache/spark/pull/35964.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35964","number":35964,"state":"closed","locked":false,"title":"[SPARK-38646][PYTHON] Pull a trait out for Python functions","user":{"login":"zhenlineo","id":4190164,"node_id":"MDQ6VXNlcjQxOTAxNjQ=","avatar_url":"https://avatars.githubusercontent.com/u/4190164?v=4","gravatar_id":"","url":"https://api.github.com/users/zhenlineo","html_url":"https://github.com/zhenlineo","followers_url":"https://api.github.com/users/zhenlineo/followers","following_url":"https://api.github.com/users/zhenlineo/following{/other_user}","gists_url":"https://api.github.com/users/zhenlineo/gists{/gist_id}","starred_url":"https://api.github.com/users/zhenlineo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhenlineo/subscriptions","organizations_url":"https://api.github.com/users/zhenlineo/orgs","repos_url":"https://api.github.com/users/zhenlineo/repos","events_url":"https://api.github.com/users/zhenlineo/events{/privacy}","received_events_url":"https://api.github.com/users/zhenlineo/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\nPulls a trait out for a generic interface for Python functions.\r\n* trait PythonFunction\r\n* case class PythonFunction -> SimplePythonFunction\r\n\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\n\r\n### Why are the changes needed?\r\n\r\nMake the PythonRDD and other classes to use a trait rather than a fixed case class.\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nExisting tests.","created_at":"2022-03-24T14:39:55Z","updated_at":"2022-03-25T03:28:07Z","closed_at":"2022-03-25T03:28:07Z","merged_at":null,"merge_commit_sha":"99acb77f71884a65c06982b26b720e9ba44877fa","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35964/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35964/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35964/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/f271c1c8ebcb2093ac24edb8deb8422efe17808a","head":{"label":"zhenlineo:python-udf","ref":"python-udf","sha":"f271c1c8ebcb2093ac24edb8deb8422efe17808a","user":{"login":"zhenlineo","id":4190164,"node_id":"MDQ6VXNlcjQxOTAxNjQ=","avatar_url":"https://avatars.githubusercontent.com/u/4190164?v=4","gravatar_id":"","url":"https://api.github.com/users/zhenlineo","html_url":"https://github.com/zhenlineo","followers_url":"https://api.github.com/users/zhenlineo/followers","following_url":"https://api.github.com/users/zhenlineo/following{/other_user}","gists_url":"https://api.github.com/users/zhenlineo/gists{/gist_id}","starred_url":"https://api.github.com/users/zhenlineo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhenlineo/subscriptions","organizations_url":"https://api.github.com/users/zhenlineo/orgs","repos_url":"https://api.github.com/users/zhenlineo/repos","events_url":"https://api.github.com/users/zhenlineo/events{/privacy}","received_events_url":"https://api.github.com/users/zhenlineo/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":464980742,"node_id":"R_kgDOG7cLBg","name":"spark","full_name":"zhenlineo/spark","private":false,"owner":{"login":"zhenlineo","id":4190164,"node_id":"MDQ6VXNlcjQxOTAxNjQ=","avatar_url":"https://avatars.githubusercontent.com/u/4190164?v=4","gravatar_id":"","url":"https://api.github.com/users/zhenlineo","html_url":"https://github.com/zhenlineo","followers_url":"https://api.github.com/users/zhenlineo/followers","following_url":"https://api.github.com/users/zhenlineo/following{/other_user}","gists_url":"https://api.github.com/users/zhenlineo/gists{/gist_id}","starred_url":"https://api.github.com/users/zhenlineo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhenlineo/subscriptions","organizations_url":"https://api.github.com/users/zhenlineo/orgs","repos_url":"https://api.github.com/users/zhenlineo/repos","events_url":"https://api.github.com/users/zhenlineo/events{/privacy}","received_events_url":"https://api.github.com/users/zhenlineo/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhenlineo/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/zhenlineo/spark","forks_url":"https://api.github.com/repos/zhenlineo/spark/forks","keys_url":"https://api.github.com/repos/zhenlineo/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhenlineo/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhenlineo/spark/teams","hooks_url":"https://api.github.com/repos/zhenlineo/spark/hooks","issue_events_url":"https://api.github.com/repos/zhenlineo/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhenlineo/spark/events","assignees_url":"https://api.github.com/repos/zhenlineo/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhenlineo/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhenlineo/spark/tags","blobs_url":"https://api.github.com/repos/zhenlineo/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhenlineo/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhenlineo/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhenlineo/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhenlineo/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhenlineo/spark/languages","stargazers_url":"https://api.github.com/repos/zhenlineo/spark/stargazers","contributors_url":"https://api.github.com/repos/zhenlineo/spark/contributors","subscribers_url":"https://api.github.com/repos/zhenlineo/spark/subscribers","subscription_url":"https://api.github.com/repos/zhenlineo/spark/subscription","commits_url":"https://api.github.com/repos/zhenlineo/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhenlineo/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhenlineo/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhenlineo/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhenlineo/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhenlineo/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhenlineo/spark/merges","archive_url":"https://api.github.com/repos/zhenlineo/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhenlineo/spark/downloads","issues_url":"https://api.github.com/repos/zhenlineo/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhenlineo/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhenlineo/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhenlineo/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhenlineo/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhenlineo/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhenlineo/spark/deployments","created_at":"2022-03-01T16:55:20Z","updated_at":"2022-03-02T15:44:38Z","pushed_at":"2023-10-26T21:51:49Z","git_url":"git://github.com/zhenlineo/spark.git","ssh_url":"git@github.com:zhenlineo/spark.git","clone_url":"https://github.com/zhenlineo/spark.git","svn_url":"https://github.com/zhenlineo/spark","homepage":"https://spark.apache.org/","size":426321,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"e410d98f57750080ad46932cc9211d2cf5154c24","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35964"},"html":{"href":"https://github.com/apache/spark/pull/35964"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35964"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35964/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35964/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35964/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/f271c1c8ebcb2093ac24edb8deb8422efe17808a"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35963","id":888417852,"node_id":"PR_kwDOAQXtWs409C48","html_url":"https://github.com/apache/spark/pull/35963","diff_url":"https://github.com/apache/spark/pull/35963.diff","patch_url":"https://github.com/apache/spark/pull/35963.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35963","number":35963,"state":"closed","locked":false,"title":"[SPARK-38639] Support cleanedSourcePrint flag to print Codegen cleanedSource","user":{"login":"TonyDoen","id":7348090,"node_id":"MDQ6VXNlcjczNDgwOTA=","avatar_url":"https://avatars.githubusercontent.com/u/7348090?v=4","gravatar_id":"","url":"https://api.github.com/users/TonyDoen","html_url":"https://github.com/TonyDoen","followers_url":"https://api.github.com/users/TonyDoen/followers","following_url":"https://api.github.com/users/TonyDoen/following{/other_user}","gists_url":"https://api.github.com/users/TonyDoen/gists{/gist_id}","starred_url":"https://api.github.com/users/TonyDoen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TonyDoen/subscriptions","organizations_url":"https://api.github.com/users/TonyDoen/orgs","repos_url":"https://api.github.com/users/TonyDoen/repos","events_url":"https://api.github.com/users/TonyDoen/events{/privacy}","received_events_url":"https://api.github.com/users/TonyDoen/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\n### What changes were proposed in this pull request?\r\nadding a config: spark.sql.codegen.cleanedSourcePrint triggers to print codegen clean source\r\n\r\n\r\n### Why are the changes needed?\r\nWhen we use spark-sql, encountering problems in codegen source, we often have to change the log level to DEBUG, but there are too many logs in this mode (DEBUG) .\r\nThen `spark.sql.codegen.cleanedSourcePrint` can ensure that just printing codegen source.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, add new config: `spark.sql.codegen.cleanedSourcePrint`\r\n\r\n\r\n### How was this patch tested?\r\nExisted UT\r\n","created_at":"2022-03-24T14:02:30Z","updated_at":"2022-07-22T00:24:00Z","closed_at":"2022-07-22T00:24:00Z","merged_at":null,"merge_commit_sha":"5e564a0b5e77a45e421d02e7a2f4d1cf1993818f","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35963/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35963/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35963/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/195f7ffd8a4ebeb9d1cede8945abc4766f69bf19","head":{"label":"TonyDoen:SPARK-38645","ref":"SPARK-38645","sha":"195f7ffd8a4ebeb9d1cede8945abc4766f69bf19","user":{"login":"TonyDoen","id":7348090,"node_id":"MDQ6VXNlcjczNDgwOTA=","avatar_url":"https://avatars.githubusercontent.com/u/7348090?v=4","gravatar_id":"","url":"https://api.github.com/users/TonyDoen","html_url":"https://github.com/TonyDoen","followers_url":"https://api.github.com/users/TonyDoen/followers","following_url":"https://api.github.com/users/TonyDoen/following{/other_user}","gists_url":"https://api.github.com/users/TonyDoen/gists{/gist_id}","starred_url":"https://api.github.com/users/TonyDoen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TonyDoen/subscriptions","organizations_url":"https://api.github.com/users/TonyDoen/orgs","repos_url":"https://api.github.com/users/TonyDoen/repos","events_url":"https://api.github.com/users/TonyDoen/events{/privacy}","received_events_url":"https://api.github.com/users/TonyDoen/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":473618204,"node_id":"R_kgDOHDrXHA","name":"spark","full_name":"TonyDoen/spark","private":false,"owner":{"login":"TonyDoen","id":7348090,"node_id":"MDQ6VXNlcjczNDgwOTA=","avatar_url":"https://avatars.githubusercontent.com/u/7348090?v=4","gravatar_id":"","url":"https://api.github.com/users/TonyDoen","html_url":"https://github.com/TonyDoen","followers_url":"https://api.github.com/users/TonyDoen/followers","following_url":"https://api.github.com/users/TonyDoen/following{/other_user}","gists_url":"https://api.github.com/users/TonyDoen/gists{/gist_id}","starred_url":"https://api.github.com/users/TonyDoen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TonyDoen/subscriptions","organizations_url":"https://api.github.com/users/TonyDoen/orgs","repos_url":"https://api.github.com/users/TonyDoen/repos","events_url":"https://api.github.com/users/TonyDoen/events{/privacy}","received_events_url":"https://api.github.com/users/TonyDoen/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/TonyDoen/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/TonyDoen/spark","forks_url":"https://api.github.com/repos/TonyDoen/spark/forks","keys_url":"https://api.github.com/repos/TonyDoen/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/TonyDoen/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/TonyDoen/spark/teams","hooks_url":"https://api.github.com/repos/TonyDoen/spark/hooks","issue_events_url":"https://api.github.com/repos/TonyDoen/spark/issues/events{/number}","events_url":"https://api.github.com/repos/TonyDoen/spark/events","assignees_url":"https://api.github.com/repos/TonyDoen/spark/assignees{/user}","branches_url":"https://api.github.com/repos/TonyDoen/spark/branches{/branch}","tags_url":"https://api.github.com/repos/TonyDoen/spark/tags","blobs_url":"https://api.github.com/repos/TonyDoen/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/TonyDoen/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/TonyDoen/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/TonyDoen/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/TonyDoen/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/TonyDoen/spark/languages","stargazers_url":"https://api.github.com/repos/TonyDoen/spark/stargazers","contributors_url":"https://api.github.com/repos/TonyDoen/spark/contributors","subscribers_url":"https://api.github.com/repos/TonyDoen/spark/subscribers","subscription_url":"https://api.github.com/repos/TonyDoen/spark/subscription","commits_url":"https://api.github.com/repos/TonyDoen/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/TonyDoen/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/TonyDoen/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/TonyDoen/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/TonyDoen/spark/contents/{+path}","compare_url":"https://api.github.com/repos/TonyDoen/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/TonyDoen/spark/merges","archive_url":"https://api.github.com/repos/TonyDoen/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/TonyDoen/spark/downloads","issues_url":"https://api.github.com/repos/TonyDoen/spark/issues{/number}","pulls_url":"https://api.github.com/repos/TonyDoen/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/TonyDoen/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/TonyDoen/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/TonyDoen/spark/labels{/name}","releases_url":"https://api.github.com/repos/TonyDoen/spark/releases{/id}","deployments_url":"https://api.github.com/repos/TonyDoen/spark/deployments","created_at":"2022-03-24T13:28:59Z","updated_at":"2022-03-25T03:22:44Z","pushed_at":"2022-03-28T10:52:49Z","git_url":"git://github.com/TonyDoen/spark.git","ssh_url":"git@github.com:TonyDoen/spark.git","clone_url":"https://github.com/TonyDoen/spark.git","svn_url":"https://github.com/TonyDoen/spark","homepage":"https://spark.apache.org/","size":412753,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"4c51851c4227f22df9385a66280905108d529fba","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35963"},"html":{"href":"https://github.com/apache/spark/pull/35963"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35963"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35963/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35963/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35963/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/195f7ffd8a4ebeb9d1cede8945abc4766f69bf19"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35962","id":888367185,"node_id":"PR_kwDOAQXtWs4082hR","html_url":"https://github.com/apache/spark/pull/35962","diff_url":"https://github.com/apache/spark/pull/35962.diff","patch_url":"https://github.com/apache/spark/pull/35962.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35962","number":35962,"state":"closed","locked":false,"title":"[SPARK-38639] Support `spark.sql.codegen.cleanedSourcePrint` flag to print Codegen cleanedSource","user":{"login":"TonyDoen","id":7348090,"node_id":"MDQ6VXNlcjczNDgwOTA=","avatar_url":"https://avatars.githubusercontent.com/u/7348090?v=4","gravatar_id":"","url":"https://api.github.com/users/TonyDoen","html_url":"https://github.com/TonyDoen","followers_url":"https://api.github.com/users/TonyDoen/followers","following_url":"https://api.github.com/users/TonyDoen/following{/other_user}","gists_url":"https://api.github.com/users/TonyDoen/gists{/gist_id}","starred_url":"https://api.github.com/users/TonyDoen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TonyDoen/subscriptions","organizations_url":"https://api.github.com/users/TonyDoen/orgs","repos_url":"https://api.github.com/users/TonyDoen/repos","events_url":"https://api.github.com/users/TonyDoen/events{/privacy}","received_events_url":"https://api.github.com/users/TonyDoen/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\n### What changes were proposed in this pull request?\r\nadding a config: `spark.sql.codegen.cleanedSourcePrint` triggers to print codegen clean source\r\n\r\n\r\n### Why are the changes needed?\r\nWhen we use spark-sql,  encountering problems in codegen source, we often have to change the log level to DEBUG, but there are too many logs in this mode (DEBUG) .\r\nThen `spark.sql.codegen.cleanedSourcePrint` can ensure that just printing codegen source.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, add new config: `spark.sql.codegen.cleanedSourcePrint`\r\n\r\n\r\n### How was this patch tested?\r\nExisted UT\r\n","created_at":"2022-03-24T13:18:35Z","updated_at":"2022-03-24T13:28:27Z","closed_at":"2022-03-24T13:28:27Z","merged_at":null,"merge_commit_sha":"16e10cffe5a0ec766ff04b2e58d6ea9a79fb4cb8","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35962/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35962/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35962/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/11ca7fcf55eb7a774485cc9b4d51ce200b421d1c","head":{"label":"TonyDoen:SPARK-38645","ref":"SPARK-38645","sha":"11ca7fcf55eb7a774485cc9b4d51ce200b421d1c","user":{"login":"TonyDoen","id":7348090,"node_id":"MDQ6VXNlcjczNDgwOTA=","avatar_url":"https://avatars.githubusercontent.com/u/7348090?v=4","gravatar_id":"","url":"https://api.github.com/users/TonyDoen","html_url":"https://github.com/TonyDoen","followers_url":"https://api.github.com/users/TonyDoen/followers","following_url":"https://api.github.com/users/TonyDoen/following{/other_user}","gists_url":"https://api.github.com/users/TonyDoen/gists{/gist_id}","starred_url":"https://api.github.com/users/TonyDoen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TonyDoen/subscriptions","organizations_url":"https://api.github.com/users/TonyDoen/orgs","repos_url":"https://api.github.com/users/TonyDoen/repos","events_url":"https://api.github.com/users/TonyDoen/events{/privacy}","received_events_url":"https://api.github.com/users/TonyDoen/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"8eb8a42545276b65b8a4358c92fa6f44f870e5b0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35962"},"html":{"href":"https://github.com/apache/spark/pull/35962"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35962"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35962/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35962/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35962/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/11ca7fcf55eb7a774485cc9b4d51ce200b421d1c"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35961","id":888344065,"node_id":"PR_kwDOAQXtWs408w4B","html_url":"https://github.com/apache/spark/pull/35961","diff_url":"https://github.com/apache/spark/pull/35961.diff","patch_url":"https://github.com/apache/spark/pull/35961.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35961","number":35961,"state":"closed","locked":false,"title":"[SPARK-38644][SQL] DS V2 topN push-down supports project with alias","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nCurrently, Spark DS V2 topN push-down doesn't supports project with alias.\r\n\r\nThis PR let it works good with alias.\r\n\r\n**Example**:\r\nthe origin plan show below:\r\n```\r\nSort [mySalary#10 ASC NULLS FIRST], true\r\n+- Project [NAME#1, SALARY#2 AS mySalary#10]\r\n   +- ScanBuilderHolder [DEPT#0, NAME#1, SALARY#2, BONUS#3, IS_MANAGER#4], RelationV2[DEPT#0, NAME#1, SALARY#2, BONUS#3, IS_MANAGER#4] test.employee, JDBCScanBuilder(org.apache.spark.sql.test.TestSparkSession@7fd4b9ec,StructType(StructField(DEPT,IntegerType,true),StructField(NAME,StringType,true),StructField(SALARY,DecimalType(20,2),true),StructField(BONUS,DoubleType,true),StructField(IS_MANAGER,BooleanType,true)),org.apache.spark.sql.execution.datasources.jdbc.JDBCOptions@3c8e4a82)\r\n```\r\nThe `pushedLimit` and `sortOrders` of `JDBCScanBuilder` are empty.\r\n\r\nIf we can push down the top n, then the plan will be:\r\n```\r\nProject [NAME#1, SALARY#2 AS mySalary#10]\r\n+- ScanBuilderHolder [DEPT#0, NAME#1, SALARY#2, BONUS#3, IS_MANAGER#4], RelationV2[DEPT#0, NAME#1, SALARY#2, BONUS#3, IS_MANAGER#4] test.employee, JDBCScanBuilder(org.apache.spark.sql.test.TestSparkSession@7fd4b9ec,StructType(StructField(DEPT,IntegerType,true),StructField(NAME,StringType,true),StructField(SALARY,DecimalType(20,2),true),StructField(BONUS,DoubleType,true),StructField(IS_MANAGER,BooleanType,true)),org.apache.spark.sql.execution.datasources.jdbc.JDBCOptions@3c8e4a82)\r\n```\r\nThe `pushedLimit` of `JDBCScanBuilder` will be `1` and `sortOrders` of `JDBCScanBuilder` will be `SALARY ASC NULLS FIRST`.\r\n\r\n### Why are the changes needed?\r\nAlias is more useful.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n'Yes'.\r\nUsers could see DS V2 topN push-down supports project with alias.\r\n\r\n\r\n### How was this patch tested?\r\nNew tests.\r\n","created_at":"2022-03-24T12:56:44Z","updated_at":"2022-03-25T12:14:21Z","closed_at":"2022-03-25T12:00:48Z","merged_at":null,"merge_commit_sha":"1b14e917784fd620eb4885d429e98e5bad970c77","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35961/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35961/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35961/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/7bd887bde65b40cf4774e56a9ff056160bb67235","head":{"label":"beliefer:SPARK-38644","ref":"SPARK-38644","sha":"7bd887bde65b40cf4774e56a9ff056160bb67235","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":237617513,"node_id":"MDEwOlJlcG9zaXRvcnkyMzc2MTc1MTM=","name":"spark","full_name":"beliefer/spark","private":false,"owner":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/beliefer/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/beliefer/spark","forks_url":"https://api.github.com/repos/beliefer/spark/forks","keys_url":"https://api.github.com/repos/beliefer/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/beliefer/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/beliefer/spark/teams","hooks_url":"https://api.github.com/repos/beliefer/spark/hooks","issue_events_url":"https://api.github.com/repos/beliefer/spark/issues/events{/number}","events_url":"https://api.github.com/repos/beliefer/spark/events","assignees_url":"https://api.github.com/repos/beliefer/spark/assignees{/user}","branches_url":"https://api.github.com/repos/beliefer/spark/branches{/branch}","tags_url":"https://api.github.com/repos/beliefer/spark/tags","blobs_url":"https://api.github.com/repos/beliefer/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/beliefer/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/beliefer/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/beliefer/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/beliefer/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/beliefer/spark/languages","stargazers_url":"https://api.github.com/repos/beliefer/spark/stargazers","contributors_url":"https://api.github.com/repos/beliefer/spark/contributors","subscribers_url":"https://api.github.com/repos/beliefer/spark/subscribers","subscription_url":"https://api.github.com/repos/beliefer/spark/subscription","commits_url":"https://api.github.com/repos/beliefer/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/beliefer/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/beliefer/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/beliefer/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/beliefer/spark/contents/{+path}","compare_url":"https://api.github.com/repos/beliefer/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/beliefer/spark/merges","archive_url":"https://api.github.com/repos/beliefer/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/beliefer/spark/downloads","issues_url":"https://api.github.com/repos/beliefer/spark/issues{/number}","pulls_url":"https://api.github.com/repos/beliefer/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/beliefer/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/beliefer/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/beliefer/spark/labels{/name}","releases_url":"https://api.github.com/repos/beliefer/spark/releases{/id}","deployments_url":"https://api.github.com/repos/beliefer/spark/deployments","created_at":"2020-02-01T13:17:08Z","updated_at":"2025-01-28T09:45:49Z","pushed_at":"2025-01-28T11:57:29Z","git_url":"git://github.com/beliefer/spark.git","ssh_url":"git@github.com:beliefer/spark.git","clone_url":"https://github.com/beliefer/spark.git","svn_url":"https://github.com/beliefer/spark","homepage":"","size":488033,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"8eb8a42545276b65b8a4358c92fa6f44f870e5b0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35961"},"html":{"href":"https://github.com/apache/spark/pull/35961"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35961"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35961/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35961/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35961/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/7bd887bde65b40cf4774e56a9ff056160bb67235"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35960","id":888326102,"node_id":"PR_kwDOAQXtWs408sfW","html_url":"https://github.com/apache/spark/pull/35960","diff_url":"https://github.com/apache/spark/pull/35960.diff","patch_url":"https://github.com/apache/spark/pull/35960.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35960","number":35960,"state":"closed","locked":false,"title":"[SPARK-38461][CORE] Use error classes in org.apache.spark.broadcast","user":{"login":"bozhang2820","id":44179472,"node_id":"MDQ6VXNlcjQ0MTc5NDcy","avatar_url":"https://avatars.githubusercontent.com/u/44179472?v=4","gravatar_id":"","url":"https://api.github.com/users/bozhang2820","html_url":"https://github.com/bozhang2820","followers_url":"https://api.github.com/users/bozhang2820/followers","following_url":"https://api.github.com/users/bozhang2820/following{/other_user}","gists_url":"https://api.github.com/users/bozhang2820/gists{/gist_id}","starred_url":"https://api.github.com/users/bozhang2820/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bozhang2820/subscriptions","organizations_url":"https://api.github.com/users/bozhang2820/orgs","repos_url":"https://api.github.com/users/bozhang2820/repos","events_url":"https://api.github.com/users/bozhang2820/events{/privacy}","received_events_url":"https://api.github.com/users/bozhang2820/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis change is to refactor exceptions thrown in org.apache.spark.broadcast to use error class framework.\r\n\r\n### Why are the changes needed?\r\nThis is to follow the error class framework.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes. To aggregate the exceptions, there are minor changes in error messages in the exceptions thrown.\r\n\r\n### How was this patch tested?\r\nAdded unit tests.\r\n","created_at":"2022-03-24T12:38:17Z","updated_at":"2023-04-24T07:02:11Z","closed_at":"2022-07-05T00:19:01Z","merged_at":null,"merge_commit_sha":"857fc1af12ba946b9148883d28f3d031af208592","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35960/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35960/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35960/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/2607f7e532b435fb1e496f8325e9f09de7b8e117","head":{"label":"bozhang2820:spark-38461","ref":"spark-38461","sha":"2607f7e532b435fb1e496f8325e9f09de7b8e117","user":{"login":"bozhang2820","id":44179472,"node_id":"MDQ6VXNlcjQ0MTc5NDcy","avatar_url":"https://avatars.githubusercontent.com/u/44179472?v=4","gravatar_id":"","url":"https://api.github.com/users/bozhang2820","html_url":"https://github.com/bozhang2820","followers_url":"https://api.github.com/users/bozhang2820/followers","following_url":"https://api.github.com/users/bozhang2820/following{/other_user}","gists_url":"https://api.github.com/users/bozhang2820/gists{/gist_id}","starred_url":"https://api.github.com/users/bozhang2820/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bozhang2820/subscriptions","organizations_url":"https://api.github.com/users/bozhang2820/orgs","repos_url":"https://api.github.com/users/bozhang2820/repos","events_url":"https://api.github.com/users/bozhang2820/events{/privacy}","received_events_url":"https://api.github.com/users/bozhang2820/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":295316675,"node_id":"MDEwOlJlcG9zaXRvcnkyOTUzMTY2NzU=","name":"spark","full_name":"bozhang2820/spark","private":false,"owner":{"login":"bozhang2820","id":44179472,"node_id":"MDQ6VXNlcjQ0MTc5NDcy","avatar_url":"https://avatars.githubusercontent.com/u/44179472?v=4","gravatar_id":"","url":"https://api.github.com/users/bozhang2820","html_url":"https://github.com/bozhang2820","followers_url":"https://api.github.com/users/bozhang2820/followers","following_url":"https://api.github.com/users/bozhang2820/following{/other_user}","gists_url":"https://api.github.com/users/bozhang2820/gists{/gist_id}","starred_url":"https://api.github.com/users/bozhang2820/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bozhang2820/subscriptions","organizations_url":"https://api.github.com/users/bozhang2820/orgs","repos_url":"https://api.github.com/users/bozhang2820/repos","events_url":"https://api.github.com/users/bozhang2820/events{/privacy}","received_events_url":"https://api.github.com/users/bozhang2820/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bozhang2820/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/bozhang2820/spark","forks_url":"https://api.github.com/repos/bozhang2820/spark/forks","keys_url":"https://api.github.com/repos/bozhang2820/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bozhang2820/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bozhang2820/spark/teams","hooks_url":"https://api.github.com/repos/bozhang2820/spark/hooks","issue_events_url":"https://api.github.com/repos/bozhang2820/spark/issues/events{/number}","events_url":"https://api.github.com/repos/bozhang2820/spark/events","assignees_url":"https://api.github.com/repos/bozhang2820/spark/assignees{/user}","branches_url":"https://api.github.com/repos/bozhang2820/spark/branches{/branch}","tags_url":"https://api.github.com/repos/bozhang2820/spark/tags","blobs_url":"https://api.github.com/repos/bozhang2820/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bozhang2820/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bozhang2820/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/bozhang2820/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bozhang2820/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/bozhang2820/spark/languages","stargazers_url":"https://api.github.com/repos/bozhang2820/spark/stargazers","contributors_url":"https://api.github.com/repos/bozhang2820/spark/contributors","subscribers_url":"https://api.github.com/repos/bozhang2820/spark/subscribers","subscription_url":"https://api.github.com/repos/bozhang2820/spark/subscription","commits_url":"https://api.github.com/repos/bozhang2820/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/bozhang2820/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/bozhang2820/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/bozhang2820/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/bozhang2820/spark/contents/{+path}","compare_url":"https://api.github.com/repos/bozhang2820/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bozhang2820/spark/merges","archive_url":"https://api.github.com/repos/bozhang2820/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bozhang2820/spark/downloads","issues_url":"https://api.github.com/repos/bozhang2820/spark/issues{/number}","pulls_url":"https://api.github.com/repos/bozhang2820/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/bozhang2820/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/bozhang2820/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bozhang2820/spark/labels{/name}","releases_url":"https://api.github.com/repos/bozhang2820/spark/releases{/id}","deployments_url":"https://api.github.com/repos/bozhang2820/spark/deployments","created_at":"2020-09-14T05:49:28Z","updated_at":"2025-01-08T01:37:51Z","pushed_at":"2025-01-16T02:46:07Z","git_url":"git://github.com/bozhang2820/spark.git","ssh_url":"git@github.com:bozhang2820/spark.git","clone_url":"https://github.com/bozhang2820/spark.git","svn_url":"https://github.com/bozhang2820/spark","homepage":"https://spark.apache.org/","size":449059,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"8eb8a42545276b65b8a4358c92fa6f44f870e5b0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35960"},"html":{"href":"https://github.com/apache/spark/pull/35960"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35960"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35960/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35960/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35960/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/2607f7e532b435fb1e496f8325e9f09de7b8e117"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35959","id":888266660,"node_id":"PR_kwDOAQXtWs408d-k","html_url":"https://github.com/apache/spark/pull/35959","diff_url":"https://github.com/apache/spark/pull/35959.diff","patch_url":"https://github.com/apache/spark/pull/35959.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35959","number":35959,"state":"closed","locked":false,"title":"[SPARK-38640][CORE] Fix NPE with memory-only cache blocks and RDD fetching","user":{"login":"Kimahriman","id":3536454,"node_id":"MDQ6VXNlcjM1MzY0NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/3536454?v=4","gravatar_id":"","url":"https://api.github.com/users/Kimahriman","html_url":"https://github.com/Kimahriman","followers_url":"https://api.github.com/users/Kimahriman/followers","following_url":"https://api.github.com/users/Kimahriman/following{/other_user}","gists_url":"https://api.github.com/users/Kimahriman/gists{/gist_id}","starred_url":"https://api.github.com/users/Kimahriman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kimahriman/subscriptions","organizations_url":"https://api.github.com/users/Kimahriman/orgs","repos_url":"https://api.github.com/users/Kimahriman/repos","events_url":"https://api.github.com/users/Kimahriman/events{/privacy}","received_events_url":"https://api.github.com/users/Kimahriman/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nFixes a bug where if `spark.shuffle.service.fetch.rdd.enabled=true`, memory-only cached blocks will fail to unpersist.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nIn https://github.com/apache/spark/pull/33020, when all RDD blocks are removed from `externalShuffleServiceBlockStatus`, the underlying Map is nulled to reduce memory. When persisting blocks we check if it's using disk before adding it to `externalShuffleServiceBlockStatus`, but when removing them there is no check, so a memory-only cache block will keep `externalShuffleServiceBlockStatus` null, and when unpersisting it throw an NPE because it tries to remove from the null Map. This adds checks to the removal as well to only remove if the block is on disk, and therefore should have been added to `externalShuffleServiceBlockStatus` in the first place.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nNew and updated UT","created_at":"2022-03-24T11:38:24Z","updated_at":"2022-04-17T13:39:55Z","closed_at":"2022-04-17T13:39:32Z","merged_at":null,"merge_commit_sha":"5e0baa48e518eb4b3964c9b54fbc41c6531dec83","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35959/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35959/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35959/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/bad0931298f033333698e5e7b0f359faf68f4406","head":{"label":"Kimahriman:fetch-rdd-memory-only-unpersist","ref":"fetch-rdd-memory-only-unpersist","sha":"bad0931298f033333698e5e7b0f359faf68f4406","user":{"login":"Kimahriman","id":3536454,"node_id":"MDQ6VXNlcjM1MzY0NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/3536454?v=4","gravatar_id":"","url":"https://api.github.com/users/Kimahriman","html_url":"https://github.com/Kimahriman","followers_url":"https://api.github.com/users/Kimahriman/followers","following_url":"https://api.github.com/users/Kimahriman/following{/other_user}","gists_url":"https://api.github.com/users/Kimahriman/gists{/gist_id}","starred_url":"https://api.github.com/users/Kimahriman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kimahriman/subscriptions","organizations_url":"https://api.github.com/users/Kimahriman/orgs","repos_url":"https://api.github.com/users/Kimahriman/repos","events_url":"https://api.github.com/users/Kimahriman/events{/privacy}","received_events_url":"https://api.github.com/users/Kimahriman/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":358979577,"node_id":"MDEwOlJlcG9zaXRvcnkzNTg5Nzk1Nzc=","name":"spark","full_name":"Kimahriman/spark","private":false,"owner":{"login":"Kimahriman","id":3536454,"node_id":"MDQ6VXNlcjM1MzY0NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/3536454?v=4","gravatar_id":"","url":"https://api.github.com/users/Kimahriman","html_url":"https://github.com/Kimahriman","followers_url":"https://api.github.com/users/Kimahriman/followers","following_url":"https://api.github.com/users/Kimahriman/following{/other_user}","gists_url":"https://api.github.com/users/Kimahriman/gists{/gist_id}","starred_url":"https://api.github.com/users/Kimahriman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kimahriman/subscriptions","organizations_url":"https://api.github.com/users/Kimahriman/orgs","repos_url":"https://api.github.com/users/Kimahriman/repos","events_url":"https://api.github.com/users/Kimahriman/events{/privacy}","received_events_url":"https://api.github.com/users/Kimahriman/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Kimahriman/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/Kimahriman/spark","forks_url":"https://api.github.com/repos/Kimahriman/spark/forks","keys_url":"https://api.github.com/repos/Kimahriman/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Kimahriman/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Kimahriman/spark/teams","hooks_url":"https://api.github.com/repos/Kimahriman/spark/hooks","issue_events_url":"https://api.github.com/repos/Kimahriman/spark/issues/events{/number}","events_url":"https://api.github.com/repos/Kimahriman/spark/events","assignees_url":"https://api.github.com/repos/Kimahriman/spark/assignees{/user}","branches_url":"https://api.github.com/repos/Kimahriman/spark/branches{/branch}","tags_url":"https://api.github.com/repos/Kimahriman/spark/tags","blobs_url":"https://api.github.com/repos/Kimahriman/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Kimahriman/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Kimahriman/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/Kimahriman/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Kimahriman/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/Kimahriman/spark/languages","stargazers_url":"https://api.github.com/repos/Kimahriman/spark/stargazers","contributors_url":"https://api.github.com/repos/Kimahriman/spark/contributors","subscribers_url":"https://api.github.com/repos/Kimahriman/spark/subscribers","subscription_url":"https://api.github.com/repos/Kimahriman/spark/subscription","commits_url":"https://api.github.com/repos/Kimahriman/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/Kimahriman/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/Kimahriman/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/Kimahriman/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/Kimahriman/spark/contents/{+path}","compare_url":"https://api.github.com/repos/Kimahriman/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Kimahriman/spark/merges","archive_url":"https://api.github.com/repos/Kimahriman/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Kimahriman/spark/downloads","issues_url":"https://api.github.com/repos/Kimahriman/spark/issues{/number}","pulls_url":"https://api.github.com/repos/Kimahriman/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/Kimahriman/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/Kimahriman/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Kimahriman/spark/labels{/name}","releases_url":"https://api.github.com/repos/Kimahriman/spark/releases{/id}","deployments_url":"https://api.github.com/repos/Kimahriman/spark/deployments","created_at":"2021-04-17T20:50:02Z","updated_at":"2024-12-19T12:30:03Z","pushed_at":"2025-02-08T14:13:16Z","git_url":"git://github.com/Kimahriman/spark.git","ssh_url":"git@github.com:Kimahriman/spark.git","clone_url":"https://github.com/Kimahriman/spark.git","svn_url":"https://github.com/Kimahriman/spark","homepage":"https://spark.apache.org/","size":483288,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":0,"watchers":0,"default_branch":"3.5-backport"}},"base":{"label":"apache:master","ref":"master","sha":"01b557d3121ccfc6ab7edeae70f40c52269c814a","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35959"},"html":{"href":"https://github.com/apache/spark/pull/35959"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35959"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35959/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35959/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35959/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/bad0931298f033333698e5e7b0f359faf68f4406"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35958","id":888208613,"node_id":"PR_kwDOAQXtWs408Pzl","html_url":"https://github.com/apache/spark/pull/35958","diff_url":"https://github.com/apache/spark/pull/35958.diff","patch_url":"https://github.com/apache/spark/pull/35958.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35958","number":35958,"state":"closed","locked":false,"title":"[SPARK-38643][ML] Validate input dataset of ml.regression","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nvalidate the input dataset, and fail fast when containing invalid values\r\n\r\n\r\n### Why are the changes needed?\r\nto avoid retruning a bad model silently\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nadded testsuites","created_at":"2022-03-24T10:42:15Z","updated_at":"2022-03-25T06:50:47Z","closed_at":"2022-03-25T06:46:41Z","merged_at":null,"merge_commit_sha":"206a937191c0f1b8ff56f725b4f2d36ad79201b6","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35958/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35958/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35958/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/a9bfcbff9c52a639a849d77c3b62458fe178294d","head":{"label":"zhengruifeng:regression_validate_training_dataset","ref":"regression_validate_training_dataset","sha":"a9bfcbff9c52a639a849d77c3b62458fe178294d","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":51584791,"node_id":"MDEwOlJlcG9zaXRvcnk1MTU4NDc5MQ==","name":"spark","full_name":"zhengruifeng/spark","private":false,"owner":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhengruifeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zhengruifeng/spark","forks_url":"https://api.github.com/repos/zhengruifeng/spark/forks","keys_url":"https://api.github.com/repos/zhengruifeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhengruifeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhengruifeng/spark/teams","hooks_url":"https://api.github.com/repos/zhengruifeng/spark/hooks","issue_events_url":"https://api.github.com/repos/zhengruifeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhengruifeng/spark/events","assignees_url":"https://api.github.com/repos/zhengruifeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhengruifeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhengruifeng/spark/tags","blobs_url":"https://api.github.com/repos/zhengruifeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhengruifeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhengruifeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhengruifeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhengruifeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhengruifeng/spark/languages","stargazers_url":"https://api.github.com/repos/zhengruifeng/spark/stargazers","contributors_url":"https://api.github.com/repos/zhengruifeng/spark/contributors","subscribers_url":"https://api.github.com/repos/zhengruifeng/spark/subscribers","subscription_url":"https://api.github.com/repos/zhengruifeng/spark/subscription","commits_url":"https://api.github.com/repos/zhengruifeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhengruifeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhengruifeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhengruifeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhengruifeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhengruifeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhengruifeng/spark/merges","archive_url":"https://api.github.com/repos/zhengruifeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhengruifeng/spark/downloads","issues_url":"https://api.github.com/repos/zhengruifeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhengruifeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhengruifeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhengruifeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhengruifeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhengruifeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhengruifeng/spark/deployments","created_at":"2016-02-12T11:58:00Z","updated_at":"2025-02-09T01:55:22Z","pushed_at":"2025-02-09T01:55:17Z","git_url":"git://github.com/zhengruifeng/spark.git","ssh_url":"git@github.com:zhengruifeng/spark.git","clone_url":"https://github.com/zhengruifeng/spark.git","svn_url":"https://github.com/zhengruifeng/spark","homepage":null,"size":434785,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"8eb8a42545276b65b8a4358c92fa6f44f870e5b0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35958"},"html":{"href":"https://github.com/apache/spark/pull/35958"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35958"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35958/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35958/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35958/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/a9bfcbff9c52a639a849d77c3b62458fe178294d"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35957","id":888079485,"node_id":"PR_kwDOAQXtWs407wR9","html_url":"https://github.com/apache/spark/pull/35957","diff_url":"https://github.com/apache/spark/pull/35957.diff","patch_url":"https://github.com/apache/spark/pull/35957.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35957","number":35957,"state":"closed","locked":false,"title":"[SPARK-37568][SQL][3.3] Support 2-arguments by the convert_timezone() function","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nAdd new constructor to the `ConvertTimezone` expression (see https://github.com/apache/spark/pull/34817) which accepts only 2 arguments:\r\n1. `<targetTz>` - the time zone to which the input timestamp should be converted.\r\n2. `<sourceTs>` - the timestamp to convert.\r\n\r\nand sets `<sourceTz>` to the current session time zone (see the SQL config `spark.sql.session.timeZone`).\r\n \r\n### Why are the changes needed?\r\nTo help users in migrations from other systems to Spark SQL. Other systems support optional first parameter:\r\n- https://docs.aws.amazon.com/redshift/latest/dg/CONVERT_TIMEZONE.html\r\n- https://docs.snowflake.com/en/sql-reference/functions/convert_timezone.html\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo, it extends the existing signature, and the function hasn't been released yet.\r\n\r\n### How was this patch tested?\r\nBy running new tests:\r\n```\r\n$ build/sbt \"sql/test:testOnly org.apache.spark.sql.expressions.ExpressionInfoSuite\" \r\n$ build/sbt \"sql/testOnly org.apache.spark.sql.SQLQueryTestSuite -- -z timestamp-ltz.sql\"\r\n$ build/sbt \"sql/testOnly org.apache.spark.sql.SQLQueryTestSuite -- -z timestamp-ntz.sql\"\r\n```","created_at":"2022-03-24T08:33:07Z","updated_at":"2022-03-24T14:40:25Z","closed_at":"2022-03-24T14:40:25Z","merged_at":null,"merge_commit_sha":"5714c11c0aff8e066940b31fbfed18809093909f","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35957/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35957/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35957/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3e03b2ff165ca4f6e96309dc23c06815cc34973d","head":{"label":"MaxGekk:convert_timezone-2-params-3.3","ref":"convert_timezone-2-params-3.3","sha":"3e03b2ff165ca4f6e96309dc23c06815cc34973d","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":123690489,"node_id":"MDEwOlJlcG9zaXRvcnkxMjM2OTA0ODk=","name":"spark","full_name":"MaxGekk/spark","private":false,"owner":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/MaxGekk/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/MaxGekk/spark","forks_url":"https://api.github.com/repos/MaxGekk/spark/forks","keys_url":"https://api.github.com/repos/MaxGekk/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/MaxGekk/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/MaxGekk/spark/teams","hooks_url":"https://api.github.com/repos/MaxGekk/spark/hooks","issue_events_url":"https://api.github.com/repos/MaxGekk/spark/issues/events{/number}","events_url":"https://api.github.com/repos/MaxGekk/spark/events","assignees_url":"https://api.github.com/repos/MaxGekk/spark/assignees{/user}","branches_url":"https://api.github.com/repos/MaxGekk/spark/branches{/branch}","tags_url":"https://api.github.com/repos/MaxGekk/spark/tags","blobs_url":"https://api.github.com/repos/MaxGekk/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/MaxGekk/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/MaxGekk/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/MaxGekk/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/MaxGekk/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/MaxGekk/spark/languages","stargazers_url":"https://api.github.com/repos/MaxGekk/spark/stargazers","contributors_url":"https://api.github.com/repos/MaxGekk/spark/contributors","subscribers_url":"https://api.github.com/repos/MaxGekk/spark/subscribers","subscription_url":"https://api.github.com/repos/MaxGekk/spark/subscription","commits_url":"https://api.github.com/repos/MaxGekk/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/MaxGekk/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/MaxGekk/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/MaxGekk/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/MaxGekk/spark/contents/{+path}","compare_url":"https://api.github.com/repos/MaxGekk/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/MaxGekk/spark/merges","archive_url":"https://api.github.com/repos/MaxGekk/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/MaxGekk/spark/downloads","issues_url":"https://api.github.com/repos/MaxGekk/spark/issues{/number}","pulls_url":"https://api.github.com/repos/MaxGekk/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/MaxGekk/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/MaxGekk/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/MaxGekk/spark/labels{/name}","releases_url":"https://api.github.com/repos/MaxGekk/spark/releases{/id}","deployments_url":"https://api.github.com/repos/MaxGekk/spark/deployments","created_at":"2018-03-03T12:37:00Z","updated_at":"2025-02-07T09:44:52Z","pushed_at":"2025-02-07T09:44:24Z","git_url":"git://github.com/MaxGekk/spark.git","ssh_url":"git@github.com:MaxGekk/spark.git","clone_url":"https://github.com/MaxGekk/spark.git","svn_url":"https://github.com/MaxGekk/spark","homepage":null,"size":486456,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:branch-3.3","ref":"branch-3.3","sha":"072968d730863e89635c903999a397fc0233ea87","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35957"},"html":{"href":"https://github.com/apache/spark/pull/35957"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35957"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35957/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35957/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35957/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3e03b2ff165ca4f6e96309dc23c06815cc34973d"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35956","id":887881286,"node_id":"PR_kwDOAQXtWs406_5G","html_url":"https://github.com/apache/spark/pull/35956","diff_url":"https://github.com/apache/spark/pull/35956.diff","patch_url":"https://github.com/apache/spark/pull/35956.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35956","number":35956,"state":"closed","locked":false,"title":"[SPARK-38641][BUILD] Get rid of invalid configuration elements in mvn_scalafmt in main pom.xml","user":{"login":"morvenhuang","id":7865928,"node_id":"MDQ6VXNlcjc4NjU5Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/7865928?v=4","gravatar_id":"","url":"https://api.github.com/users/morvenhuang","html_url":"https://github.com/morvenhuang","followers_url":"https://api.github.com/users/morvenhuang/followers","following_url":"https://api.github.com/users/morvenhuang/following{/other_user}","gists_url":"https://api.github.com/users/morvenhuang/gists{/gist_id}","starred_url":"https://api.github.com/users/morvenhuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morvenhuang/subscriptions","organizations_url":"https://api.github.com/users/morvenhuang/orgs","repos_url":"https://api.github.com/users/morvenhuang/repos","events_url":"https://api.github.com/users/morvenhuang/events{/privacy}","received_events_url":"https://api.github.com/users/morvenhuang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nIn main pom.xml, for mvn_scalafmt plugin, I removed 'parameters' since it's invalid , and replace 'skip' with 'validateOnly' since 'skip' is invalid too.\r\n\r\n\r\n### Why are the changes needed?\r\nI think we should not leave invalid items there in the pom.xml\r\n\r\nI've contacted the author of mvn_scalafmt, Ciaran Kearney, to confirm if these 2 configuration items are no longer there since v 1.0.0, and he said: \"That's correct.  The command line parameters were removed by scalafmt itself a few versions ago and skip was replaced by validateOnly (which checks formatting without changing files.\"\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes\r\n\r\n\r\n### How was this patch tested?\r\nRun mvn-scalafmt_2.12:format locally via mvn. \r\n","created_at":"2022-03-24T03:12:24Z","updated_at":"2022-03-24T23:24:42Z","closed_at":"2022-03-24T23:24:42Z","merged_at":null,"merge_commit_sha":"e69a1cc75e1a65a1a50ea08585ab004d050d901b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35956/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35956/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35956/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/35e12d40eaf58b7fca19d19c1497e06541e9cd3e","head":{"label":"morvenhuang:SPARK-38641","ref":"SPARK-38641","sha":"35e12d40eaf58b7fca19d19c1497e06541e9cd3e","user":{"login":"morvenhuang","id":7865928,"node_id":"MDQ6VXNlcjc4NjU5Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/7865928?v=4","gravatar_id":"","url":"https://api.github.com/users/morvenhuang","html_url":"https://github.com/morvenhuang","followers_url":"https://api.github.com/users/morvenhuang/followers","following_url":"https://api.github.com/users/morvenhuang/following{/other_user}","gists_url":"https://api.github.com/users/morvenhuang/gists{/gist_id}","starred_url":"https://api.github.com/users/morvenhuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morvenhuang/subscriptions","organizations_url":"https://api.github.com/users/morvenhuang/orgs","repos_url":"https://api.github.com/users/morvenhuang/repos","events_url":"https://api.github.com/users/morvenhuang/events{/privacy}","received_events_url":"https://api.github.com/users/morvenhuang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":459084771,"node_id":"R_kgDOG10T4w","name":"spark","full_name":"morvenhuang/spark","private":false,"owner":{"login":"morvenhuang","id":7865928,"node_id":"MDQ6VXNlcjc4NjU5Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/7865928?v=4","gravatar_id":"","url":"https://api.github.com/users/morvenhuang","html_url":"https://github.com/morvenhuang","followers_url":"https://api.github.com/users/morvenhuang/followers","following_url":"https://api.github.com/users/morvenhuang/following{/other_user}","gists_url":"https://api.github.com/users/morvenhuang/gists{/gist_id}","starred_url":"https://api.github.com/users/morvenhuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morvenhuang/subscriptions","organizations_url":"https://api.github.com/users/morvenhuang/orgs","repos_url":"https://api.github.com/users/morvenhuang/repos","events_url":"https://api.github.com/users/morvenhuang/events{/privacy}","received_events_url":"https://api.github.com/users/morvenhuang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/morvenhuang/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/morvenhuang/spark","forks_url":"https://api.github.com/repos/morvenhuang/spark/forks","keys_url":"https://api.github.com/repos/morvenhuang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/morvenhuang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/morvenhuang/spark/teams","hooks_url":"https://api.github.com/repos/morvenhuang/spark/hooks","issue_events_url":"https://api.github.com/repos/morvenhuang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/morvenhuang/spark/events","assignees_url":"https://api.github.com/repos/morvenhuang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/morvenhuang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/morvenhuang/spark/tags","blobs_url":"https://api.github.com/repos/morvenhuang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/morvenhuang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/morvenhuang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/morvenhuang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/morvenhuang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/morvenhuang/spark/languages","stargazers_url":"https://api.github.com/repos/morvenhuang/spark/stargazers","contributors_url":"https://api.github.com/repos/morvenhuang/spark/contributors","subscribers_url":"https://api.github.com/repos/morvenhuang/spark/subscribers","subscription_url":"https://api.github.com/repos/morvenhuang/spark/subscription","commits_url":"https://api.github.com/repos/morvenhuang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/morvenhuang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/morvenhuang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/morvenhuang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/morvenhuang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/morvenhuang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/morvenhuang/spark/merges","archive_url":"https://api.github.com/repos/morvenhuang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/morvenhuang/spark/downloads","issues_url":"https://api.github.com/repos/morvenhuang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/morvenhuang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/morvenhuang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/morvenhuang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/morvenhuang/spark/labels{/name}","releases_url":"https://api.github.com/repos/morvenhuang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/morvenhuang/spark/deployments","created_at":"2022-02-14T08:57:14Z","updated_at":"2025-01-06T08:39:39Z","pushed_at":"2025-01-06T08:39:22Z","git_url":"git://github.com/morvenhuang/spark.git","ssh_url":"git@github.com:morvenhuang/spark.git","clone_url":"https://github.com/morvenhuang/spark.git","svn_url":"https://github.com/morvenhuang/spark","homepage":"https://spark.apache.org/","size":460789,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"6743aaaef9fff46c009cc235dd87d0508c5e5ba8","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35956"},"html":{"href":"https://github.com/apache/spark/pull/35956"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35956"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35956/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35956/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35956/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/35e12d40eaf58b7fca19d19c1497e06541e9cd3e"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35955","id":887859109,"node_id":"PR_kwDOAQXtWs4066el","html_url":"https://github.com/apache/spark/pull/35955","diff_url":"https://github.com/apache/spark/pull/35955.diff","patch_url":"https://github.com/apache/spark/pull/35955.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35955","number":35955,"state":"closed","locked":false,"title":"[SPARK-38561][K8S][DOCS][3.3] Add doc for `Customized Kubernetes Schedulers`","user":{"login":"Yikun","id":1736354,"node_id":"MDQ6VXNlcjE3MzYzNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1736354?v=4","gravatar_id":"","url":"https://api.github.com/users/Yikun","html_url":"https://github.com/Yikun","followers_url":"https://api.github.com/users/Yikun/followers","following_url":"https://api.github.com/users/Yikun/following{/other_user}","gists_url":"https://api.github.com/users/Yikun/gists{/gist_id}","starred_url":"https://api.github.com/users/Yikun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yikun/subscriptions","organizations_url":"https://api.github.com/users/Yikun/orgs","repos_url":"https://api.github.com/users/Yikun/repos","events_url":"https://api.github.com/users/Yikun/events{/privacy}","received_events_url":"https://api.github.com/users/Yikun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis is PR to doc for basic framework capability for Customized Kubernetes Schedulers.\r\n\r\n### Why are the changes needed?\r\nGuide user how to use spark on kubernetes custom scheduler\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n### How was this patch tested?\r\nCI passed","created_at":"2022-03-24T02:21:19Z","updated_at":"2022-03-30T01:31:18Z","closed_at":"2022-03-29T18:01:22Z","merged_at":null,"merge_commit_sha":"b421386ceec69d0dc9b96f42d208af630fa71ebd","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35955/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35955/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35955/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3e0849d7845248936863102e75988a9ced5f30d2","head":{"label":"Yikun:SPARK-38561-3.3","ref":"SPARK-38561-3.3","sha":"3e0849d7845248936863102e75988a9ced5f30d2","user":{"login":"Yikun","id":1736354,"node_id":"MDQ6VXNlcjE3MzYzNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1736354?v=4","gravatar_id":"","url":"https://api.github.com/users/Yikun","html_url":"https://github.com/Yikun","followers_url":"https://api.github.com/users/Yikun/followers","following_url":"https://api.github.com/users/Yikun/following{/other_user}","gists_url":"https://api.github.com/users/Yikun/gists{/gist_id}","starred_url":"https://api.github.com/users/Yikun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yikun/subscriptions","organizations_url":"https://api.github.com/users/Yikun/orgs","repos_url":"https://api.github.com/users/Yikun/repos","events_url":"https://api.github.com/users/Yikun/events{/privacy}","received_events_url":"https://api.github.com/users/Yikun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":335541670,"node_id":"MDEwOlJlcG9zaXRvcnkzMzU1NDE2NzA=","name":"spark","full_name":"Yikun/spark","private":false,"owner":{"login":"Yikun","id":1736354,"node_id":"MDQ6VXNlcjE3MzYzNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1736354?v=4","gravatar_id":"","url":"https://api.github.com/users/Yikun","html_url":"https://github.com/Yikun","followers_url":"https://api.github.com/users/Yikun/followers","following_url":"https://api.github.com/users/Yikun/following{/other_user}","gists_url":"https://api.github.com/users/Yikun/gists{/gist_id}","starred_url":"https://api.github.com/users/Yikun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yikun/subscriptions","organizations_url":"https://api.github.com/users/Yikun/orgs","repos_url":"https://api.github.com/users/Yikun/repos","events_url":"https://api.github.com/users/Yikun/events{/privacy}","received_events_url":"https://api.github.com/users/Yikun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Yikun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/Yikun/spark","forks_url":"https://api.github.com/repos/Yikun/spark/forks","keys_url":"https://api.github.com/repos/Yikun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Yikun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Yikun/spark/teams","hooks_url":"https://api.github.com/repos/Yikun/spark/hooks","issue_events_url":"https://api.github.com/repos/Yikun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/Yikun/spark/events","assignees_url":"https://api.github.com/repos/Yikun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/Yikun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/Yikun/spark/tags","blobs_url":"https://api.github.com/repos/Yikun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Yikun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Yikun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/Yikun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Yikun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/Yikun/spark/languages","stargazers_url":"https://api.github.com/repos/Yikun/spark/stargazers","contributors_url":"https://api.github.com/repos/Yikun/spark/contributors","subscribers_url":"https://api.github.com/repos/Yikun/spark/subscribers","subscription_url":"https://api.github.com/repos/Yikun/spark/subscription","commits_url":"https://api.github.com/repos/Yikun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/Yikun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/Yikun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/Yikun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/Yikun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/Yikun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Yikun/spark/merges","archive_url":"https://api.github.com/repos/Yikun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Yikun/spark/downloads","issues_url":"https://api.github.com/repos/Yikun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/Yikun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/Yikun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/Yikun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Yikun/spark/labels{/name}","releases_url":"https://api.github.com/repos/Yikun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/Yikun/spark/deployments","created_at":"2021-02-03T07:25:58Z","updated_at":"2022-01-13T12:26:18Z","pushed_at":"2023-01-28T06:50:14Z","git_url":"git://github.com/Yikun/spark.git","ssh_url":"git@github.com:Yikun/spark.git","clone_url":"https://github.com/Yikun/spark.git","svn_url":"https://github.com/Yikun/spark","homepage":"https://spark.apache.org/","size":452564,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":1,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:branch-3.3","ref":"branch-3.3","sha":"d978255f30f1b91e99313824bdbce146186cb6e0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35955"},"html":{"href":"https://github.com/apache/spark/pull/35955"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35955"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35955/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35955/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35955/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3e0849d7845248936863102e75988a9ced5f30d2"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35954","id":887664179,"node_id":"PR_kwDOAQXtWs406K4z","html_url":"https://github.com/apache/spark/pull/35954","diff_url":"https://github.com/apache/spark/pull/35954.diff","patch_url":"https://github.com/apache/spark/pull/35954.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35954","number":35954,"state":"closed","locked":false,"title":"[WIP][SPARK-38639] Support ignoreCorruptRecord flag to ensure querying broken sequence file table smoothly","user":{"login":"TonyDoen","id":7348090,"node_id":"MDQ6VXNlcjczNDgwOTA=","avatar_url":"https://avatars.githubusercontent.com/u/7348090?v=4","gravatar_id":"","url":"https://api.github.com/users/TonyDoen","html_url":"https://github.com/TonyDoen","followers_url":"https://api.github.com/users/TonyDoen/followers","following_url":"https://api.github.com/users/TonyDoen/following{/other_user}","gists_url":"https://api.github.com/users/TonyDoen/gists{/gist_id}","starred_url":"https://api.github.com/users/TonyDoen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TonyDoen/subscriptions","organizations_url":"https://api.github.com/users/TonyDoen/orgs","repos_url":"https://api.github.com/users/TonyDoen/repos","events_url":"https://api.github.com/users/TonyDoen/events{/privacy}","received_events_url":"https://api.github.com/users/TonyDoen/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\n### What changes were proposed in this pull request?\r\nThis PR adds a \"spark.sql.hive.ignoreCorruptRecord\"  to fill out the functionality that users can query successfully in dirty data(mixed schema in one table).\r\n\r\n\r\n### Why are the changes needed?\r\nThere's an existing flag \"spark.sql.files.ignoreCorruptFiles\" and \"spark.sql.files.ignoreMissingFiles\" that will quietly ignore attempted reads from files that have been corrupted, but it still allows the query to fail on sequence files.\r\n\r\nBeing able to ignore corrupt record is useful in the scenarios that users want to query successfully in dirty data(mixed schema in one table).\r\n\r\nWe would like to add a \"spark.sql.hive.ignoreCorruptRecord\"  to fill out the functionality.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, add new config: \"spark.sql.hive.ignoreCorruptRecord\"\r\n\r\n\r\n### How was this patch tested?\r\nManually tested in local\r\n","created_at":"2022-03-23T20:32:32Z","updated_at":"2022-03-24T10:01:21Z","closed_at":"2022-03-24T10:01:21Z","merged_at":null,"merge_commit_sha":"710c154f1d8dbec1ce9842503806bf7e61249829","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35954/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35954/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35954/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/989b0af62359ab62d68ab81fab279a86f76afbf0","head":{"label":"TonyDoen:SPARK-38639","ref":"SPARK-38639","sha":"989b0af62359ab62d68ab81fab279a86f76afbf0","user":{"login":"TonyDoen","id":7348090,"node_id":"MDQ6VXNlcjczNDgwOTA=","avatar_url":"https://avatars.githubusercontent.com/u/7348090?v=4","gravatar_id":"","url":"https://api.github.com/users/TonyDoen","html_url":"https://github.com/TonyDoen","followers_url":"https://api.github.com/users/TonyDoen/followers","following_url":"https://api.github.com/users/TonyDoen/following{/other_user}","gists_url":"https://api.github.com/users/TonyDoen/gists{/gist_id}","starred_url":"https://api.github.com/users/TonyDoen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TonyDoen/subscriptions","organizations_url":"https://api.github.com/users/TonyDoen/orgs","repos_url":"https://api.github.com/users/TonyDoen/repos","events_url":"https://api.github.com/users/TonyDoen/events{/privacy}","received_events_url":"https://api.github.com/users/TonyDoen/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"8eb8a42545276b65b8a4358c92fa6f44f870e5b0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35954"},"html":{"href":"https://github.com/apache/spark/pull/35954"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35954"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35954/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35954/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35954/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/989b0af62359ab62d68ab81fab279a86f76afbf0"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35953","id":887387835,"node_id":"PR_kwDOAQXtWs405Ha7","html_url":"https://github.com/apache/spark/pull/35953","diff_url":"https://github.com/apache/spark/pull/35953.diff","patch_url":"https://github.com/apache/spark/pull/35953.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35953","number":35953,"state":"closed","locked":false,"title":"[SPARK-32268][TESTS][FOLLOWUP] Fix `BloomFilterAggregateQuerySuite` failed in ansi mode","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n`Test that might_contain errors out non-constant Bloom filter` in `BloomFilterAggregateQuerySuite ` failed in ansi mode due to `Numeric <=> Binary` is [not allowed in ansi mode](https://github.com/apache/spark/pull/30260),  so the content of  `exception.getMessage` is different from that of non-ans mode.\r\n\r\nThis pr change the case to ensure that the error messages of `ansi` mode and `non-ansi` are consistent.\r\n\r\n\r\n### Why are the changes needed?\r\nBug fix.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\n\r\n- Pass GA\r\n- Local Test\r\n\r\n**Before**\r\n\r\n```\r\nexport SPARK_ANSI_SQL_MODE=false\r\nmvn clean test -pl sql/core -am -Dtest=none -DwildcardSuites=org.apache.spark.sql.BloomFilterAggregateQuerySuite\r\n```\r\n\r\n```\r\nRun completed in 23 seconds, 537 milliseconds.\r\nTotal number of tests run: 8\r\nSuites: completed 2, aborted 0\r\nTests: succeeded 8, failed 0, canceled 0, ignored 0, pending 0\r\nAll tests passed.\r\n```\r\n\r\n```\r\nexport SPARK_ANSI_SQL_MODE=true\r\nmvn clean test -pl sql/core -am -Dtest=none -DwildcardSuites=org.apache.spark.sql.BloomFilterAggregateQuerySuite\r\n```\r\n\r\n```\r\n- Test that might_contain errors out non-constant Bloom filter *** FAILED ***\r\n  \"cannot resolve 'CAST(t.a AS BINARY)' due to data type mismatch: \r\n   cannot cast bigint to binary with ANSI mode on.\r\n   If you have to cast bigint to binary, you can set spark.sql.ansi.enabled as false.\r\n  ; line 2 pos 21;\r\n  'Project [unresolvedalias('might_contain(cast(a#2424L as binary), cast(5 as bigint)), None)]\r\n  +- SubqueryAlias t\r\n     +- LocalRelation [a#2424L]\r\n  \" did not contain \"The Bloom filter binary input to might_contain should be either a constant value or a scalar subquery expression\" (BloomFilterAggregateQuerySuite.scala:171)\r\n```\r\n\r\n\r\n\r\n**After**\r\n```\r\nexport SPARK_ANSI_SQL_MODE=false\r\nmvn clean test -pl sql/core -am -Dtest=none -DwildcardSuites=org.apache.spark.sql.BloomFilterAggregateQuerySuite\r\n```\r\n\r\n```\r\nRun completed in 26 seconds, 544 milliseconds.\r\nTotal number of tests run: 8\r\nSuites: completed 2, aborted 0\r\nTests: succeeded 8, failed 0, canceled 0, ignored 0, pending 0\r\nAll tests passed.\r\n\r\n```\r\n\r\n```\r\nexport SPARK_ANSI_SQL_MODE=true\r\nmvn clean test -pl sql/core -am -Dtest=none -DwildcardSuites=org.apache.spark.sql.BloomFilterAggregateQuerySuite\r\n```\r\n\r\n```\r\nRun completed in 25 seconds, 289 milliseconds.\r\nTotal number of tests run: 8\r\nSuites: completed 2, aborted 0\r\nTests: succeeded 8, failed 0, canceled 0, ignored 0, pending 0\r\nAll tests passed.\r\n```","created_at":"2022-03-23T15:51:47Z","updated_at":"2022-03-23T23:24:24Z","closed_at":"2022-03-23T23:18:56Z","merged_at":null,"merge_commit_sha":"1d805cfe0ff1af9e0deb166bdeb3670c9bcf2182","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35953/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35953/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35953/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b61e246cdd91886d4fe122a621950edc4111f860","head":{"label":"LuciferYang:SPARK-32268-FOLLOWUP","ref":"SPARK-32268-FOLLOWUP","sha":"b61e246cdd91886d4fe122a621950edc4111f860","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"2eae3dbdab0dbdea09928ab0252f0dfa13a94259","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35953"},"html":{"href":"https://github.com/apache/spark/pull/35953"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35953"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35953/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35953/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35953/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b61e246cdd91886d4fe122a621950edc4111f860"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35952","id":887142303,"node_id":"PR_kwDOAQXtWs404Lef","html_url":"https://github.com/apache/spark/pull/35952","diff_url":"https://github.com/apache/spark/pull/35952.diff","patch_url":"https://github.com/apache/spark/pull/35952.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35952","number":35952,"state":"closed","locked":false,"title":"[SPARK-38635][YARN] Remove duplicate log","user":{"login":"wangshengjie123","id":45991044,"node_id":"MDQ6VXNlcjQ1OTkxMDQ0","avatar_url":"https://avatars.githubusercontent.com/u/45991044?v=4","gravatar_id":"","url":"https://api.github.com/users/wangshengjie123","html_url":"https://github.com/wangshengjie123","followers_url":"https://api.github.com/users/wangshengjie123/followers","following_url":"https://api.github.com/users/wangshengjie123/following{/other_user}","gists_url":"https://api.github.com/users/wangshengjie123/gists{/gist_id}","starred_url":"https://api.github.com/users/wangshengjie123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangshengjie123/subscriptions","organizations_url":"https://api.github.com/users/wangshengjie123/orgs","repos_url":"https://api.github.com/users/wangshengjie123/repos","events_url":"https://api.github.com/users/wangshengjie123/events{/privacy}","received_events_url":"https://api.github.com/users/wangshengjie123/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nRemove duplicate caues log when spark on yarn failed.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nExisting UT","created_at":"2022-03-23T12:15:22Z","updated_at":"2022-08-15T11:45:51Z","closed_at":"2022-03-23T14:04:43Z","merged_at":null,"merge_commit_sha":"4ccf48d185bdef651bbacfbd4c9929146c4070e5","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1427970157,"node_id":"MDU6TGFiZWwxNDI3OTcwMTU3","url":"https://api.github.com/repos/apache/spark/labels/YARN","name":"YARN","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35952/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35952/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35952/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/91ea4bca8b08a352da6755ab9687a65c09011646","head":{"label":"wangshengjie123:remove_unused_log","ref":"remove_unused_log","sha":"91ea4bca8b08a352da6755ab9687a65c09011646","user":{"login":"wangshengjie123","id":45991044,"node_id":"MDQ6VXNlcjQ1OTkxMDQ0","avatar_url":"https://avatars.githubusercontent.com/u/45991044?v=4","gravatar_id":"","url":"https://api.github.com/users/wangshengjie123","html_url":"https://github.com/wangshengjie123","followers_url":"https://api.github.com/users/wangshengjie123/followers","following_url":"https://api.github.com/users/wangshengjie123/following{/other_user}","gists_url":"https://api.github.com/users/wangshengjie123/gists{/gist_id}","starred_url":"https://api.github.com/users/wangshengjie123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangshengjie123/subscriptions","organizations_url":"https://api.github.com/users/wangshengjie123/orgs","repos_url":"https://api.github.com/users/wangshengjie123/repos","events_url":"https://api.github.com/users/wangshengjie123/events{/privacy}","received_events_url":"https://api.github.com/users/wangshengjie123/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":432117227,"node_id":"R_kgDOGcGV6w","name":"spark","full_name":"wangshengjie123/spark","private":false,"owner":{"login":"wangshengjie123","id":45991044,"node_id":"MDQ6VXNlcjQ1OTkxMDQ0","avatar_url":"https://avatars.githubusercontent.com/u/45991044?v=4","gravatar_id":"","url":"https://api.github.com/users/wangshengjie123","html_url":"https://github.com/wangshengjie123","followers_url":"https://api.github.com/users/wangshengjie123/followers","following_url":"https://api.github.com/users/wangshengjie123/following{/other_user}","gists_url":"https://api.github.com/users/wangshengjie123/gists{/gist_id}","starred_url":"https://api.github.com/users/wangshengjie123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangshengjie123/subscriptions","organizations_url":"https://api.github.com/users/wangshengjie123/orgs","repos_url":"https://api.github.com/users/wangshengjie123/repos","events_url":"https://api.github.com/users/wangshengjie123/events{/privacy}","received_events_url":"https://api.github.com/users/wangshengjie123/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/wangshengjie123/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/wangshengjie123/spark","forks_url":"https://api.github.com/repos/wangshengjie123/spark/forks","keys_url":"https://api.github.com/repos/wangshengjie123/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/wangshengjie123/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/wangshengjie123/spark/teams","hooks_url":"https://api.github.com/repos/wangshengjie123/spark/hooks","issue_events_url":"https://api.github.com/repos/wangshengjie123/spark/issues/events{/number}","events_url":"https://api.github.com/repos/wangshengjie123/spark/events","assignees_url":"https://api.github.com/repos/wangshengjie123/spark/assignees{/user}","branches_url":"https://api.github.com/repos/wangshengjie123/spark/branches{/branch}","tags_url":"https://api.github.com/repos/wangshengjie123/spark/tags","blobs_url":"https://api.github.com/repos/wangshengjie123/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/wangshengjie123/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/wangshengjie123/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/wangshengjie123/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/wangshengjie123/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/wangshengjie123/spark/languages","stargazers_url":"https://api.github.com/repos/wangshengjie123/spark/stargazers","contributors_url":"https://api.github.com/repos/wangshengjie123/spark/contributors","subscribers_url":"https://api.github.com/repos/wangshengjie123/spark/subscribers","subscription_url":"https://api.github.com/repos/wangshengjie123/spark/subscription","commits_url":"https://api.github.com/repos/wangshengjie123/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/wangshengjie123/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/wangshengjie123/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/wangshengjie123/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/wangshengjie123/spark/contents/{+path}","compare_url":"https://api.github.com/repos/wangshengjie123/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/wangshengjie123/spark/merges","archive_url":"https://api.github.com/repos/wangshengjie123/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/wangshengjie123/spark/downloads","issues_url":"https://api.github.com/repos/wangshengjie123/spark/issues{/number}","pulls_url":"https://api.github.com/repos/wangshengjie123/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/wangshengjie123/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/wangshengjie123/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/wangshengjie123/spark/labels{/name}","releases_url":"https://api.github.com/repos/wangshengjie123/spark/releases{/id}","deployments_url":"https://api.github.com/repos/wangshengjie123/spark/deployments","created_at":"2021-11-26T09:10:55Z","updated_at":"2022-04-02T10:56:12Z","pushed_at":"2023-03-13T08:29:09Z","git_url":"git://github.com/wangshengjie123/spark.git","ssh_url":"git@github.com:wangshengjie123/spark.git","clone_url":"https://github.com/wangshengjie123/spark.git","svn_url":"https://github.com/wangshengjie123/spark","homepage":"https://spark.apache.org/","size":455795,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"861e8b4a8ba784da1a69bd6522a0a7fdac5d1091","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35952"},"html":{"href":"https://github.com/apache/spark/pull/35952"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35952"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35952/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35952/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35952/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/91ea4bca8b08a352da6755ab9687a65c09011646"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35951","id":887140028,"node_id":"PR_kwDOAQXtWs404K68","html_url":"https://github.com/apache/spark/pull/35951","diff_url":"https://github.com/apache/spark/pull/35951.diff","patch_url":"https://github.com/apache/spark/pull/35951.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35951","number":35951,"state":"closed","locked":false,"title":"[SPARK-37568][SQL] Support 2-arguments by the convert_timezone() function","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nAdd new constructor to the `ConvertTimezone` expression (see https://github.com/apache/spark/pull/34817) which accepts only 2 arguments:\r\n1. `<targetTz>` - the time zone to which the input timestamp should be converted.\r\n2. `<sourceTs>` - the timestamp to convert.\r\n\r\nand sets `<sourceTz>` to the current session time zone (see the SQL config `spark.sql.session.timeZone`).\r\n\r\nCloses #34896\r\n \r\n### Why are the changes needed?\r\nTo help users in migrations from other systems to Spark SQL. Other systems support optional first parameter:\r\n- https://docs.aws.amazon.com/redshift/latest/dg/CONVERT_TIMEZONE.html\r\n- https://docs.snowflake.com/en/sql-reference/functions/convert_timezone.html\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo, it extends the existing signature, and the function hasn't been released yet.\r\n\r\n### How was this patch tested?\r\nBy running new tests:\r\n```\r\n$ build/sbt \"sql/test:testOnly org.apache.spark.sql.expressions.ExpressionInfoSuite\" \r\n$ build/sbt \"sql/testOnly org.apache.spark.sql.SQLQueryTestSuite -- -z timestamp-ltz.sql\"\r\n$ build/sbt \"sql/testOnly org.apache.spark.sql.SQLQueryTestSuite -- -z timestamp-ntz.sql\"\r\n```","created_at":"2022-03-23T12:12:55Z","updated_at":"2022-03-24T07:57:05Z","closed_at":"2022-03-24T07:57:05Z","merged_at":null,"merge_commit_sha":"0ba50e4b086cd8cf94172a3f3a21c2eb1bfcd7fc","assignee":null,"assignees":[],"requested_reviewers":[{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35951/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35951/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35951/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b604633f2be0556d42ef6d2f2a2123adbfdcae57","head":{"label":"MaxGekk:convert_timezone-2-params","ref":"convert_timezone-2-params","sha":"b604633f2be0556d42ef6d2f2a2123adbfdcae57","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":123690489,"node_id":"MDEwOlJlcG9zaXRvcnkxMjM2OTA0ODk=","name":"spark","full_name":"MaxGekk/spark","private":false,"owner":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/MaxGekk/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/MaxGekk/spark","forks_url":"https://api.github.com/repos/MaxGekk/spark/forks","keys_url":"https://api.github.com/repos/MaxGekk/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/MaxGekk/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/MaxGekk/spark/teams","hooks_url":"https://api.github.com/repos/MaxGekk/spark/hooks","issue_events_url":"https://api.github.com/repos/MaxGekk/spark/issues/events{/number}","events_url":"https://api.github.com/repos/MaxGekk/spark/events","assignees_url":"https://api.github.com/repos/MaxGekk/spark/assignees{/user}","branches_url":"https://api.github.com/repos/MaxGekk/spark/branches{/branch}","tags_url":"https://api.github.com/repos/MaxGekk/spark/tags","blobs_url":"https://api.github.com/repos/MaxGekk/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/MaxGekk/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/MaxGekk/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/MaxGekk/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/MaxGekk/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/MaxGekk/spark/languages","stargazers_url":"https://api.github.com/repos/MaxGekk/spark/stargazers","contributors_url":"https://api.github.com/repos/MaxGekk/spark/contributors","subscribers_url":"https://api.github.com/repos/MaxGekk/spark/subscribers","subscription_url":"https://api.github.com/repos/MaxGekk/spark/subscription","commits_url":"https://api.github.com/repos/MaxGekk/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/MaxGekk/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/MaxGekk/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/MaxGekk/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/MaxGekk/spark/contents/{+path}","compare_url":"https://api.github.com/repos/MaxGekk/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/MaxGekk/spark/merges","archive_url":"https://api.github.com/repos/MaxGekk/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/MaxGekk/spark/downloads","issues_url":"https://api.github.com/repos/MaxGekk/spark/issues{/number}","pulls_url":"https://api.github.com/repos/MaxGekk/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/MaxGekk/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/MaxGekk/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/MaxGekk/spark/labels{/name}","releases_url":"https://api.github.com/repos/MaxGekk/spark/releases{/id}","deployments_url":"https://api.github.com/repos/MaxGekk/spark/deployments","created_at":"2018-03-03T12:37:00Z","updated_at":"2025-02-07T09:44:52Z","pushed_at":"2025-02-07T09:44:24Z","git_url":"git://github.com/MaxGekk/spark.git","ssh_url":"git@github.com:MaxGekk/spark.git","clone_url":"https://github.com/MaxGekk/spark.git","svn_url":"https://github.com/MaxGekk/spark","homepage":null,"size":486456,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"861e8b4a8ba784da1a69bd6522a0a7fdac5d1091","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35951"},"html":{"href":"https://github.com/apache/spark/pull/35951"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35951"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35951/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35951/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35951/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b604633f2be0556d42ef6d2f2a2123adbfdcae57"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35950","id":887100683,"node_id":"PR_kwDOAQXtWs404BUL","html_url":"https://github.com/apache/spark/pull/35950","diff_url":"https://github.com/apache/spark/pull/35950.diff","patch_url":"https://github.com/apache/spark/pull/35950.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35950","number":35950,"state":"closed","locked":false,"title":"[SPARK-38713][SQL] Change spark.sessionstate.conf.getConf/setConf operation to spark.conf.get/set","user":{"login":"jackylee-ch","id":10897625,"node_id":"MDQ6VXNlcjEwODk3NjI1","avatar_url":"https://avatars.githubusercontent.com/u/10897625?v=4","gravatar_id":"","url":"https://api.github.com/users/jackylee-ch","html_url":"https://github.com/jackylee-ch","followers_url":"https://api.github.com/users/jackylee-ch/followers","following_url":"https://api.github.com/users/jackylee-ch/following{/other_user}","gists_url":"https://api.github.com/users/jackylee-ch/gists{/gist_id}","starred_url":"https://api.github.com/users/jackylee-ch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackylee-ch/subscriptions","organizations_url":"https://api.github.com/users/jackylee-ch/orgs","repos_url":"https://api.github.com/users/jackylee-ch/repos","events_url":"https://api.github.com/users/jackylee-ch/events{/privacy}","received_events_url":"https://api.github.com/users/jackylee-ch/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### Why are the changes needed?\r\nIn the sql module, we provide `SparkSession.conf` as a unified entry for `SQLConf.set/get`, which can prevent users or logic from modifying StaticSQLConf and Spark configs. However, I found `SparkSession.sessionstate.conf` is used in some code to getConf or setConf, which can skip the check of `RuntimeConfig`.\r\nIn this PR, we want to unify the behavior of `SQLConf.getConf/setConf` to `SparkSession.conf`.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n### How was this patch tested?\r\nOrigin GA","created_at":"2022-03-23T11:31:22Z","updated_at":"2022-03-31T11:13:06Z","closed_at":"2022-03-31T10:50:40Z","merged_at":null,"merge_commit_sha":"27fc12f2cea1f548f6d53239dd9afcd2a62732af","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35950/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35950/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35950/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/994b66b6e04f56143ee49f5addee426abd585524","head":{"label":"jackylee-ch:change_spark_sessionstate_conf_operation_to_spark_conf","ref":"change_spark_sessionstate_conf_operation_to_spark_conf","sha":"994b66b6e04f56143ee49f5addee426abd585524","user":{"login":"jackylee-ch","id":10897625,"node_id":"MDQ6VXNlcjEwODk3NjI1","avatar_url":"https://avatars.githubusercontent.com/u/10897625?v=4","gravatar_id":"","url":"https://api.github.com/users/jackylee-ch","html_url":"https://github.com/jackylee-ch","followers_url":"https://api.github.com/users/jackylee-ch/followers","following_url":"https://api.github.com/users/jackylee-ch/following{/other_user}","gists_url":"https://api.github.com/users/jackylee-ch/gists{/gist_id}","starred_url":"https://api.github.com/users/jackylee-ch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackylee-ch/subscriptions","organizations_url":"https://api.github.com/users/jackylee-ch/orgs","repos_url":"https://api.github.com/users/jackylee-ch/repos","events_url":"https://api.github.com/users/jackylee-ch/events{/privacy}","received_events_url":"https://api.github.com/users/jackylee-ch/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":150664479,"node_id":"MDEwOlJlcG9zaXRvcnkxNTA2NjQ0Nzk=","name":"spark","full_name":"jackylee-ch/spark","private":false,"owner":{"login":"jackylee-ch","id":10897625,"node_id":"MDQ6VXNlcjEwODk3NjI1","avatar_url":"https://avatars.githubusercontent.com/u/10897625?v=4","gravatar_id":"","url":"https://api.github.com/users/jackylee-ch","html_url":"https://github.com/jackylee-ch","followers_url":"https://api.github.com/users/jackylee-ch/followers","following_url":"https://api.github.com/users/jackylee-ch/following{/other_user}","gists_url":"https://api.github.com/users/jackylee-ch/gists{/gist_id}","starred_url":"https://api.github.com/users/jackylee-ch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackylee-ch/subscriptions","organizations_url":"https://api.github.com/users/jackylee-ch/orgs","repos_url":"https://api.github.com/users/jackylee-ch/repos","events_url":"https://api.github.com/users/jackylee-ch/events{/privacy}","received_events_url":"https://api.github.com/users/jackylee-ch/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/jackylee-ch/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/jackylee-ch/spark","forks_url":"https://api.github.com/repos/jackylee-ch/spark/forks","keys_url":"https://api.github.com/repos/jackylee-ch/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/jackylee-ch/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/jackylee-ch/spark/teams","hooks_url":"https://api.github.com/repos/jackylee-ch/spark/hooks","issue_events_url":"https://api.github.com/repos/jackylee-ch/spark/issues/events{/number}","events_url":"https://api.github.com/repos/jackylee-ch/spark/events","assignees_url":"https://api.github.com/repos/jackylee-ch/spark/assignees{/user}","branches_url":"https://api.github.com/repos/jackylee-ch/spark/branches{/branch}","tags_url":"https://api.github.com/repos/jackylee-ch/spark/tags","blobs_url":"https://api.github.com/repos/jackylee-ch/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/jackylee-ch/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/jackylee-ch/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/jackylee-ch/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/jackylee-ch/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/jackylee-ch/spark/languages","stargazers_url":"https://api.github.com/repos/jackylee-ch/spark/stargazers","contributors_url":"https://api.github.com/repos/jackylee-ch/spark/contributors","subscribers_url":"https://api.github.com/repos/jackylee-ch/spark/subscribers","subscription_url":"https://api.github.com/repos/jackylee-ch/spark/subscription","commits_url":"https://api.github.com/repos/jackylee-ch/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/jackylee-ch/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/jackylee-ch/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/jackylee-ch/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/jackylee-ch/spark/contents/{+path}","compare_url":"https://api.github.com/repos/jackylee-ch/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/jackylee-ch/spark/merges","archive_url":"https://api.github.com/repos/jackylee-ch/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/jackylee-ch/spark/downloads","issues_url":"https://api.github.com/repos/jackylee-ch/spark/issues{/number}","pulls_url":"https://api.github.com/repos/jackylee-ch/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/jackylee-ch/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/jackylee-ch/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/jackylee-ch/spark/labels{/name}","releases_url":"https://api.github.com/repos/jackylee-ch/spark/releases{/id}","deployments_url":"https://api.github.com/repos/jackylee-ch/spark/deployments","created_at":"2018-09-28T00:44:20Z","updated_at":"2025-02-06T09:34:29Z","pushed_at":"2025-02-06T09:33:13Z","git_url":"git://github.com/jackylee-ch/spark.git","ssh_url":"git@github.com:jackylee-ch/spark.git","clone_url":"https://github.com/jackylee-ch/spark.git","svn_url":"https://github.com/jackylee-ch/spark","homepage":null,"size":458481,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"3ffe4ef9eb07f983a7d5d092fe65fdb302b7603a","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35950"},"html":{"href":"https://github.com/apache/spark/pull/35950"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35950"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35950/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35950/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35950/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/994b66b6e04f56143ee49f5addee426abd585524"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35949","id":886968127,"node_id":"PR_kwDOAQXtWs403g8_","html_url":"https://github.com/apache/spark/pull/35949","diff_url":"https://github.com/apache/spark/pull/35949.diff","patch_url":"https://github.com/apache/spark/pull/35949.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35949","number":35949,"state":"closed","locked":false,"title":"[DONT MERGE] Enabled `ImportOrder` check of Java code","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis pr enabled ImportOrder check of Java code\r\n\r\n\r\n### Why are the changes needed?\r\n\r\n\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nPass GA","created_at":"2022-03-23T09:20:08Z","updated_at":"2022-03-25T07:48:45Z","closed_at":"2022-03-25T07:48:45Z","merged_at":null,"merge_commit_sha":"5a900cc072ceba59f4c7a3d0984d1e51f77f29a3","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1405803268,"node_id":"MDU6TGFiZWwxNDA1ODAzMjY4","url":"https://api.github.com/repos/apache/spark/labels/MLLIB","name":"MLLIB","color":"ededed","default":false,"description":null},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1406625202,"node_id":"MDU6TGFiZWwxNDA2NjI1MjAy","url":"https://api.github.com/repos/apache/spark/labels/MESOS","name":"MESOS","color":"ededed","default":false,"description":null},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null},{"id":1427970157,"node_id":"MDU6TGFiZWwxNDI3OTcwMTU3","url":"https://api.github.com/repos/apache/spark/labels/YARN","name":"YARN","color":"ededed","default":false,"description":null},{"id":1496047285,"node_id":"MDU6TGFiZWwxNDk2MDQ3Mjg1","url":"https://api.github.com/repos/apache/spark/labels/EXAMPLES","name":"EXAMPLES","color":"ededed","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1984378631,"node_id":"MDU6TGFiZWwxOTg0Mzc4NjMx","url":"https://api.github.com/repos/apache/spark/labels/DSTREAM","name":"DSTREAM","color":"ededed","default":false,"description":null},{"id":1988040187,"node_id":"MDU6TGFiZWwxOTg4MDQwMTg3","url":"https://api.github.com/repos/apache/spark/labels/AVRO","name":"AVRO","color":"ededed","default":false,"description":null}],"milestone":null,"draft":true,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35949/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35949/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35949/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/20a139842d7778acfc0841ef4a5c6c446adaf038","head":{"label":"LuciferYang:java-import-order","ref":"java-import-order","sha":"20a139842d7778acfc0841ef4a5c6c446adaf038","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"4817b0189a1d3f37db784e62b1d8c6e3aef6921d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35949"},"html":{"href":"https://github.com/apache/spark/pull/35949"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35949"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35949/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35949/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35949/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/20a139842d7778acfc0841ef4a5c6c446adaf038"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35948","id":886878059,"node_id":"PR_kwDOAQXtWs403K9r","html_url":"https://github.com/apache/spark/pull/35948","diff_url":"https://github.com/apache/spark/pull/35948.diff","patch_url":"https://github.com/apache/spark/pull/35948.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35948","number":35948,"state":"closed","locked":false,"title":"[SPARK-38634][SQL] Support download data through thrift server","user":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\n1. Upgrade hive-service-rpc to 4.0.0-alpha-1.\r\n2. Add a new operation to support download large data through thrift server.\r\n\r\n### Why are the changes needed?\r\n\r\nIt is very useful to support downloading large amounts of data (such as more than 50GB) through JDBC.\r\n\r\nSnowflake has similar support :\r\nhttps://docs.snowflake.com/en/user-guide/jdbc-using.html#label-jdbc-download-from-stage-to-stream\r\nhttps://github.com/snowflakedb/snowflake-jdbc/blob/v3.13.11/src/main/java/net/snowflake/client/jdbc/SnowflakeConnectionV1.java#L914\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nUnit test and local test:\r\n```\r\nyumwang@LM-SHC-16508156 target % java -cp data-api-1.0.jar org.apache.spark.sql.DownloadAPI -u \"jdbc:hive2://127.0.0.1:10000/default\" -n your_name -p your_password   -q \"select  id, now() n  from  range(1000000000L) distribute by id\" -f csv -d /tmp/spark/download\r\n2022-03-23 15:36:23,752 [main] INFO  [org.apache.hive.jdbc.Utils] - Supplied authorities: 127.0.0.1:10000\r\n2022-03-23 15:36:23,753 [main] INFO  [org.apache.hive.jdbc.Utils] - Resolved authority: 127.0.0.1:10000\r\n2022-03-23 15:36:23,873 [main] INFO  [org.apache.hive.jdbc.HiveConnection] - Will try to open client transport with JDBC Uri: jdbc:hive2://127.0.0.1:10000/default\r\n2022-03-23 15:36:24,676 [main] INFO  [org.apache.hive.jdbc.HiveConnection] - Generating download files for [select  id, now() n  from  range(1000000000L) distribute by id].\r\n2022-03-23 15:40:01,137 [main] INFO  [org.apache.hive.jdbc.HiveConnection] - Download 3697356589 bytes data from thrift server.\r\nyumwang@LM-SHC-16508156 target % ll /tmp/spark/download\r\ntotal 7221800\r\n-rw-r--r--  1 yumwang  wheel  36970889 Mar 23 15:40 part-00000-fd207dbd-e37a-402e-a04d-36514c819bb0-c000.csv.gz\r\n-rw-r--r--  1 yumwang  wheel  36962289 Mar 23 15:40 part-00001-fd207dbd-e37a-402e-a04d-36514c819bb0-c000.csv.gz\r\n-rw-r--r--  1 yumwang  wheel  36982048 Mar 23 15:40 part-00002-fd207dbd-e37a-402e-a04d-36514c819bb0-c000.csv.gz\r\n-rw-r--r--  1 yumwang  wheel  36969232 Mar 23 15:40 part-00003-fd207dbd-e37a-402e-a04d-36514c819bb0-c000.csv.gz\r\n-rw-r--r--  1 yumwang  wheel  36983938 Mar 23 15:40 part-00004-fd207dbd-e37a-402e-a04d-36514c819bb0-c000.csv.gz\r\n...\r\n```\r\n","created_at":"2022-03-23T07:39:52Z","updated_at":"2022-08-07T00:25:14Z","closed_at":"2022-08-07T00:25:14Z","merged_at":null,"merge_commit_sha":"143eb5f884af8572007079f8de1c916c69ec866e","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35948/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35948/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35948/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b4cf4dfd4d4049a905569acff8431ff2647cf683","head":{"label":"wangyum:hive-service-rpc/4.0.0","ref":"hive-service-rpc/4.0.0","sha":"b4cf4dfd4d4049a905569acff8431ff2647cf683","user":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":467759455,"node_id":"R_kgDOG-FxXw","name":"spark","full_name":"wangyum/spark","private":false,"owner":{"login":"wangyum","id":5399861,"node_id":"MDQ6VXNlcjUzOTk4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5399861?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyum","html_url":"https://github.com/wangyum","followers_url":"https://api.github.com/users/wangyum/followers","following_url":"https://api.github.com/users/wangyum/following{/other_user}","gists_url":"https://api.github.com/users/wangyum/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyum/subscriptions","organizations_url":"https://api.github.com/users/wangyum/orgs","repos_url":"https://api.github.com/users/wangyum/repos","events_url":"https://api.github.com/users/wangyum/events{/privacy}","received_events_url":"https://api.github.com/users/wangyum/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/wangyum/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/wangyum/spark","forks_url":"https://api.github.com/repos/wangyum/spark/forks","keys_url":"https://api.github.com/repos/wangyum/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/wangyum/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/wangyum/spark/teams","hooks_url":"https://api.github.com/repos/wangyum/spark/hooks","issue_events_url":"https://api.github.com/repos/wangyum/spark/issues/events{/number}","events_url":"https://api.github.com/repos/wangyum/spark/events","assignees_url":"https://api.github.com/repos/wangyum/spark/assignees{/user}","branches_url":"https://api.github.com/repos/wangyum/spark/branches{/branch}","tags_url":"https://api.github.com/repos/wangyum/spark/tags","blobs_url":"https://api.github.com/repos/wangyum/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/wangyum/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/wangyum/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/wangyum/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/wangyum/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/wangyum/spark/languages","stargazers_url":"https://api.github.com/repos/wangyum/spark/stargazers","contributors_url":"https://api.github.com/repos/wangyum/spark/contributors","subscribers_url":"https://api.github.com/repos/wangyum/spark/subscribers","subscription_url":"https://api.github.com/repos/wangyum/spark/subscription","commits_url":"https://api.github.com/repos/wangyum/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/wangyum/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/wangyum/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/wangyum/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/wangyum/spark/contents/{+path}","compare_url":"https://api.github.com/repos/wangyum/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/wangyum/spark/merges","archive_url":"https://api.github.com/repos/wangyum/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/wangyum/spark/downloads","issues_url":"https://api.github.com/repos/wangyum/spark/issues{/number}","pulls_url":"https://api.github.com/repos/wangyum/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/wangyum/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/wangyum/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/wangyum/spark/labels{/name}","releases_url":"https://api.github.com/repos/wangyum/spark/releases{/id}","deployments_url":"https://api.github.com/repos/wangyum/spark/deployments","created_at":"2022-03-09T03:11:29Z","updated_at":"2025-02-09T07:30:39Z","pushed_at":"2025-02-09T07:30:08Z","git_url":"git://github.com/wangyum/spark.git","ssh_url":"git@github.com:wangyum/spark.git","clone_url":"https://github.com/wangyum/spark.git","svn_url":"https://github.com/wangyum/spark","homepage":"https://spark.apache.org/","size":487127,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":8,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":8,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"f1286f324c032f9a875167fdbb265b4d495752c9","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35948"},"html":{"href":"https://github.com/apache/spark/pull/35948"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35948"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35948/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35948/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35948/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b4cf4dfd4d4049a905569acff8431ff2647cf683"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null}]