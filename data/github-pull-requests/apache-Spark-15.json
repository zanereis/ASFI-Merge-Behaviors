[{"url":"https://api.github.com/repos/apache/spark/pulls/48456","id":2122818403,"node_id":"PR_kwDOAQXtWs5-h6Nj","html_url":"https://github.com/apache/spark/pull/48456","diff_url":"https://github.com/apache/spark/pull/48456.diff","patch_url":"https://github.com/apache/spark/pull/48456.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48456","number":48456,"state":"closed","locked":false,"title":"[SPARK-49956] Disabled collations with collect_set expression","user":{"login":"vladanvasi-db","id":177719017,"node_id":"U_kgDOCpfG6Q","avatar_url":"https://avatars.githubusercontent.com/u/177719017?v=4","gravatar_id":"","url":"https://api.github.com/users/vladanvasi-db","html_url":"https://github.com/vladanvasi-db","followers_url":"https://api.github.com/users/vladanvasi-db/followers","following_url":"https://api.github.com/users/vladanvasi-db/following{/other_user}","gists_url":"https://api.github.com/users/vladanvasi-db/gists{/gist_id}","starred_url":"https://api.github.com/users/vladanvasi-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vladanvasi-db/subscriptions","organizations_url":"https://api.github.com/users/vladanvasi-db/orgs","repos_url":"https://api.github.com/users/vladanvasi-db/repos","events_url":"https://api.github.com/users/vladanvasi-db/events{/privacy}","received_events_url":"https://api.github.com/users/vladanvasi-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nIn this PR, I propose to disallow collated strings in `collect_set` expression.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nProposed changes are necessary in order to achieve correct behavior of the expressions mentioned above.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nThis patch was tested by modifying existing test case in `CollationSQLExpressionSuite`.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo.","created_at":"2024-10-14T11:33:44Z","updated_at":"2024-10-15T13:21:00Z","closed_at":"2024-10-15T13:21:00Z","merged_at":null,"merge_commit_sha":"77cbcf55136f87713dfeabbc8bc5764c9c4b985f","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48456/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48456/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48456/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/cded488b466a50116bcb5ae7fb22bcb74e2a7ad4","head":{"label":"vladanvasi-db:vladanvasi-db/collect-set-collated-disablement","ref":"vladanvasi-db/collect-set-collated-disablement","sha":"cded488b466a50116bcb5ae7fb22bcb74e2a7ad4","user":{"login":"vladanvasi-db","id":177719017,"node_id":"U_kgDOCpfG6Q","avatar_url":"https://avatars.githubusercontent.com/u/177719017?v=4","gravatar_id":"","url":"https://api.github.com/users/vladanvasi-db","html_url":"https://github.com/vladanvasi-db","followers_url":"https://api.github.com/users/vladanvasi-db/followers","following_url":"https://api.github.com/users/vladanvasi-db/following{/other_user}","gists_url":"https://api.github.com/users/vladanvasi-db/gists{/gist_id}","starred_url":"https://api.github.com/users/vladanvasi-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vladanvasi-db/subscriptions","organizations_url":"https://api.github.com/users/vladanvasi-db/orgs","repos_url":"https://api.github.com/users/vladanvasi-db/repos","events_url":"https://api.github.com/users/vladanvasi-db/events{/privacy}","received_events_url":"https://api.github.com/users/vladanvasi-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":844552718,"node_id":"R_kgDOMlbaDg","name":"spark","full_name":"vladanvasi-db/spark","private":false,"owner":{"login":"vladanvasi-db","id":177719017,"node_id":"U_kgDOCpfG6Q","avatar_url":"https://avatars.githubusercontent.com/u/177719017?v=4","gravatar_id":"","url":"https://api.github.com/users/vladanvasi-db","html_url":"https://github.com/vladanvasi-db","followers_url":"https://api.github.com/users/vladanvasi-db/followers","following_url":"https://api.github.com/users/vladanvasi-db/following{/other_user}","gists_url":"https://api.github.com/users/vladanvasi-db/gists{/gist_id}","starred_url":"https://api.github.com/users/vladanvasi-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vladanvasi-db/subscriptions","organizations_url":"https://api.github.com/users/vladanvasi-db/orgs","repos_url":"https://api.github.com/users/vladanvasi-db/repos","events_url":"https://api.github.com/users/vladanvasi-db/events{/privacy}","received_events_url":"https://api.github.com/users/vladanvasi-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/vladanvasi-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/vladanvasi-db/spark","forks_url":"https://api.github.com/repos/vladanvasi-db/spark/forks","keys_url":"https://api.github.com/repos/vladanvasi-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/vladanvasi-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/vladanvasi-db/spark/teams","hooks_url":"https://api.github.com/repos/vladanvasi-db/spark/hooks","issue_events_url":"https://api.github.com/repos/vladanvasi-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/vladanvasi-db/spark/events","assignees_url":"https://api.github.com/repos/vladanvasi-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/vladanvasi-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/vladanvasi-db/spark/tags","blobs_url":"https://api.github.com/repos/vladanvasi-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/vladanvasi-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/vladanvasi-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/vladanvasi-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/vladanvasi-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/vladanvasi-db/spark/languages","stargazers_url":"https://api.github.com/repos/vladanvasi-db/spark/stargazers","contributors_url":"https://api.github.com/repos/vladanvasi-db/spark/contributors","subscribers_url":"https://api.github.com/repos/vladanvasi-db/spark/subscribers","subscription_url":"https://api.github.com/repos/vladanvasi-db/spark/subscription","commits_url":"https://api.github.com/repos/vladanvasi-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/vladanvasi-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/vladanvasi-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/vladanvasi-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/vladanvasi-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/vladanvasi-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/vladanvasi-db/spark/merges","archive_url":"https://api.github.com/repos/vladanvasi-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/vladanvasi-db/spark/downloads","issues_url":"https://api.github.com/repos/vladanvasi-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/vladanvasi-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/vladanvasi-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/vladanvasi-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/vladanvasi-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/vladanvasi-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/vladanvasi-db/spark/deployments","created_at":"2024-08-19T13:46:20Z","updated_at":"2024-08-19T13:46:20Z","pushed_at":"2025-01-20T14:30:43Z","git_url":"git://github.com/vladanvasi-db/spark.git","ssh_url":"git@github.com:vladanvasi-db/spark.git","clone_url":"https://github.com/vladanvasi-db/spark.git","svn_url":"https://github.com/vladanvasi-db/spark","homepage":"https://spark.apache.org/","size":421241,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"eeb044ea4a5ded35561e3907b77cb88dd36e278f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48456"},"html":{"href":"https://github.com/apache/spark/pull/48456"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48456"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48456/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48456/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48456/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/cded488b466a50116bcb5ae7fb22bcb74e2a7ad4"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48455","id":2122741329,"node_id":"PR_kwDOAQXtWs5-hnZR","html_url":"https://github.com/apache/spark/pull/48455","diff_url":"https://github.com/apache/spark/pull/48455.diff","patch_url":"https://github.com/apache/spark/pull/48455.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48455","number":48455,"state":"closed","locked":false,"title":"[SPARK-49958][PYTHON] Python API for string validation functions","user":{"login":"uros-db","id":157381213,"node_id":"U_kgDOCWFyXQ","avatar_url":"https://avatars.githubusercontent.com/u/157381213?v=4","gravatar_id":"","url":"https://api.github.com/users/uros-db","html_url":"https://github.com/uros-db","followers_url":"https://api.github.com/users/uros-db/followers","following_url":"https://api.github.com/users/uros-db/following{/other_user}","gists_url":"https://api.github.com/users/uros-db/gists{/gist_id}","starred_url":"https://api.github.com/users/uros-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uros-db/subscriptions","organizations_url":"https://api.github.com/users/uros-db/orgs","repos_url":"https://api.github.com/users/uros-db/repos","events_url":"https://api.github.com/users/uros-db/events{/privacy}","received_events_url":"https://api.github.com/users/uros-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\nAdding the Python API for the 4 new string validation expressions:\r\n- is_valid_utf8\r\n- make_valid_utf8\r\n- validate_utf8\r\n- try_validate_utf8\r\n\r\n\r\n### Why are the changes needed?\r\nOffer a complete Python API for the new expressions in Spark 4.0.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, adding Python API for the 4 new Spark expressions.\r\n\r\n\r\n### How was this patch tested?\r\nNew tests for the Python API.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-14T10:58:18Z","updated_at":"2024-10-17T15:46:17Z","closed_at":"2024-10-17T15:46:17Z","merged_at":null,"merge_commit_sha":"29f530a387a20cc823f2a70f7c8ca0774d063539","assignee":null,"assignees":[],"requested_reviewers":[{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48455/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48455/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48455/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/8fcc1410d6962f03481870cf6a9eaee9ab9504f6","head":{"label":"uros-db:api-validation-python","ref":"api-validation-python","sha":"8fcc1410d6962f03481870cf6a9eaee9ab9504f6","user":{"login":"uros-db","id":157381213,"node_id":"U_kgDOCWFyXQ","avatar_url":"https://avatars.githubusercontent.com/u/157381213?v=4","gravatar_id":"","url":"https://api.github.com/users/uros-db","html_url":"https://github.com/uros-db","followers_url":"https://api.github.com/users/uros-db/followers","following_url":"https://api.github.com/users/uros-db/following{/other_user}","gists_url":"https://api.github.com/users/uros-db/gists{/gist_id}","starred_url":"https://api.github.com/users/uros-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uros-db/subscriptions","organizations_url":"https://api.github.com/users/uros-db/orgs","repos_url":"https://api.github.com/users/uros-db/repos","events_url":"https://api.github.com/users/uros-db/events{/privacy}","received_events_url":"https://api.github.com/users/uros-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":755209418,"node_id":"R_kgDOLQOUyg","name":"spark","full_name":"uros-db/spark","private":false,"owner":{"login":"uros-db","id":157381213,"node_id":"U_kgDOCWFyXQ","avatar_url":"https://avatars.githubusercontent.com/u/157381213?v=4","gravatar_id":"","url":"https://api.github.com/users/uros-db","html_url":"https://github.com/uros-db","followers_url":"https://api.github.com/users/uros-db/followers","following_url":"https://api.github.com/users/uros-db/following{/other_user}","gists_url":"https://api.github.com/users/uros-db/gists{/gist_id}","starred_url":"https://api.github.com/users/uros-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uros-db/subscriptions","organizations_url":"https://api.github.com/users/uros-db/orgs","repos_url":"https://api.github.com/users/uros-db/repos","events_url":"https://api.github.com/users/uros-db/events{/privacy}","received_events_url":"https://api.github.com/users/uros-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/uros-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/uros-db/spark","forks_url":"https://api.github.com/repos/uros-db/spark/forks","keys_url":"https://api.github.com/repos/uros-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/uros-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/uros-db/spark/teams","hooks_url":"https://api.github.com/repos/uros-db/spark/hooks","issue_events_url":"https://api.github.com/repos/uros-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/uros-db/spark/events","assignees_url":"https://api.github.com/repos/uros-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/uros-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/uros-db/spark/tags","blobs_url":"https://api.github.com/repos/uros-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/uros-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/uros-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/uros-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/uros-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/uros-db/spark/languages","stargazers_url":"https://api.github.com/repos/uros-db/spark/stargazers","contributors_url":"https://api.github.com/repos/uros-db/spark/contributors","subscribers_url":"https://api.github.com/repos/uros-db/spark/subscribers","subscription_url":"https://api.github.com/repos/uros-db/spark/subscription","commits_url":"https://api.github.com/repos/uros-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/uros-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/uros-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/uros-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/uros-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/uros-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/uros-db/spark/merges","archive_url":"https://api.github.com/repos/uros-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/uros-db/spark/downloads","issues_url":"https://api.github.com/repos/uros-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/uros-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/uros-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/uros-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/uros-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/uros-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/uros-db/spark/deployments","created_at":"2024-02-09T16:48:55Z","updated_at":"2024-12-23T11:11:13Z","pushed_at":"2024-12-23T11:08:59Z","git_url":"git://github.com/uros-db/spark.git","ssh_url":"git@github.com:uros-db/spark.git","clone_url":"https://github.com/uros-db/spark.git","svn_url":"https://github.com/uros-db/spark","homepage":"https://spark.apache.org/","size":430948,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"60200ae195a124003cf77d4ab3872f1652b6b9c7","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48455"},"html":{"href":"https://github.com/apache/spark/pull/48455"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48455"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48455/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48455/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48455/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/8fcc1410d6962f03481870cf6a9eaee9ab9504f6"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48454","id":2122536225,"node_id":"PR_kwDOAQXtWs5-g1Uh","html_url":"https://github.com/apache/spark/pull/48454","diff_url":"https://github.com/apache/spark/pull/48454.diff","patch_url":"https://github.com/apache/spark/pull/48454.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48454","number":48454,"state":"closed","locked":false,"title":"[SPARK-49957][SQL] Scala API for string validation functions","user":{"login":"uros-db","id":157381213,"node_id":"U_kgDOCWFyXQ","avatar_url":"https://avatars.githubusercontent.com/u/157381213?v=4","gravatar_id":"","url":"https://api.github.com/users/uros-db","html_url":"https://github.com/uros-db","followers_url":"https://api.github.com/users/uros-db/followers","following_url":"https://api.github.com/users/uros-db/following{/other_user}","gists_url":"https://api.github.com/users/uros-db/gists{/gist_id}","starred_url":"https://api.github.com/users/uros-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uros-db/subscriptions","organizations_url":"https://api.github.com/users/uros-db/orgs","repos_url":"https://api.github.com/users/uros-db/repos","events_url":"https://api.github.com/users/uros-db/events{/privacy}","received_events_url":"https://api.github.com/users/uros-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\nAdding the Scala API for the 4 new string validation expressions:\r\n- is_valid_utf8\r\n- make_valid_utf8\r\n- validate_utf8\r\n- try_validate_utf8\r\n\r\n\r\n### Why are the changes needed?\r\nOffer a complete Scala API for the new expressions in Spark 4.0.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, adding Scala API for the 4 new Spark expressions.\r\n\r\n\r\n### How was this patch tested?\r\nNew tests for the Scala API.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-14T09:35:13Z","updated_at":"2024-10-16T16:48:57Z","closed_at":"2024-10-16T16:48:57Z","merged_at":null,"merge_commit_sha":"50ba97cc6efaf592ca4f8db2ebc6fc50061245cd","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48454/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48454/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48454/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/2de020ce1efca152adceabd043ca08006ae4c498","head":{"label":"uros-db:api-validation","ref":"api-validation","sha":"2de020ce1efca152adceabd043ca08006ae4c498","user":{"login":"uros-db","id":157381213,"node_id":"U_kgDOCWFyXQ","avatar_url":"https://avatars.githubusercontent.com/u/157381213?v=4","gravatar_id":"","url":"https://api.github.com/users/uros-db","html_url":"https://github.com/uros-db","followers_url":"https://api.github.com/users/uros-db/followers","following_url":"https://api.github.com/users/uros-db/following{/other_user}","gists_url":"https://api.github.com/users/uros-db/gists{/gist_id}","starred_url":"https://api.github.com/users/uros-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uros-db/subscriptions","organizations_url":"https://api.github.com/users/uros-db/orgs","repos_url":"https://api.github.com/users/uros-db/repos","events_url":"https://api.github.com/users/uros-db/events{/privacy}","received_events_url":"https://api.github.com/users/uros-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":755209418,"node_id":"R_kgDOLQOUyg","name":"spark","full_name":"uros-db/spark","private":false,"owner":{"login":"uros-db","id":157381213,"node_id":"U_kgDOCWFyXQ","avatar_url":"https://avatars.githubusercontent.com/u/157381213?v=4","gravatar_id":"","url":"https://api.github.com/users/uros-db","html_url":"https://github.com/uros-db","followers_url":"https://api.github.com/users/uros-db/followers","following_url":"https://api.github.com/users/uros-db/following{/other_user}","gists_url":"https://api.github.com/users/uros-db/gists{/gist_id}","starred_url":"https://api.github.com/users/uros-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uros-db/subscriptions","organizations_url":"https://api.github.com/users/uros-db/orgs","repos_url":"https://api.github.com/users/uros-db/repos","events_url":"https://api.github.com/users/uros-db/events{/privacy}","received_events_url":"https://api.github.com/users/uros-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/uros-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/uros-db/spark","forks_url":"https://api.github.com/repos/uros-db/spark/forks","keys_url":"https://api.github.com/repos/uros-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/uros-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/uros-db/spark/teams","hooks_url":"https://api.github.com/repos/uros-db/spark/hooks","issue_events_url":"https://api.github.com/repos/uros-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/uros-db/spark/events","assignees_url":"https://api.github.com/repos/uros-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/uros-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/uros-db/spark/tags","blobs_url":"https://api.github.com/repos/uros-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/uros-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/uros-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/uros-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/uros-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/uros-db/spark/languages","stargazers_url":"https://api.github.com/repos/uros-db/spark/stargazers","contributors_url":"https://api.github.com/repos/uros-db/spark/contributors","subscribers_url":"https://api.github.com/repos/uros-db/spark/subscribers","subscription_url":"https://api.github.com/repos/uros-db/spark/subscription","commits_url":"https://api.github.com/repos/uros-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/uros-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/uros-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/uros-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/uros-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/uros-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/uros-db/spark/merges","archive_url":"https://api.github.com/repos/uros-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/uros-db/spark/downloads","issues_url":"https://api.github.com/repos/uros-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/uros-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/uros-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/uros-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/uros-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/uros-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/uros-db/spark/deployments","created_at":"2024-02-09T16:48:55Z","updated_at":"2024-12-23T11:11:13Z","pushed_at":"2024-12-23T11:08:59Z","git_url":"git://github.com/uros-db/spark.git","ssh_url":"git@github.com:uros-db/spark.git","clone_url":"https://github.com/uros-db/spark.git","svn_url":"https://github.com/uros-db/spark","homepage":"https://spark.apache.org/","size":430948,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"eeb044ea4a5ded35561e3907b77cb88dd36e278f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48454"},"html":{"href":"https://github.com/apache/spark/pull/48454"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48454"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48454/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48454/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48454/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/2de020ce1efca152adceabd043ca08006ae4c498"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48453","id":2122457891,"node_id":"PR_kwDOAQXtWs5-giMj","html_url":"https://github.com/apache/spark/pull/48453","diff_url":"https://github.com/apache/spark/pull/48453.diff","patch_url":"https://github.com/apache/spark/pull/48453.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48453","number":48453,"state":"closed","locked":false,"title":"[SPARK-49955][SQL] null value does not mean corrupted file when parsing JSON string RDD","user":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis is a followup of https://github.com/apache/spark/pull/42979 , to fix a regression. For the `spark.read.json(rdd)` API, there is never corrupted file, and we should not fail if the string value is null with non-failfast parsing mode. This PR is a partial revert of https://github.com/apache/spark/pull/42979 , to not treat `RuntimeException` as corrupted file when we are not reading from files.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nA query used to work in 3.5 should still work in 4.0\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nno as this regression is not released yet.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nnew test\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nno","created_at":"2024-10-14T08:59:50Z","updated_at":"2024-10-14T14:40:24Z","closed_at":"2024-10-14T14:40:24Z","merged_at":null,"merge_commit_sha":"c4ca1385691b63734fc1683e5c7c36f95e7d9a24","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48453/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48453/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48453/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/98bc23457d2ae94474ebf2ef22f006907576f5c2","head":{"label":"cloud-fan:json","ref":"json","sha":"98bc23457d2ae94474ebf2ef22f006907576f5c2","user":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":19689699,"node_id":"MDEwOlJlcG9zaXRvcnkxOTY4OTY5OQ==","name":"spark","full_name":"cloud-fan/spark","private":false,"owner":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/cloud-fan/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/cloud-fan/spark","forks_url":"https://api.github.com/repos/cloud-fan/spark/forks","keys_url":"https://api.github.com/repos/cloud-fan/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cloud-fan/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cloud-fan/spark/teams","hooks_url":"https://api.github.com/repos/cloud-fan/spark/hooks","issue_events_url":"https://api.github.com/repos/cloud-fan/spark/issues/events{/number}","events_url":"https://api.github.com/repos/cloud-fan/spark/events","assignees_url":"https://api.github.com/repos/cloud-fan/spark/assignees{/user}","branches_url":"https://api.github.com/repos/cloud-fan/spark/branches{/branch}","tags_url":"https://api.github.com/repos/cloud-fan/spark/tags","blobs_url":"https://api.github.com/repos/cloud-fan/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cloud-fan/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cloud-fan/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/cloud-fan/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cloud-fan/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/cloud-fan/spark/languages","stargazers_url":"https://api.github.com/repos/cloud-fan/spark/stargazers","contributors_url":"https://api.github.com/repos/cloud-fan/spark/contributors","subscribers_url":"https://api.github.com/repos/cloud-fan/spark/subscribers","subscription_url":"https://api.github.com/repos/cloud-fan/spark/subscription","commits_url":"https://api.github.com/repos/cloud-fan/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/cloud-fan/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/cloud-fan/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/cloud-fan/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/cloud-fan/spark/contents/{+path}","compare_url":"https://api.github.com/repos/cloud-fan/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cloud-fan/spark/merges","archive_url":"https://api.github.com/repos/cloud-fan/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cloud-fan/spark/downloads","issues_url":"https://api.github.com/repos/cloud-fan/spark/issues{/number}","pulls_url":"https://api.github.com/repos/cloud-fan/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/cloud-fan/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/cloud-fan/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cloud-fan/spark/labels{/name}","releases_url":"https://api.github.com/repos/cloud-fan/spark/releases{/id}","deployments_url":"https://api.github.com/repos/cloud-fan/spark/deployments","created_at":"2014-05-12T07:32:26Z","updated_at":"2022-06-21T07:59:41Z","pushed_at":"2025-02-07T13:15:09Z","git_url":"git://github.com/cloud-fan/spark.git","ssh_url":"git@github.com:cloud-fan/spark.git","clone_url":"https://github.com/cloud-fan/spark.git","svn_url":"https://github.com/cloud-fan/spark","homepage":null,"size":467110,"stargazers_count":3,"watchers_count":3,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":3,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"560748c2b1482836f1fbc117ebb88cee1371554c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48453"},"html":{"href":"https://github.com/apache/spark/pull/48453"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48453"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48453/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48453/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48453/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/98bc23457d2ae94474ebf2ef22f006907576f5c2"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48452","id":2122418083,"node_id":"PR_kwDOAQXtWs5-gYej","html_url":"https://github.com/apache/spark/pull/48452","diff_url":"https://github.com/apache/spark/pull/48452.diff","patch_url":"https://github.com/apache/spark/pull/48452.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48452","number":48452,"state":"closed","locked":false,"title":"[SPARK-49954][SQL] Codegen Support for `SchemaOfJson` (by Invoke & RuntimeReplaceable) - Java Version","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to add `Codegen` Support for `schema_of_json`.\r\n\r\n\r\n### Why are the changes needed?\r\n- improve codegen coverage.\r\n- simplified code.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nPass GA & Existed UT (eg: JsonFunctionsSuite#`*schema_of_json*`)\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-14T08:45:12Z","updated_at":"2024-10-16T00:03:29Z","closed_at":"2024-10-16T00:03:29Z","merged_at":null,"merge_commit_sha":null,"assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":true,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48452/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48452/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48452/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/fcf256a26fc945877d3bcd9bd6ff928c1809b2bd","head":{"label":"panbingkun:SPARK-49954","ref":"SPARK-49954","sha":"fcf256a26fc945877d3bcd9bd6ff928c1809b2bd","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"560748c2b1482836f1fbc117ebb88cee1371554c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48452"},"html":{"href":"https://github.com/apache/spark/pull/48452"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48452"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48452/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48452/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48452/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/fcf256a26fc945877d3bcd9bd6ff928c1809b2bd"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48451","id":2122208936,"node_id":"PR_kwDOAQXtWs5-flao","html_url":"https://github.com/apache/spark/pull/48451","diff_url":"https://github.com/apache/spark/pull/48451.diff","patch_url":"https://github.com/apache/spark/pull/48451.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48451","number":48451,"state":"closed","locked":false,"title":"[SPARK-49952][SQL] Assign proper error condition for _LEGACY_ERROR_TEMP_1142","user":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis PR proposes to assign proper error condition & sqlstate for _LEGACY_ERROR_TEMP_1142\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nTo improve the error message by assigning proper error condition and SQLSTATE\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo, only user-facing error message improved\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUpdated the existing tests\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo\r\n","created_at":"2024-10-14T07:15:16Z","updated_at":"2024-10-14T13:26:32Z","closed_at":"2024-10-14T13:26:32Z","merged_at":null,"merge_commit_sha":"0ec7850b373f1429d25a184cae125f7521d9d77a","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48451/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48451/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48451/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/5a12501b85946ce0f1070a0ae3797f366479154e","head":{"label":"itholic:SPARK-49952","ref":"SPARK-49952","sha":"5a12501b85946ce0f1070a0ae3797f366479154e","user":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":445423122,"node_id":"R_kgDOGoyeEg","name":"spark","full_name":"itholic/spark","private":false,"owner":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/itholic/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/itholic/spark","forks_url":"https://api.github.com/repos/itholic/spark/forks","keys_url":"https://api.github.com/repos/itholic/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/itholic/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/itholic/spark/teams","hooks_url":"https://api.github.com/repos/itholic/spark/hooks","issue_events_url":"https://api.github.com/repos/itholic/spark/issues/events{/number}","events_url":"https://api.github.com/repos/itholic/spark/events","assignees_url":"https://api.github.com/repos/itholic/spark/assignees{/user}","branches_url":"https://api.github.com/repos/itholic/spark/branches{/branch}","tags_url":"https://api.github.com/repos/itholic/spark/tags","blobs_url":"https://api.github.com/repos/itholic/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/itholic/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/itholic/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/itholic/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/itholic/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/itholic/spark/languages","stargazers_url":"https://api.github.com/repos/itholic/spark/stargazers","contributors_url":"https://api.github.com/repos/itholic/spark/contributors","subscribers_url":"https://api.github.com/repos/itholic/spark/subscribers","subscription_url":"https://api.github.com/repos/itholic/spark/subscription","commits_url":"https://api.github.com/repos/itholic/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/itholic/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/itholic/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/itholic/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/itholic/spark/contents/{+path}","compare_url":"https://api.github.com/repos/itholic/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/itholic/spark/merges","archive_url":"https://api.github.com/repos/itholic/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/itholic/spark/downloads","issues_url":"https://api.github.com/repos/itholic/spark/issues{/number}","pulls_url":"https://api.github.com/repos/itholic/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/itholic/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/itholic/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/itholic/spark/labels{/name}","releases_url":"https://api.github.com/repos/itholic/spark/releases{/id}","deployments_url":"https://api.github.com/repos/itholic/spark/deployments","created_at":"2022-01-07T06:35:10Z","updated_at":"2025-01-23T06:13:52Z","pushed_at":"2025-01-23T06:47:35Z","git_url":"git://github.com/itholic/spark.git","ssh_url":"git@github.com:itholic/spark.git","clone_url":"https://github.com/itholic/spark.git","svn_url":"https://github.com/itholic/spark","homepage":"https://spark.apache.org/","size":459393,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"eeb044ea4a5ded35561e3907b77cb88dd36e278f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48451"},"html":{"href":"https://github.com/apache/spark/pull/48451"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48451"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48451/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48451/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48451/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/5a12501b85946ce0f1070a0ae3797f366479154e"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48450","id":2122073643,"node_id":"PR_kwDOAQXtWs5-fEYr","html_url":"https://github.com/apache/spark/pull/48450","diff_url":"https://github.com/apache/spark/pull/48450.diff","patch_url":"https://github.com/apache/spark/pull/48450.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48450","number":48450,"state":"closed","locked":false,"title":"[SPARK-49864][SQL][FOLLOW-UP] Fix default suggestion for binary arithmetic overflow","user":{"login":"mihailom-db","id":159067682,"node_id":"U_kgDOCXsuIg","avatar_url":"https://avatars.githubusercontent.com/u/159067682?v=4","gravatar_id":"","url":"https://api.github.com/users/mihailom-db","html_url":"https://github.com/mihailom-db","followers_url":"https://api.github.com/users/mihailom-db/followers","following_url":"https://api.github.com/users/mihailom-db/following{/other_user}","gists_url":"https://api.github.com/users/mihailom-db/gists{/gist_id}","starred_url":"https://api.github.com/users/mihailom-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihailom-db/subscriptions","organizations_url":"https://api.github.com/users/mihailom-db/orgs","repos_url":"https://api.github.com/users/mihailom-db/repos","events_url":"https://api.github.com/users/mihailom-db/events{/privacy}","received_events_url":"https://api.github.com/users/mihailom-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nImprovement on default branch for try suggestion.\r\n\r\n\r\n### Why are the changes needed?\r\nWhen we hit default branch in codeGen, we need to return a default value that would specify that we do not know the function, and not just a blank string.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes.\r\n\r\n\r\n### How was this patch tested?\r\nNo branch hits this behaviour so far, but we need to safeguard from the possible errors.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-14T06:09:13Z","updated_at":"2024-10-14T14:12:56Z","closed_at":"2024-10-14T14:12:56Z","merged_at":null,"merge_commit_sha":"53f10ce444ff8325e0cf548ca10e1d6920b634c4","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48450/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48450/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48450/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/4007e3816ebe8fa8173aa095945b11dd00ab5843","head":{"label":"mihailom-db:binaryArithmeticOverflowFollowup","ref":"binaryArithmeticOverflowFollowup","sha":"4007e3816ebe8fa8173aa095945b11dd00ab5843","user":{"login":"mihailom-db","id":159067682,"node_id":"U_kgDOCXsuIg","avatar_url":"https://avatars.githubusercontent.com/u/159067682?v=4","gravatar_id":"","url":"https://api.github.com/users/mihailom-db","html_url":"https://github.com/mihailom-db","followers_url":"https://api.github.com/users/mihailom-db/followers","following_url":"https://api.github.com/users/mihailom-db/following{/other_user}","gists_url":"https://api.github.com/users/mihailom-db/gists{/gist_id}","starred_url":"https://api.github.com/users/mihailom-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihailom-db/subscriptions","organizations_url":"https://api.github.com/users/mihailom-db/orgs","repos_url":"https://api.github.com/users/mihailom-db/repos","events_url":"https://api.github.com/users/mihailom-db/events{/privacy}","received_events_url":"https://api.github.com/users/mihailom-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":756245919,"node_id":"R_kgDOLRNlnw","name":"spark","full_name":"mihailom-db/spark","private":false,"owner":{"login":"mihailom-db","id":159067682,"node_id":"U_kgDOCXsuIg","avatar_url":"https://avatars.githubusercontent.com/u/159067682?v=4","gravatar_id":"","url":"https://api.github.com/users/mihailom-db","html_url":"https://github.com/mihailom-db","followers_url":"https://api.github.com/users/mihailom-db/followers","following_url":"https://api.github.com/users/mihailom-db/following{/other_user}","gists_url":"https://api.github.com/users/mihailom-db/gists{/gist_id}","starred_url":"https://api.github.com/users/mihailom-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihailom-db/subscriptions","organizations_url":"https://api.github.com/users/mihailom-db/orgs","repos_url":"https://api.github.com/users/mihailom-db/repos","events_url":"https://api.github.com/users/mihailom-db/events{/privacy}","received_events_url":"https://api.github.com/users/mihailom-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mihailom-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/mihailom-db/spark","forks_url":"https://api.github.com/repos/mihailom-db/spark/forks","keys_url":"https://api.github.com/repos/mihailom-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mihailom-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mihailom-db/spark/teams","hooks_url":"https://api.github.com/repos/mihailom-db/spark/hooks","issue_events_url":"https://api.github.com/repos/mihailom-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/mihailom-db/spark/events","assignees_url":"https://api.github.com/repos/mihailom-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/mihailom-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/mihailom-db/spark/tags","blobs_url":"https://api.github.com/repos/mihailom-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mihailom-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mihailom-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/mihailom-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mihailom-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/mihailom-db/spark/languages","stargazers_url":"https://api.github.com/repos/mihailom-db/spark/stargazers","contributors_url":"https://api.github.com/repos/mihailom-db/spark/contributors","subscribers_url":"https://api.github.com/repos/mihailom-db/spark/subscribers","subscription_url":"https://api.github.com/repos/mihailom-db/spark/subscription","commits_url":"https://api.github.com/repos/mihailom-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/mihailom-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/mihailom-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/mihailom-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/mihailom-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/mihailom-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mihailom-db/spark/merges","archive_url":"https://api.github.com/repos/mihailom-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mihailom-db/spark/downloads","issues_url":"https://api.github.com/repos/mihailom-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/mihailom-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/mihailom-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/mihailom-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mihailom-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/mihailom-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/mihailom-db/spark/deployments","created_at":"2024-02-12T09:25:57Z","updated_at":"2024-08-05T08:15:59Z","pushed_at":"2024-12-25T11:37:24Z","git_url":"git://github.com/mihailom-db/spark.git","ssh_url":"git@github.com:mihailom-db/spark.git","clone_url":"https://github.com/mihailom-db/spark.git","svn_url":"https://github.com/mihailom-db/spark","homepage":"https://spark.apache.org/","size":480966,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1aae1608960155885c039c389a6aaa53362103be","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48450"},"html":{"href":"https://github.com/apache/spark/pull/48450"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48450"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48450/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48450/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48450/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/4007e3816ebe8fa8173aa095945b11dd00ab5843"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48449","id":2121959701,"node_id":"PR_kwDOAQXtWs5-eokV","html_url":"https://github.com/apache/spark/pull/48449","diff_url":"https://github.com/apache/spark/pull/48449.diff","patch_url":"https://github.com/apache/spark/pull/48449.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48449","number":48449,"state":"closed","locked":false,"title":"[SPARK-49951][SQL] Assign proper error condition for _LEGACY_ERROR_TEMP_(1099|3085)","user":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\n<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis PR proposes to assign proper error condition & sqlstate for _LEGACY_ERROR_TEMP_(1099|3085)\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nTo improve the error message by assigning proper error condition and SQLSTATE\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo, only user-facing error message improved\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUpdated the existing tests\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo\r\n","created_at":"2024-10-14T04:56:11Z","updated_at":"2024-10-17T02:33:34Z","closed_at":"2024-10-17T02:33:00Z","merged_at":null,"merge_commit_sha":"dbd682e8f3dbffe17e128d92ce60c410a97ee02f","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1988040187,"node_id":"MDU6TGFiZWwxOTg4MDQwMTg3","url":"https://api.github.com/repos/apache/spark/labels/AVRO","name":"AVRO","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48449/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48449/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48449/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/707edb855269e0aa29290008e3ed76aaa43fd1e7","head":{"label":"itholic:SPARK-49951","ref":"SPARK-49951","sha":"707edb855269e0aa29290008e3ed76aaa43fd1e7","user":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":445423122,"node_id":"R_kgDOGoyeEg","name":"spark","full_name":"itholic/spark","private":false,"owner":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/itholic/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/itholic/spark","forks_url":"https://api.github.com/repos/itholic/spark/forks","keys_url":"https://api.github.com/repos/itholic/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/itholic/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/itholic/spark/teams","hooks_url":"https://api.github.com/repos/itholic/spark/hooks","issue_events_url":"https://api.github.com/repos/itholic/spark/issues/events{/number}","events_url":"https://api.github.com/repos/itholic/spark/events","assignees_url":"https://api.github.com/repos/itholic/spark/assignees{/user}","branches_url":"https://api.github.com/repos/itholic/spark/branches{/branch}","tags_url":"https://api.github.com/repos/itholic/spark/tags","blobs_url":"https://api.github.com/repos/itholic/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/itholic/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/itholic/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/itholic/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/itholic/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/itholic/spark/languages","stargazers_url":"https://api.github.com/repos/itholic/spark/stargazers","contributors_url":"https://api.github.com/repos/itholic/spark/contributors","subscribers_url":"https://api.github.com/repos/itholic/spark/subscribers","subscription_url":"https://api.github.com/repos/itholic/spark/subscription","commits_url":"https://api.github.com/repos/itholic/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/itholic/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/itholic/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/itholic/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/itholic/spark/contents/{+path}","compare_url":"https://api.github.com/repos/itholic/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/itholic/spark/merges","archive_url":"https://api.github.com/repos/itholic/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/itholic/spark/downloads","issues_url":"https://api.github.com/repos/itholic/spark/issues{/number}","pulls_url":"https://api.github.com/repos/itholic/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/itholic/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/itholic/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/itholic/spark/labels{/name}","releases_url":"https://api.github.com/repos/itholic/spark/releases{/id}","deployments_url":"https://api.github.com/repos/itholic/spark/deployments","created_at":"2022-01-07T06:35:10Z","updated_at":"2025-01-23T06:13:52Z","pushed_at":"2025-01-23T06:47:35Z","git_url":"git://github.com/itholic/spark.git","ssh_url":"git@github.com:itholic/spark.git","clone_url":"https://github.com/itholic/spark.git","svn_url":"https://github.com/itholic/spark","homepage":"https://spark.apache.org/","size":459393,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"eeb044ea4a5ded35561e3907b77cb88dd36e278f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48449"},"html":{"href":"https://github.com/apache/spark/pull/48449"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48449"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48449/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48449/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48449/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/707edb855269e0aa29290008e3ed76aaa43fd1e7"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48448","id":2121900704,"node_id":"PR_kwDOAQXtWs5-eaKg","html_url":"https://github.com/apache/spark/pull/48448","diff_url":"https://github.com/apache/spark/pull/48448.diff","patch_url":"https://github.com/apache/spark/pull/48448.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48448","number":48448,"state":"closed","locked":false,"title":"[SPARK-49949][PS] Avoid unnecessary analyze task in `attach_sequence_column`","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nAvoid unnecessary analyze task in `attach_sequence_column`\r\n\r\n\r\n### Why are the changes needed?\r\nIn Connect mode, if the input `sdf` hasn't cache its schema, `attach_sequence_column` will trigger an analyze task for it.\r\nHowever, in this case, the column names are not needed.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nno\r\n\r\n\r\n### How was this patch tested?\r\nexisting tests\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nno","created_at":"2024-10-14T03:49:02Z","updated_at":"2024-10-14T09:22:08Z","closed_at":"2024-10-14T09:21:40Z","merged_at":null,"merge_commit_sha":"defda62e1cf60f96ee28a4fed0fe29175a1e87de","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4138679613,"node_id":"LA_kwDOAQXtWs72rz09","url":"https://api.github.com/repos/apache/spark/labels/PANDAS%20API%20ON%20SPARK","name":"PANDAS API ON SPARK","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48448/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48448/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48448/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/940f97ab73a48da267ead67db14d4d0c2b74e631","head":{"label":"zhengruifeng:attach_sequence_column","ref":"attach_sequence_column","sha":"940f97ab73a48da267ead67db14d4d0c2b74e631","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":51584791,"node_id":"MDEwOlJlcG9zaXRvcnk1MTU4NDc5MQ==","name":"spark","full_name":"zhengruifeng/spark","private":false,"owner":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhengruifeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zhengruifeng/spark","forks_url":"https://api.github.com/repos/zhengruifeng/spark/forks","keys_url":"https://api.github.com/repos/zhengruifeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhengruifeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhengruifeng/spark/teams","hooks_url":"https://api.github.com/repos/zhengruifeng/spark/hooks","issue_events_url":"https://api.github.com/repos/zhengruifeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhengruifeng/spark/events","assignees_url":"https://api.github.com/repos/zhengruifeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhengruifeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhengruifeng/spark/tags","blobs_url":"https://api.github.com/repos/zhengruifeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhengruifeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhengruifeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhengruifeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhengruifeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhengruifeng/spark/languages","stargazers_url":"https://api.github.com/repos/zhengruifeng/spark/stargazers","contributors_url":"https://api.github.com/repos/zhengruifeng/spark/contributors","subscribers_url":"https://api.github.com/repos/zhengruifeng/spark/subscribers","subscription_url":"https://api.github.com/repos/zhengruifeng/spark/subscription","commits_url":"https://api.github.com/repos/zhengruifeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhengruifeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhengruifeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhengruifeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhengruifeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhengruifeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhengruifeng/spark/merges","archive_url":"https://api.github.com/repos/zhengruifeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhengruifeng/spark/downloads","issues_url":"https://api.github.com/repos/zhengruifeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhengruifeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhengruifeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhengruifeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhengruifeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhengruifeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhengruifeng/spark/deployments","created_at":"2016-02-12T11:58:00Z","updated_at":"2025-02-09T01:55:22Z","pushed_at":"2025-02-09T01:55:17Z","git_url":"git://github.com/zhengruifeng/spark.git","ssh_url":"git@github.com:zhengruifeng/spark.git","clone_url":"https://github.com/zhengruifeng/spark.git","svn_url":"https://github.com/zhengruifeng/spark","homepage":null,"size":434785,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1aae1608960155885c039c389a6aaa53362103be","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48448"},"html":{"href":"https://github.com/apache/spark/pull/48448"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48448"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48448/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48448/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48448/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/940f97ab73a48da267ead67db14d4d0c2b74e631"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48447","id":2121895629,"node_id":"PR_kwDOAQXtWs5-eY7N","html_url":"https://github.com/apache/spark/pull/48447","diff_url":"https://github.com/apache/spark/pull/48447.diff","patch_url":"https://github.com/apache/spark/pull/48447.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48447","number":48447,"state":"closed","locked":false,"title":"[SPARK-49929][PYTHON][CONNECT] Support box plots","user":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nSupport box plots with plotly backend on both Spark Connect and Spark classic.\r\n\r\n\r\n### Why are the changes needed?\r\nWhile Pandas on Spark supports plotting, PySpark currently lacks this feature. The proposed API will enable users to generate visualizations. This will provide users with an intuitive, interactive way to explore and understand large datasets directly from PySpark DataFrames, streamlining the data analysis workflow in distributed environments.\r\n\r\nSee more at [PySpark Plotting API Specification](https://docs.google.com/document/d/1IjOEzC8zcetG86WDvqkereQPj_NGLNW7Bdu910g30Dg/edit?usp=sharing) in progress.\r\n\r\nPart of https://issues.apache.org/jira/browse/SPARK-49530.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes. Box plots are supported as shown below.\r\n\r\n```py\r\n>>> data = [\r\n...             (\"A\", 50, 55),\r\n...             (\"B\", 55, 60),\r\n...             (\"C\", 60, 65),\r\n...             (\"D\", 65, 70),\r\n...             (\"E\", 70, 75),\r\n...             # outliers\r\n...             (\"F\", 10, 15),\r\n...             (\"G\", 85, 90),\r\n...             (\"H\", 5, 150),\r\n...         ]\r\n>>> columns = [\"student\", \"math_score\", \"english_score\"]\r\n>>> sdf = spark.createDataFrame(data, columns)\r\n>>> fig1 = sdf.plot.box(column=[\"math_score\", \"english_score\"])\r\n>>> fig1.show()  # see below\r\n>>> fig2 = sdf.plot(kind=\"box\", column=\"math_score\")\r\n>>> fig2.show()  # see below\r\n```\r\n\r\nfig1:\r\n![newplot (17)](https://github.com/user-attachments/assets/8c36c344-f6de-47e3-bd63-c0f3b57efc43)\r\n\r\nfig2:\r\n![newplot (18)](https://github.com/user-attachments/assets/9b7b60f6-58ec-4eff-9544-d5ab88a88631)\r\n\r\n\r\n### How was this patch tested?\r\nUnit tests.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-14T03:41:56Z","updated_at":"2024-10-15T00:32:56Z","closed_at":"2024-10-15T00:31:44Z","merged_at":null,"merge_commit_sha":"7e84d43edbd7c01d1dc3eba5f447137e9a531960","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48447/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48447/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48447/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/0f2287fa53915ea6814b487c5188e03c6cb610f6","head":{"label":"xinrong-meng:box","ref":"box","sha":"0f2287fa53915ea6814b487c5188e03c6cb610f6","user":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":335786381,"node_id":"MDEwOlJlcG9zaXRvcnkzMzU3ODYzODE=","name":"spark","full_name":"xinrong-meng/spark","private":false,"owner":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/xinrong-meng/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/xinrong-meng/spark","forks_url":"https://api.github.com/repos/xinrong-meng/spark/forks","keys_url":"https://api.github.com/repos/xinrong-meng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xinrong-meng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xinrong-meng/spark/teams","hooks_url":"https://api.github.com/repos/xinrong-meng/spark/hooks","issue_events_url":"https://api.github.com/repos/xinrong-meng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/xinrong-meng/spark/events","assignees_url":"https://api.github.com/repos/xinrong-meng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/xinrong-meng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/xinrong-meng/spark/tags","blobs_url":"https://api.github.com/repos/xinrong-meng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xinrong-meng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xinrong-meng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/xinrong-meng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xinrong-meng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/xinrong-meng/spark/languages","stargazers_url":"https://api.github.com/repos/xinrong-meng/spark/stargazers","contributors_url":"https://api.github.com/repos/xinrong-meng/spark/contributors","subscribers_url":"https://api.github.com/repos/xinrong-meng/spark/subscribers","subscription_url":"https://api.github.com/repos/xinrong-meng/spark/subscription","commits_url":"https://api.github.com/repos/xinrong-meng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/xinrong-meng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/xinrong-meng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/xinrong-meng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/xinrong-meng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/xinrong-meng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xinrong-meng/spark/merges","archive_url":"https://api.github.com/repos/xinrong-meng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xinrong-meng/spark/downloads","issues_url":"https://api.github.com/repos/xinrong-meng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/xinrong-meng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/xinrong-meng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/xinrong-meng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xinrong-meng/spark/labels{/name}","releases_url":"https://api.github.com/repos/xinrong-meng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/xinrong-meng/spark/deployments","created_at":"2021-02-03T23:47:29Z","updated_at":"2024-09-27T08:09:06Z","pushed_at":"2025-02-08T02:14:33Z","git_url":"git://github.com/xinrong-meng/spark.git","ssh_url":"git@github.com:xinrong-meng/spark.git","clone_url":"https://github.com/xinrong-meng/spark.git","svn_url":"https://github.com/xinrong-meng/spark","homepage":"https://spark.apache.org/","size":469811,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":2,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1aae1608960155885c039c389a6aaa53362103be","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48447"},"html":{"href":"https://github.com/apache/spark/pull/48447"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48447"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48447/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48447/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48447/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/0f2287fa53915ea6814b487c5188e03c6cb610f6"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48446","id":2121895364,"node_id":"PR_kwDOAQXtWs5-eY3E","html_url":"https://github.com/apache/spark/pull/48446","diff_url":"https://github.com/apache/spark/pull/48446.diff","patch_url":"https://github.com/apache/spark/pull/48446.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48446","number":48446,"state":"closed","locked":false,"title":"[SPARK-37687][K8S] Removes the compile time dependency on the OkHttp http client","user":{"login":"navinvishy","id":3296383,"node_id":"MDQ6VXNlcjMyOTYzODM=","avatar_url":"https://avatars.githubusercontent.com/u/3296383?v=4","gravatar_id":"","url":"https://api.github.com/users/navinvishy","html_url":"https://github.com/navinvishy","followers_url":"https://api.github.com/users/navinvishy/followers","following_url":"https://api.github.com/users/navinvishy/following{/other_user}","gists_url":"https://api.github.com/users/navinvishy/gists{/gist_id}","starred_url":"https://api.github.com/users/navinvishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navinvishy/subscriptions","organizations_url":"https://api.github.com/users/navinvishy/orgs","repos_url":"https://api.github.com/users/navinvishy/repos","events_url":"https://api.github.com/users/navinvishy/events{/privacy}","received_events_url":"https://api.github.com/users/navinvishy/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\nRemoves the dependency on the OkHttp http client for the kubernetes client.\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\n\r\n### Why are the changes needed?\r\nThe Kubernetes client supports plugging in different http clients via the Java service provider interface. Since we have a dependency on OkHttp it is not possible to plug in other http clients.\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\n\r\n### How was this patch tested?\r\nAdded a unit test\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\n","created_at":"2024-10-14T03:41:33Z","updated_at":"2025-01-18T01:54:20Z","closed_at":"2025-01-17T22:44:36Z","merged_at":null,"merge_commit_sha":null,"assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406605057,"node_id":"MDU6TGFiZWwxNDA2NjA1MDU3","url":"https://api.github.com/repos/apache/spark/labels/KUBERNETES","name":"KUBERNETES","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48446/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48446/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48446/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/756df0894facf78469f7167dd2e7c81a235859c5","head":{"label":"navinvishy:k8s-okhttp","ref":"k8s-okhttp","sha":"756df0894facf78469f7167dd2e7c81a235859c5","user":{"login":"navinvishy","id":3296383,"node_id":"MDQ6VXNlcjMyOTYzODM=","avatar_url":"https://avatars.githubusercontent.com/u/3296383?v=4","gravatar_id":"","url":"https://api.github.com/users/navinvishy","html_url":"https://github.com/navinvishy","followers_url":"https://api.github.com/users/navinvishy/followers","following_url":"https://api.github.com/users/navinvishy/following{/other_user}","gists_url":"https://api.github.com/users/navinvishy/gists{/gist_id}","starred_url":"https://api.github.com/users/navinvishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navinvishy/subscriptions","organizations_url":"https://api.github.com/users/navinvishy/orgs","repos_url":"https://api.github.com/users/navinvishy/repos","events_url":"https://api.github.com/users/navinvishy/events{/privacy}","received_events_url":"https://api.github.com/users/navinvishy/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":272747303,"node_id":"MDEwOlJlcG9zaXRvcnkyNzI3NDczMDM=","name":"spark","full_name":"navinvishy/spark","private":false,"owner":{"login":"navinvishy","id":3296383,"node_id":"MDQ6VXNlcjMyOTYzODM=","avatar_url":"https://avatars.githubusercontent.com/u/3296383?v=4","gravatar_id":"","url":"https://api.github.com/users/navinvishy","html_url":"https://github.com/navinvishy","followers_url":"https://api.github.com/users/navinvishy/followers","following_url":"https://api.github.com/users/navinvishy/following{/other_user}","gists_url":"https://api.github.com/users/navinvishy/gists{/gist_id}","starred_url":"https://api.github.com/users/navinvishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navinvishy/subscriptions","organizations_url":"https://api.github.com/users/navinvishy/orgs","repos_url":"https://api.github.com/users/navinvishy/repos","events_url":"https://api.github.com/users/navinvishy/events{/privacy}","received_events_url":"https://api.github.com/users/navinvishy/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/navinvishy/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/navinvishy/spark","forks_url":"https://api.github.com/repos/navinvishy/spark/forks","keys_url":"https://api.github.com/repos/navinvishy/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/navinvishy/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/navinvishy/spark/teams","hooks_url":"https://api.github.com/repos/navinvishy/spark/hooks","issue_events_url":"https://api.github.com/repos/navinvishy/spark/issues/events{/number}","events_url":"https://api.github.com/repos/navinvishy/spark/events","assignees_url":"https://api.github.com/repos/navinvishy/spark/assignees{/user}","branches_url":"https://api.github.com/repos/navinvishy/spark/branches{/branch}","tags_url":"https://api.github.com/repos/navinvishy/spark/tags","blobs_url":"https://api.github.com/repos/navinvishy/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/navinvishy/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/navinvishy/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/navinvishy/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/navinvishy/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/navinvishy/spark/languages","stargazers_url":"https://api.github.com/repos/navinvishy/spark/stargazers","contributors_url":"https://api.github.com/repos/navinvishy/spark/contributors","subscribers_url":"https://api.github.com/repos/navinvishy/spark/subscribers","subscription_url":"https://api.github.com/repos/navinvishy/spark/subscription","commits_url":"https://api.github.com/repos/navinvishy/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/navinvishy/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/navinvishy/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/navinvishy/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/navinvishy/spark/contents/{+path}","compare_url":"https://api.github.com/repos/navinvishy/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/navinvishy/spark/merges","archive_url":"https://api.github.com/repos/navinvishy/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/navinvishy/spark/downloads","issues_url":"https://api.github.com/repos/navinvishy/spark/issues{/number}","pulls_url":"https://api.github.com/repos/navinvishy/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/navinvishy/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/navinvishy/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/navinvishy/spark/labels{/name}","releases_url":"https://api.github.com/repos/navinvishy/spark/releases{/id}","deployments_url":"https://api.github.com/repos/navinvishy/spark/deployments","created_at":"2020-06-16T15:39:31Z","updated_at":"2024-10-14T02:24:21Z","pushed_at":"2024-10-17T05:13:44Z","git_url":"git://github.com/navinvishy/spark.git","ssh_url":"git@github.com:navinvishy/spark.git","clone_url":"https://github.com/navinvishy/spark.git","svn_url":"https://github.com/navinvishy/spark","homepage":"https://spark.apache.org/","size":441980,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1aae1608960155885c039c389a6aaa53362103be","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48446"},"html":{"href":"https://github.com/apache/spark/pull/48446"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48446"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48446/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48446/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48446/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/756df0894facf78469f7167dd2e7c81a235859c5"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48445","id":2121891836,"node_id":"PR_kwDOAQXtWs5-eX_8","html_url":"https://github.com/apache/spark/pull/48445","diff_url":"https://github.com/apache/spark/pull/48445.diff","patch_url":"https://github.com/apache/spark/pull/48445.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48445","number":48445,"state":"closed","locked":false,"title":"[SPARK-49948][PS][CONNECT] Add parameter \"precision\" to pandas on Spark box plot","user":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nAdd parameter \"precision\" to pandas on Spark box plot.\r\n\r\n\r\n### Why are the changes needed?\r\nPreviously, the box method used **kwds, allowing precision to be passed implicitly. Now, adding precision directly to the signature ensures clarity and explicit control, improving usability.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n### How was this patch tested?\r\nExisting tests.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.","created_at":"2024-10-14T03:37:48Z","updated_at":"2024-10-17T05:54:20Z","closed_at":"2024-10-16T00:49:18Z","merged_at":null,"merge_commit_sha":"e0853fb8a62a41e146d0267976bd0b7a27c298ac","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4138679613,"node_id":"LA_kwDOAQXtWs72rz09","url":"https://api.github.com/repos/apache/spark/labels/PANDAS%20API%20ON%20SPARK","name":"PANDAS API ON SPARK","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48445/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48445/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48445/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/48cccdcb540adf60cb20dc09c31acde0319e76a4","head":{"label":"xinrong-meng:ps_box","ref":"ps_box","sha":"48cccdcb540adf60cb20dc09c31acde0319e76a4","user":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":335786381,"node_id":"MDEwOlJlcG9zaXRvcnkzMzU3ODYzODE=","name":"spark","full_name":"xinrong-meng/spark","private":false,"owner":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/xinrong-meng/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/xinrong-meng/spark","forks_url":"https://api.github.com/repos/xinrong-meng/spark/forks","keys_url":"https://api.github.com/repos/xinrong-meng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xinrong-meng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xinrong-meng/spark/teams","hooks_url":"https://api.github.com/repos/xinrong-meng/spark/hooks","issue_events_url":"https://api.github.com/repos/xinrong-meng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/xinrong-meng/spark/events","assignees_url":"https://api.github.com/repos/xinrong-meng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/xinrong-meng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/xinrong-meng/spark/tags","blobs_url":"https://api.github.com/repos/xinrong-meng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xinrong-meng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xinrong-meng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/xinrong-meng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xinrong-meng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/xinrong-meng/spark/languages","stargazers_url":"https://api.github.com/repos/xinrong-meng/spark/stargazers","contributors_url":"https://api.github.com/repos/xinrong-meng/spark/contributors","subscribers_url":"https://api.github.com/repos/xinrong-meng/spark/subscribers","subscription_url":"https://api.github.com/repos/xinrong-meng/spark/subscription","commits_url":"https://api.github.com/repos/xinrong-meng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/xinrong-meng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/xinrong-meng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/xinrong-meng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/xinrong-meng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/xinrong-meng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xinrong-meng/spark/merges","archive_url":"https://api.github.com/repos/xinrong-meng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xinrong-meng/spark/downloads","issues_url":"https://api.github.com/repos/xinrong-meng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/xinrong-meng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/xinrong-meng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/xinrong-meng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xinrong-meng/spark/labels{/name}","releases_url":"https://api.github.com/repos/xinrong-meng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/xinrong-meng/spark/deployments","created_at":"2021-02-03T23:47:29Z","updated_at":"2024-09-27T08:09:06Z","pushed_at":"2025-02-08T02:14:33Z","git_url":"git://github.com/xinrong-meng/spark.git","ssh_url":"git@github.com:xinrong-meng/spark.git","clone_url":"https://github.com/xinrong-meng/spark.git","svn_url":"https://github.com/xinrong-meng/spark","homepage":"https://spark.apache.org/","size":469811,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":2,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1aae1608960155885c039c389a6aaa53362103be","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48445"},"html":{"href":"https://github.com/apache/spark/pull/48445"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48445"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48445/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48445/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48445/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/48cccdcb540adf60cb20dc09c31acde0319e76a4"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48444","id":2121827166,"node_id":"PR_kwDOAQXtWs5-eINe","html_url":"https://github.com/apache/spark/pull/48444","diff_url":"https://github.com/apache/spark/pull/48444.diff","patch_url":"https://github.com/apache/spark/pull/48444.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48444","number":48444,"state":"closed","locked":false,"title":"[SPARK-49947][SQL][TESTS] Upgrade `MsSql` docker image version","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to upgrade the `MsSql` docker image version from `2022-CU14-ubuntu-22.04` to `2022-CU15-ubuntu-22.04`.\r\n\r\n\r\n### Why are the changes needed?\r\nThis will help Apache Spark test the latest `MsSql`.\r\nhttps://hub.docker.com/r/microsoft/mssql-server\r\n<img width=\"852\" alt=\"image\" src=\"https://github.com/user-attachments/assets/b84aeb25-93e7-4799-a448-d8be4e8e1032\">\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nPass GA.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-14T02:26:16Z","updated_at":"2024-10-17T02:33:05Z","closed_at":"2024-10-17T02:33:05Z","merged_at":null,"merge_commit_sha":"9f38f3c1e74d2fc44105f9b4ec84766ffe98b7e6","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48444/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48444/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48444/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/70449df0f477958a9bfdd36a2635e3ab9895ddf0","head":{"label":"panbingkun:SPARK-49947","ref":"SPARK-49947","sha":"70449df0f477958a9bfdd36a2635e3ab9895ddf0","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1abfd490d072850ae40c46c1a0f1791a8aaa5698","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48444"},"html":{"href":"https://github.com/apache/spark/pull/48444"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48444"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48444/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48444/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48444/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/70449df0f477958a9bfdd36a2635e3ab9895ddf0"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48443","id":2121656247,"node_id":"PR_kwDOAQXtWs5-dee3","html_url":"https://github.com/apache/spark/pull/48443","diff_url":"https://github.com/apache/spark/pull/48443.diff","patch_url":"https://github.com/apache/spark/pull/48443.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48443","number":48443,"state":"closed","locked":false,"title":"[SQL] Refactor CollationSupport","user":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\n","created_at":"2024-10-13T23:01:55Z","updated_at":"2025-01-27T00:24:53Z","closed_at":"2025-01-27T00:24:53Z","merged_at":null,"merge_commit_sha":null,"assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":true,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48443/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48443/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48443/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/eec787fce28d60b86f3ab330c98351fdb7702f1b","head":{"label":"stefankandic:refactorCollationSupport","ref":"refactorCollationSupport","sha":"eec787fce28d60b86f3ab330c98351fdb7702f1b","user":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":734708961,"node_id":"R_kgDOK8rE4Q","name":"spark","full_name":"stefankandic/spark","private":false,"owner":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/stefankandic/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/stefankandic/spark","forks_url":"https://api.github.com/repos/stefankandic/spark/forks","keys_url":"https://api.github.com/repos/stefankandic/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/stefankandic/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/stefankandic/spark/teams","hooks_url":"https://api.github.com/repos/stefankandic/spark/hooks","issue_events_url":"https://api.github.com/repos/stefankandic/spark/issues/events{/number}","events_url":"https://api.github.com/repos/stefankandic/spark/events","assignees_url":"https://api.github.com/repos/stefankandic/spark/assignees{/user}","branches_url":"https://api.github.com/repos/stefankandic/spark/branches{/branch}","tags_url":"https://api.github.com/repos/stefankandic/spark/tags","blobs_url":"https://api.github.com/repos/stefankandic/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/stefankandic/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/stefankandic/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/stefankandic/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/stefankandic/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/stefankandic/spark/languages","stargazers_url":"https://api.github.com/repos/stefankandic/spark/stargazers","contributors_url":"https://api.github.com/repos/stefankandic/spark/contributors","subscribers_url":"https://api.github.com/repos/stefankandic/spark/subscribers","subscription_url":"https://api.github.com/repos/stefankandic/spark/subscription","commits_url":"https://api.github.com/repos/stefankandic/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/stefankandic/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/stefankandic/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/stefankandic/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/stefankandic/spark/contents/{+path}","compare_url":"https://api.github.com/repos/stefankandic/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/stefankandic/spark/merges","archive_url":"https://api.github.com/repos/stefankandic/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/stefankandic/spark/downloads","issues_url":"https://api.github.com/repos/stefankandic/spark/issues{/number}","pulls_url":"https://api.github.com/repos/stefankandic/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/stefankandic/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/stefankandic/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/stefankandic/spark/labels{/name}","releases_url":"https://api.github.com/repos/stefankandic/spark/releases{/id}","deployments_url":"https://api.github.com/repos/stefankandic/spark/deployments","created_at":"2023-12-22T11:54:18Z","updated_at":"2024-10-23T17:40:10Z","pushed_at":"2025-02-04T22:21:43Z","git_url":"git://github.com/stefankandic/spark.git","ssh_url":"git@github.com:stefankandic/spark.git","clone_url":"https://github.com/stefankandic/spark.git","svn_url":"https://github.com/stefankandic/spark","homepage":"https://spark.apache.org/","size":434684,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1abfd490d072850ae40c46c1a0f1791a8aaa5698","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48443"},"html":{"href":"https://github.com/apache/spark/pull/48443"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48443"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48443/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48443/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48443/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/eec787fce28d60b86f3ab330c98351fdb7702f1b"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48442","id":2121533847,"node_id":"PR_kwDOAQXtWs5-dAmX","html_url":"https://github.com/apache/spark/pull/48442","diff_url":"https://github.com/apache/spark/pull/48442.diff","patch_url":"https://github.com/apache/spark/pull/48442.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48442","number":48442,"state":"closed","locked":false,"title":"[SPARK-49946][CORE] Require an error class in `SparkOutOfMemoryError`","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nIn the PR, I propose to remove the constructors that accept a plan string as an error message, and leave only constructors with the error classes.\r\n\r\n### Why are the changes needed?\r\nTo migrate the code which uses `SparkOutOfMemoryError` on new error framework.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo, it shouldn't because the exception is supposed to raised by Spark.\r\n\r\n### How was this patch tested?\r\nBy running the modified test suites:\r\n```\r\n$ build/sbt \"core/testOnly *ExecutorSuite\"\r\n```\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.","created_at":"2024-10-13T16:58:54Z","updated_at":"2024-10-16T07:21:56Z","closed_at":"2024-10-16T07:21:56Z","merged_at":null,"merge_commit_sha":"c9c90d9d34d6b1f0dce2f784713e09f644984384","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48442/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48442/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48442/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/72d010dcdeeb7a675aab9496c847a2c843cb2ca6","head":{"label":"MaxGekk:req-error-cond-SparkOutOfMemoryError","ref":"req-error-cond-SparkOutOfMemoryError","sha":"72d010dcdeeb7a675aab9496c847a2c843cb2ca6","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":123690489,"node_id":"MDEwOlJlcG9zaXRvcnkxMjM2OTA0ODk=","name":"spark","full_name":"MaxGekk/spark","private":false,"owner":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/MaxGekk/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/MaxGekk/spark","forks_url":"https://api.github.com/repos/MaxGekk/spark/forks","keys_url":"https://api.github.com/repos/MaxGekk/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/MaxGekk/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/MaxGekk/spark/teams","hooks_url":"https://api.github.com/repos/MaxGekk/spark/hooks","issue_events_url":"https://api.github.com/repos/MaxGekk/spark/issues/events{/number}","events_url":"https://api.github.com/repos/MaxGekk/spark/events","assignees_url":"https://api.github.com/repos/MaxGekk/spark/assignees{/user}","branches_url":"https://api.github.com/repos/MaxGekk/spark/branches{/branch}","tags_url":"https://api.github.com/repos/MaxGekk/spark/tags","blobs_url":"https://api.github.com/repos/MaxGekk/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/MaxGekk/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/MaxGekk/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/MaxGekk/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/MaxGekk/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/MaxGekk/spark/languages","stargazers_url":"https://api.github.com/repos/MaxGekk/spark/stargazers","contributors_url":"https://api.github.com/repos/MaxGekk/spark/contributors","subscribers_url":"https://api.github.com/repos/MaxGekk/spark/subscribers","subscription_url":"https://api.github.com/repos/MaxGekk/spark/subscription","commits_url":"https://api.github.com/repos/MaxGekk/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/MaxGekk/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/MaxGekk/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/MaxGekk/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/MaxGekk/spark/contents/{+path}","compare_url":"https://api.github.com/repos/MaxGekk/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/MaxGekk/spark/merges","archive_url":"https://api.github.com/repos/MaxGekk/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/MaxGekk/spark/downloads","issues_url":"https://api.github.com/repos/MaxGekk/spark/issues{/number}","pulls_url":"https://api.github.com/repos/MaxGekk/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/MaxGekk/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/MaxGekk/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/MaxGekk/spark/labels{/name}","releases_url":"https://api.github.com/repos/MaxGekk/spark/releases{/id}","deployments_url":"https://api.github.com/repos/MaxGekk/spark/deployments","created_at":"2018-03-03T12:37:00Z","updated_at":"2025-02-07T09:44:52Z","pushed_at":"2025-02-07T09:44:24Z","git_url":"git://github.com/MaxGekk/spark.git","ssh_url":"git@github.com:MaxGekk/spark.git","clone_url":"https://github.com/MaxGekk/spark.git","svn_url":"https://github.com/MaxGekk/spark","homepage":null,"size":486456,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1abfd490d072850ae40c46c1a0f1791a8aaa5698","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48442"},"html":{"href":"https://github.com/apache/spark/pull/48442"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48442"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48442/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48442/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48442/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/72d010dcdeeb7a675aab9496c847a2c843cb2ca6"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48441","id":2121450320,"node_id":"PR_kwDOAQXtWs5-csNQ","html_url":"https://github.com/apache/spark/pull/48441","diff_url":"https://github.com/apache/spark/pull/48441.diff","patch_url":"https://github.com/apache/spark/pull/48441.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48441","number":48441,"state":"open","locked":false,"title":"[SPARK-50727] Call skipChildren for nested object","user":{"login":"tedyu","id":235188,"node_id":"MDQ6VXNlcjIzNTE4OA==","avatar_url":"https://avatars.githubusercontent.com/u/235188?v=4","gravatar_id":"","url":"https://api.github.com/users/tedyu","html_url":"https://github.com/tedyu","followers_url":"https://api.github.com/users/tedyu/followers","following_url":"https://api.github.com/users/tedyu/following{/other_user}","gists_url":"https://api.github.com/users/tedyu/gists{/gist_id}","starred_url":"https://api.github.com/users/tedyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tedyu/subscriptions","organizations_url":"https://api.github.com/users/tedyu/orgs","repos_url":"https://api.github.com/users/tedyu/repos","events_url":"https://api.github.com/users/tedyu/events{/privacy}","received_events_url":"https://api.github.com/users/tedyu/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nIn `jsonObjectKeys`, we should call `skipChildren()` properly for nested object.\r\n\r\n### Why are the changes needed?\r\nCurrently if `jsonParser.currentName()` is null, the loop is terminated.\r\nWe should relocate the current name check inside the loop.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.","created_at":"2024-10-13T13:05:10Z","updated_at":"2025-01-05T12:18:23Z","closed_at":null,"merged_at":null,"merge_commit_sha":"37850725110832aed69eb4b6169a8429225fa8bf","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48441/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48441/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48441/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/288a7f8703d722583fc8228359c8561c935a6680","head":{"label":"tedyu:json-obj-key","ref":"json-obj-key","sha":"288a7f8703d722583fc8228359c8561c935a6680","user":{"login":"tedyu","id":235188,"node_id":"MDQ6VXNlcjIzNTE4OA==","avatar_url":"https://avatars.githubusercontent.com/u/235188?v=4","gravatar_id":"","url":"https://api.github.com/users/tedyu","html_url":"https://github.com/tedyu","followers_url":"https://api.github.com/users/tedyu/followers","following_url":"https://api.github.com/users/tedyu/following{/other_user}","gists_url":"https://api.github.com/users/tedyu/gists{/gist_id}","starred_url":"https://api.github.com/users/tedyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tedyu/subscriptions","organizations_url":"https://api.github.com/users/tedyu/orgs","repos_url":"https://api.github.com/users/tedyu/repos","events_url":"https://api.github.com/users/tedyu/events{/privacy}","received_events_url":"https://api.github.com/users/tedyu/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":325822007,"node_id":"MDEwOlJlcG9zaXRvcnkzMjU4MjIwMDc=","name":"spark","full_name":"tedyu/spark","private":false,"owner":{"login":"tedyu","id":235188,"node_id":"MDQ6VXNlcjIzNTE4OA==","avatar_url":"https://avatars.githubusercontent.com/u/235188?v=4","gravatar_id":"","url":"https://api.github.com/users/tedyu","html_url":"https://github.com/tedyu","followers_url":"https://api.github.com/users/tedyu/followers","following_url":"https://api.github.com/users/tedyu/following{/other_user}","gists_url":"https://api.github.com/users/tedyu/gists{/gist_id}","starred_url":"https://api.github.com/users/tedyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tedyu/subscriptions","organizations_url":"https://api.github.com/users/tedyu/orgs","repos_url":"https://api.github.com/users/tedyu/repos","events_url":"https://api.github.com/users/tedyu/events{/privacy}","received_events_url":"https://api.github.com/users/tedyu/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/tedyu/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/tedyu/spark","forks_url":"https://api.github.com/repos/tedyu/spark/forks","keys_url":"https://api.github.com/repos/tedyu/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tedyu/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tedyu/spark/teams","hooks_url":"https://api.github.com/repos/tedyu/spark/hooks","issue_events_url":"https://api.github.com/repos/tedyu/spark/issues/events{/number}","events_url":"https://api.github.com/repos/tedyu/spark/events","assignees_url":"https://api.github.com/repos/tedyu/spark/assignees{/user}","branches_url":"https://api.github.com/repos/tedyu/spark/branches{/branch}","tags_url":"https://api.github.com/repos/tedyu/spark/tags","blobs_url":"https://api.github.com/repos/tedyu/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tedyu/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tedyu/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/tedyu/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tedyu/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/tedyu/spark/languages","stargazers_url":"https://api.github.com/repos/tedyu/spark/stargazers","contributors_url":"https://api.github.com/repos/tedyu/spark/contributors","subscribers_url":"https://api.github.com/repos/tedyu/spark/subscribers","subscription_url":"https://api.github.com/repos/tedyu/spark/subscription","commits_url":"https://api.github.com/repos/tedyu/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/tedyu/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/tedyu/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/tedyu/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/tedyu/spark/contents/{+path}","compare_url":"https://api.github.com/repos/tedyu/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tedyu/spark/merges","archive_url":"https://api.github.com/repos/tedyu/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tedyu/spark/downloads","issues_url":"https://api.github.com/repos/tedyu/spark/issues{/number}","pulls_url":"https://api.github.com/repos/tedyu/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/tedyu/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/tedyu/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tedyu/spark/labels{/name}","releases_url":"https://api.github.com/repos/tedyu/spark/releases{/id}","deployments_url":"https://api.github.com/repos/tedyu/spark/deployments","created_at":"2020-12-31T15:02:53Z","updated_at":"2024-08-20T17:49:00Z","pushed_at":"2025-01-05T16:23:32Z","git_url":"git://github.com/tedyu/spark.git","ssh_url":"git@github.com:tedyu/spark.git","clone_url":"https://github.com/tedyu/spark.git","svn_url":"https://github.com/tedyu/spark","homepage":"https://spark.apache.org/","size":455362,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1abfd490d072850ae40c46c1a0f1791a8aaa5698","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48441"},"html":{"href":"https://github.com/apache/spark/pull/48441"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48441"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48441/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48441/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48441/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/288a7f8703d722583fc8228359c8561c935a6680"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48440","id":2121429422,"node_id":"PR_kwDOAQXtWs5-cnGu","html_url":"https://github.com/apache/spark/pull/48440","diff_url":"https://github.com/apache/spark/pull/48440.diff","patch_url":"https://github.com/apache/spark/pull/48440.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48440","number":48440,"state":"open","locked":false,"title":"[SPARK-49953][CORE] Require `errorClass` in `SparkException`","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nIn the PR, I propose to remove the constructors of `SparkException` that accept a plan string as an error message, and leave only constructors with the error classes.\r\n\r\n### Why are the changes needed?\r\nTo migrate the code which uses `SparkException` on new error framework.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, but the exception is supposed to raised by Spark.\r\n\r\n### How was this patch tested?\r\nBy running the modified test suites:\r\n```\r\n$ build/sbt \"sql/testOnly org.apache.spark.sql.SQLQueryTestSuite\"\r\n```\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.","created_at":"2024-10-13T12:03:22Z","updated_at":"2024-12-16T21:01:23Z","closed_at":null,"merged_at":null,"merge_commit_sha":null,"assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48440/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48440/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48440/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b464bfbf32da774fad82ee5fd7c7163379c4ed08","head":{"label":"MaxGekk:req-error-cond-SparkException-2","ref":"req-error-cond-SparkException-2","sha":"b464bfbf32da774fad82ee5fd7c7163379c4ed08","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":123690489,"node_id":"MDEwOlJlcG9zaXRvcnkxMjM2OTA0ODk=","name":"spark","full_name":"MaxGekk/spark","private":false,"owner":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/MaxGekk/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/MaxGekk/spark","forks_url":"https://api.github.com/repos/MaxGekk/spark/forks","keys_url":"https://api.github.com/repos/MaxGekk/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/MaxGekk/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/MaxGekk/spark/teams","hooks_url":"https://api.github.com/repos/MaxGekk/spark/hooks","issue_events_url":"https://api.github.com/repos/MaxGekk/spark/issues/events{/number}","events_url":"https://api.github.com/repos/MaxGekk/spark/events","assignees_url":"https://api.github.com/repos/MaxGekk/spark/assignees{/user}","branches_url":"https://api.github.com/repos/MaxGekk/spark/branches{/branch}","tags_url":"https://api.github.com/repos/MaxGekk/spark/tags","blobs_url":"https://api.github.com/repos/MaxGekk/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/MaxGekk/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/MaxGekk/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/MaxGekk/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/MaxGekk/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/MaxGekk/spark/languages","stargazers_url":"https://api.github.com/repos/MaxGekk/spark/stargazers","contributors_url":"https://api.github.com/repos/MaxGekk/spark/contributors","subscribers_url":"https://api.github.com/repos/MaxGekk/spark/subscribers","subscription_url":"https://api.github.com/repos/MaxGekk/spark/subscription","commits_url":"https://api.github.com/repos/MaxGekk/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/MaxGekk/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/MaxGekk/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/MaxGekk/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/MaxGekk/spark/contents/{+path}","compare_url":"https://api.github.com/repos/MaxGekk/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/MaxGekk/spark/merges","archive_url":"https://api.github.com/repos/MaxGekk/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/MaxGekk/spark/downloads","issues_url":"https://api.github.com/repos/MaxGekk/spark/issues{/number}","pulls_url":"https://api.github.com/repos/MaxGekk/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/MaxGekk/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/MaxGekk/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/MaxGekk/spark/labels{/name}","releases_url":"https://api.github.com/repos/MaxGekk/spark/releases{/id}","deployments_url":"https://api.github.com/repos/MaxGekk/spark/deployments","created_at":"2018-03-03T12:37:00Z","updated_at":"2025-02-07T09:44:52Z","pushed_at":"2025-02-07T09:44:24Z","git_url":"git://github.com/MaxGekk/spark.git","ssh_url":"git@github.com:MaxGekk/spark.git","clone_url":"https://github.com/MaxGekk/spark.git","svn_url":"https://github.com/MaxGekk/spark","homepage":null,"size":486456,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"7066f061264b41dc60f45e94bd462da84f1a5b00","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48440"},"html":{"href":"https://github.com/apache/spark/pull/48440"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48440"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48440/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48440/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48440/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b464bfbf32da774fad82ee5fd7c7163379c4ed08"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48439","id":2121423302,"node_id":"PR_kwDOAQXtWs5-clnG","html_url":"https://github.com/apache/spark/pull/48439","diff_url":"https://github.com/apache/spark/pull/48439.diff","patch_url":"https://github.com/apache/spark/pull/48439.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48439","number":48439,"state":"closed","locked":false,"title":"[SPARK-49945][PS][CONNECT] Add alias for `distributed_id`","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n1, make `registerInternalExpression` support alias;\r\n2, add alias `distributed_id` for `MonotonicallyIncreasingID` (rename `distributed_index` to `distributed_id` to be more consistent with existing `distributed_sequence_id`);\r\n3, remove `distributedIndex` from `PythonSQLUtils`\r\n\r\n\r\n### Why are the changes needed?\r\nmake PS on Connect more consistent with Classic:\r\n\r\n```py\r\nIn [9]: ps.set_option(\"compute.default_index_type\", \"distributed\")\r\nIn [10]: spark_frame = ps.range(10).to_spark()\r\nIn [11]: InternalFrame.attach_default_index(spark_frame).explain(True)\r\n```\r\n\r\nbefore:\r\n![image](https://github.com/user-attachments/assets/6ce1fb5f-a3c6-42d5-a21e-3925207cb4d0)\r\n\r\n```\r\n== Parsed Logical Plan ==\r\n'Project ['monotonically_increasing_id() AS __index_level_0__#27, 'id]\r\n+- 'Project ['id]\r\n   +- Project [__index_level_0__#19L, id#16L, monotonically_increasing_id() AS __natural_order__#22L]\r\n      +- Project [monotonically_increasing_id() AS __index_level_0__#19L, id#16L]\r\n         +- Range (0, 10, step=1, splits=Some(12))\r\n...\r\n```\r\n\r\nafter:\r\n![image](https://github.com/user-attachments/assets/00d3a8a1-251c-4cee-851e-c10f294d5248)\r\n```\r\n== Parsed Logical Plan ==\r\n'Project ['distributed_id() AS __index_level_0__#65, *]\r\n+- 'Project ['id]\r\n   +- Project [__index_level_0__#45L, id#42L, monotonically_increasing_id() AS __natural_order__#48L]\r\n      +- Project [distributed_id() AS __index_level_0__#45L, id#42L]\r\n         +- Range (0, 10, step=1, splits=Some(12))\r\n...\r\n```\r\n\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nspark ui\r\n\r\n\r\n### How was this patch tested?\r\nexisting test and manually check\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nno\r\n","created_at":"2024-10-13T11:44:37Z","updated_at":"2024-10-17T03:12:30Z","closed_at":"2024-10-17T02:29:04Z","merged_at":null,"merge_commit_sha":"42ea36fb2393817f51e2635a614365c9d29ee0d6","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4138679613,"node_id":"LA_kwDOAQXtWs72rz09","url":"https://api.github.com/repos/apache/spark/labels/PANDAS%20API%20ON%20SPARK","name":"PANDAS API ON SPARK","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48439/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48439/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48439/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/f2de1c9b9dfe24a2566c98a750cfb646a788cc2d","head":{"label":"zhengruifeng:distributed_index","ref":"distributed_index","sha":"f2de1c9b9dfe24a2566c98a750cfb646a788cc2d","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":51584791,"node_id":"MDEwOlJlcG9zaXRvcnk1MTU4NDc5MQ==","name":"spark","full_name":"zhengruifeng/spark","private":false,"owner":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhengruifeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zhengruifeng/spark","forks_url":"https://api.github.com/repos/zhengruifeng/spark/forks","keys_url":"https://api.github.com/repos/zhengruifeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhengruifeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhengruifeng/spark/teams","hooks_url":"https://api.github.com/repos/zhengruifeng/spark/hooks","issue_events_url":"https://api.github.com/repos/zhengruifeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhengruifeng/spark/events","assignees_url":"https://api.github.com/repos/zhengruifeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhengruifeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhengruifeng/spark/tags","blobs_url":"https://api.github.com/repos/zhengruifeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhengruifeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhengruifeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhengruifeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhengruifeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhengruifeng/spark/languages","stargazers_url":"https://api.github.com/repos/zhengruifeng/spark/stargazers","contributors_url":"https://api.github.com/repos/zhengruifeng/spark/contributors","subscribers_url":"https://api.github.com/repos/zhengruifeng/spark/subscribers","subscription_url":"https://api.github.com/repos/zhengruifeng/spark/subscription","commits_url":"https://api.github.com/repos/zhengruifeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhengruifeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhengruifeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhengruifeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhengruifeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhengruifeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhengruifeng/spark/merges","archive_url":"https://api.github.com/repos/zhengruifeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhengruifeng/spark/downloads","issues_url":"https://api.github.com/repos/zhengruifeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhengruifeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhengruifeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhengruifeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhengruifeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhengruifeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhengruifeng/spark/deployments","created_at":"2016-02-12T11:58:00Z","updated_at":"2025-02-09T01:55:22Z","pushed_at":"2025-02-09T01:55:17Z","git_url":"git://github.com/zhengruifeng/spark.git","ssh_url":"git@github.com:zhengruifeng/spark.git","clone_url":"https://github.com/zhengruifeng/spark.git","svn_url":"https://github.com/zhengruifeng/spark","homepage":null,"size":434785,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1abfd490d072850ae40c46c1a0f1791a8aaa5698","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48439"},"html":{"href":"https://github.com/apache/spark/pull/48439"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48439"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48439/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48439/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48439/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/f2de1c9b9dfe24a2566c98a750cfb646a788cc2d"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48438","id":2121286020,"node_id":"PR_kwDOAQXtWs5-cEGE","html_url":"https://github.com/apache/spark/pull/48438","diff_url":"https://github.com/apache/spark/pull/48438.diff","patch_url":"https://github.com/apache/spark/pull/48438.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48438","number":48438,"state":"closed","locked":false,"title":"[SPARK-49944][DOCS] Fix broken main.js import and fix image links for streaming documentation","user":{"login":"neilramaswamy","id":33679306,"node_id":"MDQ6VXNlcjMzNjc5MzA2","avatar_url":"https://avatars.githubusercontent.com/u/33679306?v=4","gravatar_id":"","url":"https://api.github.com/users/neilramaswamy","html_url":"https://github.com/neilramaswamy","followers_url":"https://api.github.com/users/neilramaswamy/followers","following_url":"https://api.github.com/users/neilramaswamy/following{/other_user}","gists_url":"https://api.github.com/users/neilramaswamy/gists{/gist_id}","starred_url":"https://api.github.com/users/neilramaswamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neilramaswamy/subscriptions","organizations_url":"https://api.github.com/users/neilramaswamy/orgs","repos_url":"https://api.github.com/users/neilramaswamy/repos","events_url":"https://api.github.com/users/neilramaswamy/events{/privacy}","received_events_url":"https://api.github.com/users/neilramaswamy/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nWe use the `rel_path_to_root` Jekyll variable in front of all paths that require it.\r\n\r\n\r\n### Why are the changes needed?\r\n\r\nCurrently, our import to `main.js` and AnchorJS are broken in the Spark 4.0.0-2 preview. Also, images aren't appearing for the Structured Streaming doc pages. See the [ASF issue](https://issues.apache.org/jira/browse/SPARK-49944) for more detail.\r\n\r\nYou can see how the pages are broken [here](https://spark.apache.org/docs/4.0.0-preview2/streaming/getting-started.html); here's a screenshot, for example:\r\n\r\n<img width=\"1168\" alt=\"image\" src=\"https://github.com/user-attachments/assets/d0dbc970-a5aa-445a-ae21-f4e32973f031\">\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nThe preview documentation will now have correctly rendered code blocks, and images will appear.\r\n\r\n### How was this patch tested?\r\n\r\nLocal testing. Please build the docs site if you would like to verify. It now looks like:\r\n\r\n<img width=\"1271\" alt=\"image\" src=\"https://github.com/user-attachments/assets/08b69f58-d6f4-41b0-bcb5-1af80782c133\">\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.\r\n","created_at":"2024-10-13T05:02:45Z","updated_at":"2024-10-22T03:08:22Z","closed_at":"2024-10-22T03:07:30Z","merged_at":null,"merge_commit_sha":"d679721edc5a0781f63e2275cc8dd40e39bcf6b7","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48438/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48438/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48438/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/cb30c0f4152385c73e23e5453d30a4073c7934d5","head":{"label":"neilramaswamy:nr/fix-broken-streaming-links-images","ref":"nr/fix-broken-streaming-links-images","sha":"cb30c0f4152385c73e23e5453d30a4073c7934d5","user":{"login":"neilramaswamy","id":33679306,"node_id":"MDQ6VXNlcjMzNjc5MzA2","avatar_url":"https://avatars.githubusercontent.com/u/33679306?v=4","gravatar_id":"","url":"https://api.github.com/users/neilramaswamy","html_url":"https://github.com/neilramaswamy","followers_url":"https://api.github.com/users/neilramaswamy/followers","following_url":"https://api.github.com/users/neilramaswamy/following{/other_user}","gists_url":"https://api.github.com/users/neilramaswamy/gists{/gist_id}","starred_url":"https://api.github.com/users/neilramaswamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neilramaswamy/subscriptions","organizations_url":"https://api.github.com/users/neilramaswamy/orgs","repos_url":"https://api.github.com/users/neilramaswamy/repos","events_url":"https://api.github.com/users/neilramaswamy/events{/privacy}","received_events_url":"https://api.github.com/users/neilramaswamy/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":688675173,"node_id":"R_kgDOKQxZZQ","name":"nr-spark","full_name":"neilramaswamy/nr-spark","private":false,"owner":{"login":"neilramaswamy","id":33679306,"node_id":"MDQ6VXNlcjMzNjc5MzA2","avatar_url":"https://avatars.githubusercontent.com/u/33679306?v=4","gravatar_id":"","url":"https://api.github.com/users/neilramaswamy","html_url":"https://github.com/neilramaswamy","followers_url":"https://api.github.com/users/neilramaswamy/followers","following_url":"https://api.github.com/users/neilramaswamy/following{/other_user}","gists_url":"https://api.github.com/users/neilramaswamy/gists{/gist_id}","starred_url":"https://api.github.com/users/neilramaswamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neilramaswamy/subscriptions","organizations_url":"https://api.github.com/users/neilramaswamy/orgs","repos_url":"https://api.github.com/users/neilramaswamy/repos","events_url":"https://api.github.com/users/neilramaswamy/events{/privacy}","received_events_url":"https://api.github.com/users/neilramaswamy/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/neilramaswamy/nr-spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/neilramaswamy/nr-spark","forks_url":"https://api.github.com/repos/neilramaswamy/nr-spark/forks","keys_url":"https://api.github.com/repos/neilramaswamy/nr-spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/neilramaswamy/nr-spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/neilramaswamy/nr-spark/teams","hooks_url":"https://api.github.com/repos/neilramaswamy/nr-spark/hooks","issue_events_url":"https://api.github.com/repos/neilramaswamy/nr-spark/issues/events{/number}","events_url":"https://api.github.com/repos/neilramaswamy/nr-spark/events","assignees_url":"https://api.github.com/repos/neilramaswamy/nr-spark/assignees{/user}","branches_url":"https://api.github.com/repos/neilramaswamy/nr-spark/branches{/branch}","tags_url":"https://api.github.com/repos/neilramaswamy/nr-spark/tags","blobs_url":"https://api.github.com/repos/neilramaswamy/nr-spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/neilramaswamy/nr-spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/neilramaswamy/nr-spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/neilramaswamy/nr-spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/neilramaswamy/nr-spark/statuses/{sha}","languages_url":"https://api.github.com/repos/neilramaswamy/nr-spark/languages","stargazers_url":"https://api.github.com/repos/neilramaswamy/nr-spark/stargazers","contributors_url":"https://api.github.com/repos/neilramaswamy/nr-spark/contributors","subscribers_url":"https://api.github.com/repos/neilramaswamy/nr-spark/subscribers","subscription_url":"https://api.github.com/repos/neilramaswamy/nr-spark/subscription","commits_url":"https://api.github.com/repos/neilramaswamy/nr-spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/neilramaswamy/nr-spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/neilramaswamy/nr-spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/neilramaswamy/nr-spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/neilramaswamy/nr-spark/contents/{+path}","compare_url":"https://api.github.com/repos/neilramaswamy/nr-spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/neilramaswamy/nr-spark/merges","archive_url":"https://api.github.com/repos/neilramaswamy/nr-spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/neilramaswamy/nr-spark/downloads","issues_url":"https://api.github.com/repos/neilramaswamy/nr-spark/issues{/number}","pulls_url":"https://api.github.com/repos/neilramaswamy/nr-spark/pulls{/number}","milestones_url":"https://api.github.com/repos/neilramaswamy/nr-spark/milestones{/number}","notifications_url":"https://api.github.com/repos/neilramaswamy/nr-spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/neilramaswamy/nr-spark/labels{/name}","releases_url":"https://api.github.com/repos/neilramaswamy/nr-spark/releases{/id}","deployments_url":"https://api.github.com/repos/neilramaswamy/nr-spark/deployments","created_at":"2023-09-07T21:27:59Z","updated_at":"2024-11-16T00:36:11Z","pushed_at":"2025-02-05T15:05:46Z","git_url":"git://github.com/neilramaswamy/nr-spark.git","ssh_url":"git@github.com:neilramaswamy/nr-spark.git","clone_url":"https://github.com/neilramaswamy/nr-spark.git","svn_url":"https://github.com/neilramaswamy/nr-spark","homepage":"https://spark.apache.org/","size":423017,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":4,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":4,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"62ade5f3f42bdad200bfd9ca9e8110594f7c12e4","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48438"},"html":{"href":"https://github.com/apache/spark/pull/48438"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48438"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48438/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48438/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48438/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/cb30c0f4152385c73e23e5453d30a4073c7934d5"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48437","id":2121238956,"node_id":"PR_kwDOAQXtWs5-b4ms","html_url":"https://github.com/apache/spark/pull/48437","diff_url":"https://github.com/apache/spark/pull/48437.diff","patch_url":"https://github.com/apache/spark/pull/48437.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48437","number":48437,"state":"closed","locked":false,"title":"[SPARK-49943][PS] Remove `timestamp_ntz_to_long` from `PythonSQLUtils`","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nRemove `timestamp_ntz_to_long` from `PythonSQLUtils`\r\n\r\n\r\n### Why are the changes needed?\r\nwe no longer need to add internal functions in `PythonSQLUtils` for PySpark Classic\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nno\r\n\r\n### How was this patch tested?\r\nexisting tests\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nno","created_at":"2024-10-13T02:10:57Z","updated_at":"2024-10-13T11:02:28Z","closed_at":"2024-10-13T11:01:54Z","merged_at":null,"merge_commit_sha":"9b8af15e67dfd8d18984db6c6938cb27a8cd38cf","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4138679613,"node_id":"LA_kwDOAQXtWs72rz09","url":"https://api.github.com/repos/apache/spark/labels/PANDAS%20API%20ON%20SPARK","name":"PANDAS API ON SPARK","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48437/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48437/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48437/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/e0e2c9a97c93f0e2287b3155aae9ba51739089f1","head":{"label":"zhengruifeng:fun_cat_nzt","ref":"fun_cat_nzt","sha":"e0e2c9a97c93f0e2287b3155aae9ba51739089f1","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":51584791,"node_id":"MDEwOlJlcG9zaXRvcnk1MTU4NDc5MQ==","name":"spark","full_name":"zhengruifeng/spark","private":false,"owner":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhengruifeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zhengruifeng/spark","forks_url":"https://api.github.com/repos/zhengruifeng/spark/forks","keys_url":"https://api.github.com/repos/zhengruifeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhengruifeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhengruifeng/spark/teams","hooks_url":"https://api.github.com/repos/zhengruifeng/spark/hooks","issue_events_url":"https://api.github.com/repos/zhengruifeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhengruifeng/spark/events","assignees_url":"https://api.github.com/repos/zhengruifeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhengruifeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhengruifeng/spark/tags","blobs_url":"https://api.github.com/repos/zhengruifeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhengruifeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhengruifeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhengruifeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhengruifeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhengruifeng/spark/languages","stargazers_url":"https://api.github.com/repos/zhengruifeng/spark/stargazers","contributors_url":"https://api.github.com/repos/zhengruifeng/spark/contributors","subscribers_url":"https://api.github.com/repos/zhengruifeng/spark/subscribers","subscription_url":"https://api.github.com/repos/zhengruifeng/spark/subscription","commits_url":"https://api.github.com/repos/zhengruifeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhengruifeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhengruifeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhengruifeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhengruifeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhengruifeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhengruifeng/spark/merges","archive_url":"https://api.github.com/repos/zhengruifeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhengruifeng/spark/downloads","issues_url":"https://api.github.com/repos/zhengruifeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhengruifeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhengruifeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhengruifeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhengruifeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhengruifeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhengruifeng/spark/deployments","created_at":"2016-02-12T11:58:00Z","updated_at":"2025-02-09T01:55:22Z","pushed_at":"2025-02-09T01:55:17Z","git_url":"git://github.com/zhengruifeng/spark.git","ssh_url":"git@github.com:zhengruifeng/spark.git","clone_url":"https://github.com/zhengruifeng/spark.git","svn_url":"https://github.com/zhengruifeng/spark","homepage":null,"size":434785,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"62ade5f3f42bdad200bfd9ca9e8110594f7c12e4","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48437"},"html":{"href":"https://github.com/apache/spark/pull/48437"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48437"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48437/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48437/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48437/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/e0e2c9a97c93f0e2287b3155aae9ba51739089f1"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48436","id":2121149856,"node_id":"PR_kwDOAQXtWs5-bi2g","html_url":"https://github.com/apache/spark/pull/48436","diff_url":"https://github.com/apache/spark/pull/48436.diff","patch_url":"https://github.com/apache/spark/pull/48436.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48436","number":48436,"state":"open","locked":false,"title":"[SPARK-49992][SQL] Session level collation should not impact DDL queries","user":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\nThis PR proposes not using session-level collation in DDL commands (create/alter view/table, add/replace columns).\r\n\r\n\r\n### Why are the changes needed?\r\nThe default collation for DDL commands should be tied to the object being created or altered (e.g., table, view, schema) rather than the session-level setting. Since object-level collations are not yet supported, we will assume the UTF8_BINARY collation by default for now.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n### How was this patch tested?\r\nAdded new unit tests.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.","created_at":"2024-10-12T21:28:49Z","updated_at":"2024-11-13T18:01:15Z","closed_at":null,"merged_at":null,"merge_commit_sha":null,"assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48436/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48436/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48436/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/27059a8561f423b86af68a84620719bf004c7b2f","head":{"label":"stefankandic:fixSessionCollation","ref":"fixSessionCollation","sha":"27059a8561f423b86af68a84620719bf004c7b2f","user":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":734708961,"node_id":"R_kgDOK8rE4Q","name":"spark","full_name":"stefankandic/spark","private":false,"owner":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/stefankandic/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/stefankandic/spark","forks_url":"https://api.github.com/repos/stefankandic/spark/forks","keys_url":"https://api.github.com/repos/stefankandic/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/stefankandic/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/stefankandic/spark/teams","hooks_url":"https://api.github.com/repos/stefankandic/spark/hooks","issue_events_url":"https://api.github.com/repos/stefankandic/spark/issues/events{/number}","events_url":"https://api.github.com/repos/stefankandic/spark/events","assignees_url":"https://api.github.com/repos/stefankandic/spark/assignees{/user}","branches_url":"https://api.github.com/repos/stefankandic/spark/branches{/branch}","tags_url":"https://api.github.com/repos/stefankandic/spark/tags","blobs_url":"https://api.github.com/repos/stefankandic/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/stefankandic/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/stefankandic/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/stefankandic/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/stefankandic/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/stefankandic/spark/languages","stargazers_url":"https://api.github.com/repos/stefankandic/spark/stargazers","contributors_url":"https://api.github.com/repos/stefankandic/spark/contributors","subscribers_url":"https://api.github.com/repos/stefankandic/spark/subscribers","subscription_url":"https://api.github.com/repos/stefankandic/spark/subscription","commits_url":"https://api.github.com/repos/stefankandic/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/stefankandic/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/stefankandic/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/stefankandic/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/stefankandic/spark/contents/{+path}","compare_url":"https://api.github.com/repos/stefankandic/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/stefankandic/spark/merges","archive_url":"https://api.github.com/repos/stefankandic/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/stefankandic/spark/downloads","issues_url":"https://api.github.com/repos/stefankandic/spark/issues{/number}","pulls_url":"https://api.github.com/repos/stefankandic/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/stefankandic/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/stefankandic/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/stefankandic/spark/labels{/name}","releases_url":"https://api.github.com/repos/stefankandic/spark/releases{/id}","deployments_url":"https://api.github.com/repos/stefankandic/spark/deployments","created_at":"2023-12-22T11:54:18Z","updated_at":"2024-10-23T17:40:10Z","pushed_at":"2025-02-04T22:21:43Z","git_url":"git://github.com/stefankandic/spark.git","ssh_url":"git@github.com:stefankandic/spark.git","clone_url":"https://github.com/stefankandic/spark.git","svn_url":"https://github.com/stefankandic/spark","homepage":"https://spark.apache.org/","size":434684,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"b6c569fe4d702e91c47ed7848b3c5cc173e59b19","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48436"},"html":{"href":"https://github.com/apache/spark/pull/48436"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48436"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48436/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48436/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48436/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/27059a8561f423b86af68a84620719bf004c7b2f"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48433","id":2121131385,"node_id":"PR_kwDOAQXtWs5-beV5","html_url":"https://github.com/apache/spark/pull/48433","diff_url":"https://github.com/apache/spark/pull/48433.diff","patch_url":"https://github.com/apache/spark/pull/48433.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48433","number":48433,"state":"closed","locked":false,"title":"[SPARK-49942][SQL] Rename `errorClass` to `condition` in `classifyException()`","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nIn the PR, I propose to rename the `errorClass` parameter to `condition` in `JdbcDialect.classifyException` and in `JdbcUtils.classifyException`.\r\n\r\n### Why are the changes needed?\r\nTo follow new naming convention introduced by https://github.com/apache/spark/pull/44902.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo. The `classifyException` method has not been released yet.\r\n\r\n### How was this patch tested?\r\nBy running the existing GitHub actions.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.","created_at":"2024-10-12T20:08:58Z","updated_at":"2025-02-05T18:34:47Z","closed_at":"2025-02-05T18:34:47Z","merged_at":null,"merge_commit_sha":"c0ef2b4c0a545594835ea9eac1605f7d15624563","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48433/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48433/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48433/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/a20f42f20055083c592718923315344388bc8a9e","head":{"label":"MaxGekk:rename-errorClass-classifyException","ref":"rename-errorClass-classifyException","sha":"a20f42f20055083c592718923315344388bc8a9e","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":123690489,"node_id":"MDEwOlJlcG9zaXRvcnkxMjM2OTA0ODk=","name":"spark","full_name":"MaxGekk/spark","private":false,"owner":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/MaxGekk/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/MaxGekk/spark","forks_url":"https://api.github.com/repos/MaxGekk/spark/forks","keys_url":"https://api.github.com/repos/MaxGekk/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/MaxGekk/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/MaxGekk/spark/teams","hooks_url":"https://api.github.com/repos/MaxGekk/spark/hooks","issue_events_url":"https://api.github.com/repos/MaxGekk/spark/issues/events{/number}","events_url":"https://api.github.com/repos/MaxGekk/spark/events","assignees_url":"https://api.github.com/repos/MaxGekk/spark/assignees{/user}","branches_url":"https://api.github.com/repos/MaxGekk/spark/branches{/branch}","tags_url":"https://api.github.com/repos/MaxGekk/spark/tags","blobs_url":"https://api.github.com/repos/MaxGekk/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/MaxGekk/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/MaxGekk/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/MaxGekk/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/MaxGekk/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/MaxGekk/spark/languages","stargazers_url":"https://api.github.com/repos/MaxGekk/spark/stargazers","contributors_url":"https://api.github.com/repos/MaxGekk/spark/contributors","subscribers_url":"https://api.github.com/repos/MaxGekk/spark/subscribers","subscription_url":"https://api.github.com/repos/MaxGekk/spark/subscription","commits_url":"https://api.github.com/repos/MaxGekk/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/MaxGekk/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/MaxGekk/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/MaxGekk/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/MaxGekk/spark/contents/{+path}","compare_url":"https://api.github.com/repos/MaxGekk/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/MaxGekk/spark/merges","archive_url":"https://api.github.com/repos/MaxGekk/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/MaxGekk/spark/downloads","issues_url":"https://api.github.com/repos/MaxGekk/spark/issues{/number}","pulls_url":"https://api.github.com/repos/MaxGekk/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/MaxGekk/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/MaxGekk/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/MaxGekk/spark/labels{/name}","releases_url":"https://api.github.com/repos/MaxGekk/spark/releases{/id}","deployments_url":"https://api.github.com/repos/MaxGekk/spark/deployments","created_at":"2018-03-03T12:37:00Z","updated_at":"2025-02-07T09:44:52Z","pushed_at":"2025-02-07T09:44:24Z","git_url":"git://github.com/MaxGekk/spark.git","ssh_url":"git@github.com:MaxGekk/spark.git","clone_url":"https://github.com/MaxGekk/spark.git","svn_url":"https://github.com/MaxGekk/spark","homepage":null,"size":486456,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ec587936e8810282990a791df81c34d9f5abe8ee","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48433"},"html":{"href":"https://github.com/apache/spark/pull/48433"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48433"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48433/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48433/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48433/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/a20f42f20055083c592718923315344388bc8a9e"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48432","id":2121117036,"node_id":"PR_kwDOAQXtWs5-ba1s","html_url":"https://github.com/apache/spark/pull/48432","diff_url":"https://github.com/apache/spark/pull/48432.diff","patch_url":"https://github.com/apache/spark/pull/48432.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48432","number":48432,"state":"closed","locked":false,"title":"[MINOR][CORE] Fix the regenerate command in `SparkThrowableSuite`","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nFix the command in `SparkThrowableSuite` which regenerates/re-formats `error-conditions.json`.\r\n\r\n### Why are the changes needed?\r\nTo don't confuses other devs.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n### How was this patch tested?\r\nBy running the changes command:\r\n```\r\n$ SPARK_GENERATE_GOLDEN_FILES=1 build/sbt \"core/testOnly *SparkThrowableSuite -- -t \\\"Error conditions are correctly formatted\\\"\"\r\n```\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.","created_at":"2024-10-12T19:32:14Z","updated_at":"2024-10-14T07:24:16Z","closed_at":"2024-10-14T07:24:16Z","merged_at":null,"merge_commit_sha":"d07d7644bf1266345ccc3815bde3524fed268bc4","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48432/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48432/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48432/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/72ca5734420993306e1a36aae88e833756e54c0a","head":{"label":"MaxGekk:fix-regenerateCommand","ref":"fix-regenerateCommand","sha":"72ca5734420993306e1a36aae88e833756e54c0a","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":123690489,"node_id":"MDEwOlJlcG9zaXRvcnkxMjM2OTA0ODk=","name":"spark","full_name":"MaxGekk/spark","private":false,"owner":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/MaxGekk/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/MaxGekk/spark","forks_url":"https://api.github.com/repos/MaxGekk/spark/forks","keys_url":"https://api.github.com/repos/MaxGekk/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/MaxGekk/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/MaxGekk/spark/teams","hooks_url":"https://api.github.com/repos/MaxGekk/spark/hooks","issue_events_url":"https://api.github.com/repos/MaxGekk/spark/issues/events{/number}","events_url":"https://api.github.com/repos/MaxGekk/spark/events","assignees_url":"https://api.github.com/repos/MaxGekk/spark/assignees{/user}","branches_url":"https://api.github.com/repos/MaxGekk/spark/branches{/branch}","tags_url":"https://api.github.com/repos/MaxGekk/spark/tags","blobs_url":"https://api.github.com/repos/MaxGekk/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/MaxGekk/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/MaxGekk/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/MaxGekk/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/MaxGekk/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/MaxGekk/spark/languages","stargazers_url":"https://api.github.com/repos/MaxGekk/spark/stargazers","contributors_url":"https://api.github.com/repos/MaxGekk/spark/contributors","subscribers_url":"https://api.github.com/repos/MaxGekk/spark/subscribers","subscription_url":"https://api.github.com/repos/MaxGekk/spark/subscription","commits_url":"https://api.github.com/repos/MaxGekk/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/MaxGekk/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/MaxGekk/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/MaxGekk/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/MaxGekk/spark/contents/{+path}","compare_url":"https://api.github.com/repos/MaxGekk/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/MaxGekk/spark/merges","archive_url":"https://api.github.com/repos/MaxGekk/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/MaxGekk/spark/downloads","issues_url":"https://api.github.com/repos/MaxGekk/spark/issues{/number}","pulls_url":"https://api.github.com/repos/MaxGekk/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/MaxGekk/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/MaxGekk/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/MaxGekk/spark/labels{/name}","releases_url":"https://api.github.com/repos/MaxGekk/spark/releases{/id}","deployments_url":"https://api.github.com/repos/MaxGekk/spark/deployments","created_at":"2018-03-03T12:37:00Z","updated_at":"2025-02-07T09:44:52Z","pushed_at":"2025-02-07T09:44:24Z","git_url":"git://github.com/MaxGekk/spark.git","ssh_url":"git@github.com:MaxGekk/spark.git","clone_url":"https://github.com/MaxGekk/spark.git","svn_url":"https://github.com/MaxGekk/spark","homepage":null,"size":486456,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"62ade5f3f42bdad200bfd9ca9e8110594f7c12e4","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48432"},"html":{"href":"https://github.com/apache/spark/pull/48432"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48432"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48432/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48432/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48432/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/72ca5734420993306e1a36aae88e833756e54c0a"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48431","id":2120853935,"node_id":"PR_kwDOAQXtWs5-aamv","html_url":"https://github.com/apache/spark/pull/48431","diff_url":"https://github.com/apache/spark/pull/48431.diff","patch_url":"https://github.com/apache/spark/pull/48431.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48431","number":48431,"state":"open","locked":false,"title":"[SPARK-49941][CORE] Rename `errorClass` to `condition` in errors of the JSON format","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nIn the PR, I propose to rename the `errorClass` to `condition` in errors in the JSON formats: `MINIMAL` and `STANDARD`.\r\n\r\nFor example:\r\n\r\n```json\r\n{\r\n  \"condition\" : \"DIVIDE_BY_ZERO\",\r\n  \"sqlState\" : \"22012\",\r\n  \"messageParameters\" : { \"config\" : \"CONFIG\"}\r\n}\r\n```\r\n\r\nThe name `condition` was taken because it is used the SQL standard:\r\n<img width=\"920\" alt=\"Screenshot 2024-10-09 at 19 38 51\" src=\"https://github.com/user-attachments/assets/bd17ce98-3f99-4419-a3aa-927cf162d696\">\r\nand no need extra words as a suffix or prefix in the context of error message format.\r\n\r\n### Why are the changes needed?\r\nTo follow new naming convention introduced by https://github.com/apache/spark/pull/44902.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes.\r\n\r\n### How was this patch tested?\r\nBy running the affected tests:\r\n```\r\n$ build/sbt \"sql/testOnly org.apache.spark.sql.SQLQueryTestSuite\"\r\n```\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.","created_at":"2024-10-12T12:53:04Z","updated_at":"2025-01-15T09:51:10Z","closed_at":null,"merged_at":null,"merge_commit_sha":null,"assignee":null,"assignees":[],"requested_reviewers":[{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48431/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48431/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48431/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/a8acad8be1040ac870825c51996cc3cb69fd5340","head":{"label":"MaxGekk:json-error-msg-condition","ref":"json-error-msg-condition","sha":"a8acad8be1040ac870825c51996cc3cb69fd5340","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":123690489,"node_id":"MDEwOlJlcG9zaXRvcnkxMjM2OTA0ODk=","name":"spark","full_name":"MaxGekk/spark","private":false,"owner":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/MaxGekk/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/MaxGekk/spark","forks_url":"https://api.github.com/repos/MaxGekk/spark/forks","keys_url":"https://api.github.com/repos/MaxGekk/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/MaxGekk/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/MaxGekk/spark/teams","hooks_url":"https://api.github.com/repos/MaxGekk/spark/hooks","issue_events_url":"https://api.github.com/repos/MaxGekk/spark/issues/events{/number}","events_url":"https://api.github.com/repos/MaxGekk/spark/events","assignees_url":"https://api.github.com/repos/MaxGekk/spark/assignees{/user}","branches_url":"https://api.github.com/repos/MaxGekk/spark/branches{/branch}","tags_url":"https://api.github.com/repos/MaxGekk/spark/tags","blobs_url":"https://api.github.com/repos/MaxGekk/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/MaxGekk/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/MaxGekk/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/MaxGekk/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/MaxGekk/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/MaxGekk/spark/languages","stargazers_url":"https://api.github.com/repos/MaxGekk/spark/stargazers","contributors_url":"https://api.github.com/repos/MaxGekk/spark/contributors","subscribers_url":"https://api.github.com/repos/MaxGekk/spark/subscribers","subscription_url":"https://api.github.com/repos/MaxGekk/spark/subscription","commits_url":"https://api.github.com/repos/MaxGekk/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/MaxGekk/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/MaxGekk/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/MaxGekk/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/MaxGekk/spark/contents/{+path}","compare_url":"https://api.github.com/repos/MaxGekk/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/MaxGekk/spark/merges","archive_url":"https://api.github.com/repos/MaxGekk/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/MaxGekk/spark/downloads","issues_url":"https://api.github.com/repos/MaxGekk/spark/issues{/number}","pulls_url":"https://api.github.com/repos/MaxGekk/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/MaxGekk/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/MaxGekk/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/MaxGekk/spark/labels{/name}","releases_url":"https://api.github.com/repos/MaxGekk/spark/releases{/id}","deployments_url":"https://api.github.com/repos/MaxGekk/spark/deployments","created_at":"2018-03-03T12:37:00Z","updated_at":"2025-02-07T09:44:52Z","pushed_at":"2025-02-07T09:44:24Z","git_url":"git://github.com/MaxGekk/spark.git","ssh_url":"git@github.com:MaxGekk/spark.git","clone_url":"https://github.com/MaxGekk/spark.git","svn_url":"https://github.com/MaxGekk/spark","homepage":null,"size":486456,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"39bb2d84ce2203ce11189e50e44109c7f7323618","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48431"},"html":{"href":"https://github.com/apache/spark/pull/48431"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48431"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48431/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48431/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48431/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/a8acad8be1040ac870825c51996cc3cb69fd5340"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48430","id":2120667290,"node_id":"PR_kwDOAQXtWs5-ZtCa","html_url":"https://github.com/apache/spark/pull/48430","diff_url":"https://github.com/apache/spark/pull/48430.diff","patch_url":"https://github.com/apache/spark/pull/48430.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48430","number":48430,"state":"closed","locked":false,"title":"[SPARK-49940][CONNECT]Make 'limit n' in spark connect use executeCollect","user":{"login":"xieshuaihu","id":24190835,"node_id":"MDQ6VXNlcjI0MTkwODM1","avatar_url":"https://avatars.githubusercontent.com/u/24190835?v=4","gravatar_id":"","url":"https://api.github.com/users/xieshuaihu","html_url":"https://github.com/xieshuaihu","followers_url":"https://api.github.com/users/xieshuaihu/followers","following_url":"https://api.github.com/users/xieshuaihu/following{/other_user}","gists_url":"https://api.github.com/users/xieshuaihu/gists{/gist_id}","starred_url":"https://api.github.com/users/xieshuaihu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xieshuaihu/subscriptions","organizations_url":"https://api.github.com/users/xieshuaihu/orgs","repos_url":"https://api.github.com/users/xieshuaihu/repos","events_url":"https://api.github.com/users/xieshuaihu/events{/privacy}","received_events_url":"https://api.github.com/users/xieshuaihu/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nCall `executeCollect` when the DataFrame is `CollectLimitExec` or `CollectTailExec`.\r\n\r\n\r\n### Why are the changes needed?\r\n\r\nFor limit execution, `SparkPlan.executeCollect` is more performant than `SparkPlan.execute`.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\n\r\nExisting tests\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo\r\n","created_at":"2024-10-12T09:19:09Z","updated_at":"2025-01-25T00:23:08Z","closed_at":"2025-01-25T00:23:08Z","merged_at":null,"merge_commit_sha":"d2706fd83ef2c0f984680190463bd252720cc330","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48430/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48430/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48430/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/0a818b8079ad8e9fc8e95aa0804a230abf60efea","head":{"label":"xieshuaihu:spark-49940","ref":"spark-49940","sha":"0a818b8079ad8e9fc8e95aa0804a230abf60efea","user":{"login":"xieshuaihu","id":24190835,"node_id":"MDQ6VXNlcjI0MTkwODM1","avatar_url":"https://avatars.githubusercontent.com/u/24190835?v=4","gravatar_id":"","url":"https://api.github.com/users/xieshuaihu","html_url":"https://github.com/xieshuaihu","followers_url":"https://api.github.com/users/xieshuaihu/followers","following_url":"https://api.github.com/users/xieshuaihu/following{/other_user}","gists_url":"https://api.github.com/users/xieshuaihu/gists{/gist_id}","starred_url":"https://api.github.com/users/xieshuaihu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xieshuaihu/subscriptions","organizations_url":"https://api.github.com/users/xieshuaihu/orgs","repos_url":"https://api.github.com/users/xieshuaihu/repos","events_url":"https://api.github.com/users/xieshuaihu/events{/privacy}","received_events_url":"https://api.github.com/users/xieshuaihu/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":702868509,"node_id":"R_kgDOKeTsHQ","name":"spark","full_name":"xieshuaihu/spark","private":false,"owner":{"login":"xieshuaihu","id":24190835,"node_id":"MDQ6VXNlcjI0MTkwODM1","avatar_url":"https://avatars.githubusercontent.com/u/24190835?v=4","gravatar_id":"","url":"https://api.github.com/users/xieshuaihu","html_url":"https://github.com/xieshuaihu","followers_url":"https://api.github.com/users/xieshuaihu/followers","following_url":"https://api.github.com/users/xieshuaihu/following{/other_user}","gists_url":"https://api.github.com/users/xieshuaihu/gists{/gist_id}","starred_url":"https://api.github.com/users/xieshuaihu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xieshuaihu/subscriptions","organizations_url":"https://api.github.com/users/xieshuaihu/orgs","repos_url":"https://api.github.com/users/xieshuaihu/repos","events_url":"https://api.github.com/users/xieshuaihu/events{/privacy}","received_events_url":"https://api.github.com/users/xieshuaihu/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/xieshuaihu/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/xieshuaihu/spark","forks_url":"https://api.github.com/repos/xieshuaihu/spark/forks","keys_url":"https://api.github.com/repos/xieshuaihu/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xieshuaihu/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xieshuaihu/spark/teams","hooks_url":"https://api.github.com/repos/xieshuaihu/spark/hooks","issue_events_url":"https://api.github.com/repos/xieshuaihu/spark/issues/events{/number}","events_url":"https://api.github.com/repos/xieshuaihu/spark/events","assignees_url":"https://api.github.com/repos/xieshuaihu/spark/assignees{/user}","branches_url":"https://api.github.com/repos/xieshuaihu/spark/branches{/branch}","tags_url":"https://api.github.com/repos/xieshuaihu/spark/tags","blobs_url":"https://api.github.com/repos/xieshuaihu/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xieshuaihu/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xieshuaihu/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/xieshuaihu/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xieshuaihu/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/xieshuaihu/spark/languages","stargazers_url":"https://api.github.com/repos/xieshuaihu/spark/stargazers","contributors_url":"https://api.github.com/repos/xieshuaihu/spark/contributors","subscribers_url":"https://api.github.com/repos/xieshuaihu/spark/subscribers","subscription_url":"https://api.github.com/repos/xieshuaihu/spark/subscription","commits_url":"https://api.github.com/repos/xieshuaihu/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/xieshuaihu/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/xieshuaihu/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/xieshuaihu/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/xieshuaihu/spark/contents/{+path}","compare_url":"https://api.github.com/repos/xieshuaihu/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xieshuaihu/spark/merges","archive_url":"https://api.github.com/repos/xieshuaihu/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xieshuaihu/spark/downloads","issues_url":"https://api.github.com/repos/xieshuaihu/spark/issues{/number}","pulls_url":"https://api.github.com/repos/xieshuaihu/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/xieshuaihu/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/xieshuaihu/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xieshuaihu/spark/labels{/name}","releases_url":"https://api.github.com/repos/xieshuaihu/spark/releases{/id}","deployments_url":"https://api.github.com/repos/xieshuaihu/spark/deployments","created_at":"2023-10-10T07:02:00Z","updated_at":"2023-10-31T11:26:00Z","pushed_at":"2024-10-12T09:13:02Z","git_url":"git://github.com/xieshuaihu/spark.git","ssh_url":"git@github.com:xieshuaihu/spark.git","clone_url":"https://github.com/xieshuaihu/spark.git","svn_url":"https://github.com/xieshuaihu/spark","homepage":"https://spark.apache.org/","size":416755,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1244c5a0f548f3e2da75863880779bcfc9eee5c0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48430"},"html":{"href":"https://github.com/apache/spark/pull/48430"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48430"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48430/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48430/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48430/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/0a818b8079ad8e9fc8e95aa0804a230abf60efea"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48429","id":2120659034,"node_id":"PR_kwDOAQXtWs5-ZrBa","html_url":"https://github.com/apache/spark/pull/48429","diff_url":"https://github.com/apache/spark/pull/48429.diff","patch_url":"https://github.com/apache/spark/pull/48429.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48429","number":48429,"state":"closed","locked":false,"title":"[WIP][SPARK-49816][SQL][FOLLOW-UP] Fix conflicting CTE ids","user":{"login":"peter-toth","id":7253827,"node_id":"MDQ6VXNlcjcyNTM4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/7253827?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-toth","html_url":"https://github.com/peter-toth","followers_url":"https://api.github.com/users/peter-toth/followers","following_url":"https://api.github.com/users/peter-toth/following{/other_user}","gists_url":"https://api.github.com/users/peter-toth/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-toth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-toth/subscriptions","organizations_url":"https://api.github.com/users/peter-toth/orgs","repos_url":"https://api.github.com/users/peter-toth/repos","events_url":"https://api.github.com/users/peter-toth/events{/privacy}","received_events_url":"https://api.github.com/users/peter-toth/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis is a follow-up PR that reverts https://github.com/apache/spark/pull/48284 in the first commit and offers a new way to deal with the issue of conflicting CTE ids. This PR generates new CTE ids for conflicting ones and retains the pre  https://github.com/apache/spark/pull/48284 reference counting logic. See the the details in https://github.com/apache/spark/pull/48284#issuecomment-2391887954.\r\n\r\n### Why are the changes needed?\r\nThe previous PR relied on the fact that nested, connected CTEs get flattened during resolution (see an example why it worked in a some cases: https://github.com/apache/spark/pull/48284#issuecomment-2386982325), and so the remaining `WithCTE` nodes in the plan are surely self-contained. If we can't rely on that fact then we need a more robust solution.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo, because currently some issues (https://github.com/apache/spark/pull/48284#issuecomment-2389011706) can come up with manually assembed plans only. (I think we should not consider an issue user-facing if it can't be reproduced with public APIs.)\r\n\r\n### How was this patch tested?\r\nExisting and new UTs.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.","created_at":"2024-10-12T08:53:01Z","updated_at":"2025-01-06T11:51:36Z","closed_at":"2025-01-06T11:51:36Z","merged_at":null,"merge_commit_sha":"96618a028de8665db0a21d0982255ab4f9fc603c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":true,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48429/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48429/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48429/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/f89edf480c1567e4559a4ea972174880a8ec2f28","head":{"label":"peter-toth:SPARK-49816-follow-up-2","ref":"SPARK-49816-follow-up-2","sha":"f89edf480c1567e4559a4ea972174880a8ec2f28","user":{"login":"peter-toth","id":7253827,"node_id":"MDQ6VXNlcjcyNTM4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/7253827?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-toth","html_url":"https://github.com/peter-toth","followers_url":"https://api.github.com/users/peter-toth/followers","following_url":"https://api.github.com/users/peter-toth/following{/other_user}","gists_url":"https://api.github.com/users/peter-toth/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-toth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-toth/subscriptions","organizations_url":"https://api.github.com/users/peter-toth/orgs","repos_url":"https://api.github.com/users/peter-toth/repos","events_url":"https://api.github.com/users/peter-toth/events{/privacy}","received_events_url":"https://api.github.com/users/peter-toth/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":130546049,"node_id":"MDEwOlJlcG9zaXRvcnkxMzA1NDYwNDk=","name":"spark","full_name":"peter-toth/spark","private":false,"owner":{"login":"peter-toth","id":7253827,"node_id":"MDQ6VXNlcjcyNTM4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/7253827?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-toth","html_url":"https://github.com/peter-toth","followers_url":"https://api.github.com/users/peter-toth/followers","following_url":"https://api.github.com/users/peter-toth/following{/other_user}","gists_url":"https://api.github.com/users/peter-toth/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-toth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-toth/subscriptions","organizations_url":"https://api.github.com/users/peter-toth/orgs","repos_url":"https://api.github.com/users/peter-toth/repos","events_url":"https://api.github.com/users/peter-toth/events{/privacy}","received_events_url":"https://api.github.com/users/peter-toth/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/peter-toth/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/peter-toth/spark","forks_url":"https://api.github.com/repos/peter-toth/spark/forks","keys_url":"https://api.github.com/repos/peter-toth/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/peter-toth/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/peter-toth/spark/teams","hooks_url":"https://api.github.com/repos/peter-toth/spark/hooks","issue_events_url":"https://api.github.com/repos/peter-toth/spark/issues/events{/number}","events_url":"https://api.github.com/repos/peter-toth/spark/events","assignees_url":"https://api.github.com/repos/peter-toth/spark/assignees{/user}","branches_url":"https://api.github.com/repos/peter-toth/spark/branches{/branch}","tags_url":"https://api.github.com/repos/peter-toth/spark/tags","blobs_url":"https://api.github.com/repos/peter-toth/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/peter-toth/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/peter-toth/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/peter-toth/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/peter-toth/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/peter-toth/spark/languages","stargazers_url":"https://api.github.com/repos/peter-toth/spark/stargazers","contributors_url":"https://api.github.com/repos/peter-toth/spark/contributors","subscribers_url":"https://api.github.com/repos/peter-toth/spark/subscribers","subscription_url":"https://api.github.com/repos/peter-toth/spark/subscription","commits_url":"https://api.github.com/repos/peter-toth/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/peter-toth/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/peter-toth/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/peter-toth/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/peter-toth/spark/contents/{+path}","compare_url":"https://api.github.com/repos/peter-toth/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/peter-toth/spark/merges","archive_url":"https://api.github.com/repos/peter-toth/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/peter-toth/spark/downloads","issues_url":"https://api.github.com/repos/peter-toth/spark/issues{/number}","pulls_url":"https://api.github.com/repos/peter-toth/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/peter-toth/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/peter-toth/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/peter-toth/spark/labels{/name}","releases_url":"https://api.github.com/repos/peter-toth/spark/releases{/id}","deployments_url":"https://api.github.com/repos/peter-toth/spark/deployments","created_at":"2018-04-22T07:43:37Z","updated_at":"2025-01-06T11:44:37Z","pushed_at":"2025-01-07T12:36:36Z","git_url":"git://github.com/peter-toth/spark.git","ssh_url":"git@github.com:peter-toth/spark.git","clone_url":"https://github.com/peter-toth/spark.git","svn_url":"https://github.com/peter-toth/spark","homepage":null,"size":498613,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1244c5a0f548f3e2da75863880779bcfc9eee5c0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48429"},"html":{"href":"https://github.com/apache/spark/pull/48429"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48429"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48429/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48429/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48429/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/f89edf480c1567e4559a4ea972174880a8ec2f28"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48428","id":2120647629,"node_id":"PR_kwDOAQXtWs5-ZoPN","html_url":"https://github.com/apache/spark/pull/48428","diff_url":"https://github.com/apache/spark/pull/48428.diff","patch_url":"https://github.com/apache/spark/pull/48428.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48428","number":48428,"state":"closed","locked":false,"title":"[SPARK-49939][SQL] Codegen Support for json_object_keys (by Invoke & RuntimeReplaceable)","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to add `Codegen` Support for `json_object_keys`.\r\n\r\n\r\n### Why are the changes needed?\r\n- improve codegen coverage.\r\n- simplified code.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nPass GA & Existed UT (eg: JsonFunctionsSuite#`json_object_keys function`)\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-12T08:17:21Z","updated_at":"2024-10-15T05:59:24Z","closed_at":"2024-10-13T09:12:42Z","merged_at":null,"merge_commit_sha":"2df4f419fe7b1b962813953a15b6d0af7bad873e","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48428/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48428/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48428/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/4691be2ec70aa240b0274a345be9a4786499c485","head":{"label":"panbingkun:SPARK-49939","ref":"SPARK-49939","sha":"4691be2ec70aa240b0274a345be9a4786499c485","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"62ade5f3f42bdad200bfd9ca9e8110594f7c12e4","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48428"},"html":{"href":"https://github.com/apache/spark/pull/48428"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48428"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48428/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48428/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48428/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/4691be2ec70aa240b0274a345be9a4786499c485"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48427","id":2120644562,"node_id":"PR_kwDOAQXtWs5-ZnfS","html_url":"https://github.com/apache/spark/pull/48427","diff_url":"https://github.com/apache/spark/pull/48427.diff","patch_url":"https://github.com/apache/spark/pull/48427.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48427","number":48427,"state":"open","locked":false,"title":"[SPARK-49938][K8S] Prefer to use Hadoop configMap when specified","user":{"login":"zgzzbws","id":17823788,"node_id":"MDQ6VXNlcjE3ODIzNzg4","avatar_url":"https://avatars.githubusercontent.com/u/17823788?v=4","gravatar_id":"","url":"https://api.github.com/users/zgzzbws","html_url":"https://github.com/zgzzbws","followers_url":"https://api.github.com/users/zgzzbws/followers","following_url":"https://api.github.com/users/zgzzbws/following{/other_user}","gists_url":"https://api.github.com/users/zgzzbws/gists{/gist_id}","starred_url":"https://api.github.com/users/zgzzbws/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zgzzbws/subscriptions","organizations_url":"https://api.github.com/users/zgzzbws/orgs","repos_url":"https://api.github.com/users/zgzzbws/repos","events_url":"https://api.github.com/users/zgzzbws/events{/privacy}","received_events_url":"https://api.github.com/users/zgzzbws/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nCurrently, 'HADOOP_CONF_DIR' in ENV and Hadoop configmap cannot be both configured. However, in cloud vendor EMR environments, 'HADOOP_CONF_DIR' is often already configured. This issue is introduced to preferentially use the configmap specified through the property spark.kubernetes.hadoop.configMapName without changing the environment variables.\r\n\r\n\r\n### Why are the changes needed?\r\nMore convenient to use in cloud vendor environments.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nUnit testing.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-12T08:08:48Z","updated_at":"2024-12-11T16:41:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"b95a898bcf4109c5baa9d256c3240865041cdd50","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406605057,"node_id":"MDU6TGFiZWwxNDA2NjA1MDU3","url":"https://api.github.com/repos/apache/spark/labels/KUBERNETES","name":"KUBERNETES","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48427/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48427/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48427/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/750c58cbb5f8c2faade312be6660893eb702a890","head":{"label":"zgzzbws:prefer-config-map","ref":"prefer-config-map","sha":"750c58cbb5f8c2faade312be6660893eb702a890","user":{"login":"zgzzbws","id":17823788,"node_id":"MDQ6VXNlcjE3ODIzNzg4","avatar_url":"https://avatars.githubusercontent.com/u/17823788?v=4","gravatar_id":"","url":"https://api.github.com/users/zgzzbws","html_url":"https://github.com/zgzzbws","followers_url":"https://api.github.com/users/zgzzbws/followers","following_url":"https://api.github.com/users/zgzzbws/following{/other_user}","gists_url":"https://api.github.com/users/zgzzbws/gists{/gist_id}","starred_url":"https://api.github.com/users/zgzzbws/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zgzzbws/subscriptions","organizations_url":"https://api.github.com/users/zgzzbws/orgs","repos_url":"https://api.github.com/users/zgzzbws/repos","events_url":"https://api.github.com/users/zgzzbws/events{/privacy}","received_events_url":"https://api.github.com/users/zgzzbws/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":871505136,"node_id":"R_kgDOM_Ic8A","name":"spark","full_name":"zgzzbws/spark","private":false,"owner":{"login":"zgzzbws","id":17823788,"node_id":"MDQ6VXNlcjE3ODIzNzg4","avatar_url":"https://avatars.githubusercontent.com/u/17823788?v=4","gravatar_id":"","url":"https://api.github.com/users/zgzzbws","html_url":"https://github.com/zgzzbws","followers_url":"https://api.github.com/users/zgzzbws/followers","following_url":"https://api.github.com/users/zgzzbws/following{/other_user}","gists_url":"https://api.github.com/users/zgzzbws/gists{/gist_id}","starred_url":"https://api.github.com/users/zgzzbws/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zgzzbws/subscriptions","organizations_url":"https://api.github.com/users/zgzzbws/orgs","repos_url":"https://api.github.com/users/zgzzbws/repos","events_url":"https://api.github.com/users/zgzzbws/events{/privacy}","received_events_url":"https://api.github.com/users/zgzzbws/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zgzzbws/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/zgzzbws/spark","forks_url":"https://api.github.com/repos/zgzzbws/spark/forks","keys_url":"https://api.github.com/repos/zgzzbws/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zgzzbws/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zgzzbws/spark/teams","hooks_url":"https://api.github.com/repos/zgzzbws/spark/hooks","issue_events_url":"https://api.github.com/repos/zgzzbws/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zgzzbws/spark/events","assignees_url":"https://api.github.com/repos/zgzzbws/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zgzzbws/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zgzzbws/spark/tags","blobs_url":"https://api.github.com/repos/zgzzbws/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zgzzbws/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zgzzbws/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zgzzbws/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zgzzbws/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zgzzbws/spark/languages","stargazers_url":"https://api.github.com/repos/zgzzbws/spark/stargazers","contributors_url":"https://api.github.com/repos/zgzzbws/spark/contributors","subscribers_url":"https://api.github.com/repos/zgzzbws/spark/subscribers","subscription_url":"https://api.github.com/repos/zgzzbws/spark/subscription","commits_url":"https://api.github.com/repos/zgzzbws/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zgzzbws/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zgzzbws/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zgzzbws/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zgzzbws/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zgzzbws/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zgzzbws/spark/merges","archive_url":"https://api.github.com/repos/zgzzbws/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zgzzbws/spark/downloads","issues_url":"https://api.github.com/repos/zgzzbws/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zgzzbws/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zgzzbws/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zgzzbws/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zgzzbws/spark/labels{/name}","releases_url":"https://api.github.com/repos/zgzzbws/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zgzzbws/spark/deployments","created_at":"2024-10-12T06:33:57Z","updated_at":"2024-10-12T06:33:57Z","pushed_at":"2024-10-12T08:28:16Z","git_url":"git://github.com/zgzzbws/spark.git","ssh_url":"git@github.com:zgzzbws/spark.git","clone_url":"https://github.com/zgzzbws/spark.git","svn_url":"https://github.com/zgzzbws/spark","homepage":"https://spark.apache.org/","size":472712,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"6734d4883e76b82249df5c151d42bc83173f4122","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48427"},"html":{"href":"https://github.com/apache/spark/pull/48427"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48427"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48427/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48427/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48427/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/750c58cbb5f8c2faade312be6660893eb702a890"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48426","id":2120590159,"node_id":"PR_kwDOAQXtWs5-ZaNP","html_url":"https://github.com/apache/spark/pull/48426","diff_url":"https://github.com/apache/spark/pull/48426.diff","patch_url":"https://github.com/apache/spark/pull/48426.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48426","number":48426,"state":"closed","locked":false,"title":"[SPARK-49937][INFRA] Ban call the method `SparkThrowable#getErrorClass`","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to ban call the method `SparkThrowable#getErrorClass`.\r\n\r\n\r\n### Why are the changes needed?\r\nAfter PR https://github.com/apache/spark/pull/48196, `SparkThrowable#getErrorClass` has been marked as `Deprecated`. In order to prevent future developers from calling `SparkThrowable#getErrorClass` again, which may require continuous fix and migration, calling `SparkThrowable#getErrorClass` is strictly prohibited as it will fail at the compilation level.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\n- Pass GA.\r\n- Manually test.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-12T05:37:50Z","updated_at":"2024-10-12T11:31:08Z","closed_at":"2024-10-12T11:31:08Z","merged_at":null,"merge_commit_sha":"64bcf340b487811ae2b0c4116f4a65e26cd8c1b5","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48426/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48426/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48426/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/4ad9a552d274f856fe3dea67bb19bbd5351f3f5f","head":{"label":"panbingkun:SPARK-49937","ref":"SPARK-49937","sha":"4ad9a552d274f856fe3dea67bb19bbd5351f3f5f","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"6734d4883e76b82249df5c151d42bc83173f4122","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48426"},"html":{"href":"https://github.com/apache/spark/pull/48426"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48426"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48426/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48426/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48426/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/4ad9a552d274f856fe3dea67bb19bbd5351f3f5f"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48425","id":2120485356,"node_id":"PR_kwDOAQXtWs5-ZAns","html_url":"https://github.com/apache/spark/pull/48425","diff_url":"https://github.com/apache/spark/pull/48425.diff","patch_url":"https://github.com/apache/spark/pull/48425.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48425","number":48425,"state":"closed","locked":false,"title":"[MINOR] Fix code style for if/for/while statements","user":{"login":"exmy","id":18643308,"node_id":"MDQ6VXNlcjE4NjQzMzA4","avatar_url":"https://avatars.githubusercontent.com/u/18643308?v=4","gravatar_id":"","url":"https://api.github.com/users/exmy","html_url":"https://github.com/exmy","followers_url":"https://api.github.com/users/exmy/followers","following_url":"https://api.github.com/users/exmy/following{/other_user}","gists_url":"https://api.github.com/users/exmy/gists{/gist_id}","starred_url":"https://api.github.com/users/exmy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/exmy/subscriptions","organizations_url":"https://api.github.com/users/exmy/orgs","repos_url":"https://api.github.com/users/exmy/repos","events_url":"https://api.github.com/users/exmy/events{/privacy}","received_events_url":"https://api.github.com/users/exmy/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\nFind some code style issues for `if/for/while` statements\r\n\r\n### Why are the changes needed?\r\nFix code style for `if/for/while` statements\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nN.A\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo\r\n","created_at":"2024-10-12T02:08:56Z","updated_at":"2024-11-15T10:42:48Z","closed_at":"2024-11-15T10:42:48Z","merged_at":null,"merge_commit_sha":"c209abc7774852849b4cd49bbd950781a22181fd","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1405803268,"node_id":"MDU6TGFiZWwxNDA1ODAzMjY4","url":"https://api.github.com/repos/apache/spark/labels/MLLIB","name":"MLLIB","color":"ededed","default":false,"description":null},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1406605057,"node_id":"MDU6TGFiZWwxNDA2NjA1MDU3","url":"https://api.github.com/repos/apache/spark/labels/KUBERNETES","name":"KUBERNETES","color":"ededed","default":false,"description":null},{"id":1406605079,"node_id":"MDU6TGFiZWwxNDA2NjA1MDc5","url":"https://api.github.com/repos/apache/spark/labels/WEB%20UI","name":"WEB UI","color":"ededed","default":false,"description":null},{"id":1496047285,"node_id":"MDU6TGFiZWwxNDk2MDQ3Mjg1","url":"https://api.github.com/repos/apache/spark/labels/EXAMPLES","name":"EXAMPLES","color":"ededed","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1984361638,"node_id":"MDU6TGFiZWwxOTg0MzYxNjM4","url":"https://api.github.com/repos/apache/spark/labels/R","name":"R","color":"ededed","default":false,"description":null},{"id":1984378631,"node_id":"MDU6TGFiZWwxOTg0Mzc4NjMx","url":"https://api.github.com/repos/apache/spark/labels/DSTREAM","name":"DSTREAM","color":"ededed","default":false,"description":null},{"id":1988040187,"node_id":"MDU6TGFiZWwxOTg4MDQwMTg3","url":"https://api.github.com/repos/apache/spark/labels/AVRO","name":"AVRO","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48425/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48425/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48425/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3fd5114c6faf7542541a396c78c82f76da4f014a","head":{"label":"exmy:fix-style","ref":"fix-style","sha":"3fd5114c6faf7542541a396c78c82f76da4f014a","user":{"login":"exmy","id":18643308,"node_id":"MDQ6VXNlcjE4NjQzMzA4","avatar_url":"https://avatars.githubusercontent.com/u/18643308?v=4","gravatar_id":"","url":"https://api.github.com/users/exmy","html_url":"https://github.com/exmy","followers_url":"https://api.github.com/users/exmy/followers","following_url":"https://api.github.com/users/exmy/following{/other_user}","gists_url":"https://api.github.com/users/exmy/gists{/gist_id}","starred_url":"https://api.github.com/users/exmy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/exmy/subscriptions","organizations_url":"https://api.github.com/users/exmy/orgs","repos_url":"https://api.github.com/users/exmy/repos","events_url":"https://api.github.com/users/exmy/events{/privacy}","received_events_url":"https://api.github.com/users/exmy/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":200080037,"node_id":"MDEwOlJlcG9zaXRvcnkyMDAwODAwMzc=","name":"spark","full_name":"exmy/spark","private":false,"owner":{"login":"exmy","id":18643308,"node_id":"MDQ6VXNlcjE4NjQzMzA4","avatar_url":"https://avatars.githubusercontent.com/u/18643308?v=4","gravatar_id":"","url":"https://api.github.com/users/exmy","html_url":"https://github.com/exmy","followers_url":"https://api.github.com/users/exmy/followers","following_url":"https://api.github.com/users/exmy/following{/other_user}","gists_url":"https://api.github.com/users/exmy/gists{/gist_id}","starred_url":"https://api.github.com/users/exmy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/exmy/subscriptions","organizations_url":"https://api.github.com/users/exmy/orgs","repos_url":"https://api.github.com/users/exmy/repos","events_url":"https://api.github.com/users/exmy/events{/privacy}","received_events_url":"https://api.github.com/users/exmy/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/exmy/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/exmy/spark","forks_url":"https://api.github.com/repos/exmy/spark/forks","keys_url":"https://api.github.com/repos/exmy/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/exmy/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/exmy/spark/teams","hooks_url":"https://api.github.com/repos/exmy/spark/hooks","issue_events_url":"https://api.github.com/repos/exmy/spark/issues/events{/number}","events_url":"https://api.github.com/repos/exmy/spark/events","assignees_url":"https://api.github.com/repos/exmy/spark/assignees{/user}","branches_url":"https://api.github.com/repos/exmy/spark/branches{/branch}","tags_url":"https://api.github.com/repos/exmy/spark/tags","blobs_url":"https://api.github.com/repos/exmy/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/exmy/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/exmy/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/exmy/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/exmy/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/exmy/spark/languages","stargazers_url":"https://api.github.com/repos/exmy/spark/stargazers","contributors_url":"https://api.github.com/repos/exmy/spark/contributors","subscribers_url":"https://api.github.com/repos/exmy/spark/subscribers","subscription_url":"https://api.github.com/repos/exmy/spark/subscription","commits_url":"https://api.github.com/repos/exmy/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/exmy/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/exmy/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/exmy/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/exmy/spark/contents/{+path}","compare_url":"https://api.github.com/repos/exmy/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/exmy/spark/merges","archive_url":"https://api.github.com/repos/exmy/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/exmy/spark/downloads","issues_url":"https://api.github.com/repos/exmy/spark/issues{/number}","pulls_url":"https://api.github.com/repos/exmy/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/exmy/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/exmy/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/exmy/spark/labels{/name}","releases_url":"https://api.github.com/repos/exmy/spark/releases{/id}","deployments_url":"https://api.github.com/repos/exmy/spark/deployments","created_at":"2019-08-01T15:56:41Z","updated_at":"2024-11-15T01:57:40Z","pushed_at":"2024-11-15T03:01:30Z","git_url":"git://github.com/exmy/spark.git","ssh_url":"git@github.com:exmy/spark.git","clone_url":"https://github.com/exmy/spark.git","svn_url":"https://github.com/exmy/spark","homepage":"","size":441618,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c90efae2b4aaafd453db72404254dec55e797e9c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48425"},"html":{"href":"https://github.com/apache/spark/pull/48425"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48425"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48425/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48425/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48425/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3fd5114c6faf7542541a396c78c82f76da4f014a"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48424","id":2120405015,"node_id":"PR_kwDOAQXtWs5-YtAX","html_url":"https://github.com/apache/spark/pull/48424","diff_url":"https://github.com/apache/spark/pull/48424.diff","patch_url":"https://github.com/apache/spark/pull/48424.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48424","number":48424,"state":"closed","locked":false,"title":"[SPARK-49927][SS][PYTHON][TESTS] pyspark.sql.tests.streaming.test_streaming_listener to wait for longer","user":{"login":"siying","id":5334567,"node_id":"MDQ6VXNlcjUzMzQ1Njc=","avatar_url":"https://avatars.githubusercontent.com/u/5334567?v=4","gravatar_id":"","url":"https://api.github.com/users/siying","html_url":"https://github.com/siying","followers_url":"https://api.github.com/users/siying/followers","following_url":"https://api.github.com/users/siying/following{/other_user}","gists_url":"https://api.github.com/users/siying/gists{/gist_id}","starred_url":"https://api.github.com/users/siying/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siying/subscriptions","organizations_url":"https://api.github.com/users/siying/orgs","repos_url":"https://api.github.com/users/siying/repos","events_url":"https://api.github.com/users/siying/events{/privacy}","received_events_url":"https://api.github.com/users/siying/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\n### What changes were proposed in this pull request?\r\nIn test pyspark.sql.tests.streaming.test_streaming_listener, instead of waiting for fixed 10 seconds, we wait for progress made.\r\n\r\n\r\n### Why are the changes needed?\r\nIn some environment, the test fails with progress_event appears to be None. Likely the wait time is not sufficient.\r\n\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo, test-only.\r\n\r\n### How was this patch tested?\r\nRun the patch and make sure it still passes\r\n\r\n\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo\r\n","created_at":"2024-10-11T22:47:14Z","updated_at":"2024-10-12T00:43:09Z","closed_at":"2024-10-12T00:43:09Z","merged_at":null,"merge_commit_sha":"6f9eba3a37cfdd7c800e3a9cf1343a8a148b1b7f","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48424/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48424/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48424/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/bbb662d5c237a11bfe1484620f413cc1e2fd6cf9","head":{"label":"siying:python_test2","ref":"python_test2","sha":"bbb662d5c237a11bfe1484620f413cc1e2fd6cf9","user":{"login":"siying","id":5334567,"node_id":"MDQ6VXNlcjUzMzQ1Njc=","avatar_url":"https://avatars.githubusercontent.com/u/5334567?v=4","gravatar_id":"","url":"https://api.github.com/users/siying","html_url":"https://github.com/siying","followers_url":"https://api.github.com/users/siying/followers","following_url":"https://api.github.com/users/siying/following{/other_user}","gists_url":"https://api.github.com/users/siying/gists{/gist_id}","starred_url":"https://api.github.com/users/siying/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siying/subscriptions","organizations_url":"https://api.github.com/users/siying/orgs","repos_url":"https://api.github.com/users/siying/repos","events_url":"https://api.github.com/users/siying/events{/privacy}","received_events_url":"https://api.github.com/users/siying/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":631023173,"node_id":"R_kgDOJZymRQ","name":"spark","full_name":"siying/spark","private":false,"owner":{"login":"siying","id":5334567,"node_id":"MDQ6VXNlcjUzMzQ1Njc=","avatar_url":"https://avatars.githubusercontent.com/u/5334567?v=4","gravatar_id":"","url":"https://api.github.com/users/siying","html_url":"https://github.com/siying","followers_url":"https://api.github.com/users/siying/followers","following_url":"https://api.github.com/users/siying/following{/other_user}","gists_url":"https://api.github.com/users/siying/gists{/gist_id}","starred_url":"https://api.github.com/users/siying/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siying/subscriptions","organizations_url":"https://api.github.com/users/siying/orgs","repos_url":"https://api.github.com/users/siying/repos","events_url":"https://api.github.com/users/siying/events{/privacy}","received_events_url":"https://api.github.com/users/siying/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/siying/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/siying/spark","forks_url":"https://api.github.com/repos/siying/spark/forks","keys_url":"https://api.github.com/repos/siying/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/siying/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/siying/spark/teams","hooks_url":"https://api.github.com/repos/siying/spark/hooks","issue_events_url":"https://api.github.com/repos/siying/spark/issues/events{/number}","events_url":"https://api.github.com/repos/siying/spark/events","assignees_url":"https://api.github.com/repos/siying/spark/assignees{/user}","branches_url":"https://api.github.com/repos/siying/spark/branches{/branch}","tags_url":"https://api.github.com/repos/siying/spark/tags","blobs_url":"https://api.github.com/repos/siying/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/siying/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/siying/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/siying/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/siying/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/siying/spark/languages","stargazers_url":"https://api.github.com/repos/siying/spark/stargazers","contributors_url":"https://api.github.com/repos/siying/spark/contributors","subscribers_url":"https://api.github.com/repos/siying/spark/subscribers","subscription_url":"https://api.github.com/repos/siying/spark/subscription","commits_url":"https://api.github.com/repos/siying/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/siying/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/siying/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/siying/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/siying/spark/contents/{+path}","compare_url":"https://api.github.com/repos/siying/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/siying/spark/merges","archive_url":"https://api.github.com/repos/siying/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/siying/spark/downloads","issues_url":"https://api.github.com/repos/siying/spark/issues{/number}","pulls_url":"https://api.github.com/repos/siying/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/siying/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/siying/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/siying/spark/labels{/name}","releases_url":"https://api.github.com/repos/siying/spark/releases{/id}","deployments_url":"https://api.github.com/repos/siying/spark/deployments","created_at":"2023-04-21T18:13:41Z","updated_at":"2025-01-13T18:16:34Z","pushed_at":"2025-01-23T04:30:25Z","git_url":"git://github.com/siying/spark.git","ssh_url":"git@github.com:siying/spark.git","clone_url":"https://github.com/siying/spark.git","svn_url":"https://github.com/siying/spark","homepage":"https://spark.apache.org/","size":423999,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c79e2d6370cc7a31e65342bfb69b60523aae1b30","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48424"},"html":{"href":"https://github.com/apache/spark/pull/48424"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48424"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48424/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48424/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48424/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/bbb662d5c237a11bfe1484620f413cc1e2fd6cf9"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48423","id":2119988461,"node_id":"PR_kwDOAQXtWs5-XHTt","html_url":"https://github.com/apache/spark/pull/48423","diff_url":"https://github.com/apache/spark/pull/48423.diff","patch_url":"https://github.com/apache/spark/pull/48423.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48423","number":48423,"state":"closed","locked":false,"title":"[SPARK-49934][SQL] Add implicit cast for accessing collated map with literal","user":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nAdd a new case in collation type casts for retrieving values from a map where the keys are collated strings. This will allow the literal key to be implicitly cast to the appropriate collation type used in the map.\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nSo explicit collate is no longer needed when accessing map elements.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nNew unit test.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo.","created_at":"2024-10-11T16:15:40Z","updated_at":"2024-10-22T15:42:20Z","closed_at":"2024-10-22T15:42:20Z","merged_at":null,"merge_commit_sha":"d1c1a757064ea02c8f3945e222db2d5dc411e9fd","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48423/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48423/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48423/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/43b34d5f71d71d1bdf27de9a86e030865e168d5b","head":{"label":"stefankandic:fixMapAccess","ref":"fixMapAccess","sha":"43b34d5f71d71d1bdf27de9a86e030865e168d5b","user":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":734708961,"node_id":"R_kgDOK8rE4Q","name":"spark","full_name":"stefankandic/spark","private":false,"owner":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/stefankandic/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/stefankandic/spark","forks_url":"https://api.github.com/repos/stefankandic/spark/forks","keys_url":"https://api.github.com/repos/stefankandic/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/stefankandic/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/stefankandic/spark/teams","hooks_url":"https://api.github.com/repos/stefankandic/spark/hooks","issue_events_url":"https://api.github.com/repos/stefankandic/spark/issues/events{/number}","events_url":"https://api.github.com/repos/stefankandic/spark/events","assignees_url":"https://api.github.com/repos/stefankandic/spark/assignees{/user}","branches_url":"https://api.github.com/repos/stefankandic/spark/branches{/branch}","tags_url":"https://api.github.com/repos/stefankandic/spark/tags","blobs_url":"https://api.github.com/repos/stefankandic/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/stefankandic/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/stefankandic/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/stefankandic/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/stefankandic/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/stefankandic/spark/languages","stargazers_url":"https://api.github.com/repos/stefankandic/spark/stargazers","contributors_url":"https://api.github.com/repos/stefankandic/spark/contributors","subscribers_url":"https://api.github.com/repos/stefankandic/spark/subscribers","subscription_url":"https://api.github.com/repos/stefankandic/spark/subscription","commits_url":"https://api.github.com/repos/stefankandic/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/stefankandic/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/stefankandic/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/stefankandic/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/stefankandic/spark/contents/{+path}","compare_url":"https://api.github.com/repos/stefankandic/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/stefankandic/spark/merges","archive_url":"https://api.github.com/repos/stefankandic/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/stefankandic/spark/downloads","issues_url":"https://api.github.com/repos/stefankandic/spark/issues{/number}","pulls_url":"https://api.github.com/repos/stefankandic/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/stefankandic/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/stefankandic/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/stefankandic/spark/labels{/name}","releases_url":"https://api.github.com/repos/stefankandic/spark/releases{/id}","deployments_url":"https://api.github.com/repos/stefankandic/spark/deployments","created_at":"2023-12-22T11:54:18Z","updated_at":"2024-10-23T17:40:10Z","pushed_at":"2025-02-04T22:21:43Z","git_url":"git://github.com/stefankandic/spark.git","ssh_url":"git@github.com:stefankandic/spark.git","clone_url":"https://github.com/stefankandic/spark.git","svn_url":"https://github.com/stefankandic/spark","homepage":"https://spark.apache.org/","size":434684,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c79e2d6370cc7a31e65342bfb69b60523aae1b30","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48423"},"html":{"href":"https://github.com/apache/spark/pull/48423"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48423"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48423/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48423/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48423/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/43b34d5f71d71d1bdf27de9a86e030865e168d5b"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48422","id":2119732658,"node_id":"PR_kwDOAQXtWs5-WI2y","html_url":"https://github.com/apache/spark/pull/48422","diff_url":"https://github.com/apache/spark/pull/48422.diff","patch_url":"https://github.com/apache/spark/pull/48422.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48422","number":48422,"state":"closed","locked":false,"title":"[MINOR][PYTHON] Minor refine `LiteralExpression`","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n1, combine if branches;\r\n2, refine the error message\r\n\r\n\r\n### Why are the changes needed?\r\nMinor refine `LiteralExpression`\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nno\r\n\r\n\r\n### How was this patch tested?\r\nci\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nno","created_at":"2024-10-11T13:45:17Z","updated_at":"2024-10-12T03:35:12Z","closed_at":"2024-10-11T23:57:29Z","merged_at":null,"merge_commit_sha":"7422d86c036f5d2e5b8398ea9839154d475172ac","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48422/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48422/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48422/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/2af465a606a270df1f4c348c55e29b481d3b4d55","head":{"label":"zhengruifeng:expr_lit_nit","ref":"expr_lit_nit","sha":"2af465a606a270df1f4c348c55e29b481d3b4d55","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":51584791,"node_id":"MDEwOlJlcG9zaXRvcnk1MTU4NDc5MQ==","name":"spark","full_name":"zhengruifeng/spark","private":false,"owner":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhengruifeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zhengruifeng/spark","forks_url":"https://api.github.com/repos/zhengruifeng/spark/forks","keys_url":"https://api.github.com/repos/zhengruifeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhengruifeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhengruifeng/spark/teams","hooks_url":"https://api.github.com/repos/zhengruifeng/spark/hooks","issue_events_url":"https://api.github.com/repos/zhengruifeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhengruifeng/spark/events","assignees_url":"https://api.github.com/repos/zhengruifeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhengruifeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhengruifeng/spark/tags","blobs_url":"https://api.github.com/repos/zhengruifeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhengruifeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhengruifeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhengruifeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhengruifeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhengruifeng/spark/languages","stargazers_url":"https://api.github.com/repos/zhengruifeng/spark/stargazers","contributors_url":"https://api.github.com/repos/zhengruifeng/spark/contributors","subscribers_url":"https://api.github.com/repos/zhengruifeng/spark/subscribers","subscription_url":"https://api.github.com/repos/zhengruifeng/spark/subscription","commits_url":"https://api.github.com/repos/zhengruifeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhengruifeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhengruifeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhengruifeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhengruifeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhengruifeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhengruifeng/spark/merges","archive_url":"https://api.github.com/repos/zhengruifeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhengruifeng/spark/downloads","issues_url":"https://api.github.com/repos/zhengruifeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhengruifeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhengruifeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhengruifeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhengruifeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhengruifeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhengruifeng/spark/deployments","created_at":"2016-02-12T11:58:00Z","updated_at":"2025-02-09T01:55:22Z","pushed_at":"2025-02-09T01:55:17Z","git_url":"git://github.com/zhengruifeng/spark.git","ssh_url":"git@github.com:zhengruifeng/spark.git","clone_url":"https://github.com/zhengruifeng/spark.git","svn_url":"https://github.com/zhengruifeng/spark","homepage":null,"size":434785,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"6d0b8389a20ed523201096355835fe849708e6bf","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48422"},"html":{"href":"https://github.com/apache/spark/pull/48422"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48422"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48422/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48422/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48422/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/2af465a606a270df1f4c348c55e29b481d3b4d55"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48421","id":2119300580,"node_id":"PR_kwDOAQXtWs5-UfXk","html_url":"https://github.com/apache/spark/pull/48421","diff_url":"https://github.com/apache/spark/pull/48421.diff","patch_url":"https://github.com/apache/spark/pull/48421.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48421","number":48421,"state":"closed","locked":false,"title":"[SPARK-49935][BUILD] Exclude `spark-connect-shims` from `assembly` module ","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis pr exclude `spark-connect-shims` from `assembly` module to avoid it from being included in the distribution when executing `dev/make-distribution.sh`.\r\n\r\n\r\n### Why are the changes needed?\r\n`spark-connect-shims` is only used to resolve compilation issues, and it should not be included in the `jars` directory of the distribution, otherwise, it may disrupt REPL-related functionalities.\r\n\r\nFor examples:\r\n\r\n1. spark-shell will fail to start\r\n\r\n```\r\nbin/spark-shell --master local\r\nWARNING: Using incubator modules: jdk.incubator.vector\r\nUsing Spark's default log4j profile: org/apache/spark/log4j2-defaults.properties\r\n{\"ts\":\"2024-10-11T11:54:03.437Z\",\"level\":\"WARN\",\"msg\":\"Your hostname, MacBook-Pro.local, resolves to a loopback address: 127.0.0.1; using 172.22.200.181 instead (on interface en0)\",\"context\":{\"host\":\"MacBook-Pro.local\",\"host_port\":\"127.0.0.1\",\"host_port2\":\"172.22.200.181\",\"network_if\":\"en0\"},\"logger\":\"Utils\"}\r\n{\"ts\":\"2024-10-11T11:54:03.439Z\",\"level\":\"WARN\",\"msg\":\"Set SPARK_LOCAL_IP if you need to bind to another address\",\"logger\":\"Utils\"}\r\nUsing Spark's default log4j profile: org/apache/spark/log4j2-pattern-layout-defaults.properties\r\nSetting default log level to \"WARN\".\r\nTo adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).\r\nWelcome to\r\n      ____              __\r\n     / __/__  ___ _____/ /__\r\n    _\\ \\/ _ \\/ _ `/ __/  '_/\r\n   /___/ .__/\\_,_/_/ /_/\\_\\   version 4.0.0-SNAPSHOT\r\n      /_/\r\n         \r\nUsing Scala version 2.13.15 (OpenJDK 64-Bit Server VM, Java 17.0.12)\r\nType in expressions to have them evaluated.\r\nType :help for more information.\r\n             if (_sc.getConf.getBoolean(\"spark.ui.reverseProxy\", false)) {\r\n                     ^\r\nOn line 9: error: value getConf is not a member of org.apache.spark.SparkContext\r\n               val proxyUrl = _sc.getConf.get(\"spark.ui.reverseProxyUrl\", null)\r\n                                  ^\r\nOn line 10: error: value getConf is not a member of org.apache.spark.SparkContext\r\n                   s\"Spark Context Web UI is available at ${proxyUrl}/proxy/${_sc.applicationId}\")\r\n                                                                                  ^\r\nOn line 13: error: value applicationId is not a member of org.apache.spark.SparkContext\r\n               _sc.uiWebUrl.foreach {\r\n                   ^\r\nOn line 18: error: value uiWebUrl is not a member of org.apache.spark.SparkContext\r\n               s\"(master = ${_sc.master}, app id = ${_sc.applicationId}).\")\r\n                                 ^\r\nOn line 23: error: value master is not a member of org.apache.spark.SparkContext\r\n               s\"(master = ${_sc.master}, app id = ${_sc.applicationId}).\")\r\n                                                         ^\r\nOn line 23: error: value applicationId is not a member of org.apache.spark.SparkContext\r\n                               ^\r\n       error: object SparkContext is not a member of package org.apache.spark\r\n       note: class SparkContext exists, but it has no companion object.\r\n                    ^\r\n       error: object implicits is not a member of package spark\r\n              ^\r\n       error: object sql is not a member of package spark\r\n```\r\n\r\n2. SparkR tests on Windows may also fail due to `spark-connect-shims` being in the classpath.\r\n\r\n\r\nhttps://github.com/apache/spark/actions/runs/11259624487/job/31309026637\r\n\r\n```\r\n Failed tests \r\n Error ('test_basic.R:25:3'): create DataFrame from list or data.frame \r\nError in `handleErrors(returnStatus, conn)`: java.lang.NoSuchMethodError: 'void org.apache.spark.SparkContext.<init>(org.apache.spark.SparkConf)'\r\n\r\n  at org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:3050)\r\n\r\n  at org.apache.spark.api.r.RRDD$.createSparkContext(RRDD.scala:141)\r\n\r\n  at org.apache.spark.api.r.RRDD.createSparkContext(RRDD.scala)\r\n```\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\n- Pass GitHub Actions\r\n- All Maven test passed on GA: https://github.com/LuciferYang/spark/runs/31405720205\r\n\r\n<img width=\"1034\" alt=\"image\" src=\"https://github.com/user-attachments/assets/d9d76152-ddd2-4c5e-997e-300c33e5c1e6\">\r\n\r\n\r\n- Sparkr on windws test passed on GA: https://github.com/LuciferYang/spark/actions/runs/11291559675/job/31434704406\r\n\r\n<img width=\"959\" alt=\"image\" src=\"https://github.com/user-attachments/assets/cb86a424-8411-493f-b5c6-458f97b3c8e2\">\r\n\r\n\r\n- Manual check:\r\n\r\n```\r\ndev/make-distribution.sh --tgz -Phive\r\n```\r\n\r\n`spark-connect-shims` is not in either directory `jars` or directory `jars/connect-repl`, and both spark-shell and connect-shell can be used normally \r\n\r\n\r\n**Spark shell**\r\n\r\n```\r\nbin/spark-shell --master local\r\nWARNING: Using incubator modules: jdk.incubator.vector\r\nUsing Spark's default log4j profile: org/apache/spark/log4j2-defaults.properties\r\n{\"ts\":\"2024-10-12T02:56:47.637Z\",\"level\":\"WARN\",\"msg\":\"Your hostname, MacBook-Pro.local, resolves to a loopback address: 127.0.0.1; using 172.22.200.218 instead (on interface en0)\",\"context\":{\"host\":\"MacBook-Pro.local\",\"host_port\":\"127.0.0.1\",\"host_port2\":\"172.22.200.218\",\"network_if\":\"en0\"},\"logger\":\"Utils\"}\r\n{\"ts\":\"2024-10-12T02:56:47.639Z\",\"level\":\"WARN\",\"msg\":\"Set SPARK_LOCAL_IP if you need to bind to another address\",\"logger\":\"Utils\"}\r\nUsing Spark's default log4j profile: org/apache/spark/log4j2-pattern-layout-defaults.properties\r\nSetting default log level to \"WARN\".\r\nTo adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).\r\nWelcome to\r\n      ____              __\r\n     / __/__  ___ _____/ /__\r\n    _\\ \\/ _ \\/ _ `/ __/  '_/\r\n   /___/ .__/\\_,_/_/ /_/\\_\\   version 4.0.0-SNAPSHOT\r\n      /_/\r\n         \r\nUsing Scala version 2.13.15 (OpenJDK 64-Bit Server VM, Java 17.0.12)\r\nType in expressions to have them evaluated.\r\nType :help for more information.\r\n24/10/12 10:56:49 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\nSpark context Web UI available at http://172.22.200.218:4040\r\nSpark context available as 'sc' (master = local, app id = local-1728701810131).\r\nSpark session available as 'spark'.\r\n\r\nscala> spark.range(10).show()\r\n+---+\r\n| id|\r\n+---+\r\n|  0|\r\n|  1|\r\n|  2|\r\n|  3|\r\n|  4|\r\n|  5|\r\n|  6|\r\n|  7|\r\n|  8|\r\n|  9|\r\n+---+\r\n```\r\n\r\n**Connect shell**\r\n\r\n```\r\nbin/spark-shell --remote local           \r\nWARNING: Using incubator modules: jdk.incubator.vector\r\nUsing Spark's default log4j profile: org/apache/spark/log4j2-defaults.properties\r\n{\"ts\":\"2024-10-12T02:58:17.326Z\",\"level\":\"WARN\",\"msg\":\"Your hostname, MacBook-Pro.local, resolves to a loopback address: 127.0.0.1; using 172.22.200.218 instead (on interface en0)\",\"context\":{\"host\":\"MacBook-Pro.local\",\"host_port\":\"127.0.0.1\",\"host_port2\":\"172.22.200.218\",\"network_if\":\"en0\"},\"logger\":\"Utils\"}\r\n{\"ts\":\"2024-10-12T02:58:17.328Z\",\"level\":\"WARN\",\"msg\":\"Set SPARK_LOCAL_IP if you need to bind to another address\",\"logger\":\"Utils\"}\r\n24/10/12 10:58:19 INFO BaseAllocator: Debug mode disabled. Enable with the VM option -Darrow.memory.debug.allocator=true.\r\n24/10/12 10:58:19 INFO DefaultAllocationManagerOption: allocation manager type not specified, using netty as the default type\r\n24/10/12 10:58:19 INFO CheckAllocator: Using DefaultAllocationManager at memory/netty/DefaultAllocationManagerFactory.class\r\nWelcome to\r\n      ____              __\r\n     / __/__  ___ _____/ /__\r\n    _\\ \\/ _ \\/ _ `/ __/  '_/\r\n   /___/ .__/\\_,_/_/ /_/\\_\\   version 4.0.0-SNAPSHOT\r\n      /_/\r\n\r\nType in expressions to have them evaluated.\r\nSpark connect server version 4.0.0-SNAPSHOT.\r\nSpark session available as 'spark'.\r\n   \r\nscala> spark.range(10).show \r\nUsing Spark's default log4j profile: org/apache/spark/log4j2-pattern-layout-defaults.properties\r\n+---+\r\n| id|\r\n+---+\r\n|  0|\r\n|  1|\r\n|  2|\r\n|  3|\r\n|  4|\r\n|  5|\r\n|  6|\r\n|  7|\r\n|  8|\r\n|  9|\r\n+---+\r\n```\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo\r\n","created_at":"2024-10-11T09:23:00Z","updated_at":"2024-10-12T03:19:29Z","closed_at":"2024-10-12T03:18:37Z","merged_at":null,"merge_commit_sha":"ff5fce9d685a1ec669b9e86396ffbde8ece475fc","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48421/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48421/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48421/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/8cb8e83fc194f63a345e503b889be40ac4020108","head":{"label":"LuciferYang:fix-distribution","ref":"fix-distribution","sha":"8cb8e83fc194f63a345e503b889be40ac4020108","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"5104d1d434c1bdd58f06ae7a9c0d0d53f7b21f47","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48421"},"html":{"href":"https://github.com/apache/spark/pull/48421"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48421"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48421/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48421/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48421/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/8cb8e83fc194f63a345e503b889be40ac4020108"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48420","id":2119096644,"node_id":"PR_kwDOAQXtWs5-TtlE","html_url":"https://github.com/apache/spark/pull/48420","diff_url":"https://github.com/apache/spark/pull/48420.diff","patch_url":"https://github.com/apache/spark/pull/48420.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48420","number":48420,"state":"closed","locked":false,"title":"[SPARK-49932][CORE] Use `tryWithResource` release `JsonUtils#toJsonString` resources to avoid memory leaks","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to use `tryWithResource` release `JsonUtils#toJsonString` resources to avoid memory leaks.\r\n\r\n\r\n### Why are the changes needed?\r\nAvoiding potential memory leaks.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n### How was this patch tested?\r\nPass GA.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-11T07:21:59Z","updated_at":"2024-10-12T05:21:48Z","closed_at":"2024-10-12T05:15:50Z","merged_at":null,"merge_commit_sha":"edabdca26d0369ae0f6b55c2a76931f19a14c47d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48420/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48420/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48420/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/67ea3d81ebb6b9af97764a410e636d8e26134b2e","head":{"label":"panbingkun:SPARK-49932","ref":"SPARK-49932","sha":"67ea3d81ebb6b9af97764a410e636d8e26134b2e","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"cf657e5e2e49388b89cee5c5113426b316e4892d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48420"},"html":{"href":"https://github.com/apache/spark/pull/48420"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48420"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48420/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48420/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48420/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/67ea3d81ebb6b9af97764a410e636d8e26134b2e"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48419","id":2119050222,"node_id":"PR_kwDOAQXtWs5-TiPu","html_url":"https://github.com/apache/spark/pull/48419","diff_url":"https://github.com/apache/spark/pull/48419.diff","patch_url":"https://github.com/apache/spark/pull/48419.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48419","number":48419,"state":"closed","locked":false,"title":"[SPARK-49927][SS][PYTHON][TESTS][FOLLOW-UP] Fixes `q.lastProgress.batchId` to `q.lastProgress.progress.batchId`","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR is a followup of https://github.com/apache/spark/pull/48414 that fixes `q.lastProgress.batchId` -> `q.lastProgress.progress.batchId` to fix the test.\r\n\r\n### Why are the changes needed?\r\n\r\n`q.lastProgress` does not have `progress`. We should fix it to fix up the broken build.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo, test-only.\r\n\r\n### How was this patch tested?\r\n\r\nManually\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.","created_at":"2024-10-11T06:47:39Z","updated_at":"2024-10-11T06:48:02Z","closed_at":"2024-10-11T06:48:02Z","merged_at":null,"merge_commit_sha":"1b7ac6e5f3da8b9fc102519e2343a3f97cbac629","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48419/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48419/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48419/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/a7ed25bcd5854462c23aac3dbf775c767a56a52f","head":{"label":"HyukjinKwon:SPARK-49927-followup","ref":"SPARK-49927-followup","sha":"a7ed25bcd5854462c23aac3dbf775c767a56a52f","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"4666972a31907393390a6bc353e87dfedc6d6445","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48419"},"html":{"href":"https://github.com/apache/spark/pull/48419"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48419"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48419/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48419/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48419/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/a7ed25bcd5854462c23aac3dbf775c767a56a52f"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48418","id":2118935773,"node_id":"PR_kwDOAQXtWs5-TGTd","html_url":"https://github.com/apache/spark/pull/48418","diff_url":"https://github.com/apache/spark/pull/48418.diff","patch_url":"https://github.com/apache/spark/pull/48418.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48418","number":48418,"state":"closed","locked":false,"title":"[SPARK-49930][SS] Ensure that socket updates are flushed on exception from the python worker","user":{"login":"anishshri-db","id":100322362,"node_id":"U_kgDOBfrMOg","avatar_url":"https://avatars.githubusercontent.com/u/100322362?v=4","gravatar_id":"","url":"https://api.github.com/users/anishshri-db","html_url":"https://github.com/anishshri-db","followers_url":"https://api.github.com/users/anishshri-db/followers","following_url":"https://api.github.com/users/anishshri-db/following{/other_user}","gists_url":"https://api.github.com/users/anishshri-db/gists{/gist_id}","starred_url":"https://api.github.com/users/anishshri-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anishshri-db/subscriptions","organizations_url":"https://api.github.com/users/anishshri-db/orgs","repos_url":"https://api.github.com/users/anishshri-db/repos","events_url":"https://api.github.com/users/anishshri-db/events{/privacy}","received_events_url":"https://api.github.com/users/anishshri-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nEnsure that socket updates are flushed on exception from the python worker\r\n\r\n\r\n### Why are the changes needed?\r\nWithout this, updates to the socket from the python worker are not delivered to the jvm side\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nExisting tests were failing on a different Python version and pass after\r\n\r\n```\r\nRun completed in 1 minute, 13 seconds.\r\nTotal number of tests run: 8\r\nSuites: completed 1, aborted 0\r\nTests: succeeded 8, failed 0, canceled 0, ignored 0, pending 0\r\nAll tests passed.\r\n```\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo\r\n","created_at":"2024-10-11T04:48:00Z","updated_at":"2024-10-12T00:12:14Z","closed_at":"2024-10-12T00:12:13Z","merged_at":null,"merge_commit_sha":"06fe645e0213dd50c2e79df7099a0fc95cf139a7","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48418/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48418/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48418/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b48e2d74dcda8ac76525b408b32a249dbbebd951","head":{"label":"anishshri-db:task/SPARK-49930","ref":"task/SPARK-49930","sha":"b48e2d74dcda8ac76525b408b32a249dbbebd951","user":{"login":"anishshri-db","id":100322362,"node_id":"U_kgDOBfrMOg","avatar_url":"https://avatars.githubusercontent.com/u/100322362?v=4","gravatar_id":"","url":"https://api.github.com/users/anishshri-db","html_url":"https://github.com/anishshri-db","followers_url":"https://api.github.com/users/anishshri-db/followers","following_url":"https://api.github.com/users/anishshri-db/following{/other_user}","gists_url":"https://api.github.com/users/anishshri-db/gists{/gist_id}","starred_url":"https://api.github.com/users/anishshri-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anishshri-db/subscriptions","organizations_url":"https://api.github.com/users/anishshri-db/orgs","repos_url":"https://api.github.com/users/anishshri-db/repos","events_url":"https://api.github.com/users/anishshri-db/events{/privacy}","received_events_url":"https://api.github.com/users/anishshri-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":477925242,"node_id":"R_kgDOHHyPeg","name":"spark","full_name":"anishshri-db/spark","private":false,"owner":{"login":"anishshri-db","id":100322362,"node_id":"U_kgDOBfrMOg","avatar_url":"https://avatars.githubusercontent.com/u/100322362?v=4","gravatar_id":"","url":"https://api.github.com/users/anishshri-db","html_url":"https://github.com/anishshri-db","followers_url":"https://api.github.com/users/anishshri-db/followers","following_url":"https://api.github.com/users/anishshri-db/following{/other_user}","gists_url":"https://api.github.com/users/anishshri-db/gists{/gist_id}","starred_url":"https://api.github.com/users/anishshri-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anishshri-db/subscriptions","organizations_url":"https://api.github.com/users/anishshri-db/orgs","repos_url":"https://api.github.com/users/anishshri-db/repos","events_url":"https://api.github.com/users/anishshri-db/events{/privacy}","received_events_url":"https://api.github.com/users/anishshri-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/anishshri-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/anishshri-db/spark","forks_url":"https://api.github.com/repos/anishshri-db/spark/forks","keys_url":"https://api.github.com/repos/anishshri-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/anishshri-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/anishshri-db/spark/teams","hooks_url":"https://api.github.com/repos/anishshri-db/spark/hooks","issue_events_url":"https://api.github.com/repos/anishshri-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/anishshri-db/spark/events","assignees_url":"https://api.github.com/repos/anishshri-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/anishshri-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/anishshri-db/spark/tags","blobs_url":"https://api.github.com/repos/anishshri-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/anishshri-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/anishshri-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/anishshri-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/anishshri-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/anishshri-db/spark/languages","stargazers_url":"https://api.github.com/repos/anishshri-db/spark/stargazers","contributors_url":"https://api.github.com/repos/anishshri-db/spark/contributors","subscribers_url":"https://api.github.com/repos/anishshri-db/spark/subscribers","subscription_url":"https://api.github.com/repos/anishshri-db/spark/subscription","commits_url":"https://api.github.com/repos/anishshri-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/anishshri-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/anishshri-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/anishshri-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/anishshri-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/anishshri-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/anishshri-db/spark/merges","archive_url":"https://api.github.com/repos/anishshri-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/anishshri-db/spark/downloads","issues_url":"https://api.github.com/repos/anishshri-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/anishshri-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/anishshri-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/anishshri-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/anishshri-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/anishshri-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/anishshri-db/spark/deployments","created_at":"2022-04-05T00:49:09Z","updated_at":"2025-02-07T06:48:07Z","pushed_at":"2025-02-08T01:18:11Z","git_url":"git://github.com/anishshri-db/spark.git","ssh_url":"git@github.com:anishshri-db/spark.git","clone_url":"https://github.com/anishshri-db/spark.git","svn_url":"https://github.com/anishshri-db/spark","homepage":"https://spark.apache.org/","size":468506,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"4666972a31907393390a6bc353e87dfedc6d6445","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48418"},"html":{"href":"https://github.com/apache/spark/pull/48418"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48418"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48418/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48418/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48418/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b48e2d74dcda8ac76525b408b32a249dbbebd951"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48417","id":2118877135,"node_id":"PR_kwDOAQXtWs5-S3_P","html_url":"https://github.com/apache/spark/pull/48417","diff_url":"https://github.com/apache/spark/pull/48417.diff","patch_url":"https://github.com/apache/spark/pull/48417.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48417","number":48417,"state":"closed","locked":false,"title":"[SPARK-48567][PYTHON][TESTS][FOLLOW-UP] Make the query scope higher so finally can access to it","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR is a followup that fixes the test to recover the build.\r\n\r\n### Why are the changes needed?\r\n\r\nTo fix up the build.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo, test-only.\r\n\r\n### How was this patch tested?\r\n\r\nCI in this PR.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.\r\n","created_at":"2024-10-11T03:28:30Z","updated_at":"2024-10-11T03:29:49Z","closed_at":"2024-10-11T03:29:48Z","merged_at":null,"merge_commit_sha":"73b9d7a12c92786820d4b93cd1790d23f63431b7","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48417/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48417/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48417/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/a48cdc6c3e2fbcd918b9d97c6d9ca8746b76de1f","head":{"label":"HyukjinKwon:SPARK-48567-followup","ref":"SPARK-48567-followup","sha":"a48cdc6c3e2fbcd918b9d97c6d9ca8746b76de1f","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"2af653688c20dde87eebaa6bd4dc21123fab74cc","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48417"},"html":{"href":"https://github.com/apache/spark/pull/48417"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48417"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48417/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48417/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48417/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/a48cdc6c3e2fbcd918b9d97c6d9ca8746b76de1f"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48416","id":2118857456,"node_id":"PR_kwDOAQXtWs5-SzLw","html_url":"https://github.com/apache/spark/pull/48416","diff_url":"https://github.com/apache/spark/pull/48416.diff","patch_url":"https://github.com/apache/spark/pull/48416.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48416","number":48416,"state":"closed","locked":false,"title":"[SPARK-49748][CORE][FOLLOWUP] Add `getCondition` and deprecate `getErrorClass` in `QueryCompilationErrorsSuite`","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr is following up https://github.com/apache/spark/pull/48196\r\n\r\n\r\n### Why are the changes needed?\r\nRevise the logic of the newly added logic.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nPass GA.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-11T03:01:07Z","updated_at":"2024-10-11T13:21:26Z","closed_at":"2024-10-11T13:21:26Z","merged_at":null,"merge_commit_sha":"d81555b54627d400ab940eadc0c85726909ea09d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48416/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48416/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48416/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/7061de1986dd14a4f081d777a3dba77d24904959","head":{"label":"panbingkun:SPARK-49748_FOLLOWUP","ref":"SPARK-49748_FOLLOWUP","sha":"7061de1986dd14a4f081d777a3dba77d24904959","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ed0a63f93f57b05bc6d4988bb1591cdfaf21131d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48416"},"html":{"href":"https://github.com/apache/spark/pull/48416"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48416"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48416/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48416/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48416/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/7061de1986dd14a4f081d777a3dba77d24904959"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48415","id":2118782966,"node_id":"PR_kwDOAQXtWs5-Sg_2","html_url":"https://github.com/apache/spark/pull/48415","diff_url":"https://github.com/apache/spark/pull/48415.diff","patch_url":"https://github.com/apache/spark/pull/48415.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48415","number":48415,"state":"closed","locked":false,"title":"[SPARK-49928][PYTHON][TESTS] Refactor plot-related unit tests","user":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nRefactor plot-related unit tests.\r\n\r\n### Why are the changes needed?\r\nDifferent plots have different key attributes of the resulting figure to test against. The refactor makes the comparison easier.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nTest changes.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-11T01:55:47Z","updated_at":"2024-10-14T03:11:48Z","closed_at":"2024-10-14T03:11:14Z","merged_at":null,"merge_commit_sha":"0af779bb92f0ec75bf6ec8b806e0f51c217b49e7","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48415/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48415/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48415/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/fd31c20f6105bb6061766101c7de793c86b98551","head":{"label":"xinrong-meng:plot_test","ref":"plot_test","sha":"fd31c20f6105bb6061766101c7de793c86b98551","user":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":335786381,"node_id":"MDEwOlJlcG9zaXRvcnkzMzU3ODYzODE=","name":"spark","full_name":"xinrong-meng/spark","private":false,"owner":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/xinrong-meng/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/xinrong-meng/spark","forks_url":"https://api.github.com/repos/xinrong-meng/spark/forks","keys_url":"https://api.github.com/repos/xinrong-meng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xinrong-meng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xinrong-meng/spark/teams","hooks_url":"https://api.github.com/repos/xinrong-meng/spark/hooks","issue_events_url":"https://api.github.com/repos/xinrong-meng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/xinrong-meng/spark/events","assignees_url":"https://api.github.com/repos/xinrong-meng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/xinrong-meng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/xinrong-meng/spark/tags","blobs_url":"https://api.github.com/repos/xinrong-meng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xinrong-meng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xinrong-meng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/xinrong-meng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xinrong-meng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/xinrong-meng/spark/languages","stargazers_url":"https://api.github.com/repos/xinrong-meng/spark/stargazers","contributors_url":"https://api.github.com/repos/xinrong-meng/spark/contributors","subscribers_url":"https://api.github.com/repos/xinrong-meng/spark/subscribers","subscription_url":"https://api.github.com/repos/xinrong-meng/spark/subscription","commits_url":"https://api.github.com/repos/xinrong-meng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/xinrong-meng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/xinrong-meng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/xinrong-meng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/xinrong-meng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/xinrong-meng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xinrong-meng/spark/merges","archive_url":"https://api.github.com/repos/xinrong-meng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xinrong-meng/spark/downloads","issues_url":"https://api.github.com/repos/xinrong-meng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/xinrong-meng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/xinrong-meng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/xinrong-meng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xinrong-meng/spark/labels{/name}","releases_url":"https://api.github.com/repos/xinrong-meng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/xinrong-meng/spark/deployments","created_at":"2021-02-03T23:47:29Z","updated_at":"2024-09-27T08:09:06Z","pushed_at":"2025-02-08T02:14:33Z","git_url":"git://github.com/xinrong-meng/spark.git","ssh_url":"git@github.com:xinrong-meng/spark.git","clone_url":"https://github.com/xinrong-meng/spark.git","svn_url":"https://github.com/xinrong-meng/spark","homepage":"https://spark.apache.org/","size":469811,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":2,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1abfd490d072850ae40c46c1a0f1791a8aaa5698","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48415"},"html":{"href":"https://github.com/apache/spark/pull/48415"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48415"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48415/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48415/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48415/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/fd31c20f6105bb6061766101c7de793c86b98551"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48414","id":2118643682,"node_id":"PR_kwDOAQXtWs5-R-_i","html_url":"https://github.com/apache/spark/pull/48414","diff_url":"https://github.com/apache/spark/pull/48414.diff","patch_url":"https://github.com/apache/spark/pull/48414.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48414","number":48414,"state":"closed","locked":false,"title":"[SPARK-49927][SS] pyspark.sql.tests.streaming.test_streaming_listener to wait longer","user":{"login":"siying","id":5334567,"node_id":"MDQ6VXNlcjUzMzQ1Njc=","avatar_url":"https://avatars.githubusercontent.com/u/5334567?v=4","gravatar_id":"","url":"https://api.github.com/users/siying","html_url":"https://github.com/siying","followers_url":"https://api.github.com/users/siying/followers","following_url":"https://api.github.com/users/siying/following{/other_user}","gists_url":"https://api.github.com/users/siying/gists{/gist_id}","starred_url":"https://api.github.com/users/siying/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siying/subscriptions","organizations_url":"https://api.github.com/users/siying/orgs","repos_url":"https://api.github.com/users/siying/repos","events_url":"https://api.github.com/users/siying/events{/privacy}","received_events_url":"https://api.github.com/users/siying/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\n<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\nIn test pyspark.sql.tests.streaming.test_streaming_listener, instead of waiting for fixed 10 seconds, we wait for progress made.\r\n\r\n\r\n### Why are the changes needed?\r\nIn some environment, the test fails with progress_event appears to be None. Likely the wait time is not sufficient.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n### How was this patch tested?\r\nRun the patch and make sure it still passes\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo","created_at":"2024-10-10T23:30:39Z","updated_at":"2024-10-11T22:42:50Z","closed_at":"2024-10-11T22:42:50Z","merged_at":null,"merge_commit_sha":"6af29ff7dabaa0374ee785b82cb726a4a11c52f5","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48414/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48414/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48414/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/2af653688c20dde87eebaa6bd4dc21123fab74cc","head":{"label":"siying:python_test","ref":"python_test","sha":"2af653688c20dde87eebaa6bd4dc21123fab74cc","user":{"login":"siying","id":5334567,"node_id":"MDQ6VXNlcjUzMzQ1Njc=","avatar_url":"https://avatars.githubusercontent.com/u/5334567?v=4","gravatar_id":"","url":"https://api.github.com/users/siying","html_url":"https://github.com/siying","followers_url":"https://api.github.com/users/siying/followers","following_url":"https://api.github.com/users/siying/following{/other_user}","gists_url":"https://api.github.com/users/siying/gists{/gist_id}","starred_url":"https://api.github.com/users/siying/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siying/subscriptions","organizations_url":"https://api.github.com/users/siying/orgs","repos_url":"https://api.github.com/users/siying/repos","events_url":"https://api.github.com/users/siying/events{/privacy}","received_events_url":"https://api.github.com/users/siying/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":631023173,"node_id":"R_kgDOJZymRQ","name":"spark","full_name":"siying/spark","private":false,"owner":{"login":"siying","id":5334567,"node_id":"MDQ6VXNlcjUzMzQ1Njc=","avatar_url":"https://avatars.githubusercontent.com/u/5334567?v=4","gravatar_id":"","url":"https://api.github.com/users/siying","html_url":"https://github.com/siying","followers_url":"https://api.github.com/users/siying/followers","following_url":"https://api.github.com/users/siying/following{/other_user}","gists_url":"https://api.github.com/users/siying/gists{/gist_id}","starred_url":"https://api.github.com/users/siying/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siying/subscriptions","organizations_url":"https://api.github.com/users/siying/orgs","repos_url":"https://api.github.com/users/siying/repos","events_url":"https://api.github.com/users/siying/events{/privacy}","received_events_url":"https://api.github.com/users/siying/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/siying/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/siying/spark","forks_url":"https://api.github.com/repos/siying/spark/forks","keys_url":"https://api.github.com/repos/siying/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/siying/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/siying/spark/teams","hooks_url":"https://api.github.com/repos/siying/spark/hooks","issue_events_url":"https://api.github.com/repos/siying/spark/issues/events{/number}","events_url":"https://api.github.com/repos/siying/spark/events","assignees_url":"https://api.github.com/repos/siying/spark/assignees{/user}","branches_url":"https://api.github.com/repos/siying/spark/branches{/branch}","tags_url":"https://api.github.com/repos/siying/spark/tags","blobs_url":"https://api.github.com/repos/siying/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/siying/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/siying/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/siying/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/siying/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/siying/spark/languages","stargazers_url":"https://api.github.com/repos/siying/spark/stargazers","contributors_url":"https://api.github.com/repos/siying/spark/contributors","subscribers_url":"https://api.github.com/repos/siying/spark/subscribers","subscription_url":"https://api.github.com/repos/siying/spark/subscription","commits_url":"https://api.github.com/repos/siying/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/siying/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/siying/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/siying/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/siying/spark/contents/{+path}","compare_url":"https://api.github.com/repos/siying/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/siying/spark/merges","archive_url":"https://api.github.com/repos/siying/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/siying/spark/downloads","issues_url":"https://api.github.com/repos/siying/spark/issues{/number}","pulls_url":"https://api.github.com/repos/siying/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/siying/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/siying/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/siying/spark/labels{/name}","releases_url":"https://api.github.com/repos/siying/spark/releases{/id}","deployments_url":"https://api.github.com/repos/siying/spark/deployments","created_at":"2023-04-21T18:13:41Z","updated_at":"2025-01-13T18:16:34Z","pushed_at":"2025-01-23T04:30:25Z","git_url":"git://github.com/siying/spark.git","ssh_url":"git@github.com:siying/spark.git","clone_url":"https://github.com/siying/spark.git","svn_url":"https://github.com/siying/spark","homepage":"https://spark.apache.org/","size":423999,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c79e2d6370cc7a31e65342bfb69b60523aae1b30","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48414"},"html":{"href":"https://github.com/apache/spark/pull/48414"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48414"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48414/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48414/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48414/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/2af653688c20dde87eebaa6bd4dc21123fab74cc"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48413","id":2118101230,"node_id":"PR_kwDOAQXtWs5-P6ju","html_url":"https://github.com/apache/spark/pull/48413","diff_url":"https://github.com/apache/spark/pull/48413.diff","patch_url":"https://github.com/apache/spark/pull/48413.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48413","number":48413,"state":"closed","locked":false,"title":"[SPARK-49558][SQL] Add SQL pipe syntax for LIMIT/OFFSET and ORDER/SORT/CLUSTER/DISTRIBUTE BY","user":{"login":"dtenedor","id":99207096,"node_id":"U_kgDOBenHuA","avatar_url":"https://avatars.githubusercontent.com/u/99207096?v=4","gravatar_id":"","url":"https://api.github.com/users/dtenedor","html_url":"https://github.com/dtenedor","followers_url":"https://api.github.com/users/dtenedor/followers","following_url":"https://api.github.com/users/dtenedor/following{/other_user}","gists_url":"https://api.github.com/users/dtenedor/gists{/gist_id}","starred_url":"https://api.github.com/users/dtenedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dtenedor/subscriptions","organizations_url":"https://api.github.com/users/dtenedor/orgs","repos_url":"https://api.github.com/users/dtenedor/repos","events_url":"https://api.github.com/users/dtenedor/events{/privacy}","received_events_url":"https://api.github.com/users/dtenedor/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR adds SQL pipe syntax support for LIMIT/OFFSET and ORDER/SORT/CLUSTER/DISTRIBUTE BY.\r\n\r\nFor example:\r\n\r\n```\r\nCREATE TABLE t(x INT, y STRING) USING CSV;\r\nINSERT INTO t VALUES (0, 'abc'), (1, 'def');\r\n\r\nTABLE t\r\n|> ORDER BY x\r\n|> LIMIT 1 OFFSET 1\r\n\r\n1\tdef\r\n```\r\n\r\n### Why are the changes needed?\r\n\r\nThe SQL pipe operator syntax will let users compose queries in a more flexible fashion.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nYes, see above.\r\n\r\n### How was this patch tested?\r\n\r\nThis PR adds a few unit test cases, but mostly relies on golden file test coverage. I did this to make sure the answers are correct as this feature is implemented and also so we can look at the analyzer output plans to ensure they look right as well.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo","created_at":"2024-10-10T16:47:07Z","updated_at":"2024-10-29T13:58:53Z","closed_at":"2024-10-18T05:54:01Z","merged_at":null,"merge_commit_sha":"b205629aafe01333cda24e5f5b0ed139f88e185d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48413/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48413/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48413/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/67fd8cae2c9ca6d3d7dbb67eedebc702aea492fa","head":{"label":"dtenedor:pipe-order-by","ref":"pipe-order-by","sha":"67fd8cae2c9ca6d3d7dbb67eedebc702aea492fa","user":{"login":"dtenedor","id":99207096,"node_id":"U_kgDOBenHuA","avatar_url":"https://avatars.githubusercontent.com/u/99207096?v=4","gravatar_id":"","url":"https://api.github.com/users/dtenedor","html_url":"https://github.com/dtenedor","followers_url":"https://api.github.com/users/dtenedor/followers","following_url":"https://api.github.com/users/dtenedor/following{/other_user}","gists_url":"https://api.github.com/users/dtenedor/gists{/gist_id}","starred_url":"https://api.github.com/users/dtenedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dtenedor/subscriptions","organizations_url":"https://api.github.com/users/dtenedor/orgs","repos_url":"https://api.github.com/users/dtenedor/repos","events_url":"https://api.github.com/users/dtenedor/events{/privacy}","received_events_url":"https://api.github.com/users/dtenedor/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":592933002,"node_id":"R_kgDOI1dwig","name":"spark","full_name":"dtenedor/spark","private":false,"owner":{"login":"dtenedor","id":99207096,"node_id":"U_kgDOBenHuA","avatar_url":"https://avatars.githubusercontent.com/u/99207096?v=4","gravatar_id":"","url":"https://api.github.com/users/dtenedor","html_url":"https://github.com/dtenedor","followers_url":"https://api.github.com/users/dtenedor/followers","following_url":"https://api.github.com/users/dtenedor/following{/other_user}","gists_url":"https://api.github.com/users/dtenedor/gists{/gist_id}","starred_url":"https://api.github.com/users/dtenedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dtenedor/subscriptions","organizations_url":"https://api.github.com/users/dtenedor/orgs","repos_url":"https://api.github.com/users/dtenedor/repos","events_url":"https://api.github.com/users/dtenedor/events{/privacy}","received_events_url":"https://api.github.com/users/dtenedor/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dtenedor/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/dtenedor/spark","forks_url":"https://api.github.com/repos/dtenedor/spark/forks","keys_url":"https://api.github.com/repos/dtenedor/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dtenedor/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dtenedor/spark/teams","hooks_url":"https://api.github.com/repos/dtenedor/spark/hooks","issue_events_url":"https://api.github.com/repos/dtenedor/spark/issues/events{/number}","events_url":"https://api.github.com/repos/dtenedor/spark/events","assignees_url":"https://api.github.com/repos/dtenedor/spark/assignees{/user}","branches_url":"https://api.github.com/repos/dtenedor/spark/branches{/branch}","tags_url":"https://api.github.com/repos/dtenedor/spark/tags","blobs_url":"https://api.github.com/repos/dtenedor/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dtenedor/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dtenedor/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/dtenedor/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dtenedor/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/dtenedor/spark/languages","stargazers_url":"https://api.github.com/repos/dtenedor/spark/stargazers","contributors_url":"https://api.github.com/repos/dtenedor/spark/contributors","subscribers_url":"https://api.github.com/repos/dtenedor/spark/subscribers","subscription_url":"https://api.github.com/repos/dtenedor/spark/subscription","commits_url":"https://api.github.com/repos/dtenedor/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/dtenedor/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/dtenedor/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/dtenedor/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/dtenedor/spark/contents/{+path}","compare_url":"https://api.github.com/repos/dtenedor/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dtenedor/spark/merges","archive_url":"https://api.github.com/repos/dtenedor/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dtenedor/spark/downloads","issues_url":"https://api.github.com/repos/dtenedor/spark/issues{/number}","pulls_url":"https://api.github.com/repos/dtenedor/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/dtenedor/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/dtenedor/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dtenedor/spark/labels{/name}","releases_url":"https://api.github.com/repos/dtenedor/spark/releases{/id}","deployments_url":"https://api.github.com/repos/dtenedor/spark/deployments","created_at":"2023-01-24T21:00:57Z","updated_at":"2025-01-17T22:49:32Z","pushed_at":"2025-01-17T22:48:49Z","git_url":"git://github.com/dtenedor/spark.git","ssh_url":"git@github.com:dtenedor/spark.git","clone_url":"https://github.com/dtenedor/spark.git","svn_url":"https://github.com/dtenedor/spark","homepage":"https://spark.apache.org/","size":423104,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d90145db7b8452deafb73c268774c75644e2cc4b","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48413"},"html":{"href":"https://github.com/apache/spark/pull/48413"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48413"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48413/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48413/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48413/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/67fd8cae2c9ca6d3d7dbb67eedebc702aea492fa"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48412","id":2117727554,"node_id":"PR_kwDOAQXtWs5-OfVC","html_url":"https://github.com/apache/spark/pull/48412","diff_url":"https://github.com/apache/spark/pull/48412.diff","patch_url":"https://github.com/apache/spark/pull/48412.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48412","number":48412,"state":"closed","locked":false,"title":"[SPARK-49925][SQL] Add tests for order by with collated strings","user":{"login":"ilicmarkodb","id":175630590,"node_id":"U_kgDOCnfo_g","avatar_url":"https://avatars.githubusercontent.com/u/175630590?v=4","gravatar_id":"","url":"https://api.github.com/users/ilicmarkodb","html_url":"https://github.com/ilicmarkodb","followers_url":"https://api.github.com/users/ilicmarkodb/followers","following_url":"https://api.github.com/users/ilicmarkodb/following{/other_user}","gists_url":"https://api.github.com/users/ilicmarkodb/gists{/gist_id}","starred_url":"https://api.github.com/users/ilicmarkodb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilicmarkodb/subscriptions","organizations_url":"https://api.github.com/users/ilicmarkodb/orgs","repos_url":"https://api.github.com/users/ilicmarkodb/repos","events_url":"https://api.github.com/users/ilicmarkodb/events{/privacy}","received_events_url":"https://api.github.com/users/ilicmarkodb/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\n### What changes were proposed in this pull request?\r\nTests added for order by clause with collated strings.\r\n\r\n### Why are the changes needed?\r\nBetter testing.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n### How was this patch tested?\r\nTests added to `CollationSuite`.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-10T13:43:26Z","updated_at":"2024-10-11T14:24:14Z","closed_at":"2024-10-11T14:24:13Z","merged_at":null,"merge_commit_sha":"742f558172ffcdeb4c4952cd85ab66f6f598d320","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48412/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48412/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48412/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/f290a1c76809c703c87325853c97fe71212ef715","head":{"label":"ilicmarkodb:add_tests_for_complex_types_with_collations_order_by","ref":"add_tests_for_complex_types_with_collations_order_by","sha":"f290a1c76809c703c87325853c97fe71212ef715","user":{"login":"ilicmarkodb","id":175630590,"node_id":"U_kgDOCnfo_g","avatar_url":"https://avatars.githubusercontent.com/u/175630590?v=4","gravatar_id":"","url":"https://api.github.com/users/ilicmarkodb","html_url":"https://github.com/ilicmarkodb","followers_url":"https://api.github.com/users/ilicmarkodb/followers","following_url":"https://api.github.com/users/ilicmarkodb/following{/other_user}","gists_url":"https://api.github.com/users/ilicmarkodb/gists{/gist_id}","starred_url":"https://api.github.com/users/ilicmarkodb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilicmarkodb/subscriptions","organizations_url":"https://api.github.com/users/ilicmarkodb/orgs","repos_url":"https://api.github.com/users/ilicmarkodb/repos","events_url":"https://api.github.com/users/ilicmarkodb/events{/privacy}","received_events_url":"https://api.github.com/users/ilicmarkodb/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":834095487,"node_id":"R_kgDOMbdJfw","name":"spark","full_name":"ilicmarkodb/spark","private":false,"owner":{"login":"ilicmarkodb","id":175630590,"node_id":"U_kgDOCnfo_g","avatar_url":"https://avatars.githubusercontent.com/u/175630590?v=4","gravatar_id":"","url":"https://api.github.com/users/ilicmarkodb","html_url":"https://github.com/ilicmarkodb","followers_url":"https://api.github.com/users/ilicmarkodb/followers","following_url":"https://api.github.com/users/ilicmarkodb/following{/other_user}","gists_url":"https://api.github.com/users/ilicmarkodb/gists{/gist_id}","starred_url":"https://api.github.com/users/ilicmarkodb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilicmarkodb/subscriptions","organizations_url":"https://api.github.com/users/ilicmarkodb/orgs","repos_url":"https://api.github.com/users/ilicmarkodb/repos","events_url":"https://api.github.com/users/ilicmarkodb/events{/privacy}","received_events_url":"https://api.github.com/users/ilicmarkodb/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ilicmarkodb/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/ilicmarkodb/spark","forks_url":"https://api.github.com/repos/ilicmarkodb/spark/forks","keys_url":"https://api.github.com/repos/ilicmarkodb/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ilicmarkodb/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ilicmarkodb/spark/teams","hooks_url":"https://api.github.com/repos/ilicmarkodb/spark/hooks","issue_events_url":"https://api.github.com/repos/ilicmarkodb/spark/issues/events{/number}","events_url":"https://api.github.com/repos/ilicmarkodb/spark/events","assignees_url":"https://api.github.com/repos/ilicmarkodb/spark/assignees{/user}","branches_url":"https://api.github.com/repos/ilicmarkodb/spark/branches{/branch}","tags_url":"https://api.github.com/repos/ilicmarkodb/spark/tags","blobs_url":"https://api.github.com/repos/ilicmarkodb/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ilicmarkodb/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ilicmarkodb/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/ilicmarkodb/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ilicmarkodb/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/ilicmarkodb/spark/languages","stargazers_url":"https://api.github.com/repos/ilicmarkodb/spark/stargazers","contributors_url":"https://api.github.com/repos/ilicmarkodb/spark/contributors","subscribers_url":"https://api.github.com/repos/ilicmarkodb/spark/subscribers","subscription_url":"https://api.github.com/repos/ilicmarkodb/spark/subscription","commits_url":"https://api.github.com/repos/ilicmarkodb/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/ilicmarkodb/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/ilicmarkodb/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/ilicmarkodb/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/ilicmarkodb/spark/contents/{+path}","compare_url":"https://api.github.com/repos/ilicmarkodb/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ilicmarkodb/spark/merges","archive_url":"https://api.github.com/repos/ilicmarkodb/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ilicmarkodb/spark/downloads","issues_url":"https://api.github.com/repos/ilicmarkodb/spark/issues{/number}","pulls_url":"https://api.github.com/repos/ilicmarkodb/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/ilicmarkodb/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/ilicmarkodb/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ilicmarkodb/spark/labels{/name}","releases_url":"https://api.github.com/repos/ilicmarkodb/spark/releases{/id}","deployments_url":"https://api.github.com/repos/ilicmarkodb/spark/deployments","created_at":"2024-07-26T12:07:58Z","updated_at":"2024-10-10T09:15:40Z","pushed_at":"2024-10-11T08:52:06Z","git_url":"git://github.com/ilicmarkodb/spark.git","ssh_url":"git@github.com:ilicmarkodb/spark.git","clone_url":"https://github.com/ilicmarkodb/spark.git","svn_url":"https://github.com/ilicmarkodb/spark","homepage":"https://spark.apache.org/","size":409790,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"e589ccd9c18e8159ea05471434834246f494a476","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48412"},"html":{"href":"https://github.com/apache/spark/pull/48412"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48412"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48412/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48412/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48412/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/f290a1c76809c703c87325853c97fe71212ef715"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48411","id":2117603273,"node_id":"PR_kwDOAQXtWs5-OA_J","html_url":"https://github.com/apache/spark/pull/48411","diff_url":"https://github.com/apache/spark/pull/48411.diff","patch_url":"https://github.com/apache/spark/pull/48411.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48411","number":48411,"state":"closed","locked":false,"title":"[MINOR][DOCS][3.5] Fix specified java versions in `install.rst`","user":{"login":"dvorst","id":87502756,"node_id":"MDQ6VXNlcjg3NTAyNzU2","avatar_url":"https://avatars.githubusercontent.com/u/87502756?v=4","gravatar_id":"","url":"https://api.github.com/users/dvorst","html_url":"https://github.com/dvorst","followers_url":"https://api.github.com/users/dvorst/followers","following_url":"https://api.github.com/users/dvorst/following{/other_user}","gists_url":"https://api.github.com/users/dvorst/gists{/gist_id}","starred_url":"https://api.github.com/users/dvorst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dvorst/subscriptions","organizations_url":"https://api.github.com/users/dvorst/orgs","repos_url":"https://api.github.com/users/dvorst/repos","events_url":"https://api.github.com/users/dvorst/events{/privacy}","received_events_url":"https://api.github.com/users/dvorst/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nDocumentation change: the JAVA versions mentioned on the getting_started page of PySpark 3.5 are corrected (https://spark.apache.org/docs/3.5.3/api/python/getting_started/install.html#dependencies).\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nThe original description \"PySpark requires Java 8 or later\" is incorrect since 3.5 does not support java prior to 8u371 anymore and the latest supported version is 17, the downloading page (https://spark.apache.org/docs/3.5.3/#downloading) however, does correctly state this. I thus corrected the mentioned java versions.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes\r\ndocumentation fix\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nManually\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo","created_at":"2024-10-10T12:54:02Z","updated_at":"2024-11-04T21:44:34Z","closed_at":"2024-11-04T21:44:34Z","merged_at":null,"merge_commit_sha":"49a0249ec9cf3d3f76f545fd9eca90da83999289","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48411/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48411/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48411/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/7a9cdc228f735591406a56985ad9053081f452a1","head":{"label":"dvorst:branch-3.5","ref":"branch-3.5","sha":"7a9cdc228f735591406a56985ad9053081f452a1","user":{"login":"dvorst","id":87502756,"node_id":"MDQ6VXNlcjg3NTAyNzU2","avatar_url":"https://avatars.githubusercontent.com/u/87502756?v=4","gravatar_id":"","url":"https://api.github.com/users/dvorst","html_url":"https://github.com/dvorst","followers_url":"https://api.github.com/users/dvorst/followers","following_url":"https://api.github.com/users/dvorst/following{/other_user}","gists_url":"https://api.github.com/users/dvorst/gists{/gist_id}","starred_url":"https://api.github.com/users/dvorst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dvorst/subscriptions","organizations_url":"https://api.github.com/users/dvorst/orgs","repos_url":"https://api.github.com/users/dvorst/repos","events_url":"https://api.github.com/users/dvorst/events{/privacy}","received_events_url":"https://api.github.com/users/dvorst/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":870150878,"node_id":"R_kgDOM91y3g","name":"spark","full_name":"dvorst/spark","private":false,"owner":{"login":"dvorst","id":87502756,"node_id":"MDQ6VXNlcjg3NTAyNzU2","avatar_url":"https://avatars.githubusercontent.com/u/87502756?v=4","gravatar_id":"","url":"https://api.github.com/users/dvorst","html_url":"https://github.com/dvorst","followers_url":"https://api.github.com/users/dvorst/followers","following_url":"https://api.github.com/users/dvorst/following{/other_user}","gists_url":"https://api.github.com/users/dvorst/gists{/gist_id}","starred_url":"https://api.github.com/users/dvorst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dvorst/subscriptions","organizations_url":"https://api.github.com/users/dvorst/orgs","repos_url":"https://api.github.com/users/dvorst/repos","events_url":"https://api.github.com/users/dvorst/events{/privacy}","received_events_url":"https://api.github.com/users/dvorst/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dvorst/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/dvorst/spark","forks_url":"https://api.github.com/repos/dvorst/spark/forks","keys_url":"https://api.github.com/repos/dvorst/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dvorst/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dvorst/spark/teams","hooks_url":"https://api.github.com/repos/dvorst/spark/hooks","issue_events_url":"https://api.github.com/repos/dvorst/spark/issues/events{/number}","events_url":"https://api.github.com/repos/dvorst/spark/events","assignees_url":"https://api.github.com/repos/dvorst/spark/assignees{/user}","branches_url":"https://api.github.com/repos/dvorst/spark/branches{/branch}","tags_url":"https://api.github.com/repos/dvorst/spark/tags","blobs_url":"https://api.github.com/repos/dvorst/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dvorst/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dvorst/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/dvorst/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dvorst/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/dvorst/spark/languages","stargazers_url":"https://api.github.com/repos/dvorst/spark/stargazers","contributors_url":"https://api.github.com/repos/dvorst/spark/contributors","subscribers_url":"https://api.github.com/repos/dvorst/spark/subscribers","subscription_url":"https://api.github.com/repos/dvorst/spark/subscription","commits_url":"https://api.github.com/repos/dvorst/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/dvorst/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/dvorst/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/dvorst/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/dvorst/spark/contents/{+path}","compare_url":"https://api.github.com/repos/dvorst/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dvorst/spark/merges","archive_url":"https://api.github.com/repos/dvorst/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dvorst/spark/downloads","issues_url":"https://api.github.com/repos/dvorst/spark/issues{/number}","pulls_url":"https://api.github.com/repos/dvorst/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/dvorst/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/dvorst/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dvorst/spark/labels{/name}","releases_url":"https://api.github.com/repos/dvorst/spark/releases{/id}","deployments_url":"https://api.github.com/repos/dvorst/spark/deployments","created_at":"2024-10-09T14:28:21Z","updated_at":"2024-10-09T14:28:22Z","pushed_at":"2024-10-24T09:08:58Z","git_url":"git://github.com/dvorst/spark.git","ssh_url":"git@github.com:dvorst/spark.git","clone_url":"https://github.com/dvorst/spark.git","svn_url":"https://github.com/dvorst/spark","homepage":"https://spark.apache.org/","size":472478,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:branch-3.5","ref":"branch-3.5","sha":"6b9b3c04f9a78a903b05d81209b41836e3061523","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48411"},"html":{"href":"https://github.com/apache/spark/pull/48411"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48411"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48411/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48411/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48411/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/7a9cdc228f735591406a56985ad9053081f452a1"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48410","id":2117523853,"node_id":"PR_kwDOAQXtWs5-NtmN","html_url":"https://github.com/apache/spark/pull/48410","diff_url":"https://github.com/apache/spark/pull/48410.diff","patch_url":"https://github.com/apache/spark/pull/48410.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48410","number":48410,"state":"closed","locked":false,"title":"[SPARK-49924][SQL] Keep `containsNull` after `ArrayCompact` replacement","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nFix `containsNull` of `ArrayCompact`, by adding a new expression `KnownNotContainsNull`\r\n\r\n\r\n### Why are the changes needed?\r\n\r\nhttps://github.com/apache/spark/pull/47430 attempted to set `containsNull = false` for `ArrayCompact` for further optimization, but in an incomplete way:\r\n\r\nThe `ArrayCompact` is a runtime replaceable expression, so will be replaced in optimizer, and cause the `containsNull` be reverted, e.g.\r\n\r\n```sql\r\nselect array_compact(array(1, null))\r\n```\r\n\r\nRule `ReplaceExpressions` changed `containsNull: false -> true`\r\n```\r\nold schema:\r\nStructField(array_compact(array(1, NULL)),ArrayType(IntegerType,false),false)\r\n\r\nnew schema\r\nStructField(array_compact(array(1, NULL)),ArrayType(IntegerType,true),false)\r\n```\r\n\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nno\r\n\r\n\r\n### How was this patch tested?\r\nadded tests\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nno","created_at":"2024-10-10T12:15:34Z","updated_at":"2024-10-12T12:42:40Z","closed_at":"2024-10-12T11:33:37Z","merged_at":null,"merge_commit_sha":"c98625faeca237113a8e20304e1c7e514193325c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48410/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48410/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48410/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/1e75aa553bdcaa48e2dfc2d53fdce0148aa47d1a","head":{"label":"zhengruifeng:fix_array_compact_null","ref":"fix_array_compact_null","sha":"1e75aa553bdcaa48e2dfc2d53fdce0148aa47d1a","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":51584791,"node_id":"MDEwOlJlcG9zaXRvcnk1MTU4NDc5MQ==","name":"spark","full_name":"zhengruifeng/spark","private":false,"owner":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhengruifeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zhengruifeng/spark","forks_url":"https://api.github.com/repos/zhengruifeng/spark/forks","keys_url":"https://api.github.com/repos/zhengruifeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhengruifeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhengruifeng/spark/teams","hooks_url":"https://api.github.com/repos/zhengruifeng/spark/hooks","issue_events_url":"https://api.github.com/repos/zhengruifeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhengruifeng/spark/events","assignees_url":"https://api.github.com/repos/zhengruifeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhengruifeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhengruifeng/spark/tags","blobs_url":"https://api.github.com/repos/zhengruifeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhengruifeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhengruifeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhengruifeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhengruifeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhengruifeng/spark/languages","stargazers_url":"https://api.github.com/repos/zhengruifeng/spark/stargazers","contributors_url":"https://api.github.com/repos/zhengruifeng/spark/contributors","subscribers_url":"https://api.github.com/repos/zhengruifeng/spark/subscribers","subscription_url":"https://api.github.com/repos/zhengruifeng/spark/subscription","commits_url":"https://api.github.com/repos/zhengruifeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhengruifeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhengruifeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhengruifeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhengruifeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhengruifeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhengruifeng/spark/merges","archive_url":"https://api.github.com/repos/zhengruifeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhengruifeng/spark/downloads","issues_url":"https://api.github.com/repos/zhengruifeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhengruifeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhengruifeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhengruifeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhengruifeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhengruifeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhengruifeng/spark/deployments","created_at":"2016-02-12T11:58:00Z","updated_at":"2025-02-09T01:55:22Z","pushed_at":"2025-02-09T01:55:17Z","git_url":"git://github.com/zhengruifeng/spark.git","ssh_url":"git@github.com:zhengruifeng/spark.git","clone_url":"https://github.com/zhengruifeng/spark.git","svn_url":"https://github.com/zhengruifeng/spark","homepage":null,"size":434785,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ed0a63f93f57b05bc6d4988bb1591cdfaf21131d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48410"},"html":{"href":"https://github.com/apache/spark/pull/48410"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48410"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48410/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48410/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48410/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/1e75aa553bdcaa48e2dfc2d53fdce0148aa47d1a"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48409","id":2117423295,"node_id":"PR_kwDOAQXtWs5-NVC_","html_url":"https://github.com/apache/spark/pull/48409","diff_url":"https://github.com/apache/spark/pull/48409.diff","patch_url":"https://github.com/apache/spark/pull/48409.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48409","number":48409,"state":"closed","locked":false,"title":"[SPARK-49922][BUILD] Upgrade `sbt-assembly` to `2.3.0`","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to upgrade `sbt-assembly` from `2.2.0` to `2.3.0`\r\n\r\n### Why are the changes needed?\r\n- `sbt-assembly`, the full release notes: https://github.com/sbt/sbt-assembly/releases/tag/v2.3.0\r\n- Bug fixed:\r\n  Fixes assembly not creating parent directories by @Roiocam in https://github.com/sbt/sbt-assembly/pull/525\r\n  Throws error when a misconfigured assemblyOutputPath is detected by @hygt in https://github.com/sbt/sbt-assembly/pull/523\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nPass GA.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-10T11:24:13Z","updated_at":"2024-10-15T22:25:45Z","closed_at":"2024-10-15T22:25:45Z","merged_at":null,"merge_commit_sha":"f1cf303878df8d2d180f11e5577279a412263775","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48409/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48409/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48409/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9ff7b679e9c295c5759502e8b9ee22fc89da0dc0","head":{"label":"panbingkun:SPARK-49922","ref":"SPARK-49922","sha":"9ff7b679e9c295c5759502e8b9ee22fc89da0dc0","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"e693af0a0adafe845c90579c02810b4c7d0c2b7d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48409"},"html":{"href":"https://github.com/apache/spark/pull/48409"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48409"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48409/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48409/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48409/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9ff7b679e9c295c5759502e8b9ee22fc89da0dc0"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48408","id":2117169859,"node_id":"PR_kwDOAQXtWs5-MXLD","html_url":"https://github.com/apache/spark/pull/48408","diff_url":"https://github.com/apache/spark/pull/48408.diff","patch_url":"https://github.com/apache/spark/pull/48408.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48408","number":48408,"state":"closed","locked":false,"title":"[SPARK-49921][CORE] Add task write data time to SQL tab's graph node","user":{"login":"huangxiaopingRD","id":35296098,"node_id":"MDQ6VXNlcjM1Mjk2MDk4","avatar_url":"https://avatars.githubusercontent.com/u/35296098?v=4","gravatar_id":"","url":"https://api.github.com/users/huangxiaopingRD","html_url":"https://github.com/huangxiaopingRD","followers_url":"https://api.github.com/users/huangxiaopingRD/followers","following_url":"https://api.github.com/users/huangxiaopingRD/following{/other_user}","gists_url":"https://api.github.com/users/huangxiaopingRD/gists{/gist_id}","starred_url":"https://api.github.com/users/huangxiaopingRD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huangxiaopingRD/subscriptions","organizations_url":"https://api.github.com/users/huangxiaopingRD/orgs","repos_url":"https://api.github.com/users/huangxiaopingRD/repos","events_url":"https://api.github.com/users/huangxiaopingRD/events{/privacy}","received_events_url":"https://api.github.com/users/huangxiaopingRD/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\n### What changes were proposed in this pull request?\r\nAdd task write data time to SQL tab's graph node. After adding the metric, the following figure is shown.\r\n<img width=\"441\" alt=\"image\" src=\"https://github.com/user-attachments/assets/64b864b5-52cb-4bc2-8f04-8c5cdc26d3d4\">\r\n\r\n\r\n\r\n### Why are the changes needed?\r\nTo facilitate viewing of how much time the write operator uses, to help optimize performance, and to view task bottlenecks\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nTests were added\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo\r\n","created_at":"2024-10-10T09:43:59Z","updated_at":"2025-01-20T00:24:35Z","closed_at":"2025-01-20T00:24:35Z","merged_at":null,"merge_commit_sha":"b77ac039a3326863fbc437dacdf52d17290bac5f","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48408/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48408/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48408/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/21332b6526bd9b64023ce292c055c24a69bb2e6a","head":{"label":"huangxiaopingRD:SPARK-49921","ref":"SPARK-49921","sha":"21332b6526bd9b64023ce292c055c24a69bb2e6a","user":{"login":"huangxiaopingRD","id":35296098,"node_id":"MDQ6VXNlcjM1Mjk2MDk4","avatar_url":"https://avatars.githubusercontent.com/u/35296098?v=4","gravatar_id":"","url":"https://api.github.com/users/huangxiaopingRD","html_url":"https://github.com/huangxiaopingRD","followers_url":"https://api.github.com/users/huangxiaopingRD/followers","following_url":"https://api.github.com/users/huangxiaopingRD/following{/other_user}","gists_url":"https://api.github.com/users/huangxiaopingRD/gists{/gist_id}","starred_url":"https://api.github.com/users/huangxiaopingRD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huangxiaopingRD/subscriptions","organizations_url":"https://api.github.com/users/huangxiaopingRD/orgs","repos_url":"https://api.github.com/users/huangxiaopingRD/repos","events_url":"https://api.github.com/users/huangxiaopingRD/events{/privacy}","received_events_url":"https://api.github.com/users/huangxiaopingRD/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":471008991,"node_id":"R_kgDOHBMG3w","name":"spark","full_name":"huangxiaopingRD/spark","private":false,"owner":{"login":"huangxiaopingRD","id":35296098,"node_id":"MDQ6VXNlcjM1Mjk2MDk4","avatar_url":"https://avatars.githubusercontent.com/u/35296098?v=4","gravatar_id":"","url":"https://api.github.com/users/huangxiaopingRD","html_url":"https://github.com/huangxiaopingRD","followers_url":"https://api.github.com/users/huangxiaopingRD/followers","following_url":"https://api.github.com/users/huangxiaopingRD/following{/other_user}","gists_url":"https://api.github.com/users/huangxiaopingRD/gists{/gist_id}","starred_url":"https://api.github.com/users/huangxiaopingRD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huangxiaopingRD/subscriptions","organizations_url":"https://api.github.com/users/huangxiaopingRD/orgs","repos_url":"https://api.github.com/users/huangxiaopingRD/repos","events_url":"https://api.github.com/users/huangxiaopingRD/events{/privacy}","received_events_url":"https://api.github.com/users/huangxiaopingRD/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/huangxiaopingRD/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/huangxiaopingRD/spark","forks_url":"https://api.github.com/repos/huangxiaopingRD/spark/forks","keys_url":"https://api.github.com/repos/huangxiaopingRD/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/huangxiaopingRD/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/huangxiaopingRD/spark/teams","hooks_url":"https://api.github.com/repos/huangxiaopingRD/spark/hooks","issue_events_url":"https://api.github.com/repos/huangxiaopingRD/spark/issues/events{/number}","events_url":"https://api.github.com/repos/huangxiaopingRD/spark/events","assignees_url":"https://api.github.com/repos/huangxiaopingRD/spark/assignees{/user}","branches_url":"https://api.github.com/repos/huangxiaopingRD/spark/branches{/branch}","tags_url":"https://api.github.com/repos/huangxiaopingRD/spark/tags","blobs_url":"https://api.github.com/repos/huangxiaopingRD/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/huangxiaopingRD/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/huangxiaopingRD/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/huangxiaopingRD/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/huangxiaopingRD/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/huangxiaopingRD/spark/languages","stargazers_url":"https://api.github.com/repos/huangxiaopingRD/spark/stargazers","contributors_url":"https://api.github.com/repos/huangxiaopingRD/spark/contributors","subscribers_url":"https://api.github.com/repos/huangxiaopingRD/spark/subscribers","subscription_url":"https://api.github.com/repos/huangxiaopingRD/spark/subscription","commits_url":"https://api.github.com/repos/huangxiaopingRD/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/huangxiaopingRD/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/huangxiaopingRD/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/huangxiaopingRD/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/huangxiaopingRD/spark/contents/{+path}","compare_url":"https://api.github.com/repos/huangxiaopingRD/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/huangxiaopingRD/spark/merges","archive_url":"https://api.github.com/repos/huangxiaopingRD/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/huangxiaopingRD/spark/downloads","issues_url":"https://api.github.com/repos/huangxiaopingRD/spark/issues{/number}","pulls_url":"https://api.github.com/repos/huangxiaopingRD/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/huangxiaopingRD/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/huangxiaopingRD/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/huangxiaopingRD/spark/labels{/name}","releases_url":"https://api.github.com/repos/huangxiaopingRD/spark/releases{/id}","deployments_url":"https://api.github.com/repos/huangxiaopingRD/spark/deployments","created_at":"2022-03-17T13:35:34Z","updated_at":"2025-02-09T05:41:29Z","pushed_at":"2025-02-09T05:41:07Z","git_url":"git://github.com/huangxiaopingRD/spark.git","ssh_url":"git@github.com:huangxiaopingRD/spark.git","clone_url":"https://github.com/huangxiaopingRD/spark.git","svn_url":"https://github.com/huangxiaopingRD/spark","homepage":"https://spark.apache.org/","size":466919,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"e693af0a0adafe845c90579c02810b4c7d0c2b7d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48408"},"html":{"href":"https://github.com/apache/spark/pull/48408"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48408"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48408/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48408/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48408/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/21332b6526bd9b64023ce292c055c24a69bb2e6a"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48407","id":2116842287,"node_id":"PR_kwDOAQXtWs5-LHMv","html_url":"https://github.com/apache/spark/pull/48407","diff_url":"https://github.com/apache/spark/pull/48407.diff","patch_url":"https://github.com/apache/spark/pull/48407.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48407","number":48407,"state":"open","locked":false,"title":"[SPARK-49919][SQL] Add special limits support for return content as JSON dataset","user":{"login":"LantaoJin","id":1853780,"node_id":"MDQ6VXNlcjE4NTM3ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1853780?v=4","gravatar_id":"","url":"https://api.github.com/users/LantaoJin","html_url":"https://github.com/LantaoJin","followers_url":"https://api.github.com/users/LantaoJin/followers","following_url":"https://api.github.com/users/LantaoJin/following{/other_user}","gists_url":"https://api.github.com/users/LantaoJin/gists{/gist_id}","starred_url":"https://api.github.com/users/LantaoJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LantaoJin/subscriptions","organizations_url":"https://api.github.com/users/LantaoJin/orgs","repos_url":"https://api.github.com/users/LantaoJin/repos","events_url":"https://api.github.com/users/LantaoJin/events{/privacy}","received_events_url":"https://api.github.com/users/LantaoJin/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n`CollectLimitExec` is used when a logical `Limit` and/or `Offset` operation is the final operator. Comparing to `GlobalLimitExec`, it can avoid shuffle data to a single output partition.\r\nBut when the dataset is collected as a Dataset of JSON strings. The `GlobalLimitExec` and `TakeOrderedAndProjectExec` are not able to applied since the `SpecialLimits` strategy cannot work as expected.\r\nHere is an example, following query is a simple select-limit query:\r\n```\r\nscala> spark.sql(\"select * from right_t limit 4\").explain\r\n== Physical Plan ==\r\nCollectLimit 4\r\n+- Scan hive spark_catalog.default.right_t [id#23, name#24], HiveTableRelation [`spark_catalog`.`default`.`right_t`, org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe, Data Cols: [id#23, name#24], Partition Cols: []]\r\n```\r\nWhen we add `toJSON` method, the plan changed unexpected and introduced a shuffle.\r\n```\r\nscala> spark.sql(\"select * from right_t limit 4\").toJSON.explain\r\n== Physical Plan ==\r\nAdaptiveSparkPlan isFinalPlan=false\r\n+- SerializeFromObject [staticinvoke(class org.apache.spark.unsafe.types.UTF8String, StringType, fromString, input[0, java.lang.String, true], true, false, true) AS value#34]\r\n   +- MapPartitions org.apache.spark.sql.Dataset$$Lambda/0x00000070021d8c58@5b17838a, obj#33: java.lang.String\r\n      +- DeserializeToObject createexternalrow(staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, id#27, true, false, true), name#28.toString, StructField(id,IntegerType,true), StructField(name,StringType,true)), obj#32: org.apache.spark.sql.Row\r\n         +- GlobalLimit 4, 0\r\n            +- Exchange SinglePartition, ENSURE_REQUIREMENTS, [plan_id=42]\r\n               +- LocalLimit 4\r\n                  +- Scan hive spark_catalog.default.right_t [id#27, name#28], HiveTableRelation [`spark_catalog`.`default`.`right_t`, org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe, Data Cols: [id#27, name#28], \r\n```\r\n\r\n### Why are the changes needed?\r\nWithout this patching, the simple query \"select limit\" or \"select sort limit\" has to introduce a shuffle when return  content as JSON dataset. Both `CollectLimitExec` and `TakeOrderedAndProject` cannot be applied.\r\n`Dataset.toJSON` as a fundamental API causes to poor performance in many scenarios. \r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nUT added.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo\r\n","created_at":"2024-10-10T07:06:08Z","updated_at":"2025-01-14T09:38:32Z","closed_at":null,"merged_at":null,"merge_commit_sha":"6c92a7e1871563b5ea506ba28e170bd8445aacf3","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48407/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48407/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48407/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3e083ffd04b879176fe4c178f82f6cb81133fb68","head":{"label":"LantaoJin:SPARK-49919","ref":"SPARK-49919","sha":"3e083ffd04b879176fe4c178f82f6cb81133fb68","user":{"login":"LantaoJin","id":1853780,"node_id":"MDQ6VXNlcjE4NTM3ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1853780?v=4","gravatar_id":"","url":"https://api.github.com/users/LantaoJin","html_url":"https://github.com/LantaoJin","followers_url":"https://api.github.com/users/LantaoJin/followers","following_url":"https://api.github.com/users/LantaoJin/following{/other_user}","gists_url":"https://api.github.com/users/LantaoJin/gists{/gist_id}","starred_url":"https://api.github.com/users/LantaoJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LantaoJin/subscriptions","organizations_url":"https://api.github.com/users/LantaoJin/orgs","repos_url":"https://api.github.com/users/LantaoJin/repos","events_url":"https://api.github.com/users/LantaoJin/events{/privacy}","received_events_url":"https://api.github.com/users/LantaoJin/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":90969496,"node_id":"MDEwOlJlcG9zaXRvcnk5MDk2OTQ5Ng==","name":"spark","full_name":"LantaoJin/spark","private":false,"owner":{"login":"LantaoJin","id":1853780,"node_id":"MDQ6VXNlcjE4NTM3ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1853780?v=4","gravatar_id":"","url":"https://api.github.com/users/LantaoJin","html_url":"https://github.com/LantaoJin","followers_url":"https://api.github.com/users/LantaoJin/followers","following_url":"https://api.github.com/users/LantaoJin/following{/other_user}","gists_url":"https://api.github.com/users/LantaoJin/gists{/gist_id}","starred_url":"https://api.github.com/users/LantaoJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LantaoJin/subscriptions","organizations_url":"https://api.github.com/users/LantaoJin/orgs","repos_url":"https://api.github.com/users/LantaoJin/repos","events_url":"https://api.github.com/users/LantaoJin/events{/privacy}","received_events_url":"https://api.github.com/users/LantaoJin/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LantaoJin/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LantaoJin/spark","forks_url":"https://api.github.com/repos/LantaoJin/spark/forks","keys_url":"https://api.github.com/repos/LantaoJin/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LantaoJin/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LantaoJin/spark/teams","hooks_url":"https://api.github.com/repos/LantaoJin/spark/hooks","issue_events_url":"https://api.github.com/repos/LantaoJin/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LantaoJin/spark/events","assignees_url":"https://api.github.com/repos/LantaoJin/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LantaoJin/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LantaoJin/spark/tags","blobs_url":"https://api.github.com/repos/LantaoJin/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LantaoJin/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LantaoJin/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LantaoJin/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LantaoJin/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LantaoJin/spark/languages","stargazers_url":"https://api.github.com/repos/LantaoJin/spark/stargazers","contributors_url":"https://api.github.com/repos/LantaoJin/spark/contributors","subscribers_url":"https://api.github.com/repos/LantaoJin/spark/subscribers","subscription_url":"https://api.github.com/repos/LantaoJin/spark/subscription","commits_url":"https://api.github.com/repos/LantaoJin/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LantaoJin/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LantaoJin/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LantaoJin/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LantaoJin/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LantaoJin/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LantaoJin/spark/merges","archive_url":"https://api.github.com/repos/LantaoJin/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LantaoJin/spark/downloads","issues_url":"https://api.github.com/repos/LantaoJin/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LantaoJin/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LantaoJin/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LantaoJin/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LantaoJin/spark/labels{/name}","releases_url":"https://api.github.com/repos/LantaoJin/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LantaoJin/spark/deployments","created_at":"2017-05-11T10:58:27Z","updated_at":"2022-09-12T08:45:51Z","pushed_at":"2024-10-10T07:13:15Z","git_url":"git://github.com/LantaoJin/spark.git","ssh_url":"git@github.com:LantaoJin/spark.git","clone_url":"https://github.com/LantaoJin/spark.git","svn_url":"https://github.com/LantaoJin/spark","homepage":null,"size":441277,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"f0498f056ddfcf82012ccc27b2b86e4ca9af79ba","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48407"},"html":{"href":"https://github.com/apache/spark/pull/48407"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48407"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48407/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48407/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48407/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3e083ffd04b879176fe4c178f82f6cb81133fb68"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48406","id":2116778289,"node_id":"PR_kwDOAQXtWs5-K3kx","html_url":"https://github.com/apache/spark/pull/48406","diff_url":"https://github.com/apache/spark/pull/48406.diff","patch_url":"https://github.com/apache/spark/pull/48406.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48406","number":48406,"state":"closed","locked":false,"title":"[SPARK-49920][INFRA] Install `R` for `ubuntu 24.04` when GA run `k8s-integration-tests`","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to install `R` for `ubuntu 24.04` when GA run `k8s-integration-tests`.\r\n\r\n\r\n### Why are the changes needed?\r\n- As the GitHub community switches the default version of `ubuntu-latest` from `ubuntu-22.04` to `ubuntu-24.04`.\r\nhttps://github.com/actions/runner-images/issues/10636\r\n\r\n- In `ubuntu-24.04`, `R` is `not installed` by default\r\n  A.`ubuntu-24.04`(`R` is `not installed` by default)\r\n  https://github.com/actions/runner-images/blob/main/images/ubuntu/Ubuntu2404-Readme.md#tools\r\n  <img width=\"342\" alt=\"image\" src=\"https://github.com/user-attachments/assets/23e4d377-ba7c-4969-b720-5c8ff9790985\">\r\n\r\n  B.`ubuntu-22.04`(`R` is `installed` by default)\r\n  https://github.com/actions/runner-images/blob/main/images/ubuntu/Ubuntu2204-Readme.md#tools\r\n  <img width=\"356\" alt=\"image\" src=\"https://github.com/user-attachments/assets/126861df-d1a0-49d9-b52d-48102ab2db74\">\r\n\r\n \r\n\r\n- Fix the failure issue of GA\r\n  https://github.com/LuciferYang/spark/actions/runs/11268158324/job/31334445659\r\n  <img width=\"959\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4bfd8da4-4ced-422a-9ea7-dbdf6478675b\">\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo, only for tests.\r\n\r\n### How was this patch tested?\r\nPass GA.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-10T06:34:44Z","updated_at":"2024-10-10T12:56:13Z","closed_at":"2024-10-10T12:55:44Z","merged_at":null,"merge_commit_sha":"1880f9316896d09e2911bada43cfe8fa3d95bedc","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1982110661,"node_id":"MDU6TGFiZWwxOTgyMTEwNjYx","url":"https://api.github.com/repos/apache/spark/labels/INFRA","name":"INFRA","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48406/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48406/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48406/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/85a6f2fe3811c230381c812caab3a4dee1492f57","head":{"label":"panbingkun:install_R","ref":"install_R","sha":"85a6f2fe3811c230381c812caab3a4dee1492f57","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"e693af0a0adafe845c90579c02810b4c7d0c2b7d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48406"},"html":{"href":"https://github.com/apache/spark/pull/48406"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48406"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48406/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48406/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48406/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/85a6f2fe3811c230381c812caab3a4dee1492f57"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48405","id":2116725484,"node_id":"PR_kwDOAQXtWs5-Kqrs","html_url":"https://github.com/apache/spark/pull/48405","diff_url":"https://github.com/apache/spark/pull/48405.diff","patch_url":"https://github.com/apache/spark/pull/48405.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48405","number":48405,"state":"closed","locked":false,"title":"Test k8s it without code change","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\n","created_at":"2024-10-10T06:01:07Z","updated_at":"2024-10-10T08:35:52Z","closed_at":"2024-10-10T08:35:52Z","merged_at":null,"merge_commit_sha":"712afd6b79021e94d415291959cd3a7cc0dbaa1f","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406605057,"node_id":"MDU6TGFiZWwxNDA2NjA1MDU3","url":"https://api.github.com/repos/apache/spark/labels/KUBERNETES","name":"KUBERNETES","color":"ededed","default":false,"description":null}],"milestone":null,"draft":true,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48405/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48405/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48405/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/fbb0ce94150737edb05770f27129197379888eaf","head":{"label":"LuciferYang:test-k8s-it","ref":"test-k8s-it","sha":"fbb0ce94150737edb05770f27129197379888eaf","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d7772f27b8a851c5007d7d9c891bb862233bf7fa","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48405"},"html":{"href":"https://github.com/apache/spark/pull/48405"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48405"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48405/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48405/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48405/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/fbb0ce94150737edb05770f27129197379888eaf"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48404","id":2116450773,"node_id":"PR_kwDOAQXtWs5-JnnV","html_url":"https://github.com/apache/spark/pull/48404","diff_url":"https://github.com/apache/spark/pull/48404.diff","patch_url":"https://github.com/apache/spark/pull/48404.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48404","number":48404,"state":"closed","locked":false,"title":"[SPARK-48714][PYTHON][FOLLOW-UP] Skip tests if test class is not available","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR is a followup of https://github.com/apache/spark/pull/47086 that makes PySpark tests skipped if tests classes are unavailable.\r\n\r\n### Why are the changes needed?\r\n\r\n`./build/sbt package` should be able to run PySpark tests according to https://spark.apache.org/developer-tools.html and https://spark.apache.org/docs/latest/api/python/development/testing.html\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo, test-only.\r\n\r\n### How was this patch tested?\r\n\r\nManually tested:\r\n\r\n```bash\r\nbuild/sbt -Phive clean package\r\npython/run-tests -k --python-executables python3 --testnames 'pyspark.sql.tests.test_dataframe'\r\n```\r\n\r\n```\r\n...\r\nStarting test(python3): pyspark.sql.tests.test_dataframe (temp output: /.../spark/python/target/33eca5b9-23e8-4e95-9eca-9f09ce333336/python3__pyspark.sql.tests.test_dataframe__3saz2ymf.log)\r\nFinished test(python3): pyspark.sql.tests.test_dataframe (21s) ... 1 tests were skipped\r\nTests passed in 21 seconds\r\n\r\nSkipped tests in pyspark.sql.tests.test_dataframe with python3:\r\n      test_df_merge_into (pyspark.sql.tests.test_dataframe.DataFrameTests.test_df_merge_into) ... skip (0.001s)\r\n```\r\n\r\n\r\n```bash\r\nbuild/sbt -Phive clean test:package\r\npython/run-tests -k --python-executables python3 --testnames 'pyspark.sql.tests.test_dataframe'\r\n```\r\n\r\n```\r\nStarting test(python3): pyspark.sql.tests.test_dataframe (temp output: /.../spark/python/target/710cf488-f39d-49b4-8b04-70044318ea02/python3__pyspark.sql.tests.test_dataframe___95hp4wt.log)\r\nFinished test(python3): pyspark.sql.tests.test_dataframe (23s)\r\nTests passed in 23 seconds\r\n```\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.","created_at":"2024-10-10T02:23:07Z","updated_at":"2024-10-10T02:40:29Z","closed_at":"2024-10-10T02:28:24Z","merged_at":null,"merge_commit_sha":"17a72d124bb0ef120d7b228d1edec9ae7d75fec2","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48404/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48404/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48404/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/d49baa63f19f3ae60f3635fcd57e864031620f59","head":{"label":"HyukjinKwon:SPARK-48714-followup","ref":"SPARK-48714-followup","sha":"d49baa63f19f3ae60f3635fcd57e864031620f59","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ea60e935fb11cb17acd3c1883ed57c52da0a1f7c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48404"},"html":{"href":"https://github.com/apache/spark/pull/48404"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48404"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48404/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48404/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48404/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/d49baa63f19f3ae60f3635fcd57e864031620f59"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48403","id":2115931639,"node_id":"PR_kwDOAQXtWs5-Ho33","html_url":"https://github.com/apache/spark/pull/48403","diff_url":"https://github.com/apache/spark/pull/48403.diff","patch_url":"https://github.com/apache/spark/pull/48403.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48403","number":48403,"state":"closed","locked":false,"title":"[SPARK-49569][BUILD][FOLLOWUP] Exclude `spark-connect-shims` from `sql/core` module","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis pr exclude `spark-connect-shims` from `sql/core` module for further fix maven daily test.\r\n\r\n### Why are the changes needed?\r\nFor fix maven daily test:\r\n\r\nAfter https://github.com/apache/spark/pull/48399, although the Maven build was successful in my local environment, the Maven daily test pipeline still failed to build:\r\n\r\n- https://github.com/apache/spark/actions/runs/11255598249/job/31311358712\r\n\r\n```\r\nError: ] /home/runner/work/spark/spark/sql/core/src/test/scala/org/apache/spark/sql/ApproximatePercentileQuerySuite.scala:121: value makeRDD is not a member of org.apache.spark.SparkContext\r\nError: ] /home/runner/work/spark/spark/sql/core/src/test/scala/org/apache/spark/sql/CachedTableSuite.scala:75: value id is not a member of org.apache.spark.rdd.RDD[org.apache.spark.sql.columnar.CachedBatch]\r\nError: ] /home/runner/work/spark/spark/sql/core/src/test/scala/org/apache/spark/sql/CachedTableSuite.scala:82: value env is not a member of org.apache.spark.SparkContext\r\nError: ] /home/runner/work/spark/spark/sql/core/src/test/scala/org/apache/spark/sql/CachedTableSuite.scala:88: value env is not a member of org.apache.spark.SparkContext\r\nError: ] /home/runner/work/spark/spark/sql/core/src/test/scala/org/apache/spark/sql/CachedTableSuite.scala:185: value parallelize is not a member of org.apache.spark.SparkContext\r\nError: ] /home/runner/work/spark/spark/sql/core/src/test/scala/org/apache/spark/sql/CachedTableSuite.scala:481: value cleaner is not a member of org.apache.spark.SparkContext\r\nError: ] /home/runner/work/spark/spark/sql/core/src/test/scala/org/apache/spark/sql/CachedTableSuite.scala:500: value parallelize is not a member of org.apache.spark.SparkContext\r\nError: ] /home/runner/work/spark/spark/sql/core/src/test/scala/org/apache/spark/sql/CachedTableSuite.scala:940: value addSparkListener is not a member of org.apache.spark.SparkContext\r\nError: ] /home/runner/work/spark/spark/sql/core/src/test/scala/org/apache/spark/sql/CachedTableSuite.scala:943: value listenerBus is not a member of org.apache.spark.SparkContext\r\nError: ] /home/runner/work/spark/spark/sql/core/src/test/scala/org/apache/spark/sql/CachedTableSuite.scala:947: value removeSparkListener is not a member of org.apache.spark.SparkContext\r\nError: ] /home/runner/work/spark/spark/sql/core/src/test/scala/org/apache/spark/sql/CachedTableSuite.scala:1667: value listenerBus is not a member of org.apache.spark.SparkContext\r\nError: ] /home/runner/work/spark/spark/sql/core/src/test/scala/org/apache/spark/sql/CachedTableSuite.scala:1668: value addSparkListener is not a member of org.apache.spark.SparkContext\r\nError: ] /home/runner/work/spark/spark/sql/core/src/test/scala/org/apache/spark/sql/CachedTableSuite.scala:1673: value partitions is not a member of org.apache.spark.rdd.RDD[org.apache.spark.sql.Row]\r\nError: ] /home/runner/work/spark/spark/sql/core/src/test/scala/org/apache/spark/sql/CachedTableSuite.scala:1674: value listenerBus is not a member of org.apache.spark.SparkContext\r\nError: ] /home/runner/work/spark/spark/sql/core/src/test/scala/org/apache/spark/sql/CachedTableSuite.scala:1682: value partitions is not a member of org.apache.spark.rdd.RDD[org.apache.spark.sql.Row]\r\nError: ] /home/runner/work/spark/spark/sql/core/src/test/scala/org/apache/spark/sql/CachedTableSuite.scala:1683: value listenerBus is not a member of org.apache.spark.SparkContext\r\nError: ] /home/runner/work/spark/spark/sql/core/src/test/scala/org/apache/spark/sql/CachedTableSuite.scala:1687: value removeSparkListener is not a member of org.apache.spark.SparkContext\r\nError: ] /home/runner/work/spark/spark/sql/core/src/test/scala/org/apache/spark/sql/CachedTableSuite.scala:1708: value partitions is not a member of org.apache.spark.rdd.RDD[org.apache.spark.sql.Row]\r\n...\r\n```\r\n\r\nAfter using the `mvn dependency:tree` command to check, I found that `sql/core` cascadingly introduced `org.apache.spark:spark-connect-shims_2.13:jar:4.0.0-SNAPSHOT:test` through `org.apache.spark:spark-sql-api_2.13:test-jar:tests:4.0.0-SNAPSHOT:test`.\r\n\r\n\r\n```\r\n[INFO] ------------------< org.apache.spark:spark-sql_2.13 >-------------------\r\n[INFO] Building Spark Project SQL 4.0.0-SNAPSHOT                        [18/42]\r\n[INFO]   from sql/core/pom.xml\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- dependency:3.6.1:tree (default-cli) @ spark-sql_2.13 ---\r\n[INFO] org.apache.spark:spark-sql_2.13:jar:4.0.0-SNAPSHOT\r\n...\r\n[INFO] +- org.apache.spark:spark-catalyst_2.13:test-jar:tests:4.0.0-SNAPSHOT:test\r\n[INFO] +- org.apache.spark:spark-sql-api_2.13:test-jar:tests:4.0.0-SNAPSHOT:test\r\n[INFO] |  +- org.scala-lang.modules:scala-parser-combinators_2.13:jar:2.4.0:compile\r\n[INFO] |  +- org.apache.spark:spark-connect-shims_2.13:jar:4.0.0-SNAPSHOT:test\r\n[INFO] |  +- org.antlr:antlr4-runtime:jar:4.13.1:compile\r\n[INFO] |  +- org.apache.arrow:arrow-vector:jar:17.0.0:compile\r\n[INFO] |  |  +- org.apache.arrow:arrow-format:jar:17.0.0:compile\r\n[INFO] |  |  +- org.apache.arrow:arrow-memory-core:jar:17.0.0:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.18.0:compile\r\n[INFO] |  |  \\- com.google.flatbuffers:flatbuffers-java:jar:24.3.25:compile\r\n[INFO] |  \\- org.apache.arrow:arrow-memory-netty:jar:17.0.0:compile\r\n[INFO] |     \\- org.apache.arrow:arrow-memory-netty-buffer-patch:jar:17.0.0:compile\r\n```\r\n\r\nThis should be unexpected.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\n- Pass GitHub Actions\r\n- Pass maven test on GitHub Actions: https://github.com/LuciferYang/spark/runs/31314342332\r\n\r\n<img width=\"996\" alt=\"image\" src=\"https://github.com/user-attachments/assets/6d2707f9-0d58-4c80-af27-cccdfa899e87\">\r\n\r\nAll maven test passed\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo\r\n","created_at":"2024-10-09T18:55:59Z","updated_at":"2024-10-11T07:54:24Z","closed_at":"2024-10-10T15:32:43Z","merged_at":null,"merge_commit_sha":"61d713945f3e2eabf23191c368e9035cdff9a1c7","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48403/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48403/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48403/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/55b4e80c7e14f731d5f15667b71e59f1ae8be778","head":{"label":"LuciferYang:test-maven-build","ref":"test-maven-build","sha":"55b4e80c7e14f731d5f15667b71e59f1ae8be778","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"e589ccd9c18e8159ea05471434834246f494a476","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48403"},"html":{"href":"https://github.com/apache/spark/pull/48403"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48403"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48403/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48403/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48403/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/55b4e80c7e14f731d5f15667b71e59f1ae8be778"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48402","id":2115891306,"node_id":"PR_kwDOAQXtWs5-HfBq","html_url":"https://github.com/apache/spark/pull/48402","diff_url":"https://github.com/apache/spark/pull/48402.diff","patch_url":"https://github.com/apache/spark/pull/48402.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48402","number":48402,"state":"closed","locked":false,"title":"[SPARK-49918][CORE] Use read-only access to conf in `SparkContext` where appropriate","user":{"login":"pmenon","id":243434,"node_id":"MDQ6VXNlcjI0MzQzNA==","avatar_url":"https://avatars.githubusercontent.com/u/243434?v=4","gravatar_id":"","url":"https://api.github.com/users/pmenon","html_url":"https://github.com/pmenon","followers_url":"https://api.github.com/users/pmenon/followers","following_url":"https://api.github.com/users/pmenon/following{/other_user}","gists_url":"https://api.github.com/users/pmenon/gists{/gist_id}","starred_url":"https://api.github.com/users/pmenon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmenon/subscriptions","organizations_url":"https://api.github.com/users/pmenon/orgs","repos_url":"https://api.github.com/users/pmenon/repos","events_url":"https://api.github.com/users/pmenon/events{/privacy}","received_events_url":"https://api.github.com/users/pmenon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR switches all calls to `SparkContext.getConf` that are read-only to use `SparkContext.conf` instead. The former method clones the conf, which is unnecessary when the caller only reads the conf. `SparkContext.conf` provides read-only access to the conf.\r\n\r\n### Why are the changes needed?\r\n\r\nCloning the entire conf adds unnecessary CPU overhead due to copying, and GC overhead due to cleanup, and both affect tail latencies on certain workloads.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo\r\n\r\n### How was this patch tested?\r\n\r\nExisting tests.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo\r\n","created_at":"2024-10-09T18:38:04Z","updated_at":"2024-10-10T01:28:27Z","closed_at":"2024-10-10T01:28:27Z","merged_at":null,"merge_commit_sha":"810807c4aecedf5c438a235107078746f7ec9806","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406605079,"node_id":"MDU6TGFiZWwxNDA2NjA1MDc5","url":"https://api.github.com/repos/apache/spark/labels/WEB%20UI","name":"WEB UI","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48402/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48402/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48402/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/a40407d3449651dd3a9f46fac8dd6bdc1ccd9a25","head":{"label":"pmenon:getconf-optimizations","ref":"getconf-optimizations","sha":"a40407d3449651dd3a9f46fac8dd6bdc1ccd9a25","user":{"login":"pmenon","id":243434,"node_id":"MDQ6VXNlcjI0MzQzNA==","avatar_url":"https://avatars.githubusercontent.com/u/243434?v=4","gravatar_id":"","url":"https://api.github.com/users/pmenon","html_url":"https://github.com/pmenon","followers_url":"https://api.github.com/users/pmenon/followers","following_url":"https://api.github.com/users/pmenon/following{/other_user}","gists_url":"https://api.github.com/users/pmenon/gists{/gist_id}","starred_url":"https://api.github.com/users/pmenon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmenon/subscriptions","organizations_url":"https://api.github.com/users/pmenon/orgs","repos_url":"https://api.github.com/users/pmenon/repos","events_url":"https://api.github.com/users/pmenon/events{/privacy}","received_events_url":"https://api.github.com/users/pmenon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":869735004,"node_id":"R_kgDOM9caXA","name":"spark","full_name":"pmenon/spark","private":false,"owner":{"login":"pmenon","id":243434,"node_id":"MDQ6VXNlcjI0MzQzNA==","avatar_url":"https://avatars.githubusercontent.com/u/243434?v=4","gravatar_id":"","url":"https://api.github.com/users/pmenon","html_url":"https://github.com/pmenon","followers_url":"https://api.github.com/users/pmenon/followers","following_url":"https://api.github.com/users/pmenon/following{/other_user}","gists_url":"https://api.github.com/users/pmenon/gists{/gist_id}","starred_url":"https://api.github.com/users/pmenon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pmenon/subscriptions","organizations_url":"https://api.github.com/users/pmenon/orgs","repos_url":"https://api.github.com/users/pmenon/repos","events_url":"https://api.github.com/users/pmenon/events{/privacy}","received_events_url":"https://api.github.com/users/pmenon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pmenon/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/pmenon/spark","forks_url":"https://api.github.com/repos/pmenon/spark/forks","keys_url":"https://api.github.com/repos/pmenon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pmenon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pmenon/spark/teams","hooks_url":"https://api.github.com/repos/pmenon/spark/hooks","issue_events_url":"https://api.github.com/repos/pmenon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/pmenon/spark/events","assignees_url":"https://api.github.com/repos/pmenon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/pmenon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/pmenon/spark/tags","blobs_url":"https://api.github.com/repos/pmenon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pmenon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pmenon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/pmenon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pmenon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/pmenon/spark/languages","stargazers_url":"https://api.github.com/repos/pmenon/spark/stargazers","contributors_url":"https://api.github.com/repos/pmenon/spark/contributors","subscribers_url":"https://api.github.com/repos/pmenon/spark/subscribers","subscription_url":"https://api.github.com/repos/pmenon/spark/subscription","commits_url":"https://api.github.com/repos/pmenon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/pmenon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/pmenon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/pmenon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/pmenon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/pmenon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pmenon/spark/merges","archive_url":"https://api.github.com/repos/pmenon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pmenon/spark/downloads","issues_url":"https://api.github.com/repos/pmenon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/pmenon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/pmenon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/pmenon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pmenon/spark/labels{/name}","releases_url":"https://api.github.com/repos/pmenon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/pmenon/spark/deployments","created_at":"2024-10-08T19:48:28Z","updated_at":"2024-10-08T19:48:29Z","pushed_at":"2024-12-09T20:15:43Z","git_url":"git://github.com/pmenon/spark.git","ssh_url":"git@github.com:pmenon/spark.git","clone_url":"https://github.com/pmenon/spark.git","svn_url":"https://github.com/pmenon/spark","homepage":"https://spark.apache.org/","size":416158,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"fed9a8da3d4187794161e0be325aa96be8487783","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48402"},"html":{"href":"https://github.com/apache/spark/pull/48402"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48402"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48402/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48402/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48402/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/a40407d3449651dd3a9f46fac8dd6bdc1ccd9a25"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48401","id":2115743541,"node_id":"PR_kwDOAQXtWs5-G681","html_url":"https://github.com/apache/spark/pull/48401","diff_url":"https://github.com/apache/spark/pull/48401.diff","patch_url":"https://github.com/apache/spark/pull/48401.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48401","number":48401,"state":"closed","locked":false,"title":"[SPARK-50017][SS] Support Avro encoding for TransformWithState operator","user":{"login":"ericm-db","id":132308037,"node_id":"U_kgDOB-LcRQ","avatar_url":"https://avatars.githubusercontent.com/u/132308037?v=4","gravatar_id":"","url":"https://api.github.com/users/ericm-db","html_url":"https://github.com/ericm-db","followers_url":"https://api.github.com/users/ericm-db/followers","following_url":"https://api.github.com/users/ericm-db/following{/other_user}","gists_url":"https://api.github.com/users/ericm-db/gists{/gist_id}","starred_url":"https://api.github.com/users/ericm-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ericm-db/subscriptions","organizations_url":"https://api.github.com/users/ericm-db/orgs","repos_url":"https://api.github.com/users/ericm-db/repos","events_url":"https://api.github.com/users/ericm-db/events{/privacy}","received_events_url":"https://api.github.com/users/ericm-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nCurrently, we use the internal byte representation to store state for stateful streaming operators in the StateStore. This PR introduces Avro serialization and deserialization capabilities in the RocksDBStateEncoder so that we can instead use Avro encoding to store state. This is currently enabled for the TransformWithState operator via SQLConf to support all functionality supported by TWS\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nUnsafeRow is an inherently unstable format that makes no guarantees of being backwards-compatible. Therefore, if the format changes between Spark releases, this could cause StateStore corruptions. Avro is more stable, and inherently enables schema evolution.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nAmended and added to unit tests\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo","created_at":"2024-10-09T16:59:26Z","updated_at":"2024-11-27T21:33:02Z","closed_at":"2024-11-26T04:33:11Z","merged_at":null,"merge_commit_sha":"98cc075cac752ce4c39490b7e5b027825ff79eb0","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48401/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48401/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48401/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/f22bcbf4a96c5f4992c23a4aa309e18b7f42db55","head":{"label":"ericm-db:avro","ref":"avro","sha":"f22bcbf4a96c5f4992c23a4aa309e18b7f42db55","user":{"login":"ericm-db","id":132308037,"node_id":"U_kgDOB-LcRQ","avatar_url":"https://avatars.githubusercontent.com/u/132308037?v=4","gravatar_id":"","url":"https://api.github.com/users/ericm-db","html_url":"https://github.com/ericm-db","followers_url":"https://api.github.com/users/ericm-db/followers","following_url":"https://api.github.com/users/ericm-db/following{/other_user}","gists_url":"https://api.github.com/users/ericm-db/gists{/gist_id}","starred_url":"https://api.github.com/users/ericm-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ericm-db/subscriptions","organizations_url":"https://api.github.com/users/ericm-db/orgs","repos_url":"https://api.github.com/users/ericm-db/repos","events_url":"https://api.github.com/users/ericm-db/events{/privacy}","received_events_url":"https://api.github.com/users/ericm-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":642041202,"node_id":"R_kgDOJkTFcg","name":"spark","full_name":"ericm-db/spark","private":false,"owner":{"login":"ericm-db","id":132308037,"node_id":"U_kgDOB-LcRQ","avatar_url":"https://avatars.githubusercontent.com/u/132308037?v=4","gravatar_id":"","url":"https://api.github.com/users/ericm-db","html_url":"https://github.com/ericm-db","followers_url":"https://api.github.com/users/ericm-db/followers","following_url":"https://api.github.com/users/ericm-db/following{/other_user}","gists_url":"https://api.github.com/users/ericm-db/gists{/gist_id}","starred_url":"https://api.github.com/users/ericm-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ericm-db/subscriptions","organizations_url":"https://api.github.com/users/ericm-db/orgs","repos_url":"https://api.github.com/users/ericm-db/repos","events_url":"https://api.github.com/users/ericm-db/events{/privacy}","received_events_url":"https://api.github.com/users/ericm-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ericm-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/ericm-db/spark","forks_url":"https://api.github.com/repos/ericm-db/spark/forks","keys_url":"https://api.github.com/repos/ericm-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ericm-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ericm-db/spark/teams","hooks_url":"https://api.github.com/repos/ericm-db/spark/hooks","issue_events_url":"https://api.github.com/repos/ericm-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/ericm-db/spark/events","assignees_url":"https://api.github.com/repos/ericm-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/ericm-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/ericm-db/spark/tags","blobs_url":"https://api.github.com/repos/ericm-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ericm-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ericm-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/ericm-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ericm-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/ericm-db/spark/languages","stargazers_url":"https://api.github.com/repos/ericm-db/spark/stargazers","contributors_url":"https://api.github.com/repos/ericm-db/spark/contributors","subscribers_url":"https://api.github.com/repos/ericm-db/spark/subscribers","subscription_url":"https://api.github.com/repos/ericm-db/spark/subscription","commits_url":"https://api.github.com/repos/ericm-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/ericm-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/ericm-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/ericm-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/ericm-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/ericm-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ericm-db/spark/merges","archive_url":"https://api.github.com/repos/ericm-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ericm-db/spark/downloads","issues_url":"https://api.github.com/repos/ericm-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/ericm-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/ericm-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/ericm-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ericm-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/ericm-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/ericm-db/spark/deployments","created_at":"2023-05-17T17:32:51Z","updated_at":"2024-10-22T17:11:59Z","pushed_at":"2025-02-07T20:14:46Z","git_url":"git://github.com/ericm-db/spark.git","ssh_url":"git@github.com:ericm-db/spark.git","clone_url":"https://github.com/ericm-db/spark.git","svn_url":"https://github.com/ericm-db/spark","homepage":"https://spark.apache.org/","size":426711,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"77055b8125591abb6bff9cb029bb725ad7d47d2e","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48401"},"html":{"href":"https://github.com/apache/spark/pull/48401"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48401"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48401/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48401/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48401/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/f22bcbf4a96c5f4992c23a4aa309e18b7f42db55"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48400","id":2115572828,"node_id":"PR_kwDOAQXtWs5-GRRc","html_url":"https://github.com/apache/spark/pull/48400","diff_url":"https://github.com/apache/spark/pull/48400.diff","patch_url":"https://github.com/apache/spark/pull/48400.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48400","number":48400,"state":"closed","locked":false,"title":"[WIP][DO-NOT-MERGE][SPARK-49917][SQL] Enable hash join rewrite rule for collated strings","user":{"login":"uros-db","id":157381213,"node_id":"U_kgDOCWFyXQ","avatar_url":"https://avatars.githubusercontent.com/u/157381213?v=4","gravatar_id":"","url":"https://api.github.com/users/uros-db","html_url":"https://github.com/uros-db","followers_url":"https://api.github.com/users/uros-db/followers","following_url":"https://api.github.com/users/uros-db/following{/other_user}","gists_url":"https://api.github.com/users/uros-db/gists{/gist_id}","starred_url":"https://api.github.com/users/uros-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uros-db/subscriptions","organizations_url":"https://api.github.com/users/uros-db/orgs","repos_url":"https://api.github.com/users/uros-db/repos","events_url":"https://api.github.com/users/uros-db/events{/privacy}","received_events_url":"https://api.github.com/users/uros-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n`RewriteCollationJoin` should not be an excludable rule any more.\r\n\r\n\r\n### Why are the changes needed?\r\nEnable hash join support for all collated strings (incl. complex types).\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nExisting tests for hash joins with collations.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-09T15:26:48Z","updated_at":"2025-01-31T00:24:05Z","closed_at":"2025-01-31T00:24:05Z","merged_at":null,"merge_commit_sha":null,"assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48400/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48400/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48400/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/bd03af2ca97be4dd75773c503e9abe011f3cfa29","head":{"label":"uros-db:update-rewrite-join","ref":"update-rewrite-join","sha":"bd03af2ca97be4dd75773c503e9abe011f3cfa29","user":{"login":"uros-db","id":157381213,"node_id":"U_kgDOCWFyXQ","avatar_url":"https://avatars.githubusercontent.com/u/157381213?v=4","gravatar_id":"","url":"https://api.github.com/users/uros-db","html_url":"https://github.com/uros-db","followers_url":"https://api.github.com/users/uros-db/followers","following_url":"https://api.github.com/users/uros-db/following{/other_user}","gists_url":"https://api.github.com/users/uros-db/gists{/gist_id}","starred_url":"https://api.github.com/users/uros-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uros-db/subscriptions","organizations_url":"https://api.github.com/users/uros-db/orgs","repos_url":"https://api.github.com/users/uros-db/repos","events_url":"https://api.github.com/users/uros-db/events{/privacy}","received_events_url":"https://api.github.com/users/uros-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":755209418,"node_id":"R_kgDOLQOUyg","name":"spark","full_name":"uros-db/spark","private":false,"owner":{"login":"uros-db","id":157381213,"node_id":"U_kgDOCWFyXQ","avatar_url":"https://avatars.githubusercontent.com/u/157381213?v=4","gravatar_id":"","url":"https://api.github.com/users/uros-db","html_url":"https://github.com/uros-db","followers_url":"https://api.github.com/users/uros-db/followers","following_url":"https://api.github.com/users/uros-db/following{/other_user}","gists_url":"https://api.github.com/users/uros-db/gists{/gist_id}","starred_url":"https://api.github.com/users/uros-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uros-db/subscriptions","organizations_url":"https://api.github.com/users/uros-db/orgs","repos_url":"https://api.github.com/users/uros-db/repos","events_url":"https://api.github.com/users/uros-db/events{/privacy}","received_events_url":"https://api.github.com/users/uros-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/uros-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/uros-db/spark","forks_url":"https://api.github.com/repos/uros-db/spark/forks","keys_url":"https://api.github.com/repos/uros-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/uros-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/uros-db/spark/teams","hooks_url":"https://api.github.com/repos/uros-db/spark/hooks","issue_events_url":"https://api.github.com/repos/uros-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/uros-db/spark/events","assignees_url":"https://api.github.com/repos/uros-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/uros-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/uros-db/spark/tags","blobs_url":"https://api.github.com/repos/uros-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/uros-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/uros-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/uros-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/uros-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/uros-db/spark/languages","stargazers_url":"https://api.github.com/repos/uros-db/spark/stargazers","contributors_url":"https://api.github.com/repos/uros-db/spark/contributors","subscribers_url":"https://api.github.com/repos/uros-db/spark/subscribers","subscription_url":"https://api.github.com/repos/uros-db/spark/subscription","commits_url":"https://api.github.com/repos/uros-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/uros-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/uros-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/uros-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/uros-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/uros-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/uros-db/spark/merges","archive_url":"https://api.github.com/repos/uros-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/uros-db/spark/downloads","issues_url":"https://api.github.com/repos/uros-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/uros-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/uros-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/uros-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/uros-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/uros-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/uros-db/spark/deployments","created_at":"2024-02-09T16:48:55Z","updated_at":"2024-12-23T11:11:13Z","pushed_at":"2024-12-23T11:08:59Z","git_url":"git://github.com/uros-db/spark.git","ssh_url":"git@github.com:uros-db/spark.git","clone_url":"https://github.com/uros-db/spark.git","svn_url":"https://github.com/uros-db/spark","homepage":"https://spark.apache.org/","size":430948,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"7e9017ec8f6e6895a3251cc7250d6a72d63aed49","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48400"},"html":{"href":"https://github.com/apache/spark/pull/48400"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48400"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48400/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48400/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48400/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/bd03af2ca97be4dd75773c503e9abe011f3cfa29"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48399","id":2115510848,"node_id":"PR_kwDOAQXtWs5-GCJA","html_url":"https://github.com/apache/spark/pull/48399","diff_url":"https://github.com/apache/spark/pull/48399.diff","patch_url":"https://github.com/apache/spark/pull/48399.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48399","number":48399,"state":"closed","locked":false,"title":"[SPARK-49569][BUILD][FOLLOWUP] Adds `scala-library` maven dependency to the `spark-connect-shims` module to fix Maven build errors","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis PR adds `scala-library` maven dependency to the `spark-connect-shims` module to fix Maven build errors.\r\n\r\n### Why are the changes needed?\r\nMaven daily test pipeline build failed:\r\n\r\n- https://github.com/apache/spark/actions/runs/11255598249\r\n- https://github.com/apache/spark/actions/runs/11256610976\r\n\r\n```\r\nscaladoc error: fatal error: object scala in compiler mirror not found.\r\nError:  Failed to execute goal net.alchim31.maven:scala-maven-plugin:4.9.1:doc-jar (attach-scaladocs) on project spark-connect-shims_2.13: MavenReportException: Error while creating archive: wrap: Process exited with an error: 1 (Exit value: 1) -> [Help 1]\r\nError:  \r\nError:  To see the full stack trace of the errors, re-run Maven with the -e switch.\r\nError:  Re-run Maven using the -X switch to enable full debug logging.\r\nError:  \r\nError:  For more information about the errors and possible solutions, please read the following articles:\r\nError:  [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\nError:  \r\nError:  After correcting the problems, you can resume the build with the command\r\nError:    mvn <args> -rf :spark-connect-shims_2.13\r\nError: Process completed with exit code 1.\r\n```\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\n- Pass GitHub Actions\r\n- locally test:\r\n\r\n```\r\nbuild/mvn clean install -DskipTests -Phive\r\n```\r\n\r\n**Before**\r\n\r\n```\r\n[INFO] --- scala:4.9.1:doc-jar (attach-scaladocs) @ spark-connect-shims_2.13 ---\r\nscaladoc error: fatal error: object scala in compiler mirror not found.\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary for Spark Project Parent POM 4.0.0-SNAPSHOT:\r\n[INFO] \r\n[INFO] Spark Project Parent POM ........................... SUCCESS [  2.833 s]\r\n[INFO] Spark Project Tags ................................. SUCCESS [  5.292 s]\r\n[INFO] Spark Project Sketch ............................... SUCCESS [  5.675 s]\r\n[INFO] Spark Project Common Utils ......................... SUCCESS [ 16.762 s]\r\n[INFO] Spark Project Local DB ............................. SUCCESS [  7.735 s]\r\n[INFO] Spark Project Networking ........................... SUCCESS [ 11.389 s]\r\n[INFO] Spark Project Shuffle Streaming Service ............ SUCCESS [  9.159 s]\r\n[INFO] Spark Project Variant .............................. SUCCESS [  3.618 s]\r\n[INFO] Spark Project Unsafe ............................... SUCCESS [  9.692 s]\r\n[INFO] Spark Project Connect Shims ........................ FAILURE [  2.478 s]\r\n[INFO] Spark Project Launcher ............................. SKIPPED\r\n[INFO] Spark Project Core ................................. SKIPPED\r\n[INFO] Spark Project ML Local Library ..................... SKIPPED\r\n[INFO] Spark Project GraphX ............................... SKIPPED\r\n[INFO] Spark Project Streaming ............................ SKIPPED\r\n[INFO] Spark Project SQL API .............................. SKIPPED\r\n[INFO] Spark Project Catalyst ............................. SKIPPED\r\n[INFO] Spark Project SQL .................................. SKIPPED\r\n[INFO] Spark Project ML Library ........................... SKIPPED\r\n[INFO] Spark Project Tools ................................ SKIPPED\r\n[INFO] Spark Project Hive ................................. SKIPPED\r\n[INFO] Spark Project Connect Common ....................... SKIPPED\r\n[INFO] Spark Avro ......................................... SKIPPED\r\n[INFO] Spark Protobuf ..................................... SKIPPED\r\n[INFO] Spark Project REPL ................................. SKIPPED\r\n[INFO] Spark Project Connect Server ....................... SKIPPED\r\n[INFO] Spark Project Connect Client ....................... SKIPPED\r\n[INFO] Spark Project Assembly ............................. SKIPPED\r\n[INFO] Kafka 0.10+ Token Provider for Streaming ........... SKIPPED\r\n[INFO] Spark Integration for Kafka 0.10 ................... SKIPPED\r\n[INFO] Kafka 0.10+ Source for Structured Streaming ........ SKIPPED\r\n[INFO] Spark Project Examples ............................. SKIPPED\r\n[INFO] Spark Integration for Kafka 0.10 Assembly .......... SKIPPED\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  01:15 min\r\n[INFO] Finished at: 2024-10-09T23:43:58+08:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal net.alchim31.maven:scala-maven-plugin:4.9.1:doc-jar (attach-scaladocs) on project spark-connect-shims_2.13: MavenReportException: Error while creating archive: wrap: Process exited with an error: 1 (Exit value: 1) -> [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n[ERROR] \r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn <args> -rf :spark-connect-shims_2.13\r\n\r\n```\r\n\r\n**After**\r\n\r\n```\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary for Spark Project Parent POM 4.0.0-SNAPSHOT:\r\n[INFO] \r\n[INFO] Spark Project Parent POM ........................... SUCCESS [  2.766 s]\r\n[INFO] Spark Project Tags ................................. SUCCESS [  5.398 s]\r\n[INFO] Spark Project Sketch ............................... SUCCESS [  6.361 s]\r\n[INFO] Spark Project Common Utils ......................... SUCCESS [ 16.919 s]\r\n[INFO] Spark Project Local DB ............................. SUCCESS [  8.083 s]\r\n[INFO] Spark Project Networking ........................... SUCCESS [ 11.240 s]\r\n[INFO] Spark Project Shuffle Streaming Service ............ SUCCESS [  9.438 s]\r\n[INFO] Spark Project Variant .............................. SUCCESS [  3.697 s]\r\n[INFO] Spark Project Unsafe ............................... SUCCESS [  9.939 s]\r\n[INFO] Spark Project Connect Shims ........................ SUCCESS [  2.938 s]\r\n[INFO] Spark Project Launcher ............................. SUCCESS [  6.502 s]\r\n[INFO] Spark Project Core ................................. SUCCESS [01:33 min]\r\n[INFO] Spark Project ML Local Library ..................... SUCCESS [ 18.220 s]\r\n[INFO] Spark Project GraphX ............................... SUCCESS [ 20.923 s]\r\n[INFO] Spark Project Streaming ............................ SUCCESS [ 29.949 s]\r\n[INFO] Spark Project SQL API .............................. SUCCESS [ 25.842 s]\r\n[INFO] Spark Project Catalyst ............................. SUCCESS [02:02 min]\r\n[INFO] Spark Project SQL .................................. SUCCESS [02:18 min]\r\n[INFO] Spark Project ML Library ........................... SUCCESS [01:38 min]\r\n[INFO] Spark Project Tools ................................ SUCCESS [  3.365 s]\r\n[INFO] Spark Project Hive ................................. SUCCESS [ 45.357 s]\r\n[INFO] Spark Project Connect Common ....................... SUCCESS [ 33.636 s]\r\n[INFO] Spark Avro ......................................... SUCCESS [ 22.040 s]\r\n[INFO] Spark Protobuf ..................................... SUCCESS [ 24.557 s]\r\n[INFO] Spark Project REPL ................................. SUCCESS [ 13.843 s]\r\n[INFO] Spark Project Connect Server ....................... SUCCESS [ 35.587 s]\r\n[INFO] Spark Project Connect Client ....................... SUCCESS [ 33.929 s]\r\n[INFO] Spark Project Assembly ............................. SUCCESS [  5.121 s]\r\n[INFO] Kafka 0.10+ Token Provider for Streaming ........... SUCCESS [ 12.623 s]\r\n[INFO] Spark Integration for Kafka 0.10 ................... SUCCESS [ 16.908 s]\r\n[INFO] Kafka 0.10+ Source for Structured Streaming ........ SUCCESS [ 23.664 s]\r\n[INFO] Spark Project Examples ............................. SUCCESS [ 30.777 s]\r\n[INFO] Spark Integration for Kafka 0.10 Assembly .......... SUCCESS [  6.997 s]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  15:40 min\r\n[INFO] Finished at: 2024-10-09T23:27:20+08:00\r\n[INFO] ------------------------------------------------------------------------\r\n\r\n```\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo\r\n","created_at":"2024-10-09T14:57:01Z","updated_at":"2024-10-09T18:59:03Z","closed_at":"2024-10-09T17:49:33Z","merged_at":null,"merge_commit_sha":"88b5acd6e180da2d4ad8a961e6ae0e23a4d3bc8b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48399/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48399/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48399/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/05d343a011f2da8b173034cccb0d1ca639f08c03","head":{"label":"LuciferYang:SPARK-49569-FOLLOWUP","ref":"SPARK-49569-FOLLOWUP","sha":"05d343a011f2da8b173034cccb0d1ca639f08c03","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"97a5aa6ef7cab46564325dafed9f8266ac7f8999","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48399"},"html":{"href":"https://github.com/apache/spark/pull/48399"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48399"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48399/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48399/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48399/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/05d343a011f2da8b173034cccb0d1ca639f08c03"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48398","id":2115431934,"node_id":"PR_kwDOAQXtWs5-Fu3-","html_url":"https://github.com/apache/spark/pull/48398","diff_url":"https://github.com/apache/spark/pull/48398.diff","patch_url":"https://github.com/apache/spark/pull/48398.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48398","number":48398,"state":"closed","locked":false,"title":"[SPARK-49615] Bugfix: Make ML column schema validation conforms with spark config `spark.sql.caseSensitive`.","user":{"login":"WeichenXu123","id":19235986,"node_id":"MDQ6VXNlcjE5MjM1OTg2","avatar_url":"https://avatars.githubusercontent.com/u/19235986?v=4","gravatar_id":"","url":"https://api.github.com/users/WeichenXu123","html_url":"https://github.com/WeichenXu123","followers_url":"https://api.github.com/users/WeichenXu123/followers","following_url":"https://api.github.com/users/WeichenXu123/following{/other_user}","gists_url":"https://api.github.com/users/WeichenXu123/gists{/gist_id}","starred_url":"https://api.github.com/users/WeichenXu123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeichenXu123/subscriptions","organizations_url":"https://api.github.com/users/WeichenXu123/orgs","repos_url":"https://api.github.com/users/WeichenXu123/repos","events_url":"https://api.github.com/users/WeichenXu123/events{/privacy}","received_events_url":"https://api.github.com/users/WeichenXu123/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nBugfix: Make ML column schema validation conforms with spark config `spark.sql.caseSensitive`.\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nBugfix: Make ML column schema validation conforms with spark config `spark.sql.caseSensitive`.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nN/A\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nN/A","created_at":"2024-10-09T14:20:54Z","updated_at":"2024-10-15T17:32:47Z","closed_at":"2024-10-11T12:59:47Z","merged_at":null,"merge_commit_sha":"66dda70b31a8b63b8d049392810d896517a946d5","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48398/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48398/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48398/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/991777abd093268de779fb6c5e3fc5ce446f445b","head":{"label":"WeichenXu123:SPARK-49615","ref":"SPARK-49615","sha":"991777abd093268de779fb6c5e3fc5ce446f445b","user":{"login":"WeichenXu123","id":19235986,"node_id":"MDQ6VXNlcjE5MjM1OTg2","avatar_url":"https://avatars.githubusercontent.com/u/19235986?v=4","gravatar_id":"","url":"https://api.github.com/users/WeichenXu123","html_url":"https://github.com/WeichenXu123","followers_url":"https://api.github.com/users/WeichenXu123/followers","following_url":"https://api.github.com/users/WeichenXu123/following{/other_user}","gists_url":"https://api.github.com/users/WeichenXu123/gists{/gist_id}","starred_url":"https://api.github.com/users/WeichenXu123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeichenXu123/subscriptions","organizations_url":"https://api.github.com/users/WeichenXu123/orgs","repos_url":"https://api.github.com/users/WeichenXu123/repos","events_url":"https://api.github.com/users/WeichenXu123/events{/privacy}","received_events_url":"https://api.github.com/users/WeichenXu123/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":58255485,"node_id":"MDEwOlJlcG9zaXRvcnk1ODI1NTQ4NQ==","name":"spark","full_name":"WeichenXu123/spark","private":false,"owner":{"login":"WeichenXu123","id":19235986,"node_id":"MDQ6VXNlcjE5MjM1OTg2","avatar_url":"https://avatars.githubusercontent.com/u/19235986?v=4","gravatar_id":"","url":"https://api.github.com/users/WeichenXu123","html_url":"https://github.com/WeichenXu123","followers_url":"https://api.github.com/users/WeichenXu123/followers","following_url":"https://api.github.com/users/WeichenXu123/following{/other_user}","gists_url":"https://api.github.com/users/WeichenXu123/gists{/gist_id}","starred_url":"https://api.github.com/users/WeichenXu123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeichenXu123/subscriptions","organizations_url":"https://api.github.com/users/WeichenXu123/orgs","repos_url":"https://api.github.com/users/WeichenXu123/repos","events_url":"https://api.github.com/users/WeichenXu123/events{/privacy}","received_events_url":"https://api.github.com/users/WeichenXu123/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/WeichenXu123/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/WeichenXu123/spark","forks_url":"https://api.github.com/repos/WeichenXu123/spark/forks","keys_url":"https://api.github.com/repos/WeichenXu123/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/WeichenXu123/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/WeichenXu123/spark/teams","hooks_url":"https://api.github.com/repos/WeichenXu123/spark/hooks","issue_events_url":"https://api.github.com/repos/WeichenXu123/spark/issues/events{/number}","events_url":"https://api.github.com/repos/WeichenXu123/spark/events","assignees_url":"https://api.github.com/repos/WeichenXu123/spark/assignees{/user}","branches_url":"https://api.github.com/repos/WeichenXu123/spark/branches{/branch}","tags_url":"https://api.github.com/repos/WeichenXu123/spark/tags","blobs_url":"https://api.github.com/repos/WeichenXu123/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/WeichenXu123/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/WeichenXu123/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/WeichenXu123/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/WeichenXu123/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/WeichenXu123/spark/languages","stargazers_url":"https://api.github.com/repos/WeichenXu123/spark/stargazers","contributors_url":"https://api.github.com/repos/WeichenXu123/spark/contributors","subscribers_url":"https://api.github.com/repos/WeichenXu123/spark/subscribers","subscription_url":"https://api.github.com/repos/WeichenXu123/spark/subscription","commits_url":"https://api.github.com/repos/WeichenXu123/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/WeichenXu123/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/WeichenXu123/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/WeichenXu123/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/WeichenXu123/spark/contents/{+path}","compare_url":"https://api.github.com/repos/WeichenXu123/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/WeichenXu123/spark/merges","archive_url":"https://api.github.com/repos/WeichenXu123/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/WeichenXu123/spark/downloads","issues_url":"https://api.github.com/repos/WeichenXu123/spark/issues{/number}","pulls_url":"https://api.github.com/repos/WeichenXu123/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/WeichenXu123/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/WeichenXu123/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/WeichenXu123/spark/labels{/name}","releases_url":"https://api.github.com/repos/WeichenXu123/spark/releases{/id}","deployments_url":"https://api.github.com/repos/WeichenXu123/spark/deployments","created_at":"2016-05-07T07:45:37Z","updated_at":"2022-01-25T15:06:54Z","pushed_at":"2024-11-04T12:27:24Z","git_url":"git://github.com/WeichenXu123/spark.git","ssh_url":"git@github.com:WeichenXu123/spark.git","clone_url":"https://github.com/WeichenXu123/spark.git","svn_url":"https://github.com/WeichenXu123/spark","homepage":null,"size":436946,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"97a5aa6ef7cab46564325dafed9f8266ac7f8999","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48398"},"html":{"href":"https://github.com/apache/spark/pull/48398"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48398"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48398/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48398/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48398/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/991777abd093268de779fb6c5e3fc5ce446f445b"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48397","id":2115424983,"node_id":"PR_kwDOAQXtWs5-FtLX","html_url":"https://github.com/apache/spark/pull/48397","diff_url":"https://github.com/apache/spark/pull/48397.diff","patch_url":"https://github.com/apache/spark/pull/48397.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48397","number":48397,"state":"closed","locked":false,"title":"[SPARK-49916][SQL] Throw appropriate Exception for type mismatch between ColumnType and data type in some rows","user":{"login":"RaleSapic","id":180181992,"node_id":"U_kgDOCr1b6A","avatar_url":"https://avatars.githubusercontent.com/u/180181992?v=4","gravatar_id":"","url":"https://api.github.com/users/RaleSapic","html_url":"https://github.com/RaleSapic","followers_url":"https://api.github.com/users/RaleSapic/followers","following_url":"https://api.github.com/users/RaleSapic/following{/other_user}","gists_url":"https://api.github.com/users/RaleSapic/gists{/gist_id}","starred_url":"https://api.github.com/users/RaleSapic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RaleSapic/subscriptions","organizations_url":"https://api.github.com/users/RaleSapic/orgs","repos_url":"https://api.github.com/users/RaleSapic/repos","events_url":"https://api.github.com/users/RaleSapic/events{/privacy}","received_events_url":"https://api.github.com/users/RaleSapic/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nIn this PR, I introduced new exception to be thrown when there is a mismatch between type of the elements in the array column type, and the actual values of that column. Currently, this can happen in Postgres SQL when type of a column is \r\nreal[] (array of floats), and insert command provides real[][] (array of arrays of floats).\r\n\r\nIn our case, we are letting this to be converted to Spark SQL Types, and fail when trying to read it later. This PR is catching currently thrown internal exception (java.lang.ClassCastException) and re-throw a newly-introduced exception for this problem.\r\n\r\n### Why are the changes needed?\r\nThrowing better exception that will help Spark user to better understand why the query failed.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n### How was this patch tested?\r\nExisting, and newly-added unit tests for Postgres.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo","created_at":"2024-10-09T14:17:54Z","updated_at":"2024-10-15T18:01:24Z","closed_at":"2024-10-15T17:59:56Z","merged_at":null,"merge_commit_sha":"462467846a3d688b2d3e1f6722b9b8670da8219d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48397/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48397/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48397/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9e87fd403dfe67925b45e4feb60fde9666444d15","head":{"label":"RaleSapic:rastko.sapic@databricks.com/fix-cast-error-in-array-column-types","ref":"rastko.sapic@databricks.com/fix-cast-error-in-array-column-types","sha":"9e87fd403dfe67925b45e4feb60fde9666444d15","user":{"login":"RaleSapic","id":180181992,"node_id":"U_kgDOCr1b6A","avatar_url":"https://avatars.githubusercontent.com/u/180181992?v=4","gravatar_id":"","url":"https://api.github.com/users/RaleSapic","html_url":"https://github.com/RaleSapic","followers_url":"https://api.github.com/users/RaleSapic/followers","following_url":"https://api.github.com/users/RaleSapic/following{/other_user}","gists_url":"https://api.github.com/users/RaleSapic/gists{/gist_id}","starred_url":"https://api.github.com/users/RaleSapic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RaleSapic/subscriptions","organizations_url":"https://api.github.com/users/RaleSapic/orgs","repos_url":"https://api.github.com/users/RaleSapic/repos","events_url":"https://api.github.com/users/RaleSapic/events{/privacy}","received_events_url":"https://api.github.com/users/RaleSapic/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":870074792,"node_id":"R_kgDOM9xJqA","name":"spark","full_name":"RaleSapic/spark","private":false,"owner":{"login":"RaleSapic","id":180181992,"node_id":"U_kgDOCr1b6A","avatar_url":"https://avatars.githubusercontent.com/u/180181992?v=4","gravatar_id":"","url":"https://api.github.com/users/RaleSapic","html_url":"https://github.com/RaleSapic","followers_url":"https://api.github.com/users/RaleSapic/followers","following_url":"https://api.github.com/users/RaleSapic/following{/other_user}","gists_url":"https://api.github.com/users/RaleSapic/gists{/gist_id}","starred_url":"https://api.github.com/users/RaleSapic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RaleSapic/subscriptions","organizations_url":"https://api.github.com/users/RaleSapic/orgs","repos_url":"https://api.github.com/users/RaleSapic/repos","events_url":"https://api.github.com/users/RaleSapic/events{/privacy}","received_events_url":"https://api.github.com/users/RaleSapic/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/RaleSapic/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/RaleSapic/spark","forks_url":"https://api.github.com/repos/RaleSapic/spark/forks","keys_url":"https://api.github.com/repos/RaleSapic/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/RaleSapic/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/RaleSapic/spark/teams","hooks_url":"https://api.github.com/repos/RaleSapic/spark/hooks","issue_events_url":"https://api.github.com/repos/RaleSapic/spark/issues/events{/number}","events_url":"https://api.github.com/repos/RaleSapic/spark/events","assignees_url":"https://api.github.com/repos/RaleSapic/spark/assignees{/user}","branches_url":"https://api.github.com/repos/RaleSapic/spark/branches{/branch}","tags_url":"https://api.github.com/repos/RaleSapic/spark/tags","blobs_url":"https://api.github.com/repos/RaleSapic/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/RaleSapic/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/RaleSapic/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/RaleSapic/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/RaleSapic/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/RaleSapic/spark/languages","stargazers_url":"https://api.github.com/repos/RaleSapic/spark/stargazers","contributors_url":"https://api.github.com/repos/RaleSapic/spark/contributors","subscribers_url":"https://api.github.com/repos/RaleSapic/spark/subscribers","subscription_url":"https://api.github.com/repos/RaleSapic/spark/subscription","commits_url":"https://api.github.com/repos/RaleSapic/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/RaleSapic/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/RaleSapic/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/RaleSapic/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/RaleSapic/spark/contents/{+path}","compare_url":"https://api.github.com/repos/RaleSapic/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/RaleSapic/spark/merges","archive_url":"https://api.github.com/repos/RaleSapic/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/RaleSapic/spark/downloads","issues_url":"https://api.github.com/repos/RaleSapic/spark/issues{/number}","pulls_url":"https://api.github.com/repos/RaleSapic/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/RaleSapic/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/RaleSapic/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/RaleSapic/spark/labels{/name}","releases_url":"https://api.github.com/repos/RaleSapic/spark/releases{/id}","deployments_url":"https://api.github.com/repos/RaleSapic/spark/deployments","created_at":"2024-10-09T11:56:53Z","updated_at":"2024-10-09T11:56:53Z","pushed_at":"2024-10-15T13:54:54Z","git_url":"git://github.com/RaleSapic/spark.git","ssh_url":"git@github.com:RaleSapic/spark.git","clone_url":"https://github.com/RaleSapic/spark.git","svn_url":"https://github.com/RaleSapic/spark","homepage":"https://spark.apache.org/","size":409603,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"e589ccd9c18e8159ea05471434834246f494a476","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48397"},"html":{"href":"https://github.com/apache/spark/pull/48397"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48397"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48397/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48397/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48397/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9e87fd403dfe67925b45e4feb60fde9666444d15"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48396","id":2115422604,"node_id":"PR_kwDOAQXtWs5-FsmM","html_url":"https://github.com/apache/spark/pull/48396","diff_url":"https://github.com/apache/spark/pull/48396.diff","patch_url":"https://github.com/apache/spark/pull/48396.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48396","number":48396,"state":"closed","locked":false,"title":"[SPARK-49909][SQL][3.4] Fix the pretty name of some expressions","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to fix the `pretty name` of some `expressions`, includes: `random`, `to_varchar`, `current_database`, `curdate`, `dateadd` and `array_agg`.\r\n(PS: The pr is backport branch-3.4, master pr is: https://github.com/apache/spark/pull/48385)\r\n\r\n### Why are the changes needed?\r\nThe actual function name used does not match the displayed name, as shown below:\r\n- Before:\r\n<img width=\"573\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f5785c80-f6cb-494f-a15e-9258eca688a7\">\r\n\r\n- After:\r\n<img width=\"570\" alt=\"image\" src=\"https://github.com/user-attachments/assets/792a7092-ccbf-49f4-a616-19110e5c2361\">\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, Make the header of the data seen by the end-user from `Spark SQL` consistent with the `actual function name` used.\r\n\r\n### How was this patch tested?\r\n- Pass GA.\r\n- Update existed UT.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-09T14:16:52Z","updated_at":"2024-10-10T07:08:30Z","closed_at":"2024-10-10T07:08:30Z","merged_at":null,"merge_commit_sha":"20d6aaf9b6cf5d1af905a0112b694e67240cbc63","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48396/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48396/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48396/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/34bd649efe6be106e421f3deef8848f09c1df01a","head":{"label":"panbingkun:branch-3.4_SPARK-49909","ref":"branch-3.4_SPARK-49909","sha":"34bd649efe6be106e421f3deef8848f09c1df01a","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:branch-3.4","ref":"branch-3.4","sha":"5caaf329c71f15c6c57d7998054b72447ae70308","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48396"},"html":{"href":"https://github.com/apache/spark/pull/48396"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48396"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48396/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48396/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48396/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/34bd649efe6be106e421f3deef8848f09c1df01a"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48395","id":2115055075,"node_id":"PR_kwDOAQXtWs5-ES3j","html_url":"https://github.com/apache/spark/pull/48395","diff_url":"https://github.com/apache/spark/pull/48395.diff","patch_url":"https://github.com/apache/spark/pull/48395.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48395","number":48395,"state":"closed","locked":false,"title":"[SPARK-49915][SQL] Handle zeros and ones in ReorderAssociativeOperator","user":{"login":"yaooqinn","id":8326978,"node_id":"MDQ6VXNlcjgzMjY5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/8326978?v=4","gravatar_id":"","url":"https://api.github.com/users/yaooqinn","html_url":"https://github.com/yaooqinn","followers_url":"https://api.github.com/users/yaooqinn/followers","following_url":"https://api.github.com/users/yaooqinn/following{/other_user}","gists_url":"https://api.github.com/users/yaooqinn/gists{/gist_id}","starred_url":"https://api.github.com/users/yaooqinn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yaooqinn/subscriptions","organizations_url":"https://api.github.com/users/yaooqinn/orgs","repos_url":"https://api.github.com/users/yaooqinn/repos","events_url":"https://api.github.com/users/yaooqinn/events{/privacy}","received_events_url":"https://api.github.com/users/yaooqinn/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nFor additions, we omit the `Add` operation if the foldable ones finally result in 0, e.g. `-3 + a + 3` is simplified to `a` instead of `a + 0`.\r\nFor multiplication,\r\n- we simplify the expression to `Literal(0, dt)` if the foldable ones finally result in 0 && the expression itself isn't nullable\r\n- we omit the `Multiply` operation if the foldable ones finally result in 1\r\n\r\n\r\n\r\n### Why are the changes needed?\r\n\r\nImprove the simplicity of expression evaluation and the opportunities for predicates to be pushed down to data sources  \r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nno, the result shall be identical \r\n\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nnew tests\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nno","created_at":"2024-10-09T11:30:51Z","updated_at":"2024-10-11T07:52:33Z","closed_at":"2024-10-11T07:52:33Z","merged_at":null,"merge_commit_sha":"b5a13bc71f7c46409bad71427c091d19f94408fb","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48395/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48395/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48395/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/768259acc14e7ab6e593ccc5a0c90bb44cfe2e2e","head":{"label":"yaooqinn:SPARK-49915","ref":"SPARK-49915","sha":"768259acc14e7ab6e593ccc5a0c90bb44cfe2e2e","user":{"login":"yaooqinn","id":8326978,"node_id":"MDQ6VXNlcjgzMjY5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/8326978?v=4","gravatar_id":"","url":"https://api.github.com/users/yaooqinn","html_url":"https://github.com/yaooqinn","followers_url":"https://api.github.com/users/yaooqinn/followers","following_url":"https://api.github.com/users/yaooqinn/following{/other_user}","gists_url":"https://api.github.com/users/yaooqinn/gists{/gist_id}","starred_url":"https://api.github.com/users/yaooqinn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yaooqinn/subscriptions","organizations_url":"https://api.github.com/users/yaooqinn/orgs","repos_url":"https://api.github.com/users/yaooqinn/repos","events_url":"https://api.github.com/users/yaooqinn/events{/privacy}","received_events_url":"https://api.github.com/users/yaooqinn/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":357976080,"node_id":"MDEwOlJlcG9zaXRvcnkzNTc5NzYwODA=","name":"spark","full_name":"yaooqinn/spark","private":false,"owner":{"login":"yaooqinn","id":8326978,"node_id":"MDQ6VXNlcjgzMjY5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/8326978?v=4","gravatar_id":"","url":"https://api.github.com/users/yaooqinn","html_url":"https://github.com/yaooqinn","followers_url":"https://api.github.com/users/yaooqinn/followers","following_url":"https://api.github.com/users/yaooqinn/following{/other_user}","gists_url":"https://api.github.com/users/yaooqinn/gists{/gist_id}","starred_url":"https://api.github.com/users/yaooqinn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yaooqinn/subscriptions","organizations_url":"https://api.github.com/users/yaooqinn/orgs","repos_url":"https://api.github.com/users/yaooqinn/repos","events_url":"https://api.github.com/users/yaooqinn/events{/privacy}","received_events_url":"https://api.github.com/users/yaooqinn/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/yaooqinn/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/yaooqinn/spark","forks_url":"https://api.github.com/repos/yaooqinn/spark/forks","keys_url":"https://api.github.com/repos/yaooqinn/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/yaooqinn/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/yaooqinn/spark/teams","hooks_url":"https://api.github.com/repos/yaooqinn/spark/hooks","issue_events_url":"https://api.github.com/repos/yaooqinn/spark/issues/events{/number}","events_url":"https://api.github.com/repos/yaooqinn/spark/events","assignees_url":"https://api.github.com/repos/yaooqinn/spark/assignees{/user}","branches_url":"https://api.github.com/repos/yaooqinn/spark/branches{/branch}","tags_url":"https://api.github.com/repos/yaooqinn/spark/tags","blobs_url":"https://api.github.com/repos/yaooqinn/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/yaooqinn/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/yaooqinn/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/yaooqinn/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/yaooqinn/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/yaooqinn/spark/languages","stargazers_url":"https://api.github.com/repos/yaooqinn/spark/stargazers","contributors_url":"https://api.github.com/repos/yaooqinn/spark/contributors","subscribers_url":"https://api.github.com/repos/yaooqinn/spark/subscribers","subscription_url":"https://api.github.com/repos/yaooqinn/spark/subscription","commits_url":"https://api.github.com/repos/yaooqinn/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/yaooqinn/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/yaooqinn/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/yaooqinn/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/yaooqinn/spark/contents/{+path}","compare_url":"https://api.github.com/repos/yaooqinn/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/yaooqinn/spark/merges","archive_url":"https://api.github.com/repos/yaooqinn/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/yaooqinn/spark/downloads","issues_url":"https://api.github.com/repos/yaooqinn/spark/issues{/number}","pulls_url":"https://api.github.com/repos/yaooqinn/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/yaooqinn/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/yaooqinn/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/yaooqinn/spark/labels{/name}","releases_url":"https://api.github.com/repos/yaooqinn/spark/releases{/id}","deployments_url":"https://api.github.com/repos/yaooqinn/spark/deployments","created_at":"2021-04-14T16:44:36Z","updated_at":"2024-11-05T08:03:33Z","pushed_at":"2025-01-24T02:12:30Z","git_url":"git://github.com/yaooqinn/spark.git","ssh_url":"git@github.com:yaooqinn/spark.git","clone_url":"https://github.com/yaooqinn/spark.git","svn_url":"https://github.com/yaooqinn/spark","homepage":"https://spark.apache.org/","size":468287,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"52538f0d9bd1258dc2a0a2ab5bdb953f85d85da9","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48395"},"html":{"href":"https://github.com/apache/spark/pull/48395"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48395"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48395/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48395/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48395/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/768259acc14e7ab6e593ccc5a0c90bb44cfe2e2e"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48393","id":2114804880,"node_id":"PR_kwDOAQXtWs5-DVyQ","html_url":"https://github.com/apache/spark/pull/48393","diff_url":"https://github.com/apache/spark/pull/48393.diff","patch_url":"https://github.com/apache/spark/pull/48393.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48393","number":48393,"state":"closed","locked":false,"title":"[SPARK-49909][SQL][3.5] Fix the pretty name of some expressions","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to fix the `pretty name` of some `expressions`, includes: `random`, `to_varchar`, `current_database`, `curdate`, `dateadd` and `array_agg`.\r\n(PS: The pr is backport branch-3.5, master pr is: https://github.com/apache/spark/pull/48385)\r\n\r\n### Why are the changes needed?\r\nThe actual function name used does not match the displayed name, as shown below:\r\n- Before:\r\n<img width=\"573\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f5785c80-f6cb-494f-a15e-9258eca688a7\">\r\n\r\n- After:\r\n<img width=\"570\" alt=\"image\" src=\"https://github.com/user-attachments/assets/792a7092-ccbf-49f4-a616-19110e5c2361\">\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, Make the header of the data seen by the end-user from `Spark SQL` consistent with the `actual function name` used.\r\n\r\n### How was this patch tested?\r\n- Pass GA.\r\n- Update existed UT.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-09T09:27:12Z","updated_at":"2024-10-09T12:23:26Z","closed_at":"2024-10-09T12:23:26Z","merged_at":null,"merge_commit_sha":"3e6afa5e6971edfa05932bb7a72a2711f3e1564c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48393/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48393/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48393/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3dc2ebeef18feedac4679b12b3a4ac157dac42b7","head":{"label":"panbingkun:branch-3.5_SPARK-49909","ref":"branch-3.5_SPARK-49909","sha":"3dc2ebeef18feedac4679b12b3a4ac157dac42b7","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:branch-3.5","ref":"branch-3.5","sha":"4d93a30e554db6c7fe749dcfecd09c4ed45d2982","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48393"},"html":{"href":"https://github.com/apache/spark/pull/48393"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48393"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48393/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48393/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48393/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3dc2ebeef18feedac4679b12b3a4ac157dac42b7"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48392","id":2114755746,"node_id":"PR_kwDOAQXtWs5-DJyi","html_url":"https://github.com/apache/spark/pull/48392","diff_url":"https://github.com/apache/spark/pull/48392.diff","patch_url":"https://github.com/apache/spark/pull/48392.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48392","number":48392,"state":"closed","locked":false,"title":"[SPARK-43838][SQL][FOLLOWUP] Replace `HashSet` with `HashMap` to improve performance of `DeduplicateRelations`","user":{"login":"mihailotim-db","id":174342191,"node_id":"U_kgDOCmRALw","avatar_url":"https://avatars.githubusercontent.com/u/174342191?v=4","gravatar_id":"","url":"https://api.github.com/users/mihailotim-db","html_url":"https://github.com/mihailotim-db","followers_url":"https://api.github.com/users/mihailotim-db/followers","following_url":"https://api.github.com/users/mihailotim-db/following{/other_user}","gists_url":"https://api.github.com/users/mihailotim-db/gists{/gist_id}","starred_url":"https://api.github.com/users/mihailotim-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihailotim-db/subscriptions","organizations_url":"https://api.github.com/users/mihailotim-db/orgs","repos_url":"https://api.github.com/users/mihailotim-db/repos","events_url":"https://api.github.com/users/mihailotim-db/events{/privacy}","received_events_url":"https://api.github.com/users/mihailotim-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\nThis PR replaces `HashSet` that is currently used with a `HashMap` to improve `DeduplicateRelations` performance.\r\nAdditionally, this PR reverts #48053 as that change is no longer needed\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\n\r\n### Why are the changes needed?\r\nCurrent implementation doesn't utilize `HashSet` properly, but instead performs multiple linear searches on the set creating a O(n^2) complexity \r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\n\r\n### How was this patch tested?\r\nExisting tests\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\n","created_at":"2024-10-09T09:04:25Z","updated_at":"2024-10-09T23:17:43Z","closed_at":"2024-10-09T23:17:43Z","merged_at":null,"merge_commit_sha":"8290a7fb359e75c86e3c034c49a4e0b525f4b88d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48392/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48392/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48392/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/f14de977e7c2b56fdabbc75310b7c991ec0d98a7","head":{"label":"mihailotim-db:mihailotim-db/master","ref":"mihailotim-db/master","sha":"f14de977e7c2b56fdabbc75310b7c991ec0d98a7","user":{"login":"mihailotim-db","id":174342191,"node_id":"U_kgDOCmRALw","avatar_url":"https://avatars.githubusercontent.com/u/174342191?v=4","gravatar_id":"","url":"https://api.github.com/users/mihailotim-db","html_url":"https://github.com/mihailotim-db","followers_url":"https://api.github.com/users/mihailotim-db/followers","following_url":"https://api.github.com/users/mihailotim-db/following{/other_user}","gists_url":"https://api.github.com/users/mihailotim-db/gists{/gist_id}","starred_url":"https://api.github.com/users/mihailotim-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihailotim-db/subscriptions","organizations_url":"https://api.github.com/users/mihailotim-db/orgs","repos_url":"https://api.github.com/users/mihailotim-db/repos","events_url":"https://api.github.com/users/mihailotim-db/events{/privacy}","received_events_url":"https://api.github.com/users/mihailotim-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":823540258,"node_id":"R_kgDOMRY6Ig","name":"spark","full_name":"mihailotim-db/spark","private":false,"owner":{"login":"mihailotim-db","id":174342191,"node_id":"U_kgDOCmRALw","avatar_url":"https://avatars.githubusercontent.com/u/174342191?v=4","gravatar_id":"","url":"https://api.github.com/users/mihailotim-db","html_url":"https://github.com/mihailotim-db","followers_url":"https://api.github.com/users/mihailotim-db/followers","following_url":"https://api.github.com/users/mihailotim-db/following{/other_user}","gists_url":"https://api.github.com/users/mihailotim-db/gists{/gist_id}","starred_url":"https://api.github.com/users/mihailotim-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihailotim-db/subscriptions","organizations_url":"https://api.github.com/users/mihailotim-db/orgs","repos_url":"https://api.github.com/users/mihailotim-db/repos","events_url":"https://api.github.com/users/mihailotim-db/events{/privacy}","received_events_url":"https://api.github.com/users/mihailotim-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mihailotim-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/mihailotim-db/spark","forks_url":"https://api.github.com/repos/mihailotim-db/spark/forks","keys_url":"https://api.github.com/repos/mihailotim-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mihailotim-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mihailotim-db/spark/teams","hooks_url":"https://api.github.com/repos/mihailotim-db/spark/hooks","issue_events_url":"https://api.github.com/repos/mihailotim-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/mihailotim-db/spark/events","assignees_url":"https://api.github.com/repos/mihailotim-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/mihailotim-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/mihailotim-db/spark/tags","blobs_url":"https://api.github.com/repos/mihailotim-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mihailotim-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mihailotim-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/mihailotim-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mihailotim-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/mihailotim-db/spark/languages","stargazers_url":"https://api.github.com/repos/mihailotim-db/spark/stargazers","contributors_url":"https://api.github.com/repos/mihailotim-db/spark/contributors","subscribers_url":"https://api.github.com/repos/mihailotim-db/spark/subscribers","subscription_url":"https://api.github.com/repos/mihailotim-db/spark/subscription","commits_url":"https://api.github.com/repos/mihailotim-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/mihailotim-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/mihailotim-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/mihailotim-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/mihailotim-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/mihailotim-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mihailotim-db/spark/merges","archive_url":"https://api.github.com/repos/mihailotim-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mihailotim-db/spark/downloads","issues_url":"https://api.github.com/repos/mihailotim-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/mihailotim-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/mihailotim-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/mihailotim-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mihailotim-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/mihailotim-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/mihailotim-db/spark/deployments","created_at":"2024-07-03T08:18:27Z","updated_at":"2024-08-21T14:53:45Z","pushed_at":"2025-02-04T16:22:41Z","git_url":"git://github.com/mihailotim-db/spark.git","ssh_url":"git@github.com:mihailotim-db/spark.git","clone_url":"https://github.com/mihailotim-db/spark.git","svn_url":"https://github.com/mihailotim-db/spark","homepage":"https://spark.apache.org/","size":423337,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"97a5aa6ef7cab46564325dafed9f8266ac7f8999","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48392"},"html":{"href":"https://github.com/apache/spark/pull/48392"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48392"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48392/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48392/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48392/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/f14de977e7c2b56fdabbc75310b7c991ec0d98a7"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48391","id":2114690367,"node_id":"PR_kwDOAQXtWs5-C50_","html_url":"https://github.com/apache/spark/pull/48391","diff_url":"https://github.com/apache/spark/pull/48391.diff","patch_url":"https://github.com/apache/spark/pull/48391.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48391","number":48391,"state":"closed","locked":false,"title":"[SPARK-49808][SQL] Fix a deadlock in subquery execution due to lazy vals","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n1, Introduce a helper class `Lazy` to replace the lazy vals\r\n2, Fix a deadlock in subquery execution\r\n\r\n### Why are the changes needed?\r\n\r\nwe observed a deadlock between `QueryPlan.canonicalized` and `QueryPlan.references`:\r\n\r\nThe main thread `TakeOrderedAndProject.doExecute` is trying to compute `outputOrdering`, it top-down traverse the tree, and requires the lock of `QueryPlan.canonicalized` in the path.\r\nIn this deadlock, it successfully obtained the lock of `WholeStageCodegenExec` and requires the lock of `HashAggregateExec`;\r\n\r\nConcurrently, a subquery execution thread is performing code generation and bottom-up traverses the tree via `def consume`, which checks `WholeStageCodegenExec.usedInputs` and refererences a lazy val `QueryPlan.references`. It requires the lock of `QueryPlan.references` in the path.\r\nIn this deadlock, it successfully obtained the lock of `HashAggregateExec` and requires the lock of `WholeStageCodegenExec`;\r\n\r\nThis is due to Scala's lazy val internally calls this.synchronized on the instance that contains the val. This creates a potential for deadlocks.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nno\r\n\r\n\r\n### How was this patch tested?\r\nmanually test:\r\n\r\nbefore the fix, the deadlock happened twice in first 20 runs;\r\nafter the fix, the deadlock didn't happen in consecutive 100+ runs\r\n\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nno","created_at":"2024-10-09T08:32:49Z","updated_at":"2024-10-18T20:34:31Z","closed_at":"2024-10-18T08:40:14Z","merged_at":null,"merge_commit_sha":"dcf32856f118cb840ae37d37d3e364de642f5cdc","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48391/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48391/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48391/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/bde0d2c56afa92968bb7566171913402c7556eed","head":{"label":"zhengruifeng:query_plan_lazy_ref","ref":"query_plan_lazy_ref","sha":"bde0d2c56afa92968bb7566171913402c7556eed","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":51584791,"node_id":"MDEwOlJlcG9zaXRvcnk1MTU4NDc5MQ==","name":"spark","full_name":"zhengruifeng/spark","private":false,"owner":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhengruifeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zhengruifeng/spark","forks_url":"https://api.github.com/repos/zhengruifeng/spark/forks","keys_url":"https://api.github.com/repos/zhengruifeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhengruifeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhengruifeng/spark/teams","hooks_url":"https://api.github.com/repos/zhengruifeng/spark/hooks","issue_events_url":"https://api.github.com/repos/zhengruifeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhengruifeng/spark/events","assignees_url":"https://api.github.com/repos/zhengruifeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhengruifeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhengruifeng/spark/tags","blobs_url":"https://api.github.com/repos/zhengruifeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhengruifeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhengruifeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhengruifeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhengruifeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhengruifeng/spark/languages","stargazers_url":"https://api.github.com/repos/zhengruifeng/spark/stargazers","contributors_url":"https://api.github.com/repos/zhengruifeng/spark/contributors","subscribers_url":"https://api.github.com/repos/zhengruifeng/spark/subscribers","subscription_url":"https://api.github.com/repos/zhengruifeng/spark/subscription","commits_url":"https://api.github.com/repos/zhengruifeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhengruifeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhengruifeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhengruifeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhengruifeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhengruifeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhengruifeng/spark/merges","archive_url":"https://api.github.com/repos/zhengruifeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhengruifeng/spark/downloads","issues_url":"https://api.github.com/repos/zhengruifeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhengruifeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhengruifeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhengruifeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhengruifeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhengruifeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhengruifeng/spark/deployments","created_at":"2016-02-12T11:58:00Z","updated_at":"2025-02-09T01:55:22Z","pushed_at":"2025-02-09T01:55:17Z","git_url":"git://github.com/zhengruifeng/spark.git","ssh_url":"git@github.com:zhengruifeng/spark.git","clone_url":"https://github.com/zhengruifeng/spark.git","svn_url":"https://github.com/zhengruifeng/spark","homepage":null,"size":434785,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ed0a63f93f57b05bc6d4988bb1591cdfaf21131d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48391"},"html":{"href":"https://github.com/apache/spark/pull/48391"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48391"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48391/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48391/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48391/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/bde0d2c56afa92968bb7566171913402c7556eed"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48390","id":2114280660,"node_id":"PR_kwDOAQXtWs5-BVzU","html_url":"https://github.com/apache/spark/pull/48390","diff_url":"https://github.com/apache/spark/pull/48390.diff","patch_url":"https://github.com/apache/spark/pull/48390.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48390","number":48390,"state":"closed","locked":false,"title":"[SPARK-49711][SQL] Remove ExperimentalMethods","user":{"login":"hvanhovell","id":9616802,"node_id":"MDQ6VXNlcjk2MTY4MDI=","avatar_url":"https://avatars.githubusercontent.com/u/9616802?v=4","gravatar_id":"","url":"https://api.github.com/users/hvanhovell","html_url":"https://github.com/hvanhovell","followers_url":"https://api.github.com/users/hvanhovell/followers","following_url":"https://api.github.com/users/hvanhovell/following{/other_user}","gists_url":"https://api.github.com/users/hvanhovell/gists{/gist_id}","starred_url":"https://api.github.com/users/hvanhovell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hvanhovell/subscriptions","organizations_url":"https://api.github.com/users/hvanhovell/orgs","repos_url":"https://api.github.com/users/hvanhovell/repos","events_url":"https://api.github.com/users/hvanhovell/events{/privacy}","received_events_url":"https://api.github.com/users/hvanhovell/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis PR removes ExperimentalMethod from SQL. This is the first extension point we had for Spark SQL. However it is has been superseded by SparkSessionExtensions, and it has some weird semantics due to its mutability.\r\n\r\n### Why are the changes needed?\r\nSimplify how we can extend Spark SQL.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes. It removes an extension point used by developers and/or very adventurous users.\r\n\r\n\r\n### How was this patch tested?\r\nExisting tests.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-09T04:06:17Z","updated_at":"2025-01-20T00:24:36Z","closed_at":"2025-01-20T00:24:36Z","merged_at":null,"merge_commit_sha":null,"assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":true,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48390/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48390/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48390/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/939e5c3212c037d8f1b4a109ff292469bf7a3bdc","head":{"label":"hvanhovell:SPARK-49711","ref":"SPARK-49711","sha":"939e5c3212c037d8f1b4a109ff292469bf7a3bdc","user":{"login":"hvanhovell","id":9616802,"node_id":"MDQ6VXNlcjk2MTY4MDI=","avatar_url":"https://avatars.githubusercontent.com/u/9616802?v=4","gravatar_id":"","url":"https://api.github.com/users/hvanhovell","html_url":"https://github.com/hvanhovell","followers_url":"https://api.github.com/users/hvanhovell/followers","following_url":"https://api.github.com/users/hvanhovell/following{/other_user}","gists_url":"https://api.github.com/users/hvanhovell/gists{/gist_id}","starred_url":"https://api.github.com/users/hvanhovell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hvanhovell/subscriptions","organizations_url":"https://api.github.com/users/hvanhovell/orgs","repos_url":"https://api.github.com/users/hvanhovell/repos","events_url":"https://api.github.com/users/hvanhovell/events{/privacy}","received_events_url":"https://api.github.com/users/hvanhovell/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":35900688,"node_id":"MDEwOlJlcG9zaXRvcnkzNTkwMDY4OA==","name":"spark","full_name":"hvanhovell/spark","private":false,"owner":{"login":"hvanhovell","id":9616802,"node_id":"MDQ6VXNlcjk2MTY4MDI=","avatar_url":"https://avatars.githubusercontent.com/u/9616802?v=4","gravatar_id":"","url":"https://api.github.com/users/hvanhovell","html_url":"https://github.com/hvanhovell","followers_url":"https://api.github.com/users/hvanhovell/followers","following_url":"https://api.github.com/users/hvanhovell/following{/other_user}","gists_url":"https://api.github.com/users/hvanhovell/gists{/gist_id}","starred_url":"https://api.github.com/users/hvanhovell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hvanhovell/subscriptions","organizations_url":"https://api.github.com/users/hvanhovell/orgs","repos_url":"https://api.github.com/users/hvanhovell/repos","events_url":"https://api.github.com/users/hvanhovell/events{/privacy}","received_events_url":"https://api.github.com/users/hvanhovell/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/hvanhovell/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/hvanhovell/spark","forks_url":"https://api.github.com/repos/hvanhovell/spark/forks","keys_url":"https://api.github.com/repos/hvanhovell/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/hvanhovell/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/hvanhovell/spark/teams","hooks_url":"https://api.github.com/repos/hvanhovell/spark/hooks","issue_events_url":"https://api.github.com/repos/hvanhovell/spark/issues/events{/number}","events_url":"https://api.github.com/repos/hvanhovell/spark/events","assignees_url":"https://api.github.com/repos/hvanhovell/spark/assignees{/user}","branches_url":"https://api.github.com/repos/hvanhovell/spark/branches{/branch}","tags_url":"https://api.github.com/repos/hvanhovell/spark/tags","blobs_url":"https://api.github.com/repos/hvanhovell/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/hvanhovell/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/hvanhovell/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/hvanhovell/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/hvanhovell/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/hvanhovell/spark/languages","stargazers_url":"https://api.github.com/repos/hvanhovell/spark/stargazers","contributors_url":"https://api.github.com/repos/hvanhovell/spark/contributors","subscribers_url":"https://api.github.com/repos/hvanhovell/spark/subscribers","subscription_url":"https://api.github.com/repos/hvanhovell/spark/subscription","commits_url":"https://api.github.com/repos/hvanhovell/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/hvanhovell/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/hvanhovell/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/hvanhovell/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/hvanhovell/spark/contents/{+path}","compare_url":"https://api.github.com/repos/hvanhovell/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/hvanhovell/spark/merges","archive_url":"https://api.github.com/repos/hvanhovell/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/hvanhovell/spark/downloads","issues_url":"https://api.github.com/repos/hvanhovell/spark/issues{/number}","pulls_url":"https://api.github.com/repos/hvanhovell/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/hvanhovell/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/hvanhovell/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/hvanhovell/spark/labels{/name}","releases_url":"https://api.github.com/repos/hvanhovell/spark/releases{/id}","deployments_url":"https://api.github.com/repos/hvanhovell/spark/deployments","created_at":"2015-05-19T18:29:31Z","updated_at":"2024-11-14T19:45:14Z","pushed_at":"2025-02-06T16:48:48Z","git_url":"git://github.com/hvanhovell/spark.git","ssh_url":"git@github.com:hvanhovell/spark.git","clone_url":"https://github.com/hvanhovell/spark.git","svn_url":"https://github.com/hvanhovell/spark","homepage":null,"size":447542,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"5e27eec3847533c037c902f88dd3b64d5226710b","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48390"},"html":{"href":"https://github.com/apache/spark/pull/48390"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48390"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48390/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48390/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48390/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/939e5c3212c037d8f1b4a109ff292469bf7a3bdc"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48389","id":2114256773,"node_id":"PR_kwDOAQXtWs5-BP-F","html_url":"https://github.com/apache/spark/pull/48389","diff_url":"https://github.com/apache/spark/pull/48389.diff","patch_url":"https://github.com/apache/spark/pull/48389.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48389","number":48389,"state":"closed","locked":false,"title":"[MINOR][SQL] Improved broadcast timeout message prompt","user":{"login":"huangxiaopingRD","id":35296098,"node_id":"MDQ6VXNlcjM1Mjk2MDk4","avatar_url":"https://avatars.githubusercontent.com/u/35296098?v=4","gravatar_id":"","url":"https://api.github.com/users/huangxiaopingRD","html_url":"https://github.com/huangxiaopingRD","followers_url":"https://api.github.com/users/huangxiaopingRD/followers","following_url":"https://api.github.com/users/huangxiaopingRD/following{/other_user}","gists_url":"https://api.github.com/users/huangxiaopingRD/gists{/gist_id}","starred_url":"https://api.github.com/users/huangxiaopingRD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huangxiaopingRD/subscriptions","organizations_url":"https://api.github.com/users/huangxiaopingRD/orgs","repos_url":"https://api.github.com/users/huangxiaopingRD/repos","events_url":"https://api.github.com/users/huangxiaopingRD/events{/privacy}","received_events_url":"https://api.github.com/users/huangxiaopingRD/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\nImproved broadcast timeout message prompt\r\n\r\n\r\n### Why are the changes needed?\r\nHelp users debug better\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\n\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo\r\n","created_at":"2024-10-09T03:50:29Z","updated_at":"2024-10-13T09:09:24Z","closed_at":"2024-10-13T09:09:24Z","merged_at":null,"merge_commit_sha":"7f8fe3f8fe5876e6c7e8b1ae18ed93d52787840c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48389/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48389/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48389/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/d0dd3dcf6fbaf683a4d779d13e7b2d17f70a4826","head":{"label":"huangxiaopingRD:broadcast-message","ref":"broadcast-message","sha":"d0dd3dcf6fbaf683a4d779d13e7b2d17f70a4826","user":{"login":"huangxiaopingRD","id":35296098,"node_id":"MDQ6VXNlcjM1Mjk2MDk4","avatar_url":"https://avatars.githubusercontent.com/u/35296098?v=4","gravatar_id":"","url":"https://api.github.com/users/huangxiaopingRD","html_url":"https://github.com/huangxiaopingRD","followers_url":"https://api.github.com/users/huangxiaopingRD/followers","following_url":"https://api.github.com/users/huangxiaopingRD/following{/other_user}","gists_url":"https://api.github.com/users/huangxiaopingRD/gists{/gist_id}","starred_url":"https://api.github.com/users/huangxiaopingRD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huangxiaopingRD/subscriptions","organizations_url":"https://api.github.com/users/huangxiaopingRD/orgs","repos_url":"https://api.github.com/users/huangxiaopingRD/repos","events_url":"https://api.github.com/users/huangxiaopingRD/events{/privacy}","received_events_url":"https://api.github.com/users/huangxiaopingRD/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":471008991,"node_id":"R_kgDOHBMG3w","name":"spark","full_name":"huangxiaopingRD/spark","private":false,"owner":{"login":"huangxiaopingRD","id":35296098,"node_id":"MDQ6VXNlcjM1Mjk2MDk4","avatar_url":"https://avatars.githubusercontent.com/u/35296098?v=4","gravatar_id":"","url":"https://api.github.com/users/huangxiaopingRD","html_url":"https://github.com/huangxiaopingRD","followers_url":"https://api.github.com/users/huangxiaopingRD/followers","following_url":"https://api.github.com/users/huangxiaopingRD/following{/other_user}","gists_url":"https://api.github.com/users/huangxiaopingRD/gists{/gist_id}","starred_url":"https://api.github.com/users/huangxiaopingRD/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huangxiaopingRD/subscriptions","organizations_url":"https://api.github.com/users/huangxiaopingRD/orgs","repos_url":"https://api.github.com/users/huangxiaopingRD/repos","events_url":"https://api.github.com/users/huangxiaopingRD/events{/privacy}","received_events_url":"https://api.github.com/users/huangxiaopingRD/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/huangxiaopingRD/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/huangxiaopingRD/spark","forks_url":"https://api.github.com/repos/huangxiaopingRD/spark/forks","keys_url":"https://api.github.com/repos/huangxiaopingRD/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/huangxiaopingRD/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/huangxiaopingRD/spark/teams","hooks_url":"https://api.github.com/repos/huangxiaopingRD/spark/hooks","issue_events_url":"https://api.github.com/repos/huangxiaopingRD/spark/issues/events{/number}","events_url":"https://api.github.com/repos/huangxiaopingRD/spark/events","assignees_url":"https://api.github.com/repos/huangxiaopingRD/spark/assignees{/user}","branches_url":"https://api.github.com/repos/huangxiaopingRD/spark/branches{/branch}","tags_url":"https://api.github.com/repos/huangxiaopingRD/spark/tags","blobs_url":"https://api.github.com/repos/huangxiaopingRD/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/huangxiaopingRD/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/huangxiaopingRD/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/huangxiaopingRD/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/huangxiaopingRD/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/huangxiaopingRD/spark/languages","stargazers_url":"https://api.github.com/repos/huangxiaopingRD/spark/stargazers","contributors_url":"https://api.github.com/repos/huangxiaopingRD/spark/contributors","subscribers_url":"https://api.github.com/repos/huangxiaopingRD/spark/subscribers","subscription_url":"https://api.github.com/repos/huangxiaopingRD/spark/subscription","commits_url":"https://api.github.com/repos/huangxiaopingRD/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/huangxiaopingRD/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/huangxiaopingRD/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/huangxiaopingRD/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/huangxiaopingRD/spark/contents/{+path}","compare_url":"https://api.github.com/repos/huangxiaopingRD/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/huangxiaopingRD/spark/merges","archive_url":"https://api.github.com/repos/huangxiaopingRD/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/huangxiaopingRD/spark/downloads","issues_url":"https://api.github.com/repos/huangxiaopingRD/spark/issues{/number}","pulls_url":"https://api.github.com/repos/huangxiaopingRD/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/huangxiaopingRD/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/huangxiaopingRD/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/huangxiaopingRD/spark/labels{/name}","releases_url":"https://api.github.com/repos/huangxiaopingRD/spark/releases{/id}","deployments_url":"https://api.github.com/repos/huangxiaopingRD/spark/deployments","created_at":"2022-03-17T13:35:34Z","updated_at":"2025-02-09T05:41:29Z","pushed_at":"2025-02-09T05:41:07Z","git_url":"git://github.com/huangxiaopingRD/spark.git","ssh_url":"git@github.com:huangxiaopingRD/spark.git","clone_url":"https://github.com/huangxiaopingRD/spark.git","svn_url":"https://github.com/huangxiaopingRD/spark","homepage":"https://spark.apache.org/","size":466919,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"5e27eec3847533c037c902f88dd3b64d5226710b","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48389"},"html":{"href":"https://github.com/apache/spark/pull/48389"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48389"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48389/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48389/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48389/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/d0dd3dcf6fbaf683a4d779d13e7b2d17f70a4826"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48388","id":2114225693,"node_id":"PR_kwDOAQXtWs5-BIYd","html_url":"https://github.com/apache/spark/pull/48388","diff_url":"https://github.com/apache/spark/pull/48388.diff","patch_url":"https://github.com/apache/spark/pull/48388.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48388","number":48388,"state":"closed","locked":false,"title":"[MINOR][PYTHON][TESTS] Reduce the python worker error log of `test_toDF_with_schema_string`","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nReduce the python worker error log of `test_toDF_with_schema_string`\r\n\r\n\r\n### Why are the changes needed?\r\nWhen I run the test locally\r\n```python\r\npython/run-tests -k --python-executables python3 --testnames 'pyspark.sql.tests.test_dataframe'\r\n```\r\n\r\nTwo assertions in `test_toDF_with_schema_string` generate too many python worker error logs (~1k lines), which easily exceed the limitation of terminal and make it hard to debug.\r\n\r\nSo I want to reduce the number of python workers in the two assertions.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nno, test only\r\n\r\n\r\n### How was this patch tested?\r\nmanually test, the logs will be reduced to ~200 lines\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nno\r\n","created_at":"2024-10-09T03:09:58Z","updated_at":"2024-10-10T00:32:21Z","closed_at":"2024-10-09T23:23:59Z","merged_at":null,"merge_commit_sha":"f1705a2910aa50b4e14d82c6f4514239a459d4db","assignee":null,"assignees":[],"requested_reviewers":[{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48388/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48388/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48388/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3338ff49980edf177658c600797b3f8d7e558525","head":{"label":"zhengruifeng:test_to_df_error","ref":"test_to_df_error","sha":"3338ff49980edf177658c600797b3f8d7e558525","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":51584791,"node_id":"MDEwOlJlcG9zaXRvcnk1MTU4NDc5MQ==","name":"spark","full_name":"zhengruifeng/spark","private":false,"owner":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhengruifeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zhengruifeng/spark","forks_url":"https://api.github.com/repos/zhengruifeng/spark/forks","keys_url":"https://api.github.com/repos/zhengruifeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhengruifeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhengruifeng/spark/teams","hooks_url":"https://api.github.com/repos/zhengruifeng/spark/hooks","issue_events_url":"https://api.github.com/repos/zhengruifeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhengruifeng/spark/events","assignees_url":"https://api.github.com/repos/zhengruifeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhengruifeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhengruifeng/spark/tags","blobs_url":"https://api.github.com/repos/zhengruifeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhengruifeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhengruifeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhengruifeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhengruifeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhengruifeng/spark/languages","stargazers_url":"https://api.github.com/repos/zhengruifeng/spark/stargazers","contributors_url":"https://api.github.com/repos/zhengruifeng/spark/contributors","subscribers_url":"https://api.github.com/repos/zhengruifeng/spark/subscribers","subscription_url":"https://api.github.com/repos/zhengruifeng/spark/subscription","commits_url":"https://api.github.com/repos/zhengruifeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhengruifeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhengruifeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhengruifeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhengruifeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhengruifeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhengruifeng/spark/merges","archive_url":"https://api.github.com/repos/zhengruifeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhengruifeng/spark/downloads","issues_url":"https://api.github.com/repos/zhengruifeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhengruifeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhengruifeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhengruifeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhengruifeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhengruifeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhengruifeng/spark/deployments","created_at":"2016-02-12T11:58:00Z","updated_at":"2025-02-09T01:55:22Z","pushed_at":"2025-02-09T01:55:17Z","git_url":"git://github.com/zhengruifeng/spark.git","ssh_url":"git@github.com:zhengruifeng/spark.git","clone_url":"https://github.com/zhengruifeng/spark.git","svn_url":"https://github.com/zhengruifeng/spark","homepage":null,"size":434785,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c1f18a00bb889c0f5aa703525c48d6a9650c7b2d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48388"},"html":{"href":"https://github.com/apache/spark/pull/48388"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48388"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48388/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48388/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48388/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3338ff49980edf177658c600797b3f8d7e558525"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48387","id":2113381017,"node_id":"PR_kwDOAQXtWs5996KZ","html_url":"https://github.com/apache/spark/pull/48387","diff_url":"https://github.com/apache/spark/pull/48387.diff","patch_url":"https://github.com/apache/spark/pull/48387.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48387","number":48387,"state":"closed","locked":false,"title":"[SPARK-49542][SQL] Partition transform exception evaluate error","user":{"login":"dusantism-db","id":176312626,"node_id":"U_kgDOCoJRMg","avatar_url":"https://avatars.githubusercontent.com/u/176312626?v=4","gravatar_id":"","url":"https://api.github.com/users/dusantism-db","html_url":"https://github.com/dusantism-db","followers_url":"https://api.github.com/users/dusantism-db/followers","following_url":"https://api.github.com/users/dusantism-db/following{/other_user}","gists_url":"https://api.github.com/users/dusantism-db/gists{/gist_id}","starred_url":"https://api.github.com/users/dusantism-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dusantism-db/subscriptions","organizations_url":"https://api.github.com/users/dusantism-db/orgs","repos_url":"https://api.github.com/users/dusantism-db/repos","events_url":"https://api.github.com/users/dusantism-db/events{/privacy}","received_events_url":"https://api.github.com/users/dusantism-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\n### What changes were proposed in this pull request?\r\nAdd user facing error for improper use of partition transform expressions.\r\n\r\n\r\n### Why are the changes needed?\r\nReplace internal error with user facing one.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, new error condition.\r\n\r\n\r\n### How was this patch tested?\r\nAdded tests to QueryExecutionErrorsSuite\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo\r\n","created_at":"2024-10-08T15:24:34Z","updated_at":"2024-10-10T07:11:50Z","closed_at":"2024-10-10T07:11:50Z","merged_at":null,"merge_commit_sha":"e43d36e095e35415b1a8b346aff6fc03167ae3d5","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48387/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48387/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48387/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/f8589487a9f2e17f10eccc98feeb272a262c53fb","head":{"label":"dusantism-db:partition-transform-exception-evaluate-error","ref":"partition-transform-exception-evaluate-error","sha":"f8589487a9f2e17f10eccc98feeb272a262c53fb","user":{"login":"dusantism-db","id":176312626,"node_id":"U_kgDOCoJRMg","avatar_url":"https://avatars.githubusercontent.com/u/176312626?v=4","gravatar_id":"","url":"https://api.github.com/users/dusantism-db","html_url":"https://github.com/dusantism-db","followers_url":"https://api.github.com/users/dusantism-db/followers","following_url":"https://api.github.com/users/dusantism-db/following{/other_user}","gists_url":"https://api.github.com/users/dusantism-db/gists{/gist_id}","starred_url":"https://api.github.com/users/dusantism-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dusantism-db/subscriptions","organizations_url":"https://api.github.com/users/dusantism-db/orgs","repos_url":"https://api.github.com/users/dusantism-db/repos","events_url":"https://api.github.com/users/dusantism-db/events{/privacy}","received_events_url":"https://api.github.com/users/dusantism-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":834060712,"node_id":"R_kgDOMbbBqA","name":"spark","full_name":"dusantism-db/spark","private":false,"owner":{"login":"dusantism-db","id":176312626,"node_id":"U_kgDOCoJRMg","avatar_url":"https://avatars.githubusercontent.com/u/176312626?v=4","gravatar_id":"","url":"https://api.github.com/users/dusantism-db","html_url":"https://github.com/dusantism-db","followers_url":"https://api.github.com/users/dusantism-db/followers","following_url":"https://api.github.com/users/dusantism-db/following{/other_user}","gists_url":"https://api.github.com/users/dusantism-db/gists{/gist_id}","starred_url":"https://api.github.com/users/dusantism-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dusantism-db/subscriptions","organizations_url":"https://api.github.com/users/dusantism-db/orgs","repos_url":"https://api.github.com/users/dusantism-db/repos","events_url":"https://api.github.com/users/dusantism-db/events{/privacy}","received_events_url":"https://api.github.com/users/dusantism-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dusantism-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/dusantism-db/spark","forks_url":"https://api.github.com/repos/dusantism-db/spark/forks","keys_url":"https://api.github.com/repos/dusantism-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dusantism-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dusantism-db/spark/teams","hooks_url":"https://api.github.com/repos/dusantism-db/spark/hooks","issue_events_url":"https://api.github.com/repos/dusantism-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/dusantism-db/spark/events","assignees_url":"https://api.github.com/repos/dusantism-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/dusantism-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/dusantism-db/spark/tags","blobs_url":"https://api.github.com/repos/dusantism-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dusantism-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dusantism-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/dusantism-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dusantism-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/dusantism-db/spark/languages","stargazers_url":"https://api.github.com/repos/dusantism-db/spark/stargazers","contributors_url":"https://api.github.com/repos/dusantism-db/spark/contributors","subscribers_url":"https://api.github.com/repos/dusantism-db/spark/subscribers","subscription_url":"https://api.github.com/repos/dusantism-db/spark/subscription","commits_url":"https://api.github.com/repos/dusantism-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/dusantism-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/dusantism-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/dusantism-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/dusantism-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/dusantism-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dusantism-db/spark/merges","archive_url":"https://api.github.com/repos/dusantism-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dusantism-db/spark/downloads","issues_url":"https://api.github.com/repos/dusantism-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/dusantism-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/dusantism-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/dusantism-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dusantism-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/dusantism-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/dusantism-db/spark/deployments","created_at":"2024-07-26T10:29:58Z","updated_at":"2024-08-13T09:32:26Z","pushed_at":"2025-02-07T18:25:31Z","git_url":"git://github.com/dusantism-db/spark.git","ssh_url":"git@github.com:dusantism-db/spark.git","clone_url":"https://github.com/dusantism-db/spark.git","svn_url":"https://github.com/dusantism-db/spark","homepage":"https://spark.apache.org/","size":424182,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ef142c4f204fcdc2382212ae55a71c3f0f6cae1f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48387"},"html":{"href":"https://github.com/apache/spark/pull/48387"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48387"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48387/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48387/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48387/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/f8589487a9f2e17f10eccc98feeb272a262c53fb"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48386","id":2113212899,"node_id":"PR_kwDOAQXtWs599RHj","html_url":"https://github.com/apache/spark/pull/48386","diff_url":"https://github.com/apache/spark/pull/48386.diff","patch_url":"https://github.com/apache/spark/pull/48386.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48386","number":48386,"state":"closed","locked":false,"title":"[SPARK-49661][SQL] Implement trim collation hashing and comparison.","user":{"login":"jovanpavl-db","id":179481047,"node_id":"U_kgDOCrKp1w","avatar_url":"https://avatars.githubusercontent.com/u/179481047?v=4","gravatar_id":"","url":"https://api.github.com/users/jovanpavl-db","html_url":"https://github.com/jovanpavl-db","followers_url":"https://api.github.com/users/jovanpavl-db/followers","following_url":"https://api.github.com/users/jovanpavl-db/following{/other_user}","gists_url":"https://api.github.com/users/jovanpavl-db/gists{/gist_id}","starred_url":"https://api.github.com/users/jovanpavl-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jovanpavl-db/subscriptions","organizations_url":"https://api.github.com/users/jovanpavl-db/orgs","repos_url":"https://api.github.com/users/jovanpavl-db/repos","events_url":"https://api.github.com/users/jovanpavl-db/events{/privacy}","received_events_url":"https://api.github.com/users/jovanpavl-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nImplement support for hashing and comparison for trim collation.\r\n\r\n### Why are the changes needed?\r\nTo have full support for trim collation.\r\n\r\n### How was this patch tested?\r\nAdd tests in CollationFactorySUite and CollationSqlExpressionSuite.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-08T14:08:58Z","updated_at":"2024-11-04T11:30:37Z","closed_at":"2024-10-14T18:35:17Z","merged_at":null,"merge_commit_sha":"2fa0df7912dc1b63a3b464cb6a80c31d2aab08ab","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48386/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48386/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48386/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/af27d43000f1f40b494c47155127fefda4dc03de","head":{"label":"jovanpavl-db:implement_hashing","ref":"implement_hashing","sha":"af27d43000f1f40b494c47155127fefda4dc03de","user":{"login":"jovanpavl-db","id":179481047,"node_id":"U_kgDOCrKp1w","avatar_url":"https://avatars.githubusercontent.com/u/179481047?v=4","gravatar_id":"","url":"https://api.github.com/users/jovanpavl-db","html_url":"https://github.com/jovanpavl-db","followers_url":"https://api.github.com/users/jovanpavl-db/followers","following_url":"https://api.github.com/users/jovanpavl-db/following{/other_user}","gists_url":"https://api.github.com/users/jovanpavl-db/gists{/gist_id}","starred_url":"https://api.github.com/users/jovanpavl-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jovanpavl-db/subscriptions","organizations_url":"https://api.github.com/users/jovanpavl-db/orgs","repos_url":"https://api.github.com/users/jovanpavl-db/repos","events_url":"https://api.github.com/users/jovanpavl-db/events{/privacy}","received_events_url":"https://api.github.com/users/jovanpavl-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":859317993,"node_id":"R_kgDOMzgm6Q","name":"spark","full_name":"jovanpavl-db/spark","private":false,"owner":{"login":"jovanpavl-db","id":179481047,"node_id":"U_kgDOCrKp1w","avatar_url":"https://avatars.githubusercontent.com/u/179481047?v=4","gravatar_id":"","url":"https://api.github.com/users/jovanpavl-db","html_url":"https://github.com/jovanpavl-db","followers_url":"https://api.github.com/users/jovanpavl-db/followers","following_url":"https://api.github.com/users/jovanpavl-db/following{/other_user}","gists_url":"https://api.github.com/users/jovanpavl-db/gists{/gist_id}","starred_url":"https://api.github.com/users/jovanpavl-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jovanpavl-db/subscriptions","organizations_url":"https://api.github.com/users/jovanpavl-db/orgs","repos_url":"https://api.github.com/users/jovanpavl-db/repos","events_url":"https://api.github.com/users/jovanpavl-db/events{/privacy}","received_events_url":"https://api.github.com/users/jovanpavl-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/jovanpavl-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/jovanpavl-db/spark","forks_url":"https://api.github.com/repos/jovanpavl-db/spark/forks","keys_url":"https://api.github.com/repos/jovanpavl-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/jovanpavl-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/jovanpavl-db/spark/teams","hooks_url":"https://api.github.com/repos/jovanpavl-db/spark/hooks","issue_events_url":"https://api.github.com/repos/jovanpavl-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/jovanpavl-db/spark/events","assignees_url":"https://api.github.com/repos/jovanpavl-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/jovanpavl-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/jovanpavl-db/spark/tags","blobs_url":"https://api.github.com/repos/jovanpavl-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/jovanpavl-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/jovanpavl-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/jovanpavl-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/jovanpavl-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/jovanpavl-db/spark/languages","stargazers_url":"https://api.github.com/repos/jovanpavl-db/spark/stargazers","contributors_url":"https://api.github.com/repos/jovanpavl-db/spark/contributors","subscribers_url":"https://api.github.com/repos/jovanpavl-db/spark/subscribers","subscription_url":"https://api.github.com/repos/jovanpavl-db/spark/subscription","commits_url":"https://api.github.com/repos/jovanpavl-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/jovanpavl-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/jovanpavl-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/jovanpavl-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/jovanpavl-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/jovanpavl-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/jovanpavl-db/spark/merges","archive_url":"https://api.github.com/repos/jovanpavl-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/jovanpavl-db/spark/downloads","issues_url":"https://api.github.com/repos/jovanpavl-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/jovanpavl-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/jovanpavl-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/jovanpavl-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/jovanpavl-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/jovanpavl-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/jovanpavl-db/spark/deployments","created_at":"2024-09-18T13:12:29Z","updated_at":"2024-09-18T13:12:29Z","pushed_at":"2024-12-18T10:30:33Z","git_url":"git://github.com/jovanpavl-db/spark.git","ssh_url":"git@github.com:jovanpavl-db/spark.git","clone_url":"https://github.com/jovanpavl-db/spark.git","svn_url":"https://github.com/jovanpavl-db/spark","homepage":"https://spark.apache.org/","size":416881,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":1,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ef142c4f204fcdc2382212ae55a71c3f0f6cae1f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48386"},"html":{"href":"https://github.com/apache/spark/pull/48386"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48386"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48386/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48386/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48386/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/af27d43000f1f40b494c47155127fefda4dc03de"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48385","id":2112834106,"node_id":"PR_kwDOAQXtWs5970o6","html_url":"https://github.com/apache/spark/pull/48385","diff_url":"https://github.com/apache/spark/pull/48385.diff","patch_url":"https://github.com/apache/spark/pull/48385.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48385","number":48385,"state":"closed","locked":false,"title":"[SPARK-49909][SQL] Fix the pretty name of some expressions","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to fix the `pretty name` of some `expressions`, includes: `random`, `to_varchar`, `current_database`, `curdate`, `dateadd` and `array_agg`.\r\n\r\n### Why are the changes needed?\r\nThe actual function name used does not match the displayed name, as shown below:\r\n- Before:\r\n<img width=\"573\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f5785c80-f6cb-494f-a15e-9258eca688a7\">\r\n\r\n- After:\r\n<img width=\"570\" alt=\"image\" src=\"https://github.com/user-attachments/assets/792a7092-ccbf-49f4-a616-19110e5c2361\">\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, Make the header of the data seen by the end-user from `Spark SQL` consistent with the `actual function name` used.\r\n\r\n### How was this patch tested?\r\n- Pass GA.\r\n- Update existed UT.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-08T11:10:38Z","updated_at":"2024-10-18T02:48:33Z","closed_at":"2024-10-09T08:08:10Z","merged_at":null,"merge_commit_sha":"96fcd061a35afebff4cc1b8ddffaec665b961be4","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48385/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48385/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48385/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/2bdb858d0523b6e68ef67402a2fd083f6c0240cd","head":{"label":"panbingkun:SPARK-49909","ref":"SPARK-49909","sha":"2bdb858d0523b6e68ef67402a2fd083f6c0240cd","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ef142c4f204fcdc2382212ae55a71c3f0f6cae1f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48385"},"html":{"href":"https://github.com/apache/spark/pull/48385"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48385"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48385/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48385/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48385/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/2bdb858d0523b6e68ef67402a2fd083f6c0240cd"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48384","id":2112788244,"node_id":"PR_kwDOAQXtWs597pcU","html_url":"https://github.com/apache/spark/pull/48384","diff_url":"https://github.com/apache/spark/pull/48384.diff","patch_url":"https://github.com/apache/spark/pull/48384.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48384","number":48384,"state":"closed","locked":false,"title":"[SPARK-49908][SQL] Assign proper error condition for _LEGACY_ERROR_TEMP_0044","user":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis PR proposes to assign proper error condition & sqlstate for _LEGACY_ERROR_TEMP_0044\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nTo improve the error message by assigning proper error condition and SQLSTATE\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo, only user-facing error message improved\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUpdated the existing tests\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo\r\n","created_at":"2024-10-08T10:47:27Z","updated_at":"2024-10-10T07:15:55Z","closed_at":"2024-10-10T07:15:54Z","merged_at":null,"merge_commit_sha":"9db925b37281e67624034584126f9943c7c09eda","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48384/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48384/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48384/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/8c24dbe583c0783a09834181cb501cb97ef2ba46","head":{"label":"itholic:legacy_0044","ref":"legacy_0044","sha":"8c24dbe583c0783a09834181cb501cb97ef2ba46","user":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":445423122,"node_id":"R_kgDOGoyeEg","name":"spark","full_name":"itholic/spark","private":false,"owner":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/itholic/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/itholic/spark","forks_url":"https://api.github.com/repos/itholic/spark/forks","keys_url":"https://api.github.com/repos/itholic/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/itholic/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/itholic/spark/teams","hooks_url":"https://api.github.com/repos/itholic/spark/hooks","issue_events_url":"https://api.github.com/repos/itholic/spark/issues/events{/number}","events_url":"https://api.github.com/repos/itholic/spark/events","assignees_url":"https://api.github.com/repos/itholic/spark/assignees{/user}","branches_url":"https://api.github.com/repos/itholic/spark/branches{/branch}","tags_url":"https://api.github.com/repos/itholic/spark/tags","blobs_url":"https://api.github.com/repos/itholic/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/itholic/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/itholic/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/itholic/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/itholic/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/itholic/spark/languages","stargazers_url":"https://api.github.com/repos/itholic/spark/stargazers","contributors_url":"https://api.github.com/repos/itholic/spark/contributors","subscribers_url":"https://api.github.com/repos/itholic/spark/subscribers","subscription_url":"https://api.github.com/repos/itholic/spark/subscription","commits_url":"https://api.github.com/repos/itholic/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/itholic/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/itholic/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/itholic/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/itholic/spark/contents/{+path}","compare_url":"https://api.github.com/repos/itholic/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/itholic/spark/merges","archive_url":"https://api.github.com/repos/itholic/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/itholic/spark/downloads","issues_url":"https://api.github.com/repos/itholic/spark/issues{/number}","pulls_url":"https://api.github.com/repos/itholic/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/itholic/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/itholic/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/itholic/spark/labels{/name}","releases_url":"https://api.github.com/repos/itholic/spark/releases{/id}","deployments_url":"https://api.github.com/repos/itholic/spark/deployments","created_at":"2022-01-07T06:35:10Z","updated_at":"2025-01-23T06:13:52Z","pushed_at":"2025-01-23T06:47:35Z","git_url":"git://github.com/itholic/spark.git","ssh_url":"git@github.com:itholic/spark.git","clone_url":"https://github.com/itholic/spark.git","svn_url":"https://github.com/itholic/spark","homepage":"https://spark.apache.org/","size":459393,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"5e27eec3847533c037c902f88dd3b64d5226710b","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48384"},"html":{"href":"https://github.com/apache/spark/pull/48384"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48384"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48384/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48384/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48384/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/8c24dbe583c0783a09834181cb501cb97ef2ba46"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48383","id":2112460756,"node_id":"PR_kwDOAQXtWs596ZfU","html_url":"https://github.com/apache/spark/pull/48383","diff_url":"https://github.com/apache/spark/pull/48383.diff","patch_url":"https://github.com/apache/spark/pull/48383.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48383","number":48383,"state":"closed","locked":false,"title":"[SPARK-49906][SQL] Introduce and use CONFLICTING_DIRECTORY_STRUCTURES error for PartitioningUtils","user":{"login":"vladimirg-db","id":166514719,"node_id":"U_kgDOCezQHw","avatar_url":"https://avatars.githubusercontent.com/u/166514719?v=4","gravatar_id":"","url":"https://api.github.com/users/vladimirg-db","html_url":"https://github.com/vladimirg-db","followers_url":"https://api.github.com/users/vladimirg-db/followers","following_url":"https://api.github.com/users/vladimirg-db/following{/other_user}","gists_url":"https://api.github.com/users/vladimirg-db/gists{/gist_id}","starred_url":"https://api.github.com/users/vladimirg-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vladimirg-db/subscriptions","organizations_url":"https://api.github.com/users/vladimirg-db/orgs","repos_url":"https://api.github.com/users/vladimirg-db/repos","events_url":"https://api.github.com/users/vladimirg-db/events{/privacy}","received_events_url":"https://api.github.com/users/vladimirg-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nImprove Spark user experience by introducing a new error type: `CONFLICTING_DIRECTORY_STRUCTURES` for `PartitioningUtils`.\r\n\r\n### Why are the changes needed?\r\n\r\n`PartitioningUtils.parsePartitions(...)` uses an assertion to if partitions are misconfigured. We should use a proper error type for this case.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nYes, the error will be nicer.\r\n\r\n### How was this patch tested?\r\n\r\nUpdated the existing tests.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\n`copilot.vim`.","created_at":"2024-10-08T08:08:49Z","updated_at":"2024-10-09T01:12:44Z","closed_at":"2024-10-09T01:12:44Z","merged_at":null,"merge_commit_sha":"eb2a839b18f516cc3b4d29f6bdf48d20d868d9e4","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48383/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48383/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48383/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/1fbcd6fb247bb0be98aa0d23a14d18e55bdab1ee","head":{"label":"vladimirg-db:vladimirg-db/introduce-conflicting-directory-structures-error","ref":"vladimirg-db/introduce-conflicting-directory-structures-error","sha":"1fbcd6fb247bb0be98aa0d23a14d18e55bdab1ee","user":{"login":"vladimirg-db","id":166514719,"node_id":"U_kgDOCezQHw","avatar_url":"https://avatars.githubusercontent.com/u/166514719?v=4","gravatar_id":"","url":"https://api.github.com/users/vladimirg-db","html_url":"https://github.com/vladimirg-db","followers_url":"https://api.github.com/users/vladimirg-db/followers","following_url":"https://api.github.com/users/vladimirg-db/following{/other_user}","gists_url":"https://api.github.com/users/vladimirg-db/gists{/gist_id}","starred_url":"https://api.github.com/users/vladimirg-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vladimirg-db/subscriptions","organizations_url":"https://api.github.com/users/vladimirg-db/orgs","repos_url":"https://api.github.com/users/vladimirg-db/repos","events_url":"https://api.github.com/users/vladimirg-db/events{/privacy}","received_events_url":"https://api.github.com/users/vladimirg-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":833519707,"node_id":"R_kgDOMa6AWw","name":"spark","full_name":"vladimirg-db/spark","private":false,"owner":{"login":"vladimirg-db","id":166514719,"node_id":"U_kgDOCezQHw","avatar_url":"https://avatars.githubusercontent.com/u/166514719?v=4","gravatar_id":"","url":"https://api.github.com/users/vladimirg-db","html_url":"https://github.com/vladimirg-db","followers_url":"https://api.github.com/users/vladimirg-db/followers","following_url":"https://api.github.com/users/vladimirg-db/following{/other_user}","gists_url":"https://api.github.com/users/vladimirg-db/gists{/gist_id}","starred_url":"https://api.github.com/users/vladimirg-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vladimirg-db/subscriptions","organizations_url":"https://api.github.com/users/vladimirg-db/orgs","repos_url":"https://api.github.com/users/vladimirg-db/repos","events_url":"https://api.github.com/users/vladimirg-db/events{/privacy}","received_events_url":"https://api.github.com/users/vladimirg-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/vladimirg-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/vladimirg-db/spark","forks_url":"https://api.github.com/repos/vladimirg-db/spark/forks","keys_url":"https://api.github.com/repos/vladimirg-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/vladimirg-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/vladimirg-db/spark/teams","hooks_url":"https://api.github.com/repos/vladimirg-db/spark/hooks","issue_events_url":"https://api.github.com/repos/vladimirg-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/vladimirg-db/spark/events","assignees_url":"https://api.github.com/repos/vladimirg-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/vladimirg-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/vladimirg-db/spark/tags","blobs_url":"https://api.github.com/repos/vladimirg-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/vladimirg-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/vladimirg-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/vladimirg-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/vladimirg-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/vladimirg-db/spark/languages","stargazers_url":"https://api.github.com/repos/vladimirg-db/spark/stargazers","contributors_url":"https://api.github.com/repos/vladimirg-db/spark/contributors","subscribers_url":"https://api.github.com/repos/vladimirg-db/spark/subscribers","subscription_url":"https://api.github.com/repos/vladimirg-db/spark/subscription","commits_url":"https://api.github.com/repos/vladimirg-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/vladimirg-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/vladimirg-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/vladimirg-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/vladimirg-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/vladimirg-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/vladimirg-db/spark/merges","archive_url":"https://api.github.com/repos/vladimirg-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/vladimirg-db/spark/downloads","issues_url":"https://api.github.com/repos/vladimirg-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/vladimirg-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/vladimirg-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/vladimirg-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/vladimirg-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/vladimirg-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/vladimirg-db/spark/deployments","created_at":"2024-07-25T08:13:07Z","updated_at":"2025-02-09T11:09:18Z","pushed_at":"2025-02-09T15:06:47Z","git_url":"git://github.com/vladimirg-db/spark.git","ssh_url":"git@github.com:vladimirg-db/spark.git","clone_url":"https://github.com/vladimirg-db/spark.git","svn_url":"https://github.com/vladimirg-db/spark","homepage":"https://spark.apache.org/","size":424040,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"78135dc204e4fc18829a3698f1f253f90b7da301","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48383"},"html":{"href":"https://github.com/apache/spark/pull/48383"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48383"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48383/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48383/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48383/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/1fbcd6fb247bb0be98aa0d23a14d18e55bdab1ee"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48382","id":2112432317,"node_id":"PR_kwDOAQXtWs596Si9","html_url":"https://github.com/apache/spark/pull/48382","diff_url":"https://github.com/apache/spark/pull/48382.diff","patch_url":"https://github.com/apache/spark/pull/48382.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48382","number":48382,"state":"closed","locked":false,"title":"[SPARK-49905][SQL][SS] Use different ShuffleOrigin for the shuffle required from stateful operators","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR proposes to use different ShuffleOrigin for the shuffle required from stateful operators. \r\n\r\nSpark has been using ENSURE_REQUIREMENTS as ShuffleOrigin which is open for optimization e.g. AQE can adjust the shuffle spec. Quoting the code of ENSURE_REQUIREMENTS:\r\n\r\n```\r\n// Indicates that the shuffle operator was added by the internal `EnsureRequirements` rule. It\r\n// means that the shuffle operator is used to ensure internal data partitioning requirements and\r\n// Spark is free to optimize it as long as the requirements are still ensured.\r\ncase object ENSURE_REQUIREMENTS extends ShuffleOrigin\r\n```\r\n\r\nBut the distribution requirement for stateful operators is lot more strict - it has to use the all expressions to calculate the hash (for partitioning) and the number of shuffle partitions must be the same with the spec. This is because stateful operator assumes that there is 1:1 mapping between the partition for the operator and the \"physical\" partition for checkpointed state. That said, it is fragile if we allow any optimization to be made against shuffle for stateful operator.\r\n\r\nTo prevent this, this PR introduces a new ShuffleOrigin with note that the shuffle is not expected to be \"modified\".\r\n\r\n### Why are the changes needed?\r\n\r\nThis exposes a possibility of broken state based on the contract. We introduced StatefulOpClusteredDistribution in similar reason.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nNew UT added.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.","created_at":"2024-10-08T07:53:26Z","updated_at":"2024-10-10T00:52:09Z","closed_at":"2024-10-10T00:52:09Z","merged_at":null,"merge_commit_sha":"f89dd38498e05d2586422521f9aa29384f01b040","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48382/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48382/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48382/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/4151e40811f6a87422838fecda48fe6ce87c1038","head":{"label":"HeartSaVioR:SPARK-49905","ref":"SPARK-49905","sha":"4151e40811f6a87422838fecda48fe6ce87c1038","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":27994296,"node_id":"MDEwOlJlcG9zaXRvcnkyNzk5NDI5Ng==","name":"spark","full_name":"HeartSaVioR/spark","private":false,"owner":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HeartSaVioR/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HeartSaVioR/spark","forks_url":"https://api.github.com/repos/HeartSaVioR/spark/forks","keys_url":"https://api.github.com/repos/HeartSaVioR/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HeartSaVioR/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HeartSaVioR/spark/teams","hooks_url":"https://api.github.com/repos/HeartSaVioR/spark/hooks","issue_events_url":"https://api.github.com/repos/HeartSaVioR/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HeartSaVioR/spark/events","assignees_url":"https://api.github.com/repos/HeartSaVioR/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HeartSaVioR/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HeartSaVioR/spark/tags","blobs_url":"https://api.github.com/repos/HeartSaVioR/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HeartSaVioR/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HeartSaVioR/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HeartSaVioR/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HeartSaVioR/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HeartSaVioR/spark/languages","stargazers_url":"https://api.github.com/repos/HeartSaVioR/spark/stargazers","contributors_url":"https://api.github.com/repos/HeartSaVioR/spark/contributors","subscribers_url":"https://api.github.com/repos/HeartSaVioR/spark/subscribers","subscription_url":"https://api.github.com/repos/HeartSaVioR/spark/subscription","commits_url":"https://api.github.com/repos/HeartSaVioR/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HeartSaVioR/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HeartSaVioR/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HeartSaVioR/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HeartSaVioR/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HeartSaVioR/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HeartSaVioR/spark/merges","archive_url":"https://api.github.com/repos/HeartSaVioR/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HeartSaVioR/spark/downloads","issues_url":"https://api.github.com/repos/HeartSaVioR/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HeartSaVioR/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HeartSaVioR/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HeartSaVioR/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HeartSaVioR/spark/labels{/name}","releases_url":"https://api.github.com/repos/HeartSaVioR/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HeartSaVioR/spark/deployments","created_at":"2014-12-14T12:56:04Z","updated_at":"2024-10-21T04:36:36Z","pushed_at":"2025-01-08T06:13:27Z","git_url":"git://github.com/HeartSaVioR/spark.git","ssh_url":"git@github.com:HeartSaVioR/spark.git","clone_url":"https://github.com/HeartSaVioR/spark.git","svn_url":"https://github.com/HeartSaVioR/spark","homepage":null,"size":456164,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":1,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"78135dc204e4fc18829a3698f1f253f90b7da301","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48382"},"html":{"href":"https://github.com/apache/spark/pull/48382"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48382"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48382/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48382/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48382/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/4151e40811f6a87422838fecda48fe6ce87c1038"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48381","id":2112129989,"node_id":"PR_kwDOAQXtWs595IvF","html_url":"https://github.com/apache/spark/pull/48381","diff_url":"https://github.com/apache/spark/pull/48381.diff","patch_url":"https://github.com/apache/spark/pull/48381.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48381","number":48381,"state":"closed","locked":false,"title":"[SPARK-49904][SQL] Assign proper error condition for _LEGACY_ERROR_TEMP_2140","user":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis PR proposes to assign proper error condition & sqlstate for _LEGACY_ERROR_TEMP_2140\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nTo improve the error message by assigning proper error condition and SQLSTATE\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo, only user-facing error message improved\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUpdated the existing tests\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo\r\n","created_at":"2024-10-08T04:15:07Z","updated_at":"2024-10-14T07:22:42Z","closed_at":"2024-10-14T07:22:42Z","merged_at":null,"merge_commit_sha":"17ff6428e02f258cec44c47479a31c49ed41386b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48381/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48381/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48381/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/c0839baaf96f0fa7b610936e636a2271907ddbd2","head":{"label":"itholic:legacy_2140","ref":"legacy_2140","sha":"c0839baaf96f0fa7b610936e636a2271907ddbd2","user":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":445423122,"node_id":"R_kgDOGoyeEg","name":"spark","full_name":"itholic/spark","private":false,"owner":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/itholic/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/itholic/spark","forks_url":"https://api.github.com/repos/itholic/spark/forks","keys_url":"https://api.github.com/repos/itholic/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/itholic/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/itholic/spark/teams","hooks_url":"https://api.github.com/repos/itholic/spark/hooks","issue_events_url":"https://api.github.com/repos/itholic/spark/issues/events{/number}","events_url":"https://api.github.com/repos/itholic/spark/events","assignees_url":"https://api.github.com/repos/itholic/spark/assignees{/user}","branches_url":"https://api.github.com/repos/itholic/spark/branches{/branch}","tags_url":"https://api.github.com/repos/itholic/spark/tags","blobs_url":"https://api.github.com/repos/itholic/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/itholic/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/itholic/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/itholic/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/itholic/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/itholic/spark/languages","stargazers_url":"https://api.github.com/repos/itholic/spark/stargazers","contributors_url":"https://api.github.com/repos/itholic/spark/contributors","subscribers_url":"https://api.github.com/repos/itholic/spark/subscribers","subscription_url":"https://api.github.com/repos/itholic/spark/subscription","commits_url":"https://api.github.com/repos/itholic/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/itholic/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/itholic/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/itholic/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/itholic/spark/contents/{+path}","compare_url":"https://api.github.com/repos/itholic/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/itholic/spark/merges","archive_url":"https://api.github.com/repos/itholic/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/itholic/spark/downloads","issues_url":"https://api.github.com/repos/itholic/spark/issues{/number}","pulls_url":"https://api.github.com/repos/itholic/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/itholic/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/itholic/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/itholic/spark/labels{/name}","releases_url":"https://api.github.com/repos/itholic/spark/releases{/id}","deployments_url":"https://api.github.com/repos/itholic/spark/deployments","created_at":"2022-01-07T06:35:10Z","updated_at":"2025-01-23T06:13:52Z","pushed_at":"2025-01-23T06:47:35Z","git_url":"git://github.com/itholic/spark.git","ssh_url":"git@github.com:itholic/spark.git","clone_url":"https://github.com/itholic/spark.git","svn_url":"https://github.com/itholic/spark","homepage":"https://spark.apache.org/","size":459393,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1abfd490d072850ae40c46c1a0f1791a8aaa5698","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48381"},"html":{"href":"https://github.com/apache/spark/pull/48381"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48381"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48381/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48381/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48381/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/c0839baaf96f0fa7b610936e636a2271907ddbd2"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48380","id":2112052004,"node_id":"PR_kwDOAQXtWs5941sk","html_url":"https://github.com/apache/spark/pull/48380","diff_url":"https://github.com/apache/spark/pull/48380.diff","patch_url":"https://github.com/apache/spark/pull/48380.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48380","number":48380,"state":"closed","locked":false,"title":"[SPARK-49936][BUILD] Upgrade `datasketches-java` to 6.1.1","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis pr aims to upgrade `datasketches-java` from 6.0.0 to 6.1.1.\r\n\r\n### Why are the changes needed?\r\nThe new version is now dependent on `datasketches-memory` 3.x. The full release notes as follows:\r\n- https://github.com/apache/datasketches-java/releases/tag/6.1.0\r\n- https://github.com/apache/datasketches-java/releases/tag/6.1.1\r\n- https://github.com/apache/datasketches-memory/releases/tag/3.0.0\r\n- https://github.com/apache/datasketches-memory/releases/tag/3.0.1\r\n- https://github.com/apache/datasketches-memory/releases/tag/3.0.2\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nPass GitHub Actions\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo","created_at":"2024-10-08T02:44:17Z","updated_at":"2024-10-20T10:35:12Z","closed_at":"2024-10-17T15:56:39Z","merged_at":null,"merge_commit_sha":"15df9cf79f38cb5fb5d12c5f917713e6c07efc47","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48380/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48380/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48380/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/ed065b49519f6ce37ff73d3c21091553a66017e8","head":{"label":"LuciferYang:test-dm-3.0.2","ref":"test-dm-3.0.2","sha":"ed065b49519f6ce37ff73d3c21091553a66017e8","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"6734d4883e76b82249df5c151d42bc83173f4122","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48380"},"html":{"href":"https://github.com/apache/spark/pull/48380"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48380"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48380/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48380/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48380/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/ed065b49519f6ce37ff73d3c21091553a66017e8"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48379","id":2112015861,"node_id":"PR_kwDOAQXtWs594s31","html_url":"https://github.com/apache/spark/pull/48379","diff_url":"https://github.com/apache/spark/pull/48379.diff","patch_url":"https://github.com/apache/spark/pull/48379.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48379","number":48379,"state":"closed","locked":false,"title":"[SPARK-49902][SQL] Catch underlying runtime errors in `RegExpReplace`","user":{"login":"harshmotw-db","id":137231545,"node_id":"U_kgDOCC38uQ","avatar_url":"https://avatars.githubusercontent.com/u/137231545?v=4","gravatar_id":"","url":"https://api.github.com/users/harshmotw-db","html_url":"https://github.com/harshmotw-db","followers_url":"https://api.github.com/users/harshmotw-db/followers","following_url":"https://api.github.com/users/harshmotw-db/following{/other_user}","gists_url":"https://api.github.com/users/harshmotw-db/gists{/gist_id}","starred_url":"https://api.github.com/users/harshmotw-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshmotw-db/subscriptions","organizations_url":"https://api.github.com/users/harshmotw-db/orgs","repos_url":"https://api.github.com/users/harshmotw-db/repos","events_url":"https://api.github.com/users/harshmotw-db/events{/privacy}","received_events_url":"https://api.github.com/users/harshmotw-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n\r\nEarlier, runtime errors in underlying libraries were not caught during runtime in the RegExpReplace expression. The underlying errors were thrown directly to the user. For example, it wouldn't be uncommon to see issues like `java.lang.IndexOutOfBoundsException: No group 3`. This PR introduces a change to catch these underlying issues and throw a SparkException instead which details the input on which the exception failed. The new Spark Exception looks something like `org.apache.spark.SparkException: Could not perform regexp_replace for source = <source>, pattern = \r\n<pattern>, replacement = <replacement> and position = <position>`.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nTwo reasons. First, the new exception details which row the given error occurred on, which makes it easier for the user to debug the query or Spark developers to identify bugs. Second, a Spark Exception is generally considered expected behavior indicating that there were no unintended issues in the query's execution.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes, a better exception is thrown when RegExpReplace fails.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUnit test in both codegen as well as interpreted mode.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo.","created_at":"2024-10-08T01:56:54Z","updated_at":"2024-10-23T10:02:14Z","closed_at":"2024-10-23T10:02:14Z","merged_at":null,"merge_commit_sha":"c814a533e1dd36335f279e5996d27fb2482bcee3","assignee":null,"assignees":[],"requested_reviewers":[{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48379/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48379/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48379/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/c488a055d3176b67cab0584ffa0a9032d18907fa","head":{"label":"harshmotw-db:harshmotw-db/regexp_replace_fix","ref":"harshmotw-db/regexp_replace_fix","sha":"c488a055d3176b67cab0584ffa0a9032d18907fa","user":{"login":"harshmotw-db","id":137231545,"node_id":"U_kgDOCC38uQ","avatar_url":"https://avatars.githubusercontent.com/u/137231545?v=4","gravatar_id":"","url":"https://api.github.com/users/harshmotw-db","html_url":"https://github.com/harshmotw-db","followers_url":"https://api.github.com/users/harshmotw-db/followers","following_url":"https://api.github.com/users/harshmotw-db/following{/other_user}","gists_url":"https://api.github.com/users/harshmotw-db/gists{/gist_id}","starred_url":"https://api.github.com/users/harshmotw-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshmotw-db/subscriptions","organizations_url":"https://api.github.com/users/harshmotw-db/orgs","repos_url":"https://api.github.com/users/harshmotw-db/repos","events_url":"https://api.github.com/users/harshmotw-db/events{/privacy}","received_events_url":"https://api.github.com/users/harshmotw-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":667542123,"node_id":"R_kgDOJ8niaw","name":"spark","full_name":"harshmotw-db/spark","private":false,"owner":{"login":"harshmotw-db","id":137231545,"node_id":"U_kgDOCC38uQ","avatar_url":"https://avatars.githubusercontent.com/u/137231545?v=4","gravatar_id":"","url":"https://api.github.com/users/harshmotw-db","html_url":"https://github.com/harshmotw-db","followers_url":"https://api.github.com/users/harshmotw-db/followers","following_url":"https://api.github.com/users/harshmotw-db/following{/other_user}","gists_url":"https://api.github.com/users/harshmotw-db/gists{/gist_id}","starred_url":"https://api.github.com/users/harshmotw-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshmotw-db/subscriptions","organizations_url":"https://api.github.com/users/harshmotw-db/orgs","repos_url":"https://api.github.com/users/harshmotw-db/repos","events_url":"https://api.github.com/users/harshmotw-db/events{/privacy}","received_events_url":"https://api.github.com/users/harshmotw-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/harshmotw-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/harshmotw-db/spark","forks_url":"https://api.github.com/repos/harshmotw-db/spark/forks","keys_url":"https://api.github.com/repos/harshmotw-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/harshmotw-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/harshmotw-db/spark/teams","hooks_url":"https://api.github.com/repos/harshmotw-db/spark/hooks","issue_events_url":"https://api.github.com/repos/harshmotw-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/harshmotw-db/spark/events","assignees_url":"https://api.github.com/repos/harshmotw-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/harshmotw-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/harshmotw-db/spark/tags","blobs_url":"https://api.github.com/repos/harshmotw-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/harshmotw-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/harshmotw-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/harshmotw-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/harshmotw-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/harshmotw-db/spark/languages","stargazers_url":"https://api.github.com/repos/harshmotw-db/spark/stargazers","contributors_url":"https://api.github.com/repos/harshmotw-db/spark/contributors","subscribers_url":"https://api.github.com/repos/harshmotw-db/spark/subscribers","subscription_url":"https://api.github.com/repos/harshmotw-db/spark/subscription","commits_url":"https://api.github.com/repos/harshmotw-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/harshmotw-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/harshmotw-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/harshmotw-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/harshmotw-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/harshmotw-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/harshmotw-db/spark/merges","archive_url":"https://api.github.com/repos/harshmotw-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/harshmotw-db/spark/downloads","issues_url":"https://api.github.com/repos/harshmotw-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/harshmotw-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/harshmotw-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/harshmotw-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/harshmotw-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/harshmotw-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/harshmotw-db/spark/deployments","created_at":"2023-07-17T18:39:49Z","updated_at":"2025-01-27T21:14:44Z","pushed_at":"2025-02-08T03:09:45Z","git_url":"git://github.com/harshmotw-db/spark.git","ssh_url":"git@github.com:harshmotw-db/spark.git","clone_url":"https://github.com/harshmotw-db/spark.git","svn_url":"https://github.com/harshmotw-db/spark","homepage":"https://spark.apache.org/","size":422851,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c6b09c0b71e772de0605a555df9e78cbc4439ed6","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48379"},"html":{"href":"https://github.com/apache/spark/pull/48379"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48379"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48379/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48379/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48379/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/c488a055d3176b67cab0584ffa0a9032d18907fa"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48378","id":2112013725,"node_id":"PR_kwDOAQXtWs594sWd","html_url":"https://github.com/apache/spark/pull/48378","diff_url":"https://github.com/apache/spark/pull/48378.diff","patch_url":"https://github.com/apache/spark/pull/48378.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48378","number":48378,"state":"closed","locked":false,"title":"[SPARK-49903][BUILD] Upgrade `Parquet` to 1.14.3","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to upgrade `Parquet` from `1.14.2` to `1.14.3`.\r\n\r\n\r\n### Why are the changes needed?\r\nThe full release notes: https://github.com/apache/parquet-java/releases/tag/apache-parquet-1.14.3\r\nhttps://github.com/apache/parquet-java/issues/3007: Ensure version specific Jackson classes are shaded\r\nhttps://github.com/apache/parquet-java/issues/3013: Fix potential ClassCastException at reading DELTA_BYTE_ARRAY encoding\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nPass GA.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-08T01:53:52Z","updated_at":"2024-10-09T01:33:32Z","closed_at":"2024-10-08T15:39:31Z","merged_at":null,"merge_commit_sha":"f9482dbe794cf99873322546ea91727db2ba6f6b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48378/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48378/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48378/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/95deba994891b06744676b82784b85eeea5c88db","head":{"label":"panbingkun:SPARK-49903","ref":"SPARK-49903","sha":"95deba994891b06744676b82784b85eeea5c88db","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c6b09c0b71e772de0605a555df9e78cbc4439ed6","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48378"},"html":{"href":"https://github.com/apache/spark/pull/48378"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48378"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48378/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48378/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48378/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/95deba994891b06744676b82784b85eeea5c88db"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48377","id":2112006232,"node_id":"PR_kwDOAQXtWs594qhY","html_url":"https://github.com/apache/spark/pull/48377","diff_url":"https://github.com/apache/spark/pull/48377.diff","patch_url":"https://github.com/apache/spark/pull/48377.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48377","number":48377,"state":"closed","locked":false,"title":"[SPARK-49901][BUILD] Upgrade dropwizard metrics to 4.2.28","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis pr aims to upgrade `dropwizard metrics` from `4.2.27` to  `4.2.28`.\r\n\r\n\r\n### Why are the changes needed?\r\nv4.2.127 VS v.4.2.28\r\nhttps://github.com/dropwizard/metrics/compare/v4.2.27...v4.2.28\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nPass GA.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-08T01:43:16Z","updated_at":"2024-10-08T15:42:25Z","closed_at":"2024-10-08T15:42:25Z","merged_at":null,"merge_commit_sha":"590e1c697754dc503287b752a542b531e44f4324","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48377/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48377/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48377/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/e986617c8dc5233c62a7ef2077665b508079f79a","head":{"label":"panbingkun:SPARK-49901","ref":"SPARK-49901","sha":"e986617c8dc5233c62a7ef2077665b508079f79a","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c6b09c0b71e772de0605a555df9e78cbc4439ed6","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48377"},"html":{"href":"https://github.com/apache/spark/pull/48377"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48377"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48377/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48377/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48377/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/e986617c8dc5233c62a7ef2077665b508079f79a"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48376","id":2111924497,"node_id":"PR_kwDOAQXtWs594WkR","html_url":"https://github.com/apache/spark/pull/48376","diff_url":"https://github.com/apache/spark/pull/48376.diff","patch_url":"https://github.com/apache/spark/pull/48376.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48376","number":48376,"state":"closed","locked":false,"title":"[SPARK-49022][CONNECT][SQL][FOLLOW-UP] Parse unresolved identifier to keep the behavior same","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR is a followup of https://github.com/apache/spark/pull/47688 that keeps `Column.toString` as the same before.\r\n\r\n### Why are the changes needed?\r\n\r\nTo keep the same behaviour with Spark Classic and Connect.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo, the main change has not been released out yet.\r\n\r\n### How was this patch tested?\r\n\r\nWill be added separately. I manually tested:\r\n\r\n```scala\r\nimport org.apache.spark.sql.functions.col\r\nval name = \"with`!@#$%dot\".replace(\"`\", \"``\")\r\ncol(s\"`${name}`\").toString.equals(\"with`!@#$%dot\")\r\n```\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.","created_at":"2024-10-07T23:54:29Z","updated_at":"2024-10-09T02:35:13Z","closed_at":"2024-10-09T02:35:13Z","merged_at":null,"merge_commit_sha":"d706543673a5a98ea001a4396e67d493e3d2e3b4","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48376/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48376/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48376/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/2ad70f4bf6a8890831706e28bf86bdbd89d5fe7a","head":{"label":"HyukjinKwon:SPARK-49022-followup","ref":"SPARK-49022-followup","sha":"2ad70f4bf6a8890831706e28bf86bdbd89d5fe7a","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"78135dc204e4fc18829a3698f1f253f90b7da301","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48376"},"html":{"href":"https://github.com/apache/spark/pull/48376"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48376"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48376/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48376/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48376/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/2ad70f4bf6a8890831706e28bf86bdbd89d5fe7a"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48375","id":2111679326,"node_id":"PR_kwDOAQXtWs593ate","html_url":"https://github.com/apache/spark/pull/48375","diff_url":"https://github.com/apache/spark/pull/48375.diff","patch_url":"https://github.com/apache/spark/pull/48375.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48375","number":48375,"state":"closed","locked":false,"title":"[SPARK-49852][SQL] Fix deadlock caused by explain string generation","user":{"login":"liuzqt","id":22358241,"node_id":"MDQ6VXNlcjIyMzU4MjQx","avatar_url":"https://avatars.githubusercontent.com/u/22358241?v=4","gravatar_id":"","url":"https://api.github.com/users/liuzqt","html_url":"https://github.com/liuzqt","followers_url":"https://api.github.com/users/liuzqt/followers","following_url":"https://api.github.com/users/liuzqt/following{/other_user}","gists_url":"https://api.github.com/users/liuzqt/gists{/gist_id}","starred_url":"https://api.github.com/users/liuzqt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuzqt/subscriptions","organizations_url":"https://api.github.com/users/liuzqt/orgs","repos_url":"https://api.github.com/users/liuzqt/repos","events_url":"https://api.github.com/users/liuzqt/events{/privacy}","received_events_url":"https://api.github.com/users/liuzqt/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nReplace `TreeNode.allChildren` with identity map (which was `Set` previously) to avoid hashcode lazy evalution.\r\n\r\n\r\n### Why are the changes needed?\r\n\r\nWe hit a deadlock between shuffle dependency initialization and explain string generation, in which both code paths trigger lazy variable instantiation while visiting some tree nodes in different orders and thus acquiring object locks in a reversed order.\r\n\r\nThe hashcode of plan node is implemented as lazy val. So the fix is to remove hash code computation from explain string generation so to break the chain of lazy variable instantiation.\r\n\r\n`TreeNode.allChildren` is only used in explain string generation and only require identity equality. This should be also a small perforamance improvement BTW.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNO\r\n\r\n\r\n### How was this patch tested?\r\nCurrent UTs\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNO\r\n","created_at":"2024-10-07T20:42:26Z","updated_at":"2024-10-08T00:24:34Z","closed_at":"2024-10-08T00:24:34Z","merged_at":null,"merge_commit_sha":"a3895451f32d680540a212eb44b52d77684aee93","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48375/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48375/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48375/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9a0726383cb943c5978089ab1ed874fe3e50d865","head":{"label":"liuzqt:SPARK-49852","ref":"SPARK-49852","sha":"9a0726383cb943c5978089ab1ed874fe3e50d865","user":{"login":"liuzqt","id":22358241,"node_id":"MDQ6VXNlcjIyMzU4MjQx","avatar_url":"https://avatars.githubusercontent.com/u/22358241?v=4","gravatar_id":"","url":"https://api.github.com/users/liuzqt","html_url":"https://github.com/liuzqt","followers_url":"https://api.github.com/users/liuzqt/followers","following_url":"https://api.github.com/users/liuzqt/following{/other_user}","gists_url":"https://api.github.com/users/liuzqt/gists{/gist_id}","starred_url":"https://api.github.com/users/liuzqt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuzqt/subscriptions","organizations_url":"https://api.github.com/users/liuzqt/orgs","repos_url":"https://api.github.com/users/liuzqt/repos","events_url":"https://api.github.com/users/liuzqt/events{/privacy}","received_events_url":"https://api.github.com/users/liuzqt/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":511387078,"node_id":"R_kgDOHnslxg","name":"spark","full_name":"liuzqt/spark","private":false,"owner":{"login":"liuzqt","id":22358241,"node_id":"MDQ6VXNlcjIyMzU4MjQx","avatar_url":"https://avatars.githubusercontent.com/u/22358241?v=4","gravatar_id":"","url":"https://api.github.com/users/liuzqt","html_url":"https://github.com/liuzqt","followers_url":"https://api.github.com/users/liuzqt/followers","following_url":"https://api.github.com/users/liuzqt/following{/other_user}","gists_url":"https://api.github.com/users/liuzqt/gists{/gist_id}","starred_url":"https://api.github.com/users/liuzqt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuzqt/subscriptions","organizations_url":"https://api.github.com/users/liuzqt/orgs","repos_url":"https://api.github.com/users/liuzqt/repos","events_url":"https://api.github.com/users/liuzqt/events{/privacy}","received_events_url":"https://api.github.com/users/liuzqt/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/liuzqt/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/liuzqt/spark","forks_url":"https://api.github.com/repos/liuzqt/spark/forks","keys_url":"https://api.github.com/repos/liuzqt/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/liuzqt/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/liuzqt/spark/teams","hooks_url":"https://api.github.com/repos/liuzqt/spark/hooks","issue_events_url":"https://api.github.com/repos/liuzqt/spark/issues/events{/number}","events_url":"https://api.github.com/repos/liuzqt/spark/events","assignees_url":"https://api.github.com/repos/liuzqt/spark/assignees{/user}","branches_url":"https://api.github.com/repos/liuzqt/spark/branches{/branch}","tags_url":"https://api.github.com/repos/liuzqt/spark/tags","blobs_url":"https://api.github.com/repos/liuzqt/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/liuzqt/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/liuzqt/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/liuzqt/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/liuzqt/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/liuzqt/spark/languages","stargazers_url":"https://api.github.com/repos/liuzqt/spark/stargazers","contributors_url":"https://api.github.com/repos/liuzqt/spark/contributors","subscribers_url":"https://api.github.com/repos/liuzqt/spark/subscribers","subscription_url":"https://api.github.com/repos/liuzqt/spark/subscription","commits_url":"https://api.github.com/repos/liuzqt/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/liuzqt/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/liuzqt/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/liuzqt/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/liuzqt/spark/contents/{+path}","compare_url":"https://api.github.com/repos/liuzqt/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/liuzqt/spark/merges","archive_url":"https://api.github.com/repos/liuzqt/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/liuzqt/spark/downloads","issues_url":"https://api.github.com/repos/liuzqt/spark/issues{/number}","pulls_url":"https://api.github.com/repos/liuzqt/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/liuzqt/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/liuzqt/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/liuzqt/spark/labels{/name}","releases_url":"https://api.github.com/repos/liuzqt/spark/releases{/id}","deployments_url":"https://api.github.com/repos/liuzqt/spark/deployments","created_at":"2022-07-07T04:52:17Z","updated_at":"2025-02-05T00:04:25Z","pushed_at":"2025-02-08T18:31:14Z","git_url":"git://github.com/liuzqt/spark.git","ssh_url":"git@github.com:liuzqt/spark.git","clone_url":"https://github.com/liuzqt/spark.git","svn_url":"https://github.com/liuzqt/spark","homepage":"https://spark.apache.org/","size":470204,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"724e1bf6b5bdec9791357b63047c96266938565c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48375"},"html":{"href":"https://github.com/apache/spark/pull/48375"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48375"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48375/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48375/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48375/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9a0726383cb943c5978089ab1ed874fe3e50d865"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48374","id":2111627879,"node_id":"PR_kwDOAQXtWs593OJn","html_url":"https://github.com/apache/spark/pull/48374","diff_url":"https://github.com/apache/spark/pull/48374.diff","patch_url":"https://github.com/apache/spark/pull/48374.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48374","number":48374,"state":"closed","locked":false,"title":"[SPARK-49418][CONNECT][SQL] Shared Session Thread Locals","user":{"login":"hvanhovell","id":9616802,"node_id":"MDQ6VXNlcjk2MTY4MDI=","avatar_url":"https://avatars.githubusercontent.com/u/9616802?v=4","gravatar_id":"","url":"https://api.github.com/users/hvanhovell","html_url":"https://github.com/hvanhovell","followers_url":"https://api.github.com/users/hvanhovell/followers","following_url":"https://api.github.com/users/hvanhovell/following{/other_user}","gists_url":"https://api.github.com/users/hvanhovell/gists{/gist_id}","starred_url":"https://api.github.com/users/hvanhovell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hvanhovell/subscriptions","organizations_url":"https://api.github.com/users/hvanhovell/orgs","repos_url":"https://api.github.com/users/hvanhovell/repos","events_url":"https://api.github.com/users/hvanhovell/events{/privacy}","received_events_url":"https://api.github.com/users/hvanhovell/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis PR adds interfaces for SparkSession Thread Locals.\r\n\r\n\r\n### Why are the changes needed?\r\nWe are creating a unified Spark SQL Scala interface. This is part of that effort.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nExisting tests.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-10-07T20:07:03Z","updated_at":"2024-10-09T12:58:16Z","closed_at":"2024-10-09T12:58:16Z","merged_at":null,"merge_commit_sha":"6a7f9b3661c70545059186b6af8f7344acd8ee4b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48374/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48374/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48374/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/bac01c2df25bf485f6a78c9991d2f4e4676d3348","head":{"label":"hvanhovell:SPARK-49418","ref":"SPARK-49418","sha":"bac01c2df25bf485f6a78c9991d2f4e4676d3348","user":{"login":"hvanhovell","id":9616802,"node_id":"MDQ6VXNlcjk2MTY4MDI=","avatar_url":"https://avatars.githubusercontent.com/u/9616802?v=4","gravatar_id":"","url":"https://api.github.com/users/hvanhovell","html_url":"https://github.com/hvanhovell","followers_url":"https://api.github.com/users/hvanhovell/followers","following_url":"https://api.github.com/users/hvanhovell/following{/other_user}","gists_url":"https://api.github.com/users/hvanhovell/gists{/gist_id}","starred_url":"https://api.github.com/users/hvanhovell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hvanhovell/subscriptions","organizations_url":"https://api.github.com/users/hvanhovell/orgs","repos_url":"https://api.github.com/users/hvanhovell/repos","events_url":"https://api.github.com/users/hvanhovell/events{/privacy}","received_events_url":"https://api.github.com/users/hvanhovell/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":35900688,"node_id":"MDEwOlJlcG9zaXRvcnkzNTkwMDY4OA==","name":"spark","full_name":"hvanhovell/spark","private":false,"owner":{"login":"hvanhovell","id":9616802,"node_id":"MDQ6VXNlcjk2MTY4MDI=","avatar_url":"https://avatars.githubusercontent.com/u/9616802?v=4","gravatar_id":"","url":"https://api.github.com/users/hvanhovell","html_url":"https://github.com/hvanhovell","followers_url":"https://api.github.com/users/hvanhovell/followers","following_url":"https://api.github.com/users/hvanhovell/following{/other_user}","gists_url":"https://api.github.com/users/hvanhovell/gists{/gist_id}","starred_url":"https://api.github.com/users/hvanhovell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hvanhovell/subscriptions","organizations_url":"https://api.github.com/users/hvanhovell/orgs","repos_url":"https://api.github.com/users/hvanhovell/repos","events_url":"https://api.github.com/users/hvanhovell/events{/privacy}","received_events_url":"https://api.github.com/users/hvanhovell/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/hvanhovell/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/hvanhovell/spark","forks_url":"https://api.github.com/repos/hvanhovell/spark/forks","keys_url":"https://api.github.com/repos/hvanhovell/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/hvanhovell/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/hvanhovell/spark/teams","hooks_url":"https://api.github.com/repos/hvanhovell/spark/hooks","issue_events_url":"https://api.github.com/repos/hvanhovell/spark/issues/events{/number}","events_url":"https://api.github.com/repos/hvanhovell/spark/events","assignees_url":"https://api.github.com/repos/hvanhovell/spark/assignees{/user}","branches_url":"https://api.github.com/repos/hvanhovell/spark/branches{/branch}","tags_url":"https://api.github.com/repos/hvanhovell/spark/tags","blobs_url":"https://api.github.com/repos/hvanhovell/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/hvanhovell/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/hvanhovell/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/hvanhovell/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/hvanhovell/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/hvanhovell/spark/languages","stargazers_url":"https://api.github.com/repos/hvanhovell/spark/stargazers","contributors_url":"https://api.github.com/repos/hvanhovell/spark/contributors","subscribers_url":"https://api.github.com/repos/hvanhovell/spark/subscribers","subscription_url":"https://api.github.com/repos/hvanhovell/spark/subscription","commits_url":"https://api.github.com/repos/hvanhovell/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/hvanhovell/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/hvanhovell/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/hvanhovell/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/hvanhovell/spark/contents/{+path}","compare_url":"https://api.github.com/repos/hvanhovell/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/hvanhovell/spark/merges","archive_url":"https://api.github.com/repos/hvanhovell/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/hvanhovell/spark/downloads","issues_url":"https://api.github.com/repos/hvanhovell/spark/issues{/number}","pulls_url":"https://api.github.com/repos/hvanhovell/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/hvanhovell/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/hvanhovell/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/hvanhovell/spark/labels{/name}","releases_url":"https://api.github.com/repos/hvanhovell/spark/releases{/id}","deployments_url":"https://api.github.com/repos/hvanhovell/spark/deployments","created_at":"2015-05-19T18:29:31Z","updated_at":"2024-11-14T19:45:14Z","pushed_at":"2025-02-06T16:48:48Z","git_url":"git://github.com/hvanhovell/spark.git","ssh_url":"git@github.com:hvanhovell/spark.git","clone_url":"https://github.com/hvanhovell/spark.git","svn_url":"https://github.com/hvanhovell/spark","homepage":null,"size":447542,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"5e27eec3847533c037c902f88dd3b64d5226710b","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48374"},"html":{"href":"https://github.com/apache/spark/pull/48374"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48374"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48374/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48374/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48374/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/bac01c2df25bf485f6a78c9991d2f4e4676d3348"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48373","id":2111494294,"node_id":"PR_kwDOAQXtWs592tiW","html_url":"https://github.com/apache/spark/pull/48373","diff_url":"https://github.com/apache/spark/pull/48373.diff","patch_url":"https://github.com/apache/spark/pull/48373.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48373","number":48373,"state":"closed","locked":false,"title":"[SPARK-49899][PYTHON][SS] Support deleteIfExists for TransformWithStateInPandas","user":{"login":"bogao007","id":109614351,"node_id":"U_kgDOBoiVDw","avatar_url":"https://avatars.githubusercontent.com/u/109614351?v=4","gravatar_id":"","url":"https://api.github.com/users/bogao007","html_url":"https://github.com/bogao007","followers_url":"https://api.github.com/users/bogao007/followers","following_url":"https://api.github.com/users/bogao007/following{/other_user}","gists_url":"https://api.github.com/users/bogao007/gists{/gist_id}","starred_url":"https://api.github.com/users/bogao007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bogao007/subscriptions","organizations_url":"https://api.github.com/users/bogao007/orgs","repos_url":"https://api.github.com/users/bogao007/repos","events_url":"https://api.github.com/users/bogao007/events{/privacy}","received_events_url":"https://api.github.com/users/bogao007/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n- Support deleteIfExists for TransformWithStateInPandas.\r\n- Added `close()` support for StatefulProcessor.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nAdd parity to TransformWithStateInPandas for functionalities we support in TransformWithState\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nNew unit test.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo","created_at":"2024-10-07T18:48:45Z","updated_at":"2024-11-08T08:57:42Z","closed_at":"2024-11-08T08:57:42Z","merged_at":null,"merge_commit_sha":"e8f2d10fda25cf9bd618ab34f6a71ec6494e102f","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48373/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48373/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48373/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/2044047acb7113043acd12a56806211477bc1deb","head":{"label":"bogao007:delete-if-exists","ref":"delete-if-exists","sha":"2044047acb7113043acd12a56806211477bc1deb","user":{"login":"bogao007","id":109614351,"node_id":"U_kgDOBoiVDw","avatar_url":"https://avatars.githubusercontent.com/u/109614351?v=4","gravatar_id":"","url":"https://api.github.com/users/bogao007","html_url":"https://github.com/bogao007","followers_url":"https://api.github.com/users/bogao007/followers","following_url":"https://api.github.com/users/bogao007/following{/other_user}","gists_url":"https://api.github.com/users/bogao007/gists{/gist_id}","starred_url":"https://api.github.com/users/bogao007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bogao007/subscriptions","organizations_url":"https://api.github.com/users/bogao007/orgs","repos_url":"https://api.github.com/users/bogao007/repos","events_url":"https://api.github.com/users/bogao007/events{/privacy}","received_events_url":"https://api.github.com/users/bogao007/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":526371668,"node_id":"R_kgDOH1_LVA","name":"spark","full_name":"bogao007/spark","private":false,"owner":{"login":"bogao007","id":109614351,"node_id":"U_kgDOBoiVDw","avatar_url":"https://avatars.githubusercontent.com/u/109614351?v=4","gravatar_id":"","url":"https://api.github.com/users/bogao007","html_url":"https://github.com/bogao007","followers_url":"https://api.github.com/users/bogao007/followers","following_url":"https://api.github.com/users/bogao007/following{/other_user}","gists_url":"https://api.github.com/users/bogao007/gists{/gist_id}","starred_url":"https://api.github.com/users/bogao007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bogao007/subscriptions","organizations_url":"https://api.github.com/users/bogao007/orgs","repos_url":"https://api.github.com/users/bogao007/repos","events_url":"https://api.github.com/users/bogao007/events{/privacy}","received_events_url":"https://api.github.com/users/bogao007/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bogao007/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/bogao007/spark","forks_url":"https://api.github.com/repos/bogao007/spark/forks","keys_url":"https://api.github.com/repos/bogao007/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bogao007/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bogao007/spark/teams","hooks_url":"https://api.github.com/repos/bogao007/spark/hooks","issue_events_url":"https://api.github.com/repos/bogao007/spark/issues/events{/number}","events_url":"https://api.github.com/repos/bogao007/spark/events","assignees_url":"https://api.github.com/repos/bogao007/spark/assignees{/user}","branches_url":"https://api.github.com/repos/bogao007/spark/branches{/branch}","tags_url":"https://api.github.com/repos/bogao007/spark/tags","blobs_url":"https://api.github.com/repos/bogao007/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bogao007/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bogao007/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/bogao007/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bogao007/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/bogao007/spark/languages","stargazers_url":"https://api.github.com/repos/bogao007/spark/stargazers","contributors_url":"https://api.github.com/repos/bogao007/spark/contributors","subscribers_url":"https://api.github.com/repos/bogao007/spark/subscribers","subscription_url":"https://api.github.com/repos/bogao007/spark/subscription","commits_url":"https://api.github.com/repos/bogao007/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/bogao007/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/bogao007/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/bogao007/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/bogao007/spark/contents/{+path}","compare_url":"https://api.github.com/repos/bogao007/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bogao007/spark/merges","archive_url":"https://api.github.com/repos/bogao007/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bogao007/spark/downloads","issues_url":"https://api.github.com/repos/bogao007/spark/issues{/number}","pulls_url":"https://api.github.com/repos/bogao007/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/bogao007/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/bogao007/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bogao007/spark/labels{/name}","releases_url":"https://api.github.com/repos/bogao007/spark/releases{/id}","deployments_url":"https://api.github.com/repos/bogao007/spark/deployments","created_at":"2022-08-18T21:01:14Z","updated_at":"2025-01-24T19:22:51Z","pushed_at":"2025-01-24T19:25:18Z","git_url":"git://github.com/bogao007/spark.git","ssh_url":"git@github.com:bogao007/spark.git","clone_url":"https://github.com/bogao007/spark.git","svn_url":"https://github.com/bogao007/spark","homepage":"https://spark.apache.org/","size":423900,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"f2d39b958deb9bae2cc39410144fe263dc96a0ef","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48373"},"html":{"href":"https://github.com/apache/spark/pull/48373"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48373"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48373/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48373/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48373/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/2044047acb7113043acd12a56806211477bc1deb"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48372","id":2111454491,"node_id":"PR_kwDOAQXtWs592j0b","html_url":"https://github.com/apache/spark/pull/48372","diff_url":"https://github.com/apache/spark/pull/48372.diff","patch_url":"https://github.com/apache/spark/pull/48372.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48372","number":48372,"state":"closed","locked":false,"title":"[SPARK-49898][CORE] Fix documentation and default for event log task metrics accumulator logging flag from SPARK-42204","user":{"login":"JoshRosen","id":50748,"node_id":"MDQ6VXNlcjUwNzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50748?v=4","gravatar_id":"","url":"https://api.github.com/users/JoshRosen","html_url":"https://github.com/JoshRosen","followers_url":"https://api.github.com/users/JoshRosen/followers","following_url":"https://api.github.com/users/JoshRosen/following{/other_user}","gists_url":"https://api.github.com/users/JoshRosen/gists{/gist_id}","starred_url":"https://api.github.com/users/JoshRosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoshRosen/subscriptions","organizations_url":"https://api.github.com/users/JoshRosen/orgs","repos_url":"https://api.github.com/users/JoshRosen/repos","events_url":"https://api.github.com/users/JoshRosen/events{/privacy}","received_events_url":"https://api.github.com/users/JoshRosen/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR corrects an unintentional default behavior change from https://github.com/apache/spark/pull/39763\r\n\r\nThat PR introduced a new configuration, `spark.eventLog.includeTaskMetricsAccumulators`, to provide an ability for users to disable the redundant logging of task metrics information via the Accumulables field in the Spark event log task end logs.\r\n\r\nI made a mistake in updating that PR description and code from the original version: the description says that the intent is to not change out of the box behavior, but the actual flag default was the opposite.\r\n\r\nThis new PR corrects both the flag default and the flag description to reflect the original intent of not changing default behavior.\r\n\r\n### Why are the changes needed?\r\n\r\nRoll back an unintentional behavior change.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nYes, it rolls back an unintentional default behavior change.\r\n\r\n### How was this patch tested?\r\n\r\nExisting unit tests. \r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.","created_at":"2024-10-07T18:24:04Z","updated_at":"2024-10-08T08:28:28Z","closed_at":"2024-10-08T08:28:27Z","merged_at":null,"merge_commit_sha":"e643fc41e0c01e3a8fbffe3bf4d9d3384ebaa936","assignee":null,"assignees":[],"requested_reviewers":[{"login":"mridulm","id":1591700,"node_id":"MDQ6VXNlcjE1OTE3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/1591700?v=4","gravatar_id":"","url":"https://api.github.com/users/mridulm","html_url":"https://github.com/mridulm","followers_url":"https://api.github.com/users/mridulm/followers","following_url":"https://api.github.com/users/mridulm/following{/other_user}","gists_url":"https://api.github.com/users/mridulm/gists{/gist_id}","starred_url":"https://api.github.com/users/mridulm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mridulm/subscriptions","organizations_url":"https://api.github.com/users/mridulm/orgs","repos_url":"https://api.github.com/users/mridulm/repos","events_url":"https://api.github.com/users/mridulm/events{/privacy}","received_events_url":"https://api.github.com/users/mridulm/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48372/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48372/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48372/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/493ca93fc516c9b289a3cf283396fab68964f44d","head":{"label":"JoshRosen:fix-event-log-accumulable-defaults","ref":"fix-event-log-accumulable-defaults","sha":"493ca93fc516c9b289a3cf283396fab68964f44d","user":{"login":"JoshRosen","id":50748,"node_id":"MDQ6VXNlcjUwNzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50748?v=4","gravatar_id":"","url":"https://api.github.com/users/JoshRosen","html_url":"https://github.com/JoshRosen","followers_url":"https://api.github.com/users/JoshRosen/followers","following_url":"https://api.github.com/users/JoshRosen/following{/other_user}","gists_url":"https://api.github.com/users/JoshRosen/gists{/gist_id}","starred_url":"https://api.github.com/users/JoshRosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoshRosen/subscriptions","organizations_url":"https://api.github.com/users/JoshRosen/orgs","repos_url":"https://api.github.com/users/JoshRosen/repos","events_url":"https://api.github.com/users/JoshRosen/events{/privacy}","received_events_url":"https://api.github.com/users/JoshRosen/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":22238710,"node_id":"MDEwOlJlcG9zaXRvcnkyMjIzODcxMA==","name":"spark","full_name":"JoshRosen/spark","private":false,"owner":{"login":"JoshRosen","id":50748,"node_id":"MDQ6VXNlcjUwNzQ4","avatar_url":"https://avatars.githubusercontent.com/u/50748?v=4","gravatar_id":"","url":"https://api.github.com/users/JoshRosen","html_url":"https://github.com/JoshRosen","followers_url":"https://api.github.com/users/JoshRosen/followers","following_url":"https://api.github.com/users/JoshRosen/following{/other_user}","gists_url":"https://api.github.com/users/JoshRosen/gists{/gist_id}","starred_url":"https://api.github.com/users/JoshRosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoshRosen/subscriptions","organizations_url":"https://api.github.com/users/JoshRosen/orgs","repos_url":"https://api.github.com/users/JoshRosen/repos","events_url":"https://api.github.com/users/JoshRosen/events{/privacy}","received_events_url":"https://api.github.com/users/JoshRosen/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/JoshRosen/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/JoshRosen/spark","forks_url":"https://api.github.com/repos/JoshRosen/spark/forks","keys_url":"https://api.github.com/repos/JoshRosen/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/JoshRosen/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/JoshRosen/spark/teams","hooks_url":"https://api.github.com/repos/JoshRosen/spark/hooks","issue_events_url":"https://api.github.com/repos/JoshRosen/spark/issues/events{/number}","events_url":"https://api.github.com/repos/JoshRosen/spark/events","assignees_url":"https://api.github.com/repos/JoshRosen/spark/assignees{/user}","branches_url":"https://api.github.com/repos/JoshRosen/spark/branches{/branch}","tags_url":"https://api.github.com/repos/JoshRosen/spark/tags","blobs_url":"https://api.github.com/repos/JoshRosen/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/JoshRosen/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/JoshRosen/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/JoshRosen/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/JoshRosen/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/JoshRosen/spark/languages","stargazers_url":"https://api.github.com/repos/JoshRosen/spark/stargazers","contributors_url":"https://api.github.com/repos/JoshRosen/spark/contributors","subscribers_url":"https://api.github.com/repos/JoshRosen/spark/subscribers","subscription_url":"https://api.github.com/repos/JoshRosen/spark/subscription","commits_url":"https://api.github.com/repos/JoshRosen/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/JoshRosen/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/JoshRosen/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/JoshRosen/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/JoshRosen/spark/contents/{+path}","compare_url":"https://api.github.com/repos/JoshRosen/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/JoshRosen/spark/merges","archive_url":"https://api.github.com/repos/JoshRosen/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/JoshRosen/spark/downloads","issues_url":"https://api.github.com/repos/JoshRosen/spark/issues{/number}","pulls_url":"https://api.github.com/repos/JoshRosen/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/JoshRosen/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/JoshRosen/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/JoshRosen/spark/labels{/name}","releases_url":"https://api.github.com/repos/JoshRosen/spark/releases{/id}","deployments_url":"https://api.github.com/repos/JoshRosen/spark/deployments","created_at":"2014-07-25T00:47:52Z","updated_at":"2022-06-21T17:37:17Z","pushed_at":"2025-01-09T00:48:30Z","git_url":"git://github.com/JoshRosen/spark.git","ssh_url":"git@github.com:JoshRosen/spark.git","clone_url":"https://github.com/JoshRosen/spark.git","svn_url":"https://github.com/JoshRosen/spark","homepage":null,"size":446401,"stargazers_count":3,"watchers_count":3,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":3,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"724e1bf6b5bdec9791357b63047c96266938565c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48372"},"html":{"href":"https://github.com/apache/spark/pull/48372"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48372"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48372/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48372/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48372/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/493ca93fc516c9b289a3cf283396fab68964f44d"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48371","id":2111060047,"node_id":"PR_kwDOAQXtWs591DhP","html_url":"https://github.com/apache/spark/pull/48371","diff_url":"https://github.com/apache/spark/pull/48371.diff","patch_url":"https://github.com/apache/spark/pull/48371.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48371","number":48371,"state":"closed","locked":false,"title":"[SPARK-49896][K8S][DOCS] Drop K8s v1.28 Support","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nApache Spark 4.0.0 RC1 vote will start on February 15th 2025\r\n- https://spark.apache.org/versioning-policy.html\r\n\r\nThis PR aims to update K8s docs to recommend K8s v1.29+ for Apache Spark 4.0.0.\r\n\r\n### Why are the changes needed?\r\n\r\n**1. K8s community will release v1.32.0 on 2024-12-11**\r\n- https://github.com/kubernetes/sig-release/tree/master/releases/release-1.32#kubernetes-132\r\n\r\n**2. Default K8s Versions in Public Cloud environments**\r\n\r\nThe default K8s versions of public cloud providers are already moving to K8s 1.30 like the following.\r\n\r\n- EKS: v1.30 (Default)\r\n- GKE: v1.30 (Stable), v1.30 (Regular), v1.31 (Rapid)\r\n- AKS: v1.29 (Default), v1.30 (Support)\r\n\r\n**3. End Of Support**\r\n\r\nIn addition, K8s 1.28 reached or will reach a standard support EOL around Apache Spark 4.0.0 release. \r\n\r\n| K8s  |   EKS   |  GKE  |  AKS  |\r\n| ---- | ------- | ------- | ------- |\r\n| 1.28 | 2024-11 | 2025-02-04 | 2025-03 |\r\n\r\n- [EKS EOL Schedule](https://docs.aws.amazon.com/eks/latest/userguide/kubernetes-versions.html#kubernetes-release-calendar)\r\n- [AKS EOL Schedule](https://docs.microsoft.com/en-us/azure/aks/supported-kubernetes-versions?tabs=azure-cli#aks-kubernetes-release-calendar)\r\n- [GKE EOL Schedule](https://cloud.google.com/kubernetes-engine/docs/release-schedule)\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\n- No, this is a documentation-only change about K8s versions.\r\n- Apache Spark K8s Integration Test is currently using K8s **v1.31.0** on Minikube already.\r\n```\r\n* Preparing Kubernetes v1.31.0 on Docker 27.2.0 ...\r\n```\r\n\r\n### How was this patch tested?\r\n\r\nManual review.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.","created_at":"2024-10-07T14:49:10Z","updated_at":"2024-10-07T16:49:43Z","closed_at":"2024-10-07T16:48:15Z","merged_at":null,"merge_commit_sha":"fbe47ded4b5afe84d10c5af833c7f4998e0077b2","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48371/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48371/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48371/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/dbb18af19fe9a4a74e66ec579e45d30513265a97","head":{"label":"dongjoon-hyun:SPARK-49896","ref":"SPARK-49896","sha":"dbb18af19fe9a4a74e66ec579e45d30513265a97","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":677218341,"node_id":"R_kgDOKF2IJQ","name":"spark","full_name":"dongjoon-hyun/spark","private":false,"owner":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dongjoon-hyun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/dongjoon-hyun/spark","forks_url":"https://api.github.com/repos/dongjoon-hyun/spark/forks","keys_url":"https://api.github.com/repos/dongjoon-hyun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dongjoon-hyun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dongjoon-hyun/spark/teams","hooks_url":"https://api.github.com/repos/dongjoon-hyun/spark/hooks","issue_events_url":"https://api.github.com/repos/dongjoon-hyun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/dongjoon-hyun/spark/events","assignees_url":"https://api.github.com/repos/dongjoon-hyun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/dongjoon-hyun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/dongjoon-hyun/spark/tags","blobs_url":"https://api.github.com/repos/dongjoon-hyun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dongjoon-hyun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dongjoon-hyun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/dongjoon-hyun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dongjoon-hyun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/dongjoon-hyun/spark/languages","stargazers_url":"https://api.github.com/repos/dongjoon-hyun/spark/stargazers","contributors_url":"https://api.github.com/repos/dongjoon-hyun/spark/contributors","subscribers_url":"https://api.github.com/repos/dongjoon-hyun/spark/subscribers","subscription_url":"https://api.github.com/repos/dongjoon-hyun/spark/subscription","commits_url":"https://api.github.com/repos/dongjoon-hyun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/dongjoon-hyun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/dongjoon-hyun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/dongjoon-hyun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/dongjoon-hyun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/dongjoon-hyun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dongjoon-hyun/spark/merges","archive_url":"https://api.github.com/repos/dongjoon-hyun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dongjoon-hyun/spark/downloads","issues_url":"https://api.github.com/repos/dongjoon-hyun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/dongjoon-hyun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/dongjoon-hyun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/dongjoon-hyun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dongjoon-hyun/spark/labels{/name}","releases_url":"https://api.github.com/repos/dongjoon-hyun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/dongjoon-hyun/spark/deployments","created_at":"2023-08-11T03:10:46Z","updated_at":"2025-01-30T21:57:04Z","pushed_at":"2025-02-04T17:36:52Z","git_url":"git://github.com/dongjoon-hyun/spark.git","ssh_url":"git@github.com:dongjoon-hyun/spark.git","clone_url":"https://github.com/dongjoon-hyun/spark.git","svn_url":"https://github.com/dongjoon-hyun/spark","homepage":"https://spark.apache.org/","size":485728,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"5132ab1f7b336d0fa845e6fdfe6e2dabcc2dedc0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48371"},"html":{"href":"https://github.com/apache/spark/pull/48371"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48371"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48371/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48371/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48371/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/dbb18af19fe9a4a74e66ec579e45d30513265a97"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48370","id":2111001254,"node_id":"PR_kwDOAQXtWs5901Km","html_url":"https://github.com/apache/spark/pull/48370","diff_url":"https://github.com/apache/spark/pull/48370.diff","patch_url":"https://github.com/apache/spark/pull/48370.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48370","number":48370,"state":"closed","locked":false,"title":"[SPARK-49895][SQL] Improve error when encountering trailing comma in SELECT clause","user":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\nIntroduced a specific error message for cases where a trailing comma appears at the end of the SELECT clause.\r\n\r\n\r\n### Why are the changes needed?\r\nThe previous error message was unclear and often pointed to an incorrect location in the query, leading to confusion.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUnit tests.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo.","created_at":"2024-10-07T14:25:42Z","updated_at":"2024-10-09T01:30:59Z","closed_at":"2024-10-09T01:30:59Z","merged_at":null,"merge_commit_sha":"aa8d9352d40b963c8ffb25db2a859978453cc0f1","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48370/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48370/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48370/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/0e689c204265baeb219fdedeec81f217a2954a72","head":{"label":"stefankandic:fixTrailingComma","ref":"fixTrailingComma","sha":"0e689c204265baeb219fdedeec81f217a2954a72","user":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":734708961,"node_id":"R_kgDOK8rE4Q","name":"spark","full_name":"stefankandic/spark","private":false,"owner":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/stefankandic/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/stefankandic/spark","forks_url":"https://api.github.com/repos/stefankandic/spark/forks","keys_url":"https://api.github.com/repos/stefankandic/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/stefankandic/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/stefankandic/spark/teams","hooks_url":"https://api.github.com/repos/stefankandic/spark/hooks","issue_events_url":"https://api.github.com/repos/stefankandic/spark/issues/events{/number}","events_url":"https://api.github.com/repos/stefankandic/spark/events","assignees_url":"https://api.github.com/repos/stefankandic/spark/assignees{/user}","branches_url":"https://api.github.com/repos/stefankandic/spark/branches{/branch}","tags_url":"https://api.github.com/repos/stefankandic/spark/tags","blobs_url":"https://api.github.com/repos/stefankandic/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/stefankandic/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/stefankandic/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/stefankandic/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/stefankandic/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/stefankandic/spark/languages","stargazers_url":"https://api.github.com/repos/stefankandic/spark/stargazers","contributors_url":"https://api.github.com/repos/stefankandic/spark/contributors","subscribers_url":"https://api.github.com/repos/stefankandic/spark/subscribers","subscription_url":"https://api.github.com/repos/stefankandic/spark/subscription","commits_url":"https://api.github.com/repos/stefankandic/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/stefankandic/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/stefankandic/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/stefankandic/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/stefankandic/spark/contents/{+path}","compare_url":"https://api.github.com/repos/stefankandic/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/stefankandic/spark/merges","archive_url":"https://api.github.com/repos/stefankandic/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/stefankandic/spark/downloads","issues_url":"https://api.github.com/repos/stefankandic/spark/issues{/number}","pulls_url":"https://api.github.com/repos/stefankandic/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/stefankandic/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/stefankandic/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/stefankandic/spark/labels{/name}","releases_url":"https://api.github.com/repos/stefankandic/spark/releases{/id}","deployments_url":"https://api.github.com/repos/stefankandic/spark/deployments","created_at":"2023-12-22T11:54:18Z","updated_at":"2024-10-23T17:40:10Z","pushed_at":"2025-02-04T22:21:43Z","git_url":"git://github.com/stefankandic/spark.git","ssh_url":"git@github.com:stefankandic/spark.git","clone_url":"https://github.com/stefankandic/spark.git","svn_url":"https://github.com/stefankandic/spark","homepage":"https://spark.apache.org/","size":434684,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"5132ab1f7b336d0fa845e6fdfe6e2dabcc2dedc0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48370"},"html":{"href":"https://github.com/apache/spark/pull/48370"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48370"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48370/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48370/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48370/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/0e689c204265baeb219fdedeec81f217a2954a72"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48369","id":2110926844,"node_id":"PR_kwDOAQXtWs590i_8","html_url":"https://github.com/apache/spark/pull/48369","diff_url":"https://github.com/apache/spark/pull/48369.diff","patch_url":"https://github.com/apache/spark/pull/48369.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48369","number":48369,"state":"closed","locked":false,"title":"[SPARK-49894][PYTHON][CONNECT] Refine the string representation of column field operations","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nRefine the string representation of column field operations: `GetField`, `WithField`, and `DropFields`\r\n\r\n\r\n### Why are the changes needed?\r\nmake the string representations consistent between pyspark classic and connect\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nyes\r\n\r\nbefore\r\n```\r\nIn [1]: from pyspark.sql import functions as sf\r\n\r\nIn [2]: c = sf.col(\"c\")\r\n\r\nIn [3]: c.x\r\nOut[3]: Column<'UnresolvedExtractValue(c, x)'>\r\n```\r\n\r\nafter\r\n```\r\nIn [1]: from pyspark.sql import functions as sf\r\n\r\nIn [2]: c = sf.col(\"c\")\r\n\r\nIn [3]: c.x\r\nOut[3]: Column<'c['x']'>\r\n```\r\n\r\n\r\n### How was this patch tested?\r\nadded ut\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nno\r\n","created_at":"2024-10-07T13:54:21Z","updated_at":"2024-10-08T01:38:25Z","closed_at":"2024-10-08T00:37:21Z","merged_at":null,"merge_commit_sha":"b1e3a9d3b7a3b85a6d17a546e4a0181253c037d5","assignee":null,"assignees":[],"requested_reviewers":[{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48369/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48369/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48369/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/38d4c49b7d95c3b21e44f80cc06db9e836116b15","head":{"label":"zhengruifeng:py_connect_col_str","ref":"py_connect_col_str","sha":"38d4c49b7d95c3b21e44f80cc06db9e836116b15","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":51584791,"node_id":"MDEwOlJlcG9zaXRvcnk1MTU4NDc5MQ==","name":"spark","full_name":"zhengruifeng/spark","private":false,"owner":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhengruifeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zhengruifeng/spark","forks_url":"https://api.github.com/repos/zhengruifeng/spark/forks","keys_url":"https://api.github.com/repos/zhengruifeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhengruifeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhengruifeng/spark/teams","hooks_url":"https://api.github.com/repos/zhengruifeng/spark/hooks","issue_events_url":"https://api.github.com/repos/zhengruifeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhengruifeng/spark/events","assignees_url":"https://api.github.com/repos/zhengruifeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhengruifeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhengruifeng/spark/tags","blobs_url":"https://api.github.com/repos/zhengruifeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhengruifeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhengruifeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhengruifeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhengruifeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhengruifeng/spark/languages","stargazers_url":"https://api.github.com/repos/zhengruifeng/spark/stargazers","contributors_url":"https://api.github.com/repos/zhengruifeng/spark/contributors","subscribers_url":"https://api.github.com/repos/zhengruifeng/spark/subscribers","subscription_url":"https://api.github.com/repos/zhengruifeng/spark/subscription","commits_url":"https://api.github.com/repos/zhengruifeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhengruifeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhengruifeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhengruifeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhengruifeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhengruifeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhengruifeng/spark/merges","archive_url":"https://api.github.com/repos/zhengruifeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhengruifeng/spark/downloads","issues_url":"https://api.github.com/repos/zhengruifeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhengruifeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhengruifeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhengruifeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhengruifeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhengruifeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhengruifeng/spark/deployments","created_at":"2016-02-12T11:58:00Z","updated_at":"2025-02-09T01:55:22Z","pushed_at":"2025-02-09T01:55:17Z","git_url":"git://github.com/zhengruifeng/spark.git","ssh_url":"git@github.com:zhengruifeng/spark.git","clone_url":"https://github.com/zhengruifeng/spark.git","svn_url":"https://github.com/zhengruifeng/spark","homepage":null,"size":434785,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"5132ab1f7b336d0fa845e6fdfe6e2dabcc2dedc0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48369"},"html":{"href":"https://github.com/apache/spark/pull/48369"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48369"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48369/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48369/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48369/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/38d4c49b7d95c3b21e44f80cc06db9e836116b15"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48368","id":2110794610,"node_id":"PR_kwDOAQXtWs590Cty","html_url":"https://github.com/apache/spark/pull/48368","diff_url":"https://github.com/apache/spark/pull/48368.diff","patch_url":"https://github.com/apache/spark/pull/48368.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48368","number":48368,"state":"open","locked":false,"title":"[SPARK-49730][SQL] classify syntax errors for pgsql, mysql, sqlserver and h2","user":{"login":"ivanjevtic-db","id":180169423,"node_id":"U_kgDOCr0qzw","avatar_url":"https://avatars.githubusercontent.com/u/180169423?v=4","gravatar_id":"","url":"https://api.github.com/users/ivanjevtic-db","html_url":"https://github.com/ivanjevtic-db","followers_url":"https://api.github.com/users/ivanjevtic-db/followers","following_url":"https://api.github.com/users/ivanjevtic-db/following{/other_user}","gists_url":"https://api.github.com/users/ivanjevtic-db/gists{/gist_id}","starred_url":"https://api.github.com/users/ivanjevtic-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivanjevtic-db/subscriptions","organizations_url":"https://api.github.com/users/ivanjevtic-db/orgs","repos_url":"https://api.github.com/users/ivanjevtic-db/repos","events_url":"https://api.github.com/users/ivanjevtic-db/events{/privacy}","received_events_url":"https://api.github.com/users/ivanjevtic-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\nIn this PR I propose that we add classification of JDBC driver exception that represent syntax errors on external databases.\r\nQueries generated from Spark that are sent to connectors should never have syntax error, and always indicate to a bug in code.\r\n\r\nHaving this classification would greatly help in identifying bugs faster and improving quality.\r\n\r\nDocumentation about error codes for syntax errors:\r\nhttps://learn.microsoft.com/en-us/sql/relational-databases/errors-events/database-engine-events-and-errors-0-to-999?view=sql-server-ver16\r\nhttps://www.postgresql.org/docs/current/errcodes-appendix.html\r\nhttps://mariadb.com/kb/en/mariadb-error-code-reference/\r\nhttps://www.h2database.com/javadoc/org/h2/api/ErrorCode.html\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\n\r\n### Why are the changes needed?\r\n1. This gives customer more precise error message about issue being hit.\r\n2. Help identify bugs faster as syntax error thrown from jdbc connectors should never happen.\r\n\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, previously customers would get `FAILED_JDBC. UNCLASSIFIED` or internal error when syntax error occurs in JDBC, whereas they will now get `FAILED_JDBC.SYNTAX_ERROR`\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\n\r\n### How was this patch tested?\r\nIntegration tests\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\n","created_at":"2024-10-07T12:55:25Z","updated_at":"2024-11-01T11:59:31Z","closed_at":null,"merged_at":null,"merge_commit_sha":null,"assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48368/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48368/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48368/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/170e194a7a5ab66edc32966d71788b92b94de173","head":{"label":"ivanjevtic-db:syntax-errors-jdbc","ref":"syntax-errors-jdbc","sha":"170e194a7a5ab66edc32966d71788b92b94de173","user":{"login":"ivanjevtic-db","id":180169423,"node_id":"U_kgDOCr0qzw","avatar_url":"https://avatars.githubusercontent.com/u/180169423?v=4","gravatar_id":"","url":"https://api.github.com/users/ivanjevtic-db","html_url":"https://github.com/ivanjevtic-db","followers_url":"https://api.github.com/users/ivanjevtic-db/followers","following_url":"https://api.github.com/users/ivanjevtic-db/following{/other_user}","gists_url":"https://api.github.com/users/ivanjevtic-db/gists{/gist_id}","starred_url":"https://api.github.com/users/ivanjevtic-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivanjevtic-db/subscriptions","organizations_url":"https://api.github.com/users/ivanjevtic-db/orgs","repos_url":"https://api.github.com/users/ivanjevtic-db/repos","events_url":"https://api.github.com/users/ivanjevtic-db/events{/privacy}","received_events_url":"https://api.github.com/users/ivanjevtic-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":854454165,"node_id":"R_kgDOMu3vlQ","name":"spark","full_name":"ivanjevtic-db/spark","private":false,"owner":{"login":"ivanjevtic-db","id":180169423,"node_id":"U_kgDOCr0qzw","avatar_url":"https://avatars.githubusercontent.com/u/180169423?v=4","gravatar_id":"","url":"https://api.github.com/users/ivanjevtic-db","html_url":"https://github.com/ivanjevtic-db","followers_url":"https://api.github.com/users/ivanjevtic-db/followers","following_url":"https://api.github.com/users/ivanjevtic-db/following{/other_user}","gists_url":"https://api.github.com/users/ivanjevtic-db/gists{/gist_id}","starred_url":"https://api.github.com/users/ivanjevtic-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivanjevtic-db/subscriptions","organizations_url":"https://api.github.com/users/ivanjevtic-db/orgs","repos_url":"https://api.github.com/users/ivanjevtic-db/repos","events_url":"https://api.github.com/users/ivanjevtic-db/events{/privacy}","received_events_url":"https://api.github.com/users/ivanjevtic-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ivanjevtic-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/ivanjevtic-db/spark","forks_url":"https://api.github.com/repos/ivanjevtic-db/spark/forks","keys_url":"https://api.github.com/repos/ivanjevtic-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ivanjevtic-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ivanjevtic-db/spark/teams","hooks_url":"https://api.github.com/repos/ivanjevtic-db/spark/hooks","issue_events_url":"https://api.github.com/repos/ivanjevtic-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/ivanjevtic-db/spark/events","assignees_url":"https://api.github.com/repos/ivanjevtic-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/ivanjevtic-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/ivanjevtic-db/spark/tags","blobs_url":"https://api.github.com/repos/ivanjevtic-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ivanjevtic-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ivanjevtic-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/ivanjevtic-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ivanjevtic-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/ivanjevtic-db/spark/languages","stargazers_url":"https://api.github.com/repos/ivanjevtic-db/spark/stargazers","contributors_url":"https://api.github.com/repos/ivanjevtic-db/spark/contributors","subscribers_url":"https://api.github.com/repos/ivanjevtic-db/spark/subscribers","subscription_url":"https://api.github.com/repos/ivanjevtic-db/spark/subscription","commits_url":"https://api.github.com/repos/ivanjevtic-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/ivanjevtic-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/ivanjevtic-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/ivanjevtic-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/ivanjevtic-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/ivanjevtic-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ivanjevtic-db/spark/merges","archive_url":"https://api.github.com/repos/ivanjevtic-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ivanjevtic-db/spark/downloads","issues_url":"https://api.github.com/repos/ivanjevtic-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/ivanjevtic-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/ivanjevtic-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/ivanjevtic-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ivanjevtic-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/ivanjevtic-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/ivanjevtic-db/spark/deployments","created_at":"2024-09-09T07:47:53Z","updated_at":"2024-10-15T14:10:19Z","pushed_at":"2024-10-31T16:15:02Z","git_url":"git://github.com/ivanjevtic-db/spark.git","ssh_url":"git@github.com:ivanjevtic-db/spark.git","clone_url":"https://github.com/ivanjevtic-db/spark.git","svn_url":"https://github.com/ivanjevtic-db/spark","homepage":"https://spark.apache.org/","size":410758,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"164a0f46d657a42fa5c47c05a515c50580bc8f17","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48368"},"html":{"href":"https://github.com/apache/spark/pull/48368"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48368"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48368/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48368/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48368/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/170e194a7a5ab66edc32966d71788b92b94de173"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48367","id":2110485828,"node_id":"PR_kwDOAQXtWs59y3VE","html_url":"https://github.com/apache/spark/pull/48367","diff_url":"https://github.com/apache/spark/pull/48367.diff","patch_url":"https://github.com/apache/spark/pull/48367.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48367","number":48367,"state":"closed","locked":false,"title":"[SPARK-49892][SQL] Assign proper error class for _LEGACY_ERROR_TEMP_1136","user":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis PR proposes to assign proper error condition for _LEGACY_ERROR_TEMP_1136\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nCurrently we don't have proper error condition and SQLSTATE when user try saving interval data type into external storage\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo, only user-facing error message improved\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUpdated the existing tests\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo\r\n","created_at":"2024-10-07T10:24:40Z","updated_at":"2024-10-14T09:59:29Z","closed_at":"2024-10-14T07:33:30Z","merged_at":null,"merge_commit_sha":"5d02f4a0387f0e7d9bf4d1009e228d3386920d31","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1988040187,"node_id":"MDU6TGFiZWwxOTg4MDQwMTg3","url":"https://api.github.com/repos/apache/spark/labels/AVRO","name":"AVRO","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48367/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48367/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48367/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/c7356afd86fa340b3855d11389fa574e75da9063","head":{"label":"itholic:LEGACY_1136","ref":"LEGACY_1136","sha":"c7356afd86fa340b3855d11389fa574e75da9063","user":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":445423122,"node_id":"R_kgDOGoyeEg","name":"spark","full_name":"itholic/spark","private":false,"owner":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/itholic/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/itholic/spark","forks_url":"https://api.github.com/repos/itholic/spark/forks","keys_url":"https://api.github.com/repos/itholic/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/itholic/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/itholic/spark/teams","hooks_url":"https://api.github.com/repos/itholic/spark/hooks","issue_events_url":"https://api.github.com/repos/itholic/spark/issues/events{/number}","events_url":"https://api.github.com/repos/itholic/spark/events","assignees_url":"https://api.github.com/repos/itholic/spark/assignees{/user}","branches_url":"https://api.github.com/repos/itholic/spark/branches{/branch}","tags_url":"https://api.github.com/repos/itholic/spark/tags","blobs_url":"https://api.github.com/repos/itholic/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/itholic/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/itholic/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/itholic/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/itholic/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/itholic/spark/languages","stargazers_url":"https://api.github.com/repos/itholic/spark/stargazers","contributors_url":"https://api.github.com/repos/itholic/spark/contributors","subscribers_url":"https://api.github.com/repos/itholic/spark/subscribers","subscription_url":"https://api.github.com/repos/itholic/spark/subscription","commits_url":"https://api.github.com/repos/itholic/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/itholic/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/itholic/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/itholic/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/itholic/spark/contents/{+path}","compare_url":"https://api.github.com/repos/itholic/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/itholic/spark/merges","archive_url":"https://api.github.com/repos/itholic/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/itholic/spark/downloads","issues_url":"https://api.github.com/repos/itholic/spark/issues{/number}","pulls_url":"https://api.github.com/repos/itholic/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/itholic/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/itholic/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/itholic/spark/labels{/name}","releases_url":"https://api.github.com/repos/itholic/spark/releases{/id}","deployments_url":"https://api.github.com/repos/itholic/spark/deployments","created_at":"2022-01-07T06:35:10Z","updated_at":"2025-01-23T06:13:52Z","pushed_at":"2025-01-23T06:47:35Z","git_url":"git://github.com/itholic/spark.git","ssh_url":"git@github.com:itholic/spark.git","clone_url":"https://github.com/itholic/spark.git","svn_url":"https://github.com/itholic/spark","homepage":"https://spark.apache.org/","size":459393,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1abfd490d072850ae40c46c1a0f1791a8aaa5698","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48367"},"html":{"href":"https://github.com/apache/spark/pull/48367"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48367"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48367/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48367/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48367/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/c7356afd86fa340b3855d11389fa574e75da9063"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48366","id":2110242303,"node_id":"PR_kwDOAQXtWs59x73_","html_url":"https://github.com/apache/spark/pull/48366","diff_url":"https://github.com/apache/spark/pull/48366.diff","patch_url":"https://github.com/apache/spark/pull/48366.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48366","number":48366,"state":"closed","locked":false,"title":"[SPARK-49891][SQL] Assign proper error condition for _LEGACY_ERROR_TEMP_2271","user":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis PR proposes to assign proper error condition for _LEGACY_ERROR_TEMP_2271\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n`UpdateColumnNullability` is not supported for MySQL DB, but the error message has no proper error conditions\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo, only user-facing error message improved\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUpdated the existing tests\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo\r\n","created_at":"2024-10-07T08:26:13Z","updated_at":"2024-10-14T07:20:31Z","closed_at":"2024-10-14T07:20:30Z","merged_at":null,"merge_commit_sha":"c41e56a7356442caee43a02dcc154ba0c68b559f","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48366/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48366/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48366/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/2562400b5eec5d19603a2d25bb333256bb006ee5","head":{"label":"itholic:SPARK-49891","ref":"SPARK-49891","sha":"2562400b5eec5d19603a2d25bb333256bb006ee5","user":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":445423122,"node_id":"R_kgDOGoyeEg","name":"spark","full_name":"itholic/spark","private":false,"owner":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/itholic/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/itholic/spark","forks_url":"https://api.github.com/repos/itholic/spark/forks","keys_url":"https://api.github.com/repos/itholic/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/itholic/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/itholic/spark/teams","hooks_url":"https://api.github.com/repos/itholic/spark/hooks","issue_events_url":"https://api.github.com/repos/itholic/spark/issues/events{/number}","events_url":"https://api.github.com/repos/itholic/spark/events","assignees_url":"https://api.github.com/repos/itholic/spark/assignees{/user}","branches_url":"https://api.github.com/repos/itholic/spark/branches{/branch}","tags_url":"https://api.github.com/repos/itholic/spark/tags","blobs_url":"https://api.github.com/repos/itholic/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/itholic/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/itholic/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/itholic/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/itholic/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/itholic/spark/languages","stargazers_url":"https://api.github.com/repos/itholic/spark/stargazers","contributors_url":"https://api.github.com/repos/itholic/spark/contributors","subscribers_url":"https://api.github.com/repos/itholic/spark/subscribers","subscription_url":"https://api.github.com/repos/itholic/spark/subscription","commits_url":"https://api.github.com/repos/itholic/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/itholic/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/itholic/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/itholic/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/itholic/spark/contents/{+path}","compare_url":"https://api.github.com/repos/itholic/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/itholic/spark/merges","archive_url":"https://api.github.com/repos/itholic/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/itholic/spark/downloads","issues_url":"https://api.github.com/repos/itholic/spark/issues{/number}","pulls_url":"https://api.github.com/repos/itholic/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/itholic/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/itholic/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/itholic/spark/labels{/name}","releases_url":"https://api.github.com/repos/itholic/spark/releases{/id}","deployments_url":"https://api.github.com/repos/itholic/spark/deployments","created_at":"2022-01-07T06:35:10Z","updated_at":"2025-01-23T06:13:52Z","pushed_at":"2025-01-23T06:47:35Z","git_url":"git://github.com/itholic/spark.git","ssh_url":"git@github.com:itholic/spark.git","clone_url":"https://github.com/itholic/spark.git","svn_url":"https://github.com/itholic/spark","homepage":"https://spark.apache.org/","size":459393,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1abfd490d072850ae40c46c1a0f1791a8aaa5698","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48366"},"html":{"href":"https://github.com/apache/spark/pull/48366"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48366"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48366/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48366/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48366/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/2562400b5eec5d19603a2d25bb333256bb006ee5"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48365","id":2110198082,"node_id":"PR_kwDOAQXtWs59xxFC","html_url":"https://github.com/apache/spark/pull/48365","diff_url":"https://github.com/apache/spark/pull/48365.diff","patch_url":"https://github.com/apache/spark/pull/48365.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48365","number":48365,"state":"closed","locked":false,"title":"[SPARK-49890][PYTHON] Extract the preparation of df.sample to parent class","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nExtract the preparation of df.sample to parent class\r\n\r\n\r\n### Why are the changes needed?\r\ndeduplicate codes\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nno\r\n\r\n### How was this patch tested?\r\nexisting tests\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nno\r\n","created_at":"2024-10-07T08:02:43Z","updated_at":"2024-10-07T13:25:16Z","closed_at":"2024-10-07T11:46:21Z","merged_at":null,"merge_commit_sha":"1bdd4fb02435d8a7441578cab638f48fa792e98b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48365/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48365/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48365/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9534cc633bbc709f20a83adaeb0808bfa2d4f7ea","head":{"label":"zhengruifeng:py_sql_sample","ref":"py_sql_sample","sha":"9534cc633bbc709f20a83adaeb0808bfa2d4f7ea","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":51584791,"node_id":"MDEwOlJlcG9zaXRvcnk1MTU4NDc5MQ==","name":"spark","full_name":"zhengruifeng/spark","private":false,"owner":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhengruifeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zhengruifeng/spark","forks_url":"https://api.github.com/repos/zhengruifeng/spark/forks","keys_url":"https://api.github.com/repos/zhengruifeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhengruifeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhengruifeng/spark/teams","hooks_url":"https://api.github.com/repos/zhengruifeng/spark/hooks","issue_events_url":"https://api.github.com/repos/zhengruifeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhengruifeng/spark/events","assignees_url":"https://api.github.com/repos/zhengruifeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhengruifeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhengruifeng/spark/tags","blobs_url":"https://api.github.com/repos/zhengruifeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhengruifeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhengruifeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhengruifeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhengruifeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhengruifeng/spark/languages","stargazers_url":"https://api.github.com/repos/zhengruifeng/spark/stargazers","contributors_url":"https://api.github.com/repos/zhengruifeng/spark/contributors","subscribers_url":"https://api.github.com/repos/zhengruifeng/spark/subscribers","subscription_url":"https://api.github.com/repos/zhengruifeng/spark/subscription","commits_url":"https://api.github.com/repos/zhengruifeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhengruifeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhengruifeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhengruifeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhengruifeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhengruifeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhengruifeng/spark/merges","archive_url":"https://api.github.com/repos/zhengruifeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhengruifeng/spark/downloads","issues_url":"https://api.github.com/repos/zhengruifeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhengruifeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhengruifeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhengruifeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhengruifeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhengruifeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhengruifeng/spark/deployments","created_at":"2016-02-12T11:58:00Z","updated_at":"2025-02-09T01:55:22Z","pushed_at":"2025-02-09T01:55:17Z","git_url":"git://github.com/zhengruifeng/spark.git","ssh_url":"git@github.com:zhengruifeng/spark.git","clone_url":"https://github.com/zhengruifeng/spark.git","svn_url":"https://github.com/zhengruifeng/spark","homepage":null,"size":434785,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"a177ed1227cc21cd08ac948ceaa5e9b58e35df09","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48365"},"html":{"href":"https://github.com/apache/spark/pull/48365"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48365"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48365/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48365/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48365/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9534cc633bbc709f20a83adaeb0808bfa2d4f7ea"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48364","id":2110103122,"node_id":"PR_kwDOAQXtWs59xZ5S","html_url":"https://github.com/apache/spark/pull/48364","diff_url":"https://github.com/apache/spark/pull/48364.diff","patch_url":"https://github.com/apache/spark/pull/48364.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48364","number":48364,"state":"closed","locked":false,"title":"[SPARK-49848][PYTHON][CONNECT] API compatibility check for Catalog","user":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis PR proposes to add API compatibility check for Catalog\r\n\r\nThis PR also has some refactored to make it easier to add future tests into `ConnectCompatibilityTests` \r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nTo ensure the compatibility between classic and connect\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nAdded UT\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo\r\n","created_at":"2024-10-07T07:14:00Z","updated_at":"2024-10-17T04:56:28Z","closed_at":"2024-10-17T04:55:56Z","merged_at":null,"merge_commit_sha":"30b51a48442753fbfead3cfc5330c9b5d3f961bc","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48364/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48364/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48364/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/d067dab1fa81b9e83c7bdd81299372606f9f6d2e","head":{"label":"itholic:compat_catalog","ref":"compat_catalog","sha":"d067dab1fa81b9e83c7bdd81299372606f9f6d2e","user":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":445423122,"node_id":"R_kgDOGoyeEg","name":"spark","full_name":"itholic/spark","private":false,"owner":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/itholic/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/itholic/spark","forks_url":"https://api.github.com/repos/itholic/spark/forks","keys_url":"https://api.github.com/repos/itholic/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/itholic/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/itholic/spark/teams","hooks_url":"https://api.github.com/repos/itholic/spark/hooks","issue_events_url":"https://api.github.com/repos/itholic/spark/issues/events{/number}","events_url":"https://api.github.com/repos/itholic/spark/events","assignees_url":"https://api.github.com/repos/itholic/spark/assignees{/user}","branches_url":"https://api.github.com/repos/itholic/spark/branches{/branch}","tags_url":"https://api.github.com/repos/itholic/spark/tags","blobs_url":"https://api.github.com/repos/itholic/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/itholic/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/itholic/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/itholic/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/itholic/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/itholic/spark/languages","stargazers_url":"https://api.github.com/repos/itholic/spark/stargazers","contributors_url":"https://api.github.com/repos/itholic/spark/contributors","subscribers_url":"https://api.github.com/repos/itholic/spark/subscribers","subscription_url":"https://api.github.com/repos/itholic/spark/subscription","commits_url":"https://api.github.com/repos/itholic/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/itholic/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/itholic/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/itholic/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/itholic/spark/contents/{+path}","compare_url":"https://api.github.com/repos/itholic/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/itholic/spark/merges","archive_url":"https://api.github.com/repos/itholic/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/itholic/spark/downloads","issues_url":"https://api.github.com/repos/itholic/spark/issues{/number}","pulls_url":"https://api.github.com/repos/itholic/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/itholic/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/itholic/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/itholic/spark/labels{/name}","releases_url":"https://api.github.com/repos/itholic/spark/releases{/id}","deployments_url":"https://api.github.com/repos/itholic/spark/deployments","created_at":"2022-01-07T06:35:10Z","updated_at":"2025-01-23T06:13:52Z","pushed_at":"2025-01-23T06:47:35Z","git_url":"git://github.com/itholic/spark.git","ssh_url":"git@github.com:itholic/spark.git","clone_url":"https://github.com/itholic/spark.git","svn_url":"https://github.com/itholic/spark","homepage":"https://spark.apache.org/","size":459393,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1aae1608960155885c039c389a6aaa53362103be","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48364"},"html":{"href":"https://github.com/apache/spark/pull/48364"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48364"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48364/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48364/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48364/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/d067dab1fa81b9e83c7bdd81299372606f9f6d2e"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48363","id":2109906080,"node_id":"PR_kwDOAQXtWs59wpyg","html_url":"https://github.com/apache/spark/pull/48363","diff_url":"https://github.com/apache/spark/pull/48363.diff","patch_url":"https://github.com/apache/spark/pull/48363.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48363","number":48363,"state":"closed","locked":false,"title":"[SPARK-49889][PYTHON] Add argument `trim` for functions`trim/ltrim/rtrim`","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nAdd argument `trim` for functions`trim/ltrim/rtrim`\r\n\r\n\r\n### Why are the changes needed?\r\nthis argument is missing in PySpark: we can specify the it in scala side but cannot do it in python.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nyes, new argument supported\r\n\r\n### How was this patch tested?\r\nadded doctests\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nno","created_at":"2024-10-07T05:02:38Z","updated_at":"2024-10-09T02:41:22Z","closed_at":"2024-10-08T04:47:12Z","merged_at":null,"merge_commit_sha":"c22b11a91ae6ae4d8364e045611b050692f31ce2","assignee":null,"assignees":[],"requested_reviewers":[{"login":"ueshin","id":506656,"node_id":"MDQ6VXNlcjUwNjY1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/506656?v=4","gravatar_id":"","url":"https://api.github.com/users/ueshin","html_url":"https://github.com/ueshin","followers_url":"https://api.github.com/users/ueshin/followers","following_url":"https://api.github.com/users/ueshin/following{/other_user}","gists_url":"https://api.github.com/users/ueshin/gists{/gist_id}","starred_url":"https://api.github.com/users/ueshin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ueshin/subscriptions","organizations_url":"https://api.github.com/users/ueshin/orgs","repos_url":"https://api.github.com/users/ueshin/repos","events_url":"https://api.github.com/users/ueshin/events{/privacy}","received_events_url":"https://api.github.com/users/ueshin/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48363/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48363/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48363/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3570a56dd5c5c4a2c3d200d28ea490e1f8ecc2ee","head":{"label":"zhengruifeng:func_trim_str","ref":"func_trim_str","sha":"3570a56dd5c5c4a2c3d200d28ea490e1f8ecc2ee","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":51584791,"node_id":"MDEwOlJlcG9zaXRvcnk1MTU4NDc5MQ==","name":"spark","full_name":"zhengruifeng/spark","private":false,"owner":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhengruifeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zhengruifeng/spark","forks_url":"https://api.github.com/repos/zhengruifeng/spark/forks","keys_url":"https://api.github.com/repos/zhengruifeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhengruifeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhengruifeng/spark/teams","hooks_url":"https://api.github.com/repos/zhengruifeng/spark/hooks","issue_events_url":"https://api.github.com/repos/zhengruifeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhengruifeng/spark/events","assignees_url":"https://api.github.com/repos/zhengruifeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhengruifeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhengruifeng/spark/tags","blobs_url":"https://api.github.com/repos/zhengruifeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhengruifeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhengruifeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhengruifeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhengruifeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhengruifeng/spark/languages","stargazers_url":"https://api.github.com/repos/zhengruifeng/spark/stargazers","contributors_url":"https://api.github.com/repos/zhengruifeng/spark/contributors","subscribers_url":"https://api.github.com/repos/zhengruifeng/spark/subscribers","subscription_url":"https://api.github.com/repos/zhengruifeng/spark/subscription","commits_url":"https://api.github.com/repos/zhengruifeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhengruifeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhengruifeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhengruifeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhengruifeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhengruifeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhengruifeng/spark/merges","archive_url":"https://api.github.com/repos/zhengruifeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhengruifeng/spark/downloads","issues_url":"https://api.github.com/repos/zhengruifeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhengruifeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhengruifeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhengruifeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhengruifeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhengruifeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhengruifeng/spark/deployments","created_at":"2016-02-12T11:58:00Z","updated_at":"2025-02-09T01:55:22Z","pushed_at":"2025-02-09T01:55:17Z","git_url":"git://github.com/zhengruifeng/spark.git","ssh_url":"git@github.com:zhengruifeng/spark.git","clone_url":"https://github.com/zhengruifeng/spark.git","svn_url":"https://github.com/zhengruifeng/spark","homepage":null,"size":434785,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"06a8f6b6d6f674d72fdb0d17e20041c442a2a6fd","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48363"},"html":{"href":"https://github.com/apache/spark/pull/48363"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48363"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48363/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48363/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48363/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3570a56dd5c5c4a2c3d200d28ea490e1f8ecc2ee"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48362","id":2109759159,"node_id":"PR_kwDOAQXtWs59wF63","html_url":"https://github.com/apache/spark/pull/48362","diff_url":"https://github.com/apache/spark/pull/48362.diff","patch_url":"https://github.com/apache/spark/pull/48362.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48362","number":48362,"state":"closed","locked":false,"title":"Revert \"[SPARK-49808][SQL] Fix a deadlock in subquery execution due o lazy vals\"","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\nThis reverts commit d7abddc454ffef6ac16e8f6df6f601eec621ddfd.\r\n\r\nWe had offline discussion, and @JoshRosen pointed out that:\r\n> The use of LazyTry vs. a non-try Lazy wrappers needs discussion:\r\nLazyTry caches failures. As a result, there is a potential risk of cancellation exceptions being cached here.\r\nThis is possibly an issue in case AQE interrupts subquery execution threads during planning, or otherwise can interrupt a subset of a query plan.\r\n","created_at":"2024-10-07T02:46:38Z","updated_at":"2024-10-08T17:29:04Z","closed_at":"2024-10-07T07:57:32Z","merged_at":null,"merge_commit_sha":"9e4a00fea887f3cc60a1bf6068c6bf15ca84be17","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48362/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48362/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48362/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b5ef806deb7b2281d4127d8d779e0a7bf176b0e8","head":{"label":"zhengruifeng:revert_fix_deadlock","ref":"revert_fix_deadlock","sha":"b5ef806deb7b2281d4127d8d779e0a7bf176b0e8","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":51584791,"node_id":"MDEwOlJlcG9zaXRvcnk1MTU4NDc5MQ==","name":"spark","full_name":"zhengruifeng/spark","private":false,"owner":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhengruifeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zhengruifeng/spark","forks_url":"https://api.github.com/repos/zhengruifeng/spark/forks","keys_url":"https://api.github.com/repos/zhengruifeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhengruifeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhengruifeng/spark/teams","hooks_url":"https://api.github.com/repos/zhengruifeng/spark/hooks","issue_events_url":"https://api.github.com/repos/zhengruifeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhengruifeng/spark/events","assignees_url":"https://api.github.com/repos/zhengruifeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhengruifeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhengruifeng/spark/tags","blobs_url":"https://api.github.com/repos/zhengruifeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhengruifeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhengruifeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhengruifeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhengruifeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhengruifeng/spark/languages","stargazers_url":"https://api.github.com/repos/zhengruifeng/spark/stargazers","contributors_url":"https://api.github.com/repos/zhengruifeng/spark/contributors","subscribers_url":"https://api.github.com/repos/zhengruifeng/spark/subscribers","subscription_url":"https://api.github.com/repos/zhengruifeng/spark/subscription","commits_url":"https://api.github.com/repos/zhengruifeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhengruifeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhengruifeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhengruifeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhengruifeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhengruifeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhengruifeng/spark/merges","archive_url":"https://api.github.com/repos/zhengruifeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhengruifeng/spark/downloads","issues_url":"https://api.github.com/repos/zhengruifeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhengruifeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhengruifeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhengruifeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhengruifeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhengruifeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhengruifeng/spark/deployments","created_at":"2016-02-12T11:58:00Z","updated_at":"2025-02-09T01:55:22Z","pushed_at":"2025-02-09T01:55:17Z","git_url":"git://github.com/zhengruifeng/spark.git","ssh_url":"git@github.com:zhengruifeng/spark.git","clone_url":"https://github.com/zhengruifeng/spark.git","svn_url":"https://github.com/zhengruifeng/spark","homepage":null,"size":434785,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"06a8f6b6d6f674d72fdb0d17e20041c442a2a6fd","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48362"},"html":{"href":"https://github.com/apache/spark/pull/48362"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48362"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48362/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48362/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48362/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b5ef806deb7b2281d4127d8d779e0a7bf176b0e8"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48361","id":2109347494,"node_id":"PR_kwDOAQXtWs59uham","html_url":"https://github.com/apache/spark/pull/48361","diff_url":"https://github.com/apache/spark/pull/48361.diff","patch_url":"https://github.com/apache/spark/pull/48361.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48361","number":48361,"state":"closed","locked":false,"title":"[SPARK-49806][PYTHON][TESTS][FOLLOW-UP] Skip newline difference in Spark Connect compatibility test","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR is a followup of https://github.com/apache/spark/pull/48277 that disables newline related tests in Spark Connect compatibility test.\r\n\r\n### Why are the changes needed?\r\n\r\nTo make the Spark Connect build pass. Currently, it fails as below (https://github.com/apache/spark/actions/runs/11186932292/job/31102993825):\r\n\r\n```\r\n======================================================================\r\nFAIL [0.100s]: test_repr_behaviors (pyspark.sql.tests.connect.test_parity_dataframe.DataFrameParityTests.test_repr_behaviors)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/runner/work/spark/spark-3.5/python/pyspark/sql/tests/test_dataframe.py\", line 1586, in test_repr_behaviors\r\n    self.assertEqual(re.sub(pattern, \"\", expected3), df.__repr__())\r\nAssertionError: '+---[23 chars]---+-----+\\n|  1|    1|\\n+---+-----+\\nonly showing top 1 row\\n' != '+---[23 chars]---+-----+\\n|  1|    1|\\n+---+-----+\\nonly showing top 1 row'\r\n  +---+-----+\r\n  |key|value|\r\n  +---+-----+\r\n  |  1|    1|\r\n  +---+-----+\r\n- only showing top 1 row\r\n?                       -\r\n+ only showing top 1 row\r\n```\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo, test-only.\r\n\r\n### How was this patch tested?\r\n\r\nManaully.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.","created_at":"2024-10-06T09:36:34Z","updated_at":"2024-10-08T01:33:27Z","closed_at":"2024-10-07T07:53:10Z","merged_at":null,"merge_commit_sha":"578c390045b925cc0dda62d0e018466305508d55","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48361/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48361/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48361/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/6087c07d2ba298442b1e15fdbe8cfdf24f63026f","head":{"label":"HyukjinKwon:SPARK-49806-follow-up","ref":"SPARK-49806-follow-up","sha":"6087c07d2ba298442b1e15fdbe8cfdf24f63026f","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:branch-3.5","ref":"branch-3.5","sha":"ca8407b9733882fd28a6f94fd88aef27f3b648d0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48361"},"html":{"href":"https://github.com/apache/spark/pull/48361"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48361"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48361/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48361/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48361/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/6087c07d2ba298442b1e15fdbe8cfdf24f63026f"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48360","id":2108619473,"node_id":"PR_kwDOAQXtWs59rvrR","html_url":"https://github.com/apache/spark/pull/48360","diff_url":"https://github.com/apache/spark/pull/48360.diff","patch_url":"https://github.com/apache/spark/pull/48360.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48360","number":48360,"state":"closed","locked":false,"title":"[MINOR][SQL] Move iterator.hasNext into try block in executeTask","user":{"login":"viirya","id":68855,"node_id":"MDQ6VXNlcjY4ODU1","avatar_url":"https://avatars.githubusercontent.com/u/68855?v=4","gravatar_id":"","url":"https://api.github.com/users/viirya","html_url":"https://github.com/viirya","followers_url":"https://api.github.com/users/viirya/followers","following_url":"https://api.github.com/users/viirya/following{/other_user}","gists_url":"https://api.github.com/users/viirya/gists{/gist_id}","starred_url":"https://api.github.com/users/viirya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/viirya/subscriptions","organizations_url":"https://api.github.com/users/viirya/orgs","repos_url":"https://api.github.com/users/viirya/repos","events_url":"https://api.github.com/users/viirya/events{/privacy}","received_events_url":"https://api.github.com/users/viirya/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nThis patch moves `iterator.hasNext` into the try block of `tryWithSafeFinallyAndFailureCallbacks` in `FileFormatWriter.executeTask`.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nNot only `dataWriter.writeWithIterator(iterator)` causes error, `iterator.hasNext` could cause error like:\r\n\r\n```\r\norg.apache.spark.shuffle.FetchFailedException: Block shuffle_1_106_21 is corrupted but checksum verification passed\r\n```\r\n\r\nAs it is not wrapped in the try block, `abort` won't be called on the committer. But as `setupTask` is called, it is safer to call `abort` in any case that error happens after it.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nExisting test\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\n\r\nNo\r\n","created_at":"2024-10-05T06:50:10Z","updated_at":"2024-10-06T06:02:33Z","closed_at":"2024-10-06T04:58:18Z","merged_at":null,"merge_commit_sha":"d338e1f5b10073b5ac5f6e6d76b8cdaa83e6d262","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48360/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48360/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48360/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/a942699b2d7f47ee7d7474da5819e108ce4c28d0","head":{"label":"viirya:try_block","ref":"try_block","sha":"a942699b2d7f47ee7d7474da5819e108ce4c28d0","user":{"login":"viirya","id":68855,"node_id":"MDQ6VXNlcjY4ODU1","avatar_url":"https://avatars.githubusercontent.com/u/68855?v=4","gravatar_id":"","url":"https://api.github.com/users/viirya","html_url":"https://github.com/viirya","followers_url":"https://api.github.com/users/viirya/followers","following_url":"https://api.github.com/users/viirya/following{/other_user}","gists_url":"https://api.github.com/users/viirya/gists{/gist_id}","starred_url":"https://api.github.com/users/viirya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/viirya/subscriptions","organizations_url":"https://api.github.com/users/viirya/orgs","repos_url":"https://api.github.com/users/viirya/repos","events_url":"https://api.github.com/users/viirya/events{/privacy}","received_events_url":"https://api.github.com/users/viirya/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":21467907,"node_id":"MDEwOlJlcG9zaXRvcnkyMTQ2NzkwNw==","name":"spark-1","full_name":"viirya/spark-1","private":false,"owner":{"login":"viirya","id":68855,"node_id":"MDQ6VXNlcjY4ODU1","avatar_url":"https://avatars.githubusercontent.com/u/68855?v=4","gravatar_id":"","url":"https://api.github.com/users/viirya","html_url":"https://github.com/viirya","followers_url":"https://api.github.com/users/viirya/followers","following_url":"https://api.github.com/users/viirya/following{/other_user}","gists_url":"https://api.github.com/users/viirya/gists{/gist_id}","starred_url":"https://api.github.com/users/viirya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/viirya/subscriptions","organizations_url":"https://api.github.com/users/viirya/orgs","repos_url":"https://api.github.com/users/viirya/repos","events_url":"https://api.github.com/users/viirya/events{/privacy}","received_events_url":"https://api.github.com/users/viirya/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/viirya/spark-1","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/viirya/spark-1","forks_url":"https://api.github.com/repos/viirya/spark-1/forks","keys_url":"https://api.github.com/repos/viirya/spark-1/keys{/key_id}","collaborators_url":"https://api.github.com/repos/viirya/spark-1/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/viirya/spark-1/teams","hooks_url":"https://api.github.com/repos/viirya/spark-1/hooks","issue_events_url":"https://api.github.com/repos/viirya/spark-1/issues/events{/number}","events_url":"https://api.github.com/repos/viirya/spark-1/events","assignees_url":"https://api.github.com/repos/viirya/spark-1/assignees{/user}","branches_url":"https://api.github.com/repos/viirya/spark-1/branches{/branch}","tags_url":"https://api.github.com/repos/viirya/spark-1/tags","blobs_url":"https://api.github.com/repos/viirya/spark-1/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/viirya/spark-1/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/viirya/spark-1/git/refs{/sha}","trees_url":"https://api.github.com/repos/viirya/spark-1/git/trees{/sha}","statuses_url":"https://api.github.com/repos/viirya/spark-1/statuses/{sha}","languages_url":"https://api.github.com/repos/viirya/spark-1/languages","stargazers_url":"https://api.github.com/repos/viirya/spark-1/stargazers","contributors_url":"https://api.github.com/repos/viirya/spark-1/contributors","subscribers_url":"https://api.github.com/repos/viirya/spark-1/subscribers","subscription_url":"https://api.github.com/repos/viirya/spark-1/subscription","commits_url":"https://api.github.com/repos/viirya/spark-1/commits{/sha}","git_commits_url":"https://api.github.com/repos/viirya/spark-1/git/commits{/sha}","comments_url":"https://api.github.com/repos/viirya/spark-1/comments{/number}","issue_comment_url":"https://api.github.com/repos/viirya/spark-1/issues/comments{/number}","contents_url":"https://api.github.com/repos/viirya/spark-1/contents/{+path}","compare_url":"https://api.github.com/repos/viirya/spark-1/compare/{base}...{head}","merges_url":"https://api.github.com/repos/viirya/spark-1/merges","archive_url":"https://api.github.com/repos/viirya/spark-1/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/viirya/spark-1/downloads","issues_url":"https://api.github.com/repos/viirya/spark-1/issues{/number}","pulls_url":"https://api.github.com/repos/viirya/spark-1/pulls{/number}","milestones_url":"https://api.github.com/repos/viirya/spark-1/milestones{/number}","notifications_url":"https://api.github.com/repos/viirya/spark-1/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/viirya/spark-1/labels{/name}","releases_url":"https://api.github.com/repos/viirya/spark-1/releases{/id}","deployments_url":"https://api.github.com/repos/viirya/spark-1/deployments","created_at":"2014-07-03T15:40:08Z","updated_at":"2025-02-01T00:45:46Z","pushed_at":"2025-02-01T00:42:28Z","git_url":"git://github.com/viirya/spark-1.git","ssh_url":"git@github.com:viirya/spark-1.git","clone_url":"https://github.com/viirya/spark-1.git","svn_url":"https://github.com/viirya/spark-1","homepage":null,"size":440683,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"3e69b40300af24482e690fa0ca47e1141cea91e2","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48360"},"html":{"href":"https://github.com/apache/spark/pull/48360"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48360"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48360/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48360/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48360/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/a942699b2d7f47ee7d7474da5819e108ce4c28d0"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48359","id":2108576610,"node_id":"PR_kwDOAQXtWs59rlNi","html_url":"https://github.com/apache/spark/pull/48359","diff_url":"https://github.com/apache/spark/pull/48359.diff","patch_url":"https://github.com/apache/spark/pull/48359.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48359","number":48359,"state":"closed","locked":false,"title":"[SPARK-49559][SQL] Add SQL pipe syntax for set operations","user":{"login":"dtenedor","id":99207096,"node_id":"U_kgDOBenHuA","avatar_url":"https://avatars.githubusercontent.com/u/99207096?v=4","gravatar_id":"","url":"https://api.github.com/users/dtenedor","html_url":"https://github.com/dtenedor","followers_url":"https://api.github.com/users/dtenedor/followers","following_url":"https://api.github.com/users/dtenedor/following{/other_user}","gists_url":"https://api.github.com/users/dtenedor/gists{/gist_id}","starred_url":"https://api.github.com/users/dtenedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dtenedor/subscriptions","organizations_url":"https://api.github.com/users/dtenedor/orgs","repos_url":"https://api.github.com/users/dtenedor/repos","events_url":"https://api.github.com/users/dtenedor/events{/privacy}","received_events_url":"https://api.github.com/users/dtenedor/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR adds SQL pipe syntax support for the set operations: UNION, INTERSECT, EXCEPT, DISTINCT.\r\n\r\nFor example:\r\n\r\n```\r\nCREATE TABLE t(x INT, y STRING) USING CSV;\r\nINSERT INTO t VALUES (0, 'abc'), (1, 'def');\r\n\r\nTABLE t\r\n|> UNION ALL (SELECT * FROM t);\r\n\r\n0\tabc\r\n0\tabc\r\n1\tdef\r\n1\tdef\r\n1\tNULL\r\n```\r\n\r\n### Why are the changes needed?\r\n\r\nThe SQL pipe operator syntax will let users compose queries in a more flexible fashion.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nYes, see above.\r\n\r\n### How was this patch tested?\r\n\r\nThis PR adds a few unit test cases, but mostly relies on golden file test coverage. I did this to make sure the answers are correct as this feature is implemented and also so we can look at the analyzer output plans to ensure they look right as well.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo","created_at":"2024-10-05T04:05:45Z","updated_at":"2024-10-09T07:41:01Z","closed_at":"2024-10-09T07:37:06Z","merged_at":null,"merge_commit_sha":"8121c267600b312fb14672e1ac18e6508bd03237","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48359/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48359/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48359/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/194bedd34fc1e67388d38990ab06be5497e0ba74","head":{"label":"dtenedor:pipe-union","ref":"pipe-union","sha":"194bedd34fc1e67388d38990ab06be5497e0ba74","user":{"login":"dtenedor","id":99207096,"node_id":"U_kgDOBenHuA","avatar_url":"https://avatars.githubusercontent.com/u/99207096?v=4","gravatar_id":"","url":"https://api.github.com/users/dtenedor","html_url":"https://github.com/dtenedor","followers_url":"https://api.github.com/users/dtenedor/followers","following_url":"https://api.github.com/users/dtenedor/following{/other_user}","gists_url":"https://api.github.com/users/dtenedor/gists{/gist_id}","starred_url":"https://api.github.com/users/dtenedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dtenedor/subscriptions","organizations_url":"https://api.github.com/users/dtenedor/orgs","repos_url":"https://api.github.com/users/dtenedor/repos","events_url":"https://api.github.com/users/dtenedor/events{/privacy}","received_events_url":"https://api.github.com/users/dtenedor/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":592933002,"node_id":"R_kgDOI1dwig","name":"spark","full_name":"dtenedor/spark","private":false,"owner":{"login":"dtenedor","id":99207096,"node_id":"U_kgDOBenHuA","avatar_url":"https://avatars.githubusercontent.com/u/99207096?v=4","gravatar_id":"","url":"https://api.github.com/users/dtenedor","html_url":"https://github.com/dtenedor","followers_url":"https://api.github.com/users/dtenedor/followers","following_url":"https://api.github.com/users/dtenedor/following{/other_user}","gists_url":"https://api.github.com/users/dtenedor/gists{/gist_id}","starred_url":"https://api.github.com/users/dtenedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dtenedor/subscriptions","organizations_url":"https://api.github.com/users/dtenedor/orgs","repos_url":"https://api.github.com/users/dtenedor/repos","events_url":"https://api.github.com/users/dtenedor/events{/privacy}","received_events_url":"https://api.github.com/users/dtenedor/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dtenedor/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/dtenedor/spark","forks_url":"https://api.github.com/repos/dtenedor/spark/forks","keys_url":"https://api.github.com/repos/dtenedor/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dtenedor/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dtenedor/spark/teams","hooks_url":"https://api.github.com/repos/dtenedor/spark/hooks","issue_events_url":"https://api.github.com/repos/dtenedor/spark/issues/events{/number}","events_url":"https://api.github.com/repos/dtenedor/spark/events","assignees_url":"https://api.github.com/repos/dtenedor/spark/assignees{/user}","branches_url":"https://api.github.com/repos/dtenedor/spark/branches{/branch}","tags_url":"https://api.github.com/repos/dtenedor/spark/tags","blobs_url":"https://api.github.com/repos/dtenedor/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dtenedor/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dtenedor/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/dtenedor/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dtenedor/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/dtenedor/spark/languages","stargazers_url":"https://api.github.com/repos/dtenedor/spark/stargazers","contributors_url":"https://api.github.com/repos/dtenedor/spark/contributors","subscribers_url":"https://api.github.com/repos/dtenedor/spark/subscribers","subscription_url":"https://api.github.com/repos/dtenedor/spark/subscription","commits_url":"https://api.github.com/repos/dtenedor/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/dtenedor/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/dtenedor/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/dtenedor/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/dtenedor/spark/contents/{+path}","compare_url":"https://api.github.com/repos/dtenedor/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dtenedor/spark/merges","archive_url":"https://api.github.com/repos/dtenedor/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dtenedor/spark/downloads","issues_url":"https://api.github.com/repos/dtenedor/spark/issues{/number}","pulls_url":"https://api.github.com/repos/dtenedor/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/dtenedor/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/dtenedor/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dtenedor/spark/labels{/name}","releases_url":"https://api.github.com/repos/dtenedor/spark/releases{/id}","deployments_url":"https://api.github.com/repos/dtenedor/spark/deployments","created_at":"2023-01-24T21:00:57Z","updated_at":"2025-01-17T22:49:32Z","pushed_at":"2025-01-17T22:48:49Z","git_url":"git://github.com/dtenedor/spark.git","ssh_url":"git@github.com:dtenedor/spark.git","clone_url":"https://github.com/dtenedor/spark.git","svn_url":"https://github.com/dtenedor/spark","homepage":"https://spark.apache.org/","size":423104,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"92e79e36c79ca56a637b78faa43f8e55263c2191","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48359"},"html":{"href":"https://github.com/apache/spark/pull/48359"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48359"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48359/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48359/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48359/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/194bedd34fc1e67388d38990ab06be5497e0ba74"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48358","id":2108475016,"node_id":"PR_kwDOAQXtWs59rMaI","html_url":"https://github.com/apache/spark/pull/48358","diff_url":"https://github.com/apache/spark/pull/48358.diff","patch_url":"https://github.com/apache/spark/pull/48358.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48358","number":48358,"state":"closed","locked":false,"title":"[SPARK-49868][DOC][FOLLOWUP] Update docs for executor failure tracking configrations","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nPreviously, the executor failure tracking code was located at `ExecutorPodsAllocator`, which only takes effect when `spark.kubernetes.allocation.pods.allocator=direct`. https://github.com/apache/spark/pull/48344 moves the code to the `ExecutorPodsLifecycleManager` \r\nconsequently removes this limitation.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nKeep docs up-to-date with code.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes, docs are updated.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nReview.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo.","created_at":"2024-10-04T23:15:15Z","updated_at":"2025-01-07T15:02:40Z","closed_at":"2025-01-07T15:02:16Z","merged_at":null,"merge_commit_sha":"9aa4353d7b5892f28b80381c4cad747de82d9f2e","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48358/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48358/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48358/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/cdafdf23dac6989e4baa0a74e6d9434c1709e907","head":{"label":"pan3793:SPARK-49868-followup","ref":"SPARK-49868-followup","sha":"cdafdf23dac6989e4baa0a74e6d9434c1709e907","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":275650396,"node_id":"MDEwOlJlcG9zaXRvcnkyNzU2NTAzOTY=","name":"spark","full_name":"pan3793/spark","private":false,"owner":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pan3793/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/pan3793/spark","forks_url":"https://api.github.com/repos/pan3793/spark/forks","keys_url":"https://api.github.com/repos/pan3793/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pan3793/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pan3793/spark/teams","hooks_url":"https://api.github.com/repos/pan3793/spark/hooks","issue_events_url":"https://api.github.com/repos/pan3793/spark/issues/events{/number}","events_url":"https://api.github.com/repos/pan3793/spark/events","assignees_url":"https://api.github.com/repos/pan3793/spark/assignees{/user}","branches_url":"https://api.github.com/repos/pan3793/spark/branches{/branch}","tags_url":"https://api.github.com/repos/pan3793/spark/tags","blobs_url":"https://api.github.com/repos/pan3793/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pan3793/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pan3793/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/pan3793/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pan3793/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/pan3793/spark/languages","stargazers_url":"https://api.github.com/repos/pan3793/spark/stargazers","contributors_url":"https://api.github.com/repos/pan3793/spark/contributors","subscribers_url":"https://api.github.com/repos/pan3793/spark/subscribers","subscription_url":"https://api.github.com/repos/pan3793/spark/subscription","commits_url":"https://api.github.com/repos/pan3793/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/pan3793/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/pan3793/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/pan3793/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/pan3793/spark/contents/{+path}","compare_url":"https://api.github.com/repos/pan3793/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pan3793/spark/merges","archive_url":"https://api.github.com/repos/pan3793/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pan3793/spark/downloads","issues_url":"https://api.github.com/repos/pan3793/spark/issues{/number}","pulls_url":"https://api.github.com/repos/pan3793/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/pan3793/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/pan3793/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pan3793/spark/labels{/name}","releases_url":"https://api.github.com/repos/pan3793/spark/releases{/id}","deployments_url":"https://api.github.com/repos/pan3793/spark/deployments","created_at":"2020-06-28T19:04:17Z","updated_at":"2024-06-11T02:32:11Z","pushed_at":"2025-01-16T02:34:50Z","git_url":"git://github.com/pan3793/spark.git","ssh_url":"git@github.com:pan3793/spark.git","clone_url":"https://github.com/pan3793/spark.git","svn_url":"https://github.com/pan3793/spark","homepage":"https://spark.apache.org/","size":473459,"stargazers_count":4,"watchers_count":4,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":0,"watchers":4,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d8c04cf2fb7599c993948df10f4746b70f8c52b9","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48358"},"html":{"href":"https://github.com/apache/spark/pull/48358"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48358"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48358/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48358/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48358/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/cdafdf23dac6989e4baa0a74e6d9434c1709e907"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48357","id":2108422021,"node_id":"PR_kwDOAQXtWs59q_eF","html_url":"https://github.com/apache/spark/pull/48357","diff_url":"https://github.com/apache/spark/pull/48357.diff","patch_url":"https://github.com/apache/spark/pull/48357.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48357","number":48357,"state":"closed","locked":false,"title":"[SPARK-47702][CORE][3.5] Remove Shuffle service endpoint from the locations list when RDD block is removed form a node","user":{"login":"attilapiros","id":2017933,"node_id":"MDQ6VXNlcjIwMTc5MzM=","avatar_url":"https://avatars.githubusercontent.com/u/2017933?v=4","gravatar_id":"","url":"https://api.github.com/users/attilapiros","html_url":"https://github.com/attilapiros","followers_url":"https://api.github.com/users/attilapiros/followers","following_url":"https://api.github.com/users/attilapiros/following{/other_user}","gists_url":"https://api.github.com/users/attilapiros/gists{/gist_id}","starred_url":"https://api.github.com/users/attilapiros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/attilapiros/subscriptions","organizations_url":"https://api.github.com/users/attilapiros/orgs","repos_url":"https://api.github.com/users/attilapiros/repos","events_url":"https://api.github.com/users/attilapiros/events{/privacy}","received_events_url":"https://api.github.com/users/attilapiros/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"Credit to maheshk114 for the initial investigation and the fix.\r\n\r\nThis PR fix a bug where the shuffle service's ID is kept among the block location list at the removing of a RDD block from a node. Before this change `StorageLevel.NONE` is used to notify about the block remove which causes the block manager master ignoring the update of the locations for shuffle service's IDs (for details please see the method `BlockManagerMasterEndpoint#updateBlockInfo()` and keep in mind `StorageLevel.NONE.useDisk` is `false`). But after this change only the replication count is set to 0 to notify the block remove so `StorageLevel#isValid` is still false but `storageLevel.useDisk` is kept as `true` this way the the shuffle service's ID will be removed from the block location list.\r\n\r\nIf the block location is not updated properly, then tasks fails with fetch failed exception. The tasks will try to read the RDD blocks from a node using external shuffle service. The read will fail, if the node is already decommissioned.\r\n\r\n```\r\nWARN BlockManager [Executor task launch worker for task 25.0 in stage 6.0 (TID 1567)]: Failed to fetch remote block rdd_5_25 from BlockManagerId(4, vm-92303839, 7337, None) (failed attempt 1)\r\norg.apache.spark.SparkException: Exception thrown in awaitResult:\r\n\tat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:301)\r\n\tat org.apache.spark.network.BlockTransferService.fetchBlockSync(BlockTransferService.scala:103)\r\n\tat org.apache.spark.storage.BlockManager.fetchRemoteManagedBuffer(BlockManager.scala:1155)\r\n\tat org.apache.spark.storage.BlockManager.$anonfun$getRemoteBlock$8(BlockManager.scala:1099)\r\n\tat scala.Option.orElse(Option.scala:447)\r\n\tat org.apache.spark.storage.BlockManager.getRemoteBlock(BlockManager.scala:1099)\r\n\tat org.apache.spark.storage.BlockManager.getRemoteValues(BlockManager.scala:1045)\r\n\tat org.apache.spark.storage.BlockManager.get(BlockManager.scala:1264)\r\n\tat org.apache.spark.storage.BlockManager.getOrElseUpdate(BlockManager.scala:1326)\r\n```\r\n\r\nNo\r\n\r\nAdded a new UT.\r\n\r\nNo\r\n","created_at":"2024-10-04T21:52:13Z","updated_at":"2024-10-05T04:58:21Z","closed_at":"2024-10-05T04:58:00Z","merged_at":null,"merge_commit_sha":"08d0770b64a2964c8a914858800a171e9960262e","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48357/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48357/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48357/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b07f83923eb20dee10403c624e58d4df2c615206","head":{"label":"attilapiros:SPARK-47702-Spark3.5","ref":"SPARK-47702-Spark3.5","sha":"b07f83923eb20dee10403c624e58d4df2c615206","user":{"login":"attilapiros","id":2017933,"node_id":"MDQ6VXNlcjIwMTc5MzM=","avatar_url":"https://avatars.githubusercontent.com/u/2017933?v=4","gravatar_id":"","url":"https://api.github.com/users/attilapiros","html_url":"https://github.com/attilapiros","followers_url":"https://api.github.com/users/attilapiros/followers","following_url":"https://api.github.com/users/attilapiros/following{/other_user}","gists_url":"https://api.github.com/users/attilapiros/gists{/gist_id}","starred_url":"https://api.github.com/users/attilapiros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/attilapiros/subscriptions","organizations_url":"https://api.github.com/users/attilapiros/orgs","repos_url":"https://api.github.com/users/attilapiros/repos","events_url":"https://api.github.com/users/attilapiros/events{/privacy}","received_events_url":"https://api.github.com/users/attilapiros/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":114023960,"node_id":"MDEwOlJlcG9zaXRvcnkxMTQwMjM5NjA=","name":"spark","full_name":"attilapiros/spark","private":false,"owner":{"login":"attilapiros","id":2017933,"node_id":"MDQ6VXNlcjIwMTc5MzM=","avatar_url":"https://avatars.githubusercontent.com/u/2017933?v=4","gravatar_id":"","url":"https://api.github.com/users/attilapiros","html_url":"https://github.com/attilapiros","followers_url":"https://api.github.com/users/attilapiros/followers","following_url":"https://api.github.com/users/attilapiros/following{/other_user}","gists_url":"https://api.github.com/users/attilapiros/gists{/gist_id}","starred_url":"https://api.github.com/users/attilapiros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/attilapiros/subscriptions","organizations_url":"https://api.github.com/users/attilapiros/orgs","repos_url":"https://api.github.com/users/attilapiros/repos","events_url":"https://api.github.com/users/attilapiros/events{/privacy}","received_events_url":"https://api.github.com/users/attilapiros/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/attilapiros/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/attilapiros/spark","forks_url":"https://api.github.com/repos/attilapiros/spark/forks","keys_url":"https://api.github.com/repos/attilapiros/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/attilapiros/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/attilapiros/spark/teams","hooks_url":"https://api.github.com/repos/attilapiros/spark/hooks","issue_events_url":"https://api.github.com/repos/attilapiros/spark/issues/events{/number}","events_url":"https://api.github.com/repos/attilapiros/spark/events","assignees_url":"https://api.github.com/repos/attilapiros/spark/assignees{/user}","branches_url":"https://api.github.com/repos/attilapiros/spark/branches{/branch}","tags_url":"https://api.github.com/repos/attilapiros/spark/tags","blobs_url":"https://api.github.com/repos/attilapiros/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/attilapiros/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/attilapiros/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/attilapiros/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/attilapiros/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/attilapiros/spark/languages","stargazers_url":"https://api.github.com/repos/attilapiros/spark/stargazers","contributors_url":"https://api.github.com/repos/attilapiros/spark/contributors","subscribers_url":"https://api.github.com/repos/attilapiros/spark/subscribers","subscription_url":"https://api.github.com/repos/attilapiros/spark/subscription","commits_url":"https://api.github.com/repos/attilapiros/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/attilapiros/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/attilapiros/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/attilapiros/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/attilapiros/spark/contents/{+path}","compare_url":"https://api.github.com/repos/attilapiros/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/attilapiros/spark/merges","archive_url":"https://api.github.com/repos/attilapiros/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/attilapiros/spark/downloads","issues_url":"https://api.github.com/repos/attilapiros/spark/issues{/number}","pulls_url":"https://api.github.com/repos/attilapiros/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/attilapiros/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/attilapiros/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/attilapiros/spark/labels{/name}","releases_url":"https://api.github.com/repos/attilapiros/spark/releases{/id}","deployments_url":"https://api.github.com/repos/attilapiros/spark/deployments","created_at":"2017-12-12T18:15:59Z","updated_at":"2024-10-24T21:08:52Z","pushed_at":"2024-10-29T03:59:48Z","git_url":"git://github.com/attilapiros/spark.git","ssh_url":"git@github.com:attilapiros/spark.git","clone_url":"https://github.com/attilapiros/spark.git","svn_url":"https://github.com/attilapiros/spark","homepage":null,"size":464315,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":2,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:branch-3.5","ref":"branch-3.5","sha":"d4b34d2898ec983642a512db90f7afef4a1e8c88","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48357"},"html":{"href":"https://github.com/apache/spark/pull/48357"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48357"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48357/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48357/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48357/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b07f83923eb20dee10403c624e58d4df2c615206"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48356","id":2108298490,"node_id":"PR_kwDOAQXtWs59qhT6","html_url":"https://github.com/apache/spark/pull/48356","diff_url":"https://github.com/apache/spark/pull/48356.diff","patch_url":"https://github.com/apache/spark/pull/48356.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48356","number":48356,"state":"closed","locked":false,"title":"[SPARK-49884][SS] State Store Checkpoint Structure V2 Backward compatibility Tests","user":{"login":"WweiL","id":10248890,"node_id":"MDQ6VXNlcjEwMjQ4ODkw","avatar_url":"https://avatars.githubusercontent.com/u/10248890?v=4","gravatar_id":"","url":"https://api.github.com/users/WweiL","html_url":"https://github.com/WweiL","followers_url":"https://api.github.com/users/WweiL/followers","following_url":"https://api.github.com/users/WweiL/following{/other_user}","gists_url":"https://api.github.com/users/WweiL/gists{/gist_id}","starred_url":"https://api.github.com/users/WweiL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WweiL/subscriptions","organizations_url":"https://api.github.com/users/WweiL/orgs","repos_url":"https://api.github.com/users/WweiL/repos","events_url":"https://api.github.com/users/WweiL/events{/privacy}","received_events_url":"https://api.github.com/users/WweiL/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis PR adds backward compatibility test in both query level and rocksDB level. Concretely, in query level, we test the following scenarios:\r\n\r\n```\r\n// Enable and disable changelog under ckpt v2\r\n(changelogEnabled, ckptv2), changelogEnabled, ckptv2)\r\n(changelogDisabled, ckptv2),changelogDisabled, ckptv2)\r\n\r\n// Cross version cross changelog enabled/disabled\r\n(changelogDisabled, ckptv1), changelogDisabled, ckptv2)\r\n(changelogEnabled, ckptv1), changelogEnabled, ckptv2)\r\n(changelogDisabled, ckptv1), changelogEnabled, ckptv2)\r\n(changelogEnabled, ckptv1), changelogDisabled, ckptv2)\r\n```\r\nThe query is first started with the first pair of configs, then restarted with the second pair of configs under the same checkpoint.\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nEssential test coverage.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nTest only addition\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo","created_at":"2024-10-04T20:26:25Z","updated_at":"2024-12-05T14:14:22Z","closed_at":"2024-12-05T14:14:22Z","merged_at":null,"merge_commit_sha":"e0a82cfe7fcf0b5829bd3a5ee938ed04f953f845","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48356/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48356/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48356/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/316d37067ffde145061e0f4f5d54c272c6ad2a49","head":{"label":"WweiL:backward-compatibility-for-review","ref":"backward-compatibility-for-review","sha":"316d37067ffde145061e0f4f5d54c272c6ad2a49","user":{"login":"WweiL","id":10248890,"node_id":"MDQ6VXNlcjEwMjQ4ODkw","avatar_url":"https://avatars.githubusercontent.com/u/10248890?v=4","gravatar_id":"","url":"https://api.github.com/users/WweiL","html_url":"https://github.com/WweiL","followers_url":"https://api.github.com/users/WweiL/followers","following_url":"https://api.github.com/users/WweiL/following{/other_user}","gists_url":"https://api.github.com/users/WweiL/gists{/gist_id}","starred_url":"https://api.github.com/users/WweiL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WweiL/subscriptions","organizations_url":"https://api.github.com/users/WweiL/orgs","repos_url":"https://api.github.com/users/WweiL/repos","events_url":"https://api.github.com/users/WweiL/events{/privacy}","received_events_url":"https://api.github.com/users/WweiL/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":538656848,"node_id":"R_kgDOIBtAUA","name":"oss-spark","full_name":"WweiL/oss-spark","private":false,"owner":{"login":"WweiL","id":10248890,"node_id":"MDQ6VXNlcjEwMjQ4ODkw","avatar_url":"https://avatars.githubusercontent.com/u/10248890?v=4","gravatar_id":"","url":"https://api.github.com/users/WweiL","html_url":"https://github.com/WweiL","followers_url":"https://api.github.com/users/WweiL/followers","following_url":"https://api.github.com/users/WweiL/following{/other_user}","gists_url":"https://api.github.com/users/WweiL/gists{/gist_id}","starred_url":"https://api.github.com/users/WweiL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WweiL/subscriptions","organizations_url":"https://api.github.com/users/WweiL/orgs","repos_url":"https://api.github.com/users/WweiL/repos","events_url":"https://api.github.com/users/WweiL/events{/privacy}","received_events_url":"https://api.github.com/users/WweiL/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/WweiL/oss-spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/WweiL/oss-spark","forks_url":"https://api.github.com/repos/WweiL/oss-spark/forks","keys_url":"https://api.github.com/repos/WweiL/oss-spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/WweiL/oss-spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/WweiL/oss-spark/teams","hooks_url":"https://api.github.com/repos/WweiL/oss-spark/hooks","issue_events_url":"https://api.github.com/repos/WweiL/oss-spark/issues/events{/number}","events_url":"https://api.github.com/repos/WweiL/oss-spark/events","assignees_url":"https://api.github.com/repos/WweiL/oss-spark/assignees{/user}","branches_url":"https://api.github.com/repos/WweiL/oss-spark/branches{/branch}","tags_url":"https://api.github.com/repos/WweiL/oss-spark/tags","blobs_url":"https://api.github.com/repos/WweiL/oss-spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/WweiL/oss-spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/WweiL/oss-spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/WweiL/oss-spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/WweiL/oss-spark/statuses/{sha}","languages_url":"https://api.github.com/repos/WweiL/oss-spark/languages","stargazers_url":"https://api.github.com/repos/WweiL/oss-spark/stargazers","contributors_url":"https://api.github.com/repos/WweiL/oss-spark/contributors","subscribers_url":"https://api.github.com/repos/WweiL/oss-spark/subscribers","subscription_url":"https://api.github.com/repos/WweiL/oss-spark/subscription","commits_url":"https://api.github.com/repos/WweiL/oss-spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/WweiL/oss-spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/WweiL/oss-spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/WweiL/oss-spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/WweiL/oss-spark/contents/{+path}","compare_url":"https://api.github.com/repos/WweiL/oss-spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/WweiL/oss-spark/merges","archive_url":"https://api.github.com/repos/WweiL/oss-spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/WweiL/oss-spark/downloads","issues_url":"https://api.github.com/repos/WweiL/oss-spark/issues{/number}","pulls_url":"https://api.github.com/repos/WweiL/oss-spark/pulls{/number}","milestones_url":"https://api.github.com/repos/WweiL/oss-spark/milestones{/number}","notifications_url":"https://api.github.com/repos/WweiL/oss-spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/WweiL/oss-spark/labels{/name}","releases_url":"https://api.github.com/repos/WweiL/oss-spark/releases{/id}","deployments_url":"https://api.github.com/repos/WweiL/oss-spark/deployments","created_at":"2022-09-19T19:05:16Z","updated_at":"2022-09-19T22:58:14Z","pushed_at":"2025-02-05T00:30:37Z","git_url":"git://github.com/WweiL/oss-spark.git","ssh_url":"git@github.com:WweiL/oss-spark.git","clone_url":"https://github.com/WweiL/oss-spark.git","svn_url":"https://github.com/WweiL/oss-spark","homepage":"https://spark.apache.org/","size":431552,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"008381518fa3c38b95e5d573b4001d51681768f1","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48356"},"html":{"href":"https://github.com/apache/spark/pull/48356"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48356"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48356/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48356/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48356/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/316d37067ffde145061e0f4f5d54c272c6ad2a49"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48355","id":2108289833,"node_id":"PR_kwDOAQXtWs59qfMp","html_url":"https://github.com/apache/spark/pull/48355","diff_url":"https://github.com/apache/spark/pull/48355.diff","patch_url":"https://github.com/apache/spark/pull/48355.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48355","number":48355,"state":"closed","locked":false,"title":"[SPARK-49883][SS] State Store Checkpoint Structure V2 Integration with RocksDB and RocksDBFileManager","user":{"login":"WweiL","id":10248890,"node_id":"MDQ6VXNlcjEwMjQ4ODkw","avatar_url":"https://avatars.githubusercontent.com/u/10248890?v=4","gravatar_id":"","url":"https://api.github.com/users/WweiL","html_url":"https://github.com/WweiL","followers_url":"https://api.github.com/users/WweiL/followers","following_url":"https://api.github.com/users/WweiL/following{/other_user}","gists_url":"https://api.github.com/users/WweiL/gists{/gist_id}","starred_url":"https://api.github.com/users/WweiL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WweiL/subscriptions","organizations_url":"https://api.github.com/users/WweiL/orgs","repos_url":"https://api.github.com/users/WweiL/repos","events_url":"https://api.github.com/users/WweiL/events{/privacy}","received_events_url":"https://api.github.com/users/WweiL/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis PR enables RocksDB to read <zip, changelog> file watermarked with unique ids (e.g. `version_uniqueId.zip`, `version_uniqueId.changelog`). Below is a explanation on the changes and rationale.\r\n\r\nNow for each changelog file, we put a \"version: uniqueId\" to its first line, from it's current version to the previous snapshot version. For each snapshot (zip) file, there is no change other than their name (`version_uniqueId.zip`), because snapshot files are single source of truth.\r\n\r\nIn addition to `LastCommitBasedCheckpointId, lastCommittedCheckpointId, loadedCheckpointId` added in https://github.com/apache/spark/pull/47895#pullrequestreview-2349097435, also add a in-memory instance `lineagfeManager` that contains mapping information version to unique Id. This is useful when you reuse the same rocksDB instance in the executor, so you don't need to load the lineage from the changelog file again.\r\n      \r\n## RocksDB:\r\n#### Load\r\n- When `loadedVersion != version`, try to load a changelog file with `version_checkpointUniqueId.changelog`. There could be multiple cases:\r\n    1. Version corresponds to a zip file:\r\n        1. `version_uniqueId.zip`, this means (either changelog was not enabled, or it was enabled but version happens to be a checkpoint file), and previously query run ckpt v2\r\n        2. `version.zip`, this means (either changelog was not enabled, or it was enabled but version happens to be a checkpoint file), and previously query run ckpt v1\r\n    2. Version corresponds to a changelog file:\r\n        1. `version_uniqueId.changelog`, this means changelog was enabled, and previously query run ckpt v2\r\n        2. `version.changelog`, this means changelog was enabled, and previously query run ckpt v1\r\n\r\n- For case i.a, we construct a new empty lineage `(version, sessionCheckpointId)`. `version_uniqueId.changelog`.\r\n- For case ii.a, we read the lineage file stored in \r\n- For case i.b and ii.b, there is no need to load the lineage as they were not presented before, we just load the corresponding file without `uniqueId`, but newer files will be constructed with uniqueId.\r\n\r\ncheckpoint version v1 to checkpoint version v2.\r\n\r\nNext the code finds all snapshot version through file listing. When there are multiple snapshot files with the same version but different unique Id (main problem this project was trying to solve), the correct one will be loaded based on the checkpoint id.\r\n\r\nThen changelog is replayed with the awareness of lineage. The lineage is stored in memory for next load().\r\n\r\nLast, load the changelog writer for version + 1, and write the lineage (version + 1, sessionCheckpointId) to the first line of the file. While it seems that the lineage is written early, it is safe because the change log writer is not committed yet.\r\n\r\n- When `loadedVersion == version`, the same rocks db instance is reused and the lineage is stored in memory to `versionToUniqueIdLineage`.\r\n\r\n#### Commit\r\n- Also save `sessionCheckpointId` to `latestSnapshot`\r\n- Add `(newVersion, sessionCheckpointId)` to `versionToUniqueIdLineage`\r\n\r\n#### Abort\r\nAlso clear up `versionToUniqueIdLineage`\r\n\r\n\r\n## RocksDBFileManager:\r\n- A bunch of add-ups to make until code uniqueId aware. Now all places that return version returns a <version, Option[uniqueId]> pair, in v1 format, the option is None.\r\n- \r\n### deleteOldVersions:\r\nIf there are multiple `version_uniqueId1.zip`(changelog) and `versioion.uniqueId2.zip`, all are deleted.\r\n\r\n## Changelog Reader / Writer\r\nWe purpose to save the lineage to the first line of the changelog files.\r\n\r\nFor changelog reader, there is an abstract function `readLineage` created. In `RocksDBCheckpointManager.getChangelogReader` function, the `readLineage` will be called right after the initialization of the changelog reader to update the file pointer to after the lineage. Subsequent `getNext` function won't be affecter because of this.\r\n\r\nFor changelog writer, there is an abstract function `writeLineage` that writes the lineage. This function will be called before any actual changelog data is written in `RocksDB.load()`.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  3. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nImprove fault tolerance to RocksDB State Store.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNot yet, after the V2 format project is finished, customer can use the new config to enable it with better rocksDB state store fault tolerance\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nModified existing unit tests. For unit tests and backward compatibility tests please refer to: https://github.com/apache/spark/pull/48356\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo","created_at":"2024-10-04T20:18:41Z","updated_at":"2024-12-13T08:29:25Z","closed_at":"2024-12-13T02:08:36Z","merged_at":null,"merge_commit_sha":"4d6f67c844e8b09a9c238b4af1fa85d4e10c6b2f","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48355/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48355/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48355/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/0273e4cc78963260d325feb4a9608d5428e2a397","head":{"label":"WweiL:integration-for-review","ref":"integration-for-review","sha":"0273e4cc78963260d325feb4a9608d5428e2a397","user":{"login":"WweiL","id":10248890,"node_id":"MDQ6VXNlcjEwMjQ4ODkw","avatar_url":"https://avatars.githubusercontent.com/u/10248890?v=4","gravatar_id":"","url":"https://api.github.com/users/WweiL","html_url":"https://github.com/WweiL","followers_url":"https://api.github.com/users/WweiL/followers","following_url":"https://api.github.com/users/WweiL/following{/other_user}","gists_url":"https://api.github.com/users/WweiL/gists{/gist_id}","starred_url":"https://api.github.com/users/WweiL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WweiL/subscriptions","organizations_url":"https://api.github.com/users/WweiL/orgs","repos_url":"https://api.github.com/users/WweiL/repos","events_url":"https://api.github.com/users/WweiL/events{/privacy}","received_events_url":"https://api.github.com/users/WweiL/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":538656848,"node_id":"R_kgDOIBtAUA","name":"oss-spark","full_name":"WweiL/oss-spark","private":false,"owner":{"login":"WweiL","id":10248890,"node_id":"MDQ6VXNlcjEwMjQ4ODkw","avatar_url":"https://avatars.githubusercontent.com/u/10248890?v=4","gravatar_id":"","url":"https://api.github.com/users/WweiL","html_url":"https://github.com/WweiL","followers_url":"https://api.github.com/users/WweiL/followers","following_url":"https://api.github.com/users/WweiL/following{/other_user}","gists_url":"https://api.github.com/users/WweiL/gists{/gist_id}","starred_url":"https://api.github.com/users/WweiL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WweiL/subscriptions","organizations_url":"https://api.github.com/users/WweiL/orgs","repos_url":"https://api.github.com/users/WweiL/repos","events_url":"https://api.github.com/users/WweiL/events{/privacy}","received_events_url":"https://api.github.com/users/WweiL/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/WweiL/oss-spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/WweiL/oss-spark","forks_url":"https://api.github.com/repos/WweiL/oss-spark/forks","keys_url":"https://api.github.com/repos/WweiL/oss-spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/WweiL/oss-spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/WweiL/oss-spark/teams","hooks_url":"https://api.github.com/repos/WweiL/oss-spark/hooks","issue_events_url":"https://api.github.com/repos/WweiL/oss-spark/issues/events{/number}","events_url":"https://api.github.com/repos/WweiL/oss-spark/events","assignees_url":"https://api.github.com/repos/WweiL/oss-spark/assignees{/user}","branches_url":"https://api.github.com/repos/WweiL/oss-spark/branches{/branch}","tags_url":"https://api.github.com/repos/WweiL/oss-spark/tags","blobs_url":"https://api.github.com/repos/WweiL/oss-spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/WweiL/oss-spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/WweiL/oss-spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/WweiL/oss-spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/WweiL/oss-spark/statuses/{sha}","languages_url":"https://api.github.com/repos/WweiL/oss-spark/languages","stargazers_url":"https://api.github.com/repos/WweiL/oss-spark/stargazers","contributors_url":"https://api.github.com/repos/WweiL/oss-spark/contributors","subscribers_url":"https://api.github.com/repos/WweiL/oss-spark/subscribers","subscription_url":"https://api.github.com/repos/WweiL/oss-spark/subscription","commits_url":"https://api.github.com/repos/WweiL/oss-spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/WweiL/oss-spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/WweiL/oss-spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/WweiL/oss-spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/WweiL/oss-spark/contents/{+path}","compare_url":"https://api.github.com/repos/WweiL/oss-spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/WweiL/oss-spark/merges","archive_url":"https://api.github.com/repos/WweiL/oss-spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/WweiL/oss-spark/downloads","issues_url":"https://api.github.com/repos/WweiL/oss-spark/issues{/number}","pulls_url":"https://api.github.com/repos/WweiL/oss-spark/pulls{/number}","milestones_url":"https://api.github.com/repos/WweiL/oss-spark/milestones{/number}","notifications_url":"https://api.github.com/repos/WweiL/oss-spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/WweiL/oss-spark/labels{/name}","releases_url":"https://api.github.com/repos/WweiL/oss-spark/releases{/id}","deployments_url":"https://api.github.com/repos/WweiL/oss-spark/deployments","created_at":"2022-09-19T19:05:16Z","updated_at":"2022-09-19T22:58:14Z","pushed_at":"2025-02-05T00:30:37Z","git_url":"git://github.com/WweiL/oss-spark.git","ssh_url":"git@github.com:WweiL/oss-spark.git","clone_url":"https://github.com/WweiL/oss-spark.git","svn_url":"https://github.com/WweiL/oss-spark","homepage":"https://spark.apache.org/","size":431552,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"af4f37c94ce47c28e3c324499463e032b68d454d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48355"},"html":{"href":"https://github.com/apache/spark/pull/48355"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48355"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48355/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48355/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48355/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/0273e4cc78963260d325feb4a9608d5428e2a397"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/48354","id":2108268669,"node_id":"PR_kwDOAQXtWs59qaB9","html_url":"https://github.com/apache/spark/pull/48354","diff_url":"https://github.com/apache/spark/pull/48354.diff","patch_url":"https://github.com/apache/spark/pull/48354.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/48354","number":48354,"state":"open","locked":false,"title":"[SPARK-49881][SQL] Skipping DeduplicateRelations rule conditionally to improve analyzer perf","user":{"login":"ahshahid","id":12415848,"node_id":"MDQ6VXNlcjEyNDE1ODQ4","avatar_url":"https://avatars.githubusercontent.com/u/12415848?v=4","gravatar_id":"","url":"https://api.github.com/users/ahshahid","html_url":"https://github.com/ahshahid","followers_url":"https://api.github.com/users/ahshahid/followers","following_url":"https://api.github.com/users/ahshahid/following{/other_user}","gists_url":"https://api.github.com/users/ahshahid/gists{/gist_id}","starred_url":"https://api.github.com/users/ahshahid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahshahid/subscriptions","organizations_url":"https://api.github.com/users/ahshahid/orgs","repos_url":"https://api.github.com/users/ahshahid/repos","events_url":"https://api.github.com/users/ahshahid/events{/privacy}","received_events_url":"https://api.github.com/users/ahshahid/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis PR is intended to improve analyzer performance by skip applying the DeduplicateRelations rule when there is a guarantee that there are no duplicate relations present in the query plan, upfront.\r\n\r\nThe code changes involved are:\r\n1) Storing the MultiInstanceRelations present in a query plan, as a field in QueryExecution. \r\n2) If its possible to know the Relations which will be present in a query , before hand,  then a non empty relations set is passed to the constructor of QueryExecution.\r\n3) If it is known upfront that there will be duplicate relations, then an empty set is passed to the QueryExecution constructor.\r\n4)If the relations set is non empty, then a Marker Plan is put on the top node , before analysis. \r\n5) In the DedupRelations rule, the presence of marker plan tells the code, to skip applying the rule, removes the marker node, and stores the info in AnalysisContext , for subsequent iterations of the batch.  \r\n6) The reason for storing the info in Analysis Context is because, some rules like ( Windowing rules related) may strip the top node ( in this case the Marker node).\r\n7) For DataFrame apis involving only 1 dataset, there is a guarantee that duplicate relations cannot occur, so long as subqueries are not present in the projection or filter clause (which is easily determined using the bitmap  present in the Node) and so the existing relations set can be passed to the QueryExecution constructor, when creating new dataframes.\r\n8)   For operations like join/union etc where there are 2 datasets involved, if the intersection of the two sets is empty , then that should mean that duplicate relations are not possible, and we can pass set1 ++ set2 in the resultant QueryExecution\r\n9) If the above set1. intersect. set2 is non empty, implying duplicate relations, in which case QueryExecution will be passed an empty relations set.\r\n\r\n\r\n### Why are the changes needed?\r\nThe deduplication rule is an expensive rule due to its nature of detecting the duplicate relations and then altering the exprIDs  etc. There are situations which can tell, whether a given plan will have any duplicate relations or not. Based on that knowledge the rule can be skipped.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n### How was this patch tested?\r\nexisting tests should pass. new tests will be added.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo","created_at":"2024-10-04T20:00:20Z","updated_at":"2025-01-15T16:04:20Z","closed_at":null,"merged_at":null,"merge_commit_sha":null,"assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/48354/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/48354/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/48354/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/8066d6d3ec8a005754c1d8eedb7b316c6ae8ca3b","head":{"label":"ahshahid:SPARK-49881","ref":"SPARK-49881","sha":"8066d6d3ec8a005754c1d8eedb7b316c6ae8ca3b","user":{"login":"ahshahid","id":12415848,"node_id":"MDQ6VXNlcjEyNDE1ODQ4","avatar_url":"https://avatars.githubusercontent.com/u/12415848?v=4","gravatar_id":"","url":"https://api.github.com/users/ahshahid","html_url":"https://github.com/ahshahid","followers_url":"https://api.github.com/users/ahshahid/followers","following_url":"https://api.github.com/users/ahshahid/following{/other_user}","gists_url":"https://api.github.com/users/ahshahid/gists{/gist_id}","starred_url":"https://api.github.com/users/ahshahid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahshahid/subscriptions","organizations_url":"https://api.github.com/users/ahshahid/orgs","repos_url":"https://api.github.com/users/ahshahid/repos","events_url":"https://api.github.com/users/ahshahid/events{/privacy}","received_events_url":"https://api.github.com/users/ahshahid/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":105594707,"node_id":"MDEwOlJlcG9zaXRvcnkxMDU1OTQ3MDc=","name":"spark","full_name":"ahshahid/spark","private":false,"owner":{"login":"ahshahid","id":12415848,"node_id":"MDQ6VXNlcjEyNDE1ODQ4","avatar_url":"https://avatars.githubusercontent.com/u/12415848?v=4","gravatar_id":"","url":"https://api.github.com/users/ahshahid","html_url":"https://github.com/ahshahid","followers_url":"https://api.github.com/users/ahshahid/followers","following_url":"https://api.github.com/users/ahshahid/following{/other_user}","gists_url":"https://api.github.com/users/ahshahid/gists{/gist_id}","starred_url":"https://api.github.com/users/ahshahid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahshahid/subscriptions","organizations_url":"https://api.github.com/users/ahshahid/orgs","repos_url":"https://api.github.com/users/ahshahid/repos","events_url":"https://api.github.com/users/ahshahid/events{/privacy}","received_events_url":"https://api.github.com/users/ahshahid/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ahshahid/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/ahshahid/spark","forks_url":"https://api.github.com/repos/ahshahid/spark/forks","keys_url":"https://api.github.com/repos/ahshahid/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ahshahid/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ahshahid/spark/teams","hooks_url":"https://api.github.com/repos/ahshahid/spark/hooks","issue_events_url":"https://api.github.com/repos/ahshahid/spark/issues/events{/number}","events_url":"https://api.github.com/repos/ahshahid/spark/events","assignees_url":"https://api.github.com/repos/ahshahid/spark/assignees{/user}","branches_url":"https://api.github.com/repos/ahshahid/spark/branches{/branch}","tags_url":"https://api.github.com/repos/ahshahid/spark/tags","blobs_url":"https://api.github.com/repos/ahshahid/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ahshahid/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ahshahid/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/ahshahid/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ahshahid/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/ahshahid/spark/languages","stargazers_url":"https://api.github.com/repos/ahshahid/spark/stargazers","contributors_url":"https://api.github.com/repos/ahshahid/spark/contributors","subscribers_url":"https://api.github.com/repos/ahshahid/spark/subscribers","subscription_url":"https://api.github.com/repos/ahshahid/spark/subscription","commits_url":"https://api.github.com/repos/ahshahid/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/ahshahid/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/ahshahid/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/ahshahid/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/ahshahid/spark/contents/{+path}","compare_url":"https://api.github.com/repos/ahshahid/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ahshahid/spark/merges","archive_url":"https://api.github.com/repos/ahshahid/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ahshahid/spark/downloads","issues_url":"https://api.github.com/repos/ahshahid/spark/issues{/number}","pulls_url":"https://api.github.com/repos/ahshahid/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/ahshahid/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/ahshahid/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ahshahid/spark/labels{/name}","releases_url":"https://api.github.com/repos/ahshahid/spark/releases{/id}","deployments_url":"https://api.github.com/repos/ahshahid/spark/deployments","created_at":"2017-10-02T23:14:16Z","updated_at":"2025-01-15T23:39:00Z","pushed_at":"2025-01-29T01:03:25Z","git_url":"git://github.com/ahshahid/spark.git","ssh_url":"git@github.com:ahshahid/spark.git","clone_url":"https://github.com/ahshahid/spark.git","svn_url":"https://github.com/ahshahid/spark","homepage":null,"size":455018,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1fd836271b6f284625ba0f50551bea87071d5d65","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/48354"},"html":{"href":"https://github.com/apache/spark/pull/48354"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/48354"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/48354/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/48354/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/48354/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/8066d6d3ec8a005754c1d8eedb7b316c6ae8ca3b"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}]