[{"url":"https://api.github.com/repos/apache/spark/pulls/23743","id":251134325,"node_id":"MDExOlB1bGxSZXF1ZXN0MjUxMTM0MzI1","html_url":"https://github.com/apache/spark/pull/23743","diff_url":"https://github.com/apache/spark/pull/23743.diff","patch_url":"https://github.com/apache/spark/pull/23743.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23743","number":23743,"state":"closed","locked":false,"title":"[SPARK-26843][MESOS] Use ConfigEntry for hardcoded configs for \"mesos\" resource manager","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThis patch makes hardcoded configs in \"mesos\" module to use ConfigEntry, avoiding issues on mistake like SPARK-26082.\r\n\r\nPlease note that there're some changes on type while migrating to ConfigEntry: specifically \"comma-separated list on a string\" becomes \"sequence of strings\". While SparkConf smoothly handles on the change (comma-separated list on a string is still supported so backward compatible), there're some methods in utility class (`mesos` package private) to depend on the type change, so this patch also modifies the method signature for them a bit.\r\n\r\n## How was this patch tested?\r\n\r\nExisting tests.","created_at":"2019-02-07T14:27:04Z","updated_at":"2019-02-11T00:39:20Z","closed_at":"2019-02-11T00:38:14Z","merged_at":null,"merge_commit_sha":"a9ac6b6921e119e81f51d0030d73f067c196496f","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23743/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23743/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23743/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/c5bee33443bf14b868800a3c30677b89f8251b7f","head":{"label":"HeartSaVioR:SPARK-26843","ref":"SPARK-26843","sha":"c5bee33443bf14b868800a3c30677b89f8251b7f","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":27994296,"node_id":"MDEwOlJlcG9zaXRvcnkyNzk5NDI5Ng==","name":"spark","full_name":"HeartSaVioR/spark","private":false,"owner":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HeartSaVioR/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HeartSaVioR/spark","forks_url":"https://api.github.com/repos/HeartSaVioR/spark/forks","keys_url":"https://api.github.com/repos/HeartSaVioR/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HeartSaVioR/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HeartSaVioR/spark/teams","hooks_url":"https://api.github.com/repos/HeartSaVioR/spark/hooks","issue_events_url":"https://api.github.com/repos/HeartSaVioR/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HeartSaVioR/spark/events","assignees_url":"https://api.github.com/repos/HeartSaVioR/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HeartSaVioR/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HeartSaVioR/spark/tags","blobs_url":"https://api.github.com/repos/HeartSaVioR/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HeartSaVioR/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HeartSaVioR/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HeartSaVioR/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HeartSaVioR/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HeartSaVioR/spark/languages","stargazers_url":"https://api.github.com/repos/HeartSaVioR/spark/stargazers","contributors_url":"https://api.github.com/repos/HeartSaVioR/spark/contributors","subscribers_url":"https://api.github.com/repos/HeartSaVioR/spark/subscribers","subscription_url":"https://api.github.com/repos/HeartSaVioR/spark/subscription","commits_url":"https://api.github.com/repos/HeartSaVioR/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HeartSaVioR/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HeartSaVioR/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HeartSaVioR/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HeartSaVioR/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HeartSaVioR/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HeartSaVioR/spark/merges","archive_url":"https://api.github.com/repos/HeartSaVioR/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HeartSaVioR/spark/downloads","issues_url":"https://api.github.com/repos/HeartSaVioR/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HeartSaVioR/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HeartSaVioR/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HeartSaVioR/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HeartSaVioR/spark/labels{/name}","releases_url":"https://api.github.com/repos/HeartSaVioR/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HeartSaVioR/spark/deployments","created_at":"2014-12-14T12:56:04Z","updated_at":"2024-10-21T04:36:36Z","pushed_at":"2025-01-08T06:13:27Z","git_url":"git://github.com/HeartSaVioR/spark.git","ssh_url":"git@github.com:HeartSaVioR/spark.git","clone_url":"https://github.com/HeartSaVioR/spark.git","svn_url":"https://github.com/HeartSaVioR/spark","homepage":null,"size":456164,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":1,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"b4e1d145135445eeed85784dab0c2c088930dd26","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23743"},"html":{"href":"https://github.com/apache/spark/pull/23743"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23743"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23743/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23743/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23743/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/c5bee33443bf14b868800a3c30677b89f8251b7f"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23742","id":251079758,"node_id":"MDExOlB1bGxSZXF1ZXN0MjUxMDc5NzU4","html_url":"https://github.com/apache/spark/pull/23742","diff_url":"https://github.com/apache/spark/pull/23742.diff","patch_url":"https://github.com/apache/spark/pull/23742.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23742","number":23742,"state":"closed","locked":false,"title":"[SPARK-26835][DOCS] Notes API documentation for available options of Data sources in SparkSQL guide","user":{"login":"peter-gergely-horvath","id":15800802,"node_id":"MDQ6VXNlcjE1ODAwODAy","avatar_url":"https://avatars.githubusercontent.com/u/15800802?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-gergely-horvath","html_url":"https://github.com/peter-gergely-horvath","followers_url":"https://api.github.com/users/peter-gergely-horvath/followers","following_url":"https://api.github.com/users/peter-gergely-horvath/following{/other_user}","gists_url":"https://api.github.com/users/peter-gergely-horvath/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-gergely-horvath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-gergely-horvath/subscriptions","organizations_url":"https://api.github.com/users/peter-gergely-horvath/orgs","repos_url":"https://api.github.com/users/peter-gergely-horvath/repos","events_url":"https://api.github.com/users/peter-gergely-horvath/events{/privacy}","received_events_url":"https://api.github.com/users/peter-gergely-horvath/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThis PR proposes to add some pointers of available options of Data source in Spark SQL guide.\r\n\r\n## How was this patch tested?\r\nN/A: documentation change\r\n","created_at":"2019-02-07T11:29:37Z","updated_at":"2019-02-13T14:05:24Z","closed_at":"2019-02-13T14:05:24Z","merged_at":null,"merge_commit_sha":"72a5799f532630c1a0a1d904eaaac9da21de0ca8","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23742/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23742/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23742/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/fc1350b7cca752cd6fd632ab3daa755d15015176","head":{"label":"peter-gergely-horvath:SPARK-26835","ref":"SPARK-26835","sha":"fc1350b7cca752cd6fd632ab3daa755d15015176","user":{"login":"peter-gergely-horvath","id":15800802,"node_id":"MDQ6VXNlcjE1ODAwODAy","avatar_url":"https://avatars.githubusercontent.com/u/15800802?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-gergely-horvath","html_url":"https://github.com/peter-gergely-horvath","followers_url":"https://api.github.com/users/peter-gergely-horvath/followers","following_url":"https://api.github.com/users/peter-gergely-horvath/following{/other_user}","gists_url":"https://api.github.com/users/peter-gergely-horvath/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-gergely-horvath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-gergely-horvath/subscriptions","organizations_url":"https://api.github.com/users/peter-gergely-horvath/orgs","repos_url":"https://api.github.com/users/peter-gergely-horvath/repos","events_url":"https://api.github.com/users/peter-gergely-horvath/events{/privacy}","received_events_url":"https://api.github.com/users/peter-gergely-horvath/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":169557076,"node_id":"MDEwOlJlcG9zaXRvcnkxNjk1NTcwNzY=","name":"spark","full_name":"peter-gergely-horvath/spark","private":false,"owner":{"login":"peter-gergely-horvath","id":15800802,"node_id":"MDQ6VXNlcjE1ODAwODAy","avatar_url":"https://avatars.githubusercontent.com/u/15800802?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-gergely-horvath","html_url":"https://github.com/peter-gergely-horvath","followers_url":"https://api.github.com/users/peter-gergely-horvath/followers","following_url":"https://api.github.com/users/peter-gergely-horvath/following{/other_user}","gists_url":"https://api.github.com/users/peter-gergely-horvath/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-gergely-horvath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-gergely-horvath/subscriptions","organizations_url":"https://api.github.com/users/peter-gergely-horvath/orgs","repos_url":"https://api.github.com/users/peter-gergely-horvath/repos","events_url":"https://api.github.com/users/peter-gergely-horvath/events{/privacy}","received_events_url":"https://api.github.com/users/peter-gergely-horvath/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/peter-gergely-horvath/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/peter-gergely-horvath/spark","forks_url":"https://api.github.com/repos/peter-gergely-horvath/spark/forks","keys_url":"https://api.github.com/repos/peter-gergely-horvath/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/peter-gergely-horvath/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/peter-gergely-horvath/spark/teams","hooks_url":"https://api.github.com/repos/peter-gergely-horvath/spark/hooks","issue_events_url":"https://api.github.com/repos/peter-gergely-horvath/spark/issues/events{/number}","events_url":"https://api.github.com/repos/peter-gergely-horvath/spark/events","assignees_url":"https://api.github.com/repos/peter-gergely-horvath/spark/assignees{/user}","branches_url":"https://api.github.com/repos/peter-gergely-horvath/spark/branches{/branch}","tags_url":"https://api.github.com/repos/peter-gergely-horvath/spark/tags","blobs_url":"https://api.github.com/repos/peter-gergely-horvath/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/peter-gergely-horvath/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/peter-gergely-horvath/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/peter-gergely-horvath/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/peter-gergely-horvath/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/peter-gergely-horvath/spark/languages","stargazers_url":"https://api.github.com/repos/peter-gergely-horvath/spark/stargazers","contributors_url":"https://api.github.com/repos/peter-gergely-horvath/spark/contributors","subscribers_url":"https://api.github.com/repos/peter-gergely-horvath/spark/subscribers","subscription_url":"https://api.github.com/repos/peter-gergely-horvath/spark/subscription","commits_url":"https://api.github.com/repos/peter-gergely-horvath/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/peter-gergely-horvath/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/peter-gergely-horvath/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/peter-gergely-horvath/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/peter-gergely-horvath/spark/contents/{+path}","compare_url":"https://api.github.com/repos/peter-gergely-horvath/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/peter-gergely-horvath/spark/merges","archive_url":"https://api.github.com/repos/peter-gergely-horvath/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/peter-gergely-horvath/spark/downloads","issues_url":"https://api.github.com/repos/peter-gergely-horvath/spark/issues{/number}","pulls_url":"https://api.github.com/repos/peter-gergely-horvath/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/peter-gergely-horvath/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/peter-gergely-horvath/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/peter-gergely-horvath/spark/labels{/name}","releases_url":"https://api.github.com/repos/peter-gergely-horvath/spark/releases{/id}","deployments_url":"https://api.github.com/repos/peter-gergely-horvath/spark/deployments","created_at":"2019-02-07T10:52:50Z","updated_at":"2019-02-07T10:53:22Z","pushed_at":"2019-03-05T18:04:38Z","git_url":"git://github.com/peter-gergely-horvath/spark.git","ssh_url":"git@github.com:peter-gergely-horvath/spark.git","clone_url":"https://github.com/peter-gergely-horvath/spark.git","svn_url":"https://github.com/peter-gergely-horvath/spark","homepage":"","size":295789,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c0811e8b4d11892f60b7032ba4c8e3adc40fe82f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23742"},"html":{"href":"https://github.com/apache/spark/pull/23742"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23742"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23742/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23742/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23742/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/fc1350b7cca752cd6fd632ab3daa755d15015176"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23741","id":250883936,"node_id":"MDExOlB1bGxSZXF1ZXN0MjUwODgzOTM2","html_url":"https://github.com/apache/spark/pull/23741","diff_url":"https://github.com/apache/spark/pull/23741.diff","patch_url":"https://github.com/apache/spark/pull/23741.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23741","number":23741,"state":"closed","locked":false,"title":"[SPARK-22798][PYTHON][ML]Add multiple column support to PySpark StringIndexer","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\n## What changes were proposed in this pull request?\r\n\r\nAdd multiple column support to PySpark StringIndexer\r\n\r\n## How was this patch tested?\r\n\r\nAdd doctest\r\n","created_at":"2019-02-06T19:46:35Z","updated_at":"2019-02-20T17:23:05Z","closed_at":"2019-02-20T14:56:12Z","merged_at":null,"merge_commit_sha":"08f3f93c0e654ca87fff33a2001c4ca028eeedc3","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23741/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23741/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23741/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/a022c0f33fd95118c48fa06e1fcf339bc74d2eba","head":{"label":"huaxingao:spark-22798","ref":"spark-22798","sha":"a022c0f33fd95118c48fa06e1fcf339bc74d2eba","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":50813048,"node_id":"MDEwOlJlcG9zaXRvcnk1MDgxMzA0OA==","name":"spark","full_name":"huaxingao/spark","private":false,"owner":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/huaxingao/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/huaxingao/spark","forks_url":"https://api.github.com/repos/huaxingao/spark/forks","keys_url":"https://api.github.com/repos/huaxingao/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/huaxingao/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/huaxingao/spark/teams","hooks_url":"https://api.github.com/repos/huaxingao/spark/hooks","issue_events_url":"https://api.github.com/repos/huaxingao/spark/issues/events{/number}","events_url":"https://api.github.com/repos/huaxingao/spark/events","assignees_url":"https://api.github.com/repos/huaxingao/spark/assignees{/user}","branches_url":"https://api.github.com/repos/huaxingao/spark/branches{/branch}","tags_url":"https://api.github.com/repos/huaxingao/spark/tags","blobs_url":"https://api.github.com/repos/huaxingao/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/huaxingao/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/huaxingao/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/huaxingao/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/huaxingao/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/huaxingao/spark/languages","stargazers_url":"https://api.github.com/repos/huaxingao/spark/stargazers","contributors_url":"https://api.github.com/repos/huaxingao/spark/contributors","subscribers_url":"https://api.github.com/repos/huaxingao/spark/subscribers","subscription_url":"https://api.github.com/repos/huaxingao/spark/subscription","commits_url":"https://api.github.com/repos/huaxingao/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/huaxingao/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/huaxingao/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/huaxingao/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/huaxingao/spark/contents/{+path}","compare_url":"https://api.github.com/repos/huaxingao/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/huaxingao/spark/merges","archive_url":"https://api.github.com/repos/huaxingao/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/huaxingao/spark/downloads","issues_url":"https://api.github.com/repos/huaxingao/spark/issues{/number}","pulls_url":"https://api.github.com/repos/huaxingao/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/huaxingao/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/huaxingao/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/huaxingao/spark/labels{/name}","releases_url":"https://api.github.com/repos/huaxingao/spark/releases{/id}","deployments_url":"https://api.github.com/repos/huaxingao/spark/deployments","created_at":"2016-02-01T04:09:11Z","updated_at":"2022-01-06T22:35:11Z","pushed_at":"2023-12-21T02:21:07Z","git_url":"git://github.com/huaxingao/spark.git","ssh_url":"git@github.com:huaxingao/spark.git","clone_url":"https://github.com/huaxingao/spark.git","svn_url":"https://github.com/huaxingao/spark","homepage":null,"size":376946,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"a0e81fcfe8a6dbb246f8b170b6f5e203ab194d7e","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23741"},"html":{"href":"https://github.com/apache/spark/pull/23741"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23741"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23741/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23741/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23741/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/a022c0f33fd95118c48fa06e1fcf339bc74d2eba"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23740","id":250807217,"node_id":"MDExOlB1bGxSZXF1ZXN0MjUwODA3MjE3","html_url":"https://github.com/apache/spark/pull/23740","diff_url":"https://github.com/apache/spark/pull/23740.diff","patch_url":"https://github.com/apache/spark/pull/23740.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23740","number":23740,"state":"closed","locked":false,"title":"[SPARK-26837][SQL] Pruning nested fields from object serializers","user":{"login":"viirya","id":68855,"node_id":"MDQ6VXNlcjY4ODU1","avatar_url":"https://avatars.githubusercontent.com/u/68855?v=4","gravatar_id":"","url":"https://api.github.com/users/viirya","html_url":"https://github.com/viirya","followers_url":"https://api.github.com/users/viirya/followers","following_url":"https://api.github.com/users/viirya/following{/other_user}","gists_url":"https://api.github.com/users/viirya/gists{/gist_id}","starred_url":"https://api.github.com/users/viirya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/viirya/subscriptions","organizations_url":"https://api.github.com/users/viirya/orgs","repos_url":"https://api.github.com/users/viirya/repos","events_url":"https://api.github.com/users/viirya/events{/privacy}","received_events_url":"https://api.github.com/users/viirya/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nIn SPARK-26619, we make change to prune unnecessary individual serializers when serializing objects. This is extension to SPARK-26619. We can further prune nested fields from object serializers if they are not used.\r\n\r\nFor example, in following query, we only use one field in a struct column:\r\n\r\n```scala\r\nval data = Seq(((\"a\", 1), 1), ((\"b\", 2), 2), ((\"c\", 3), 3))\r\nval df = data.toDS().map(t => (t._1, t._2 + 1)).select(\"_1._1\")\r\n```\r\n\r\nSo, instead of having a serializer to create a two fields struct, we can prune unnecessary field from it. This is what this PR proposes to do.\r\n\r\nIn order to make this change conservative and safer, a SQL config is added to control it. It is disabled by default.\r\n\r\nTODO: Support to prune nested fields inside MapType's key and value.\r\n\r\n## How was this patch tested?\r\n\r\nAdded tests.","created_at":"2019-02-06T15:53:16Z","updated_at":"2023-12-27T18:36:13Z","closed_at":"2019-02-27T04:48:54Z","merged_at":null,"merge_commit_sha":"6c99ba6604a5b71b175262f4714b761b4ff70331","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23740/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23740/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23740/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/ef392723a3ed8bc53332e15fc98c34ca4ff92cfb","head":{"label":"viirya:nested-pruning-serializer-2","ref":"nested-pruning-serializer-2","sha":"ef392723a3ed8bc53332e15fc98c34ca4ff92cfb","user":{"login":"viirya","id":68855,"node_id":"MDQ6VXNlcjY4ODU1","avatar_url":"https://avatars.githubusercontent.com/u/68855?v=4","gravatar_id":"","url":"https://api.github.com/users/viirya","html_url":"https://github.com/viirya","followers_url":"https://api.github.com/users/viirya/followers","following_url":"https://api.github.com/users/viirya/following{/other_user}","gists_url":"https://api.github.com/users/viirya/gists{/gist_id}","starred_url":"https://api.github.com/users/viirya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/viirya/subscriptions","organizations_url":"https://api.github.com/users/viirya/orgs","repos_url":"https://api.github.com/users/viirya/repos","events_url":"https://api.github.com/users/viirya/events{/privacy}","received_events_url":"https://api.github.com/users/viirya/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":21467907,"node_id":"MDEwOlJlcG9zaXRvcnkyMTQ2NzkwNw==","name":"spark-1","full_name":"viirya/spark-1","private":false,"owner":{"login":"viirya","id":68855,"node_id":"MDQ6VXNlcjY4ODU1","avatar_url":"https://avatars.githubusercontent.com/u/68855?v=4","gravatar_id":"","url":"https://api.github.com/users/viirya","html_url":"https://github.com/viirya","followers_url":"https://api.github.com/users/viirya/followers","following_url":"https://api.github.com/users/viirya/following{/other_user}","gists_url":"https://api.github.com/users/viirya/gists{/gist_id}","starred_url":"https://api.github.com/users/viirya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/viirya/subscriptions","organizations_url":"https://api.github.com/users/viirya/orgs","repos_url":"https://api.github.com/users/viirya/repos","events_url":"https://api.github.com/users/viirya/events{/privacy}","received_events_url":"https://api.github.com/users/viirya/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/viirya/spark-1","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/viirya/spark-1","forks_url":"https://api.github.com/repos/viirya/spark-1/forks","keys_url":"https://api.github.com/repos/viirya/spark-1/keys{/key_id}","collaborators_url":"https://api.github.com/repos/viirya/spark-1/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/viirya/spark-1/teams","hooks_url":"https://api.github.com/repos/viirya/spark-1/hooks","issue_events_url":"https://api.github.com/repos/viirya/spark-1/issues/events{/number}","events_url":"https://api.github.com/repos/viirya/spark-1/events","assignees_url":"https://api.github.com/repos/viirya/spark-1/assignees{/user}","branches_url":"https://api.github.com/repos/viirya/spark-1/branches{/branch}","tags_url":"https://api.github.com/repos/viirya/spark-1/tags","blobs_url":"https://api.github.com/repos/viirya/spark-1/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/viirya/spark-1/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/viirya/spark-1/git/refs{/sha}","trees_url":"https://api.github.com/repos/viirya/spark-1/git/trees{/sha}","statuses_url":"https://api.github.com/repos/viirya/spark-1/statuses/{sha}","languages_url":"https://api.github.com/repos/viirya/spark-1/languages","stargazers_url":"https://api.github.com/repos/viirya/spark-1/stargazers","contributors_url":"https://api.github.com/repos/viirya/spark-1/contributors","subscribers_url":"https://api.github.com/repos/viirya/spark-1/subscribers","subscription_url":"https://api.github.com/repos/viirya/spark-1/subscription","commits_url":"https://api.github.com/repos/viirya/spark-1/commits{/sha}","git_commits_url":"https://api.github.com/repos/viirya/spark-1/git/commits{/sha}","comments_url":"https://api.github.com/repos/viirya/spark-1/comments{/number}","issue_comment_url":"https://api.github.com/repos/viirya/spark-1/issues/comments{/number}","contents_url":"https://api.github.com/repos/viirya/spark-1/contents/{+path}","compare_url":"https://api.github.com/repos/viirya/spark-1/compare/{base}...{head}","merges_url":"https://api.github.com/repos/viirya/spark-1/merges","archive_url":"https://api.github.com/repos/viirya/spark-1/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/viirya/spark-1/downloads","issues_url":"https://api.github.com/repos/viirya/spark-1/issues{/number}","pulls_url":"https://api.github.com/repos/viirya/spark-1/pulls{/number}","milestones_url":"https://api.github.com/repos/viirya/spark-1/milestones{/number}","notifications_url":"https://api.github.com/repos/viirya/spark-1/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/viirya/spark-1/labels{/name}","releases_url":"https://api.github.com/repos/viirya/spark-1/releases{/id}","deployments_url":"https://api.github.com/repos/viirya/spark-1/deployments","created_at":"2014-07-03T15:40:08Z","updated_at":"2025-02-01T00:45:46Z","pushed_at":"2025-02-01T00:42:28Z","git_url":"git://github.com/viirya/spark-1.git","ssh_url":"git@github.com:viirya/spark-1.git","clone_url":"https://github.com/viirya/spark-1.git","svn_url":"https://github.com/viirya/spark-1","homepage":null,"size":440683,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"3d2e55abd0ec7ee06c87681132aa0d8c8f8de3f3","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23740"},"html":{"href":"https://github.com/apache/spark/pull/23740"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23740"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23740/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23740/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23740/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/ef392723a3ed8bc53332e15fc98c34ca4ff92cfb"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23739","id":250694344,"node_id":"MDExOlB1bGxSZXF1ZXN0MjUwNjk0MzQ0","html_url":"https://github.com/apache/spark/pull/23739","diff_url":"https://github.com/apache/spark/pull/23739.diff","patch_url":"https://github.com/apache/spark/pull/23739.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23739","number":23739,"state":"closed","locked":false,"title":"[MINOR][SQL][PYTHON] Make projection creation separate of the output in FlatMapGroupsInPandasExec","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThe projection creation at output looks confusing. It looks like creating each projection for each record (but actually it doesn't). We should better pull it out.\r\n\r\n## How was this patch tested?\r\n\r\nExisting tests should cover.","created_at":"2019-02-06T10:06:49Z","updated_at":"2020-03-03T01:19:55Z","closed_at":"2019-02-07T03:56:54Z","merged_at":null,"merge_commit_sha":"c849d8d70406b285546e5f5de9ae9621ba5e04a8","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23739/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23739/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23739/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b9eed23fbb6a8ab15377cd070a337509dfb6e5e1","head":{"label":"HyukjinKwon:SPARK-26832","ref":"SPARK-26832","sha":"b9eed23fbb6a8ab15377cd070a337509dfb6e5e1","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"63bced9375ec1ec6ded220d768cd746050861a09","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23739"},"html":{"href":"https://github.com/apache/spark/pull/23739"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23739"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23739/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23739/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23739/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b9eed23fbb6a8ab15377cd070a337509dfb6e5e1"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23738","id":250506329,"node_id":"MDExOlB1bGxSZXF1ZXN0MjUwNTA2MzI5","html_url":"https://github.com/apache/spark/pull/23738","diff_url":"https://github.com/apache/spark/pull/23738.diff","patch_url":"https://github.com/apache/spark/pull/23738.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23738","number":23738,"state":"closed","locked":false,"title":"[SPARK-26677][FOLLOWUP][BRANCH-2.4] Update Parquet manifest with Hadoop-2.6","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nDuring merging Parquet upgrade PR, `hadoop-2.6` profile dependency manifest is missed.\r\n\r\n## How was this patch tested?\r\n\r\nManual. \r\n\r\n```\r\n./dev/test-dependencies.sh\r\n```\r\n\r\nAlso, this will recover `branch-2.4` with `hadoop-2.6` build.\r\n- https://amplab.cs.berkeley.edu/jenkins/view/Spark%20QA%20Test%20(Dashboard)/job/spark-branch-2.4-test-sbt-hadoop-2.6/281/","created_at":"2019-02-05T18:28:11Z","updated_at":"2019-02-06T01:23:21Z","closed_at":"2019-02-06T01:23:18Z","merged_at":null,"merge_commit_sha":"e4f80120c04c02a5cde36331f825e96ce06e2cc8","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23738/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23738/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23738/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/8d180df72e68a373f186223d01656c977f90fd87","head":{"label":"dongjoon-hyun:SPARK-26677-2","ref":"SPARK-26677-2","sha":"8d180df72e68a373f186223d01656c977f90fd87","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:branch-2.4","ref":"branch-2.4","sha":"7187c012213eb4f13b5546f60514be5f08c7392a","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23738"},"html":{"href":"https://github.com/apache/spark/pull/23738"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23738"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23738/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23738/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23738/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/8d180df72e68a373f186223d01656c977f90fd87"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23737","id":250447481,"node_id":"MDExOlB1bGxSZXF1ZXN0MjUwNDQ3NDgx","html_url":"https://github.com/apache/spark/pull/23737","diff_url":"https://github.com/apache/spark/pull/23737.diff","patch_url":"https://github.com/apache/spark/pull/23737.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23737","number":23737,"state":"closed","locked":false,"title":"[SPARK-26826][SQL] Array indexing functions","user":{"login":"zecevicp","id":9744763,"node_id":"MDQ6VXNlcjk3NDQ3NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9744763?v=4","gravatar_id":"","url":"https://api.github.com/users/zecevicp","html_url":"https://github.com/zecevicp","followers_url":"https://api.github.com/users/zecevicp/followers","following_url":"https://api.github.com/users/zecevicp/following{/other_user}","gists_url":"https://api.github.com/users/zecevicp/gists{/gist_id}","starred_url":"https://api.github.com/users/zecevicp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zecevicp/subscriptions","organizations_url":"https://api.github.com/users/zecevicp/orgs","repos_url":"https://api.github.com/users/zecevicp/repos","events_url":"https://api.github.com/users/zecevicp/events{/privacy}","received_events_url":"https://api.github.com/users/zecevicp/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThis PR proposes two extra array functions: `array_allpositions` (named after `array_position`) and `array_select`. These functions should make it easier to:\r\n- get an array of indices of all occurences of a value in an array (`array_allpositions`)\r\n- select all elements of an array based on an array of indices (`array_select`)\r\n\r\nAlthough higher-order functions, such as `aggregate` and `transform`, have been recently added, performing tasks above is still not simple, hence this addition.\r\n\r\n\r\n## How was this patch tested?\r\nUnit tests\r\n","created_at":"2019-02-05T15:36:41Z","updated_at":"2019-02-07T08:30:39Z","closed_at":"2019-02-07T08:30:39Z","merged_at":null,"merge_commit_sha":"21c95d4ba49236b8b58856107024aa79ba2eb341","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23737/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23737/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23737/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/47300a853482df7df16a3eebe2c77246f2b82fbb","head":{"label":"astronomy-commons:array_funcs","ref":"array_funcs","sha":"47300a853482df7df16a3eebe2c77246f2b82fbb","user":{"login":"astronomy-commons","id":58103732,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU4MTAzNzMy","avatar_url":"https://avatars.githubusercontent.com/u/58103732?v=4","gravatar_id":"","url":"https://api.github.com/users/astronomy-commons","html_url":"https://github.com/astronomy-commons","followers_url":"https://api.github.com/users/astronomy-commons/followers","following_url":"https://api.github.com/users/astronomy-commons/following{/other_user}","gists_url":"https://api.github.com/users/astronomy-commons/gists{/gist_id}","starred_url":"https://api.github.com/users/astronomy-commons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astronomy-commons/subscriptions","organizations_url":"https://api.github.com/users/astronomy-commons/orgs","repos_url":"https://api.github.com/users/astronomy-commons/repos","events_url":"https://api.github.com/users/astronomy-commons/events{/privacy}","received_events_url":"https://api.github.com/users/astronomy-commons/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":126226262,"node_id":"MDEwOlJlcG9zaXRvcnkxMjYyMjYyNjI=","name":"axs-spark","full_name":"astronomy-commons/axs-spark","private":false,"owner":{"login":"astronomy-commons","id":58103732,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU4MTAzNzMy","avatar_url":"https://avatars.githubusercontent.com/u/58103732?v=4","gravatar_id":"","url":"https://api.github.com/users/astronomy-commons","html_url":"https://github.com/astronomy-commons","followers_url":"https://api.github.com/users/astronomy-commons/followers","following_url":"https://api.github.com/users/astronomy-commons/following{/other_user}","gists_url":"https://api.github.com/users/astronomy-commons/gists{/gist_id}","starred_url":"https://api.github.com/users/astronomy-commons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astronomy-commons/subscriptions","organizations_url":"https://api.github.com/users/astronomy-commons/orgs","repos_url":"https://api.github.com/users/astronomy-commons/repos","events_url":"https://api.github.com/users/astronomy-commons/events{/privacy}","received_events_url":"https://api.github.com/users/astronomy-commons/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/astronomy-commons/axs-spark","description":"Mirror of Apache Spark with AXS patches","fork":true,"url":"https://api.github.com/repos/astronomy-commons/axs-spark","forks_url":"https://api.github.com/repos/astronomy-commons/axs-spark/forks","keys_url":"https://api.github.com/repos/astronomy-commons/axs-spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/astronomy-commons/axs-spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/astronomy-commons/axs-spark/teams","hooks_url":"https://api.github.com/repos/astronomy-commons/axs-spark/hooks","issue_events_url":"https://api.github.com/repos/astronomy-commons/axs-spark/issues/events{/number}","events_url":"https://api.github.com/repos/astronomy-commons/axs-spark/events","assignees_url":"https://api.github.com/repos/astronomy-commons/axs-spark/assignees{/user}","branches_url":"https://api.github.com/repos/astronomy-commons/axs-spark/branches{/branch}","tags_url":"https://api.github.com/repos/astronomy-commons/axs-spark/tags","blobs_url":"https://api.github.com/repos/astronomy-commons/axs-spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/astronomy-commons/axs-spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/astronomy-commons/axs-spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/astronomy-commons/axs-spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/astronomy-commons/axs-spark/statuses/{sha}","languages_url":"https://api.github.com/repos/astronomy-commons/axs-spark/languages","stargazers_url":"https://api.github.com/repos/astronomy-commons/axs-spark/stargazers","contributors_url":"https://api.github.com/repos/astronomy-commons/axs-spark/contributors","subscribers_url":"https://api.github.com/repos/astronomy-commons/axs-spark/subscribers","subscription_url":"https://api.github.com/repos/astronomy-commons/axs-spark/subscription","commits_url":"https://api.github.com/repos/astronomy-commons/axs-spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/astronomy-commons/axs-spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/astronomy-commons/axs-spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/astronomy-commons/axs-spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/astronomy-commons/axs-spark/contents/{+path}","compare_url":"https://api.github.com/repos/astronomy-commons/axs-spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/astronomy-commons/axs-spark/merges","archive_url":"https://api.github.com/repos/astronomy-commons/axs-spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/astronomy-commons/axs-spark/downloads","issues_url":"https://api.github.com/repos/astronomy-commons/axs-spark/issues{/number}","pulls_url":"https://api.github.com/repos/astronomy-commons/axs-spark/pulls{/number}","milestones_url":"https://api.github.com/repos/astronomy-commons/axs-spark/milestones{/number}","notifications_url":"https://api.github.com/repos/astronomy-commons/axs-spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/astronomy-commons/axs-spark/labels{/name}","releases_url":"https://api.github.com/repos/astronomy-commons/axs-spark/releases{/id}","deployments_url":"https://api.github.com/repos/astronomy-commons/axs-spark/deployments","created_at":"2018-03-21T18:52:56Z","updated_at":"2020-11-24T23:33:03Z","pushed_at":"2021-06-03T22:39:19Z","git_url":"git://github.com/astronomy-commons/axs-spark.git","ssh_url":"git@github.com:astronomy-commons/axs-spark.git","clone_url":"https://github.com/astronomy-commons/axs-spark.git","svn_url":"https://github.com/astronomy-commons/axs-spark","homepage":"","size":338752,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1dd7419702c5bc7e36fee9fa1eec06b66f25806e","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23737"},"html":{"href":"https://github.com/apache/spark/pull/23737"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23737"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23737/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23737/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23737/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/47300a853482df7df16a3eebe2c77246f2b82fbb"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23736","id":250363366,"node_id":"MDExOlB1bGxSZXF1ZXN0MjUwMzYzMzY2","html_url":"https://github.com/apache/spark/pull/23736","diff_url":"https://github.com/apache/spark/pull/23736.diff","patch_url":"https://github.com/apache/spark/pull/23736.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23736","number":23736,"state":"closed","locked":false,"title":"[SPARK-26831][PYTHON] Eliminates Python version check for executor at driver side when using IPython","user":{"login":"soxofaan","id":44946,"node_id":"MDQ6VXNlcjQ0OTQ2","avatar_url":"https://avatars.githubusercontent.com/u/44946?v=4","gravatar_id":"","url":"https://api.github.com/users/soxofaan","html_url":"https://github.com/soxofaan","followers_url":"https://api.github.com/users/soxofaan/followers","following_url":"https://api.github.com/users/soxofaan/following{/other_user}","gists_url":"https://api.github.com/users/soxofaan/gists{/gist_id}","starred_url":"https://api.github.com/users/soxofaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/soxofaan/subscriptions","organizations_url":"https://api.github.com/users/soxofaan/orgs","repos_url":"https://api.github.com/users/soxofaan/repos","events_url":"https://api.github.com/users/soxofaan/events{/privacy}","received_events_url":"https://api.github.com/users/soxofaan/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nI was trying out pyspark on a system with only a `python3` command but no `python` command and got this error:\r\n\r\n```bash\r\n/opt/spark/bin/pyspark: line 45: python: command not found\r\n```\r\n\r\nI also noticed the bash syntax for the IPython version check is wrong:  `[[ !  $WORKS_WITH_IPYTHON ]]`  always evaluates to false when `$WORKS_WITH_IPYTHON` is non-empty \r\n\r\nThis PR simply eliminates the Python version check for executor at driver side when using IPython.\r\n\r\n## How was this patch tested?\r\n\r\nI manually tested the `pyspark` launch script and bash syntax stuff\r\n","created_at":"2019-02-05T11:14:33Z","updated_at":"2019-02-08T02:47:45Z","closed_at":"2019-02-08T02:47:45Z","merged_at":null,"merge_commit_sha":"83eb9216d1b9113897c63297daec1f1d50434f55","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23736/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23736/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23736/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9550f68aa47dd98d8ac5e4c53e9bc839eb37efe7","head":{"label":"soxofaan:master","ref":"master","sha":"9550f68aa47dd98d8ac5e4c53e9bc839eb37efe7","user":{"login":"soxofaan","id":44946,"node_id":"MDQ6VXNlcjQ0OTQ2","avatar_url":"https://avatars.githubusercontent.com/u/44946?v=4","gravatar_id":"","url":"https://api.github.com/users/soxofaan","html_url":"https://github.com/soxofaan","followers_url":"https://api.github.com/users/soxofaan/followers","following_url":"https://api.github.com/users/soxofaan/following{/other_user}","gists_url":"https://api.github.com/users/soxofaan/gists{/gist_id}","starred_url":"https://api.github.com/users/soxofaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/soxofaan/subscriptions","organizations_url":"https://api.github.com/users/soxofaan/orgs","repos_url":"https://api.github.com/users/soxofaan/repos","events_url":"https://api.github.com/users/soxofaan/events{/privacy}","received_events_url":"https://api.github.com/users/soxofaan/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":169225276,"node_id":"MDEwOlJlcG9zaXRvcnkxNjkyMjUyNzY=","name":"spark","full_name":"soxofaan/spark","private":false,"owner":{"login":"soxofaan","id":44946,"node_id":"MDQ6VXNlcjQ0OTQ2","avatar_url":"https://avatars.githubusercontent.com/u/44946?v=4","gravatar_id":"","url":"https://api.github.com/users/soxofaan","html_url":"https://github.com/soxofaan","followers_url":"https://api.github.com/users/soxofaan/followers","following_url":"https://api.github.com/users/soxofaan/following{/other_user}","gists_url":"https://api.github.com/users/soxofaan/gists{/gist_id}","starred_url":"https://api.github.com/users/soxofaan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/soxofaan/subscriptions","organizations_url":"https://api.github.com/users/soxofaan/orgs","repos_url":"https://api.github.com/users/soxofaan/repos","events_url":"https://api.github.com/users/soxofaan/events{/privacy}","received_events_url":"https://api.github.com/users/soxofaan/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/soxofaan/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/soxofaan/spark","forks_url":"https://api.github.com/repos/soxofaan/spark/forks","keys_url":"https://api.github.com/repos/soxofaan/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/soxofaan/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/soxofaan/spark/teams","hooks_url":"https://api.github.com/repos/soxofaan/spark/hooks","issue_events_url":"https://api.github.com/repos/soxofaan/spark/issues/events{/number}","events_url":"https://api.github.com/repos/soxofaan/spark/events","assignees_url":"https://api.github.com/repos/soxofaan/spark/assignees{/user}","branches_url":"https://api.github.com/repos/soxofaan/spark/branches{/branch}","tags_url":"https://api.github.com/repos/soxofaan/spark/tags","blobs_url":"https://api.github.com/repos/soxofaan/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/soxofaan/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/soxofaan/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/soxofaan/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/soxofaan/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/soxofaan/spark/languages","stargazers_url":"https://api.github.com/repos/soxofaan/spark/stargazers","contributors_url":"https://api.github.com/repos/soxofaan/spark/contributors","subscribers_url":"https://api.github.com/repos/soxofaan/spark/subscribers","subscription_url":"https://api.github.com/repos/soxofaan/spark/subscription","commits_url":"https://api.github.com/repos/soxofaan/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/soxofaan/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/soxofaan/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/soxofaan/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/soxofaan/spark/contents/{+path}","compare_url":"https://api.github.com/repos/soxofaan/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/soxofaan/spark/merges","archive_url":"https://api.github.com/repos/soxofaan/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/soxofaan/spark/downloads","issues_url":"https://api.github.com/repos/soxofaan/spark/issues{/number}","pulls_url":"https://api.github.com/repos/soxofaan/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/soxofaan/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/soxofaan/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/soxofaan/spark/labels{/name}","releases_url":"https://api.github.com/repos/soxofaan/spark/releases{/id}","deployments_url":"https://api.github.com/repos/soxofaan/spark/deployments","created_at":"2019-02-05T10:46:03Z","updated_at":"2019-02-07T09:00:00Z","pushed_at":"2023-01-12T08:54:04Z","git_url":"git://github.com/soxofaan/spark.git","ssh_url":"git@github.com:soxofaan/spark.git","clone_url":"https://github.com/soxofaan/spark.git","svn_url":"https://github.com/soxofaan/spark","homepage":"","size":429196,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"8427e9ba5cae28233d1bdc54208b46889b83a821","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23736"},"html":{"href":"https://github.com/apache/spark/pull/23736"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23736"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23736/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23736/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23736/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9550f68aa47dd98d8ac5e4c53e9bc839eb37efe7"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23735","id":250183541,"node_id":"MDExOlB1bGxSZXF1ZXN0MjUwMTgzNTQx","html_url":"https://github.com/apache/spark/pull/23735","diff_url":"https://github.com/apache/spark/pull/23735.diff","patch_url":"https://github.com/apache/spark/pull/23735.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23735","number":23735,"state":"closed","locked":false,"title":"[SPARK-26801][SQL] Read avro types other than record","user":{"login":"dhruve","id":7732317,"node_id":"MDQ6VXNlcjc3MzIzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/7732317?v=4","gravatar_id":"","url":"https://api.github.com/users/dhruve","html_url":"https://github.com/dhruve","followers_url":"https://api.github.com/users/dhruve/followers","following_url":"https://api.github.com/users/dhruve/following{/other_user}","gists_url":"https://api.github.com/users/dhruve/gists{/gist_id}","starred_url":"https://api.github.com/users/dhruve/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhruve/subscriptions","organizations_url":"https://api.github.com/users/dhruve/orgs","repos_url":"https://api.github.com/users/dhruve/repos","events_url":"https://api.github.com/users/dhruve/events{/privacy}","received_events_url":"https://api.github.com/users/dhruve/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\nCurrently spark reads avro files of type records only as this is internally mapped to the SQL StructType. Any other avro type is currently not supported reading at the top level. Primitive and Non-record types are supported within a record but not on their own. This change fixes the issue by wrapping the incompatible types under a record so these can be successfully read. Note, the issue is while reading only, as during writing, spark writes these types wrapped in a record itself.\r\n\r\n## How was this patch tested?\r\nManually loaded avro primitive types and added unit tests. ","created_at":"2019-02-04T20:13:28Z","updated_at":"2023-03-06T10:38:18Z","closed_at":"2020-01-10T00:07:03Z","merged_at":null,"merge_commit_sha":"0cd4ef050a751a3133dad892679e375594d6423b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23735/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23735/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23735/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/c59ad00cf3640ec58d1efd0de416ec0ca7c7f666","head":{"label":"dhruve:bug/readAvroTypes","ref":"bug/readAvroTypes","sha":"c59ad00cf3640ec58d1efd0de416ec0ca7c7f666","user":{"login":"dhruve","id":7732317,"node_id":"MDQ6VXNlcjc3MzIzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/7732317?v=4","gravatar_id":"","url":"https://api.github.com/users/dhruve","html_url":"https://github.com/dhruve","followers_url":"https://api.github.com/users/dhruve/followers","following_url":"https://api.github.com/users/dhruve/following{/other_user}","gists_url":"https://api.github.com/users/dhruve/gists{/gist_id}","starred_url":"https://api.github.com/users/dhruve/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhruve/subscriptions","organizations_url":"https://api.github.com/users/dhruve/orgs","repos_url":"https://api.github.com/users/dhruve/repos","events_url":"https://api.github.com/users/dhruve/events{/privacy}","received_events_url":"https://api.github.com/users/dhruve/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":54914940,"node_id":"MDEwOlJlcG9zaXRvcnk1NDkxNDk0MA==","name":"spark","full_name":"dhruve/spark","private":false,"owner":{"login":"dhruve","id":7732317,"node_id":"MDQ6VXNlcjc3MzIzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/7732317?v=4","gravatar_id":"","url":"https://api.github.com/users/dhruve","html_url":"https://github.com/dhruve","followers_url":"https://api.github.com/users/dhruve/followers","following_url":"https://api.github.com/users/dhruve/following{/other_user}","gists_url":"https://api.github.com/users/dhruve/gists{/gist_id}","starred_url":"https://api.github.com/users/dhruve/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhruve/subscriptions","organizations_url":"https://api.github.com/users/dhruve/orgs","repos_url":"https://api.github.com/users/dhruve/repos","events_url":"https://api.github.com/users/dhruve/events{/privacy}","received_events_url":"https://api.github.com/users/dhruve/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dhruve/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/dhruve/spark","forks_url":"https://api.github.com/repos/dhruve/spark/forks","keys_url":"https://api.github.com/repos/dhruve/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dhruve/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dhruve/spark/teams","hooks_url":"https://api.github.com/repos/dhruve/spark/hooks","issue_events_url":"https://api.github.com/repos/dhruve/spark/issues/events{/number}","events_url":"https://api.github.com/repos/dhruve/spark/events","assignees_url":"https://api.github.com/repos/dhruve/spark/assignees{/user}","branches_url":"https://api.github.com/repos/dhruve/spark/branches{/branch}","tags_url":"https://api.github.com/repos/dhruve/spark/tags","blobs_url":"https://api.github.com/repos/dhruve/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dhruve/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dhruve/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/dhruve/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dhruve/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/dhruve/spark/languages","stargazers_url":"https://api.github.com/repos/dhruve/spark/stargazers","contributors_url":"https://api.github.com/repos/dhruve/spark/contributors","subscribers_url":"https://api.github.com/repos/dhruve/spark/subscribers","subscription_url":"https://api.github.com/repos/dhruve/spark/subscription","commits_url":"https://api.github.com/repos/dhruve/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/dhruve/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/dhruve/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/dhruve/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/dhruve/spark/contents/{+path}","compare_url":"https://api.github.com/repos/dhruve/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dhruve/spark/merges","archive_url":"https://api.github.com/repos/dhruve/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dhruve/spark/downloads","issues_url":"https://api.github.com/repos/dhruve/spark/issues{/number}","pulls_url":"https://api.github.com/repos/dhruve/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/dhruve/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/dhruve/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dhruve/spark/labels{/name}","releases_url":"https://api.github.com/repos/dhruve/spark/releases{/id}","deployments_url":"https://api.github.com/repos/dhruve/spark/deployments","created_at":"2016-03-28T18:40:47Z","updated_at":"2017-06-23T15:14:32Z","pushed_at":"2019-10-04T15:24:59Z","git_url":"git://github.com/dhruve/spark.git","ssh_url":"git@github.com:dhruve/spark.git","clone_url":"https://github.com/dhruve/spark.git","svn_url":"https://github.com/dhruve/spark","homepage":null,"size":289843,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"755f9c20761e3db900c6c2b202cd3d2c5bbfb7c0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23735"},"html":{"href":"https://github.com/apache/spark/pull/23735"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23735"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23735/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23735/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23735/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/c59ad00cf3640ec58d1efd0de416ec0ca7c7f666"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23734","id":250176964,"node_id":"MDExOlB1bGxSZXF1ZXN0MjUwMTc2OTY0","html_url":"https://github.com/apache/spark/pull/23734","diff_url":"https://github.com/apache/spark/pull/23734.diff","patch_url":"https://github.com/apache/spark/pull/23734.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23734","number":23734,"state":"closed","locked":false,"title":"[SPARK-26082][MESOS] Fix mesos fetch cache config name","user":{"login":"mwlon","id":6504033,"node_id":"MDQ6VXNlcjY1MDQwMzM=","avatar_url":"https://avatars.githubusercontent.com/u/6504033?v=4","gravatar_id":"","url":"https://api.github.com/users/mwlon","html_url":"https://github.com/mwlon","followers_url":"https://api.github.com/users/mwlon/followers","following_url":"https://api.github.com/users/mwlon/following{/other_user}","gists_url":"https://api.github.com/users/mwlon/gists{/gist_id}","starred_url":"https://api.github.com/users/mwlon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mwlon/subscriptions","organizations_url":"https://api.github.com/users/mwlon/orgs","repos_url":"https://api.github.com/users/mwlon/repos","events_url":"https://api.github.com/users/mwlon/events{/privacy}","received_events_url":"https://api.github.com/users/mwlon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\n* change MesosClusterScheduler to use correct argument name for Mesos fetch cache (spark.mesos.fetchCache.enable -> spark.mesos.fetcherCache.enable)\r\n\r\n## How was this patch tested?\r\n\r\nNot sure this requires a test, since it's just a string change.\r\n","created_at":"2019-02-04T19:51:19Z","updated_at":"2019-02-07T09:26:24Z","closed_at":"2019-02-07T09:26:24Z","merged_at":null,"merge_commit_sha":"10dbe223bdaaba8fe96f1c3d51e3f5c7cde4fbf5","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23734/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23734/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23734/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/7104e3affbce04e439b85f6fb83cd5ad27841c39","head":{"label":"mwlon:SPARK-26082","ref":"SPARK-26082","sha":"7104e3affbce04e439b85f6fb83cd5ad27841c39","user":{"login":"mwlon","id":6504033,"node_id":"MDQ6VXNlcjY1MDQwMzM=","avatar_url":"https://avatars.githubusercontent.com/u/6504033?v=4","gravatar_id":"","url":"https://api.github.com/users/mwlon","html_url":"https://github.com/mwlon","followers_url":"https://api.github.com/users/mwlon/followers","following_url":"https://api.github.com/users/mwlon/following{/other_user}","gists_url":"https://api.github.com/users/mwlon/gists{/gist_id}","starred_url":"https://api.github.com/users/mwlon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mwlon/subscriptions","organizations_url":"https://api.github.com/users/mwlon/orgs","repos_url":"https://api.github.com/users/mwlon/repos","events_url":"https://api.github.com/users/mwlon/events{/privacy}","received_events_url":"https://api.github.com/users/mwlon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":169135913,"node_id":"MDEwOlJlcG9zaXRvcnkxNjkxMzU5MTM=","name":"spark","full_name":"mwlon/spark","private":false,"owner":{"login":"mwlon","id":6504033,"node_id":"MDQ6VXNlcjY1MDQwMzM=","avatar_url":"https://avatars.githubusercontent.com/u/6504033?v=4","gravatar_id":"","url":"https://api.github.com/users/mwlon","html_url":"https://github.com/mwlon","followers_url":"https://api.github.com/users/mwlon/followers","following_url":"https://api.github.com/users/mwlon/following{/other_user}","gists_url":"https://api.github.com/users/mwlon/gists{/gist_id}","starred_url":"https://api.github.com/users/mwlon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mwlon/subscriptions","organizations_url":"https://api.github.com/users/mwlon/orgs","repos_url":"https://api.github.com/users/mwlon/repos","events_url":"https://api.github.com/users/mwlon/events{/privacy}","received_events_url":"https://api.github.com/users/mwlon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mwlon/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/mwlon/spark","forks_url":"https://api.github.com/repos/mwlon/spark/forks","keys_url":"https://api.github.com/repos/mwlon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mwlon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mwlon/spark/teams","hooks_url":"https://api.github.com/repos/mwlon/spark/hooks","issue_events_url":"https://api.github.com/repos/mwlon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/mwlon/spark/events","assignees_url":"https://api.github.com/repos/mwlon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/mwlon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/mwlon/spark/tags","blobs_url":"https://api.github.com/repos/mwlon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mwlon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mwlon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/mwlon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mwlon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/mwlon/spark/languages","stargazers_url":"https://api.github.com/repos/mwlon/spark/stargazers","contributors_url":"https://api.github.com/repos/mwlon/spark/contributors","subscribers_url":"https://api.github.com/repos/mwlon/spark/subscribers","subscription_url":"https://api.github.com/repos/mwlon/spark/subscription","commits_url":"https://api.github.com/repos/mwlon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/mwlon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/mwlon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/mwlon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/mwlon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/mwlon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mwlon/spark/merges","archive_url":"https://api.github.com/repos/mwlon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mwlon/spark/downloads","issues_url":"https://api.github.com/repos/mwlon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/mwlon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/mwlon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/mwlon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mwlon/spark/labels{/name}","releases_url":"https://api.github.com/repos/mwlon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/mwlon/spark/deployments","created_at":"2019-02-04T19:31:36Z","updated_at":"2021-08-27T22:59:54Z","pushed_at":"2021-08-27T22:59:16Z","git_url":"git://github.com/mwlon/spark.git","ssh_url":"git@github.com:mwlon/spark.git","clone_url":"https://github.com/mwlon/spark.git","svn_url":"https://github.com/mwlon/spark","homepage":"","size":374612,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"755f9c20761e3db900c6c2b202cd3d2c5bbfb7c0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23734"},"html":{"href":"https://github.com/apache/spark/pull/23734"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23734"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23734/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23734/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23734/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/7104e3affbce04e439b85f6fb83cd5ad27841c39"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23733","id":250144274,"node_id":"MDExOlB1bGxSZXF1ZXN0MjUwMTQ0Mjc0","html_url":"https://github.com/apache/spark/pull/23733","diff_url":"https://github.com/apache/spark/pull/23733.diff","patch_url":"https://github.com/apache/spark/pull/23733.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23733","number":23733,"state":"closed","locked":false,"title":"[SPARK-26824][SS]Fix the checkpoint location and _spark_metadata when it contains special chars","user":{"login":"zsxwing","id":1000778,"node_id":"MDQ6VXNlcjEwMDA3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1000778?v=4","gravatar_id":"","url":"https://api.github.com/users/zsxwing","html_url":"https://github.com/zsxwing","followers_url":"https://api.github.com/users/zsxwing/followers","following_url":"https://api.github.com/users/zsxwing/following{/other_user}","gists_url":"https://api.github.com/users/zsxwing/gists{/gist_id}","starred_url":"https://api.github.com/users/zsxwing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zsxwing/subscriptions","organizations_url":"https://api.github.com/users/zsxwing/orgs","repos_url":"https://api.github.com/users/zsxwing/repos","events_url":"https://api.github.com/users/zsxwing/events{/privacy}","received_events_url":"https://api.github.com/users/zsxwing/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nWhen a user specifies a checkpoint location or a file sink output using a path containing special chars that need to be escaped in a path, the streaming query will store checkpoint and file sink metadata in a wrong place. In this PR, I uploaded a checkpoint that was generated by the following codes using Spark 2.4.0 to show this issue:\r\n\r\n```\r\nimplicit val s = spark.sqlContext\r\nval input = org.apache.spark.sql.execution.streaming.MemoryStream[Int]\r\ninput.addData(1, 2, 3)\r\nval q = input.toDF.writeStream.format(\"parquet\").option(\"checkpointLocation\", \".../chk %@#chk\").start(\".../output %@#output\")\r\nq.stop()\r\n```\r\nHere is the structure of the directory:\r\n```\r\nsql/core/src/test/resources/structured-streaming/escaped-path-2.4.0\r\n├── chk%252520%252525@%252523chk\r\n│   ├── commits\r\n│   │   └── 0\r\n│   ├── metadata\r\n│   └── offsets\r\n│       └── 0\r\n├── output %@#output\r\n│   └── part-00000-97f675a2-bb82-4201-8245-05f3dae4c372-c000.snappy.parquet\r\n└── output%20%25@%23output\r\n    └── _spark_metadata\r\n        └── 0\r\n```\r\n\r\nIn this checkpoint, the user specified checkpoint location is `.../chk %@#chk` but the real path to store the checkpoint is `.../chk%252520%252525@%252523chk` (this is generated by escaping the original path three times). The user specified output path is `.../output %@#output` but the path to store `_spark_metadata` is `.../output%20%25@%23output/_spark_metadata` (this is generated by escaping the original path once). The data files are still in the correct path (such as `.../output %@#output/part-00000-97f675a2-bb82-4201-8245-05f3dae4c372-c000.snappy.parquet`).\r\n\r\nThis checkpoint will be used in unit tests in this PR.\r\n\r\nThe fix is just simply removing improper `Path.toUri` calls to fix the issue.\r\n\r\nHowever, as the user may not read the release note and is not aware of this checkpoint location change, if they upgrade Spark without moving checkpoint to the new location, their query will just start from the scratch. In order to not surprise the users, this PR also adds a check to **detect the impacted paths and throws an error** to include the migration guide. This check can be turned off by an internal sql conf `spark.sql.streaming.checkpoint.escapedPathCheck.enabled`. Here are examples of errors that will be reported:\r\n\r\n- Streaming checkpoint error: \r\n```\r\nError: we detected a possible problem with the location of your checkpoint and you\r\nlikely need to move it before restarting this query.\r\n\r\nEarlier version of Spark incorrectly escaped paths when writing out checkpoints for\r\nstructured streaming. While this was corrected in Spark 3.0, it appears that your\r\nquery was started using an earlier version that incorrectly handled the checkpoint\r\npath.\r\n\r\nCorrect Checkpoint Directory: /.../chk %@#chk\r\nIncorrect Checkpoint Directory: /.../chk%252520%252525@%252523chk\r\n\r\nPlease move the data from the incorrect directory to the correct one, delete the\r\nincorrect directory, and then restart this query. If you believe you are receiving\r\nthis message in error, you can disable it with the SQL conf\r\nspark.sql.streaming.checkpoint.escapedPathCheck.enabled.\r\n```\r\n\r\n- File sink error (`_spark_metadata`):\r\n```\r\nError: we detected a possible problem with the location of your \"_spark_metadata\"\r\ndirectory and you likely need to move it before restarting this query.\r\n\r\nEarlier version of Spark incorrectly escaped paths when writing out the\r\n\"_spark_metadata\" directory for structured streaming. While this was corrected in\r\nSpark 3.0, it appears that your query was started using an earlier version that\r\nincorrectly handled the \"_spark_metadata\" path.\r\n\r\nCorrect \"_spark_metadata\" Directory: /.../output %@#output/_spark_metadata\r\nIncorrect \"_spark_metadata\" Directory: /.../output%20%25@%23output/_spark_metadata\r\n\r\nPlease move the data from the incorrect directory to the correct one, delete the\r\nincorrect directory, and then restart this query. If you believe you are receiving\r\nthis message in error, you can disable it with the SQL conf\r\nspark.sql.streaming.checkpoint.escapedPathCheck.enabled.\r\n```\r\n\r\n## How was this patch tested?\r\n\r\nThe new unit tests.","created_at":"2019-02-04T17:58:04Z","updated_at":"2019-02-20T23:48:27Z","closed_at":"2019-02-20T23:47:36Z","merged_at":null,"merge_commit_sha":"b71ea94e693b0ac7ce78351611d02bd13fdb31a6","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23733/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23733/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23733/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/91542ff777cd4ef213082d699ee55132c4527d35","head":{"label":"zsxwing:path-fix","ref":"path-fix","sha":"91542ff777cd4ef213082d699ee55132c4527d35","user":{"login":"zsxwing","id":1000778,"node_id":"MDQ6VXNlcjEwMDA3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1000778?v=4","gravatar_id":"","url":"https://api.github.com/users/zsxwing","html_url":"https://github.com/zsxwing","followers_url":"https://api.github.com/users/zsxwing/followers","following_url":"https://api.github.com/users/zsxwing/following{/other_user}","gists_url":"https://api.github.com/users/zsxwing/gists{/gist_id}","starred_url":"https://api.github.com/users/zsxwing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zsxwing/subscriptions","organizations_url":"https://api.github.com/users/zsxwing/orgs","repos_url":"https://api.github.com/users/zsxwing/repos","events_url":"https://api.github.com/users/zsxwing/events{/privacy}","received_events_url":"https://api.github.com/users/zsxwing/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":88661206,"node_id":"MDEwOlJlcG9zaXRvcnk4ODY2MTIwNg==","name":"spark","full_name":"zsxwing/spark","private":false,"owner":{"login":"zsxwing","id":1000778,"node_id":"MDQ6VXNlcjEwMDA3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1000778?v=4","gravatar_id":"","url":"https://api.github.com/users/zsxwing","html_url":"https://github.com/zsxwing","followers_url":"https://api.github.com/users/zsxwing/followers","following_url":"https://api.github.com/users/zsxwing/following{/other_user}","gists_url":"https://api.github.com/users/zsxwing/gists{/gist_id}","starred_url":"https://api.github.com/users/zsxwing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zsxwing/subscriptions","organizations_url":"https://api.github.com/users/zsxwing/orgs","repos_url":"https://api.github.com/users/zsxwing/repos","events_url":"https://api.github.com/users/zsxwing/events{/privacy}","received_events_url":"https://api.github.com/users/zsxwing/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zsxwing/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zsxwing/spark","forks_url":"https://api.github.com/repos/zsxwing/spark/forks","keys_url":"https://api.github.com/repos/zsxwing/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zsxwing/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zsxwing/spark/teams","hooks_url":"https://api.github.com/repos/zsxwing/spark/hooks","issue_events_url":"https://api.github.com/repos/zsxwing/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zsxwing/spark/events","assignees_url":"https://api.github.com/repos/zsxwing/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zsxwing/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zsxwing/spark/tags","blobs_url":"https://api.github.com/repos/zsxwing/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zsxwing/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zsxwing/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zsxwing/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zsxwing/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zsxwing/spark/languages","stargazers_url":"https://api.github.com/repos/zsxwing/spark/stargazers","contributors_url":"https://api.github.com/repos/zsxwing/spark/contributors","subscribers_url":"https://api.github.com/repos/zsxwing/spark/subscribers","subscription_url":"https://api.github.com/repos/zsxwing/spark/subscription","commits_url":"https://api.github.com/repos/zsxwing/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zsxwing/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zsxwing/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zsxwing/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zsxwing/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zsxwing/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zsxwing/spark/merges","archive_url":"https://api.github.com/repos/zsxwing/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zsxwing/spark/downloads","issues_url":"https://api.github.com/repos/zsxwing/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zsxwing/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zsxwing/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zsxwing/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zsxwing/spark/labels{/name}","releases_url":"https://api.github.com/repos/zsxwing/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zsxwing/spark/deployments","created_at":"2017-04-18T19:11:28Z","updated_at":"2017-04-18T19:11:55Z","pushed_at":"2022-11-08T16:33:20Z","git_url":"git://github.com/zsxwing/spark.git","ssh_url":"git@github.com:zsxwing/spark.git","clone_url":"https://github.com/zsxwing/spark.git","svn_url":"https://github.com/zsxwing/spark","homepage":null,"size":376188,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"755f9c20761e3db900c6c2b202cd3d2c5bbfb7c0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23733"},"html":{"href":"https://github.com/apache/spark/pull/23733"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23733"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23733/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23733/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23733/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/91542ff777cd4ef213082d699ee55132c4527d35"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23732","id":250113277,"node_id":"MDExOlB1bGxSZXF1ZXN0MjUwMTEzMjc3","html_url":"https://github.com/apache/spark/pull/23732","diff_url":"https://github.com/apache/spark/pull/23732.diff","patch_url":"https://github.com/apache/spark/pull/23732.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23732","number":23732,"state":"closed","locked":false,"title":"[SPARK-26389][SS] Add force delete temp checkpoint configuration","user":{"login":"gaborgsomogyi","id":18561820,"node_id":"MDQ6VXNlcjE4NTYxODIw","avatar_url":"https://avatars.githubusercontent.com/u/18561820?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborgsomogyi","html_url":"https://github.com/gaborgsomogyi","followers_url":"https://api.github.com/users/gaborgsomogyi/followers","following_url":"https://api.github.com/users/gaborgsomogyi/following{/other_user}","gists_url":"https://api.github.com/users/gaborgsomogyi/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborgsomogyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborgsomogyi/subscriptions","organizations_url":"https://api.github.com/users/gaborgsomogyi/orgs","repos_url":"https://api.github.com/users/gaborgsomogyi/repos","events_url":"https://api.github.com/users/gaborgsomogyi/events{/privacy}","received_events_url":"https://api.github.com/users/gaborgsomogyi/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nNot all users wants to keep temporary checkpoint directories. Additionally hard to restore from it.\r\n\r\nIn this PR I've added a force delete flag which is default `false`. Additionally not clear for users when temporary checkpoint directory deleted so added log messages to explain this a bit more.\r\n\r\n## How was this patch tested?\r\n\r\nExisting + additional unit tests.\r\n","created_at":"2019-02-04T16:24:32Z","updated_at":"2019-12-23T03:30:09Z","closed_at":"2019-02-08T18:26:40Z","merged_at":null,"merge_commit_sha":"e529e08ef0c92b6bfb92d875cca6fad246066d88","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23732/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23732/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23732/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/ce2577d3e160f31272ae2cc34e2fc6fb56e6f218","head":{"label":"gaborgsomogyi:SPARK-26389","ref":"SPARK-26389","sha":"ce2577d3e160f31272ae2cc34e2fc6fb56e6f218","user":{"login":"gaborgsomogyi","id":18561820,"node_id":"MDQ6VXNlcjE4NTYxODIw","avatar_url":"https://avatars.githubusercontent.com/u/18561820?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborgsomogyi","html_url":"https://github.com/gaborgsomogyi","followers_url":"https://api.github.com/users/gaborgsomogyi/followers","following_url":"https://api.github.com/users/gaborgsomogyi/following{/other_user}","gists_url":"https://api.github.com/users/gaborgsomogyi/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborgsomogyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborgsomogyi/subscriptions","organizations_url":"https://api.github.com/users/gaborgsomogyi/orgs","repos_url":"https://api.github.com/users/gaborgsomogyi/repos","events_url":"https://api.github.com/users/gaborgsomogyi/events{/privacy}","received_events_url":"https://api.github.com/users/gaborgsomogyi/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":111547097,"node_id":"MDEwOlJlcG9zaXRvcnkxMTE1NDcwOTc=","name":"spark","full_name":"gaborgsomogyi/spark","private":false,"owner":{"login":"gaborgsomogyi","id":18561820,"node_id":"MDQ6VXNlcjE4NTYxODIw","avatar_url":"https://avatars.githubusercontent.com/u/18561820?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborgsomogyi","html_url":"https://github.com/gaborgsomogyi","followers_url":"https://api.github.com/users/gaborgsomogyi/followers","following_url":"https://api.github.com/users/gaborgsomogyi/following{/other_user}","gists_url":"https://api.github.com/users/gaborgsomogyi/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborgsomogyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborgsomogyi/subscriptions","organizations_url":"https://api.github.com/users/gaborgsomogyi/orgs","repos_url":"https://api.github.com/users/gaborgsomogyi/repos","events_url":"https://api.github.com/users/gaborgsomogyi/events{/privacy}","received_events_url":"https://api.github.com/users/gaborgsomogyi/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/gaborgsomogyi/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/gaborgsomogyi/spark","forks_url":"https://api.github.com/repos/gaborgsomogyi/spark/forks","keys_url":"https://api.github.com/repos/gaborgsomogyi/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/gaborgsomogyi/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/gaborgsomogyi/spark/teams","hooks_url":"https://api.github.com/repos/gaborgsomogyi/spark/hooks","issue_events_url":"https://api.github.com/repos/gaborgsomogyi/spark/issues/events{/number}","events_url":"https://api.github.com/repos/gaborgsomogyi/spark/events","assignees_url":"https://api.github.com/repos/gaborgsomogyi/spark/assignees{/user}","branches_url":"https://api.github.com/repos/gaborgsomogyi/spark/branches{/branch}","tags_url":"https://api.github.com/repos/gaborgsomogyi/spark/tags","blobs_url":"https://api.github.com/repos/gaborgsomogyi/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/gaborgsomogyi/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/gaborgsomogyi/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/gaborgsomogyi/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/gaborgsomogyi/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/gaborgsomogyi/spark/languages","stargazers_url":"https://api.github.com/repos/gaborgsomogyi/spark/stargazers","contributors_url":"https://api.github.com/repos/gaborgsomogyi/spark/contributors","subscribers_url":"https://api.github.com/repos/gaborgsomogyi/spark/subscribers","subscription_url":"https://api.github.com/repos/gaborgsomogyi/spark/subscription","commits_url":"https://api.github.com/repos/gaborgsomogyi/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/gaborgsomogyi/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/gaborgsomogyi/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/gaborgsomogyi/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/gaborgsomogyi/spark/contents/{+path}","compare_url":"https://api.github.com/repos/gaborgsomogyi/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/gaborgsomogyi/spark/merges","archive_url":"https://api.github.com/repos/gaborgsomogyi/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/gaborgsomogyi/spark/downloads","issues_url":"https://api.github.com/repos/gaborgsomogyi/spark/issues{/number}","pulls_url":"https://api.github.com/repos/gaborgsomogyi/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/gaborgsomogyi/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/gaborgsomogyi/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/gaborgsomogyi/spark/labels{/name}","releases_url":"https://api.github.com/repos/gaborgsomogyi/spark/releases{/id}","deployments_url":"https://api.github.com/repos/gaborgsomogyi/spark/deployments","created_at":"2017-11-21T12:38:03Z","updated_at":"2024-05-06T08:51:33Z","pushed_at":"2024-05-06T08:50:41Z","git_url":"git://github.com/gaborgsomogyi/spark.git","ssh_url":"git@github.com:gaborgsomogyi/spark.git","clone_url":"https://github.com/gaborgsomogyi/spark.git","svn_url":"https://github.com/gaborgsomogyi/spark","homepage":null,"size":416015,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"755f9c20761e3db900c6c2b202cd3d2c5bbfb7c0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23732"},"html":{"href":"https://github.com/apache/spark/pull/23732"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23732"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23732/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23732/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23732/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/ce2577d3e160f31272ae2cc34e2fc6fb56e6f218"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23731","id":249899741,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5ODk5NzQx","html_url":"https://github.com/apache/spark/pull/23731","diff_url":"https://github.com/apache/spark/pull/23731.diff","patch_url":"https://github.com/apache/spark/pull/23731.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23731","number":23731,"state":"closed","locked":false,"title":"[SPARK-26572][SQL] fix aggregate codegen result evaluation","user":{"login":"peter-toth","id":7253827,"node_id":"MDQ6VXNlcjcyNTM4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/7253827?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-toth","html_url":"https://github.com/peter-toth","followers_url":"https://api.github.com/users/peter-toth/followers","following_url":"https://api.github.com/users/peter-toth/following{/other_user}","gists_url":"https://api.github.com/users/peter-toth/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-toth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-toth/subscriptions","organizations_url":"https://api.github.com/users/peter-toth/orgs","repos_url":"https://api.github.com/users/peter-toth/repos","events_url":"https://api.github.com/users/peter-toth/events{/privacy}","received_events_url":"https://api.github.com/users/peter-toth/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThis PR is a correctness fix in `HashAggregateExec` code generation. It forces evaluation of result expressions before calling `consume()` to avoid multiple executions.\r\n\r\nThis PR fixes a use case where an aggregate is nested into a broadcast join and appears on the \"stream\" side. The issue is that Broadcast join generates it's own loop. And without forcing evaluation of `resultExpressions` of `HashAggregateExec` before the join's loop these expressions can be executed multiple times giving incorrect results.\r\n\r\n## How was this patch tested?\r\n\r\nNew UT was added.\r\n","created_at":"2019-02-03T20:00:06Z","updated_at":"2019-02-14T15:25:03Z","closed_at":"2019-02-14T15:06:41Z","merged_at":null,"merge_commit_sha":"2dea636fc5144a6dfd3e0ff9507631c7989f1ad3","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23731/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23731/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23731/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/af861d554bbcc9785287e1ee74ec9d602fea4705","head":{"label":"peter-toth:SPARK-26572","ref":"SPARK-26572","sha":"af861d554bbcc9785287e1ee74ec9d602fea4705","user":{"login":"peter-toth","id":7253827,"node_id":"MDQ6VXNlcjcyNTM4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/7253827?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-toth","html_url":"https://github.com/peter-toth","followers_url":"https://api.github.com/users/peter-toth/followers","following_url":"https://api.github.com/users/peter-toth/following{/other_user}","gists_url":"https://api.github.com/users/peter-toth/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-toth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-toth/subscriptions","organizations_url":"https://api.github.com/users/peter-toth/orgs","repos_url":"https://api.github.com/users/peter-toth/repos","events_url":"https://api.github.com/users/peter-toth/events{/privacy}","received_events_url":"https://api.github.com/users/peter-toth/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":130546049,"node_id":"MDEwOlJlcG9zaXRvcnkxMzA1NDYwNDk=","name":"spark","full_name":"peter-toth/spark","private":false,"owner":{"login":"peter-toth","id":7253827,"node_id":"MDQ6VXNlcjcyNTM4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/7253827?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-toth","html_url":"https://github.com/peter-toth","followers_url":"https://api.github.com/users/peter-toth/followers","following_url":"https://api.github.com/users/peter-toth/following{/other_user}","gists_url":"https://api.github.com/users/peter-toth/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-toth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-toth/subscriptions","organizations_url":"https://api.github.com/users/peter-toth/orgs","repos_url":"https://api.github.com/users/peter-toth/repos","events_url":"https://api.github.com/users/peter-toth/events{/privacy}","received_events_url":"https://api.github.com/users/peter-toth/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/peter-toth/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/peter-toth/spark","forks_url":"https://api.github.com/repos/peter-toth/spark/forks","keys_url":"https://api.github.com/repos/peter-toth/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/peter-toth/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/peter-toth/spark/teams","hooks_url":"https://api.github.com/repos/peter-toth/spark/hooks","issue_events_url":"https://api.github.com/repos/peter-toth/spark/issues/events{/number}","events_url":"https://api.github.com/repos/peter-toth/spark/events","assignees_url":"https://api.github.com/repos/peter-toth/spark/assignees{/user}","branches_url":"https://api.github.com/repos/peter-toth/spark/branches{/branch}","tags_url":"https://api.github.com/repos/peter-toth/spark/tags","blobs_url":"https://api.github.com/repos/peter-toth/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/peter-toth/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/peter-toth/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/peter-toth/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/peter-toth/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/peter-toth/spark/languages","stargazers_url":"https://api.github.com/repos/peter-toth/spark/stargazers","contributors_url":"https://api.github.com/repos/peter-toth/spark/contributors","subscribers_url":"https://api.github.com/repos/peter-toth/spark/subscribers","subscription_url":"https://api.github.com/repos/peter-toth/spark/subscription","commits_url":"https://api.github.com/repos/peter-toth/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/peter-toth/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/peter-toth/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/peter-toth/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/peter-toth/spark/contents/{+path}","compare_url":"https://api.github.com/repos/peter-toth/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/peter-toth/spark/merges","archive_url":"https://api.github.com/repos/peter-toth/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/peter-toth/spark/downloads","issues_url":"https://api.github.com/repos/peter-toth/spark/issues{/number}","pulls_url":"https://api.github.com/repos/peter-toth/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/peter-toth/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/peter-toth/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/peter-toth/spark/labels{/name}","releases_url":"https://api.github.com/repos/peter-toth/spark/releases{/id}","deployments_url":"https://api.github.com/repos/peter-toth/spark/deployments","created_at":"2018-04-22T07:43:37Z","updated_at":"2025-01-06T11:44:37Z","pushed_at":"2025-01-07T12:36:36Z","git_url":"git://github.com/peter-toth/spark.git","ssh_url":"git@github.com:peter-toth/spark.git","clone_url":"https://github.com/peter-toth/spark.git","svn_url":"https://github.com/peter-toth/spark","homepage":null,"size":498613,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"255faaf3436e1f41838062ed460f801bb0be40ec","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23731"},"html":{"href":"https://github.com/apache/spark/pull/23731"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23731"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23731/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23731/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23731/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/af861d554bbcc9785287e1ee74ec9d602fea4705"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23730","id":249882807,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5ODgyODA3","html_url":"https://github.com/apache/spark/pull/23730","diff_url":"https://github.com/apache/spark/pull/23730.diff","patch_url":"https://github.com/apache/spark/pull/23730.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23730","number":23730,"state":"closed","locked":false,"title":"[SPARK-26822]Upgrade the deprecated module 'optparse'","user":{"login":"cchung100m","id":6762509,"node_id":"MDQ6VXNlcjY3NjI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/6762509?v=4","gravatar_id":"","url":"https://api.github.com/users/cchung100m","html_url":"https://github.com/cchung100m","followers_url":"https://api.github.com/users/cchung100m/followers","following_url":"https://api.github.com/users/cchung100m/following{/other_user}","gists_url":"https://api.github.com/users/cchung100m/gists{/gist_id}","starred_url":"https://api.github.com/users/cchung100m/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cchung100m/subscriptions","organizations_url":"https://api.github.com/users/cchung100m/orgs","repos_url":"https://api.github.com/users/cchung100m/repos","events_url":"https://api.github.com/users/cchung100m/events{/privacy}","received_events_url":"https://api.github.com/users/cchung100m/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"Follow the [official document](https://docs.python.org/2/library/argparse.html#upgrading-optparse-code)  to upgrade the deprecated module 'optparse' to  'argparse'.\r\n\r\n## What changes were proposed in this pull request?\r\n\r\nThis PR proposes to replace 'optparse' module with 'argparse' module.\r\n\r\n## How was this patch tested?\r\n\r\nFollow the [previous testing](https://github.com/apache/spark/commit/7e3eb3cd209d83394ca2b2cec79b26b1bbe9d7ea), manually tested and negative tests were also done. My [test results](https://gist.github.com/cchung100m/1661e7df6e8b66940a6e52a20861f61d)\r\n","created_at":"2019-02-03T15:05:12Z","updated_at":"2019-02-10T07:19:40Z","closed_at":"2019-02-10T06:39:59Z","merged_at":null,"merge_commit_sha":"c12089b3e833f59e4f1691afffbca3195a92aee2","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23730/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23730/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23730/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/47e916393692f681f5fb3106238c1df02d7655cb","head":{"label":"cchung100m:solve_deprecated_module_optparse","ref":"solve_deprecated_module_optparse","sha":"47e916393692f681f5fb3106238c1df02d7655cb","user":{"login":"cchung100m","id":6762509,"node_id":"MDQ6VXNlcjY3NjI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/6762509?v=4","gravatar_id":"","url":"https://api.github.com/users/cchung100m","html_url":"https://github.com/cchung100m","followers_url":"https://api.github.com/users/cchung100m/followers","following_url":"https://api.github.com/users/cchung100m/following{/other_user}","gists_url":"https://api.github.com/users/cchung100m/gists{/gist_id}","starred_url":"https://api.github.com/users/cchung100m/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cchung100m/subscriptions","organizations_url":"https://api.github.com/users/cchung100m/orgs","repos_url":"https://api.github.com/users/cchung100m/repos","events_url":"https://api.github.com/users/cchung100m/events{/privacy}","received_events_url":"https://api.github.com/users/cchung100m/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":167162215,"node_id":"MDEwOlJlcG9zaXRvcnkxNjcxNjIyMTU=","name":"spark","full_name":"cchung100m/spark","private":false,"owner":{"login":"cchung100m","id":6762509,"node_id":"MDQ6VXNlcjY3NjI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/6762509?v=4","gravatar_id":"","url":"https://api.github.com/users/cchung100m","html_url":"https://github.com/cchung100m","followers_url":"https://api.github.com/users/cchung100m/followers","following_url":"https://api.github.com/users/cchung100m/following{/other_user}","gists_url":"https://api.github.com/users/cchung100m/gists{/gist_id}","starred_url":"https://api.github.com/users/cchung100m/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cchung100m/subscriptions","organizations_url":"https://api.github.com/users/cchung100m/orgs","repos_url":"https://api.github.com/users/cchung100m/repos","events_url":"https://api.github.com/users/cchung100m/events{/privacy}","received_events_url":"https://api.github.com/users/cchung100m/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/cchung100m/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/cchung100m/spark","forks_url":"https://api.github.com/repos/cchung100m/spark/forks","keys_url":"https://api.github.com/repos/cchung100m/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cchung100m/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cchung100m/spark/teams","hooks_url":"https://api.github.com/repos/cchung100m/spark/hooks","issue_events_url":"https://api.github.com/repos/cchung100m/spark/issues/events{/number}","events_url":"https://api.github.com/repos/cchung100m/spark/events","assignees_url":"https://api.github.com/repos/cchung100m/spark/assignees{/user}","branches_url":"https://api.github.com/repos/cchung100m/spark/branches{/branch}","tags_url":"https://api.github.com/repos/cchung100m/spark/tags","blobs_url":"https://api.github.com/repos/cchung100m/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cchung100m/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cchung100m/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/cchung100m/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cchung100m/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/cchung100m/spark/languages","stargazers_url":"https://api.github.com/repos/cchung100m/spark/stargazers","contributors_url":"https://api.github.com/repos/cchung100m/spark/contributors","subscribers_url":"https://api.github.com/repos/cchung100m/spark/subscribers","subscription_url":"https://api.github.com/repos/cchung100m/spark/subscription","commits_url":"https://api.github.com/repos/cchung100m/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/cchung100m/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/cchung100m/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/cchung100m/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/cchung100m/spark/contents/{+path}","compare_url":"https://api.github.com/repos/cchung100m/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cchung100m/spark/merges","archive_url":"https://api.github.com/repos/cchung100m/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cchung100m/spark/downloads","issues_url":"https://api.github.com/repos/cchung100m/spark/issues{/number}","pulls_url":"https://api.github.com/repos/cchung100m/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/cchung100m/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/cchung100m/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cchung100m/spark/labels{/name}","releases_url":"https://api.github.com/repos/cchung100m/spark/releases{/id}","deployments_url":"https://api.github.com/repos/cchung100m/spark/deployments","created_at":"2019-01-23T10:13:39Z","updated_at":"2019-01-23T10:14:14Z","pushed_at":"2019-02-09T10:16:13Z","git_url":"git://github.com/cchung100m/spark.git","ssh_url":"git@github.com:cchung100m/spark.git","clone_url":"https://github.com/cchung100m/spark.git","svn_url":"https://github.com/cchung100m/spark","homepage":"","size":293276,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d0443a74d185ec72b747fa39994fa9a40ce974cf","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23730"},"html":{"href":"https://github.com/apache/spark/pull/23730"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23730"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23730/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23730/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23730/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/47e916393692f681f5fb3106238c1df02d7655cb"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23729","id":249821303,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5ODIxMzAz","html_url":"https://github.com/apache/spark/pull/23729","diff_url":"https://github.com/apache/spark/pull/23729.diff","patch_url":"https://github.com/apache/spark/pull/23729.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23729","number":23729,"state":"closed","locked":false,"title":"[SPARK-7721][INFRA][FOLLOW-UP] Remove cloned coverage repo after posting HTMLs","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThis PR proposes to remove cloned `pyspark-coverage-site` repo.\r\n\r\nit doesn't looks a problem in PR builder but somehow it's problematic in `spark-master-test-sbt-hadoop-2.7`.\r\n\r\n## How was this patch tested?\r\n\r\nJenkins.","created_at":"2019-02-02T16:16:29Z","updated_at":"2020-03-03T01:19:07Z","closed_at":"2019-06-25T00:23:19Z","merged_at":null,"merge_commit_sha":"3986f25f5b4a4b38d39e608fc551de014f96c912","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23729/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23729/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23729/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/2e4846a285b805940f7402a75c10639b1b85face","head":{"label":"HyukjinKwon:followup-coverage","ref":"followup-coverage","sha":"2e4846a285b805940f7402a75c10639b1b85face","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"a5427a0067504484b0eb5e5f87b2658566aee324","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23729"},"html":{"href":"https://github.com/apache/spark/pull/23729"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23729"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23729/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23729/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23729/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/2e4846a285b805940f7402a75c10639b1b85face"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23728","id":249819499,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5ODE5NDk5","html_url":"https://github.com/apache/spark/pull/23728","diff_url":"https://github.com/apache/spark/pull/23728.diff","patch_url":"https://github.com/apache/spark/pull/23728.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23728","number":23728,"state":"closed","locked":false,"title":"[SPARK-26818][ML] Make MLEvents JSON ser/de safe","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nCurrently, it looks it's not going to cause any virtually effective problem apparently (if I didn't misread the codes).\r\n\r\nI see one place that JSON formatted events are being used.\r\n\r\nhttps://github.com/apache/spark/blob/ec506bd30c2ca324c12c9ec811764081c2eb8c42/core/src/main/scala/org/apache/spark/scheduler/EventLoggingListener.scala#L148\r\n\r\nIt's okay because it just logs when the exception is ignorable  \r\n\r\nhttps://github.com/apache/spark/blob/9690eba16efe6d25261934d8b73a221972b684f3/core/src/main/scala/org/apache/spark/util/ListenerBus.scala#L111\r\n\r\nI guess it should be best to stay safe - I don't want this unstable experimental feature breaks anything in any case. It also disables `logEvent` in `SparkListenerEvent` for the same reason.\r\n\r\nThis is also to match SQL execution events side:\r\n\r\nhttps://github.com/apache/spark/blob/ca545f79410a464ef24e3986fac225f53bb2ef02/sql/core/src/main/scala/org/apache/spark/sql/execution/ui/SQLListener.scala#L41-L57\r\n\r\nto make ML events JSON ser/de safe.\r\n\r\n## How was this patch tested?\r\n\r\nManually tested, and unit tests were added.","created_at":"2019-02-02T15:40:45Z","updated_at":"2020-03-03T01:19:56Z","closed_at":"2019-02-03T13:23:20Z","merged_at":null,"merge_commit_sha":"f270a87532ba4ddc95e3931d5bb678585a0d6a77","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23728/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23728/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23728/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/bd800316aa01bf2e922209eefb9a500d71fbf899","head":{"label":"HyukjinKwon:SPARK-26818","ref":"SPARK-26818","sha":"bd800316aa01bf2e922209eefb9a500d71fbf899","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"a5427a0067504484b0eb5e5f87b2658566aee324","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23728"},"html":{"href":"https://github.com/apache/spark/pull/23728"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23728"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23728/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23728/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23728/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/bd800316aa01bf2e922209eefb9a500d71fbf899"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23727","id":249815718,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5ODE1NzE4","html_url":"https://github.com/apache/spark/pull/23727","diff_url":"https://github.com/apache/spark/pull/23727.diff","patch_url":"https://github.com/apache/spark/pull/23727.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23727","number":23727,"state":"closed","locked":false,"title":"[SPARK-26817][CORE] Use System.nanoTime to measure time intervals","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nIn the PR, I propose to use `System.nanoTime()` instead of `System.currentTimeMillis()` in measurements of time intervals.\r\n\r\n`System.currentTimeMillis()` returns current wallclock time and will follow changes to the system clock. Thus, negative wallclock adjustments can cause timeouts to \"hang\" for a long time (until wallclock time has caught up to its previous value again). This can happen when ntpd does a \"step\" after the network has been disconnected for some time. The most canonical example is during system bootup when DHCP takes longer than usual. This can lead to failures that are really hard to understand/reproduce. `System.nanoTime()` is guaranteed to be monotonically increasing irrespective of wallclock changes.\r\n\r\n## How was this patch tested?\r\n\r\nBy existing test suites.\r\n","created_at":"2019-02-02T14:23:20Z","updated_at":"2019-09-18T15:56:43Z","closed_at":"2019-02-13T19:15:46Z","merged_at":null,"merge_commit_sha":"4074fd1c5d4ad0e04ad1b91ade97ede33778364c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23727/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23727/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23727/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/0d50bf93e8d700c85441694fc1f3113cc695de58","head":{"label":"MaxGekk:system-nanotime","ref":"system-nanotime","sha":"0d50bf93e8d700c85441694fc1f3113cc695de58","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":123690489,"node_id":"MDEwOlJlcG9zaXRvcnkxMjM2OTA0ODk=","name":"spark","full_name":"MaxGekk/spark","private":false,"owner":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/MaxGekk/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/MaxGekk/spark","forks_url":"https://api.github.com/repos/MaxGekk/spark/forks","keys_url":"https://api.github.com/repos/MaxGekk/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/MaxGekk/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/MaxGekk/spark/teams","hooks_url":"https://api.github.com/repos/MaxGekk/spark/hooks","issue_events_url":"https://api.github.com/repos/MaxGekk/spark/issues/events{/number}","events_url":"https://api.github.com/repos/MaxGekk/spark/events","assignees_url":"https://api.github.com/repos/MaxGekk/spark/assignees{/user}","branches_url":"https://api.github.com/repos/MaxGekk/spark/branches{/branch}","tags_url":"https://api.github.com/repos/MaxGekk/spark/tags","blobs_url":"https://api.github.com/repos/MaxGekk/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/MaxGekk/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/MaxGekk/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/MaxGekk/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/MaxGekk/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/MaxGekk/spark/languages","stargazers_url":"https://api.github.com/repos/MaxGekk/spark/stargazers","contributors_url":"https://api.github.com/repos/MaxGekk/spark/contributors","subscribers_url":"https://api.github.com/repos/MaxGekk/spark/subscribers","subscription_url":"https://api.github.com/repos/MaxGekk/spark/subscription","commits_url":"https://api.github.com/repos/MaxGekk/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/MaxGekk/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/MaxGekk/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/MaxGekk/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/MaxGekk/spark/contents/{+path}","compare_url":"https://api.github.com/repos/MaxGekk/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/MaxGekk/spark/merges","archive_url":"https://api.github.com/repos/MaxGekk/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/MaxGekk/spark/downloads","issues_url":"https://api.github.com/repos/MaxGekk/spark/issues{/number}","pulls_url":"https://api.github.com/repos/MaxGekk/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/MaxGekk/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/MaxGekk/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/MaxGekk/spark/labels{/name}","releases_url":"https://api.github.com/repos/MaxGekk/spark/releases{/id}","deployments_url":"https://api.github.com/repos/MaxGekk/spark/deployments","created_at":"2018-03-03T12:37:00Z","updated_at":"2025-02-07T09:44:52Z","pushed_at":"2025-02-07T09:44:24Z","git_url":"git://github.com/MaxGekk/spark.git","ssh_url":"git@github.com:MaxGekk/spark.git","clone_url":"https://github.com/MaxGekk/spark.git","svn_url":"https://github.com/MaxGekk/spark","homepage":null,"size":486456,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"b85974db85a881a2e8aebc31cb4f578008648ab9","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23727"},"html":{"href":"https://github.com/apache/spark/pull/23727"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23727"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23727/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23727/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23727/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/0d50bf93e8d700c85441694fc1f3113cc695de58"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23726","id":249812241,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5ODEyMjQx","html_url":"https://github.com/apache/spark/pull/23726","diff_url":"https://github.com/apache/spark/pull/23726.diff","patch_url":"https://github.com/apache/spark/pull/23726.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23726","number":23726,"state":"closed","locked":false,"title":"[SPARK-26812][SQL] Report correct nullability for complex datatypes in Union","user":{"login":"mgaido91","id":8821783,"node_id":"MDQ6VXNlcjg4MjE3ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8821783?v=4","gravatar_id":"","url":"https://api.github.com/users/mgaido91","html_url":"https://github.com/mgaido91","followers_url":"https://api.github.com/users/mgaido91/followers","following_url":"https://api.github.com/users/mgaido91/following{/other_user}","gists_url":"https://api.github.com/users/mgaido91/gists{/gist_id}","starred_url":"https://api.github.com/users/mgaido91/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgaido91/subscriptions","organizations_url":"https://api.github.com/users/mgaido91/orgs","repos_url":"https://api.github.com/users/mgaido91/repos","events_url":"https://api.github.com/users/mgaido91/events{/privacy}","received_events_url":"https://api.github.com/users/mgaido91/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nWhen there is a `Union`, the reported output datatypes are the ones of the first plan and the nullability is updated according to all the plans. For complex types, though, the nullability of their elements is not updated using the types from the other plans. This means that the nullability of the inner elements is the one of the first plan. If this is not compatible with the one of other plans, errors can happen (as reported in the JIRA).\r\n\r\nThe PR proposes to update the nullability of the inner elements of complex datatypes according to most permissive value of all the plans.\r\n\r\n## How was this patch tested?\r\n\r\nadded UT","created_at":"2019-02-02T13:10:50Z","updated_at":"2019-05-14T16:06:00Z","closed_at":"2019-04-01T14:25:00Z","merged_at":null,"merge_commit_sha":"eb88e80517c8acdb00244d2720d29d5a948a8a1a","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23726/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23726/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23726/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/874ad6f2a00d59ebce6a28f2e19a4edaa304edb3","head":{"label":"mgaido91:SPARK-26812","ref":"SPARK-26812","sha":"874ad6f2a00d59ebce6a28f2e19a4edaa304edb3","user":{"login":"mgaido91","id":8821783,"node_id":"MDQ6VXNlcjg4MjE3ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8821783?v=4","gravatar_id":"","url":"https://api.github.com/users/mgaido91","html_url":"https://github.com/mgaido91","followers_url":"https://api.github.com/users/mgaido91/followers","following_url":"https://api.github.com/users/mgaido91/following{/other_user}","gists_url":"https://api.github.com/users/mgaido91/gists{/gist_id}","starred_url":"https://api.github.com/users/mgaido91/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgaido91/subscriptions","organizations_url":"https://api.github.com/users/mgaido91/orgs","repos_url":"https://api.github.com/users/mgaido91/repos","events_url":"https://api.github.com/users/mgaido91/events{/privacy}","received_events_url":"https://api.github.com/users/mgaido91/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":94518128,"node_id":"MDEwOlJlcG9zaXRvcnk5NDUxODEyOA==","name":"spark","full_name":"mgaido91/spark","private":false,"owner":{"login":"mgaido91","id":8821783,"node_id":"MDQ6VXNlcjg4MjE3ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8821783?v=4","gravatar_id":"","url":"https://api.github.com/users/mgaido91","html_url":"https://github.com/mgaido91","followers_url":"https://api.github.com/users/mgaido91/followers","following_url":"https://api.github.com/users/mgaido91/following{/other_user}","gists_url":"https://api.github.com/users/mgaido91/gists{/gist_id}","starred_url":"https://api.github.com/users/mgaido91/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgaido91/subscriptions","organizations_url":"https://api.github.com/users/mgaido91/orgs","repos_url":"https://api.github.com/users/mgaido91/repos","events_url":"https://api.github.com/users/mgaido91/events{/privacy}","received_events_url":"https://api.github.com/users/mgaido91/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mgaido91/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/mgaido91/spark","forks_url":"https://api.github.com/repos/mgaido91/spark/forks","keys_url":"https://api.github.com/repos/mgaido91/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mgaido91/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mgaido91/spark/teams","hooks_url":"https://api.github.com/repos/mgaido91/spark/hooks","issue_events_url":"https://api.github.com/repos/mgaido91/spark/issues/events{/number}","events_url":"https://api.github.com/repos/mgaido91/spark/events","assignees_url":"https://api.github.com/repos/mgaido91/spark/assignees{/user}","branches_url":"https://api.github.com/repos/mgaido91/spark/branches{/branch}","tags_url":"https://api.github.com/repos/mgaido91/spark/tags","blobs_url":"https://api.github.com/repos/mgaido91/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mgaido91/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mgaido91/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/mgaido91/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mgaido91/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/mgaido91/spark/languages","stargazers_url":"https://api.github.com/repos/mgaido91/spark/stargazers","contributors_url":"https://api.github.com/repos/mgaido91/spark/contributors","subscribers_url":"https://api.github.com/repos/mgaido91/spark/subscribers","subscription_url":"https://api.github.com/repos/mgaido91/spark/subscription","commits_url":"https://api.github.com/repos/mgaido91/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/mgaido91/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/mgaido91/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/mgaido91/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/mgaido91/spark/contents/{+path}","compare_url":"https://api.github.com/repos/mgaido91/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mgaido91/spark/merges","archive_url":"https://api.github.com/repos/mgaido91/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mgaido91/spark/downloads","issues_url":"https://api.github.com/repos/mgaido91/spark/issues{/number}","pulls_url":"https://api.github.com/repos/mgaido91/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/mgaido91/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/mgaido91/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mgaido91/spark/labels{/name}","releases_url":"https://api.github.com/repos/mgaido91/spark/releases{/id}","deployments_url":"https://api.github.com/repos/mgaido91/spark/deployments","created_at":"2017-06-16T07:34:38Z","updated_at":"2017-06-16T07:35:05Z","pushed_at":"2019-12-04T21:06:00Z","git_url":"git://github.com/mgaido91/spark.git","ssh_url":"git@github.com:mgaido91/spark.git","clone_url":"https://github.com/mgaido91/spark.git","svn_url":"https://github.com/mgaido91/spark","homepage":null,"size":320625,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"2ec650d84316d5820795d44dbc3574885b358698","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23726"},"html":{"href":"https://github.com/apache/spark/pull/23726"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23726"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23726/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23726/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23726/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/874ad6f2a00d59ebce6a28f2e19a4edaa304edb3"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23725","id":249799824,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5Nzk5ODI0","html_url":"https://github.com/apache/spark/pull/23725","diff_url":"https://github.com/apache/spark/pull/23725.diff","patch_url":"https://github.com/apache/spark/pull/23725.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23725","number":23725,"state":"closed","locked":false,"title":"[SPARK-26814][SQL] Avoid unnecessary block concatenation while empty block exists","user":{"login":"Ngone51","id":16397174,"node_id":"MDQ6VXNlcjE2Mzk3MTc0","avatar_url":"https://avatars.githubusercontent.com/u/16397174?v=4","gravatar_id":"","url":"https://api.github.com/users/Ngone51","html_url":"https://github.com/Ngone51","followers_url":"https://api.github.com/users/Ngone51/followers","following_url":"https://api.github.com/users/Ngone51/following{/other_user}","gists_url":"https://api.github.com/users/Ngone51/gists{/gist_id}","starred_url":"https://api.github.com/users/Ngone51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ngone51/subscriptions","organizations_url":"https://api.github.com/users/Ngone51/orgs","repos_url":"https://api.github.com/users/Ngone51/repos","events_url":"https://api.github.com/users/Ngone51/events{/privacy}","received_events_url":"https://api.github.com/users/Ngone51/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nWe should always avoid unnecessary block concatenation while empty block exists among the two Blocks, which avoid redundant code interpolation for blocks. \r\n\r\nFor example(see code snapshot below), when we do not need to register comment, method \"+\"  should return immediately instead of doing redundant code interpolation for `eval.code`.\r\n\r\n``` \r\nIf (eval.code.toString.nonEmpty) {\r\n  // Add `this` in the comment.\r\n  eval.copy(code = ctx.registerComment(this.toString) + eval.code)\r\n} else {\r\n  eval\r\n} \r\n```\r\n\r\n## How was this patch tested?\r\n\r\nExists.","created_at":"2019-02-02T08:17:35Z","updated_at":"2019-02-02T10:18:00Z","closed_at":"2019-02-02T09:05:00Z","merged_at":null,"merge_commit_sha":"531755968d2dd5c802a3983f69ec26df56d8f1e6","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23725/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23725/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23725/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/4706ac285242987a1f3f1444563a2c1f8c00360e","head":{"label":"Ngone51:dev-avoid-unnecessary-block-concatenation-while-empty-block-exists","ref":"dev-avoid-unnecessary-block-concatenation-while-empty-block-exists","sha":"4706ac285242987a1f3f1444563a2c1f8c00360e","user":{"login":"Ngone51","id":16397174,"node_id":"MDQ6VXNlcjE2Mzk3MTc0","avatar_url":"https://avatars.githubusercontent.com/u/16397174?v=4","gravatar_id":"","url":"https://api.github.com/users/Ngone51","html_url":"https://github.com/Ngone51","followers_url":"https://api.github.com/users/Ngone51/followers","following_url":"https://api.github.com/users/Ngone51/following{/other_user}","gists_url":"https://api.github.com/users/Ngone51/gists{/gist_id}","starred_url":"https://api.github.com/users/Ngone51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ngone51/subscriptions","organizations_url":"https://api.github.com/users/Ngone51/orgs","repos_url":"https://api.github.com/users/Ngone51/repos","events_url":"https://api.github.com/users/Ngone51/events{/privacy}","received_events_url":"https://api.github.com/users/Ngone51/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":114185286,"node_id":"MDEwOlJlcG9zaXRvcnkxMTQxODUyODY=","name":"spark","full_name":"Ngone51/spark","private":false,"owner":{"login":"Ngone51","id":16397174,"node_id":"MDQ6VXNlcjE2Mzk3MTc0","avatar_url":"https://avatars.githubusercontent.com/u/16397174?v=4","gravatar_id":"","url":"https://api.github.com/users/Ngone51","html_url":"https://github.com/Ngone51","followers_url":"https://api.github.com/users/Ngone51/followers","following_url":"https://api.github.com/users/Ngone51/following{/other_user}","gists_url":"https://api.github.com/users/Ngone51/gists{/gist_id}","starred_url":"https://api.github.com/users/Ngone51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ngone51/subscriptions","organizations_url":"https://api.github.com/users/Ngone51/orgs","repos_url":"https://api.github.com/users/Ngone51/repos","events_url":"https://api.github.com/users/Ngone51/events{/privacy}","received_events_url":"https://api.github.com/users/Ngone51/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Ngone51/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/Ngone51/spark","forks_url":"https://api.github.com/repos/Ngone51/spark/forks","keys_url":"https://api.github.com/repos/Ngone51/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Ngone51/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Ngone51/spark/teams","hooks_url":"https://api.github.com/repos/Ngone51/spark/hooks","issue_events_url":"https://api.github.com/repos/Ngone51/spark/issues/events{/number}","events_url":"https://api.github.com/repos/Ngone51/spark/events","assignees_url":"https://api.github.com/repos/Ngone51/spark/assignees{/user}","branches_url":"https://api.github.com/repos/Ngone51/spark/branches{/branch}","tags_url":"https://api.github.com/repos/Ngone51/spark/tags","blobs_url":"https://api.github.com/repos/Ngone51/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Ngone51/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Ngone51/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/Ngone51/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Ngone51/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/Ngone51/spark/languages","stargazers_url":"https://api.github.com/repos/Ngone51/spark/stargazers","contributors_url":"https://api.github.com/repos/Ngone51/spark/contributors","subscribers_url":"https://api.github.com/repos/Ngone51/spark/subscribers","subscription_url":"https://api.github.com/repos/Ngone51/spark/subscription","commits_url":"https://api.github.com/repos/Ngone51/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/Ngone51/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/Ngone51/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/Ngone51/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/Ngone51/spark/contents/{+path}","compare_url":"https://api.github.com/repos/Ngone51/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Ngone51/spark/merges","archive_url":"https://api.github.com/repos/Ngone51/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Ngone51/spark/downloads","issues_url":"https://api.github.com/repos/Ngone51/spark/issues{/number}","pulls_url":"https://api.github.com/repos/Ngone51/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/Ngone51/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/Ngone51/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Ngone51/spark/labels{/name}","releases_url":"https://api.github.com/repos/Ngone51/spark/releases{/id}","deployments_url":"https://api.github.com/repos/Ngone51/spark/deployments","created_at":"2017-12-14T01:05:22Z","updated_at":"2021-11-09T15:33:30Z","pushed_at":"2025-01-23T04:25:21Z","git_url":"git://github.com/Ngone51/spark.git","ssh_url":"git@github.com:Ngone51/spark.git","clone_url":"https://github.com/Ngone51/spark.git","svn_url":"https://github.com/Ngone51/spark","homepage":null,"size":478226,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"b85974db85a881a2e8aebc31cb4f578008648ab9","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23725"},"html":{"href":"https://github.com/apache/spark/pull/23725"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23725"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23725/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23725/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23725/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/4706ac285242987a1f3f1444563a2c1f8c00360e"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23724","id":249794087,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5Nzk0MDg3","html_url":"https://github.com/apache/spark/pull/23724","diff_url":"https://github.com/apache/spark/pull/23724.diff","patch_url":"https://github.com/apache/spark/pull/23724.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23724","number":23724,"state":"closed","locked":false,"title":"[SPARK-26813][BUILD] Consolidate java version across language compilers and build tools","user":{"login":"seancxmao","id":12194089,"node_id":"MDQ6VXNlcjEyMTk0MDg5","avatar_url":"https://avatars.githubusercontent.com/u/12194089?v=4","gravatar_id":"","url":"https://api.github.com/users/seancxmao","html_url":"https://github.com/seancxmao","followers_url":"https://api.github.com/users/seancxmao/followers","following_url":"https://api.github.com/users/seancxmao/following{/other_user}","gists_url":"https://api.github.com/users/seancxmao/gists{/gist_id}","starred_url":"https://api.github.com/users/seancxmao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seancxmao/subscriptions","organizations_url":"https://api.github.com/users/seancxmao/orgs","repos_url":"https://api.github.com/users/seancxmao/repos","events_url":"https://api.github.com/users/seancxmao/events{/privacy}","received_events_url":"https://api.github.com/users/seancxmao/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\nThe java version here means versions of javac source, javac target, scalac target. They could be consolidated as a single version (currently 1.8)\r\n\r\n|      |javac|scalac   |\r\n|------|-----|---------|\r\n|source|1.8  |2.12/2.11|\r\n|target|1.8  |1.8      |\r\n\r\n\r\nThe current issues are as follows\r\n\r\n* Maven build defines a single property (`java.version`) to specify java version while SBT build defines different properties for javac (`javacJVMVersion`) and scalac (`scalacJVMVersion`). SBT build should use a single property as Maven build does.\r\n* Furthermore, it's better for SBT build to refer to `java.version` defined by Maven build. This is possible since we've already been using sbt-pom-reader.\r\n\r\n## How was this patch tested?\r\nTested locally.\r\n\r\n```\r\nbuild/mvn clean compile\r\nbuild/sbt clean compile\r\n```\r\n","created_at":"2019-02-02T06:00:08Z","updated_at":"2019-02-04T14:59:57Z","closed_at":"2019-02-04T14:59:57Z","merged_at":null,"merge_commit_sha":"63b0388e481dbf75caf83fd78d75146e1b0d4084","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23724/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23724/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23724/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/40418d3f207911c80eca0431ad162a635183b8a4","head":{"label":"seancxmao:specify-java-version-once","ref":"specify-java-version-once","sha":"40418d3f207911c80eca0431ad162a635183b8a4","user":{"login":"seancxmao","id":12194089,"node_id":"MDQ6VXNlcjEyMTk0MDg5","avatar_url":"https://avatars.githubusercontent.com/u/12194089?v=4","gravatar_id":"","url":"https://api.github.com/users/seancxmao","html_url":"https://github.com/seancxmao","followers_url":"https://api.github.com/users/seancxmao/followers","following_url":"https://api.github.com/users/seancxmao/following{/other_user}","gists_url":"https://api.github.com/users/seancxmao/gists{/gist_id}","starred_url":"https://api.github.com/users/seancxmao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seancxmao/subscriptions","organizations_url":"https://api.github.com/users/seancxmao/orgs","repos_url":"https://api.github.com/users/seancxmao/repos","events_url":"https://api.github.com/users/seancxmao/events{/privacy}","received_events_url":"https://api.github.com/users/seancxmao/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":121346712,"node_id":"MDEwOlJlcG9zaXRvcnkxMjEzNDY3MTI=","name":"spark","full_name":"seancxmao/spark","private":false,"owner":{"login":"seancxmao","id":12194089,"node_id":"MDQ6VXNlcjEyMTk0MDg5","avatar_url":"https://avatars.githubusercontent.com/u/12194089?v=4","gravatar_id":"","url":"https://api.github.com/users/seancxmao","html_url":"https://github.com/seancxmao","followers_url":"https://api.github.com/users/seancxmao/followers","following_url":"https://api.github.com/users/seancxmao/following{/other_user}","gists_url":"https://api.github.com/users/seancxmao/gists{/gist_id}","starred_url":"https://api.github.com/users/seancxmao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seancxmao/subscriptions","organizations_url":"https://api.github.com/users/seancxmao/orgs","repos_url":"https://api.github.com/users/seancxmao/repos","events_url":"https://api.github.com/users/seancxmao/events{/privacy}","received_events_url":"https://api.github.com/users/seancxmao/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/seancxmao/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/seancxmao/spark","forks_url":"https://api.github.com/repos/seancxmao/spark/forks","keys_url":"https://api.github.com/repos/seancxmao/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/seancxmao/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/seancxmao/spark/teams","hooks_url":"https://api.github.com/repos/seancxmao/spark/hooks","issue_events_url":"https://api.github.com/repos/seancxmao/spark/issues/events{/number}","events_url":"https://api.github.com/repos/seancxmao/spark/events","assignees_url":"https://api.github.com/repos/seancxmao/spark/assignees{/user}","branches_url":"https://api.github.com/repos/seancxmao/spark/branches{/branch}","tags_url":"https://api.github.com/repos/seancxmao/spark/tags","blobs_url":"https://api.github.com/repos/seancxmao/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/seancxmao/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/seancxmao/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/seancxmao/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/seancxmao/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/seancxmao/spark/languages","stargazers_url":"https://api.github.com/repos/seancxmao/spark/stargazers","contributors_url":"https://api.github.com/repos/seancxmao/spark/contributors","subscribers_url":"https://api.github.com/repos/seancxmao/spark/subscribers","subscription_url":"https://api.github.com/repos/seancxmao/spark/subscription","commits_url":"https://api.github.com/repos/seancxmao/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/seancxmao/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/seancxmao/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/seancxmao/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/seancxmao/spark/contents/{+path}","compare_url":"https://api.github.com/repos/seancxmao/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/seancxmao/spark/merges","archive_url":"https://api.github.com/repos/seancxmao/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/seancxmao/spark/downloads","issues_url":"https://api.github.com/repos/seancxmao/spark/issues{/number}","pulls_url":"https://api.github.com/repos/seancxmao/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/seancxmao/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/seancxmao/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/seancxmao/spark/labels{/name}","releases_url":"https://api.github.com/repos/seancxmao/spark/releases{/id}","deployments_url":"https://api.github.com/repos/seancxmao/spark/deployments","created_at":"2018-02-13T06:21:47Z","updated_at":"2022-10-01T08:46:19Z","pushed_at":"2022-10-01T08:44:39Z","git_url":"git://github.com/seancxmao/spark.git","ssh_url":"git@github.com:seancxmao/spark.git","clone_url":"https://github.com/seancxmao/spark.git","svn_url":"https://github.com/seancxmao/spark","homepage":null,"size":413914,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"b85974db85a881a2e8aebc31cb4f578008648ab9","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23724"},"html":{"href":"https://github.com/apache/spark/pull/23724"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23724"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23724/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23724/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23724/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/40418d3f207911c80eca0431ad162a635183b8a4"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23723","id":249788577,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5Nzg4NTc3","html_url":"https://github.com/apache/spark/pull/23723","diff_url":"https://github.com/apache/spark/pull/23723.diff","patch_url":"https://github.com/apache/spark/pull/23723.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23723","number":23723,"state":"closed","locked":false,"title":"[MINOR][SQL][DOCS] Reformat the tables in SQL migration guide","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\n1. Reformat the tables to be located with a proper indentation under the corresponding item to be consistent.\r\n\r\n2. Fix **Table 2**'s contents to be more readable with code blocks.\r\n\r\n### Table 1\r\n\r\n**Before:**\r\n\r\n![screen shot 2019-02-02 at 11 37 30 am](https://user-images.githubusercontent.com/6477701/52159396-f1a18380-26de-11e9-9dca-f56b19f22bb4.png)\r\n\r\n\r\n\r\n**After:**\r\n\r\n![screen shot 2019-02-02 at 11 32 39 am](https://user-images.githubusercontent.com/6477701/52159370-7d66e000-26de-11e9-9e6d-81cf73691c05.png)\r\n\r\n\r\n### Table 2\r\n\r\n**Before:**\r\n\r\n\r\n![screen shot 2019-02-02 at 11 35 51 am](https://user-images.githubusercontent.com/6477701/52159401-0ed65200-26df-11e9-8b0e-86d005c233b5.png)\r\n\r\n**After:**\r\n\r\n\r\n![screen shot 2019-02-02 at 11 32 44 am](https://user-images.githubusercontent.com/6477701/52159372-7f30a380-26de-11e9-8c04-a88c74b78cff.png)\r\n\r\n\r\n## How was this patch tested?\r\n\r\nManually built the doc.","created_at":"2019-02-02T03:39:57Z","updated_at":"2020-03-03T01:19:56Z","closed_at":"2019-02-02T15:49:28Z","merged_at":null,"merge_commit_sha":"5856b11f05beb39470bc013461a269e0a9c6fbea","assignee":null,"assignees":[],"requested_reviewers":[{"login":"srowen","id":822522,"node_id":"MDQ6VXNlcjgyMjUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/822522?v=4","gravatar_id":"","url":"https://api.github.com/users/srowen","html_url":"https://github.com/srowen","followers_url":"https://api.github.com/users/srowen/followers","following_url":"https://api.github.com/users/srowen/following{/other_user}","gists_url":"https://api.github.com/users/srowen/gists{/gist_id}","starred_url":"https://api.github.com/users/srowen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srowen/subscriptions","organizations_url":"https://api.github.com/users/srowen/orgs","repos_url":"https://api.github.com/users/srowen/repos","events_url":"https://api.github.com/users/srowen/events{/privacy}","received_events_url":"https://api.github.com/users/srowen/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23723/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23723/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23723/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/5677857f02a01b57c48166357d16e428bd51c64d","head":{"label":"HyukjinKwon:minor-doc-fix","ref":"minor-doc-fix","sha":"5677857f02a01b57c48166357d16e428bd51c64d","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"b85974db85a881a2e8aebc31cb4f578008648ab9","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23723"},"html":{"href":"https://github.com/apache/spark/pull/23723"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23723"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23723/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23723/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23723/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/5677857f02a01b57c48166357d16e428bd51c64d"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23722","id":249729898,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5NzI5ODk4","html_url":"https://github.com/apache/spark/pull/23722","diff_url":"https://github.com/apache/spark/pull/23722.diff","patch_url":"https://github.com/apache/spark/pull/23722.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23722","number":23722,"state":"closed","locked":false,"title":"[SPARK-26651][SQL][DOC] Collapse notes related to java.time API","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nCollapsed notes about using Java 8 API for date/timestamp manipulations and Proleptic Gregorian calendar in the SQL migration guide.\r\n","created_at":"2019-02-01T20:43:00Z","updated_at":"2019-08-17T13:36:39Z","closed_at":"2019-02-02T03:21:00Z","merged_at":null,"merge_commit_sha":"723183f93106916094a0f2ee9d33aad9f2b51e78","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23722/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23722/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23722/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/4cccb59be2c7edcf1b1ab771da73f735ea1e7c55","head":{"label":"MaxGekk:collapse-notes","ref":"collapse-notes","sha":"4cccb59be2c7edcf1b1ab771da73f735ea1e7c55","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":123690489,"node_id":"MDEwOlJlcG9zaXRvcnkxMjM2OTA0ODk=","name":"spark","full_name":"MaxGekk/spark","private":false,"owner":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/MaxGekk/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/MaxGekk/spark","forks_url":"https://api.github.com/repos/MaxGekk/spark/forks","keys_url":"https://api.github.com/repos/MaxGekk/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/MaxGekk/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/MaxGekk/spark/teams","hooks_url":"https://api.github.com/repos/MaxGekk/spark/hooks","issue_events_url":"https://api.github.com/repos/MaxGekk/spark/issues/events{/number}","events_url":"https://api.github.com/repos/MaxGekk/spark/events","assignees_url":"https://api.github.com/repos/MaxGekk/spark/assignees{/user}","branches_url":"https://api.github.com/repos/MaxGekk/spark/branches{/branch}","tags_url":"https://api.github.com/repos/MaxGekk/spark/tags","blobs_url":"https://api.github.com/repos/MaxGekk/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/MaxGekk/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/MaxGekk/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/MaxGekk/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/MaxGekk/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/MaxGekk/spark/languages","stargazers_url":"https://api.github.com/repos/MaxGekk/spark/stargazers","contributors_url":"https://api.github.com/repos/MaxGekk/spark/contributors","subscribers_url":"https://api.github.com/repos/MaxGekk/spark/subscribers","subscription_url":"https://api.github.com/repos/MaxGekk/spark/subscription","commits_url":"https://api.github.com/repos/MaxGekk/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/MaxGekk/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/MaxGekk/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/MaxGekk/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/MaxGekk/spark/contents/{+path}","compare_url":"https://api.github.com/repos/MaxGekk/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/MaxGekk/spark/merges","archive_url":"https://api.github.com/repos/MaxGekk/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/MaxGekk/spark/downloads","issues_url":"https://api.github.com/repos/MaxGekk/spark/issues{/number}","pulls_url":"https://api.github.com/repos/MaxGekk/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/MaxGekk/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/MaxGekk/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/MaxGekk/spark/labels{/name}","releases_url":"https://api.github.com/repos/MaxGekk/spark/releases{/id}","deployments_url":"https://api.github.com/repos/MaxGekk/spark/deployments","created_at":"2018-03-03T12:37:00Z","updated_at":"2025-02-07T09:44:52Z","pushed_at":"2025-02-07T09:44:24Z","git_url":"git://github.com/MaxGekk/spark.git","ssh_url":"git@github.com:MaxGekk/spark.git","clone_url":"https://github.com/MaxGekk/spark.git","svn_url":"https://github.com/MaxGekk/spark","homepage":null,"size":486456,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"03a928cbecaf38bbbab3e6b957fcbb542771cfbd","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23722"},"html":{"href":"https://github.com/apache/spark/pull/23722"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23722"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23722/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23722/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23722/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/4cccb59be2c7edcf1b1ab771da73f735ea1e7c55"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23721","id":249545240,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5NTQ1MjQw","html_url":"https://github.com/apache/spark/pull/23721","diff_url":"https://github.com/apache/spark/pull/23721.diff","patch_url":"https://github.com/apache/spark/pull/23721.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23721","number":23721,"state":"closed","locked":false,"title":"[SPARK-26797][SQL][WIP][test-maven] Start using the new logical types API of Parquet 1.11.0 instead of the deprecated one","user":{"login":"nandorKollar","id":12639187,"node_id":"MDQ6VXNlcjEyNjM5MTg3","avatar_url":"https://avatars.githubusercontent.com/u/12639187?v=4","gravatar_id":"","url":"https://api.github.com/users/nandorKollar","html_url":"https://github.com/nandorKollar","followers_url":"https://api.github.com/users/nandorKollar/followers","following_url":"https://api.github.com/users/nandorKollar/following{/other_user}","gists_url":"https://api.github.com/users/nandorKollar/gists{/gist_id}","starred_url":"https://api.github.com/users/nandorKollar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nandorKollar/subscriptions","organizations_url":"https://api.github.com/users/nandorKollar/orgs","repos_url":"https://api.github.com/users/nandorKollar/repos","events_url":"https://api.github.com/users/nandorKollar/events{/privacy}","received_events_url":"https://api.github.com/users/nandorKollar/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nA new, more flexible logical type API was introduced in parquet-mr 1.11.0 (based on the the Thrift field in parquet-format available for a while). This change migrates from the old (now deprecated) enum-based OriginalType API to this new logical type API.\r\n\r\nIn addition to replacing the deprecated API calls, this PR also introduces support for reading the new subtypes for different timestamp semantics.\r\n\r\nSince parquet-mr 1.11.0 is not yet released, this is tested against a release candidate. Before merging, the additional repository should be deleted from pom.xml, which can only be done once parquet-mr 1.11.0 is released.\r\n\r\n## How was this patch tested?\r\n\r\nUnit tests were added to the PR.","created_at":"2019-02-01T09:55:34Z","updated_at":"2021-02-28T17:11:17Z","closed_at":"2020-06-01T00:22:33Z","merged_at":null,"merge_commit_sha":"50eee800a4654932d0654823e5b7537f7fce4bdc","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23721/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23721/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23721/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9dbf1523ed247dec11d21217241bfb6014dc39ee","head":{"label":"nandorKollar:SPARK-26797","ref":"SPARK-26797","sha":"9dbf1523ed247dec11d21217241bfb6014dc39ee","user":{"login":"nandorKollar","id":12639187,"node_id":"MDQ6VXNlcjEyNjM5MTg3","avatar_url":"https://avatars.githubusercontent.com/u/12639187?v=4","gravatar_id":"","url":"https://api.github.com/users/nandorKollar","html_url":"https://github.com/nandorKollar","followers_url":"https://api.github.com/users/nandorKollar/followers","following_url":"https://api.github.com/users/nandorKollar/following{/other_user}","gists_url":"https://api.github.com/users/nandorKollar/gists{/gist_id}","starred_url":"https://api.github.com/users/nandorKollar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nandorKollar/subscriptions","organizations_url":"https://api.github.com/users/nandorKollar/orgs","repos_url":"https://api.github.com/users/nandorKollar/repos","events_url":"https://api.github.com/users/nandorKollar/events{/privacy}","received_events_url":"https://api.github.com/users/nandorKollar/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":148200621,"node_id":"MDEwOlJlcG9zaXRvcnkxNDgyMDA2MjE=","name":"spark","full_name":"nandorKollar/spark","private":false,"owner":{"login":"nandorKollar","id":12639187,"node_id":"MDQ6VXNlcjEyNjM5MTg3","avatar_url":"https://avatars.githubusercontent.com/u/12639187?v=4","gravatar_id":"","url":"https://api.github.com/users/nandorKollar","html_url":"https://github.com/nandorKollar","followers_url":"https://api.github.com/users/nandorKollar/followers","following_url":"https://api.github.com/users/nandorKollar/following{/other_user}","gists_url":"https://api.github.com/users/nandorKollar/gists{/gist_id}","starred_url":"https://api.github.com/users/nandorKollar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nandorKollar/subscriptions","organizations_url":"https://api.github.com/users/nandorKollar/orgs","repos_url":"https://api.github.com/users/nandorKollar/repos","events_url":"https://api.github.com/users/nandorKollar/events{/privacy}","received_events_url":"https://api.github.com/users/nandorKollar/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/nandorKollar/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/nandorKollar/spark","forks_url":"https://api.github.com/repos/nandorKollar/spark/forks","keys_url":"https://api.github.com/repos/nandorKollar/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/nandorKollar/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/nandorKollar/spark/teams","hooks_url":"https://api.github.com/repos/nandorKollar/spark/hooks","issue_events_url":"https://api.github.com/repos/nandorKollar/spark/issues/events{/number}","events_url":"https://api.github.com/repos/nandorKollar/spark/events","assignees_url":"https://api.github.com/repos/nandorKollar/spark/assignees{/user}","branches_url":"https://api.github.com/repos/nandorKollar/spark/branches{/branch}","tags_url":"https://api.github.com/repos/nandorKollar/spark/tags","blobs_url":"https://api.github.com/repos/nandorKollar/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/nandorKollar/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/nandorKollar/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/nandorKollar/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/nandorKollar/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/nandorKollar/spark/languages","stargazers_url":"https://api.github.com/repos/nandorKollar/spark/stargazers","contributors_url":"https://api.github.com/repos/nandorKollar/spark/contributors","subscribers_url":"https://api.github.com/repos/nandorKollar/spark/subscribers","subscription_url":"https://api.github.com/repos/nandorKollar/spark/subscription","commits_url":"https://api.github.com/repos/nandorKollar/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/nandorKollar/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/nandorKollar/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/nandorKollar/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/nandorKollar/spark/contents/{+path}","compare_url":"https://api.github.com/repos/nandorKollar/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/nandorKollar/spark/merges","archive_url":"https://api.github.com/repos/nandorKollar/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/nandorKollar/spark/downloads","issues_url":"https://api.github.com/repos/nandorKollar/spark/issues{/number}","pulls_url":"https://api.github.com/repos/nandorKollar/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/nandorKollar/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/nandorKollar/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/nandorKollar/spark/labels{/name}","releases_url":"https://api.github.com/repos/nandorKollar/spark/releases{/id}","deployments_url":"https://api.github.com/repos/nandorKollar/spark/deployments","created_at":"2018-09-10T18:28:14Z","updated_at":"2018-09-10T18:28:42Z","pushed_at":"2020-01-03T15:19:40Z","git_url":"git://github.com/nandorKollar/spark.git","ssh_url":"git@github.com:nandorKollar/spark.git","clone_url":"https://github.com/nandorKollar/spark.git","svn_url":"https://github.com/nandorKollar/spark","homepage":null,"size":292324,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"8ec6cb67c71c67788230cab8a0cd34d8ad3ce24b","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23721"},"html":{"href":"https://github.com/apache/spark/pull/23721"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23721"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23721/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23721/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23721/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9dbf1523ed247dec11d21217241bfb6014dc39ee"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23720","id":249521565,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5NTIxNTY1","html_url":"https://github.com/apache/spark/pull/23720","diff_url":"https://github.com/apache/spark/pull/23720.diff","patch_url":"https://github.com/apache/spark/pull/23720.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23720","number":23720,"state":"closed","locked":false,"title":"[WIP]: create attributes from live log urls to form a permalink past YARN log aggregation","user":{"login":"gerashegalov","id":3187938,"node_id":"MDQ6VXNlcjMxODc5Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/3187938?v=4","gravatar_id":"","url":"https://api.github.com/users/gerashegalov","html_url":"https://github.com/gerashegalov","followers_url":"https://api.github.com/users/gerashegalov/followers","following_url":"https://api.github.com/users/gerashegalov/following{/other_user}","gists_url":"https://api.github.com/users/gerashegalov/gists{/gist_id}","starred_url":"https://api.github.com/users/gerashegalov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerashegalov/subscriptions","organizations_url":"https://api.github.com/users/gerashegalov/orgs","repos_url":"https://api.github.com/users/gerashegalov/repos","events_url":"https://api.github.com/users/gerashegalov/events{/privacy}","received_events_url":"https://api.github.com/users/gerashegalov/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nProvide ability to recover attributes for log url rewrite in #23260 from event logs produced by older spark versions using the log urls of live containers\r\n\r\nThe current solution in #23260 currently works only with the apps run on the to-be-released version of Spark. However, deployments with a wealth of historic event logs are left out. More importantly SHS is less critical and can be upgraded much faster than production apps. \r\n\r\nAnother improvement in this PR is going beyond a fixed set of supported variables for wider set of deployments. This PR proposes to use configurable named capturing groups for a regex to extract building blocks for a permalink. Below is an example for YARN.\r\n\r\n## How was this patch tested?\r\n\r\nJust locally so far. With configuration like \r\n```\r\nspark.history.executor.log.url.regex            //(.+):\\\\d+/.*/(container_\\\\d+_\\\\d+_\\\\d+_[0-9]\\\\d+)/\r\nspark.history.executor.log.url.regex.groups     YARN_NM_HOST,YARN_CID\r\nspark.history.custom.executor.log.url           http://jhs.host.xyz:19888/jobhistory/logs/{{YARN_NM_HOST}}:8041/{{YARN_CID}}/{{YARN_CID}}/hadoop\r\n```\r\n I was able to use this PR with old event logs from EMR stored on S3\r\n","created_at":"2019-02-01T08:20:50Z","updated_at":"2019-04-26T20:41:49Z","closed_at":"2019-04-26T20:41:48Z","merged_at":null,"merge_commit_sha":"d3021690a24aff8833f7fcf6abe4419b33c57fb6","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23720/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23720/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23720/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/14bb807f16c2e904c3c317e8fb8f4729f9d35e1b","head":{"label":"gerashegalov:gera/logurl-regex-attributes","ref":"gera/logurl-regex-attributes","sha":"14bb807f16c2e904c3c317e8fb8f4729f9d35e1b","user":{"login":"gerashegalov","id":3187938,"node_id":"MDQ6VXNlcjMxODc5Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/3187938?v=4","gravatar_id":"","url":"https://api.github.com/users/gerashegalov","html_url":"https://github.com/gerashegalov","followers_url":"https://api.github.com/users/gerashegalov/followers","following_url":"https://api.github.com/users/gerashegalov/following{/other_user}","gists_url":"https://api.github.com/users/gerashegalov/gists{/gist_id}","starred_url":"https://api.github.com/users/gerashegalov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerashegalov/subscriptions","organizations_url":"https://api.github.com/users/gerashegalov/orgs","repos_url":"https://api.github.com/users/gerashegalov/repos","events_url":"https://api.github.com/users/gerashegalov/events{/privacy}","received_events_url":"https://api.github.com/users/gerashegalov/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":115094812,"node_id":"MDEwOlJlcG9zaXRvcnkxMTUwOTQ4MTI=","name":"spark","full_name":"gerashegalov/spark","private":false,"owner":{"login":"gerashegalov","id":3187938,"node_id":"MDQ6VXNlcjMxODc5Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/3187938?v=4","gravatar_id":"","url":"https://api.github.com/users/gerashegalov","html_url":"https://github.com/gerashegalov","followers_url":"https://api.github.com/users/gerashegalov/followers","following_url":"https://api.github.com/users/gerashegalov/following{/other_user}","gists_url":"https://api.github.com/users/gerashegalov/gists{/gist_id}","starred_url":"https://api.github.com/users/gerashegalov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerashegalov/subscriptions","organizations_url":"https://api.github.com/users/gerashegalov/orgs","repos_url":"https://api.github.com/users/gerashegalov/repos","events_url":"https://api.github.com/users/gerashegalov/events{/privacy}","received_events_url":"https://api.github.com/users/gerashegalov/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/gerashegalov/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/gerashegalov/spark","forks_url":"https://api.github.com/repos/gerashegalov/spark/forks","keys_url":"https://api.github.com/repos/gerashegalov/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/gerashegalov/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/gerashegalov/spark/teams","hooks_url":"https://api.github.com/repos/gerashegalov/spark/hooks","issue_events_url":"https://api.github.com/repos/gerashegalov/spark/issues/events{/number}","events_url":"https://api.github.com/repos/gerashegalov/spark/events","assignees_url":"https://api.github.com/repos/gerashegalov/spark/assignees{/user}","branches_url":"https://api.github.com/repos/gerashegalov/spark/branches{/branch}","tags_url":"https://api.github.com/repos/gerashegalov/spark/tags","blobs_url":"https://api.github.com/repos/gerashegalov/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/gerashegalov/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/gerashegalov/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/gerashegalov/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/gerashegalov/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/gerashegalov/spark/languages","stargazers_url":"https://api.github.com/repos/gerashegalov/spark/stargazers","contributors_url":"https://api.github.com/repos/gerashegalov/spark/contributors","subscribers_url":"https://api.github.com/repos/gerashegalov/spark/subscribers","subscription_url":"https://api.github.com/repos/gerashegalov/spark/subscription","commits_url":"https://api.github.com/repos/gerashegalov/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/gerashegalov/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/gerashegalov/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/gerashegalov/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/gerashegalov/spark/contents/{+path}","compare_url":"https://api.github.com/repos/gerashegalov/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/gerashegalov/spark/merges","archive_url":"https://api.github.com/repos/gerashegalov/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/gerashegalov/spark/downloads","issues_url":"https://api.github.com/repos/gerashegalov/spark/issues{/number}","pulls_url":"https://api.github.com/repos/gerashegalov/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/gerashegalov/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/gerashegalov/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/gerashegalov/spark/labels{/name}","releases_url":"https://api.github.com/repos/gerashegalov/spark/releases{/id}","deployments_url":"https://api.github.com/repos/gerashegalov/spark/deployments","created_at":"2017-12-22T08:31:22Z","updated_at":"2017-12-22T08:31:50Z","pushed_at":"2023-08-24T09:09:57Z","git_url":"git://github.com/gerashegalov/spark.git","ssh_url":"git@github.com:gerashegalov/spark.git","clone_url":"https://github.com/gerashegalov/spark.git","svn_url":"https://github.com/gerashegalov/spark","homepage":null,"size":397228,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"aea5f506463c19fac97547ba7a28f9dd491e3a6a","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23720"},"html":{"href":"https://github.com/apache/spark/pull/23720"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23720"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23720/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23720/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23720/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/14bb807f16c2e904c3c317e8fb8f4729f9d35e1b"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23719","id":249464482,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5NDY0NDgy","html_url":"https://github.com/apache/spark/pull/23719","diff_url":"https://github.com/apache/spark/pull/23719.diff","patch_url":"https://github.com/apache/spark/pull/23719.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23719","number":23719,"state":"closed","locked":false,"title":"[SPARK-26808][SQL] Pruned schema should not change nullability","user":{"login":"viirya","id":68855,"node_id":"MDQ6VXNlcjY4ODU1","avatar_url":"https://avatars.githubusercontent.com/u/68855?v=4","gravatar_id":"","url":"https://api.github.com/users/viirya","html_url":"https://github.com/viirya","followers_url":"https://api.github.com/users/viirya/followers","following_url":"https://api.github.com/users/viirya/following{/other_user}","gists_url":"https://api.github.com/users/viirya/gists{/gist_id}","starred_url":"https://api.github.com/users/viirya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/viirya/subscriptions","organizations_url":"https://api.github.com/users/viirya/orgs","repos_url":"https://api.github.com/users/viirya/repos","events_url":"https://api.github.com/users/viirya/events{/privacy}","received_events_url":"https://api.github.com/users/viirya/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nWe prune unnecessary nested fields from requested schema when reading Parquet. Now seems we don't keep original nullability in pruned schema. We should keep original nullability.\r\n\r\n## How was this patch tested?\r\n\r\nAdded unit test.","created_at":"2019-02-01T02:05:58Z","updated_at":"2023-12-27T18:36:11Z","closed_at":"2019-02-02T07:17:43Z","merged_at":null,"merge_commit_sha":"1846c660f224c6ddab969ce185db6ef89130559b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23719/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23719/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23719/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/35997ccda2160f6468114c65eeed340574eff7f4","head":{"label":"viirya:schema-pruning-nullability","ref":"schema-pruning-nullability","sha":"35997ccda2160f6468114c65eeed340574eff7f4","user":{"login":"viirya","id":68855,"node_id":"MDQ6VXNlcjY4ODU1","avatar_url":"https://avatars.githubusercontent.com/u/68855?v=4","gravatar_id":"","url":"https://api.github.com/users/viirya","html_url":"https://github.com/viirya","followers_url":"https://api.github.com/users/viirya/followers","following_url":"https://api.github.com/users/viirya/following{/other_user}","gists_url":"https://api.github.com/users/viirya/gists{/gist_id}","starred_url":"https://api.github.com/users/viirya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/viirya/subscriptions","organizations_url":"https://api.github.com/users/viirya/orgs","repos_url":"https://api.github.com/users/viirya/repos","events_url":"https://api.github.com/users/viirya/events{/privacy}","received_events_url":"https://api.github.com/users/viirya/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":21467907,"node_id":"MDEwOlJlcG9zaXRvcnkyMTQ2NzkwNw==","name":"spark-1","full_name":"viirya/spark-1","private":false,"owner":{"login":"viirya","id":68855,"node_id":"MDQ6VXNlcjY4ODU1","avatar_url":"https://avatars.githubusercontent.com/u/68855?v=4","gravatar_id":"","url":"https://api.github.com/users/viirya","html_url":"https://github.com/viirya","followers_url":"https://api.github.com/users/viirya/followers","following_url":"https://api.github.com/users/viirya/following{/other_user}","gists_url":"https://api.github.com/users/viirya/gists{/gist_id}","starred_url":"https://api.github.com/users/viirya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/viirya/subscriptions","organizations_url":"https://api.github.com/users/viirya/orgs","repos_url":"https://api.github.com/users/viirya/repos","events_url":"https://api.github.com/users/viirya/events{/privacy}","received_events_url":"https://api.github.com/users/viirya/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/viirya/spark-1","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/viirya/spark-1","forks_url":"https://api.github.com/repos/viirya/spark-1/forks","keys_url":"https://api.github.com/repos/viirya/spark-1/keys{/key_id}","collaborators_url":"https://api.github.com/repos/viirya/spark-1/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/viirya/spark-1/teams","hooks_url":"https://api.github.com/repos/viirya/spark-1/hooks","issue_events_url":"https://api.github.com/repos/viirya/spark-1/issues/events{/number}","events_url":"https://api.github.com/repos/viirya/spark-1/events","assignees_url":"https://api.github.com/repos/viirya/spark-1/assignees{/user}","branches_url":"https://api.github.com/repos/viirya/spark-1/branches{/branch}","tags_url":"https://api.github.com/repos/viirya/spark-1/tags","blobs_url":"https://api.github.com/repos/viirya/spark-1/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/viirya/spark-1/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/viirya/spark-1/git/refs{/sha}","trees_url":"https://api.github.com/repos/viirya/spark-1/git/trees{/sha}","statuses_url":"https://api.github.com/repos/viirya/spark-1/statuses/{sha}","languages_url":"https://api.github.com/repos/viirya/spark-1/languages","stargazers_url":"https://api.github.com/repos/viirya/spark-1/stargazers","contributors_url":"https://api.github.com/repos/viirya/spark-1/contributors","subscribers_url":"https://api.github.com/repos/viirya/spark-1/subscribers","subscription_url":"https://api.github.com/repos/viirya/spark-1/subscription","commits_url":"https://api.github.com/repos/viirya/spark-1/commits{/sha}","git_commits_url":"https://api.github.com/repos/viirya/spark-1/git/commits{/sha}","comments_url":"https://api.github.com/repos/viirya/spark-1/comments{/number}","issue_comment_url":"https://api.github.com/repos/viirya/spark-1/issues/comments{/number}","contents_url":"https://api.github.com/repos/viirya/spark-1/contents/{+path}","compare_url":"https://api.github.com/repos/viirya/spark-1/compare/{base}...{head}","merges_url":"https://api.github.com/repos/viirya/spark-1/merges","archive_url":"https://api.github.com/repos/viirya/spark-1/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/viirya/spark-1/downloads","issues_url":"https://api.github.com/repos/viirya/spark-1/issues{/number}","pulls_url":"https://api.github.com/repos/viirya/spark-1/pulls{/number}","milestones_url":"https://api.github.com/repos/viirya/spark-1/milestones{/number}","notifications_url":"https://api.github.com/repos/viirya/spark-1/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/viirya/spark-1/labels{/name}","releases_url":"https://api.github.com/repos/viirya/spark-1/releases{/id}","deployments_url":"https://api.github.com/repos/viirya/spark-1/deployments","created_at":"2014-07-03T15:40:08Z","updated_at":"2025-02-01T00:45:46Z","pushed_at":"2025-02-01T00:42:28Z","git_url":"git://github.com/viirya/spark-1.git","ssh_url":"git@github.com:viirya/spark-1.git","clone_url":"https://github.com/viirya/spark-1.git","svn_url":"https://github.com/viirya/spark-1","homepage":null,"size":440683,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"8f968b4c064558d6a4c38e7e2592e49d88889507","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23719"},"html":{"href":"https://github.com/apache/spark/pull/23719"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23719"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23719/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23719/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23719/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/35997ccda2160f6468114c65eeed340574eff7f4"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23718","id":249444743,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5NDQ0NzQz","html_url":"https://github.com/apache/spark/pull/23718","diff_url":"https://github.com/apache/spark/pull/23718.diff","patch_url":"https://github.com/apache/spark/pull/23718.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23718","number":23718,"state":"closed","locked":false,"title":"[SPARK-26806][SS]EventTimeStats.merge should handle zeros correctly","user":{"login":"zsxwing","id":1000778,"node_id":"MDQ6VXNlcjEwMDA3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1000778?v=4","gravatar_id":"","url":"https://api.github.com/users/zsxwing","html_url":"https://github.com/zsxwing","followers_url":"https://api.github.com/users/zsxwing/followers","following_url":"https://api.github.com/users/zsxwing/following{/other_user}","gists_url":"https://api.github.com/users/zsxwing/gists{/gist_id}","starred_url":"https://api.github.com/users/zsxwing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zsxwing/subscriptions","organizations_url":"https://api.github.com/users/zsxwing/orgs","repos_url":"https://api.github.com/users/zsxwing/repos","events_url":"https://api.github.com/users/zsxwing/events{/privacy}","received_events_url":"https://api.github.com/users/zsxwing/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nRight now, EventTimeStats.merge doesn't handle `zero.merge(zero)` correctly. This will make `avg` become `NaN`. And whatever gets merged with the result of `zero.merge(zero)`, `avg` will still be `NaN`. Then finally, we call `NaN.toLong` and get `0`, and the user will see the following incorrect report:\r\n\r\n```\r\n\"eventTime\" : {\r\n    \"avg\" : \"1970-01-01T00:00:00.000Z\",\r\n    \"max\" : \"2019-01-31T12:57:00.000Z\",\r\n    \"min\" : \"2019-01-30T18:44:04.000Z\",\r\n    \"watermark\" : \"1970-01-01T00:00:00.000Z\"\r\n  }\r\n```\r\n\r\nThis issue was reported by @liancheng .\r\n\r\nThis PR fixes the above issue.\r\n\r\n## How was this patch tested?\r\n\r\nThe new unit tests.","created_at":"2019-02-01T00:04:39Z","updated_at":"2019-02-01T19:31:04Z","closed_at":"2019-02-01T19:18:34Z","merged_at":null,"merge_commit_sha":"a7c9185f58398c696436714e2160c034538e1f01","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23718/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23718/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23718/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/ff802c9f9306fc9a4c9a6dbe2a38c3a1bd55b9b4","head":{"label":"zsxwing:merge-zero","ref":"merge-zero","sha":"ff802c9f9306fc9a4c9a6dbe2a38c3a1bd55b9b4","user":{"login":"zsxwing","id":1000778,"node_id":"MDQ6VXNlcjEwMDA3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1000778?v=4","gravatar_id":"","url":"https://api.github.com/users/zsxwing","html_url":"https://github.com/zsxwing","followers_url":"https://api.github.com/users/zsxwing/followers","following_url":"https://api.github.com/users/zsxwing/following{/other_user}","gists_url":"https://api.github.com/users/zsxwing/gists{/gist_id}","starred_url":"https://api.github.com/users/zsxwing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zsxwing/subscriptions","organizations_url":"https://api.github.com/users/zsxwing/orgs","repos_url":"https://api.github.com/users/zsxwing/repos","events_url":"https://api.github.com/users/zsxwing/events{/privacy}","received_events_url":"https://api.github.com/users/zsxwing/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":88661206,"node_id":"MDEwOlJlcG9zaXRvcnk4ODY2MTIwNg==","name":"spark","full_name":"zsxwing/spark","private":false,"owner":{"login":"zsxwing","id":1000778,"node_id":"MDQ6VXNlcjEwMDA3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1000778?v=4","gravatar_id":"","url":"https://api.github.com/users/zsxwing","html_url":"https://github.com/zsxwing","followers_url":"https://api.github.com/users/zsxwing/followers","following_url":"https://api.github.com/users/zsxwing/following{/other_user}","gists_url":"https://api.github.com/users/zsxwing/gists{/gist_id}","starred_url":"https://api.github.com/users/zsxwing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zsxwing/subscriptions","organizations_url":"https://api.github.com/users/zsxwing/orgs","repos_url":"https://api.github.com/users/zsxwing/repos","events_url":"https://api.github.com/users/zsxwing/events{/privacy}","received_events_url":"https://api.github.com/users/zsxwing/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zsxwing/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zsxwing/spark","forks_url":"https://api.github.com/repos/zsxwing/spark/forks","keys_url":"https://api.github.com/repos/zsxwing/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zsxwing/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zsxwing/spark/teams","hooks_url":"https://api.github.com/repos/zsxwing/spark/hooks","issue_events_url":"https://api.github.com/repos/zsxwing/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zsxwing/spark/events","assignees_url":"https://api.github.com/repos/zsxwing/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zsxwing/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zsxwing/spark/tags","blobs_url":"https://api.github.com/repos/zsxwing/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zsxwing/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zsxwing/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zsxwing/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zsxwing/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zsxwing/spark/languages","stargazers_url":"https://api.github.com/repos/zsxwing/spark/stargazers","contributors_url":"https://api.github.com/repos/zsxwing/spark/contributors","subscribers_url":"https://api.github.com/repos/zsxwing/spark/subscribers","subscription_url":"https://api.github.com/repos/zsxwing/spark/subscription","commits_url":"https://api.github.com/repos/zsxwing/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zsxwing/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zsxwing/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zsxwing/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zsxwing/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zsxwing/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zsxwing/spark/merges","archive_url":"https://api.github.com/repos/zsxwing/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zsxwing/spark/downloads","issues_url":"https://api.github.com/repos/zsxwing/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zsxwing/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zsxwing/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zsxwing/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zsxwing/spark/labels{/name}","releases_url":"https://api.github.com/repos/zsxwing/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zsxwing/spark/deployments","created_at":"2017-04-18T19:11:28Z","updated_at":"2017-04-18T19:11:55Z","pushed_at":"2022-11-08T16:33:20Z","git_url":"git://github.com/zsxwing/spark.git","ssh_url":"git@github.com:zsxwing/spark.git","clone_url":"https://github.com/zsxwing/spark.git","svn_url":"https://github.com/zsxwing/spark","homepage":null,"size":376188,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"da526985c7574dccdcc0cca7452e2e999a5b3012","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23718"},"html":{"href":"https://github.com/apache/spark/pull/23718"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23718"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23718/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23718/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23718/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/ff802c9f9306fc9a4c9a6dbe2a38c3a1bd55b9b4"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23717","id":249438717,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5NDM4NzE3","html_url":"https://github.com/apache/spark/pull/23717","diff_url":"https://github.com/apache/spark/pull/23717.diff","patch_url":"https://github.com/apache/spark/pull/23717.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23717","number":23717,"state":"closed","locked":false,"title":"[SPARK-26805][SQL] Eliminate double checking of stringToDate and stringToTimestamp inputs","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nIn the PR, I propose to eliminate checking of parsed segments inside of the `stringToDate` and `stringToTimestamp` because such checking is already performed while constructing *java.time* classes, in particular inside of `LocalDate` and `LocalTime`. As a consequence of removing the explicit checks, the `isInvalidDate` method is not needed any more, and it was removed from `DateTimeUtils`.\r\n\r\n## How was this patch tested?\r\n\r\nThis was tested by `DateExpressionsSuite`, `DateFunctionsSuite`, `DateTimeUtilsSuite` and `CastSuite`.\r\n","created_at":"2019-01-31T23:33:29Z","updated_at":"2019-08-17T13:36:38Z","closed_at":"2019-02-03T00:23:34Z","merged_at":null,"merge_commit_sha":"138372af5ebd354f60892677c289281480ba79e8","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23717/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23717/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23717/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/8f9f9c494ffa38654137f5c792d624132813041d","head":{"label":"MaxGekk:datetimeutils-refactoring","ref":"datetimeutils-refactoring","sha":"8f9f9c494ffa38654137f5c792d624132813041d","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":123690489,"node_id":"MDEwOlJlcG9zaXRvcnkxMjM2OTA0ODk=","name":"spark","full_name":"MaxGekk/spark","private":false,"owner":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/MaxGekk/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/MaxGekk/spark","forks_url":"https://api.github.com/repos/MaxGekk/spark/forks","keys_url":"https://api.github.com/repos/MaxGekk/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/MaxGekk/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/MaxGekk/spark/teams","hooks_url":"https://api.github.com/repos/MaxGekk/spark/hooks","issue_events_url":"https://api.github.com/repos/MaxGekk/spark/issues/events{/number}","events_url":"https://api.github.com/repos/MaxGekk/spark/events","assignees_url":"https://api.github.com/repos/MaxGekk/spark/assignees{/user}","branches_url":"https://api.github.com/repos/MaxGekk/spark/branches{/branch}","tags_url":"https://api.github.com/repos/MaxGekk/spark/tags","blobs_url":"https://api.github.com/repos/MaxGekk/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/MaxGekk/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/MaxGekk/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/MaxGekk/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/MaxGekk/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/MaxGekk/spark/languages","stargazers_url":"https://api.github.com/repos/MaxGekk/spark/stargazers","contributors_url":"https://api.github.com/repos/MaxGekk/spark/contributors","subscribers_url":"https://api.github.com/repos/MaxGekk/spark/subscribers","subscription_url":"https://api.github.com/repos/MaxGekk/spark/subscription","commits_url":"https://api.github.com/repos/MaxGekk/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/MaxGekk/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/MaxGekk/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/MaxGekk/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/MaxGekk/spark/contents/{+path}","compare_url":"https://api.github.com/repos/MaxGekk/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/MaxGekk/spark/merges","archive_url":"https://api.github.com/repos/MaxGekk/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/MaxGekk/spark/downloads","issues_url":"https://api.github.com/repos/MaxGekk/spark/issues{/number}","pulls_url":"https://api.github.com/repos/MaxGekk/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/MaxGekk/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/MaxGekk/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/MaxGekk/spark/labels{/name}","releases_url":"https://api.github.com/repos/MaxGekk/spark/releases{/id}","deployments_url":"https://api.github.com/repos/MaxGekk/spark/deployments","created_at":"2018-03-03T12:37:00Z","updated_at":"2025-02-07T09:44:52Z","pushed_at":"2025-02-07T09:44:24Z","git_url":"git://github.com/MaxGekk/spark.git","ssh_url":"git@github.com:MaxGekk/spark.git","clone_url":"https://github.com/MaxGekk/spark.git","svn_url":"https://github.com/MaxGekk/spark","homepage":null,"size":486456,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"da526985c7574dccdcc0cca7452e2e999a5b3012","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23717"},"html":{"href":"https://github.com/apache/spark/pull/23717"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23717"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23717/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23717/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23717/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/8f9f9c494ffa38654137f5c792d624132813041d"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23716","id":249420647,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5NDIwNjQ3","html_url":"https://github.com/apache/spark/pull/23716","diff_url":"https://github.com/apache/spark/pull/23716.diff","patch_url":"https://github.com/apache/spark/pull/23716.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23716","number":23716,"state":"closed","locked":false,"title":"[SPARK-26734] [STREAMING] Fix StackOverflowError with large block queue","user":{"login":"rlodge","id":1108201,"node_id":"MDQ6VXNlcjExMDgyMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1108201?v=4","gravatar_id":"","url":"https://api.github.com/users/rlodge","html_url":"https://github.com/rlodge","followers_url":"https://api.github.com/users/rlodge/followers","following_url":"https://api.github.com/users/rlodge/following{/other_user}","gists_url":"https://api.github.com/users/rlodge/gists{/gist_id}","starred_url":"https://api.github.com/users/rlodge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rlodge/subscriptions","organizations_url":"https://api.github.com/users/rlodge/orgs","repos_url":"https://api.github.com/users/rlodge/repos","events_url":"https://api.github.com/users/rlodge/events{/privacy}","received_events_url":"https://api.github.com/users/rlodge/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nSPARK-23991 introduced a bug in `ReceivedBlockTracker#allocateBlocksToBatch`: when a queue with more than a few thousand blocks are in the queue, serializing the queue throws a StackOverflowError.  This change just adds `dequeueAll` to the new `clone` operation on the queue so that the fix in 23991 is preserved but the serialized data comes from an ArrayBuffer which doesn't have the serialization problems that mutable.Queue has.\r\n\r\n## How was this patch tested?\r\n\r\nA unit test was added.","created_at":"2019-01-31T22:15:51Z","updated_at":"2019-02-06T16:48:17Z","closed_at":"2019-02-06T16:47:35Z","merged_at":null,"merge_commit_sha":"f367e99340d7296b3de08d02cf120b82ceed7ad5","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23716/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23716/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23716/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9cd6fb57b631316cd098dcba3337490d9582070c","head":{"label":"rlodge:SPARK-26734","ref":"SPARK-26734","sha":"9cd6fb57b631316cd098dcba3337490d9582070c","user":{"login":"rlodge","id":1108201,"node_id":"MDQ6VXNlcjExMDgyMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1108201?v=4","gravatar_id":"","url":"https://api.github.com/users/rlodge","html_url":"https://github.com/rlodge","followers_url":"https://api.github.com/users/rlodge/followers","following_url":"https://api.github.com/users/rlodge/following{/other_user}","gists_url":"https://api.github.com/users/rlodge/gists{/gist_id}","starred_url":"https://api.github.com/users/rlodge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rlodge/subscriptions","organizations_url":"https://api.github.com/users/rlodge/orgs","repos_url":"https://api.github.com/users/rlodge/repos","events_url":"https://api.github.com/users/rlodge/events{/privacy}","received_events_url":"https://api.github.com/users/rlodge/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":64161551,"node_id":"MDEwOlJlcG9zaXRvcnk2NDE2MTU1MQ==","name":"spark","full_name":"rlodge/spark","private":false,"owner":{"login":"rlodge","id":1108201,"node_id":"MDQ6VXNlcjExMDgyMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1108201?v=4","gravatar_id":"","url":"https://api.github.com/users/rlodge","html_url":"https://github.com/rlodge","followers_url":"https://api.github.com/users/rlodge/followers","following_url":"https://api.github.com/users/rlodge/following{/other_user}","gists_url":"https://api.github.com/users/rlodge/gists{/gist_id}","starred_url":"https://api.github.com/users/rlodge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rlodge/subscriptions","organizations_url":"https://api.github.com/users/rlodge/orgs","repos_url":"https://api.github.com/users/rlodge/repos","events_url":"https://api.github.com/users/rlodge/events{/privacy}","received_events_url":"https://api.github.com/users/rlodge/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rlodge/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/rlodge/spark","forks_url":"https://api.github.com/repos/rlodge/spark/forks","keys_url":"https://api.github.com/repos/rlodge/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rlodge/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rlodge/spark/teams","hooks_url":"https://api.github.com/repos/rlodge/spark/hooks","issue_events_url":"https://api.github.com/repos/rlodge/spark/issues/events{/number}","events_url":"https://api.github.com/repos/rlodge/spark/events","assignees_url":"https://api.github.com/repos/rlodge/spark/assignees{/user}","branches_url":"https://api.github.com/repos/rlodge/spark/branches{/branch}","tags_url":"https://api.github.com/repos/rlodge/spark/tags","blobs_url":"https://api.github.com/repos/rlodge/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rlodge/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rlodge/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/rlodge/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rlodge/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/rlodge/spark/languages","stargazers_url":"https://api.github.com/repos/rlodge/spark/stargazers","contributors_url":"https://api.github.com/repos/rlodge/spark/contributors","subscribers_url":"https://api.github.com/repos/rlodge/spark/subscribers","subscription_url":"https://api.github.com/repos/rlodge/spark/subscription","commits_url":"https://api.github.com/repos/rlodge/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/rlodge/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/rlodge/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/rlodge/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/rlodge/spark/contents/{+path}","compare_url":"https://api.github.com/repos/rlodge/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rlodge/spark/merges","archive_url":"https://api.github.com/repos/rlodge/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rlodge/spark/downloads","issues_url":"https://api.github.com/repos/rlodge/spark/issues{/number}","pulls_url":"https://api.github.com/repos/rlodge/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/rlodge/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/rlodge/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rlodge/spark/labels{/name}","releases_url":"https://api.github.com/repos/rlodge/spark/releases{/id}","deployments_url":"https://api.github.com/repos/rlodge/spark/deployments","created_at":"2016-07-25T19:19:47Z","updated_at":"2019-01-31T17:01:31Z","pushed_at":"2019-08-27T17:49:26Z","git_url":"git://github.com/rlodge/spark.git","ssh_url":"git@github.com:rlodge/spark.git","clone_url":"https://github.com/rlodge/spark.git","svn_url":"https://github.com/rlodge/spark","homepage":null,"size":280126,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"f4a17e916b729f9dc46e859b50a416db1e37b92e","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23716"},"html":{"href":"https://github.com/apache/spark/pull/23716"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23716"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23716/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23716/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23716/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9cd6fb57b631316cd098dcba3337490d9582070c"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23715","id":249392523,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5MzkyNTIz","html_url":"https://github.com/apache/spark/pull/23715","diff_url":"https://github.com/apache/spark/pull/23715.diff","patch_url":"https://github.com/apache/spark/pull/23715.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23715","number":23715,"state":"closed","locked":false,"title":"[SPARK-26803][PYTHON] Add sbin subdirectory to pyspark","user":{"login":"oulenz","id":13745168,"node_id":"MDQ6VXNlcjEzNzQ1MTY4","avatar_url":"https://avatars.githubusercontent.com/u/13745168?v=4","gravatar_id":"","url":"https://api.github.com/users/oulenz","html_url":"https://github.com/oulenz","followers_url":"https://api.github.com/users/oulenz/followers","following_url":"https://api.github.com/users/oulenz/following{/other_user}","gists_url":"https://api.github.com/users/oulenz/gists{/gist_id}","starred_url":"https://api.github.com/users/oulenz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oulenz/subscriptions","organizations_url":"https://api.github.com/users/oulenz/orgs","repos_url":"https://api.github.com/users/oulenz/repos","events_url":"https://api.github.com/users/oulenz/events{/privacy}","received_events_url":"https://api.github.com/users/oulenz/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nModifies `setup.py` so that `sbin` subdirectory is included in pyspark\r\n\r\n## How was this patch tested?\r\n\r\nManually tested with python 2.7 and python 3.7\r\n\r\n```sh\r\n$ ./build/mvn -D skipTests -P hive -P hive-thriftserver -P yarn -P mesos clean package\r\n$ cd python\r\n$ python setup.py sdist\r\n$ pip install  dist/pyspark-2.1.0.dev0.tar.gz\r\n```\r\n\r\nChecked manually that `sbin` is now present in install directory.\r\n\r\n@srowen @holdenk\r\n","created_at":"2019-01-31T20:35:28Z","updated_at":"2019-02-27T14:42:16Z","closed_at":"2019-02-27T14:42:16Z","merged_at":null,"merge_commit_sha":"01a387ac68c343ae32c23de415de878dc8a5ac33","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23715/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23715/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23715/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/4185ce6b15641477c404626bb8728fa5ca42eee5","head":{"label":"oulenz:pyspark_sbin","ref":"pyspark_sbin","sha":"4185ce6b15641477c404626bb8728fa5ca42eee5","user":{"login":"oulenz","id":13745168,"node_id":"MDQ6VXNlcjEzNzQ1MTY4","avatar_url":"https://avatars.githubusercontent.com/u/13745168?v=4","gravatar_id":"","url":"https://api.github.com/users/oulenz","html_url":"https://github.com/oulenz","followers_url":"https://api.github.com/users/oulenz/followers","following_url":"https://api.github.com/users/oulenz/following{/other_user}","gists_url":"https://api.github.com/users/oulenz/gists{/gist_id}","starred_url":"https://api.github.com/users/oulenz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oulenz/subscriptions","organizations_url":"https://api.github.com/users/oulenz/orgs","repos_url":"https://api.github.com/users/oulenz/repos","events_url":"https://api.github.com/users/oulenz/events{/privacy}","received_events_url":"https://api.github.com/users/oulenz/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":168165769,"node_id":"MDEwOlJlcG9zaXRvcnkxNjgxNjU3Njk=","name":"spark","full_name":"oulenz/spark","private":false,"owner":{"login":"oulenz","id":13745168,"node_id":"MDQ6VXNlcjEzNzQ1MTY4","avatar_url":"https://avatars.githubusercontent.com/u/13745168?v=4","gravatar_id":"","url":"https://api.github.com/users/oulenz","html_url":"https://github.com/oulenz","followers_url":"https://api.github.com/users/oulenz/followers","following_url":"https://api.github.com/users/oulenz/following{/other_user}","gists_url":"https://api.github.com/users/oulenz/gists{/gist_id}","starred_url":"https://api.github.com/users/oulenz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oulenz/subscriptions","organizations_url":"https://api.github.com/users/oulenz/orgs","repos_url":"https://api.github.com/users/oulenz/repos","events_url":"https://api.github.com/users/oulenz/events{/privacy}","received_events_url":"https://api.github.com/users/oulenz/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/oulenz/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/oulenz/spark","forks_url":"https://api.github.com/repos/oulenz/spark/forks","keys_url":"https://api.github.com/repos/oulenz/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/oulenz/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/oulenz/spark/teams","hooks_url":"https://api.github.com/repos/oulenz/spark/hooks","issue_events_url":"https://api.github.com/repos/oulenz/spark/issues/events{/number}","events_url":"https://api.github.com/repos/oulenz/spark/events","assignees_url":"https://api.github.com/repos/oulenz/spark/assignees{/user}","branches_url":"https://api.github.com/repos/oulenz/spark/branches{/branch}","tags_url":"https://api.github.com/repos/oulenz/spark/tags","blobs_url":"https://api.github.com/repos/oulenz/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/oulenz/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/oulenz/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/oulenz/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/oulenz/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/oulenz/spark/languages","stargazers_url":"https://api.github.com/repos/oulenz/spark/stargazers","contributors_url":"https://api.github.com/repos/oulenz/spark/contributors","subscribers_url":"https://api.github.com/repos/oulenz/spark/subscribers","subscription_url":"https://api.github.com/repos/oulenz/spark/subscription","commits_url":"https://api.github.com/repos/oulenz/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/oulenz/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/oulenz/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/oulenz/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/oulenz/spark/contents/{+path}","compare_url":"https://api.github.com/repos/oulenz/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/oulenz/spark/merges","archive_url":"https://api.github.com/repos/oulenz/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/oulenz/spark/downloads","issues_url":"https://api.github.com/repos/oulenz/spark/issues{/number}","pulls_url":"https://api.github.com/repos/oulenz/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/oulenz/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/oulenz/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/oulenz/spark/labels{/name}","releases_url":"https://api.github.com/repos/oulenz/spark/releases{/id}","deployments_url":"https://api.github.com/repos/oulenz/spark/deployments","created_at":"2019-01-29T14:12:15Z","updated_at":"2019-01-29T14:12:47Z","pushed_at":"2019-02-26T10:47:18Z","git_url":"git://github.com/oulenz/spark.git","ssh_url":"git@github.com:oulenz/spark.git","clone_url":"https://github.com/oulenz/spark.git","svn_url":"https://github.com/oulenz/spark","homepage":"","size":292385,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"bc03c8b3faacd23edf40b8e75ffd9abb5881c50c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23715"},"html":{"href":"https://github.com/apache/spark/pull/23715"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23715"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23715/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23715/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23715/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/4185ce6b15641477c404626bb8728fa5ca42eee5"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23714","id":249332100,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5MzMyMTAw","html_url":"https://github.com/apache/spark/pull/23714","diff_url":"https://github.com/apache/spark/pull/23714.diff","patch_url":"https://github.com/apache/spark/pull/23714.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23714","number":23714,"state":"closed","locked":false,"title":"[SPARK-26744][SQL]Support schema validation in FileDataSourceV2 framework","user":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThe file source has a schema validation feature, which validates 2 schemas:\r\n1. the user-specified schema when reading.\r\n2. the schema of input data when writing.\r\n\r\nIf a file source doesn't support the schema, we can fail the query earlier.\r\n\r\nThis PR is to implement the same feature  in the `FileDataSourceV2` framework. Comparing to `FileFormat`, `FileDataSourceV2` has multiple layers. The API is added in two places:\r\n1. Read path: the table schema is determined in `TableProvider.getTable`. The actual read schema can be a subset of the table schema.  This PR proposes to validate the actual read schema in  `FileScan`.\r\n2.  Write path: validate the actual output schema in `FileWriteBuilder`.\r\n\r\n## How was this patch tested?\r\n\r\nUnit test","created_at":"2019-01-31T17:19:33Z","updated_at":"2019-02-16T09:14:47Z","closed_at":"2019-02-16T09:14:47Z","merged_at":null,"merge_commit_sha":"01fefd2892c4514ce32d904e5fe689bcf8fa0954","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23714/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23714/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23714/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/ee60027a923e1697f98a1f6b61459970489f9af3","head":{"label":"gengliangwang:schemaValidationV2","ref":"schemaValidationV2","sha":"ee60027a923e1697f98a1f6b61459970489f9af3","user":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":95047635,"node_id":"MDEwOlJlcG9zaXRvcnk5NTA0NzYzNQ==","name":"spark","full_name":"gengliangwang/spark","private":false,"owner":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/gengliangwang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/gengliangwang/spark","forks_url":"https://api.github.com/repos/gengliangwang/spark/forks","keys_url":"https://api.github.com/repos/gengliangwang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/gengliangwang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/gengliangwang/spark/teams","hooks_url":"https://api.github.com/repos/gengliangwang/spark/hooks","issue_events_url":"https://api.github.com/repos/gengliangwang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/gengliangwang/spark/events","assignees_url":"https://api.github.com/repos/gengliangwang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/gengliangwang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/gengliangwang/spark/tags","blobs_url":"https://api.github.com/repos/gengliangwang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/gengliangwang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/gengliangwang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/gengliangwang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/gengliangwang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/gengliangwang/spark/languages","stargazers_url":"https://api.github.com/repos/gengliangwang/spark/stargazers","contributors_url":"https://api.github.com/repos/gengliangwang/spark/contributors","subscribers_url":"https://api.github.com/repos/gengliangwang/spark/subscribers","subscription_url":"https://api.github.com/repos/gengliangwang/spark/subscription","commits_url":"https://api.github.com/repos/gengliangwang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/gengliangwang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/gengliangwang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/gengliangwang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/gengliangwang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/gengliangwang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/gengliangwang/spark/merges","archive_url":"https://api.github.com/repos/gengliangwang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/gengliangwang/spark/downloads","issues_url":"https://api.github.com/repos/gengliangwang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/gengliangwang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/gengliangwang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/gengliangwang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/gengliangwang/spark/labels{/name}","releases_url":"https://api.github.com/repos/gengliangwang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/gengliangwang/spark/deployments","created_at":"2017-06-21T21:26:20Z","updated_at":"2022-01-05T09:39:12Z","pushed_at":"2025-02-07T19:52:00Z","git_url":"git://github.com/gengliangwang/spark.git","ssh_url":"git@github.com:gengliangwang/spark.git","clone_url":"https://github.com/gengliangwang/spark.git","svn_url":"https://github.com/gengliangwang/spark","homepage":null,"size":481326,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ac9c0536bc518f173f2ff53bee42b7a89d28ee20","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23714"},"html":{"href":"https://github.com/apache/spark/pull/23714"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23714"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23714/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23714/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23714/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/ee60027a923e1697f98a1f6b61459970489f9af3"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23713","id":249313371,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5MzEzMzcx","html_url":"https://github.com/apache/spark/pull/23713","diff_url":"https://github.com/apache/spark/pull/23713.diff","patch_url":"https://github.com/apache/spark/pull/23713.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23713","number":23713,"state":"closed","locked":false,"title":"[SPARK-26799][BUILD] Make ANTLR v4 version consistent between Maven and SBT","user":{"login":"seancxmao","id":12194089,"node_id":"MDQ6VXNlcjEyMTk0MDg5","avatar_url":"https://avatars.githubusercontent.com/u/12194089?v=4","gravatar_id":"","url":"https://api.github.com/users/seancxmao","html_url":"https://github.com/seancxmao","followers_url":"https://api.github.com/users/seancxmao/followers","following_url":"https://api.github.com/users/seancxmao/following{/other_user}","gists_url":"https://api.github.com/users/seancxmao/gists{/gist_id}","starred_url":"https://api.github.com/users/seancxmao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seancxmao/subscriptions","organizations_url":"https://api.github.com/users/seancxmao/orgs","repos_url":"https://api.github.com/users/seancxmao/repos","events_url":"https://api.github.com/users/seancxmao/events{/privacy}","received_events_url":"https://api.github.com/users/seancxmao/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\nCurrently ANTLR v4 versions used by Maven and SBT are slightly different. Maven uses `4.7.1` while SBT uses `4.7`. \r\n\r\n* Maven(`pom.xml`): `<antlr4.version>4.7.1</antlr4.version>`\r\n* SBT(`project/SparkBuild.scala`): `antlr4Version in Antlr4 := \"4.7\"`\r\n\r\nWe should make Maven and SBT use a single version. Furthermore we'd better specify antlr4 version in one place to avoid mismatch between Maven and SBT in the future.\r\n\r\nThis PR lets SBT use antlr4 version specified in Maven POM file, rather than specify its own antlr4 version. This is in the same as how `hadoop.version` is specified in `project/SparkBuild.scala`\r\n\r\n\r\n## How was this patch tested?\r\nTest locally.\r\n\r\nAfter run `sbt compile`, Java files generated by ANTLR are located at:\r\n\r\n```\r\nsql/catalyst/target/scala-2.12/src_managed/main/antlr4/org/apache/spark/sql/catalyst/parser/*.java\r\n```\r\n\r\nThese Java files have a comment at the head. We can see now SBT uses ANTLR `4.7.1`.\r\n\r\n```\r\n// Generated from .../spark/sql/catalyst/src/main/antlr4/org/apache/spark/sql/catalyst/parser/SqlBase.g4 by ANTLR 4.7.1\r\n```","created_at":"2019-01-31T16:28:33Z","updated_at":"2019-01-31T22:50:05Z","closed_at":"2019-01-31T22:43:02Z","merged_at":null,"merge_commit_sha":"edc2da00e173e6632edd044a8c987ecfba315fc3","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23713/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23713/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23713/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/1f1022f0c1af9f081c8a481bbf6d5ab1cc3d5e0d","head":{"label":"seancxmao:antlr4-version-consistent","ref":"antlr4-version-consistent","sha":"1f1022f0c1af9f081c8a481bbf6d5ab1cc3d5e0d","user":{"login":"seancxmao","id":12194089,"node_id":"MDQ6VXNlcjEyMTk0MDg5","avatar_url":"https://avatars.githubusercontent.com/u/12194089?v=4","gravatar_id":"","url":"https://api.github.com/users/seancxmao","html_url":"https://github.com/seancxmao","followers_url":"https://api.github.com/users/seancxmao/followers","following_url":"https://api.github.com/users/seancxmao/following{/other_user}","gists_url":"https://api.github.com/users/seancxmao/gists{/gist_id}","starred_url":"https://api.github.com/users/seancxmao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seancxmao/subscriptions","organizations_url":"https://api.github.com/users/seancxmao/orgs","repos_url":"https://api.github.com/users/seancxmao/repos","events_url":"https://api.github.com/users/seancxmao/events{/privacy}","received_events_url":"https://api.github.com/users/seancxmao/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":121346712,"node_id":"MDEwOlJlcG9zaXRvcnkxMjEzNDY3MTI=","name":"spark","full_name":"seancxmao/spark","private":false,"owner":{"login":"seancxmao","id":12194089,"node_id":"MDQ6VXNlcjEyMTk0MDg5","avatar_url":"https://avatars.githubusercontent.com/u/12194089?v=4","gravatar_id":"","url":"https://api.github.com/users/seancxmao","html_url":"https://github.com/seancxmao","followers_url":"https://api.github.com/users/seancxmao/followers","following_url":"https://api.github.com/users/seancxmao/following{/other_user}","gists_url":"https://api.github.com/users/seancxmao/gists{/gist_id}","starred_url":"https://api.github.com/users/seancxmao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seancxmao/subscriptions","organizations_url":"https://api.github.com/users/seancxmao/orgs","repos_url":"https://api.github.com/users/seancxmao/repos","events_url":"https://api.github.com/users/seancxmao/events{/privacy}","received_events_url":"https://api.github.com/users/seancxmao/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/seancxmao/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/seancxmao/spark","forks_url":"https://api.github.com/repos/seancxmao/spark/forks","keys_url":"https://api.github.com/repos/seancxmao/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/seancxmao/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/seancxmao/spark/teams","hooks_url":"https://api.github.com/repos/seancxmao/spark/hooks","issue_events_url":"https://api.github.com/repos/seancxmao/spark/issues/events{/number}","events_url":"https://api.github.com/repos/seancxmao/spark/events","assignees_url":"https://api.github.com/repos/seancxmao/spark/assignees{/user}","branches_url":"https://api.github.com/repos/seancxmao/spark/branches{/branch}","tags_url":"https://api.github.com/repos/seancxmao/spark/tags","blobs_url":"https://api.github.com/repos/seancxmao/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/seancxmao/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/seancxmao/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/seancxmao/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/seancxmao/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/seancxmao/spark/languages","stargazers_url":"https://api.github.com/repos/seancxmao/spark/stargazers","contributors_url":"https://api.github.com/repos/seancxmao/spark/contributors","subscribers_url":"https://api.github.com/repos/seancxmao/spark/subscribers","subscription_url":"https://api.github.com/repos/seancxmao/spark/subscription","commits_url":"https://api.github.com/repos/seancxmao/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/seancxmao/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/seancxmao/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/seancxmao/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/seancxmao/spark/contents/{+path}","compare_url":"https://api.github.com/repos/seancxmao/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/seancxmao/spark/merges","archive_url":"https://api.github.com/repos/seancxmao/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/seancxmao/spark/downloads","issues_url":"https://api.github.com/repos/seancxmao/spark/issues{/number}","pulls_url":"https://api.github.com/repos/seancxmao/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/seancxmao/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/seancxmao/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/seancxmao/spark/labels{/name}","releases_url":"https://api.github.com/repos/seancxmao/spark/releases{/id}","deployments_url":"https://api.github.com/repos/seancxmao/spark/deployments","created_at":"2018-02-13T06:21:47Z","updated_at":"2022-10-01T08:46:19Z","pushed_at":"2022-10-01T08:44:39Z","git_url":"git://github.com/seancxmao/spark.git","ssh_url":"git@github.com:seancxmao/spark.git","clone_url":"https://github.com/seancxmao/spark.git","svn_url":"https://github.com/seancxmao/spark","homepage":null,"size":413914,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"df4c53e44bc9837a470ec66486237403868cb04f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23713"},"html":{"href":"https://github.com/apache/spark/pull/23713"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23713"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23713/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23713/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23713/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/1f1022f0c1af9f081c8a481bbf6d5ab1cc3d5e0d"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23712","id":249285317,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5Mjg1MzE3","html_url":"https://github.com/apache/spark/pull/23712","diff_url":"https://github.com/apache/spark/pull/23712.diff","patch_url":"https://github.com/apache/spark/pull/23712.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23712","number":23712,"state":"closed","locked":false,"title":"[SPARK-26798][SQL] HandleNullInputsForUDF should trust nullability","user":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThere is a very old TODO in `HandleNullInputsForUDF`, saying that we can skip the null check if input is not nullable. We leverage the nullability info at many places, we can trust it here too.\r\n\r\n## How was this patch tested?\r\n\r\nre-enable an ignored test\r\n","created_at":"2019-01-31T15:18:39Z","updated_at":"2019-03-14T04:15:29Z","closed_at":"2019-02-13T15:24:07Z","merged_at":null,"merge_commit_sha":"48094b0e3df8efda2a9006fea4aee87005c45190","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23712/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23712/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23712/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/f6113b1960654677d041e515e2e4574526c29c59","head":{"label":"cloud-fan:minor","ref":"minor","sha":"f6113b1960654677d041e515e2e4574526c29c59","user":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":19689699,"node_id":"MDEwOlJlcG9zaXRvcnkxOTY4OTY5OQ==","name":"spark","full_name":"cloud-fan/spark","private":false,"owner":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/cloud-fan/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/cloud-fan/spark","forks_url":"https://api.github.com/repos/cloud-fan/spark/forks","keys_url":"https://api.github.com/repos/cloud-fan/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cloud-fan/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cloud-fan/spark/teams","hooks_url":"https://api.github.com/repos/cloud-fan/spark/hooks","issue_events_url":"https://api.github.com/repos/cloud-fan/spark/issues/events{/number}","events_url":"https://api.github.com/repos/cloud-fan/spark/events","assignees_url":"https://api.github.com/repos/cloud-fan/spark/assignees{/user}","branches_url":"https://api.github.com/repos/cloud-fan/spark/branches{/branch}","tags_url":"https://api.github.com/repos/cloud-fan/spark/tags","blobs_url":"https://api.github.com/repos/cloud-fan/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cloud-fan/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cloud-fan/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/cloud-fan/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cloud-fan/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/cloud-fan/spark/languages","stargazers_url":"https://api.github.com/repos/cloud-fan/spark/stargazers","contributors_url":"https://api.github.com/repos/cloud-fan/spark/contributors","subscribers_url":"https://api.github.com/repos/cloud-fan/spark/subscribers","subscription_url":"https://api.github.com/repos/cloud-fan/spark/subscription","commits_url":"https://api.github.com/repos/cloud-fan/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/cloud-fan/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/cloud-fan/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/cloud-fan/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/cloud-fan/spark/contents/{+path}","compare_url":"https://api.github.com/repos/cloud-fan/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cloud-fan/spark/merges","archive_url":"https://api.github.com/repos/cloud-fan/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cloud-fan/spark/downloads","issues_url":"https://api.github.com/repos/cloud-fan/spark/issues{/number}","pulls_url":"https://api.github.com/repos/cloud-fan/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/cloud-fan/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/cloud-fan/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cloud-fan/spark/labels{/name}","releases_url":"https://api.github.com/repos/cloud-fan/spark/releases{/id}","deployments_url":"https://api.github.com/repos/cloud-fan/spark/deployments","created_at":"2014-05-12T07:32:26Z","updated_at":"2022-06-21T07:59:41Z","pushed_at":"2025-02-07T13:15:09Z","git_url":"git://github.com/cloud-fan/spark.git","ssh_url":"git@github.com:cloud-fan/spark.git","clone_url":"https://github.com/cloud-fan/spark.git","svn_url":"https://github.com/cloud-fan/spark","homepage":null,"size":467110,"stargazers_count":3,"watchers_count":3,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":3,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"df4c53e44bc9837a470ec66486237403868cb04f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23712"},"html":{"href":"https://github.com/apache/spark/pull/23712"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23712"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23712/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23712/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23712/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/f6113b1960654677d041e515e2e4574526c29c59"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23711","id":249184374,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5MTg0Mzc0","html_url":"https://github.com/apache/spark/pull/23711","diff_url":"https://github.com/apache/spark/pull/23711.diff","patch_url":"https://github.com/apache/spark/pull/23711.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23711","number":23711,"state":"closed","locked":false,"title":"[SPARK-26795][SHUFFLE]Retry remote fileSegmentManagedBuffer when creating inputStream failed during shuffle read phase#SPARK-26795","user":{"login":"turboFei","id":6757692,"node_id":"MDQ6VXNlcjY3NTc2OTI=","avatar_url":"https://avatars.githubusercontent.com/u/6757692?v=4","gravatar_id":"","url":"https://api.github.com/users/turboFei","html_url":"https://github.com/turboFei","followers_url":"https://api.github.com/users/turboFei/followers","following_url":"https://api.github.com/users/turboFei/following{/other_user}","gists_url":"https://api.github.com/users/turboFei/gists{/gist_id}","starred_url":"https://api.github.com/users/turboFei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/turboFei/subscriptions","organizations_url":"https://api.github.com/users/turboFei/orgs","repos_url":"https://api.github.com/users/turboFei/repos","events_url":"https://api.github.com/users/turboFei/events{/privacy}","received_events_url":"https://api.github.com/users/turboFei/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThere is a parameter spark.maxRemoteBlockSizeFetchToMem, which means the remote block will be fetched to disk when size of the block is above this threshold in bytes.\r\n\r\nSo during shuffle read phase, the managedBuffer which throw IOException may be a remote downloaded FileSegment and should be retried instead of throwFetchFailed directly.\r\n## How was this patch tested?\r\n\r\nUnit Test\r\n","created_at":"2019-01-31T10:02:07Z","updated_at":"2019-03-04T21:13:53Z","closed_at":"2019-02-12T01:32:43Z","merged_at":null,"merge_commit_sha":"3d4c27d678b08224199cbfd8b772bf960f9e9fad","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23711/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23711/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23711/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/e89edea02bbee617fa218018e204af72e957d7af","head":{"label":"turboFei:SPARK-26795","ref":"SPARK-26795","sha":"e89edea02bbee617fa218018e204af72e957d7af","user":{"login":"turboFei","id":6757692,"node_id":"MDQ6VXNlcjY3NTc2OTI=","avatar_url":"https://avatars.githubusercontent.com/u/6757692?v=4","gravatar_id":"","url":"https://api.github.com/users/turboFei","html_url":"https://github.com/turboFei","followers_url":"https://api.github.com/users/turboFei/followers","following_url":"https://api.github.com/users/turboFei/following{/other_user}","gists_url":"https://api.github.com/users/turboFei/gists{/gist_id}","starred_url":"https://api.github.com/users/turboFei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/turboFei/subscriptions","organizations_url":"https://api.github.com/users/turboFei/orgs","repos_url":"https://api.github.com/users/turboFei/repos","events_url":"https://api.github.com/users/turboFei/events{/privacy}","received_events_url":"https://api.github.com/users/turboFei/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":77131854,"node_id":"MDEwOlJlcG9zaXRvcnk3NzEzMTg1NA==","name":"spark","full_name":"turboFei/spark","private":false,"owner":{"login":"turboFei","id":6757692,"node_id":"MDQ6VXNlcjY3NTc2OTI=","avatar_url":"https://avatars.githubusercontent.com/u/6757692?v=4","gravatar_id":"","url":"https://api.github.com/users/turboFei","html_url":"https://github.com/turboFei","followers_url":"https://api.github.com/users/turboFei/followers","following_url":"https://api.github.com/users/turboFei/following{/other_user}","gists_url":"https://api.github.com/users/turboFei/gists{/gist_id}","starred_url":"https://api.github.com/users/turboFei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/turboFei/subscriptions","organizations_url":"https://api.github.com/users/turboFei/orgs","repos_url":"https://api.github.com/users/turboFei/repos","events_url":"https://api.github.com/users/turboFei/events{/privacy}","received_events_url":"https://api.github.com/users/turboFei/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/turboFei/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/turboFei/spark","forks_url":"https://api.github.com/repos/turboFei/spark/forks","keys_url":"https://api.github.com/repos/turboFei/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/turboFei/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/turboFei/spark/teams","hooks_url":"https://api.github.com/repos/turboFei/spark/hooks","issue_events_url":"https://api.github.com/repos/turboFei/spark/issues/events{/number}","events_url":"https://api.github.com/repos/turboFei/spark/events","assignees_url":"https://api.github.com/repos/turboFei/spark/assignees{/user}","branches_url":"https://api.github.com/repos/turboFei/spark/branches{/branch}","tags_url":"https://api.github.com/repos/turboFei/spark/tags","blobs_url":"https://api.github.com/repos/turboFei/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/turboFei/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/turboFei/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/turboFei/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/turboFei/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/turboFei/spark/languages","stargazers_url":"https://api.github.com/repos/turboFei/spark/stargazers","contributors_url":"https://api.github.com/repos/turboFei/spark/contributors","subscribers_url":"https://api.github.com/repos/turboFei/spark/subscribers","subscription_url":"https://api.github.com/repos/turboFei/spark/subscription","commits_url":"https://api.github.com/repos/turboFei/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/turboFei/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/turboFei/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/turboFei/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/turboFei/spark/contents/{+path}","compare_url":"https://api.github.com/repos/turboFei/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/turboFei/spark/merges","archive_url":"https://api.github.com/repos/turboFei/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/turboFei/spark/downloads","issues_url":"https://api.github.com/repos/turboFei/spark/issues{/number}","pulls_url":"https://api.github.com/repos/turboFei/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/turboFei/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/turboFei/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/turboFei/spark/labels{/name}","releases_url":"https://api.github.com/repos/turboFei/spark/releases{/id}","deployments_url":"https://api.github.com/repos/turboFei/spark/deployments","created_at":"2016-12-22T09:34:08Z","updated_at":"2023-05-11T11:33:29Z","pushed_at":"2025-01-25T11:43:49Z","git_url":"git://github.com/turboFei/spark.git","ssh_url":"git@github.com:turboFei/spark.git","clone_url":"https://github.com/turboFei/spark.git","svn_url":"https://github.com/turboFei/spark","homepage":null,"size":457817,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"0e2c4874596269dd835bf69a5592b316345597c5","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23711"},"html":{"href":"https://github.com/apache/spark/pull/23711"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23711"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23711/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23711/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23711/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/e89edea02bbee617fa218018e204af72e957d7af"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23710","id":249176187,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5MTc2MTg3","html_url":"https://github.com/apache/spark/pull/23710","diff_url":"https://github.com/apache/spark/pull/23710.diff","patch_url":"https://github.com/apache/spark/pull/23710.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23710","number":23710,"state":"closed","locked":false,"title":"Retry remote fileSegmentManagedBuffer when  create inputStream during shuffle read phase#SPARK-26795","user":{"login":"turboFei","id":6757692,"node_id":"MDQ6VXNlcjY3NTc2OTI=","avatar_url":"https://avatars.githubusercontent.com/u/6757692?v=4","gravatar_id":"","url":"https://api.github.com/users/turboFei","html_url":"https://github.com/turboFei","followers_url":"https://api.github.com/users/turboFei/followers","following_url":"https://api.github.com/users/turboFei/following{/other_user}","gists_url":"https://api.github.com/users/turboFei/gists{/gist_id}","starred_url":"https://api.github.com/users/turboFei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/turboFei/subscriptions","organizations_url":"https://api.github.com/users/turboFei/orgs","repos_url":"https://api.github.com/users/turboFei/repos","events_url":"https://api.github.com/users/turboFei/events{/privacy}","received_events_url":"https://api.github.com/users/turboFei/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\n(Please fill in changes proposed in this fix)\r\n\r\n## How was this patch tested?\r\n\r\n(Please explain how this patch was tested. E.g. unit tests, integration tests, manual tests)\r\n(If this patch involves UI changes, please attach a screenshot; otherwise, remove this)\r\n\r\nPlease review http://spark.apache.org/contributing.html before opening a pull request.\r\n","created_at":"2019-01-31T09:36:44Z","updated_at":"2019-01-31T09:39:11Z","closed_at":"2019-01-31T09:39:08Z","merged_at":null,"merge_commit_sha":null,"assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23710/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23710/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23710/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/25d17b1327f91c33f6e2d4c2d8e2f36845c1bfd5","head":{"label":"turboFei:SPARK-26795","ref":"SPARK-26795","sha":"25d17b1327f91c33f6e2d4c2d8e2f36845c1bfd5","user":{"login":"turboFei","id":6757692,"node_id":"MDQ6VXNlcjY3NTc2OTI=","avatar_url":"https://avatars.githubusercontent.com/u/6757692?v=4","gravatar_id":"","url":"https://api.github.com/users/turboFei","html_url":"https://github.com/turboFei","followers_url":"https://api.github.com/users/turboFei/followers","following_url":"https://api.github.com/users/turboFei/following{/other_user}","gists_url":"https://api.github.com/users/turboFei/gists{/gist_id}","starred_url":"https://api.github.com/users/turboFei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/turboFei/subscriptions","organizations_url":"https://api.github.com/users/turboFei/orgs","repos_url":"https://api.github.com/users/turboFei/repos","events_url":"https://api.github.com/users/turboFei/events{/privacy}","received_events_url":"https://api.github.com/users/turboFei/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":77131854,"node_id":"MDEwOlJlcG9zaXRvcnk3NzEzMTg1NA==","name":"spark","full_name":"turboFei/spark","private":false,"owner":{"login":"turboFei","id":6757692,"node_id":"MDQ6VXNlcjY3NTc2OTI=","avatar_url":"https://avatars.githubusercontent.com/u/6757692?v=4","gravatar_id":"","url":"https://api.github.com/users/turboFei","html_url":"https://github.com/turboFei","followers_url":"https://api.github.com/users/turboFei/followers","following_url":"https://api.github.com/users/turboFei/following{/other_user}","gists_url":"https://api.github.com/users/turboFei/gists{/gist_id}","starred_url":"https://api.github.com/users/turboFei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/turboFei/subscriptions","organizations_url":"https://api.github.com/users/turboFei/orgs","repos_url":"https://api.github.com/users/turboFei/repos","events_url":"https://api.github.com/users/turboFei/events{/privacy}","received_events_url":"https://api.github.com/users/turboFei/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/turboFei/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/turboFei/spark","forks_url":"https://api.github.com/repos/turboFei/spark/forks","keys_url":"https://api.github.com/repos/turboFei/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/turboFei/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/turboFei/spark/teams","hooks_url":"https://api.github.com/repos/turboFei/spark/hooks","issue_events_url":"https://api.github.com/repos/turboFei/spark/issues/events{/number}","events_url":"https://api.github.com/repos/turboFei/spark/events","assignees_url":"https://api.github.com/repos/turboFei/spark/assignees{/user}","branches_url":"https://api.github.com/repos/turboFei/spark/branches{/branch}","tags_url":"https://api.github.com/repos/turboFei/spark/tags","blobs_url":"https://api.github.com/repos/turboFei/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/turboFei/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/turboFei/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/turboFei/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/turboFei/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/turboFei/spark/languages","stargazers_url":"https://api.github.com/repos/turboFei/spark/stargazers","contributors_url":"https://api.github.com/repos/turboFei/spark/contributors","subscribers_url":"https://api.github.com/repos/turboFei/spark/subscribers","subscription_url":"https://api.github.com/repos/turboFei/spark/subscription","commits_url":"https://api.github.com/repos/turboFei/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/turboFei/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/turboFei/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/turboFei/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/turboFei/spark/contents/{+path}","compare_url":"https://api.github.com/repos/turboFei/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/turboFei/spark/merges","archive_url":"https://api.github.com/repos/turboFei/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/turboFei/spark/downloads","issues_url":"https://api.github.com/repos/turboFei/spark/issues{/number}","pulls_url":"https://api.github.com/repos/turboFei/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/turboFei/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/turboFei/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/turboFei/spark/labels{/name}","releases_url":"https://api.github.com/repos/turboFei/spark/releases{/id}","deployments_url":"https://api.github.com/repos/turboFei/spark/deployments","created_at":"2016-12-22T09:34:08Z","updated_at":"2023-05-11T11:33:29Z","pushed_at":"2025-01-25T11:43:49Z","git_url":"git://github.com/turboFei/spark.git","ssh_url":"git@github.com:turboFei/spark.git","clone_url":"https://github.com/turboFei/spark.git","svn_url":"https://github.com/turboFei/spark","homepage":null,"size":457817,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"0e2c4874596269dd835bf69a5592b316345597c5","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23710"},"html":{"href":"https://github.com/apache/spark/pull/23710"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23710"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23710/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23710/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23710/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/25d17b1327f91c33f6e2d4c2d8e2f36845c1bfd5"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23709","id":249154080,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5MTU0MDgw","html_url":"https://github.com/apache/spark/pull/23709","diff_url":"https://github.com/apache/spark/pull/23709.diff","patch_url":"https://github.com/apache/spark/pull/23709.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23709","number":23709,"state":"closed","locked":false,"title":"[SPARK-26794][SQL]SparkSession enableHiveSupport does not point to hive but in-memory while the SparkContext exists","user":{"login":"yaooqinn","id":8326978,"node_id":"MDQ6VXNlcjgzMjY5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/8326978?v=4","gravatar_id":"","url":"https://api.github.com/users/yaooqinn","html_url":"https://github.com/yaooqinn","followers_url":"https://api.github.com/users/yaooqinn/followers","following_url":"https://api.github.com/users/yaooqinn/following{/other_user}","gists_url":"https://api.github.com/users/yaooqinn/gists{/gist_id}","starred_url":"https://api.github.com/users/yaooqinn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yaooqinn/subscriptions","organizations_url":"https://api.github.com/users/yaooqinn/orgs","repos_url":"https://api.github.com/users/yaooqinn/repos","events_url":"https://api.github.com/users/yaooqinn/events{/privacy}","received_events_url":"https://api.github.com/users/yaooqinn/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\n```java\r\npublic class SqlDemo {\r\n    public static void main(final String[] args) throws Exception {\r\n        SparkConf conf = new SparkConf().setAppName(\"spark-sql-demo\");\r\n        JavaSparkContext sc = new JavaSparkContext(conf);\r\n        SparkSession ss = SparkSession.builder().enableHiveSupport().getOrCreate();\r\n        ss.sql(\"show databases\").show();\r\n    }\r\n}\r\n```\r\nBefore https://issues.apache.org/jira/browse/SPARK-20946, the demo above point to the right hive metastore if the hive-site.xml is present. But now it can only point to the default in-memory one.\r\n\r\nCatalog is now as a variable shared across SparkSessions, it is instantiated with SparkContext's conf. After https://issues.apache.org/jira/browse/SPARK-20946, Session level configs are not pass to SparkContext's conf anymore, so the enableHiveSupport API takes no affect on the catalog instance.\r\n\r\nYou can set spark.sql.catalogImplementation=hive application wide to solve the problem, or never create a sc before you call SparkSession.builder().enableHiveSupport().getOrCreate()\r\n\r\nHere we respect the SparkSession level configuration at the first time to generate catalog within SharedState\r\n\r\n\r\n## How was this patch tested?\r\n\r\n1. add ut\r\n2. manually\r\n```scala\r\ntest(\"enableHiveSupport has right to determine the catalog while using an existing sc\") {\r\n    val conf = new SparkConf().setMaster(\"local\").setAppName(\"SharedState Test\")\r\n    val sc = SparkContext.getOrCreate(conf)\r\n    val ss = SparkSession.builder().enableHiveSupport().getOrCreate()\r\n    assert(ss.sharedState.externalCatalog.unwrapped.isInstanceOf[HiveExternalCatalog],\r\n      \"The catalog should be hive \")\r\n\r\n    val ss2 = SparkSession.builder().getOrCreate()\r\n    assert(ss2.sharedState.externalCatalog.unwrapped.isInstanceOf[HiveExternalCatalog],\r\n      \"The catalog should be shared across sessions\")\r\n  }\r\n```\r\n\r\nWithout this fix, the above test will fail.\r\nYou can apply it to `org.apache.spark.sql.hive.HiveSharedStateSuite`,\r\nand run,\r\n```sbt\r\n./build/sbt  -Phadoop-2.7 -Phive  \"hive/testOnly org.apache.spark.sql.hive.HiveSharedStateSuite\"\r\n```\r\nto verify.\r\n\r\n","created_at":"2019-01-31T08:15:24Z","updated_at":"2019-02-14T10:26:07Z","closed_at":"2019-02-14T07:10:21Z","merged_at":null,"merge_commit_sha":"d95657297aac5bc3cdcf1eebb8bbe2d6923a7ce5","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23709/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23709/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23709/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/748821c86d063e4b57c8297ae3e259934db544c2","head":{"label":"yaooqinn:SPARK-26794","ref":"SPARK-26794","sha":"748821c86d063e4b57c8297ae3e259934db544c2","user":{"login":"yaooqinn","id":8326978,"node_id":"MDQ6VXNlcjgzMjY5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/8326978?v=4","gravatar_id":"","url":"https://api.github.com/users/yaooqinn","html_url":"https://github.com/yaooqinn","followers_url":"https://api.github.com/users/yaooqinn/followers","following_url":"https://api.github.com/users/yaooqinn/following{/other_user}","gists_url":"https://api.github.com/users/yaooqinn/gists{/gist_id}","starred_url":"https://api.github.com/users/yaooqinn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yaooqinn/subscriptions","organizations_url":"https://api.github.com/users/yaooqinn/orgs","repos_url":"https://api.github.com/users/yaooqinn/repos","events_url":"https://api.github.com/users/yaooqinn/events{/privacy}","received_events_url":"https://api.github.com/users/yaooqinn/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"0d77d575e14e535fbe29b42e5612f3ddc64d42f4","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23709"},"html":{"href":"https://github.com/apache/spark/pull/23709"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23709"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23709/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23709/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23709/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/748821c86d063e4b57c8297ae3e259934db544c2"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23708","id":249148605,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5MTQ4NjA1","html_url":"https://github.com/apache/spark/pull/23708","diff_url":"https://github.com/apache/spark/pull/23708.diff","patch_url":"https://github.com/apache/spark/pull/23708.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23708","number":23708,"state":"closed","locked":false,"title":"[SPARK-26745][SQL][BRANCH-2.4] Revert count optimization in JSON datasource by SPARK-24959 ","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThis PR reverts JSON count optimization part of #21909.\r\n\r\nWe cannot distinguish the cases below without parsing:\r\n\r\n```\r\n[{...}, {...}]\r\n```\r\n\r\n```\r\n[]\r\n```\r\n\r\n```\r\n{...}\r\n```\r\n\r\n```bash\r\n# empty string\r\n```\r\n\r\nwhen we `count()`. One line (input: IN) can be, 0 record, 1 record and multiple records and this is dependent on each input.\r\n\r\nSee also https://github.com/apache/spark/pull/23665#discussion_r251276720.\r\n\r\n## How was this patch tested?\r\n\r\nManually tested.\r\n","created_at":"2019-01-31T07:49:57Z","updated_at":"2020-03-03T01:20:00Z","closed_at":"2019-02-01T02:22:45Z","merged_at":null,"merge_commit_sha":"29a11e8ccdbc5e6a14d2aab19919c39a987d3b23","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23708/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23708/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23708/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/84cb0686aaa05c9f8710efdc5d119ebfa47f986c","head":{"label":"HyukjinKwon:SPARK-26745-backport","ref":"SPARK-26745-backport","sha":"84cb0686aaa05c9f8710efdc5d119ebfa47f986c","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:branch-2.4","ref":"branch-2.4","sha":"710d81ea87b5ba0c3d49b3dfbc591129685c2a13","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23708"},"html":{"href":"https://github.com/apache/spark/pull/23708"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23708"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23708/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23708/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23708/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/84cb0686aaa05c9f8710efdc5d119ebfa47f986c"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23707","id":249087330,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5MDg3MzMw","html_url":"https://github.com/apache/spark/pull/23707","diff_url":"https://github.com/apache/spark/pull/23707.diff","patch_url":"https://github.com/apache/spark/pull/23707.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23707","number":23707,"state":"closed","locked":false,"title":"[SPARK-26793][CORE]Remove spark.shuffle.manager","user":{"login":"10110346","id":24688163,"node_id":"MDQ6VXNlcjI0Njg4MTYz","avatar_url":"https://avatars.githubusercontent.com/u/24688163?v=4","gravatar_id":"","url":"https://api.github.com/users/10110346","html_url":"https://github.com/10110346","followers_url":"https://api.github.com/users/10110346/followers","following_url":"https://api.github.com/users/10110346/following{/other_user}","gists_url":"https://api.github.com/users/10110346/gists{/gist_id}","starred_url":"https://api.github.com/users/10110346/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/10110346/subscriptions","organizations_url":"https://api.github.com/users/10110346/orgs","repos_url":"https://api.github.com/users/10110346/repos","events_url":"https://api.github.com/users/10110346/events{/privacy}","received_events_url":"https://api.github.com/users/10110346/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nRemove `spark.shuffle.manager` and update unit tests .\r\nCurrently, `ShuffleManager` always uses `SortShuffleManager`,  so I think this configuration can be removed.\r\n\r\n## How was this patch tested?\r\nExisting unit tests\r\n","created_at":"2019-01-31T01:24:49Z","updated_at":"2019-02-01T00:42:27Z","closed_at":"2019-02-01T00:42:27Z","merged_at":null,"merge_commit_sha":"1403a7a10a782582c61ec50ea2414579e1e16830","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23707/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23707/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23707/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/27a2a74271a7753f567490b550757eccdd5934f9","head":{"label":"10110346:SHUFFLE_MANAGER","ref":"SHUFFLE_MANAGER","sha":"27a2a74271a7753f567490b550757eccdd5934f9","user":{"login":"10110346","id":24688163,"node_id":"MDQ6VXNlcjI0Njg4MTYz","avatar_url":"https://avatars.githubusercontent.com/u/24688163?v=4","gravatar_id":"","url":"https://api.github.com/users/10110346","html_url":"https://github.com/10110346","followers_url":"https://api.github.com/users/10110346/followers","following_url":"https://api.github.com/users/10110346/following{/other_user}","gists_url":"https://api.github.com/users/10110346/gists{/gist_id}","starred_url":"https://api.github.com/users/10110346/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/10110346/subscriptions","organizations_url":"https://api.github.com/users/10110346/orgs","repos_url":"https://api.github.com/users/10110346/repos","events_url":"https://api.github.com/users/10110346/events{/privacy}","received_events_url":"https://api.github.com/users/10110346/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":77023032,"node_id":"MDEwOlJlcG9zaXRvcnk3NzAyMzAzMg==","name":"spark","full_name":"10110346/spark","private":false,"owner":{"login":"10110346","id":24688163,"node_id":"MDQ6VXNlcjI0Njg4MTYz","avatar_url":"https://avatars.githubusercontent.com/u/24688163?v=4","gravatar_id":"","url":"https://api.github.com/users/10110346","html_url":"https://github.com/10110346","followers_url":"https://api.github.com/users/10110346/followers","following_url":"https://api.github.com/users/10110346/following{/other_user}","gists_url":"https://api.github.com/users/10110346/gists{/gist_id}","starred_url":"https://api.github.com/users/10110346/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/10110346/subscriptions","organizations_url":"https://api.github.com/users/10110346/orgs","repos_url":"https://api.github.com/users/10110346/repos","events_url":"https://api.github.com/users/10110346/events{/privacy}","received_events_url":"https://api.github.com/users/10110346/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/10110346/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/10110346/spark","forks_url":"https://api.github.com/repos/10110346/spark/forks","keys_url":"https://api.github.com/repos/10110346/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/10110346/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/10110346/spark/teams","hooks_url":"https://api.github.com/repos/10110346/spark/hooks","issue_events_url":"https://api.github.com/repos/10110346/spark/issues/events{/number}","events_url":"https://api.github.com/repos/10110346/spark/events","assignees_url":"https://api.github.com/repos/10110346/spark/assignees{/user}","branches_url":"https://api.github.com/repos/10110346/spark/branches{/branch}","tags_url":"https://api.github.com/repos/10110346/spark/tags","blobs_url":"https://api.github.com/repos/10110346/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/10110346/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/10110346/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/10110346/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/10110346/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/10110346/spark/languages","stargazers_url":"https://api.github.com/repos/10110346/spark/stargazers","contributors_url":"https://api.github.com/repos/10110346/spark/contributors","subscribers_url":"https://api.github.com/repos/10110346/spark/subscribers","subscription_url":"https://api.github.com/repos/10110346/spark/subscription","commits_url":"https://api.github.com/repos/10110346/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/10110346/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/10110346/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/10110346/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/10110346/spark/contents/{+path}","compare_url":"https://api.github.com/repos/10110346/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/10110346/spark/merges","archive_url":"https://api.github.com/repos/10110346/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/10110346/spark/downloads","issues_url":"https://api.github.com/repos/10110346/spark/issues{/number}","pulls_url":"https://api.github.com/repos/10110346/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/10110346/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/10110346/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/10110346/spark/labels{/name}","releases_url":"https://api.github.com/repos/10110346/spark/releases{/id}","deployments_url":"https://api.github.com/repos/10110346/spark/deployments","created_at":"2016-12-21T06:06:02Z","updated_at":"2018-07-31T06:45:30Z","pushed_at":"2019-05-08T10:42:16Z","git_url":"git://github.com/10110346/spark.git","ssh_url":"git@github.com:10110346/spark.git","clone_url":"https://github.com/10110346/spark.git","svn_url":"https://github.com/10110346/spark","homepage":null,"size":289129,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ae5b2a6a92be4986ef5b8062d7fb59318cff6430","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23707"},"html":{"href":"https://github.com/apache/spark/pull/23707"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23707"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23707/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23707/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23707/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/27a2a74271a7753f567490b550757eccdd5934f9"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23706","id":249066075,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5MDY2MDc1","html_url":"https://github.com/apache/spark/pull/23706","diff_url":"https://github.com/apache/spark/pull/23706.diff","patch_url":"https://github.com/apache/spark/pull/23706.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23706","number":23706,"state":"closed","locked":false,"title":"[SPARK-26790][CORE] Change approach for retrieving executor logs and attributes: self-retrieve","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThis patch proposes to change the approach on extracting log urls as well as attributes from YARN executor:\r\n\r\n - AS-IS: extract information from `Container` API and include them to container launch context\r\n- TO-BE: let YARN executor self-extracting information\r\n\r\nThis approach leads us to populate more attributes like nodemanager's IPC port which can let us configure custom log url to JHS log url directly.\r\n\r\n## How was this patch tested?\r\n\r\nExisting unit tests.","created_at":"2019-01-30T23:26:23Z","updated_at":"2019-02-16T05:28:00Z","closed_at":"2019-02-15T20:47:54Z","merged_at":null,"merge_commit_sha":"94f2724cd95dbd6b34bb92c0761e38db472e196a","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23706/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23706/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23706/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/7992091c9a45ae3f234fd85e13e0deb1a5f4282f","head":{"label":"HeartSaVioR:SPARK-26790","ref":"SPARK-26790","sha":"7992091c9a45ae3f234fd85e13e0deb1a5f4282f","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":27994296,"node_id":"MDEwOlJlcG9zaXRvcnkyNzk5NDI5Ng==","name":"spark","full_name":"HeartSaVioR/spark","private":false,"owner":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HeartSaVioR/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HeartSaVioR/spark","forks_url":"https://api.github.com/repos/HeartSaVioR/spark/forks","keys_url":"https://api.github.com/repos/HeartSaVioR/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HeartSaVioR/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HeartSaVioR/spark/teams","hooks_url":"https://api.github.com/repos/HeartSaVioR/spark/hooks","issue_events_url":"https://api.github.com/repos/HeartSaVioR/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HeartSaVioR/spark/events","assignees_url":"https://api.github.com/repos/HeartSaVioR/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HeartSaVioR/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HeartSaVioR/spark/tags","blobs_url":"https://api.github.com/repos/HeartSaVioR/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HeartSaVioR/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HeartSaVioR/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HeartSaVioR/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HeartSaVioR/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HeartSaVioR/spark/languages","stargazers_url":"https://api.github.com/repos/HeartSaVioR/spark/stargazers","contributors_url":"https://api.github.com/repos/HeartSaVioR/spark/contributors","subscribers_url":"https://api.github.com/repos/HeartSaVioR/spark/subscribers","subscription_url":"https://api.github.com/repos/HeartSaVioR/spark/subscription","commits_url":"https://api.github.com/repos/HeartSaVioR/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HeartSaVioR/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HeartSaVioR/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HeartSaVioR/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HeartSaVioR/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HeartSaVioR/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HeartSaVioR/spark/merges","archive_url":"https://api.github.com/repos/HeartSaVioR/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HeartSaVioR/spark/downloads","issues_url":"https://api.github.com/repos/HeartSaVioR/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HeartSaVioR/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HeartSaVioR/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HeartSaVioR/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HeartSaVioR/spark/labels{/name}","releases_url":"https://api.github.com/repos/HeartSaVioR/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HeartSaVioR/spark/deployments","created_at":"2014-12-14T12:56:04Z","updated_at":"2024-10-21T04:36:36Z","pushed_at":"2025-01-08T06:13:27Z","git_url":"git://github.com/HeartSaVioR/spark.git","ssh_url":"git@github.com:HeartSaVioR/spark.git","clone_url":"https://github.com/HeartSaVioR/spark.git","svn_url":"https://github.com/HeartSaVioR/spark","homepage":null,"size":456164,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":1,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ae5b2a6a92be4986ef5b8062d7fb59318cff6430","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23706"},"html":{"href":"https://github.com/apache/spark/pull/23706"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23706"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23706/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23706/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23706/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/7992091c9a45ae3f234fd85e13e0deb1a5f4282f"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23705","id":248998950,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4OTk4OTUw","html_url":"https://github.com/apache/spark/pull/23705","diff_url":"https://github.com/apache/spark/pull/23705.diff","patch_url":"https://github.com/apache/spark/pull/23705.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23705","number":23705,"state":"closed","locked":false,"title":"[SPARK-26787] Fix standardizeLabels error message in WeightedLeastSquares","user":{"login":"bscan","id":10503608,"node_id":"MDQ6VXNlcjEwNTAzNjA4","avatar_url":"https://avatars.githubusercontent.com/u/10503608?v=4","gravatar_id":"","url":"https://api.github.com/users/bscan","html_url":"https://github.com/bscan","followers_url":"https://api.github.com/users/bscan/followers","following_url":"https://api.github.com/users/bscan/following{/other_user}","gists_url":"https://api.github.com/users/bscan/gists{/gist_id}","starred_url":"https://api.github.com/users/bscan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bscan/subscriptions","organizations_url":"https://api.github.com/users/bscan/orgs","repos_url":"https://api.github.com/users/bscan/repos","events_url":"https://api.github.com/users/bscan/events{/privacy}","received_events_url":"https://api.github.com/users/bscan/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"Error message falsely states standardization=True is causing a problem, even when standardization=False. The real issue is standardizeLabels=True, which is set automatically in LinearRegression and not currently available in the Public API.\r\n\r\n## What changes were proposed in this pull request?\r\n\r\nA simple change to an error message. More details here: https://jira.apache.org/jira/browse/SPARK-26787\r\n\r\n## How was this patch tested?\r\n\r\nThis does not change any functionality.\r\n\r\n","created_at":"2019-01-30T19:24:23Z","updated_at":"2019-02-01T01:53:33Z","closed_at":"2019-02-01T01:53:33Z","merged_at":null,"merge_commit_sha":"dd725d127f524a62da35dc943030fe295651deed","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23705/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23705/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23705/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9f509600e70803c877faff18aad57d86d963faef","head":{"label":"bscan:bscan-errormsg-1","ref":"bscan-errormsg-1","sha":"9f509600e70803c877faff18aad57d86d963faef","user":{"login":"bscan","id":10503608,"node_id":"MDQ6VXNlcjEwNTAzNjA4","avatar_url":"https://avatars.githubusercontent.com/u/10503608?v=4","gravatar_id":"","url":"https://api.github.com/users/bscan","html_url":"https://github.com/bscan","followers_url":"https://api.github.com/users/bscan/followers","following_url":"https://api.github.com/users/bscan/following{/other_user}","gists_url":"https://api.github.com/users/bscan/gists{/gist_id}","starred_url":"https://api.github.com/users/bscan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bscan/subscriptions","organizations_url":"https://api.github.com/users/bscan/orgs","repos_url":"https://api.github.com/users/bscan/repos","events_url":"https://api.github.com/users/bscan/events{/privacy}","received_events_url":"https://api.github.com/users/bscan/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":168394337,"node_id":"MDEwOlJlcG9zaXRvcnkxNjgzOTQzMzc=","name":"spark","full_name":"bscan/spark","private":false,"owner":{"login":"bscan","id":10503608,"node_id":"MDQ6VXNlcjEwNTAzNjA4","avatar_url":"https://avatars.githubusercontent.com/u/10503608?v=4","gravatar_id":"","url":"https://api.github.com/users/bscan","html_url":"https://github.com/bscan","followers_url":"https://api.github.com/users/bscan/followers","following_url":"https://api.github.com/users/bscan/following{/other_user}","gists_url":"https://api.github.com/users/bscan/gists{/gist_id}","starred_url":"https://api.github.com/users/bscan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bscan/subscriptions","organizations_url":"https://api.github.com/users/bscan/orgs","repos_url":"https://api.github.com/users/bscan/repos","events_url":"https://api.github.com/users/bscan/events{/privacy}","received_events_url":"https://api.github.com/users/bscan/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bscan/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/bscan/spark","forks_url":"https://api.github.com/repos/bscan/spark/forks","keys_url":"https://api.github.com/repos/bscan/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bscan/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bscan/spark/teams","hooks_url":"https://api.github.com/repos/bscan/spark/hooks","issue_events_url":"https://api.github.com/repos/bscan/spark/issues/events{/number}","events_url":"https://api.github.com/repos/bscan/spark/events","assignees_url":"https://api.github.com/repos/bscan/spark/assignees{/user}","branches_url":"https://api.github.com/repos/bscan/spark/branches{/branch}","tags_url":"https://api.github.com/repos/bscan/spark/tags","blobs_url":"https://api.github.com/repos/bscan/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bscan/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bscan/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/bscan/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bscan/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/bscan/spark/languages","stargazers_url":"https://api.github.com/repos/bscan/spark/stargazers","contributors_url":"https://api.github.com/repos/bscan/spark/contributors","subscribers_url":"https://api.github.com/repos/bscan/spark/subscribers","subscription_url":"https://api.github.com/repos/bscan/spark/subscription","commits_url":"https://api.github.com/repos/bscan/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/bscan/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/bscan/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/bscan/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/bscan/spark/contents/{+path}","compare_url":"https://api.github.com/repos/bscan/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bscan/spark/merges","archive_url":"https://api.github.com/repos/bscan/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bscan/spark/downloads","issues_url":"https://api.github.com/repos/bscan/spark/issues{/number}","pulls_url":"https://api.github.com/repos/bscan/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/bscan/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/bscan/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bscan/spark/labels{/name}","releases_url":"https://api.github.com/repos/bscan/spark/releases{/id}","deployments_url":"https://api.github.com/repos/bscan/spark/deployments","created_at":"2019-01-30T18:36:03Z","updated_at":"2019-01-30T18:36:35Z","pushed_at":"2019-01-31T18:14:45Z","git_url":"git://github.com/bscan/spark.git","ssh_url":"git@github.com:bscan/spark.git","clone_url":"https://github.com/bscan/spark.git","svn_url":"https://github.com/bscan/spark","homepage":"","size":292979,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":1,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"25b97a41ceede7b99a5f835077de94b38743203a","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23705"},"html":{"href":"https://github.com/apache/spark/pull/23705"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23705"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23705/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23705/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23705/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9f509600e70803c877faff18aad57d86d963faef"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23704","id":248984361,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4OTg0MzYx","html_url":"https://github.com/apache/spark/pull/23704","diff_url":"https://github.com/apache/spark/pull/23704.diff","patch_url":"https://github.com/apache/spark/pull/23704.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23704","number":23704,"state":"closed","locked":false,"title":"[SPARK-26677][BUILD] Update Parquet to 1.10.1 with notEq pushdown fix.","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nUpdate to Parquet Java 1.10.1.\r\n\r\n## How was this patch tested?\r\n\r\nAdded a test from @HyukjinKwon that validates the notEq case from SPARK-26677.","created_at":"2019-01-30T18:38:09Z","updated_at":"2019-02-02T17:21:12Z","closed_at":"2019-02-02T17:21:12Z","merged_at":null,"merge_commit_sha":"93f1e8f8020a221c08e91b2c5ea4ce9e9fc4b790","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23704/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23704/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23704/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b0a61ae44c5644a79efe3ad0d21024c65d7f1556","head":{"label":"rdblue:SPARK-26677-fix-noteq-parquet-bug","ref":"SPARK-26677-fix-noteq-parquet-bug","sha":"b0a61ae44c5644a79efe3ad0d21024c65d7f1556","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":26284539,"node_id":"MDEwOlJlcG9zaXRvcnkyNjI4NDUzOQ==","name":"spark","full_name":"rdblue/spark","private":false,"owner":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rdblue/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/rdblue/spark","forks_url":"https://api.github.com/repos/rdblue/spark/forks","keys_url":"https://api.github.com/repos/rdblue/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rdblue/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rdblue/spark/teams","hooks_url":"https://api.github.com/repos/rdblue/spark/hooks","issue_events_url":"https://api.github.com/repos/rdblue/spark/issues/events{/number}","events_url":"https://api.github.com/repos/rdblue/spark/events","assignees_url":"https://api.github.com/repos/rdblue/spark/assignees{/user}","branches_url":"https://api.github.com/repos/rdblue/spark/branches{/branch}","tags_url":"https://api.github.com/repos/rdblue/spark/tags","blobs_url":"https://api.github.com/repos/rdblue/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rdblue/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rdblue/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/rdblue/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rdblue/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/rdblue/spark/languages","stargazers_url":"https://api.github.com/repos/rdblue/spark/stargazers","contributors_url":"https://api.github.com/repos/rdblue/spark/contributors","subscribers_url":"https://api.github.com/repos/rdblue/spark/subscribers","subscription_url":"https://api.github.com/repos/rdblue/spark/subscription","commits_url":"https://api.github.com/repos/rdblue/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/rdblue/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/rdblue/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/rdblue/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/rdblue/spark/contents/{+path}","compare_url":"https://api.github.com/repos/rdblue/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rdblue/spark/merges","archive_url":"https://api.github.com/repos/rdblue/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rdblue/spark/downloads","issues_url":"https://api.github.com/repos/rdblue/spark/issues{/number}","pulls_url":"https://api.github.com/repos/rdblue/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/rdblue/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/rdblue/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rdblue/spark/labels{/name}","releases_url":"https://api.github.com/repos/rdblue/spark/releases{/id}","deployments_url":"https://api.github.com/repos/rdblue/spark/deployments","created_at":"2014-11-06T18:50:45Z","updated_at":"2019-05-30T21:42:21Z","pushed_at":"2021-04-06T19:57:05Z","git_url":"git://github.com/rdblue/spark.git","ssh_url":"git@github.com:rdblue/spark.git","clone_url":"https://github.com/rdblue/spark.git","svn_url":"https://github.com/rdblue/spark","homepage":null,"size":327355,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":2,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"a8da41061fb38529e90c41571b38294ab5ddc441","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23704"},"html":{"href":"https://github.com/apache/spark/pull/23704"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23704"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23704/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23704/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23704/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b0a61ae44c5644a79efe3ad0d21024c65d7f1556"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23703","id":248975854,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4OTc1ODU0","html_url":"https://github.com/apache/spark/pull/23703","diff_url":"https://github.com/apache/spark/pull/23703.diff","patch_url":"https://github.com/apache/spark/pull/23703.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23703","number":23703,"state":"closed","locked":false,"title":"[SPARK-26718][SS][BRANCH-2.3] Fixed integer overflow in SS kafka rateLimit calculation","user":{"login":"linehrr","id":1124115,"node_id":"MDQ6VXNlcjExMjQxMTU=","avatar_url":"https://avatars.githubusercontent.com/u/1124115?v=4","gravatar_id":"","url":"https://api.github.com/users/linehrr","html_url":"https://github.com/linehrr","followers_url":"https://api.github.com/users/linehrr/followers","following_url":"https://api.github.com/users/linehrr/following{/other_user}","gists_url":"https://api.github.com/users/linehrr/gists{/gist_id}","starred_url":"https://api.github.com/users/linehrr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linehrr/subscriptions","organizations_url":"https://api.github.com/users/linehrr/orgs","repos_url":"https://api.github.com/users/linehrr/repos","events_url":"https://api.github.com/users/linehrr/events{/privacy}","received_events_url":"https://api.github.com/users/linehrr/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\n## What changes were proposed in this pull request?\r\n\r\nFix the integer overflow issue in rateLimit.\r\n\r\n## How was this patch tested?\r\n\r\nPass the Jenkins with newly added UT for the possible case where integer could be overflowed.\r\n","created_at":"2019-01-30T18:09:07Z","updated_at":"2019-01-30T19:14:39Z","closed_at":"2019-01-30T19:14:39Z","merged_at":null,"merge_commit_sha":"8c5a0a246f8a6bf8b608d0a9615d870928539cab","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23703/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23703/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23703/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/91aad762538abee095ab5a304d1b604fbd04d7ff","head":{"label":"linehrr:fix/2.3-integeroverflow","ref":"fix/2.3-integeroverflow","sha":"91aad762538abee095ab5a304d1b604fbd04d7ff","user":{"login":"linehrr","id":1124115,"node_id":"MDQ6VXNlcjExMjQxMTU=","avatar_url":"https://avatars.githubusercontent.com/u/1124115?v=4","gravatar_id":"","url":"https://api.github.com/users/linehrr","html_url":"https://github.com/linehrr","followers_url":"https://api.github.com/users/linehrr/followers","following_url":"https://api.github.com/users/linehrr/following{/other_user}","gists_url":"https://api.github.com/users/linehrr/gists{/gist_id}","starred_url":"https://api.github.com/users/linehrr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linehrr/subscriptions","organizations_url":"https://api.github.com/users/linehrr/orgs","repos_url":"https://api.github.com/users/linehrr/repos","events_url":"https://api.github.com/users/linehrr/events{/privacy}","received_events_url":"https://api.github.com/users/linehrr/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":167579729,"node_id":"MDEwOlJlcG9zaXRvcnkxNjc1Nzk3Mjk=","name":"spark","full_name":"linehrr/spark","private":false,"owner":{"login":"linehrr","id":1124115,"node_id":"MDQ6VXNlcjExMjQxMTU=","avatar_url":"https://avatars.githubusercontent.com/u/1124115?v=4","gravatar_id":"","url":"https://api.github.com/users/linehrr","html_url":"https://github.com/linehrr","followers_url":"https://api.github.com/users/linehrr/followers","following_url":"https://api.github.com/users/linehrr/following{/other_user}","gists_url":"https://api.github.com/users/linehrr/gists{/gist_id}","starred_url":"https://api.github.com/users/linehrr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linehrr/subscriptions","organizations_url":"https://api.github.com/users/linehrr/orgs","repos_url":"https://api.github.com/users/linehrr/repos","events_url":"https://api.github.com/users/linehrr/events{/privacy}","received_events_url":"https://api.github.com/users/linehrr/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/linehrr/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/linehrr/spark","forks_url":"https://api.github.com/repos/linehrr/spark/forks","keys_url":"https://api.github.com/repos/linehrr/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/linehrr/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/linehrr/spark/teams","hooks_url":"https://api.github.com/repos/linehrr/spark/hooks","issue_events_url":"https://api.github.com/repos/linehrr/spark/issues/events{/number}","events_url":"https://api.github.com/repos/linehrr/spark/events","assignees_url":"https://api.github.com/repos/linehrr/spark/assignees{/user}","branches_url":"https://api.github.com/repos/linehrr/spark/branches{/branch}","tags_url":"https://api.github.com/repos/linehrr/spark/tags","blobs_url":"https://api.github.com/repos/linehrr/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/linehrr/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/linehrr/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/linehrr/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/linehrr/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/linehrr/spark/languages","stargazers_url":"https://api.github.com/repos/linehrr/spark/stargazers","contributors_url":"https://api.github.com/repos/linehrr/spark/contributors","subscribers_url":"https://api.github.com/repos/linehrr/spark/subscribers","subscription_url":"https://api.github.com/repos/linehrr/spark/subscription","commits_url":"https://api.github.com/repos/linehrr/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/linehrr/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/linehrr/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/linehrr/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/linehrr/spark/contents/{+path}","compare_url":"https://api.github.com/repos/linehrr/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/linehrr/spark/merges","archive_url":"https://api.github.com/repos/linehrr/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/linehrr/spark/downloads","issues_url":"https://api.github.com/repos/linehrr/spark/issues{/number}","pulls_url":"https://api.github.com/repos/linehrr/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/linehrr/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/linehrr/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/linehrr/spark/labels{/name}","releases_url":"https://api.github.com/repos/linehrr/spark/releases{/id}","deployments_url":"https://api.github.com/repos/linehrr/spark/deployments","created_at":"2019-01-25T16:41:18Z","updated_at":"2019-05-10T21:00:55Z","pushed_at":"2019-05-10T21:00:41Z","git_url":"git://github.com/linehrr/spark.git","ssh_url":"git@github.com:linehrr/spark.git","clone_url":"https://github.com/linehrr/spark.git","svn_url":"https://github.com/linehrr/spark","homepage":"","size":295499,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:branch-2.3","ref":"branch-2.3","sha":"f6391e165b8e4dde8a9636fc220042b38eabd056","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23703"},"html":{"href":"https://github.com/apache/spark/pull/23703"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23703"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23703/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23703/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23703/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/91aad762538abee095ab5a304d1b604fbd04d7ff"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23702","id":248961458,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4OTYxNDU4","html_url":"https://github.com/apache/spark/pull/23702","diff_url":"https://github.com/apache/spark/pull/23702.diff","patch_url":"https://github.com/apache/spark/pull/23702.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23702","number":23702,"state":"closed","locked":false,"title":"[SPARK-26785][SQL] data source v2 API refactor: streaming write","user":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nContinue the API refactor for streaming write, according to the [doc](https://docs.google.com/document/d/1vI26UEuDpVuOjWw4WPoH2T6y8WAekwtI7qoowhOFnI4/edit?usp=sharing).\r\n\r\nThe major changes:\r\n1. rename `StreamingWriteSupport` to `StreamingWrite`\r\n2. add `WriteBuilder.buildForStreaming`\r\n3. update existing sinks, to move the creation of `StreamingWrite` to `Table`\r\n\r\n## How was this patch tested?\r\n\r\nexisting tests\r\n","created_at":"2019-01-30T17:22:33Z","updated_at":"2019-02-20T17:37:22Z","closed_at":"2019-02-19T00:20:58Z","merged_at":null,"merge_commit_sha":"21b05007a3b81e3eff5f062368474b010ef7d712","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23702/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23702/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23702/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/80036adc24c38f63c8ee21bd6d7b7e5aa32f3a51","head":{"label":"cloud-fan:stream-write","ref":"stream-write","sha":"80036adc24c38f63c8ee21bd6d7b7e5aa32f3a51","user":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":19689699,"node_id":"MDEwOlJlcG9zaXRvcnkxOTY4OTY5OQ==","name":"spark","full_name":"cloud-fan/spark","private":false,"owner":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/cloud-fan/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/cloud-fan/spark","forks_url":"https://api.github.com/repos/cloud-fan/spark/forks","keys_url":"https://api.github.com/repos/cloud-fan/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cloud-fan/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cloud-fan/spark/teams","hooks_url":"https://api.github.com/repos/cloud-fan/spark/hooks","issue_events_url":"https://api.github.com/repos/cloud-fan/spark/issues/events{/number}","events_url":"https://api.github.com/repos/cloud-fan/spark/events","assignees_url":"https://api.github.com/repos/cloud-fan/spark/assignees{/user}","branches_url":"https://api.github.com/repos/cloud-fan/spark/branches{/branch}","tags_url":"https://api.github.com/repos/cloud-fan/spark/tags","blobs_url":"https://api.github.com/repos/cloud-fan/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cloud-fan/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cloud-fan/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/cloud-fan/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cloud-fan/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/cloud-fan/spark/languages","stargazers_url":"https://api.github.com/repos/cloud-fan/spark/stargazers","contributors_url":"https://api.github.com/repos/cloud-fan/spark/contributors","subscribers_url":"https://api.github.com/repos/cloud-fan/spark/subscribers","subscription_url":"https://api.github.com/repos/cloud-fan/spark/subscription","commits_url":"https://api.github.com/repos/cloud-fan/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/cloud-fan/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/cloud-fan/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/cloud-fan/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/cloud-fan/spark/contents/{+path}","compare_url":"https://api.github.com/repos/cloud-fan/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cloud-fan/spark/merges","archive_url":"https://api.github.com/repos/cloud-fan/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cloud-fan/spark/downloads","issues_url":"https://api.github.com/repos/cloud-fan/spark/issues{/number}","pulls_url":"https://api.github.com/repos/cloud-fan/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/cloud-fan/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/cloud-fan/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cloud-fan/spark/labels{/name}","releases_url":"https://api.github.com/repos/cloud-fan/spark/releases{/id}","deployments_url":"https://api.github.com/repos/cloud-fan/spark/deployments","created_at":"2014-05-12T07:32:26Z","updated_at":"2022-06-21T07:59:41Z","pushed_at":"2025-02-07T13:15:09Z","git_url":"git://github.com/cloud-fan/spark.git","ssh_url":"git@github.com:cloud-fan/spark.git","clone_url":"https://github.com/cloud-fan/spark.git","svn_url":"https://github.com/cloud-fan/spark","homepage":null,"size":467110,"stargazers_count":3,"watchers_count":3,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":3,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"4dce45a5992e6a89a26b5a0739b33cfeaf979208","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23702"},"html":{"href":"https://github.com/apache/spark/pull/23702"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23702"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23702/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23702/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23702/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/80036adc24c38f63c8ee21bd6d7b7e5aa32f3a51"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23701","id":248953871,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4OTUzODcx","html_url":"https://github.com/apache/spark/pull/23701","diff_url":"https://github.com/apache/spark/pull/23701.diff","patch_url":"https://github.com/apache/spark/pull/23701.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23701","number":23701,"state":"closed","locked":false,"title":"[SPARK-26741][SQL] Allow using aggregate expressions in ORDER BY clause","user":{"login":"mgaido91","id":8821783,"node_id":"MDQ6VXNlcjg4MjE3ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8821783?v=4","gravatar_id":"","url":"https://api.github.com/users/mgaido91","html_url":"https://github.com/mgaido91","followers_url":"https://api.github.com/users/mgaido91/followers","following_url":"https://api.github.com/users/mgaido91/following{/other_user}","gists_url":"https://api.github.com/users/mgaido91/gists{/gist_id}","starred_url":"https://api.github.com/users/mgaido91/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgaido91/subscriptions","organizations_url":"https://api.github.com/users/mgaido91/orgs","repos_url":"https://api.github.com/users/mgaido91/repos","events_url":"https://api.github.com/users/mgaido91/events{/privacy}","received_events_url":"https://api.github.com/users/mgaido91/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nWhen an `AggergateExpression` is used in a `Sort` operator and the sort operator is not immediately after an `Aggregate` plan, the expression is left as is in the sort operator by the Analyzer. This generates a bad plan which fails at execution.\r\n\r\nThe PR rewrites `AggergateExpression` in `Sort`, also when the `Aggregate` is not a direct child.\r\n\r\n## How was this patch tested?\r\n\r\nadded UT and re-enabled UT\r\n","created_at":"2019-01-30T17:00:09Z","updated_at":"2020-01-03T00:08:39Z","closed_at":"2020-01-03T00:08:39Z","merged_at":null,"merge_commit_sha":"4796a038f75a710a5cb2696480d9837193faad84","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23701/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23701/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23701/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/21f68b92907f3dfb5a878741a0ea6a6bd27079d2","head":{"label":"mgaido91:SPARK-26741","ref":"SPARK-26741","sha":"21f68b92907f3dfb5a878741a0ea6a6bd27079d2","user":{"login":"mgaido91","id":8821783,"node_id":"MDQ6VXNlcjg4MjE3ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8821783?v=4","gravatar_id":"","url":"https://api.github.com/users/mgaido91","html_url":"https://github.com/mgaido91","followers_url":"https://api.github.com/users/mgaido91/followers","following_url":"https://api.github.com/users/mgaido91/following{/other_user}","gists_url":"https://api.github.com/users/mgaido91/gists{/gist_id}","starred_url":"https://api.github.com/users/mgaido91/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgaido91/subscriptions","organizations_url":"https://api.github.com/users/mgaido91/orgs","repos_url":"https://api.github.com/users/mgaido91/repos","events_url":"https://api.github.com/users/mgaido91/events{/privacy}","received_events_url":"https://api.github.com/users/mgaido91/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":94518128,"node_id":"MDEwOlJlcG9zaXRvcnk5NDUxODEyOA==","name":"spark","full_name":"mgaido91/spark","private":false,"owner":{"login":"mgaido91","id":8821783,"node_id":"MDQ6VXNlcjg4MjE3ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8821783?v=4","gravatar_id":"","url":"https://api.github.com/users/mgaido91","html_url":"https://github.com/mgaido91","followers_url":"https://api.github.com/users/mgaido91/followers","following_url":"https://api.github.com/users/mgaido91/following{/other_user}","gists_url":"https://api.github.com/users/mgaido91/gists{/gist_id}","starred_url":"https://api.github.com/users/mgaido91/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgaido91/subscriptions","organizations_url":"https://api.github.com/users/mgaido91/orgs","repos_url":"https://api.github.com/users/mgaido91/repos","events_url":"https://api.github.com/users/mgaido91/events{/privacy}","received_events_url":"https://api.github.com/users/mgaido91/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mgaido91/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/mgaido91/spark","forks_url":"https://api.github.com/repos/mgaido91/spark/forks","keys_url":"https://api.github.com/repos/mgaido91/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mgaido91/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mgaido91/spark/teams","hooks_url":"https://api.github.com/repos/mgaido91/spark/hooks","issue_events_url":"https://api.github.com/repos/mgaido91/spark/issues/events{/number}","events_url":"https://api.github.com/repos/mgaido91/spark/events","assignees_url":"https://api.github.com/repos/mgaido91/spark/assignees{/user}","branches_url":"https://api.github.com/repos/mgaido91/spark/branches{/branch}","tags_url":"https://api.github.com/repos/mgaido91/spark/tags","blobs_url":"https://api.github.com/repos/mgaido91/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mgaido91/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mgaido91/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/mgaido91/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mgaido91/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/mgaido91/spark/languages","stargazers_url":"https://api.github.com/repos/mgaido91/spark/stargazers","contributors_url":"https://api.github.com/repos/mgaido91/spark/contributors","subscribers_url":"https://api.github.com/repos/mgaido91/spark/subscribers","subscription_url":"https://api.github.com/repos/mgaido91/spark/subscription","commits_url":"https://api.github.com/repos/mgaido91/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/mgaido91/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/mgaido91/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/mgaido91/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/mgaido91/spark/contents/{+path}","compare_url":"https://api.github.com/repos/mgaido91/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mgaido91/spark/merges","archive_url":"https://api.github.com/repos/mgaido91/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mgaido91/spark/downloads","issues_url":"https://api.github.com/repos/mgaido91/spark/issues{/number}","pulls_url":"https://api.github.com/repos/mgaido91/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/mgaido91/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/mgaido91/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mgaido91/spark/labels{/name}","releases_url":"https://api.github.com/repos/mgaido91/spark/releases{/id}","deployments_url":"https://api.github.com/repos/mgaido91/spark/deployments","created_at":"2017-06-16T07:34:38Z","updated_at":"2017-06-16T07:35:05Z","pushed_at":"2019-12-04T21:06:00Z","git_url":"git://github.com/mgaido91/spark.git","ssh_url":"git@github.com:mgaido91/spark.git","clone_url":"https://github.com/mgaido91/spark.git","svn_url":"https://github.com/mgaido91/spark","homepage":null,"size":320625,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"76079fab5c643705046badd4ea1b595bd1404454","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23701"},"html":{"href":"https://github.com/apache/spark/pull/23701"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23701"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23701/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23701/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23701/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/21f68b92907f3dfb5a878741a0ea6a6bd27079d2"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23700","id":248917289,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4OTE3Mjg5","html_url":"https://github.com/apache/spark/pull/23700","diff_url":"https://github.com/apache/spark/pull/23700.diff","patch_url":"https://github.com/apache/spark/pull/23700.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23700","number":23700,"state":"closed","locked":false,"title":"[SPARK-25692] [CORE] Remove static initialization of worker eventLoop handling chunk fetch requests within TransportContext. This fixes ChunkFetchIntegrationSuite as well","user":{"login":"redsanket","id":8295799,"node_id":"MDQ6VXNlcjgyOTU3OTk=","avatar_url":"https://avatars.githubusercontent.com/u/8295799?v=4","gravatar_id":"","url":"https://api.github.com/users/redsanket","html_url":"https://github.com/redsanket","followers_url":"https://api.github.com/users/redsanket/followers","following_url":"https://api.github.com/users/redsanket/following{/other_user}","gists_url":"https://api.github.com/users/redsanket/gists{/gist_id}","starred_url":"https://api.github.com/users/redsanket/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/redsanket/subscriptions","organizations_url":"https://api.github.com/users/redsanket/orgs","repos_url":"https://api.github.com/users/redsanket/repos","events_url":"https://api.github.com/users/redsanket/events{/privacy}","received_events_url":"https://api.github.com/users/redsanket/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nHow to reproduce\r\n./build/mvn test -Dtest=org.apache.spark.network.RequestTimeoutIntegrationSuite,org.apache.spark.network.ChunkFetchIntegrationSuite -DwildcardSuites=None test\r\nfurtherRequestsDelay Test within RequestTimeoutIntegrationSuite was holding onto buffer references within worker threads. The test does close the server context but since the threads are global and there is sleep of 60 secs to fetch a specific chunk within this test, it grabs on it and waits for the client to consume but however the test is testing for a request timeout and it times out after 10 secs, so the workers are just waiting there for the buffer to be consumed by client as per my understanding. \r\n\r\nThis tends to happen if you dont have enough IO threads available on the specific system and also the order of the tests being run determines its flakyness like if ChunkFetchIntegrationSuite runs first then there is no issue. For example on mac with 8 threads these tests run fine but on my vm with 4 threads it fails. It matches the number of fetch calls in RequestTimeoutIntegrationSuite.\r\n\r\nSo do we really need it to be static?\r\n\r\nI dont think this requires a global declaration as these threads are only required on the shuffle server end and on the client TransportContext initialization i.e the Client don't initialize these threads. The Shuffle Server initializes one TransportContext object. So, I think this is fine to be an instance variable and I see no harm.\r\n\r\n## How was this patch tested?\r\nIntegration tests, manual tests","created_at":"2019-01-30T15:23:36Z","updated_at":"2019-02-05T18:47:04Z","closed_at":"2019-02-05T18:47:04Z","merged_at":null,"merge_commit_sha":"befdc534fd44ff0a203576c565c8c72a21d76808","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23700/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23700/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23700/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3f0eb607556efa55af70eb6f012a7cf0e3119c61","head":{"label":"redsanket:SPARK-25692","ref":"SPARK-25692","sha":"3f0eb607556efa55af70eb6f012a7cf0e3119c61","user":{"login":"redsanket","id":8295799,"node_id":"MDQ6VXNlcjgyOTU3OTk=","avatar_url":"https://avatars.githubusercontent.com/u/8295799?v=4","gravatar_id":"","url":"https://api.github.com/users/redsanket","html_url":"https://github.com/redsanket","followers_url":"https://api.github.com/users/redsanket/followers","following_url":"https://api.github.com/users/redsanket/following{/other_user}","gists_url":"https://api.github.com/users/redsanket/gists{/gist_id}","starred_url":"https://api.github.com/users/redsanket/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/redsanket/subscriptions","organizations_url":"https://api.github.com/users/redsanket/orgs","repos_url":"https://api.github.com/users/redsanket/repos","events_url":"https://api.github.com/users/redsanket/events{/privacy}","received_events_url":"https://api.github.com/users/redsanket/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":39640326,"node_id":"MDEwOlJlcG9zaXRvcnkzOTY0MDMyNg==","name":"spark","full_name":"redsanket/spark","private":false,"owner":{"login":"redsanket","id":8295799,"node_id":"MDQ6VXNlcjgyOTU3OTk=","avatar_url":"https://avatars.githubusercontent.com/u/8295799?v=4","gravatar_id":"","url":"https://api.github.com/users/redsanket","html_url":"https://github.com/redsanket","followers_url":"https://api.github.com/users/redsanket/followers","following_url":"https://api.github.com/users/redsanket/following{/other_user}","gists_url":"https://api.github.com/users/redsanket/gists{/gist_id}","starred_url":"https://api.github.com/users/redsanket/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/redsanket/subscriptions","organizations_url":"https://api.github.com/users/redsanket/orgs","repos_url":"https://api.github.com/users/redsanket/repos","events_url":"https://api.github.com/users/redsanket/events{/privacy}","received_events_url":"https://api.github.com/users/redsanket/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/redsanket/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/redsanket/spark","forks_url":"https://api.github.com/repos/redsanket/spark/forks","keys_url":"https://api.github.com/repos/redsanket/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/redsanket/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/redsanket/spark/teams","hooks_url":"https://api.github.com/repos/redsanket/spark/hooks","issue_events_url":"https://api.github.com/repos/redsanket/spark/issues/events{/number}","events_url":"https://api.github.com/repos/redsanket/spark/events","assignees_url":"https://api.github.com/repos/redsanket/spark/assignees{/user}","branches_url":"https://api.github.com/repos/redsanket/spark/branches{/branch}","tags_url":"https://api.github.com/repos/redsanket/spark/tags","blobs_url":"https://api.github.com/repos/redsanket/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/redsanket/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/redsanket/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/redsanket/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/redsanket/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/redsanket/spark/languages","stargazers_url":"https://api.github.com/repos/redsanket/spark/stargazers","contributors_url":"https://api.github.com/repos/redsanket/spark/contributors","subscribers_url":"https://api.github.com/repos/redsanket/spark/subscribers","subscription_url":"https://api.github.com/repos/redsanket/spark/subscription","commits_url":"https://api.github.com/repos/redsanket/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/redsanket/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/redsanket/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/redsanket/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/redsanket/spark/contents/{+path}","compare_url":"https://api.github.com/repos/redsanket/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/redsanket/spark/merges","archive_url":"https://api.github.com/repos/redsanket/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/redsanket/spark/downloads","issues_url":"https://api.github.com/repos/redsanket/spark/issues{/number}","pulls_url":"https://api.github.com/repos/redsanket/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/redsanket/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/redsanket/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/redsanket/spark/labels{/name}","releases_url":"https://api.github.com/repos/redsanket/spark/releases{/id}","deployments_url":"https://api.github.com/repos/redsanket/spark/deployments","created_at":"2015-07-24T14:59:08Z","updated_at":"2015-07-24T14:59:30Z","pushed_at":"2021-09-01T19:22:19Z","git_url":"git://github.com/redsanket/spark.git","ssh_url":"git@github.com:redsanket/spark.git","clone_url":"https://github.com/redsanket/spark.git","svn_url":"https://github.com/redsanket/spark","homepage":null,"size":392436,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"6a2f3dcc2bd601fd1fe7610854bc0f5bf90300f4","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23700"},"html":{"href":"https://github.com/apache/spark/pull/23700"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23700"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23700/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23700/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23700/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3f0eb607556efa55af70eb6f012a7cf0e3119c61"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23699","id":248900493,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4OTAwNDkz","html_url":"https://github.com/apache/spark/pull/23699","diff_url":"https://github.com/apache/spark/pull/23699.diff","patch_url":"https://github.com/apache/spark/pull/23699.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23699","number":23699,"state":"closed","locked":false,"title":"[SPARK-26716][SPARK-26765][FOLLOWUP][SQL] Clean up schema validation methods and override toString method in Avro","user":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nIn #23639, the API `supportDataType` is refactored. We should also remove the method `verifyWriteSchema` and `verifyReadSchema` in `DataSourceUtils`.\r\n\r\nSince the error message use `FileFormat.toString` to specify the data source naming,  this PR also overriding the `toString` method in `AvroFileFormat`.\r\n\r\n## How was this patch tested?\r\n\r\nUnit test.\r\n","created_at":"2019-01-30T14:39:16Z","updated_at":"2019-01-31T07:48:35Z","closed_at":"2019-01-31T07:48:08Z","merged_at":null,"merge_commit_sha":"1096a267ab2106950d027fdfce416268f6bf1b78","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23699/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23699/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23699/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/30a318b100f43ccfc30e2ef32c3b09c0e7096aaf","head":{"label":"gengliangwang:SPARK-26716-followup","ref":"SPARK-26716-followup","sha":"30a318b100f43ccfc30e2ef32c3b09c0e7096aaf","user":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":95047635,"node_id":"MDEwOlJlcG9zaXRvcnk5NTA0NzYzNQ==","name":"spark","full_name":"gengliangwang/spark","private":false,"owner":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/gengliangwang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/gengliangwang/spark","forks_url":"https://api.github.com/repos/gengliangwang/spark/forks","keys_url":"https://api.github.com/repos/gengliangwang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/gengliangwang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/gengliangwang/spark/teams","hooks_url":"https://api.github.com/repos/gengliangwang/spark/hooks","issue_events_url":"https://api.github.com/repos/gengliangwang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/gengliangwang/spark/events","assignees_url":"https://api.github.com/repos/gengliangwang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/gengliangwang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/gengliangwang/spark/tags","blobs_url":"https://api.github.com/repos/gengliangwang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/gengliangwang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/gengliangwang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/gengliangwang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/gengliangwang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/gengliangwang/spark/languages","stargazers_url":"https://api.github.com/repos/gengliangwang/spark/stargazers","contributors_url":"https://api.github.com/repos/gengliangwang/spark/contributors","subscribers_url":"https://api.github.com/repos/gengliangwang/spark/subscribers","subscription_url":"https://api.github.com/repos/gengliangwang/spark/subscription","commits_url":"https://api.github.com/repos/gengliangwang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/gengliangwang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/gengliangwang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/gengliangwang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/gengliangwang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/gengliangwang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/gengliangwang/spark/merges","archive_url":"https://api.github.com/repos/gengliangwang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/gengliangwang/spark/downloads","issues_url":"https://api.github.com/repos/gengliangwang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/gengliangwang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/gengliangwang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/gengliangwang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/gengliangwang/spark/labels{/name}","releases_url":"https://api.github.com/repos/gengliangwang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/gengliangwang/spark/deployments","created_at":"2017-06-21T21:26:20Z","updated_at":"2022-01-05T09:39:12Z","pushed_at":"2025-02-07T19:52:00Z","git_url":"git://github.com/gengliangwang/spark.git","ssh_url":"git@github.com:gengliangwang/spark.git","clone_url":"https://github.com/gengliangwang/spark.git","svn_url":"https://github.com/gengliangwang/spark","homepage":null,"size":481326,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"6a2f3dcc2bd601fd1fe7610854bc0f5bf90300f4","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23699"},"html":{"href":"https://github.com/apache/spark/pull/23699"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23699"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23699/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23699/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23699/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/30a318b100f43ccfc30e2ef32c3b09c0e7096aaf"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23698","id":248892654,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4ODkyNjU0","html_url":"https://github.com/apache/spark/pull/23698","diff_url":"https://github.com/apache/spark/pull/23698.diff","patch_url":"https://github.com/apache/spark/pull/23698.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23698","number":23698,"state":"closed","locked":false,"title":"[SPARK-26766][CORE] Remove the list of filesystems from HadoopDelegationTokenProvider.obtainDelegationTokens","user":{"login":"gaborgsomogyi","id":18561820,"node_id":"MDQ6VXNlcjE4NTYxODIw","avatar_url":"https://avatars.githubusercontent.com/u/18561820?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborgsomogyi","html_url":"https://github.com/gaborgsomogyi","followers_url":"https://api.github.com/users/gaborgsomogyi/followers","following_url":"https://api.github.com/users/gaborgsomogyi/following{/other_user}","gists_url":"https://api.github.com/users/gaborgsomogyi/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborgsomogyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborgsomogyi/subscriptions","organizations_url":"https://api.github.com/users/gaborgsomogyi/orgs","repos_url":"https://api.github.com/users/gaborgsomogyi/repos","events_url":"https://api.github.com/users/gaborgsomogyi/events{/privacy}","received_events_url":"https://api.github.com/users/gaborgsomogyi/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nDelegation token providers interface now has a parameter `fileSystems` but this is needed only for `HadoopFSDelegationTokenProvider`.\r\n\r\nIn this PR I've addressed this issue in the following way:\r\n* Removed `fileSystems` parameter from `HadoopDelegationTokenProvider`\r\n* Moved `YarnSparkHadoopUtil.hadoopFSsToAccess` into `HadoopFSDelegationTokenProvider`\r\n* Moved `spark.yarn.stagingDir` into core\r\n* Moved `spark.yarn.access.namenodes` into core and renamed to `spark.kerberos.access.namenodes`\r\n* Moved `spark.yarn.access.hadoopFileSystems` into core and renamed to `spark.kerberos.access.hadoopFileSystems`\r\n\r\n## How was this patch tested?\r\n\r\nExisting unit tests.\r\n","created_at":"2019-01-30T14:17:21Z","updated_at":"2019-02-08T21:46:02Z","closed_at":"2019-02-08T21:46:02Z","merged_at":null,"merge_commit_sha":"01c9c5e8defbc41fc21996936bb687bd6920d03a","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23698/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23698/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23698/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/1c87238cb28fd28b46f1b7362a20a7538a617ba5","head":{"label":"gaborgsomogyi:SPARK-26766","ref":"SPARK-26766","sha":"1c87238cb28fd28b46f1b7362a20a7538a617ba5","user":{"login":"gaborgsomogyi","id":18561820,"node_id":"MDQ6VXNlcjE4NTYxODIw","avatar_url":"https://avatars.githubusercontent.com/u/18561820?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborgsomogyi","html_url":"https://github.com/gaborgsomogyi","followers_url":"https://api.github.com/users/gaborgsomogyi/followers","following_url":"https://api.github.com/users/gaborgsomogyi/following{/other_user}","gists_url":"https://api.github.com/users/gaborgsomogyi/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborgsomogyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborgsomogyi/subscriptions","organizations_url":"https://api.github.com/users/gaborgsomogyi/orgs","repos_url":"https://api.github.com/users/gaborgsomogyi/repos","events_url":"https://api.github.com/users/gaborgsomogyi/events{/privacy}","received_events_url":"https://api.github.com/users/gaborgsomogyi/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":111547097,"node_id":"MDEwOlJlcG9zaXRvcnkxMTE1NDcwOTc=","name":"spark","full_name":"gaborgsomogyi/spark","private":false,"owner":{"login":"gaborgsomogyi","id":18561820,"node_id":"MDQ6VXNlcjE4NTYxODIw","avatar_url":"https://avatars.githubusercontent.com/u/18561820?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborgsomogyi","html_url":"https://github.com/gaborgsomogyi","followers_url":"https://api.github.com/users/gaborgsomogyi/followers","following_url":"https://api.github.com/users/gaborgsomogyi/following{/other_user}","gists_url":"https://api.github.com/users/gaborgsomogyi/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborgsomogyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborgsomogyi/subscriptions","organizations_url":"https://api.github.com/users/gaborgsomogyi/orgs","repos_url":"https://api.github.com/users/gaborgsomogyi/repos","events_url":"https://api.github.com/users/gaborgsomogyi/events{/privacy}","received_events_url":"https://api.github.com/users/gaborgsomogyi/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/gaborgsomogyi/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/gaborgsomogyi/spark","forks_url":"https://api.github.com/repos/gaborgsomogyi/spark/forks","keys_url":"https://api.github.com/repos/gaborgsomogyi/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/gaborgsomogyi/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/gaborgsomogyi/spark/teams","hooks_url":"https://api.github.com/repos/gaborgsomogyi/spark/hooks","issue_events_url":"https://api.github.com/repos/gaborgsomogyi/spark/issues/events{/number}","events_url":"https://api.github.com/repos/gaborgsomogyi/spark/events","assignees_url":"https://api.github.com/repos/gaborgsomogyi/spark/assignees{/user}","branches_url":"https://api.github.com/repos/gaborgsomogyi/spark/branches{/branch}","tags_url":"https://api.github.com/repos/gaborgsomogyi/spark/tags","blobs_url":"https://api.github.com/repos/gaborgsomogyi/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/gaborgsomogyi/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/gaborgsomogyi/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/gaborgsomogyi/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/gaborgsomogyi/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/gaborgsomogyi/spark/languages","stargazers_url":"https://api.github.com/repos/gaborgsomogyi/spark/stargazers","contributors_url":"https://api.github.com/repos/gaborgsomogyi/spark/contributors","subscribers_url":"https://api.github.com/repos/gaborgsomogyi/spark/subscribers","subscription_url":"https://api.github.com/repos/gaborgsomogyi/spark/subscription","commits_url":"https://api.github.com/repos/gaborgsomogyi/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/gaborgsomogyi/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/gaborgsomogyi/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/gaborgsomogyi/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/gaborgsomogyi/spark/contents/{+path}","compare_url":"https://api.github.com/repos/gaborgsomogyi/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/gaborgsomogyi/spark/merges","archive_url":"https://api.github.com/repos/gaborgsomogyi/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/gaborgsomogyi/spark/downloads","issues_url":"https://api.github.com/repos/gaborgsomogyi/spark/issues{/number}","pulls_url":"https://api.github.com/repos/gaborgsomogyi/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/gaborgsomogyi/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/gaborgsomogyi/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/gaborgsomogyi/spark/labels{/name}","releases_url":"https://api.github.com/repos/gaborgsomogyi/spark/releases{/id}","deployments_url":"https://api.github.com/repos/gaborgsomogyi/spark/deployments","created_at":"2017-11-21T12:38:03Z","updated_at":"2024-05-06T08:51:33Z","pushed_at":"2024-05-06T08:50:41Z","git_url":"git://github.com/gaborgsomogyi/spark.git","ssh_url":"git@github.com:gaborgsomogyi/spark.git","clone_url":"https://github.com/gaborgsomogyi/spark.git","svn_url":"https://github.com/gaborgsomogyi/spark","homepage":null,"size":416015,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"7781c6fd7334979b6b4222d2271765219593f08e","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23698"},"html":{"href":"https://github.com/apache/spark/pull/23698"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23698"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23698/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23698/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23698/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/1c87238cb28fd28b46f1b7362a20a7538a617ba5"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23697","id":248869795,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4ODY5Nzk1","html_url":"https://github.com/apache/spark/pull/23697","diff_url":"https://github.com/apache/spark/pull/23697.diff","patch_url":"https://github.com/apache/spark/pull/23697.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23697","number":23697,"state":"closed","locked":false,"title":"[SPARK-26758][core]Idle Executors are not getting killed after spark.dynamiAllocation.executorIdleTimeout value","user":{"login":"sandeep-katta","id":35216143,"node_id":"MDQ6VXNlcjM1MjE2MTQz","avatar_url":"https://avatars.githubusercontent.com/u/35216143?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeep-katta","html_url":"https://github.com/sandeep-katta","followers_url":"https://api.github.com/users/sandeep-katta/followers","following_url":"https://api.github.com/users/sandeep-katta/following{/other_user}","gists_url":"https://api.github.com/users/sandeep-katta/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeep-katta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeep-katta/subscriptions","organizations_url":"https://api.github.com/users/sandeep-katta/orgs","repos_url":"https://api.github.com/users/sandeep-katta/repos","events_url":"https://api.github.com/users/sandeep-katta/events{/privacy}","received_events_url":"https://api.github.com/users/sandeep-katta/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\n## What changes were proposed in this pull request?\r\n\r\n**updateAndSyncNumExecutorsTarget**  API should be called after **initializing** flag is unset\r\n## How was this patch tested?\r\nAdded UT and also manually tested\r\n\r\nAfter Fix\r\n![afterfix](https://user-images.githubusercontent.com/35216143/51983136-ed4a5000-24bd-11e9-90c8-c4a562c17a4b.png)\r\n\r\n\r\n\r\n","created_at":"2019-01-30T13:08:01Z","updated_at":"2019-12-02T06:35:46Z","closed_at":"2019-02-05T04:16:51Z","merged_at":null,"merge_commit_sha":"c751c43a8d551e466cff2b86080ce0f3f1a915be","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23697/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23697/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23697/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/f12bb9886ab673eaf3cb736efaab96bca1aa6771","head":{"label":"sandeep-katta:executorIssue","ref":"executorIssue","sha":"f12bb9886ab673eaf3cb736efaab96bca1aa6771","user":{"login":"sandeep-katta","id":35216143,"node_id":"MDQ6VXNlcjM1MjE2MTQz","avatar_url":"https://avatars.githubusercontent.com/u/35216143?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeep-katta","html_url":"https://github.com/sandeep-katta","followers_url":"https://api.github.com/users/sandeep-katta/followers","following_url":"https://api.github.com/users/sandeep-katta/following{/other_user}","gists_url":"https://api.github.com/users/sandeep-katta/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeep-katta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeep-katta/subscriptions","organizations_url":"https://api.github.com/users/sandeep-katta/orgs","repos_url":"https://api.github.com/users/sandeep-katta/repos","events_url":"https://api.github.com/users/sandeep-katta/events{/privacy}","received_events_url":"https://api.github.com/users/sandeep-katta/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":116654613,"node_id":"MDEwOlJlcG9zaXRvcnkxMTY2NTQ2MTM=","name":"spark","full_name":"sandeep-katta/spark","private":false,"owner":{"login":"sandeep-katta","id":35216143,"node_id":"MDQ6VXNlcjM1MjE2MTQz","avatar_url":"https://avatars.githubusercontent.com/u/35216143?v=4","gravatar_id":"","url":"https://api.github.com/users/sandeep-katta","html_url":"https://github.com/sandeep-katta","followers_url":"https://api.github.com/users/sandeep-katta/followers","following_url":"https://api.github.com/users/sandeep-katta/following{/other_user}","gists_url":"https://api.github.com/users/sandeep-katta/gists{/gist_id}","starred_url":"https://api.github.com/users/sandeep-katta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandeep-katta/subscriptions","organizations_url":"https://api.github.com/users/sandeep-katta/orgs","repos_url":"https://api.github.com/users/sandeep-katta/repos","events_url":"https://api.github.com/users/sandeep-katta/events{/privacy}","received_events_url":"https://api.github.com/users/sandeep-katta/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sandeep-katta/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/sandeep-katta/spark","forks_url":"https://api.github.com/repos/sandeep-katta/spark/forks","keys_url":"https://api.github.com/repos/sandeep-katta/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sandeep-katta/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sandeep-katta/spark/teams","hooks_url":"https://api.github.com/repos/sandeep-katta/spark/hooks","issue_events_url":"https://api.github.com/repos/sandeep-katta/spark/issues/events{/number}","events_url":"https://api.github.com/repos/sandeep-katta/spark/events","assignees_url":"https://api.github.com/repos/sandeep-katta/spark/assignees{/user}","branches_url":"https://api.github.com/repos/sandeep-katta/spark/branches{/branch}","tags_url":"https://api.github.com/repos/sandeep-katta/spark/tags","blobs_url":"https://api.github.com/repos/sandeep-katta/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sandeep-katta/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sandeep-katta/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/sandeep-katta/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sandeep-katta/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/sandeep-katta/spark/languages","stargazers_url":"https://api.github.com/repos/sandeep-katta/spark/stargazers","contributors_url":"https://api.github.com/repos/sandeep-katta/spark/contributors","subscribers_url":"https://api.github.com/repos/sandeep-katta/spark/subscribers","subscription_url":"https://api.github.com/repos/sandeep-katta/spark/subscription","commits_url":"https://api.github.com/repos/sandeep-katta/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/sandeep-katta/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/sandeep-katta/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/sandeep-katta/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/sandeep-katta/spark/contents/{+path}","compare_url":"https://api.github.com/repos/sandeep-katta/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sandeep-katta/spark/merges","archive_url":"https://api.github.com/repos/sandeep-katta/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sandeep-katta/spark/downloads","issues_url":"https://api.github.com/repos/sandeep-katta/spark/issues{/number}","pulls_url":"https://api.github.com/repos/sandeep-katta/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/sandeep-katta/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/sandeep-katta/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sandeep-katta/spark/labels{/name}","releases_url":"https://api.github.com/repos/sandeep-katta/spark/releases{/id}","deployments_url":"https://api.github.com/repos/sandeep-katta/spark/deployments","created_at":"2018-01-08T09:11:40Z","updated_at":"2022-05-26T16:19:41Z","pushed_at":"2023-04-12T08:34:02Z","git_url":"git://github.com/sandeep-katta/spark.git","ssh_url":"git@github.com:sandeep-katta/spark.git","clone_url":"https://github.com/sandeep-katta/spark.git","svn_url":"https://github.com/sandeep-katta/spark","homepage":null,"size":451875,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"96c6c295cc909c8904b0eb6c333a62f4897461c6","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23697"},"html":{"href":"https://github.com/apache/spark/pull/23697"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23697"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23697/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23697/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23697/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/f12bb9886ab673eaf3cb736efaab96bca1aa6771"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23696","id":248778762,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4Nzc4NzYy","html_url":"https://github.com/apache/spark/pull/23696","diff_url":"https://github.com/apache/spark/pull/23696.diff","patch_url":"https://github.com/apache/spark/pull/23696.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23696","number":23696,"state":"closed","locked":false,"title":"[SPARK-26781][SQL]Avoid additional shuffle when the data is already partitioned on the same key in previous stage ","user":{"login":"karuppayya","id":5082742,"node_id":"MDQ6VXNlcjUwODI3NDI=","avatar_url":"https://avatars.githubusercontent.com/u/5082742?v=4","gravatar_id":"","url":"https://api.github.com/users/karuppayya","html_url":"https://github.com/karuppayya","followers_url":"https://api.github.com/users/karuppayya/followers","following_url":"https://api.github.com/users/karuppayya/following{/other_user}","gists_url":"https://api.github.com/users/karuppayya/gists{/gist_id}","starred_url":"https://api.github.com/users/karuppayya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karuppayya/subscriptions","organizations_url":"https://api.github.com/users/karuppayya/orgs","repos_url":"https://api.github.com/users/karuppayya/repos","events_url":"https://api.github.com/users/karuppayya/events{/privacy}","received_events_url":"https://api.github.com/users/karuppayya/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nAvoid additonal exchanges \r\nConsider three tables: a(id int), b(id int), c(id, int)\r\n\r\nquery:  \r\n`select * from (select a.id as newid from a join b where a.id = b.id) temp join c on temp.newid = c.id`\r\n\r\nPlan(physical plan: org.apache.spark.sql.execution.QueryExecution#executedPlan):\r\nBefore fix:\r\n```\r\n*(9) SortMergeJoin [newid#1L], [id#6L], Inner\r\n:- *(6) Sort [newid#1L ASC NULLS FIRST], false, 0\r\n:  +- Exchange hashpartitioning(newid#1L, 200)\r\n:     +- *(5) Project [id#2L AS newid#1L, name#3]\r\n:        +- *(5) SortMergeJoin [id#2L], [id#4L], Inner\r\n:           :- *(2) Sort [id#2L ASC NULLS FIRST], false, 0\r\n:           :  +- Exchange hashpartitioning(id#2L, 200)\r\n:           :     +- *(1) Project [id#2L, name#3]\r\n:           :        +- *(1) Filter isnotnull(id#2L)\r\n:           :           +- *(1) FileScan parquet a[id#2L,name#3] Batched: true, DataFilters: [isnotnull(id#2L)], Format: Parquet, Location: InMemoryFileIndex[file:/tmp/spark/a], PartitionFilters: [], PushedFilters: [IsNotNull(id)], ReadSchema: struct<id:bigint,name:string>\r\n:           +- *(4) Sort [id#4L ASC NULLS FIRST], false, 0\r\n:              +- Exchange hashpartitioning(id#4L, 200)\r\n:                 +- *(3) Project [id#4L]\r\n:                    +- *(3) Filter isnotnull(id#4L)\r\n:                       +- *(3) FileScan parquet b[id#4L] Batched: true, DataFilters: [isnotnull(id#4L)], Format: Parquet, Location: InMemoryFileIndex[file:/tmp/spark/b], PartitionFilters: [], PushedFilters: [IsNotNull(id)], ReadSchema: struct<id:bigint>\r\n+- *(8) Sort [id#6L ASC NULLS FIRST], false, 0\r\n   +- Exchange hashpartitioning(id#6L, 200)\r\n      +- *(7) Project [id#6L, name#7]\r\n         +- *(7) Filter isnotnull(id#6L)\r\n            +- *(7) FileScan parquet \\c[id#6L,name#7] Batched: true, DataFilters: [isnotnull(id#6L)], Format: Parquet, Location: InMemoryFileIndex[file:/tmp/spark/c], PartitionFilters: [], PushedFilters: [IsNotNull(id)], ReadSchema: struct<id:bigint,name:string>\r\n```\r\n The exchange operator below stage 6 is not required since the data from project is already partitioned based on id.\r\n\r\nAn exchange gets added since the outputPartitioning of Project(5) is HashPartitioning on id#2L whereas the requiredPartitioning of Sort(Stage 6) is HashPartitioning on newid#1L which is nothing but alias of id#2L.\r\n\r\nThe exchange operator is not required in this case if we are able to compare the attribute id#2L referenced by alias newid#1L 0\r\n\r\n## How the additional exchange can be avoided\r\n1. `org.apache.spark.sql.catalyst.plans.physical.HashPartitioning#satisfies0` gets executed as part of EnsureRequiremenst planner rule(check below stacktrace), which has the following code\r\nhas the following code\r\n```\r\nexpressions.length == h.expressions.length && expressions.zip(h.expressions).forall {\r\n            case (l, r) => l.semanticEquals(r)\r\n```\r\n`l.semanticEquals(r)` check fails due to comparsion between id#2L and newid#1L(which is the alias for id#2L) ()\r\n```\r\nsemanticEquals:265, AttributeReference (org.apache.spark.sql.catalyst.expressions)\r\nsatisfies0:223, HashPartitioning (org.apache.spark.sql.catalyst.plans.physical)\r\nsatisfies:171, Partitioning (org.apache.spark.sql.catalyst.plans.physical)\r\nsatisfies:212, HashPartitioning (org.apache.spark.sql.catalyst.plans.physical)\r\nsatisfies0:324, PartitioningCollection (org.apache.spark.sql.catalyst.plans.physical)\r\nsatisfies:171, Partitioning (org.apache.spark.sql.catalyst.plans.physical)\r\nsatisfies:302, PartitioningCollection (org.apache.spark.sql.catalyst.plans.physical)\r\norg$apache$spark$sql$execution$exchange$EnsureRequirements$$ensureDistributionAndOrdering:149, EnsureRequirements (org.apache.spark.sql.execution.exchange)\r\n```\r\n2. why is change made in `org.apache.spark.sql.catalyst.expressions.Alias#toAttribute`\r\n`org.apache.spark.sql.catalyst.plans.logical.Project#output`\r\nconverts Alias to Attributes which is the child node of Join(this hapen when child resolution takes place)\r\n```\r\n  override def output: Seq[Attribute] = projectList.map(_.toAttribute)\r\n```\r\n\r\nAfter fix:\r\n```\r\n*(8) Project [newid#1L, name#3, id#6L, name#7]\r\n+- *(8) SortMergeJoin [newid#1L], [id#6L], Inner\r\n   :- *(5) Sort [newid#1L ASC NULLS FIRST], false, 0\r\n   :  +- *(5) Project [id#2L AS newid#1L, name#3]\r\n   :     +- *(5) SortMergeJoin [id#2L], [id#4L], Inner\r\n   :        :- *(2) Sort [id#2L ASC NULLS FIRST], false, 0\r\n   :        :  +- Exchange hashpartitioning(id#2L, 200)\r\n   :        :     +- *(1) Project [id#2L, name#3]\r\n   :        :        +- *(1) Filter isnotnull(id#2L)\r\n   :        :           +- *(1) FileScan parquet a[id#2L,name#3] Batched: true, DataFilters: [isnotnull(id#2L)], Format: Parquet, Location: InMemoryFileIndex[file:/tmp/spark/a], PartitionFilters: [], PushedFilters: [IsNotNull(id)], ReadSchema: struct<id:bigint,name:string>\r\n   :        +- *(4) Sort [id#4L ASC NULLS FIRST], false, 0\r\n   :           +- Exchange hashpartitioning(id#4L, 200)\r\n   :              +- *(3) Project [id#4L]\r\n   :                 +- *(3) Filter isnotnull(id#4L)\r\n   :                    +- *(3) FileScan parquet b[id#4L] Batched: true, DataFilters: [isnotnull(id#4L)], Format: Parquet, Location: InMemoryFileIndex[file:/tmp/spark/b], PartitionFilters: [], PushedFilters: [IsNotNull(id)], ReadSchema: struct<id:bigint>\r\n   +- *(7) Sort [id#6L ASC NULLS FIRST], false, 0\r\n      +- Exchange hashpartitioning(id#6L, 200)\r\n         +- *(6) Project [id#6L, name#7]\r\n            +- *(6) Filter isnotnull(id#6L)\r\n               +- *(6) FileScan parquet c[id#6L,name#7] Batched: true, DataFilters: [isnotnull(id#6L)], Format: Parquet, Location: InMemoryFileIndex[file:/tmp/spark/c], PartitionFilters: [], PushedFilters: [IsNotNull(id)], ReadSchema: struct<id:bigint,name:string>\r\n\r\n```\r\n\r\n\r\n## How was this patch tested?\r\n\r\nUnit tests, manual test(checked against TPC-DS query2 where this issue occurs)\r\n","created_at":"2019-01-30T08:02:58Z","updated_at":"2019-09-17T00:27:57Z","closed_at":"2019-09-17T00:27:57Z","merged_at":null,"merge_commit_sha":"4e68699d9bbbb3ae862f49d8d4f8b88acf08fb2c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23696/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23696/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23696/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/f0485fb7eb317acd8fda165200802e8291e01737","head":{"label":"karuppayya:fix_exchange","ref":"fix_exchange","sha":"f0485fb7eb317acd8fda165200802e8291e01737","user":{"login":"karuppayya","id":5082742,"node_id":"MDQ6VXNlcjUwODI3NDI=","avatar_url":"https://avatars.githubusercontent.com/u/5082742?v=4","gravatar_id":"","url":"https://api.github.com/users/karuppayya","html_url":"https://github.com/karuppayya","followers_url":"https://api.github.com/users/karuppayya/followers","following_url":"https://api.github.com/users/karuppayya/following{/other_user}","gists_url":"https://api.github.com/users/karuppayya/gists{/gist_id}","starred_url":"https://api.github.com/users/karuppayya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karuppayya/subscriptions","organizations_url":"https://api.github.com/users/karuppayya/orgs","repos_url":"https://api.github.com/users/karuppayya/repos","events_url":"https://api.github.com/users/karuppayya/events{/privacy}","received_events_url":"https://api.github.com/users/karuppayya/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":40343047,"node_id":"MDEwOlJlcG9zaXRvcnk0MDM0MzA0Nw==","name":"spark","full_name":"karuppayya/spark","private":false,"owner":{"login":"karuppayya","id":5082742,"node_id":"MDQ6VXNlcjUwODI3NDI=","avatar_url":"https://avatars.githubusercontent.com/u/5082742?v=4","gravatar_id":"","url":"https://api.github.com/users/karuppayya","html_url":"https://github.com/karuppayya","followers_url":"https://api.github.com/users/karuppayya/followers","following_url":"https://api.github.com/users/karuppayya/following{/other_user}","gists_url":"https://api.github.com/users/karuppayya/gists{/gist_id}","starred_url":"https://api.github.com/users/karuppayya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karuppayya/subscriptions","organizations_url":"https://api.github.com/users/karuppayya/orgs","repos_url":"https://api.github.com/users/karuppayya/repos","events_url":"https://api.github.com/users/karuppayya/events{/privacy}","received_events_url":"https://api.github.com/users/karuppayya/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/karuppayya/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/karuppayya/spark","forks_url":"https://api.github.com/repos/karuppayya/spark/forks","keys_url":"https://api.github.com/repos/karuppayya/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/karuppayya/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/karuppayya/spark/teams","hooks_url":"https://api.github.com/repos/karuppayya/spark/hooks","issue_events_url":"https://api.github.com/repos/karuppayya/spark/issues/events{/number}","events_url":"https://api.github.com/repos/karuppayya/spark/events","assignees_url":"https://api.github.com/repos/karuppayya/spark/assignees{/user}","branches_url":"https://api.github.com/repos/karuppayya/spark/branches{/branch}","tags_url":"https://api.github.com/repos/karuppayya/spark/tags","blobs_url":"https://api.github.com/repos/karuppayya/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/karuppayya/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/karuppayya/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/karuppayya/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/karuppayya/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/karuppayya/spark/languages","stargazers_url":"https://api.github.com/repos/karuppayya/spark/stargazers","contributors_url":"https://api.github.com/repos/karuppayya/spark/contributors","subscribers_url":"https://api.github.com/repos/karuppayya/spark/subscribers","subscription_url":"https://api.github.com/repos/karuppayya/spark/subscription","commits_url":"https://api.github.com/repos/karuppayya/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/karuppayya/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/karuppayya/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/karuppayya/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/karuppayya/spark/contents/{+path}","compare_url":"https://api.github.com/repos/karuppayya/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/karuppayya/spark/merges","archive_url":"https://api.github.com/repos/karuppayya/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/karuppayya/spark/downloads","issues_url":"https://api.github.com/repos/karuppayya/spark/issues{/number}","pulls_url":"https://api.github.com/repos/karuppayya/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/karuppayya/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/karuppayya/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/karuppayya/spark/labels{/name}","releases_url":"https://api.github.com/repos/karuppayya/spark/releases{/id}","deployments_url":"https://api.github.com/repos/karuppayya/spark/deployments","created_at":"2015-08-07T05:35:32Z","updated_at":"2021-07-27T02:45:55Z","pushed_at":"2022-08-09T04:21:45Z","git_url":"git://github.com/karuppayya/spark.git","ssh_url":"git@github.com:karuppayya/spark.git","clone_url":"https://github.com/karuppayya/spark.git","svn_url":"https://github.com/karuppayya/spark","homepage":null,"size":392494,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"7781c6fd7334979b6b4222d2271765219593f08e","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23696"},"html":{"href":"https://github.com/apache/spark/pull/23696"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23696"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23696/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23696/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23696/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/f0485fb7eb317acd8fda165200802e8291e01737"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23695","id":248774207,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4Nzc0MjA3","html_url":"https://github.com/apache/spark/pull/23695","diff_url":"https://github.com/apache/spark/pull/23695.diff","patch_url":"https://github.com/apache/spark/pull/23695.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23695","number":23695,"state":"closed","locked":false,"title":"[SPARK-26780][CORE]Improve shuffle read using ReadAheadInputStream ","user":{"login":"10110346","id":24688163,"node_id":"MDQ6VXNlcjI0Njg4MTYz","avatar_url":"https://avatars.githubusercontent.com/u/24688163?v=4","gravatar_id":"","url":"https://api.github.com/users/10110346","html_url":"https://github.com/10110346","followers_url":"https://api.github.com/users/10110346/followers","following_url":"https://api.github.com/users/10110346/following{/other_user}","gists_url":"https://api.github.com/users/10110346/gists{/gist_id}","starred_url":"https://api.github.com/users/10110346/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/10110346/subscriptions","organizations_url":"https://api.github.com/users/10110346/orgs","repos_url":"https://api.github.com/users/10110346/repos","events_url":"https://api.github.com/users/10110346/events{/privacy}","received_events_url":"https://api.github.com/users/10110346/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\nUsing `ReadAheadInputStream`  to improve  shuffle read  performance.\r\n `ReadAheadInputStream` can save cpu utilization and almost no performance regression\r\n\r\n\r\n## How was this patch tested?\r\n1. Using unit tests for correctness testing.\r\n1. TPCDS test: \r\n./spark-shell --executor-memory 4G --total-executor-cores 18 --conf \"spark.sql.shuffle.partitions=6\" --conf \"spark.shuffle.detectCorrupt=false\" --conf \"spark.shuffle.read.ahead.enabled=true\" --jars /home/spark-sql-perf-assembly-0.5.0-SNAPSHOT.jar\r\n\r\nTest cases ran three times.\r\n\r\n**Before this PR：**\r\n**One(Total time :1759.577170773999969s)**：\r\nRunning execution q4-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 402.58029997799997s\r\nRunning execution q14a-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 652.151175984s\r\nRunning execution q14b-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 547.148668606s\r\nRunning execution q25-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 150.53358054s\r\nRunning execution ss_max-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 7.163445665999999s\r\n\r\n**Two(Total time :1734.5941864229999s)**：\r\nRunning execution q4-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 391.070943194s\r\nRunning execution q14a-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 654.8007626389999s\r\nRunning execution q14b-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 537.754249246s\r\nRunning execution q25-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 143.928162026s\r\nRunning execution ss_max-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 7.040069318s\r\n\r\n**Three(Total time :1749.7357909459999995s)**：\r\nRunning execution q4-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 395.008734361s\r\nRunning execution q14a-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 651.273268132s\r\nRunning execution q14b-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 544.524801175s\r\nRunning execution q25-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 151.95291255s\r\nRunning execution ss_max-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 6.9760747279999995s\r\n\r\nAverage time of three times：(1759.577170773999969 +1734.5941864229999 +1749.7357909459999995 ) / 3 = **1747.969s**\r\n\r\n**After this PR：**\r\n**One(Total time :1751.97129727800003s)**：\r\nRunning execution q4-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 395.34360907900003s\r\nRunning execution q14a-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 658.750893903s\r\nRunning execution q14b-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 539.719277862s\r\nRunning execution q25-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 150.859470327s\r\nRunning execution ss_max-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 7.298046107s\r\n\r\n**Two(Total time :1706.564606477s)**：\r\nRunning execution q4-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 382.847373545s\r\nRunning execution q14a-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 649.87997278s\r\nRunning execution q14b-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 522.374645028s\r\nRunning execution q25-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 143.963793466s\r\nRunning execution ss_max-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 7.498821658s\r\n\r\n**Three(Total time :1732.8683500150001s)**：\r\nRunning execution q4-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 393.625937426s\r\nRunning execution q14a-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 644.5871864950001s\r\nRunning execution q14b-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 542.764517975s\r\nRunning execution q25-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 144.518587871s\r\nRunning execution ss_max-v2.50 iteration: 1, StandardRun=true\r\nExecution time: 7.372120248s\r\n\r\nAverage time of three times：(1751.97129727800003 +1706.564606477 +1732.8683500150001 ) / 3 = **1730.468s**","created_at":"2019-01-30T07:42:09Z","updated_at":"2020-01-02T13:32:40Z","closed_at":"2020-01-02T13:32:40Z","merged_at":null,"merge_commit_sha":"4dc3baa184dc9e0213fef823cc960952e42e35d6","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406605327,"node_id":"MDU6TGFiZWwxNDA2NjA1MzI3","url":"https://api.github.com/repos/apache/spark/labels/SHUFFLE","name":"SHUFFLE","color":"ededed","default":false,"description":null},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23695/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23695/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23695/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/89620927321d3c8e28af0de47889f46c71983c15","head":{"label":"10110346:shufflereadAhead","ref":"shufflereadAhead","sha":"89620927321d3c8e28af0de47889f46c71983c15","user":{"login":"10110346","id":24688163,"node_id":"MDQ6VXNlcjI0Njg4MTYz","avatar_url":"https://avatars.githubusercontent.com/u/24688163?v=4","gravatar_id":"","url":"https://api.github.com/users/10110346","html_url":"https://github.com/10110346","followers_url":"https://api.github.com/users/10110346/followers","following_url":"https://api.github.com/users/10110346/following{/other_user}","gists_url":"https://api.github.com/users/10110346/gists{/gist_id}","starred_url":"https://api.github.com/users/10110346/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/10110346/subscriptions","organizations_url":"https://api.github.com/users/10110346/orgs","repos_url":"https://api.github.com/users/10110346/repos","events_url":"https://api.github.com/users/10110346/events{/privacy}","received_events_url":"https://api.github.com/users/10110346/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":77023032,"node_id":"MDEwOlJlcG9zaXRvcnk3NzAyMzAzMg==","name":"spark","full_name":"10110346/spark","private":false,"owner":{"login":"10110346","id":24688163,"node_id":"MDQ6VXNlcjI0Njg4MTYz","avatar_url":"https://avatars.githubusercontent.com/u/24688163?v=4","gravatar_id":"","url":"https://api.github.com/users/10110346","html_url":"https://github.com/10110346","followers_url":"https://api.github.com/users/10110346/followers","following_url":"https://api.github.com/users/10110346/following{/other_user}","gists_url":"https://api.github.com/users/10110346/gists{/gist_id}","starred_url":"https://api.github.com/users/10110346/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/10110346/subscriptions","organizations_url":"https://api.github.com/users/10110346/orgs","repos_url":"https://api.github.com/users/10110346/repos","events_url":"https://api.github.com/users/10110346/events{/privacy}","received_events_url":"https://api.github.com/users/10110346/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/10110346/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/10110346/spark","forks_url":"https://api.github.com/repos/10110346/spark/forks","keys_url":"https://api.github.com/repos/10110346/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/10110346/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/10110346/spark/teams","hooks_url":"https://api.github.com/repos/10110346/spark/hooks","issue_events_url":"https://api.github.com/repos/10110346/spark/issues/events{/number}","events_url":"https://api.github.com/repos/10110346/spark/events","assignees_url":"https://api.github.com/repos/10110346/spark/assignees{/user}","branches_url":"https://api.github.com/repos/10110346/spark/branches{/branch}","tags_url":"https://api.github.com/repos/10110346/spark/tags","blobs_url":"https://api.github.com/repos/10110346/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/10110346/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/10110346/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/10110346/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/10110346/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/10110346/spark/languages","stargazers_url":"https://api.github.com/repos/10110346/spark/stargazers","contributors_url":"https://api.github.com/repos/10110346/spark/contributors","subscribers_url":"https://api.github.com/repos/10110346/spark/subscribers","subscription_url":"https://api.github.com/repos/10110346/spark/subscription","commits_url":"https://api.github.com/repos/10110346/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/10110346/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/10110346/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/10110346/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/10110346/spark/contents/{+path}","compare_url":"https://api.github.com/repos/10110346/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/10110346/spark/merges","archive_url":"https://api.github.com/repos/10110346/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/10110346/spark/downloads","issues_url":"https://api.github.com/repos/10110346/spark/issues{/number}","pulls_url":"https://api.github.com/repos/10110346/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/10110346/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/10110346/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/10110346/spark/labels{/name}","releases_url":"https://api.github.com/repos/10110346/spark/releases{/id}","deployments_url":"https://api.github.com/repos/10110346/spark/deployments","created_at":"2016-12-21T06:06:02Z","updated_at":"2018-07-31T06:45:30Z","pushed_at":"2019-05-08T10:42:16Z","git_url":"git://github.com/10110346/spark.git","ssh_url":"git@github.com:10110346/spark.git","clone_url":"https://github.com/10110346/spark.git","svn_url":"https://github.com/10110346/spark","homepage":null,"size":289129,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"eec1a3c2862955bf2620d4cc5116fbd86e29952e","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23695"},"html":{"href":"https://github.com/apache/spark/pull/23695"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23695"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23695/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23695/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23695/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/89620927321d3c8e28af0de47889f46c71983c15"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23694","id":248768883,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4NzY4ODgz","html_url":"https://github.com/apache/spark/pull/23694","diff_url":"https://github.com/apache/spark/pull/23694.diff","patch_url":"https://github.com/apache/spark/pull/23694.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23694","number":23694,"state":"closed","locked":false,"title":"[SPARK-24360][SQL] Support Hive 3.1 metastore","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nHive 3.1.1 is released. This PR aims to support Hive 3.1.x metastore.\r\nPlease note that Hive 3.0.0 Metastore is skipped intentionally.\r\n\r\n## How was this patch tested?\r\n\r\nPass the Jenkins with the updated test cases including 3.1.","created_at":"2019-01-30T07:16:36Z","updated_at":"2019-01-31T04:36:52Z","closed_at":"2019-01-31T04:36:52Z","merged_at":null,"merge_commit_sha":"452ac28049852a089e78f3dcfde5e070aa72c476","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23694/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23694/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23694/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9f621e7161088ed90a80c99478679b8356a14c53","head":{"label":"dongjoon-hyun:SPARK-24360-3.1","ref":"SPARK-24360-3.1","sha":"9f621e7161088ed90a80c99478679b8356a14c53","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"7781c6fd7334979b6b4222d2271765219593f08e","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23694"},"html":{"href":"https://github.com/apache/spark/pull/23694"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23694"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23694/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23694/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23694/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9f621e7161088ed90a80c99478679b8356a14c53"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23693","id":248766265,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4NzY2MjY1","html_url":"https://github.com/apache/spark/pull/23693","diff_url":"https://github.com/apache/spark/pull/23693.diff","patch_url":"https://github.com/apache/spark/pull/23693.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23693","number":23693,"state":"closed","locked":false,"title":"[SPARK-26768][CORE]Remove useless code in BlockManager","user":{"login":"liupc","id":6747355,"node_id":"MDQ6VXNlcjY3NDczNTU=","avatar_url":"https://avatars.githubusercontent.com/u/6747355?v=4","gravatar_id":"","url":"https://api.github.com/users/liupc","html_url":"https://github.com/liupc","followers_url":"https://api.github.com/users/liupc/followers","following_url":"https://api.github.com/users/liupc/following{/other_user}","gists_url":"https://api.github.com/users/liupc/gists{/gist_id}","starred_url":"https://api.github.com/users/liupc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liupc/subscriptions","organizations_url":"https://api.github.com/users/liupc/orgs","repos_url":"https://api.github.com/users/liupc/repos","events_url":"https://api.github.com/users/liupc/events{/privacy}","received_events_url":"https://api.github.com/users/liupc/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nRecently, when I was reading some code of `BlockManager.getBlockData`, I found that there are useless code that would never reach. The related codes is as below:\r\n\r\n```\r\noverride def getBlockData(blockId: BlockId): ManagedBuffer = {\r\n  if (blockId.isShuffle) {\r\n    shuffleManager.shuffleBlockResolver.getBlockData(blockId.asInstanceOf[ShuffleBlockId])\r\n  } else {\r\n    getLocalBytes(blockId) match {\r\n      case Some(blockData) =>\r\n        new BlockManagerManagedBuffer(blockInfoManager, blockId, blockData, true)\r\n      case None =>\r\n        // If this block manager receives a request for a block that it doesn't have then it's\r\n        // likely that the master has outdated block statuses for this block. Therefore, we send\r\n        // an RPC so that this block is marked as being unavailable from this block manager.\r\n        reportBlockStatus(blockId, BlockStatus.empty)\r\n        throw new BlockNotFoundException(blockId.toString)\r\n    }\r\n  }\r\n}\r\n```\r\n```\r\ndef getLocalBytes(blockId: BlockId): Option[BlockData] = {\r\n  logDebug(s\"Getting local block $blockId as bytes\")\r\n  // As an optimization for map output fetches, if the block is for a shuffle, return it\r\n  // without acquiring a lock; the disk store never deletes (recent) items so this should work\r\n  if (blockId.isShuffle) {\r\n    val shuffleBlockResolver = shuffleManager.shuffleBlockResolver\r\n    // TODO: This should gracefully handle case where local block is not available. Currently\r\n    // downstream code will throw an exception.\r\n    val buf = new ChunkedByteBuffer(\r\n      shuffleBlockResolver.getBlockData(blockId.asInstanceOf[ShuffleBlockId]).nioByteBuffer())\r\n    Some(new ByteBufferBlockData(buf, true))\r\n  } else {\r\n    blockInfoManager.lockForReading(blockId).map { info => doGetLocalBytes(blockId, info) }\r\n  }\r\n}\r\n```\r\nthe `blockId.isShuffle` is checked twice, but however it seems that in the method calling hierarchy of `BlockManager.getLocalBytes`, the another callsite of the `BlockManager.getLocalBytes` is at `TorrentBroadcast.readBlocks` where the blockId can never be a `ShuffleBlockId`.\r\n\r\n![image](https://user-images.githubusercontent.com/6747355/51963980-1fe55000-24a0-11e9-961a-e10fe67f8119.png)\r\n\r\n\r\nSo I think we should remove these useless code for easy reading.\r\n\r\n## How was this patch tested?\r\n\r\nNA\r\n\r\nPlease review http://spark.apache.org/contributing.html before opening a pull request.\r\n","created_at":"2019-01-30T07:03:28Z","updated_at":"2019-02-05T18:50:30Z","closed_at":"2019-02-05T18:50:30Z","merged_at":null,"merge_commit_sha":"7466f7b823cdccf34a085661b7db8a5847162e93","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23693/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23693/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23693/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b8d68c135e49fcec1e2454b336a2687f877e9a8e","head":{"label":"liupc:Remove-useless-code-in-BlockManager","ref":"Remove-useless-code-in-BlockManager","sha":"b8d68c135e49fcec1e2454b336a2687f877e9a8e","user":{"login":"liupc","id":6747355,"node_id":"MDQ6VXNlcjY3NDczNTU=","avatar_url":"https://avatars.githubusercontent.com/u/6747355?v=4","gravatar_id":"","url":"https://api.github.com/users/liupc","html_url":"https://github.com/liupc","followers_url":"https://api.github.com/users/liupc/followers","following_url":"https://api.github.com/users/liupc/following{/other_user}","gists_url":"https://api.github.com/users/liupc/gists{/gist_id}","starred_url":"https://api.github.com/users/liupc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liupc/subscriptions","organizations_url":"https://api.github.com/users/liupc/orgs","repos_url":"https://api.github.com/users/liupc/repos","events_url":"https://api.github.com/users/liupc/events{/privacy}","received_events_url":"https://api.github.com/users/liupc/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":75380071,"node_id":"MDEwOlJlcG9zaXRvcnk3NTM4MDA3MQ==","name":"spark","full_name":"liupc/spark","private":false,"owner":{"login":"liupc","id":6747355,"node_id":"MDQ6VXNlcjY3NDczNTU=","avatar_url":"https://avatars.githubusercontent.com/u/6747355?v=4","gravatar_id":"","url":"https://api.github.com/users/liupc","html_url":"https://github.com/liupc","followers_url":"https://api.github.com/users/liupc/followers","following_url":"https://api.github.com/users/liupc/following{/other_user}","gists_url":"https://api.github.com/users/liupc/gists{/gist_id}","starred_url":"https://api.github.com/users/liupc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liupc/subscriptions","organizations_url":"https://api.github.com/users/liupc/orgs","repos_url":"https://api.github.com/users/liupc/repos","events_url":"https://api.github.com/users/liupc/events{/privacy}","received_events_url":"https://api.github.com/users/liupc/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/liupc/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/liupc/spark","forks_url":"https://api.github.com/repos/liupc/spark/forks","keys_url":"https://api.github.com/repos/liupc/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/liupc/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/liupc/spark/teams","hooks_url":"https://api.github.com/repos/liupc/spark/hooks","issue_events_url":"https://api.github.com/repos/liupc/spark/issues/events{/number}","events_url":"https://api.github.com/repos/liupc/spark/events","assignees_url":"https://api.github.com/repos/liupc/spark/assignees{/user}","branches_url":"https://api.github.com/repos/liupc/spark/branches{/branch}","tags_url":"https://api.github.com/repos/liupc/spark/tags","blobs_url":"https://api.github.com/repos/liupc/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/liupc/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/liupc/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/liupc/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/liupc/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/liupc/spark/languages","stargazers_url":"https://api.github.com/repos/liupc/spark/stargazers","contributors_url":"https://api.github.com/repos/liupc/spark/contributors","subscribers_url":"https://api.github.com/repos/liupc/spark/subscribers","subscription_url":"https://api.github.com/repos/liupc/spark/subscription","commits_url":"https://api.github.com/repos/liupc/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/liupc/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/liupc/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/liupc/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/liupc/spark/contents/{+path}","compare_url":"https://api.github.com/repos/liupc/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/liupc/spark/merges","archive_url":"https://api.github.com/repos/liupc/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/liupc/spark/downloads","issues_url":"https://api.github.com/repos/liupc/spark/issues{/number}","pulls_url":"https://api.github.com/repos/liupc/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/liupc/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/liupc/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/liupc/spark/labels{/name}","releases_url":"https://api.github.com/repos/liupc/spark/releases{/id}","deployments_url":"https://api.github.com/repos/liupc/spark/deployments","created_at":"2016-12-02T09:14:58Z","updated_at":"2022-10-06T12:49:56Z","pushed_at":"2022-10-06T12:48:15Z","git_url":"git://github.com/liupc/spark.git","ssh_url":"git@github.com:liupc/spark.git","clone_url":"https://github.com/liupc/spark.git","svn_url":"https://github.com/liupc/spark","homepage":null,"size":407435,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c08021cd8734b3cc183e7f65312d14cdaa8541b7","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23693"},"html":{"href":"https://github.com/apache/spark/pull/23693"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23693"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23693/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23693/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23693/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b8d68c135e49fcec1e2454b336a2687f877e9a8e"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23692","id":248760140,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4NzYwMTQw","html_url":"https://github.com/apache/spark/pull/23692","diff_url":"https://github.com/apache/spark/pull/23692.diff","patch_url":"https://github.com/apache/spark/pull/23692.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23692","number":23692,"state":"closed","locked":false,"title":"[SPARK-26448][SQL][followup] should not normalize grouping expressions for final aggregate","user":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nA followup of https://github.com/apache/spark/pull/23388 .\r\n\r\n`AggUtils.createAggregate` is not the right place to normalize the grouping expressions, as final aggregate is also created by it. The grouping expressions of final aggregate should be attributes which refer to the grouping expressions in partial aggregate.\r\n\r\nThis PR moves the normalization to the caller side of `AggUtils`.\r\n\r\n## How was this patch tested?\r\n\r\nexisting tests","created_at":"2019-01-30T06:30:31Z","updated_at":"2019-01-31T08:23:31Z","closed_at":"2019-01-31T08:23:31Z","merged_at":null,"merge_commit_sha":"dfe90919acd74c127a100e6fbc88b34dd0e04fb3","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23692/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23692/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23692/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/5a2c7e692f7e1070b344c92ecb144cce45c44658","head":{"label":"cloud-fan:follow","ref":"follow","sha":"5a2c7e692f7e1070b344c92ecb144cce45c44658","user":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":19689699,"node_id":"MDEwOlJlcG9zaXRvcnkxOTY4OTY5OQ==","name":"spark","full_name":"cloud-fan/spark","private":false,"owner":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/cloud-fan/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/cloud-fan/spark","forks_url":"https://api.github.com/repos/cloud-fan/spark/forks","keys_url":"https://api.github.com/repos/cloud-fan/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cloud-fan/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cloud-fan/spark/teams","hooks_url":"https://api.github.com/repos/cloud-fan/spark/hooks","issue_events_url":"https://api.github.com/repos/cloud-fan/spark/issues/events{/number}","events_url":"https://api.github.com/repos/cloud-fan/spark/events","assignees_url":"https://api.github.com/repos/cloud-fan/spark/assignees{/user}","branches_url":"https://api.github.com/repos/cloud-fan/spark/branches{/branch}","tags_url":"https://api.github.com/repos/cloud-fan/spark/tags","blobs_url":"https://api.github.com/repos/cloud-fan/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cloud-fan/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cloud-fan/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/cloud-fan/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cloud-fan/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/cloud-fan/spark/languages","stargazers_url":"https://api.github.com/repos/cloud-fan/spark/stargazers","contributors_url":"https://api.github.com/repos/cloud-fan/spark/contributors","subscribers_url":"https://api.github.com/repos/cloud-fan/spark/subscribers","subscription_url":"https://api.github.com/repos/cloud-fan/spark/subscription","commits_url":"https://api.github.com/repos/cloud-fan/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/cloud-fan/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/cloud-fan/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/cloud-fan/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/cloud-fan/spark/contents/{+path}","compare_url":"https://api.github.com/repos/cloud-fan/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cloud-fan/spark/merges","archive_url":"https://api.github.com/repos/cloud-fan/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cloud-fan/spark/downloads","issues_url":"https://api.github.com/repos/cloud-fan/spark/issues{/number}","pulls_url":"https://api.github.com/repos/cloud-fan/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/cloud-fan/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/cloud-fan/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cloud-fan/spark/labels{/name}","releases_url":"https://api.github.com/repos/cloud-fan/spark/releases{/id}","deployments_url":"https://api.github.com/repos/cloud-fan/spark/deployments","created_at":"2014-05-12T07:32:26Z","updated_at":"2022-06-21T07:59:41Z","pushed_at":"2025-02-07T13:15:09Z","git_url":"git://github.com/cloud-fan/spark.git","ssh_url":"git@github.com:cloud-fan/spark.git","clone_url":"https://github.com/cloud-fan/spark.git","svn_url":"https://github.com/cloud-fan/spark","homepage":null,"size":467110,"stargazers_count":3,"watchers_count":3,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":3,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"7781c6fd7334979b6b4222d2271765219593f08e","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23692"},"html":{"href":"https://github.com/apache/spark/pull/23692"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23692"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23692/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23692/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23692/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/5a2c7e692f7e1070b344c92ecb144cce45c44658"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23691","id":248728223,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4NzI4MjIz","html_url":"https://github.com/apache/spark/pull/23691","diff_url":"https://github.com/apache/spark/pull/23691.diff","patch_url":"https://github.com/apache/spark/pull/23691.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23691","number":23691,"state":"closed","locked":false,"title":"[DOC][MINOR] Add metrics instance 'mesos_cluster' to monitoring doc","user":{"login":"SongYadong","id":32285857,"node_id":"MDQ6VXNlcjMyMjg1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/32285857?v=4","gravatar_id":"","url":"https://api.github.com/users/SongYadong","html_url":"https://github.com/SongYadong","followers_url":"https://api.github.com/users/SongYadong/followers","following_url":"https://api.github.com/users/SongYadong/following{/other_user}","gists_url":"https://api.github.com/users/SongYadong/gists{/gist_id}","starred_url":"https://api.github.com/users/SongYadong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SongYadong/subscriptions","organizations_url":"https://api.github.com/users/SongYadong/orgs","repos_url":"https://api.github.com/users/SongYadong/repos","events_url":"https://api.github.com/users/SongYadong/events{/privacy}","received_events_url":"https://api.github.com/users/SongYadong/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nMetrics instance \"mesos_cluster\" exists in spark, but not mentioned in monitoring.md. This PR add it.\r\n\r\n## How was this patch tested?\r\n\r\nManually test.","created_at":"2019-01-30T02:52:35Z","updated_at":"2019-02-01T00:33:46Z","closed_at":"2019-02-01T00:33:46Z","merged_at":null,"merge_commit_sha":"4f7792c7cffdbadb01db774d0e4dbad610412cdc","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23691/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23691/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23691/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/8bb3f52ae2e930cfa611c82a3982409682f558a4","head":{"label":"SongYadong:doc_mesos_metrics_inst","ref":"doc_mesos_metrics_inst","sha":"8bb3f52ae2e930cfa611c82a3982409682f558a4","user":{"login":"SongYadong","id":32285857,"node_id":"MDQ6VXNlcjMyMjg1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/32285857?v=4","gravatar_id":"","url":"https://api.github.com/users/SongYadong","html_url":"https://github.com/SongYadong","followers_url":"https://api.github.com/users/SongYadong/followers","following_url":"https://api.github.com/users/SongYadong/following{/other_user}","gists_url":"https://api.github.com/users/SongYadong/gists{/gist_id}","starred_url":"https://api.github.com/users/SongYadong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SongYadong/subscriptions","organizations_url":"https://api.github.com/users/SongYadong/orgs","repos_url":"https://api.github.com/users/SongYadong/repos","events_url":"https://api.github.com/users/SongYadong/events{/privacy}","received_events_url":"https://api.github.com/users/SongYadong/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":109395803,"node_id":"MDEwOlJlcG9zaXRvcnkxMDkzOTU4MDM=","name":"spark","full_name":"SongYadong/spark","private":false,"owner":{"login":"SongYadong","id":32285857,"node_id":"MDQ6VXNlcjMyMjg1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/32285857?v=4","gravatar_id":"","url":"https://api.github.com/users/SongYadong","html_url":"https://github.com/SongYadong","followers_url":"https://api.github.com/users/SongYadong/followers","following_url":"https://api.github.com/users/SongYadong/following{/other_user}","gists_url":"https://api.github.com/users/SongYadong/gists{/gist_id}","starred_url":"https://api.github.com/users/SongYadong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SongYadong/subscriptions","organizations_url":"https://api.github.com/users/SongYadong/orgs","repos_url":"https://api.github.com/users/SongYadong/repos","events_url":"https://api.github.com/users/SongYadong/events{/privacy}","received_events_url":"https://api.github.com/users/SongYadong/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/SongYadong/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/SongYadong/spark","forks_url":"https://api.github.com/repos/SongYadong/spark/forks","keys_url":"https://api.github.com/repos/SongYadong/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/SongYadong/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/SongYadong/spark/teams","hooks_url":"https://api.github.com/repos/SongYadong/spark/hooks","issue_events_url":"https://api.github.com/repos/SongYadong/spark/issues/events{/number}","events_url":"https://api.github.com/repos/SongYadong/spark/events","assignees_url":"https://api.github.com/repos/SongYadong/spark/assignees{/user}","branches_url":"https://api.github.com/repos/SongYadong/spark/branches{/branch}","tags_url":"https://api.github.com/repos/SongYadong/spark/tags","blobs_url":"https://api.github.com/repos/SongYadong/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/SongYadong/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/SongYadong/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/SongYadong/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/SongYadong/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/SongYadong/spark/languages","stargazers_url":"https://api.github.com/repos/SongYadong/spark/stargazers","contributors_url":"https://api.github.com/repos/SongYadong/spark/contributors","subscribers_url":"https://api.github.com/repos/SongYadong/spark/subscribers","subscription_url":"https://api.github.com/repos/SongYadong/spark/subscription","commits_url":"https://api.github.com/repos/SongYadong/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/SongYadong/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/SongYadong/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/SongYadong/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/SongYadong/spark/contents/{+path}","compare_url":"https://api.github.com/repos/SongYadong/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/SongYadong/spark/merges","archive_url":"https://api.github.com/repos/SongYadong/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/SongYadong/spark/downloads","issues_url":"https://api.github.com/repos/SongYadong/spark/issues{/number}","pulls_url":"https://api.github.com/repos/SongYadong/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/SongYadong/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/SongYadong/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/SongYadong/spark/labels{/name}","releases_url":"https://api.github.com/repos/SongYadong/spark/releases{/id}","deployments_url":"https://api.github.com/repos/SongYadong/spark/deployments","created_at":"2017-11-03T12:58:44Z","updated_at":"2019-03-21T02:43:20Z","pushed_at":"2019-03-21T02:43:09Z","git_url":"git://github.com/SongYadong/spark.git","ssh_url":"git@github.com:SongYadong/spark.git","clone_url":"https://github.com/SongYadong/spark.git","svn_url":"https://github.com/SongYadong/spark","homepage":null,"size":292383,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"fbc3c5e8a33c28e46d839a2d1db81d9a89b29327","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23691"},"html":{"href":"https://github.com/apache/spark/pull/23691"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23691"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23691/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23691/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23691/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/8bb3f52ae2e930cfa611c82a3982409682f558a4"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23690","id":248726129,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4NzI2MTI5","html_url":"https://github.com/apache/spark/pull/23690","diff_url":"https://github.com/apache/spark/pull/23690.diff","patch_url":"https://github.com/apache/spark/pull/23690.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23690","number":23690,"state":"closed","locked":false,"title":"[SPARK-26776][PYTHON] Reduce Py4J communication cost in PySpark's execution barrier check","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nI am investigating flaky tests. I realised that:\r\n\r\n```\r\n      File \"/home/jenkins/workspace/SparkPullRequestBuilder/python/pyspark/rdd.py\", line 2512, in __init__\r\n        self.is_barrier = prev._is_barrier() or isFromBarrier\r\n      File \"/home/jenkins/workspace/SparkPullRequestBuilder/python/pyspark/rdd.py\", line 2412, in _is_barrier\r\n        return self._jrdd.rdd().isBarrier()\r\n      File \"/home/jenkins/workspace/SparkPullRequestBuilder/python/lib/py4j-0.10.8.1-src.zip/py4j/java_gateway.py\", line 1286, in __call__\r\n        answer, self.gateway_client, self.target_id, self.name)\r\n      File \"/home/jenkins/workspace/SparkPullRequestBuilder/python/lib/py4j-0.10.8.1-src.zip/py4j/protocol.py\", line 342, in get_return_value\r\n        return OUTPUT_CONVERTER[type](answer[2:], gateway_client)\r\n      File \"/home/jenkins/workspace/SparkPullRequestBuilder/python/lib/py4j-0.10.8.1-src.zip/py4j/java_gateway.py\", line 2492, in <lambda>\r\n        lambda target_id, gateway_client: JavaObject(target_id, gateway_client))\r\n      File \"/home/jenkins/workspace/SparkPullRequestBuilder/python/lib/py4j-0.10.8.1-src.zip/py4j/java_gateway.py\", line 1324, in __init__\r\n        ThreadSafeFinalizer.add_finalizer(key, value)\r\n      File \"/home/jenkins/workspace/SparkPullRequestBuilder/python/lib/py4j-0.10.8.1-src.zip/py4j/finalizer.py\", line 43, in add_finalizer\r\n        cls.finalizers[id] = weak_ref\r\n      File \"/usr/lib64/pypy-2.5.1/lib-python/2.7/threading.py\", line 216, in __exit__\r\n        self.release()\r\n      File \"/usr/lib64/pypy-2.5.1/lib-python/2.7/threading.py\", line 208, in release\r\n        self.__block.release()\r\n    error: release unlocked lock\r\n```\r\n\r\nI assume it might not be directly related with the test itself but I noticed that it `prev._is_barrier()` attempts to access via Py4J.\r\n\r\nAccessing via Py4J is expensive. Therefore, this PR proposes to avoid Py4J access when `isFromBarrier` is `True`.\r\n\r\n## How was this patch tested?\r\n\r\nUnittests should cover this.\r\n","created_at":"2019-01-30T02:38:23Z","updated_at":"2020-03-03T01:20:04Z","closed_at":"2019-01-30T04:28:13Z","merged_at":null,"merge_commit_sha":"19d08aa51f29973c72385ac14bb2aa18e2c09b05","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23690/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23690/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23690/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/0c2ef0eb2ec6c9530504df7530d5f7a476ce58c5","head":{"label":"HyukjinKwon:minor-barrier","ref":"minor-barrier","sha":"0c2ef0eb2ec6c9530504df7530d5f7a476ce58c5","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"fbc3c5e8a33c28e46d839a2d1db81d9a89b29327","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23690"},"html":{"href":"https://github.com/apache/spark/pull/23690"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23690"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23690/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23690/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23690/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/0c2ef0eb2ec6c9530504df7530d5f7a476ce58c5"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23689","id":248676448,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4Njc2NDQ4","html_url":"https://github.com/apache/spark/pull/23689","diff_url":"https://github.com/apache/spark/pull/23689.diff","patch_url":"https://github.com/apache/spark/pull/23689.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23689","number":23689,"state":"closed","locked":false,"title":"[SPARK-25689][core] Follow up: don't get delegation tokens when kerberos not available.","user":{"login":"vanzin","id":1694083,"node_id":"MDQ6VXNlcjE2OTQwODM=","avatar_url":"https://avatars.githubusercontent.com/u/1694083?v=4","gravatar_id":"","url":"https://api.github.com/users/vanzin","html_url":"https://github.com/vanzin","followers_url":"https://api.github.com/users/vanzin/followers","following_url":"https://api.github.com/users/vanzin/following{/other_user}","gists_url":"https://api.github.com/users/vanzin/gists{/gist_id}","starred_url":"https://api.github.com/users/vanzin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vanzin/subscriptions","organizations_url":"https://api.github.com/users/vanzin/orgs","repos_url":"https://api.github.com/users/vanzin/repos","events_url":"https://api.github.com/users/vanzin/events{/privacy}","received_events_url":"https://api.github.com/users/vanzin/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\nThis avoids trying to get delegation tokens when a TGT is not available, e.g.\r\nwhen running in yarn-cluster mode without a keytab. That would result in an\r\nerror since that is not allowed.\r\n\r\nTested with some (internal) integration tests that started failing with the\r\npatch for SPARK-25689.","created_at":"2019-01-29T22:12:48Z","updated_at":"2019-01-31T18:08:22Z","closed_at":"2019-01-30T17:56:34Z","merged_at":null,"merge_commit_sha":"9d9d9dadc7ee519de62b02a59558df1db85d9778","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23689/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23689/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23689/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/e269e2abb4d5cee9e38f01914114cee2bf6ef718","head":{"label":"vanzin:SPARK-25689.followup","ref":"SPARK-25689.followup","sha":"e269e2abb4d5cee9e38f01914114cee2bf6ef718","user":{"login":"vanzin","id":1694083,"node_id":"MDQ6VXNlcjE2OTQwODM=","avatar_url":"https://avatars.githubusercontent.com/u/1694083?v=4","gravatar_id":"","url":"https://api.github.com/users/vanzin","html_url":"https://github.com/vanzin","followers_url":"https://api.github.com/users/vanzin/followers","following_url":"https://api.github.com/users/vanzin/following{/other_user}","gists_url":"https://api.github.com/users/vanzin/gists{/gist_id}","starred_url":"https://api.github.com/users/vanzin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vanzin/subscriptions","organizations_url":"https://api.github.com/users/vanzin/orgs","repos_url":"https://api.github.com/users/vanzin/repos","events_url":"https://api.github.com/users/vanzin/events{/privacy}","received_events_url":"https://api.github.com/users/vanzin/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":18302272,"node_id":"MDEwOlJlcG9zaXRvcnkxODMwMjI3Mg==","name":"spark","full_name":"vanzin/spark","private":false,"owner":{"login":"vanzin","id":1694083,"node_id":"MDQ6VXNlcjE2OTQwODM=","avatar_url":"https://avatars.githubusercontent.com/u/1694083?v=4","gravatar_id":"","url":"https://api.github.com/users/vanzin","html_url":"https://github.com/vanzin","followers_url":"https://api.github.com/users/vanzin/followers","following_url":"https://api.github.com/users/vanzin/following{/other_user}","gists_url":"https://api.github.com/users/vanzin/gists{/gist_id}","starred_url":"https://api.github.com/users/vanzin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vanzin/subscriptions","organizations_url":"https://api.github.com/users/vanzin/orgs","repos_url":"https://api.github.com/users/vanzin/repos","events_url":"https://api.github.com/users/vanzin/events{/privacy}","received_events_url":"https://api.github.com/users/vanzin/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/vanzin/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/vanzin/spark","forks_url":"https://api.github.com/repos/vanzin/spark/forks","keys_url":"https://api.github.com/repos/vanzin/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/vanzin/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/vanzin/spark/teams","hooks_url":"https://api.github.com/repos/vanzin/spark/hooks","issue_events_url":"https://api.github.com/repos/vanzin/spark/issues/events{/number}","events_url":"https://api.github.com/repos/vanzin/spark/events","assignees_url":"https://api.github.com/repos/vanzin/spark/assignees{/user}","branches_url":"https://api.github.com/repos/vanzin/spark/branches{/branch}","tags_url":"https://api.github.com/repos/vanzin/spark/tags","blobs_url":"https://api.github.com/repos/vanzin/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/vanzin/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/vanzin/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/vanzin/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/vanzin/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/vanzin/spark/languages","stargazers_url":"https://api.github.com/repos/vanzin/spark/stargazers","contributors_url":"https://api.github.com/repos/vanzin/spark/contributors","subscribers_url":"https://api.github.com/repos/vanzin/spark/subscribers","subscription_url":"https://api.github.com/repos/vanzin/spark/subscription","commits_url":"https://api.github.com/repos/vanzin/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/vanzin/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/vanzin/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/vanzin/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/vanzin/spark/contents/{+path}","compare_url":"https://api.github.com/repos/vanzin/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/vanzin/spark/merges","archive_url":"https://api.github.com/repos/vanzin/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/vanzin/spark/downloads","issues_url":"https://api.github.com/repos/vanzin/spark/issues{/number}","pulls_url":"https://api.github.com/repos/vanzin/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/vanzin/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/vanzin/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/vanzin/spark/labels{/name}","releases_url":"https://api.github.com/repos/vanzin/spark/releases{/id}","deployments_url":"https://api.github.com/repos/vanzin/spark/deployments","created_at":"2014-03-31T17:49:25Z","updated_at":"2018-01-06T03:57:54Z","pushed_at":"2020-01-24T16:55:58Z","git_url":"git://github.com/vanzin/spark.git","ssh_url":"git@github.com:vanzin/spark.git","clone_url":"https://github.com/vanzin/spark.git","svn_url":"https://github.com/vanzin/spark","homepage":null,"size":287134,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"fbc3c5e8a33c28e46d839a2d1db81d9a89b29327","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23689"},"html":{"href":"https://github.com/apache/spark/pull/23689"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23689"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23689/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23689/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23689/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/e269e2abb4d5cee9e38f01914114cee2bf6ef718"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23688","id":248659359,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4NjU5MzU5","html_url":"https://github.com/apache/spark/pull/23688","diff_url":"https://github.com/apache/spark/pull/23688.diff","patch_url":"https://github.com/apache/spark/pull/23688.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23688","number":23688,"state":"closed","locked":false,"title":"[SPARK-25035][Core] Avoiding memory mapping at disk-stored blocks replication","user":{"login":"attilapiros","id":2017933,"node_id":"MDQ6VXNlcjIwMTc5MzM=","avatar_url":"https://avatars.githubusercontent.com/u/2017933?v=4","gravatar_id":"","url":"https://api.github.com/users/attilapiros","html_url":"https://github.com/attilapiros","followers_url":"https://api.github.com/users/attilapiros/followers","following_url":"https://api.github.com/users/attilapiros/following{/other_user}","gists_url":"https://api.github.com/users/attilapiros/gists{/gist_id}","starred_url":"https://api.github.com/users/attilapiros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/attilapiros/subscriptions","organizations_url":"https://api.github.com/users/attilapiros/orgs","repos_url":"https://api.github.com/users/attilapiros/repos","events_url":"https://api.github.com/users/attilapiros/events{/privacy}","received_events_url":"https://api.github.com/users/attilapiros/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nBefore this PR the method `BlockManager#putBlockDataAsStream()` (which is used during block replication where the block data is received as a stream) was reading the whole block content into the memory even at DISK_ONLY storage level. \r\n\r\nWith this change the received block data (which was temporary stored in a file) is just simply moved into the right location backing the target block. This way a possible OOM error is avoided.\r\n\r\nIn this implementation to save code duplications the method `doPutBytes` is refactored into a template method called `BlockStoreUpdater` which has a separate implementation to handle byte buffer based and temporary file based block store updates.\r\n\r\n## How was this patch tested?\r\n\r\nWith existing unit tests of `DistributedSuite` (the ones dealing with replications):\r\n- caching on disk, replicated (encryption = off) (with replication as stream)\r\n- caching on disk, replicated (encryption = on) (with replication as stream)\r\n- caching in memory, serialized, replicated (encryption = on) (with replication as stream)\r\n- caching in memory, serialized, replicated (encryption = off) (with replication as stream)\r\n- etc.\r\n\r\nAnd with new unit tests testing `putBlockDataAsStream` method directly:\r\n- test putBlockDataAsStream with caching (encryption = off) \r\n- test putBlockDataAsStream with caching (encryption = on) \r\n- test putBlockDataAsStream with caching on disk (encryption = off) \r\n- test putBlockDataAsStream with caching on disk (encryption = on) \r\n","created_at":"2019-01-29T21:12:39Z","updated_at":"2019-02-25T19:47:34Z","closed_at":"2019-02-25T19:47:34Z","merged_at":null,"merge_commit_sha":"0c4283a11cc6c90b08ad625612a2ab9c5e8034dd","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23688/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23688/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23688/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9d158c1dab3b61ec43810a229a5e3b86f519b266","head":{"label":"attilapiros:SPARK-25035","ref":"SPARK-25035","sha":"9d158c1dab3b61ec43810a229a5e3b86f519b266","user":{"login":"attilapiros","id":2017933,"node_id":"MDQ6VXNlcjIwMTc5MzM=","avatar_url":"https://avatars.githubusercontent.com/u/2017933?v=4","gravatar_id":"","url":"https://api.github.com/users/attilapiros","html_url":"https://github.com/attilapiros","followers_url":"https://api.github.com/users/attilapiros/followers","following_url":"https://api.github.com/users/attilapiros/following{/other_user}","gists_url":"https://api.github.com/users/attilapiros/gists{/gist_id}","starred_url":"https://api.github.com/users/attilapiros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/attilapiros/subscriptions","organizations_url":"https://api.github.com/users/attilapiros/orgs","repos_url":"https://api.github.com/users/attilapiros/repos","events_url":"https://api.github.com/users/attilapiros/events{/privacy}","received_events_url":"https://api.github.com/users/attilapiros/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":114023960,"node_id":"MDEwOlJlcG9zaXRvcnkxMTQwMjM5NjA=","name":"spark","full_name":"attilapiros/spark","private":false,"owner":{"login":"attilapiros","id":2017933,"node_id":"MDQ6VXNlcjIwMTc5MzM=","avatar_url":"https://avatars.githubusercontent.com/u/2017933?v=4","gravatar_id":"","url":"https://api.github.com/users/attilapiros","html_url":"https://github.com/attilapiros","followers_url":"https://api.github.com/users/attilapiros/followers","following_url":"https://api.github.com/users/attilapiros/following{/other_user}","gists_url":"https://api.github.com/users/attilapiros/gists{/gist_id}","starred_url":"https://api.github.com/users/attilapiros/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/attilapiros/subscriptions","organizations_url":"https://api.github.com/users/attilapiros/orgs","repos_url":"https://api.github.com/users/attilapiros/repos","events_url":"https://api.github.com/users/attilapiros/events{/privacy}","received_events_url":"https://api.github.com/users/attilapiros/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/attilapiros/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/attilapiros/spark","forks_url":"https://api.github.com/repos/attilapiros/spark/forks","keys_url":"https://api.github.com/repos/attilapiros/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/attilapiros/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/attilapiros/spark/teams","hooks_url":"https://api.github.com/repos/attilapiros/spark/hooks","issue_events_url":"https://api.github.com/repos/attilapiros/spark/issues/events{/number}","events_url":"https://api.github.com/repos/attilapiros/spark/events","assignees_url":"https://api.github.com/repos/attilapiros/spark/assignees{/user}","branches_url":"https://api.github.com/repos/attilapiros/spark/branches{/branch}","tags_url":"https://api.github.com/repos/attilapiros/spark/tags","blobs_url":"https://api.github.com/repos/attilapiros/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/attilapiros/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/attilapiros/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/attilapiros/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/attilapiros/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/attilapiros/spark/languages","stargazers_url":"https://api.github.com/repos/attilapiros/spark/stargazers","contributors_url":"https://api.github.com/repos/attilapiros/spark/contributors","subscribers_url":"https://api.github.com/repos/attilapiros/spark/subscribers","subscription_url":"https://api.github.com/repos/attilapiros/spark/subscription","commits_url":"https://api.github.com/repos/attilapiros/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/attilapiros/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/attilapiros/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/attilapiros/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/attilapiros/spark/contents/{+path}","compare_url":"https://api.github.com/repos/attilapiros/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/attilapiros/spark/merges","archive_url":"https://api.github.com/repos/attilapiros/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/attilapiros/spark/downloads","issues_url":"https://api.github.com/repos/attilapiros/spark/issues{/number}","pulls_url":"https://api.github.com/repos/attilapiros/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/attilapiros/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/attilapiros/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/attilapiros/spark/labels{/name}","releases_url":"https://api.github.com/repos/attilapiros/spark/releases{/id}","deployments_url":"https://api.github.com/repos/attilapiros/spark/deployments","created_at":"2017-12-12T18:15:59Z","updated_at":"2024-10-24T21:08:52Z","pushed_at":"2024-10-29T03:59:48Z","git_url":"git://github.com/attilapiros/spark.git","ssh_url":"git@github.com:attilapiros/spark.git","clone_url":"https://github.com/attilapiros/spark.git","svn_url":"https://github.com/attilapiros/spark","homepage":null,"size":464315,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":2,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"6b3c832dacbc724e6e4e60b3009d165ad281fbaf","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23688"},"html":{"href":"https://github.com/apache/spark/pull/23688"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23688"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23688/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23688/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23688/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9d158c1dab3b61ec43810a229a5e3b86f519b266"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23687","id":248565118,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4NTY1MTE4","html_url":"https://github.com/apache/spark/pull/23687","diff_url":"https://github.com/apache/spark/pull/23687.diff","patch_url":"https://github.com/apache/spark/pull/23687.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23687","number":23687,"state":"closed","locked":false,"title":"[SPARK-26708][SQL][followup] put the special handling of non-cascade uncache in the uncache method","user":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThis is a follow up of https://github.com/apache/spark/pull/23644/files , to make these methods less coupled with each other.\r\n\r\n## How was this patch tested?\r\n\r\nexisting tests","created_at":"2019-01-29T16:09:10Z","updated_at":"2019-01-31T03:08:05Z","closed_at":"2019-01-31T03:08:05Z","merged_at":null,"merge_commit_sha":"2427e8362fb5846768eeb3d659fe04e03f61f253","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23687/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23687/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23687/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/2cf4d25e33a166ce131035f0452987f0f7f36c88","head":{"label":"cloud-fan:cache","ref":"cache","sha":"2cf4d25e33a166ce131035f0452987f0f7f36c88","user":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":19689699,"node_id":"MDEwOlJlcG9zaXRvcnkxOTY4OTY5OQ==","name":"spark","full_name":"cloud-fan/spark","private":false,"owner":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/cloud-fan/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/cloud-fan/spark","forks_url":"https://api.github.com/repos/cloud-fan/spark/forks","keys_url":"https://api.github.com/repos/cloud-fan/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cloud-fan/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cloud-fan/spark/teams","hooks_url":"https://api.github.com/repos/cloud-fan/spark/hooks","issue_events_url":"https://api.github.com/repos/cloud-fan/spark/issues/events{/number}","events_url":"https://api.github.com/repos/cloud-fan/spark/events","assignees_url":"https://api.github.com/repos/cloud-fan/spark/assignees{/user}","branches_url":"https://api.github.com/repos/cloud-fan/spark/branches{/branch}","tags_url":"https://api.github.com/repos/cloud-fan/spark/tags","blobs_url":"https://api.github.com/repos/cloud-fan/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cloud-fan/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cloud-fan/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/cloud-fan/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cloud-fan/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/cloud-fan/spark/languages","stargazers_url":"https://api.github.com/repos/cloud-fan/spark/stargazers","contributors_url":"https://api.github.com/repos/cloud-fan/spark/contributors","subscribers_url":"https://api.github.com/repos/cloud-fan/spark/subscribers","subscription_url":"https://api.github.com/repos/cloud-fan/spark/subscription","commits_url":"https://api.github.com/repos/cloud-fan/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/cloud-fan/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/cloud-fan/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/cloud-fan/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/cloud-fan/spark/contents/{+path}","compare_url":"https://api.github.com/repos/cloud-fan/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cloud-fan/spark/merges","archive_url":"https://api.github.com/repos/cloud-fan/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cloud-fan/spark/downloads","issues_url":"https://api.github.com/repos/cloud-fan/spark/issues{/number}","pulls_url":"https://api.github.com/repos/cloud-fan/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/cloud-fan/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/cloud-fan/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cloud-fan/spark/labels{/name}","releases_url":"https://api.github.com/repos/cloud-fan/spark/releases{/id}","deployments_url":"https://api.github.com/repos/cloud-fan/spark/deployments","created_at":"2014-05-12T07:32:26Z","updated_at":"2022-06-21T07:59:41Z","pushed_at":"2025-02-07T13:15:09Z","git_url":"git://github.com/cloud-fan/spark.git","ssh_url":"git@github.com:cloud-fan/spark.git","clone_url":"https://github.com/cloud-fan/spark.git","svn_url":"https://github.com/cloud-fan/spark","homepage":null,"size":467110,"stargazers_count":3,"watchers_count":3,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":3,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1beed0d7c253da4fde12bfeea96cc0fbcc1aae25","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23687"},"html":{"href":"https://github.com/apache/spark/pull/23687"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23687"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23687/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23687/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23687/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/2cf4d25e33a166ce131035f0452987f0f7f36c88"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23686","id":248536999,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4NTM2OTk5","html_url":"https://github.com/apache/spark/pull/23686","diff_url":"https://github.com/apache/spark/pull/23686.diff","patch_url":"https://github.com/apache/spark/pull/23686.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23686","number":23686,"state":"closed","locked":false,"title":"[SPARK-26772][YARN] Delete ServiceCredentialProvider and make HadoopDelegationTokenProvider a developer API","user":{"login":"gaborgsomogyi","id":18561820,"node_id":"MDQ6VXNlcjE4NTYxODIw","avatar_url":"https://avatars.githubusercontent.com/u/18561820?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborgsomogyi","html_url":"https://github.com/gaborgsomogyi","followers_url":"https://api.github.com/users/gaborgsomogyi/followers","following_url":"https://api.github.com/users/gaborgsomogyi/following{/other_user}","gists_url":"https://api.github.com/users/gaborgsomogyi/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborgsomogyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborgsomogyi/subscriptions","organizations_url":"https://api.github.com/users/gaborgsomogyi/orgs","repos_url":"https://api.github.com/users/gaborgsomogyi/repos","events_url":"https://api.github.com/users/gaborgsomogyi/events{/privacy}","received_events_url":"https://api.github.com/users/gaborgsomogyi/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\n`HadoopDelegationTokenProvider` has basically the same functionality just like `ServiceCredentialProvider` so the interfaces can be merged.\r\n\r\n`YARNHadoopDelegationTokenManager` now loads `ServiceCredentialProvider`s in one step. The drawback of this if one provider fails all others are not loaded. `HadoopDelegationTokenManager` loads `HadoopDelegationTokenProvider`s independently so it provides more robust behaviour.\r\n\r\nIn this PR I've I've made the following changes:\r\n* Deleted `YARNHadoopDelegationTokenManager` and `ServiceCredentialProvider`\r\n* Made `HadoopDelegationTokenProvider` a `@DeveloperApi`\r\n\r\n## How was this patch tested?\r\n\r\nExisting unit tests.\r\n","created_at":"2019-01-29T14:56:47Z","updated_at":"2019-02-15T22:46:29Z","closed_at":"2019-02-15T22:46:29Z","merged_at":null,"merge_commit_sha":"9b3fc51555d3a50e42094653907e4f72e89beafe","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23686/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23686/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23686/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/73f1dd9cd9a46b9de843309e700056d1375e1440","head":{"label":"gaborgsomogyi:SPARK-26772","ref":"SPARK-26772","sha":"73f1dd9cd9a46b9de843309e700056d1375e1440","user":{"login":"gaborgsomogyi","id":18561820,"node_id":"MDQ6VXNlcjE4NTYxODIw","avatar_url":"https://avatars.githubusercontent.com/u/18561820?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborgsomogyi","html_url":"https://github.com/gaborgsomogyi","followers_url":"https://api.github.com/users/gaborgsomogyi/followers","following_url":"https://api.github.com/users/gaborgsomogyi/following{/other_user}","gists_url":"https://api.github.com/users/gaborgsomogyi/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborgsomogyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborgsomogyi/subscriptions","organizations_url":"https://api.github.com/users/gaborgsomogyi/orgs","repos_url":"https://api.github.com/users/gaborgsomogyi/repos","events_url":"https://api.github.com/users/gaborgsomogyi/events{/privacy}","received_events_url":"https://api.github.com/users/gaborgsomogyi/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":111547097,"node_id":"MDEwOlJlcG9zaXRvcnkxMTE1NDcwOTc=","name":"spark","full_name":"gaborgsomogyi/spark","private":false,"owner":{"login":"gaborgsomogyi","id":18561820,"node_id":"MDQ6VXNlcjE4NTYxODIw","avatar_url":"https://avatars.githubusercontent.com/u/18561820?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborgsomogyi","html_url":"https://github.com/gaborgsomogyi","followers_url":"https://api.github.com/users/gaborgsomogyi/followers","following_url":"https://api.github.com/users/gaborgsomogyi/following{/other_user}","gists_url":"https://api.github.com/users/gaborgsomogyi/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborgsomogyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborgsomogyi/subscriptions","organizations_url":"https://api.github.com/users/gaborgsomogyi/orgs","repos_url":"https://api.github.com/users/gaborgsomogyi/repos","events_url":"https://api.github.com/users/gaborgsomogyi/events{/privacy}","received_events_url":"https://api.github.com/users/gaborgsomogyi/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/gaborgsomogyi/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/gaborgsomogyi/spark","forks_url":"https://api.github.com/repos/gaborgsomogyi/spark/forks","keys_url":"https://api.github.com/repos/gaborgsomogyi/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/gaborgsomogyi/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/gaborgsomogyi/spark/teams","hooks_url":"https://api.github.com/repos/gaborgsomogyi/spark/hooks","issue_events_url":"https://api.github.com/repos/gaborgsomogyi/spark/issues/events{/number}","events_url":"https://api.github.com/repos/gaborgsomogyi/spark/events","assignees_url":"https://api.github.com/repos/gaborgsomogyi/spark/assignees{/user}","branches_url":"https://api.github.com/repos/gaborgsomogyi/spark/branches{/branch}","tags_url":"https://api.github.com/repos/gaborgsomogyi/spark/tags","blobs_url":"https://api.github.com/repos/gaborgsomogyi/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/gaborgsomogyi/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/gaborgsomogyi/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/gaborgsomogyi/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/gaborgsomogyi/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/gaborgsomogyi/spark/languages","stargazers_url":"https://api.github.com/repos/gaborgsomogyi/spark/stargazers","contributors_url":"https://api.github.com/repos/gaborgsomogyi/spark/contributors","subscribers_url":"https://api.github.com/repos/gaborgsomogyi/spark/subscribers","subscription_url":"https://api.github.com/repos/gaborgsomogyi/spark/subscription","commits_url":"https://api.github.com/repos/gaborgsomogyi/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/gaborgsomogyi/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/gaborgsomogyi/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/gaborgsomogyi/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/gaborgsomogyi/spark/contents/{+path}","compare_url":"https://api.github.com/repos/gaborgsomogyi/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/gaborgsomogyi/spark/merges","archive_url":"https://api.github.com/repos/gaborgsomogyi/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/gaborgsomogyi/spark/downloads","issues_url":"https://api.github.com/repos/gaborgsomogyi/spark/issues{/number}","pulls_url":"https://api.github.com/repos/gaborgsomogyi/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/gaborgsomogyi/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/gaborgsomogyi/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/gaborgsomogyi/spark/labels{/name}","releases_url":"https://api.github.com/repos/gaborgsomogyi/spark/releases{/id}","deployments_url":"https://api.github.com/repos/gaborgsomogyi/spark/deployments","created_at":"2017-11-21T12:38:03Z","updated_at":"2024-05-06T08:51:33Z","pushed_at":"2024-05-06T08:50:41Z","git_url":"git://github.com/gaborgsomogyi/spark.git","ssh_url":"git@github.com:gaborgsomogyi/spark.git","clone_url":"https://github.com/gaborgsomogyi/spark.git","svn_url":"https://github.com/gaborgsomogyi/spark","homepage":null,"size":416015,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"5a7403623d0525c23ab8ae575e9d1383e3e10635","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23686"},"html":{"href":"https://github.com/apache/spark/pull/23686"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23686"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23686/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23686/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23686/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/73f1dd9cd9a46b9de843309e700056d1375e1440"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23685","id":248533868,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4NTMzODY4","html_url":"https://github.com/apache/spark/pull/23685","diff_url":"https://github.com/apache/spark/pull/23685.diff","patch_url":"https://github.com/apache/spark/pull/23685.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23685","number":23685,"state":"closed","locked":false,"title":"[SPARK-26771][CORE][GRAPHX] Make .unpersist(), .destroy() consistently non-blocking by default","user":{"login":"srowen","id":822522,"node_id":"MDQ6VXNlcjgyMjUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/822522?v=4","gravatar_id":"","url":"https://api.github.com/users/srowen","html_url":"https://github.com/srowen","followers_url":"https://api.github.com/users/srowen/followers","following_url":"https://api.github.com/users/srowen/following{/other_user}","gists_url":"https://api.github.com/users/srowen/gists{/gist_id}","starred_url":"https://api.github.com/users/srowen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srowen/subscriptions","organizations_url":"https://api.github.com/users/srowen/orgs","repos_url":"https://api.github.com/users/srowen/repos","events_url":"https://api.github.com/users/srowen/events{/privacy}","received_events_url":"https://api.github.com/users/srowen/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nMake .unpersist(), .destroy() non-blocking by default and adjust callers to request blocking only where important.\r\n\r\nThis also adds an optional blocking argument to Pyspark's RDD.unpersist(), which never had one.\r\n\r\n## How was this patch tested?\r\n\r\nExisting tests.","created_at":"2019-01-29T14:48:36Z","updated_at":"2019-03-26T01:19:21Z","closed_at":"2019-02-02T00:33:10Z","merged_at":null,"merge_commit_sha":"52688721bb58d3bca9d5810ac7de41a5da701f42","assignee":{"login":"srowen","id":822522,"node_id":"MDQ6VXNlcjgyMjUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/822522?v=4","gravatar_id":"","url":"https://api.github.com/users/srowen","html_url":"https://github.com/srowen","followers_url":"https://api.github.com/users/srowen/followers","following_url":"https://api.github.com/users/srowen/following{/other_user}","gists_url":"https://api.github.com/users/srowen/gists{/gist_id}","starred_url":"https://api.github.com/users/srowen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srowen/subscriptions","organizations_url":"https://api.github.com/users/srowen/orgs","repos_url":"https://api.github.com/users/srowen/repos","events_url":"https://api.github.com/users/srowen/events{/privacy}","received_events_url":"https://api.github.com/users/srowen/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"srowen","id":822522,"node_id":"MDQ6VXNlcjgyMjUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/822522?v=4","gravatar_id":"","url":"https://api.github.com/users/srowen","html_url":"https://github.com/srowen","followers_url":"https://api.github.com/users/srowen/followers","following_url":"https://api.github.com/users/srowen/following{/other_user}","gists_url":"https://api.github.com/users/srowen/gists{/gist_id}","starred_url":"https://api.github.com/users/srowen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srowen/subscriptions","organizations_url":"https://api.github.com/users/srowen/orgs","repos_url":"https://api.github.com/users/srowen/repos","events_url":"https://api.github.com/users/srowen/events{/privacy}","received_events_url":"https://api.github.com/users/srowen/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_reviewers":[{"login":"gatorsmile","id":11567269,"node_id":"MDQ6VXNlcjExNTY3MjY5","avatar_url":"https://avatars.githubusercontent.com/u/11567269?v=4","gravatar_id":"","url":"https://api.github.com/users/gatorsmile","html_url":"https://github.com/gatorsmile","followers_url":"https://api.github.com/users/gatorsmile/followers","following_url":"https://api.github.com/users/gatorsmile/following{/other_user}","gists_url":"https://api.github.com/users/gatorsmile/gists{/gist_id}","starred_url":"https://api.github.com/users/gatorsmile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gatorsmile/subscriptions","organizations_url":"https://api.github.com/users/gatorsmile/orgs","repos_url":"https://api.github.com/users/gatorsmile/repos","events_url":"https://api.github.com/users/gatorsmile/events{/privacy}","received_events_url":"https://api.github.com/users/gatorsmile/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23685/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23685/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23685/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3ca5a4964da3d368fb76b2e0685da5215b7e0d11","head":{"label":"srowen:SPARK-26771","ref":"SPARK-26771","sha":"3ca5a4964da3d368fb76b2e0685da5215b7e0d11","user":{"login":"srowen","id":822522,"node_id":"MDQ6VXNlcjgyMjUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/822522?v=4","gravatar_id":"","url":"https://api.github.com/users/srowen","html_url":"https://github.com/srowen","followers_url":"https://api.github.com/users/srowen/followers","following_url":"https://api.github.com/users/srowen/following{/other_user}","gists_url":"https://api.github.com/users/srowen/gists{/gist_id}","starred_url":"https://api.github.com/users/srowen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srowen/subscriptions","organizations_url":"https://api.github.com/users/srowen/orgs","repos_url":"https://api.github.com/users/srowen/repos","events_url":"https://api.github.com/users/srowen/events{/privacy}","received_events_url":"https://api.github.com/users/srowen/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":17241201,"node_id":"MDEwOlJlcG9zaXRvcnkxNzI0MTIwMQ==","name":"spark","full_name":"srowen/spark","private":false,"owner":{"login":"srowen","id":822522,"node_id":"MDQ6VXNlcjgyMjUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/822522?v=4","gravatar_id":"","url":"https://api.github.com/users/srowen","html_url":"https://github.com/srowen","followers_url":"https://api.github.com/users/srowen/followers","following_url":"https://api.github.com/users/srowen/following{/other_user}","gists_url":"https://api.github.com/users/srowen/gists{/gist_id}","starred_url":"https://api.github.com/users/srowen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srowen/subscriptions","organizations_url":"https://api.github.com/users/srowen/orgs","repos_url":"https://api.github.com/users/srowen/repos","events_url":"https://api.github.com/users/srowen/events{/privacy}","received_events_url":"https://api.github.com/users/srowen/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/srowen/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/srowen/spark","forks_url":"https://api.github.com/repos/srowen/spark/forks","keys_url":"https://api.github.com/repos/srowen/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/srowen/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/srowen/spark/teams","hooks_url":"https://api.github.com/repos/srowen/spark/hooks","issue_events_url":"https://api.github.com/repos/srowen/spark/issues/events{/number}","events_url":"https://api.github.com/repos/srowen/spark/events","assignees_url":"https://api.github.com/repos/srowen/spark/assignees{/user}","branches_url":"https://api.github.com/repos/srowen/spark/branches{/branch}","tags_url":"https://api.github.com/repos/srowen/spark/tags","blobs_url":"https://api.github.com/repos/srowen/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/srowen/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/srowen/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/srowen/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/srowen/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/srowen/spark/languages","stargazers_url":"https://api.github.com/repos/srowen/spark/stargazers","contributors_url":"https://api.github.com/repos/srowen/spark/contributors","subscribers_url":"https://api.github.com/repos/srowen/spark/subscribers","subscription_url":"https://api.github.com/repos/srowen/spark/subscription","commits_url":"https://api.github.com/repos/srowen/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/srowen/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/srowen/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/srowen/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/srowen/spark/contents/{+path}","compare_url":"https://api.github.com/repos/srowen/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/srowen/spark/merges","archive_url":"https://api.github.com/repos/srowen/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/srowen/spark/downloads","issues_url":"https://api.github.com/repos/srowen/spark/issues{/number}","pulls_url":"https://api.github.com/repos/srowen/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/srowen/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/srowen/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/srowen/spark/labels{/name}","releases_url":"https://api.github.com/repos/srowen/spark/releases{/id}","deployments_url":"https://api.github.com/repos/srowen/spark/deployments","created_at":"2014-02-27T07:57:07Z","updated_at":"2022-01-12T08:52:54Z","pushed_at":"2024-03-31T01:22:22Z","git_url":"git://github.com/srowen/spark.git","ssh_url":"git@github.com:srowen/spark.git","clone_url":"https://github.com/srowen/spark.git","svn_url":"https://github.com/srowen/spark","homepage":null,"size":366506,"stargazers_count":7,"watchers_count":7,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":7,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"e97ab1d9807134bb557ae73920af61e8534b2b08","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23685"},"html":{"href":"https://github.com/apache/spark/pull/23685"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23685"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23685/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23685/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23685/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3ca5a4964da3d368fb76b2e0685da5215b7e0d11"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23684","id":248438747,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4NDM4NzQ3","html_url":"https://github.com/apache/spark/pull/23684","diff_url":"https://github.com/apache/spark/pull/23684.diff","patch_url":"https://github.com/apache/spark/pull/23684.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23684","number":23684,"state":"closed","locked":false,"title":"[SPARK-26765][SQL] Avro: Validate input and output schema","user":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThe API `supportDataType` in `FileFormat` helps to validate the output/input schema before exection starts. So that we can avoid some invalid data source IO, and users can see clean error messages.\r\n\r\nThis PR is to override the validation API in Avro data source. \r\nAlso, as per the spec of Avro(https://avro.apache.org/docs/1.8.2/spec.html), `NullType` is supported. This PR fixes the handling of `NullType`.\r\n\r\n## How was this patch tested?\r\n\r\nUnit test\r\n","created_at":"2019-01-29T09:52:53Z","updated_at":"2019-01-31T02:07:45Z","closed_at":"2019-01-29T16:21:07Z","merged_at":null,"merge_commit_sha":"619bb1f112e89e0f277ea0f979c1672515097492","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23684/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23684/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23684/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/525cb0eddedc12784108ed0c57824987526ea49c","head":{"label":"gengliangwang:avroSupportDataType","ref":"avroSupportDataType","sha":"525cb0eddedc12784108ed0c57824987526ea49c","user":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":95047635,"node_id":"MDEwOlJlcG9zaXRvcnk5NTA0NzYzNQ==","name":"spark","full_name":"gengliangwang/spark","private":false,"owner":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/gengliangwang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/gengliangwang/spark","forks_url":"https://api.github.com/repos/gengliangwang/spark/forks","keys_url":"https://api.github.com/repos/gengliangwang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/gengliangwang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/gengliangwang/spark/teams","hooks_url":"https://api.github.com/repos/gengliangwang/spark/hooks","issue_events_url":"https://api.github.com/repos/gengliangwang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/gengliangwang/spark/events","assignees_url":"https://api.github.com/repos/gengliangwang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/gengliangwang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/gengliangwang/spark/tags","blobs_url":"https://api.github.com/repos/gengliangwang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/gengliangwang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/gengliangwang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/gengliangwang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/gengliangwang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/gengliangwang/spark/languages","stargazers_url":"https://api.github.com/repos/gengliangwang/spark/stargazers","contributors_url":"https://api.github.com/repos/gengliangwang/spark/contributors","subscribers_url":"https://api.github.com/repos/gengliangwang/spark/subscribers","subscription_url":"https://api.github.com/repos/gengliangwang/spark/subscription","commits_url":"https://api.github.com/repos/gengliangwang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/gengliangwang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/gengliangwang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/gengliangwang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/gengliangwang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/gengliangwang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/gengliangwang/spark/merges","archive_url":"https://api.github.com/repos/gengliangwang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/gengliangwang/spark/downloads","issues_url":"https://api.github.com/repos/gengliangwang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/gengliangwang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/gengliangwang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/gengliangwang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/gengliangwang/spark/labels{/name}","releases_url":"https://api.github.com/repos/gengliangwang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/gengliangwang/spark/deployments","created_at":"2017-06-21T21:26:20Z","updated_at":"2022-01-05T09:39:12Z","pushed_at":"2025-02-07T19:52:00Z","git_url":"git://github.com/gengliangwang/spark.git","ssh_url":"git@github.com:gengliangwang/spark.git","clone_url":"https://github.com/gengliangwang/spark.git","svn_url":"https://github.com/gengliangwang/spark","homepage":null,"size":481326,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"e97ab1d9807134bb557ae73920af61e8534b2b08","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23684"},"html":{"href":"https://github.com/apache/spark/pull/23684"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23684"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23684/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23684/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23684/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/525cb0eddedc12784108ed0c57824987526ea49c"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23683","id":248405369,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4NDA1MzY5","html_url":"https://github.com/apache/spark/pull/23683","diff_url":"https://github.com/apache/spark/pull/23683.diff","patch_url":"https://github.com/apache/spark/pull/23683.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23683","number":23683,"state":"closed","locked":false,"title":"[SPARK-26763][SQL]Using fileStatus cache when filterPartitions","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nWe should pass the existed `fileStatusCache` to `InMemoryFileIndex` even though there aren't partition columns.\r\n\r\n## How was this patch tested?\r\n\r\nExisted test. Extra tests can be added if there is a requirement.\r\n","created_at":"2019-01-29T07:51:15Z","updated_at":"2019-01-30T00:36:39Z","closed_at":"2019-01-29T15:11:44Z","merged_at":null,"merge_commit_sha":"2b62ddd7182ef04bc64c530d63eb352c598f8b9c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23683/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23683/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23683/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/c532e34b812ff57a546553359b28b3dac69da303","head":{"label":"ConeyLiu:filestatuscache","ref":"filestatuscache","sha":"c532e34b812ff57a546553359b28b3dac69da303","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":54686577,"node_id":"MDEwOlJlcG9zaXRvcnk1NDY4NjU3Nw==","name":"spark","full_name":"ConeyLiu/spark","private":false,"owner":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ConeyLiu/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/ConeyLiu/spark","forks_url":"https://api.github.com/repos/ConeyLiu/spark/forks","keys_url":"https://api.github.com/repos/ConeyLiu/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ConeyLiu/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ConeyLiu/spark/teams","hooks_url":"https://api.github.com/repos/ConeyLiu/spark/hooks","issue_events_url":"https://api.github.com/repos/ConeyLiu/spark/issues/events{/number}","events_url":"https://api.github.com/repos/ConeyLiu/spark/events","assignees_url":"https://api.github.com/repos/ConeyLiu/spark/assignees{/user}","branches_url":"https://api.github.com/repos/ConeyLiu/spark/branches{/branch}","tags_url":"https://api.github.com/repos/ConeyLiu/spark/tags","blobs_url":"https://api.github.com/repos/ConeyLiu/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ConeyLiu/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ConeyLiu/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/ConeyLiu/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ConeyLiu/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/ConeyLiu/spark/languages","stargazers_url":"https://api.github.com/repos/ConeyLiu/spark/stargazers","contributors_url":"https://api.github.com/repos/ConeyLiu/spark/contributors","subscribers_url":"https://api.github.com/repos/ConeyLiu/spark/subscribers","subscription_url":"https://api.github.com/repos/ConeyLiu/spark/subscription","commits_url":"https://api.github.com/repos/ConeyLiu/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/ConeyLiu/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/ConeyLiu/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/ConeyLiu/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/ConeyLiu/spark/contents/{+path}","compare_url":"https://api.github.com/repos/ConeyLiu/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ConeyLiu/spark/merges","archive_url":"https://api.github.com/repos/ConeyLiu/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ConeyLiu/spark/downloads","issues_url":"https://api.github.com/repos/ConeyLiu/spark/issues{/number}","pulls_url":"https://api.github.com/repos/ConeyLiu/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/ConeyLiu/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/ConeyLiu/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ConeyLiu/spark/labels{/name}","releases_url":"https://api.github.com/repos/ConeyLiu/spark/releases{/id}","deployments_url":"https://api.github.com/repos/ConeyLiu/spark/deployments","created_at":"2016-03-25T01:50:17Z","updated_at":"2020-06-28T07:44:21Z","pushed_at":"2023-10-07T07:06:33Z","git_url":"git://github.com/ConeyLiu/spark.git","ssh_url":"git@github.com:ConeyLiu/spark.git","clone_url":"https://github.com/ConeyLiu/spark.git","svn_url":"https://github.com/ConeyLiu/spark","homepage":null,"size":393243,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"16990f929921b3f784a85f3afbe1a22fbe77d895","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23683"},"html":{"href":"https://github.com/apache/spark/pull/23683"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23683"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23683/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23683/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23683/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/c532e34b812ff57a546553359b28b3dac69da303"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23682","id":248371784,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4MzcxNzg0","html_url":"https://github.com/apache/spark/pull/23682","diff_url":"https://github.com/apache/spark/pull/23682.diff","patch_url":"https://github.com/apache/spark/pull/23682.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23682","number":23682,"state":"closed","locked":false,"title":"[SPARK-19591][ML][MLlib][FOLLOWUP] Add sample weights to decision trees - fix tolerance","user":{"login":"imatiach-msft","id":24683184,"node_id":"MDQ6VXNlcjI0NjgzMTg0","avatar_url":"https://avatars.githubusercontent.com/u/24683184?v=4","gravatar_id":"","url":"https://api.github.com/users/imatiach-msft","html_url":"https://github.com/imatiach-msft","followers_url":"https://api.github.com/users/imatiach-msft/followers","following_url":"https://api.github.com/users/imatiach-msft/following{/other_user}","gists_url":"https://api.github.com/users/imatiach-msft/gists{/gist_id}","starred_url":"https://api.github.com/users/imatiach-msft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imatiach-msft/subscriptions","organizations_url":"https://api.github.com/users/imatiach-msft/orgs","repos_url":"https://api.github.com/users/imatiach-msft/repos","events_url":"https://api.github.com/users/imatiach-msft/events{/privacy}","received_events_url":"https://api.github.com/users/imatiach-msft/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"This is a follow-up to PR:\r\nhttps://github.com/apache/spark/pull/21632\r\n\r\n## What changes were proposed in this pull request?\r\n\r\nThis PR tunes the tolerance used for deciding whether to add zero feature values to a value-count map (where the key is the feature value and the value is the weighted count of those feature values).\r\nIn the previous PR the tolerance scaled by the square of the unweighted number of samples, which is too aggressive for a large number of unweighted samples.  Unfortunately using just \"Utils.EPSILON * unweightedNumSamples\" is not enough either, so I multiplied that by a factor tuned by the testing procedure below.\r\n\r\n## How was this patch tested?\r\n\r\nThis involved manually running the sample weight tests for decision tree regressor to see whether the tolerance was large enough to exclude zero feature values.\r\n\r\nEg in SBT:\r\n```\r\n./build/sbt\r\n> project mllib\r\n> testOnly *DecisionTreeRegressorSuite -- -z \"training with sample weights\"\r\n```\r\n\r\nFor validation, I added a print inside the if in the code below and validated that the tolerance was large enough so that we would not include zero features (which don't exist in that test):\r\n```\r\n      val valueCountMap = if (weightedNumSamples - partNumSamples > tolerance) {\r\n        print(\"should not print this\")\r\n        partValueCountMap + (0.0 -> (weightedNumSamples - partNumSamples))\r\n      } else {\r\n        partValueCountMap\r\n      }\r\n```","created_at":"2019-01-29T04:31:54Z","updated_at":"2019-01-31T11:48:09Z","closed_at":"2019-01-31T11:48:09Z","merged_at":null,"merge_commit_sha":"29badd54690ef457bc2f62ac90e5222817cadc49","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23682/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23682/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23682/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b34d88e7179437178ba75b8bc820aabe456aa6b0","head":{"label":"imatiach-msft:ilmat/sample-weights-tol","ref":"ilmat/sample-weights-tol","sha":"b34d88e7179437178ba75b8bc820aabe456aa6b0","user":{"login":"imatiach-msft","id":24683184,"node_id":"MDQ6VXNlcjI0NjgzMTg0","avatar_url":"https://avatars.githubusercontent.com/u/24683184?v=4","gravatar_id":"","url":"https://api.github.com/users/imatiach-msft","html_url":"https://github.com/imatiach-msft","followers_url":"https://api.github.com/users/imatiach-msft/followers","following_url":"https://api.github.com/users/imatiach-msft/following{/other_user}","gists_url":"https://api.github.com/users/imatiach-msft/gists{/gist_id}","starred_url":"https://api.github.com/users/imatiach-msft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imatiach-msft/subscriptions","organizations_url":"https://api.github.com/users/imatiach-msft/orgs","repos_url":"https://api.github.com/users/imatiach-msft/repos","events_url":"https://api.github.com/users/imatiach-msft/events{/privacy}","received_events_url":"https://api.github.com/users/imatiach-msft/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":76980395,"node_id":"MDEwOlJlcG9zaXRvcnk3Njk4MDM5NQ==","name":"spark","full_name":"imatiach-msft/spark","private":false,"owner":{"login":"imatiach-msft","id":24683184,"node_id":"MDQ6VXNlcjI0NjgzMTg0","avatar_url":"https://avatars.githubusercontent.com/u/24683184?v=4","gravatar_id":"","url":"https://api.github.com/users/imatiach-msft","html_url":"https://github.com/imatiach-msft","followers_url":"https://api.github.com/users/imatiach-msft/followers","following_url":"https://api.github.com/users/imatiach-msft/following{/other_user}","gists_url":"https://api.github.com/users/imatiach-msft/gists{/gist_id}","starred_url":"https://api.github.com/users/imatiach-msft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imatiach-msft/subscriptions","organizations_url":"https://api.github.com/users/imatiach-msft/orgs","repos_url":"https://api.github.com/users/imatiach-msft/repos","events_url":"https://api.github.com/users/imatiach-msft/events{/privacy}","received_events_url":"https://api.github.com/users/imatiach-msft/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/imatiach-msft/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/imatiach-msft/spark","forks_url":"https://api.github.com/repos/imatiach-msft/spark/forks","keys_url":"https://api.github.com/repos/imatiach-msft/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/imatiach-msft/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/imatiach-msft/spark/teams","hooks_url":"https://api.github.com/repos/imatiach-msft/spark/hooks","issue_events_url":"https://api.github.com/repos/imatiach-msft/spark/issues/events{/number}","events_url":"https://api.github.com/repos/imatiach-msft/spark/events","assignees_url":"https://api.github.com/repos/imatiach-msft/spark/assignees{/user}","branches_url":"https://api.github.com/repos/imatiach-msft/spark/branches{/branch}","tags_url":"https://api.github.com/repos/imatiach-msft/spark/tags","blobs_url":"https://api.github.com/repos/imatiach-msft/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/imatiach-msft/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/imatiach-msft/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/imatiach-msft/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/imatiach-msft/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/imatiach-msft/spark/languages","stargazers_url":"https://api.github.com/repos/imatiach-msft/spark/stargazers","contributors_url":"https://api.github.com/repos/imatiach-msft/spark/contributors","subscribers_url":"https://api.github.com/repos/imatiach-msft/spark/subscribers","subscription_url":"https://api.github.com/repos/imatiach-msft/spark/subscription","commits_url":"https://api.github.com/repos/imatiach-msft/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/imatiach-msft/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/imatiach-msft/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/imatiach-msft/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/imatiach-msft/spark/contents/{+path}","compare_url":"https://api.github.com/repos/imatiach-msft/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/imatiach-msft/spark/merges","archive_url":"https://api.github.com/repos/imatiach-msft/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/imatiach-msft/spark/downloads","issues_url":"https://api.github.com/repos/imatiach-msft/spark/issues{/number}","pulls_url":"https://api.github.com/repos/imatiach-msft/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/imatiach-msft/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/imatiach-msft/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/imatiach-msft/spark/labels{/name}","releases_url":"https://api.github.com/repos/imatiach-msft/spark/releases{/id}","deployments_url":"https://api.github.com/repos/imatiach-msft/spark/deployments","created_at":"2016-12-20T18:10:57Z","updated_at":"2021-06-28T19:42:47Z","pushed_at":"2021-06-28T19:42:11Z","git_url":"git://github.com/imatiach-msft/spark.git","ssh_url":"git@github.com:imatiach-msft/spark.git","clone_url":"https://github.com/imatiach-msft/spark.git","svn_url":"https://github.com/imatiach-msft/spark","homepage":null,"size":357648,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"92706e657629b36c9b3dc1478b2b80e351562135","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23682"},"html":{"href":"https://github.com/apache/spark/pull/23682"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23682"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23682/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23682/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23682/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b34d88e7179437178ba75b8bc820aabe456aa6b0"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23681","id":248369640,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4MzY5NjQw","html_url":"https://github.com/apache/spark/pull/23681","diff_url":"https://github.com/apache/spark/pull/23681.diff","patch_url":"https://github.com/apache/spark/pull/23681.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23681","number":23681,"state":"closed","locked":false,"title":"[SPARK-26757][GraphX] Return 0 for `count` on empty Edge/Vertex RDDs","user":{"login":"huonw","id":1203825,"node_id":"MDQ6VXNlcjEyMDM4MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1203825?v=4","gravatar_id":"","url":"https://api.github.com/users/huonw","html_url":"https://github.com/huonw","followers_url":"https://api.github.com/users/huonw/followers","following_url":"https://api.github.com/users/huonw/following{/other_user}","gists_url":"https://api.github.com/users/huonw/gists{/gist_id}","starred_url":"https://api.github.com/users/huonw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huonw/subscriptions","organizations_url":"https://api.github.com/users/huonw/orgs","repos_url":"https://api.github.com/users/huonw/repos","events_url":"https://api.github.com/users/huonw/events{/privacy}","received_events_url":"https://api.github.com/users/huonw/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nPreviously a \"java.lang.UnsupportedOperationException: empty\r\ncollection\" exception would be thrown due to using `reduce`, rather\r\nthan `fold` or similar that can tolerate empty RDDs.\r\n\r\nThis behaviour has existed for the Vertex RDDs since it was introduced\r\nin b30e0ae0351be1cbc0b1cf179293587b466ee026. It seems this behaviour\r\nwas inherited by the Edge RDDs via copy-paste in\r\nee29ef3800438501e0ff207feb00a28973fc0769.\r\n\r\n## How was this patch tested?\r\n\r\nTwo new unit tests.\r\n","created_at":"2019-01-29T04:16:02Z","updated_at":"2019-03-17T02:24:54Z","closed_at":"2019-01-31T23:30:27Z","merged_at":null,"merge_commit_sha":"c36c7e6f878f8fbc0b8def6b27f46ac447c0bd82","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23681/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23681/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23681/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/de47631a0db84d285e4daafb5fdfffcace96a7c2","head":{"label":"huonw:empty-graphx","ref":"empty-graphx","sha":"de47631a0db84d285e4daafb5fdfffcace96a7c2","user":{"login":"huonw","id":1203825,"node_id":"MDQ6VXNlcjEyMDM4MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1203825?v=4","gravatar_id":"","url":"https://api.github.com/users/huonw","html_url":"https://github.com/huonw","followers_url":"https://api.github.com/users/huonw/followers","following_url":"https://api.github.com/users/huonw/following{/other_user}","gists_url":"https://api.github.com/users/huonw/gists{/gist_id}","starred_url":"https://api.github.com/users/huonw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huonw/subscriptions","organizations_url":"https://api.github.com/users/huonw/orgs","repos_url":"https://api.github.com/users/huonw/repos","events_url":"https://api.github.com/users/huonw/events{/privacy}","received_events_url":"https://api.github.com/users/huonw/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":158619021,"node_id":"MDEwOlJlcG9zaXRvcnkxNTg2MTkwMjE=","name":"spark","full_name":"huonw/spark","private":false,"owner":{"login":"huonw","id":1203825,"node_id":"MDQ6VXNlcjEyMDM4MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1203825?v=4","gravatar_id":"","url":"https://api.github.com/users/huonw","html_url":"https://github.com/huonw","followers_url":"https://api.github.com/users/huonw/followers","following_url":"https://api.github.com/users/huonw/following{/other_user}","gists_url":"https://api.github.com/users/huonw/gists{/gist_id}","starred_url":"https://api.github.com/users/huonw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huonw/subscriptions","organizations_url":"https://api.github.com/users/huonw/orgs","repos_url":"https://api.github.com/users/huonw/repos","events_url":"https://api.github.com/users/huonw/events{/privacy}","received_events_url":"https://api.github.com/users/huonw/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/huonw/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/huonw/spark","forks_url":"https://api.github.com/repos/huonw/spark/forks","keys_url":"https://api.github.com/repos/huonw/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/huonw/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/huonw/spark/teams","hooks_url":"https://api.github.com/repos/huonw/spark/hooks","issue_events_url":"https://api.github.com/repos/huonw/spark/issues/events{/number}","events_url":"https://api.github.com/repos/huonw/spark/events","assignees_url":"https://api.github.com/repos/huonw/spark/assignees{/user}","branches_url":"https://api.github.com/repos/huonw/spark/branches{/branch}","tags_url":"https://api.github.com/repos/huonw/spark/tags","blobs_url":"https://api.github.com/repos/huonw/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/huonw/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/huonw/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/huonw/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/huonw/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/huonw/spark/languages","stargazers_url":"https://api.github.com/repos/huonw/spark/stargazers","contributors_url":"https://api.github.com/repos/huonw/spark/contributors","subscribers_url":"https://api.github.com/repos/huonw/spark/subscribers","subscription_url":"https://api.github.com/repos/huonw/spark/subscription","commits_url":"https://api.github.com/repos/huonw/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/huonw/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/huonw/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/huonw/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/huonw/spark/contents/{+path}","compare_url":"https://api.github.com/repos/huonw/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/huonw/spark/merges","archive_url":"https://api.github.com/repos/huonw/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/huonw/spark/downloads","issues_url":"https://api.github.com/repos/huonw/spark/issues{/number}","pulls_url":"https://api.github.com/repos/huonw/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/huonw/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/huonw/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/huonw/spark/labels{/name}","releases_url":"https://api.github.com/repos/huonw/spark/releases{/id}","deployments_url":"https://api.github.com/repos/huonw/spark/deployments","created_at":"2018-11-21T23:47:13Z","updated_at":"2019-03-05T04:17:29Z","pushed_at":"2019-08-09T09:31:16Z","git_url":"git://github.com/huonw/spark.git","ssh_url":"git@github.com:huonw/spark.git","clone_url":"https://github.com/huonw/spark.git","svn_url":"https://github.com/huonw/spark","homepage":null,"size":301346,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"fbc3c5e8a33c28e46d839a2d1db81d9a89b29327","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23681"},"html":{"href":"https://github.com/apache/spark/pull/23681"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23681"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23681/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23681/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23681/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/de47631a0db84d285e4daafb5fdfffcace96a7c2"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23680","id":248355311,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4MzU1MzEx","html_url":"https://github.com/apache/spark/pull/23680","diff_url":"https://github.com/apache/spark/pull/23680.diff","patch_url":"https://github.com/apache/spark/pull/23680.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23680","number":23680,"state":"closed","locked":false,"title":"[SPARK-26756][SQL] Support session conf for thriftserver","user":{"login":"caneGuy","id":26762018,"node_id":"MDQ6VXNlcjI2NzYyMDE4","avatar_url":"https://avatars.githubusercontent.com/u/26762018?v=4","gravatar_id":"","url":"https://api.github.com/users/caneGuy","html_url":"https://github.com/caneGuy","followers_url":"https://api.github.com/users/caneGuy/followers","following_url":"https://api.github.com/users/caneGuy/following{/other_user}","gists_url":"https://api.github.com/users/caneGuy/gists{/gist_id}","starred_url":"https://api.github.com/users/caneGuy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caneGuy/subscriptions","organizations_url":"https://api.github.com/users/caneGuy/orgs","repos_url":"https://api.github.com/users/caneGuy/repos","events_url":"https://api.github.com/users/caneGuy/events{/privacy}","received_events_url":"https://api.github.com/users/caneGuy/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nWe can add support for session conf.like:\r\n`set spark.sql.xxx.xxx=xxx`\r\nwhich can be useful for users.\r\n\r\n## How was this patch tested?\r\nExist UT\r\n","created_at":"2019-01-29T02:36:17Z","updated_at":"2020-06-01T02:15:55Z","closed_at":"2019-09-17T00:29:08Z","merged_at":null,"merge_commit_sha":"b51d2dc99747bf696542823cd32d0062925f4df9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23680/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23680/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23680/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/5090e9fb6f9d0da8151e3acf4f89b61ad8ad917e","head":{"label":"caneGuy:zhoukang/add-session-conf","ref":"zhoukang/add-session-conf","sha":"5090e9fb6f9d0da8151e3acf4f89b61ad8ad917e","user":{"login":"caneGuy","id":26762018,"node_id":"MDQ6VXNlcjI2NzYyMDE4","avatar_url":"https://avatars.githubusercontent.com/u/26762018?v=4","gravatar_id":"","url":"https://api.github.com/users/caneGuy","html_url":"https://github.com/caneGuy","followers_url":"https://api.github.com/users/caneGuy/followers","following_url":"https://api.github.com/users/caneGuy/following{/other_user}","gists_url":"https://api.github.com/users/caneGuy/gists{/gist_id}","starred_url":"https://api.github.com/users/caneGuy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caneGuy/subscriptions","organizations_url":"https://api.github.com/users/caneGuy/orgs","repos_url":"https://api.github.com/users/caneGuy/repos","events_url":"https://api.github.com/users/caneGuy/events{/privacy}","received_events_url":"https://api.github.com/users/caneGuy/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":96277831,"node_id":"MDEwOlJlcG9zaXRvcnk5NjI3NzgzMQ==","name":"spark","full_name":"caneGuy/spark","private":false,"owner":{"login":"caneGuy","id":26762018,"node_id":"MDQ6VXNlcjI2NzYyMDE4","avatar_url":"https://avatars.githubusercontent.com/u/26762018?v=4","gravatar_id":"","url":"https://api.github.com/users/caneGuy","html_url":"https://github.com/caneGuy","followers_url":"https://api.github.com/users/caneGuy/followers","following_url":"https://api.github.com/users/caneGuy/following{/other_user}","gists_url":"https://api.github.com/users/caneGuy/gists{/gist_id}","starred_url":"https://api.github.com/users/caneGuy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caneGuy/subscriptions","organizations_url":"https://api.github.com/users/caneGuy/orgs","repos_url":"https://api.github.com/users/caneGuy/repos","events_url":"https://api.github.com/users/caneGuy/events{/privacy}","received_events_url":"https://api.github.com/users/caneGuy/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/caneGuy/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/caneGuy/spark","forks_url":"https://api.github.com/repos/caneGuy/spark/forks","keys_url":"https://api.github.com/repos/caneGuy/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/caneGuy/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/caneGuy/spark/teams","hooks_url":"https://api.github.com/repos/caneGuy/spark/hooks","issue_events_url":"https://api.github.com/repos/caneGuy/spark/issues/events{/number}","events_url":"https://api.github.com/repos/caneGuy/spark/events","assignees_url":"https://api.github.com/repos/caneGuy/spark/assignees{/user}","branches_url":"https://api.github.com/repos/caneGuy/spark/branches{/branch}","tags_url":"https://api.github.com/repos/caneGuy/spark/tags","blobs_url":"https://api.github.com/repos/caneGuy/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/caneGuy/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/caneGuy/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/caneGuy/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/caneGuy/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/caneGuy/spark/languages","stargazers_url":"https://api.github.com/repos/caneGuy/spark/stargazers","contributors_url":"https://api.github.com/repos/caneGuy/spark/contributors","subscribers_url":"https://api.github.com/repos/caneGuy/spark/subscribers","subscription_url":"https://api.github.com/repos/caneGuy/spark/subscription","commits_url":"https://api.github.com/repos/caneGuy/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/caneGuy/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/caneGuy/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/caneGuy/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/caneGuy/spark/contents/{+path}","compare_url":"https://api.github.com/repos/caneGuy/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/caneGuy/spark/merges","archive_url":"https://api.github.com/repos/caneGuy/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/caneGuy/spark/downloads","issues_url":"https://api.github.com/repos/caneGuy/spark/issues{/number}","pulls_url":"https://api.github.com/repos/caneGuy/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/caneGuy/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/caneGuy/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/caneGuy/spark/labels{/name}","releases_url":"https://api.github.com/repos/caneGuy/spark/releases{/id}","deployments_url":"https://api.github.com/repos/caneGuy/spark/deployments","created_at":"2017-07-05T04:50:34Z","updated_at":"2019-11-13T13:03:25Z","pushed_at":"2020-06-17T08:37:24Z","git_url":"git://github.com/caneGuy/spark.git","ssh_url":"git@github.com:caneGuy/spark.git","clone_url":"https://github.com/caneGuy/spark.git","svn_url":"https://github.com/caneGuy/spark","homepage":null,"size":304382,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"92706e657629b36c9b3dc1478b2b80e351562135","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23680"},"html":{"href":"https://github.com/apache/spark/pull/23680"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23680"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23680/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23680/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23680/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/5090e9fb6f9d0da8151e3acf4f89b61ad8ad917e"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23679","id":248351421,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4MzUxNDIx","html_url":"https://github.com/apache/spark/pull/23679","diff_url":"https://github.com/apache/spark/pull/23679.diff","patch_url":"https://github.com/apache/spark/pull/23679.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23679","number":23679,"state":"closed","locked":false,"title":"[SPARK-23516][CORE] Avoid repeated release/acquire on storage memory","user":{"login":"10110346","id":24688163,"node_id":"MDQ6VXNlcjI0Njg4MTYz","avatar_url":"https://avatars.githubusercontent.com/u/24688163?v=4","gravatar_id":"","url":"https://api.github.com/users/10110346","html_url":"https://github.com/10110346","followers_url":"https://api.github.com/users/10110346/followers","following_url":"https://api.github.com/users/10110346/following{/other_user}","gists_url":"https://api.github.com/users/10110346/gists{/gist_id}","starred_url":"https://api.github.com/users/10110346/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/10110346/subscriptions","organizations_url":"https://api.github.com/users/10110346/orgs","repos_url":"https://api.github.com/users/10110346/repos","events_url":"https://api.github.com/users/10110346/events{/privacy}","received_events_url":"https://api.github.com/users/10110346/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nNow `StaticMemoryManager` has been removed.\r\nAnd for `UnifiedMemoryManager`,  unroll memory is also storage memory, so I think it is unnecessary to release unroll memory really,  and then to get storage memory again.\r\n\r\n## How was this patch tested?\r\nExisting unit tests\r\n","created_at":"2019-01-29T02:10:30Z","updated_at":"2020-01-03T00:08:40Z","closed_at":"2020-01-03T00:08:40Z","merged_at":null,"merge_commit_sha":"f22eba81fc26118112d9096ca7a3eff0f5d2e7ed","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405801482,"node_id":"MDU6TGFiZWwxNDA1ODAxNDgy","url":"https://api.github.com/repos/apache/spark/labels/SPARK%20CORE","name":"SPARK CORE","color":"ededed","default":false,"description":null},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23679/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23679/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23679/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/092b887945dbb0578b32fef3b2acc6df00a19de8","head":{"label":"10110346:notreleasemem","ref":"notreleasemem","sha":"092b887945dbb0578b32fef3b2acc6df00a19de8","user":{"login":"10110346","id":24688163,"node_id":"MDQ6VXNlcjI0Njg4MTYz","avatar_url":"https://avatars.githubusercontent.com/u/24688163?v=4","gravatar_id":"","url":"https://api.github.com/users/10110346","html_url":"https://github.com/10110346","followers_url":"https://api.github.com/users/10110346/followers","following_url":"https://api.github.com/users/10110346/following{/other_user}","gists_url":"https://api.github.com/users/10110346/gists{/gist_id}","starred_url":"https://api.github.com/users/10110346/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/10110346/subscriptions","organizations_url":"https://api.github.com/users/10110346/orgs","repos_url":"https://api.github.com/users/10110346/repos","events_url":"https://api.github.com/users/10110346/events{/privacy}","received_events_url":"https://api.github.com/users/10110346/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":77023032,"node_id":"MDEwOlJlcG9zaXRvcnk3NzAyMzAzMg==","name":"spark","full_name":"10110346/spark","private":false,"owner":{"login":"10110346","id":24688163,"node_id":"MDQ6VXNlcjI0Njg4MTYz","avatar_url":"https://avatars.githubusercontent.com/u/24688163?v=4","gravatar_id":"","url":"https://api.github.com/users/10110346","html_url":"https://github.com/10110346","followers_url":"https://api.github.com/users/10110346/followers","following_url":"https://api.github.com/users/10110346/following{/other_user}","gists_url":"https://api.github.com/users/10110346/gists{/gist_id}","starred_url":"https://api.github.com/users/10110346/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/10110346/subscriptions","organizations_url":"https://api.github.com/users/10110346/orgs","repos_url":"https://api.github.com/users/10110346/repos","events_url":"https://api.github.com/users/10110346/events{/privacy}","received_events_url":"https://api.github.com/users/10110346/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/10110346/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/10110346/spark","forks_url":"https://api.github.com/repos/10110346/spark/forks","keys_url":"https://api.github.com/repos/10110346/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/10110346/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/10110346/spark/teams","hooks_url":"https://api.github.com/repos/10110346/spark/hooks","issue_events_url":"https://api.github.com/repos/10110346/spark/issues/events{/number}","events_url":"https://api.github.com/repos/10110346/spark/events","assignees_url":"https://api.github.com/repos/10110346/spark/assignees{/user}","branches_url":"https://api.github.com/repos/10110346/spark/branches{/branch}","tags_url":"https://api.github.com/repos/10110346/spark/tags","blobs_url":"https://api.github.com/repos/10110346/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/10110346/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/10110346/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/10110346/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/10110346/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/10110346/spark/languages","stargazers_url":"https://api.github.com/repos/10110346/spark/stargazers","contributors_url":"https://api.github.com/repos/10110346/spark/contributors","subscribers_url":"https://api.github.com/repos/10110346/spark/subscribers","subscription_url":"https://api.github.com/repos/10110346/spark/subscription","commits_url":"https://api.github.com/repos/10110346/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/10110346/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/10110346/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/10110346/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/10110346/spark/contents/{+path}","compare_url":"https://api.github.com/repos/10110346/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/10110346/spark/merges","archive_url":"https://api.github.com/repos/10110346/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/10110346/spark/downloads","issues_url":"https://api.github.com/repos/10110346/spark/issues{/number}","pulls_url":"https://api.github.com/repos/10110346/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/10110346/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/10110346/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/10110346/spark/labels{/name}","releases_url":"https://api.github.com/repos/10110346/spark/releases{/id}","deployments_url":"https://api.github.com/repos/10110346/spark/deployments","created_at":"2016-12-21T06:06:02Z","updated_at":"2018-07-31T06:45:30Z","pushed_at":"2019-05-08T10:42:16Z","git_url":"git://github.com/10110346/spark.git","ssh_url":"git@github.com:10110346/spark.git","clone_url":"https://github.com/10110346/spark.git","svn_url":"https://github.com/10110346/spark","homepage":null,"size":289129,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c40647297031e0cd3e2682990c2067b59b2aeaa1","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23679"},"html":{"href":"https://github.com/apache/spark/pull/23679"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23679"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23679/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23679/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23679/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/092b887945dbb0578b32fef3b2acc6df00a19de8"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23678","id":248328596,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4MzI4NTk2","html_url":"https://github.com/apache/spark/pull/23678","diff_url":"https://github.com/apache/spark/pull/23678.diff","patch_url":"https://github.com/apache/spark/pull/23678.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23678","number":23678,"state":"closed","locked":false,"title":" [SPARK-26708][SQL][BRANCH-2.4] Incorrect result caused by inconsistency between a SQL cache's cached RDD and its physical plan","user":{"login":"maryannxue","id":4171904,"node_id":"MDQ6VXNlcjQxNzE5MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4171904?v=4","gravatar_id":"","url":"https://api.github.com/users/maryannxue","html_url":"https://github.com/maryannxue","followers_url":"https://api.github.com/users/maryannxue/followers","following_url":"https://api.github.com/users/maryannxue/following{/other_user}","gists_url":"https://api.github.com/users/maryannxue/gists{/gist_id}","starred_url":"https://api.github.com/users/maryannxue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maryannxue/subscriptions","organizations_url":"https://api.github.com/users/maryannxue/orgs","repos_url":"https://api.github.com/users/maryannxue/repos","events_url":"https://api.github.com/users/maryannxue/events{/privacy}","received_events_url":"https://api.github.com/users/maryannxue/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nWhen performing non-cascading cache invalidation, `recache` is called on the other cache entries which are dependent on the cache being invalidated. It leads to the the physical plans of those cache entries being re-compiled. For those cache entries, if the cache RDD has already been persisted, chances are there will be inconsistency between the data and the new plan. It can cause a correctness issue if the new plan's `outputPartitioning`  or `outputOrdering` is different from the that of the actual data, and meanwhile the cache is used by another query that asks for specific `outputPartitioning` or `outputOrdering` which happens to match the new plan but not the actual data.\r\n\r\nThe fix is to keep the cache entry as it is if the data has been loaded, otherwise re-build the cache entry, with a new plan and an empty cache buffer.\r\n\r\n## How was this patch tested?\r\n\r\nAdded UT.","created_at":"2019-01-28T23:53:52Z","updated_at":"2019-01-29T12:34:38Z","closed_at":"2019-01-29T12:34:38Z","merged_at":null,"merge_commit_sha":"1ef8fb4a920a7b1f32ff995fdec01d5a6a99822b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23678/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23678/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23678/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/ca0d2edcf67dde6cb6552ae9fdb2ab1279cbfe52","head":{"label":"maryannxue:spark-26708-2.4","ref":"spark-26708-2.4","sha":"ca0d2edcf67dde6cb6552ae9fdb2ab1279cbfe52","user":{"login":"maryannxue","id":4171904,"node_id":"MDQ6VXNlcjQxNzE5MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4171904?v=4","gravatar_id":"","url":"https://api.github.com/users/maryannxue","html_url":"https://github.com/maryannxue","followers_url":"https://api.github.com/users/maryannxue/followers","following_url":"https://api.github.com/users/maryannxue/following{/other_user}","gists_url":"https://api.github.com/users/maryannxue/gists{/gist_id}","starred_url":"https://api.github.com/users/maryannxue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maryannxue/subscriptions","organizations_url":"https://api.github.com/users/maryannxue/orgs","repos_url":"https://api.github.com/users/maryannxue/repos","events_url":"https://api.github.com/users/maryannxue/events{/privacy}","received_events_url":"https://api.github.com/users/maryannxue/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104110775,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQxMTA3NzU=","name":"spark","full_name":"maryannxue/spark","private":false,"owner":{"login":"maryannxue","id":4171904,"node_id":"MDQ6VXNlcjQxNzE5MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4171904?v=4","gravatar_id":"","url":"https://api.github.com/users/maryannxue","html_url":"https://github.com/maryannxue","followers_url":"https://api.github.com/users/maryannxue/followers","following_url":"https://api.github.com/users/maryannxue/following{/other_user}","gists_url":"https://api.github.com/users/maryannxue/gists{/gist_id}","starred_url":"https://api.github.com/users/maryannxue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maryannxue/subscriptions","organizations_url":"https://api.github.com/users/maryannxue/orgs","repos_url":"https://api.github.com/users/maryannxue/repos","events_url":"https://api.github.com/users/maryannxue/events{/privacy}","received_events_url":"https://api.github.com/users/maryannxue/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/maryannxue/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/maryannxue/spark","forks_url":"https://api.github.com/repos/maryannxue/spark/forks","keys_url":"https://api.github.com/repos/maryannxue/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/maryannxue/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/maryannxue/spark/teams","hooks_url":"https://api.github.com/repos/maryannxue/spark/hooks","issue_events_url":"https://api.github.com/repos/maryannxue/spark/issues/events{/number}","events_url":"https://api.github.com/repos/maryannxue/spark/events","assignees_url":"https://api.github.com/repos/maryannxue/spark/assignees{/user}","branches_url":"https://api.github.com/repos/maryannxue/spark/branches{/branch}","tags_url":"https://api.github.com/repos/maryannxue/spark/tags","blobs_url":"https://api.github.com/repos/maryannxue/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/maryannxue/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/maryannxue/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/maryannxue/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/maryannxue/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/maryannxue/spark/languages","stargazers_url":"https://api.github.com/repos/maryannxue/spark/stargazers","contributors_url":"https://api.github.com/repos/maryannxue/spark/contributors","subscribers_url":"https://api.github.com/repos/maryannxue/spark/subscribers","subscription_url":"https://api.github.com/repos/maryannxue/spark/subscription","commits_url":"https://api.github.com/repos/maryannxue/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/maryannxue/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/maryannxue/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/maryannxue/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/maryannxue/spark/contents/{+path}","compare_url":"https://api.github.com/repos/maryannxue/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/maryannxue/spark/merges","archive_url":"https://api.github.com/repos/maryannxue/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/maryannxue/spark/downloads","issues_url":"https://api.github.com/repos/maryannxue/spark/issues{/number}","pulls_url":"https://api.github.com/repos/maryannxue/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/maryannxue/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/maryannxue/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/maryannxue/spark/labels{/name}","releases_url":"https://api.github.com/repos/maryannxue/spark/releases{/id}","deployments_url":"https://api.github.com/repos/maryannxue/spark/deployments","created_at":"2017-09-19T18:13:47Z","updated_at":"2021-12-16T22:58:22Z","pushed_at":"2023-12-04T23:50:13Z","git_url":"git://github.com/maryannxue/spark.git","ssh_url":"git@github.com:maryannxue/spark.git","clone_url":"https://github.com/maryannxue/spark.git","svn_url":"https://github.com/maryannxue/spark","homepage":null,"size":410884,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:branch-2.4","ref":"branch-2.4","sha":"448a06375fcdae04a17006bdb2d02a2b5fccaca7","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23678"},"html":{"href":"https://github.com/apache/spark/pull/23678"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23678"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23678/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23678/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23678/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/ca0d2edcf67dde6cb6552ae9fdb2ab1279cbfe52"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23677","id":248320688,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4MzIwNjg4","html_url":"https://github.com/apache/spark/pull/23677","diff_url":"https://github.com/apache/spark/pull/23677.diff","patch_url":"https://github.com/apache/spark/pull/23677.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23677","number":23677,"state":"closed","locked":false,"title":"[SPARK-26755][SCHEDULER] : Optimize Spark Scheduler to dequeue speculative tasks…","user":{"login":"pgandhi999","id":22228190,"node_id":"MDQ6VXNlcjIyMjI4MTkw","avatar_url":"https://avatars.githubusercontent.com/u/22228190?v=4","gravatar_id":"","url":"https://api.github.com/users/pgandhi999","html_url":"https://github.com/pgandhi999","followers_url":"https://api.github.com/users/pgandhi999/followers","following_url":"https://api.github.com/users/pgandhi999/following{/other_user}","gists_url":"https://api.github.com/users/pgandhi999/gists{/gist_id}","starred_url":"https://api.github.com/users/pgandhi999/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgandhi999/subscriptions","organizations_url":"https://api.github.com/users/pgandhi999/orgs","repos_url":"https://api.github.com/users/pgandhi999/repos","events_url":"https://api.github.com/users/pgandhi999/events{/privacy}","received_events_url":"https://api.github.com/users/pgandhi999/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"… more efficiently\r\n\r\nThis PR improves the performance of scheduling speculative tasks to be O(1) instead of O(numSpeculativeTasks), using the same approach used for scheduling regular tasks. The performance of this method is particularly important because a lock is held on the TaskSchedulerImpl which is a bottleneck for all scheduling operations. We ran a Join query on a large dataset with speculation enabled and out of 100000 tasks for the ShuffleMapStage, the maximum number of speculatable tasks that was noted was close to 7900-8000 at a point. That is when we start seeing the bottleneck on the scheduler lock.\r\n\r\nIn particular, this works by storing a separate stack of tasks by executor, node, and rack locality preferences. Then when trying to schedule a speculative task, rather than scanning all speculative tasks to find ones which match the given executor (or node, or rack) preference, we can jump to a quick check of tasks matching the resource offer. This technique was already used for regular tasks -- this change refactors the code to allow sharing with regular and speculative task execution.\r\n\r\n## What changes were proposed in this pull request?\r\n\r\nHave split the main queue \"speculatableTasks\" into 5 separate queues based on locality preference similar to how normal tasks are enqueued. Thus, the \"dequeueSpeculativeTask\" method will avoid performing locality checks for each task at runtime and simply return the preferable task to be executed.\r\n\r\n## How was this patch tested?\r\nWe ran a spark job that performed a join on a 10 TB dataset to test the code change.\r\nOriginal Code:\r\n<img width=\"1433\" alt=\"screen shot 2019-01-28 at 5 07 22 pm\" src=\"https://user-images.githubusercontent.com/22228190/51873321-572df280-2322-11e9-9149-0aae08d5edc6.png\">\r\n\r\n\r\nOptimized Code:\r\n<img width=\"1435\" alt=\"screen shot 2019-01-28 at 5 08 19 pm\" src=\"https://user-images.githubusercontent.com/22228190/51873343-6745d200-2322-11e9-947b-2cfd0f06bcab.png\">\r\n\r\n\r\nAs you can see, the run time of the ShuffleMapStage came down from 40 min to 6 min approximately, thus, reducing the overall running time of the spark job by a significant amount.\r\n\r\nAnother example for the same job:\r\n\r\nOriginal Code:\r\n<img width=\"1440\" alt=\"screen shot 2019-01-28 at 5 11 30 pm\" src=\"https://user-images.githubusercontent.com/22228190/51873355-70cf3a00-2322-11e9-9c3a-af035449a306.png\">\r\n\r\n\r\nOptimized Code:\r\n<img width=\"1440\" alt=\"screen shot 2019-01-28 at 5 12 16 pm\" src=\"https://user-images.githubusercontent.com/22228190/51873367-7dec2900-2322-11e9-8d07-1b1b49285f71.png\">\r\n\r\n","created_at":"2019-01-28T23:14:18Z","updated_at":"2019-07-30T14:59:51Z","closed_at":"2019-07-30T14:59:51Z","merged_at":null,"merge_commit_sha":"26f79181ce100ac2b171eeba7c387260ff9c0abb","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406606875,"node_id":"MDU6TGFiZWwxNDA2NjA2ODc1","url":"https://api.github.com/repos/apache/spark/labels/SCHEDULER","name":"SCHEDULER","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23677/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23677/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23677/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/7a8c9926137ea527ec9d0bf1ad170dadf5e92c0d","head":{"label":"pgandhi999:SPARK-26755","ref":"SPARK-26755","sha":"7a8c9926137ea527ec9d0bf1ad170dadf5e92c0d","user":{"login":"pgandhi999","id":22228190,"node_id":"MDQ6VXNlcjIyMjI4MTkw","avatar_url":"https://avatars.githubusercontent.com/u/22228190?v=4","gravatar_id":"","url":"https://api.github.com/users/pgandhi999","html_url":"https://github.com/pgandhi999","followers_url":"https://api.github.com/users/pgandhi999/followers","following_url":"https://api.github.com/users/pgandhi999/following{/other_user}","gists_url":"https://api.github.com/users/pgandhi999/gists{/gist_id}","starred_url":"https://api.github.com/users/pgandhi999/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgandhi999/subscriptions","organizations_url":"https://api.github.com/users/pgandhi999/orgs","repos_url":"https://api.github.com/users/pgandhi999/repos","events_url":"https://api.github.com/users/pgandhi999/events{/privacy}","received_events_url":"https://api.github.com/users/pgandhi999/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":97985305,"node_id":"MDEwOlJlcG9zaXRvcnk5Nzk4NTMwNQ==","name":"spark","full_name":"pgandhi999/spark","private":false,"owner":{"login":"pgandhi999","id":22228190,"node_id":"MDQ6VXNlcjIyMjI4MTkw","avatar_url":"https://avatars.githubusercontent.com/u/22228190?v=4","gravatar_id":"","url":"https://api.github.com/users/pgandhi999","html_url":"https://github.com/pgandhi999","followers_url":"https://api.github.com/users/pgandhi999/followers","following_url":"https://api.github.com/users/pgandhi999/following{/other_user}","gists_url":"https://api.github.com/users/pgandhi999/gists{/gist_id}","starred_url":"https://api.github.com/users/pgandhi999/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgandhi999/subscriptions","organizations_url":"https://api.github.com/users/pgandhi999/orgs","repos_url":"https://api.github.com/users/pgandhi999/repos","events_url":"https://api.github.com/users/pgandhi999/events{/privacy}","received_events_url":"https://api.github.com/users/pgandhi999/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pgandhi999/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/pgandhi999/spark","forks_url":"https://api.github.com/repos/pgandhi999/spark/forks","keys_url":"https://api.github.com/repos/pgandhi999/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pgandhi999/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pgandhi999/spark/teams","hooks_url":"https://api.github.com/repos/pgandhi999/spark/hooks","issue_events_url":"https://api.github.com/repos/pgandhi999/spark/issues/events{/number}","events_url":"https://api.github.com/repos/pgandhi999/spark/events","assignees_url":"https://api.github.com/repos/pgandhi999/spark/assignees{/user}","branches_url":"https://api.github.com/repos/pgandhi999/spark/branches{/branch}","tags_url":"https://api.github.com/repos/pgandhi999/spark/tags","blobs_url":"https://api.github.com/repos/pgandhi999/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pgandhi999/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pgandhi999/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/pgandhi999/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pgandhi999/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/pgandhi999/spark/languages","stargazers_url":"https://api.github.com/repos/pgandhi999/spark/stargazers","contributors_url":"https://api.github.com/repos/pgandhi999/spark/contributors","subscribers_url":"https://api.github.com/repos/pgandhi999/spark/subscribers","subscription_url":"https://api.github.com/repos/pgandhi999/spark/subscription","commits_url":"https://api.github.com/repos/pgandhi999/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/pgandhi999/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/pgandhi999/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/pgandhi999/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/pgandhi999/spark/contents/{+path}","compare_url":"https://api.github.com/repos/pgandhi999/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pgandhi999/spark/merges","archive_url":"https://api.github.com/repos/pgandhi999/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pgandhi999/spark/downloads","issues_url":"https://api.github.com/repos/pgandhi999/spark/issues{/number}","pulls_url":"https://api.github.com/repos/pgandhi999/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/pgandhi999/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/pgandhi999/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pgandhi999/spark/labels{/name}","releases_url":"https://api.github.com/repos/pgandhi999/spark/releases{/id}","deployments_url":"https://api.github.com/repos/pgandhi999/spark/deployments","created_at":"2017-07-21T20:46:46Z","updated_at":"2019-09-09T16:09:17Z","pushed_at":"2019-09-09T16:29:06Z","git_url":"git://github.com/pgandhi999/spark.git","ssh_url":"git@github.com:pgandhi999/spark.git","clone_url":"https://github.com/pgandhi999/spark.git","svn_url":"https://github.com/pgandhi999/spark","homepage":null,"size":307917,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"caa23e3efd3f4422e8f599b30bec3ef1fb33c03c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23677"},"html":{"href":"https://github.com/apache/spark/pull/23677"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23677"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23677/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23677/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23677/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/7a8c9926137ea527ec9d0bf1ad170dadf5e92c0d"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23676","id":248314889,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4MzE0ODg5","html_url":"https://github.com/apache/spark/pull/23676","diff_url":"https://github.com/apache/spark/pull/23676.diff","patch_url":"https://github.com/apache/spark/pull/23676.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23676","number":23676,"state":"closed","locked":false,"title":"[SPARK-26754][PYTHON] Add hasTrainingSummary to replace duplicate code in PySpark","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nPython version of https://github.com/apache/spark/pull/17654\r\n\r\n## How was this patch tested?\r\n\r\nExisting Python unit test\r\n","created_at":"2019-01-28T22:48:46Z","updated_at":"2019-02-01T23:43:39Z","closed_at":"2019-02-01T23:33:17Z","merged_at":null,"merge_commit_sha":"72235ca65ec928e2686e00236930548544f02d03","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23676/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23676/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23676/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/6308e62960db90075d2a9a4c0a5cafcc82e71779","head":{"label":"huaxingao:spark26754","ref":"spark26754","sha":"6308e62960db90075d2a9a4c0a5cafcc82e71779","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":50813048,"node_id":"MDEwOlJlcG9zaXRvcnk1MDgxMzA0OA==","name":"spark","full_name":"huaxingao/spark","private":false,"owner":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/huaxingao/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/huaxingao/spark","forks_url":"https://api.github.com/repos/huaxingao/spark/forks","keys_url":"https://api.github.com/repos/huaxingao/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/huaxingao/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/huaxingao/spark/teams","hooks_url":"https://api.github.com/repos/huaxingao/spark/hooks","issue_events_url":"https://api.github.com/repos/huaxingao/spark/issues/events{/number}","events_url":"https://api.github.com/repos/huaxingao/spark/events","assignees_url":"https://api.github.com/repos/huaxingao/spark/assignees{/user}","branches_url":"https://api.github.com/repos/huaxingao/spark/branches{/branch}","tags_url":"https://api.github.com/repos/huaxingao/spark/tags","blobs_url":"https://api.github.com/repos/huaxingao/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/huaxingao/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/huaxingao/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/huaxingao/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/huaxingao/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/huaxingao/spark/languages","stargazers_url":"https://api.github.com/repos/huaxingao/spark/stargazers","contributors_url":"https://api.github.com/repos/huaxingao/spark/contributors","subscribers_url":"https://api.github.com/repos/huaxingao/spark/subscribers","subscription_url":"https://api.github.com/repos/huaxingao/spark/subscription","commits_url":"https://api.github.com/repos/huaxingao/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/huaxingao/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/huaxingao/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/huaxingao/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/huaxingao/spark/contents/{+path}","compare_url":"https://api.github.com/repos/huaxingao/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/huaxingao/spark/merges","archive_url":"https://api.github.com/repos/huaxingao/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/huaxingao/spark/downloads","issues_url":"https://api.github.com/repos/huaxingao/spark/issues{/number}","pulls_url":"https://api.github.com/repos/huaxingao/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/huaxingao/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/huaxingao/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/huaxingao/spark/labels{/name}","releases_url":"https://api.github.com/repos/huaxingao/spark/releases{/id}","deployments_url":"https://api.github.com/repos/huaxingao/spark/deployments","created_at":"2016-02-01T04:09:11Z","updated_at":"2022-01-06T22:35:11Z","pushed_at":"2023-12-21T02:21:07Z","git_url":"git://github.com/huaxingao/spark.git","ssh_url":"git@github.com:huaxingao/spark.git","clone_url":"https://github.com/huaxingao/spark.git","svn_url":"https://github.com/huaxingao/spark","homepage":null,"size":376946,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"92706e657629b36c9b3dc1478b2b80e351562135","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23676"},"html":{"href":"https://github.com/apache/spark/pull/23676"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23676"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23676/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23676/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23676/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/6308e62960db90075d2a9a4c0a5cafcc82e71779"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23675","id":248270540,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4MjcwNTQw","html_url":"https://github.com/apache/spark/pull/23675","diff_url":"https://github.com/apache/spark/pull/23675.diff","patch_url":"https://github.com/apache/spark/pull/23675.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23675","number":23675,"state":"closed","locked":false,"title":"[SPARK-26753][CORE] Fixed custom log levels for spark-shell by using Filter instead of Threshold","user":{"login":"ankuriitg","id":1723600,"node_id":"MDQ6VXNlcjE3MjM2MDA=","avatar_url":"https://avatars.githubusercontent.com/u/1723600?v=4","gravatar_id":"","url":"https://api.github.com/users/ankuriitg","html_url":"https://github.com/ankuriitg","followers_url":"https://api.github.com/users/ankuriitg/followers","following_url":"https://api.github.com/users/ankuriitg/following{/other_user}","gists_url":"https://api.github.com/users/ankuriitg/gists{/gist_id}","starred_url":"https://api.github.com/users/ankuriitg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankuriitg/subscriptions","organizations_url":"https://api.github.com/users/ankuriitg/orgs","repos_url":"https://api.github.com/users/ankuriitg/repos","events_url":"https://api.github.com/users/ankuriitg/events{/privacy}","received_events_url":"https://api.github.com/users/ankuriitg/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThis fix replaces the Threshold with a Filter for ConsoleAppender which checks\r\nto ensure that either the logLevel is greater than thresholdLevel (shell log\r\nlevel) or the log originated from a custom defined logger. In these cases, it\r\nlets a log event go through, otherwise it doesn't.\r\n\r\n## How was this patch tested?\r\n\r\n1. Ensured that custom log level works when set by default (via log4j.properties)\r\n2. Ensured that logs are not printed twice when log level is changed by setLogLevel\r\n3. Ensured that custom logs are printed when log level is changed back by setLogLevel","created_at":"2019-01-28T20:07:45Z","updated_at":"2019-01-30T19:05:51Z","closed_at":"2019-01-30T19:05:51Z","merged_at":null,"merge_commit_sha":"f0b2e4588d1e6374ed5011764c71cdc655233e7e","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23675/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23675/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23675/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/893ff759cff0df3aa1d2773de21e3f4adcfed0c8","head":{"label":"ankuriitg:ankurgupta/SPARK-26753","ref":"ankurgupta/SPARK-26753","sha":"893ff759cff0df3aa1d2773de21e3f4adcfed0c8","user":{"login":"ankuriitg","id":1723600,"node_id":"MDQ6VXNlcjE3MjM2MDA=","avatar_url":"https://avatars.githubusercontent.com/u/1723600?v=4","gravatar_id":"","url":"https://api.github.com/users/ankuriitg","html_url":"https://github.com/ankuriitg","followers_url":"https://api.github.com/users/ankuriitg/followers","following_url":"https://api.github.com/users/ankuriitg/following{/other_user}","gists_url":"https://api.github.com/users/ankuriitg/gists{/gist_id}","starred_url":"https://api.github.com/users/ankuriitg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankuriitg/subscriptions","organizations_url":"https://api.github.com/users/ankuriitg/orgs","repos_url":"https://api.github.com/users/ankuriitg/repos","events_url":"https://api.github.com/users/ankuriitg/events{/privacy}","received_events_url":"https://api.github.com/users/ankuriitg/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":134297219,"node_id":"MDEwOlJlcG9zaXRvcnkxMzQyOTcyMTk=","name":"spark","full_name":"ankuriitg/spark","private":false,"owner":{"login":"ankuriitg","id":1723600,"node_id":"MDQ6VXNlcjE3MjM2MDA=","avatar_url":"https://avatars.githubusercontent.com/u/1723600?v=4","gravatar_id":"","url":"https://api.github.com/users/ankuriitg","html_url":"https://github.com/ankuriitg","followers_url":"https://api.github.com/users/ankuriitg/followers","following_url":"https://api.github.com/users/ankuriitg/following{/other_user}","gists_url":"https://api.github.com/users/ankuriitg/gists{/gist_id}","starred_url":"https://api.github.com/users/ankuriitg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankuriitg/subscriptions","organizations_url":"https://api.github.com/users/ankuriitg/orgs","repos_url":"https://api.github.com/users/ankuriitg/repos","events_url":"https://api.github.com/users/ankuriitg/events{/privacy}","received_events_url":"https://api.github.com/users/ankuriitg/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ankuriitg/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/ankuriitg/spark","forks_url":"https://api.github.com/repos/ankuriitg/spark/forks","keys_url":"https://api.github.com/repos/ankuriitg/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ankuriitg/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ankuriitg/spark/teams","hooks_url":"https://api.github.com/repos/ankuriitg/spark/hooks","issue_events_url":"https://api.github.com/repos/ankuriitg/spark/issues/events{/number}","events_url":"https://api.github.com/repos/ankuriitg/spark/events","assignees_url":"https://api.github.com/repos/ankuriitg/spark/assignees{/user}","branches_url":"https://api.github.com/repos/ankuriitg/spark/branches{/branch}","tags_url":"https://api.github.com/repos/ankuriitg/spark/tags","blobs_url":"https://api.github.com/repos/ankuriitg/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ankuriitg/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ankuriitg/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/ankuriitg/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ankuriitg/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/ankuriitg/spark/languages","stargazers_url":"https://api.github.com/repos/ankuriitg/spark/stargazers","contributors_url":"https://api.github.com/repos/ankuriitg/spark/contributors","subscribers_url":"https://api.github.com/repos/ankuriitg/spark/subscribers","subscription_url":"https://api.github.com/repos/ankuriitg/spark/subscription","commits_url":"https://api.github.com/repos/ankuriitg/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/ankuriitg/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/ankuriitg/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/ankuriitg/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/ankuriitg/spark/contents/{+path}","compare_url":"https://api.github.com/repos/ankuriitg/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ankuriitg/spark/merges","archive_url":"https://api.github.com/repos/ankuriitg/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ankuriitg/spark/downloads","issues_url":"https://api.github.com/repos/ankuriitg/spark/issues{/number}","pulls_url":"https://api.github.com/repos/ankuriitg/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/ankuriitg/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/ankuriitg/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ankuriitg/spark/labels{/name}","releases_url":"https://api.github.com/repos/ankuriitg/spark/releases{/id}","deployments_url":"https://api.github.com/repos/ankuriitg/spark/deployments","created_at":"2018-05-21T16:43:14Z","updated_at":"2019-03-25T18:03:32Z","pushed_at":"2019-04-01T16:50:28Z","git_url":"git://github.com/ankuriitg/spark.git","ssh_url":"git@github.com:ankuriitg/spark.git","clone_url":"https://github.com/ankuriitg/spark.git","svn_url":"https://github.com/ankuriitg/spark","homepage":null,"size":294805,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"8baf3ba35bc13d72f8ab911284d7d75ce897cb5a","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23675"},"html":{"href":"https://github.com/apache/spark/pull/23675"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23675"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23675/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23675/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23675/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/893ff759cff0df3aa1d2773de21e3f4adcfed0c8"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23674","id":248136048,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4MTM2MDQ4","html_url":"https://github.com/apache/spark/pull/23674","diff_url":"https://github.com/apache/spark/pull/23674.diff","patch_url":"https://github.com/apache/spark/pull/23674.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23674","number":23674,"state":"closed","locked":false,"title":"[SPARK-26745][SQL][TESTS] JsonSuite test case: empty line -> 0 record count","user":{"login":"sumitsu","id":1719644,"node_id":"MDQ6VXNlcjE3MTk2NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1719644?v=4","gravatar_id":"","url":"https://api.github.com/users/sumitsu","html_url":"https://github.com/sumitsu","followers_url":"https://api.github.com/users/sumitsu/followers","following_url":"https://api.github.com/users/sumitsu/following{/other_user}","gists_url":"https://api.github.com/users/sumitsu/gists{/gist_id}","starred_url":"https://api.github.com/users/sumitsu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sumitsu/subscriptions","organizations_url":"https://api.github.com/users/sumitsu/orgs","repos_url":"https://api.github.com/users/sumitsu/repos","events_url":"https://api.github.com/users/sumitsu/events{/privacy}","received_events_url":"https://api.github.com/users/sumitsu/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThis PR consists of the `test` components of #23665 only, minus the associated patch from that PR.\r\n\r\nIt adds a new unit test to `JsonSuite` which verifies that the `count()` returned from a `DataFrame` loaded from JSON containing empty lines does not include those empty lines in the record count. The test runs `count` prior to otherwise reading data from the `DataFrame`, so as to catch future cases where a pre-parsing optimization might result in `count` results inconsistent with existing behavior.\r\n\r\nThis PR is intended to be deployed alongside #23667; `master` currently causes the test to fail, as described in [SPARK-26745](https://issues.apache.org/jira/browse/SPARK-26745).\r\n\r\n## How was this patch tested?\r\n\r\nManual testing, existing `JsonSuite` unit tests.","created_at":"2019-01-28T13:16:45Z","updated_at":"2019-04-28T01:19:18Z","closed_at":"2019-02-06T05:58:41Z","merged_at":null,"merge_commit_sha":"ccf49a4461ed6ebab7c487419e2b35637c15c110","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23674/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23674/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23674/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/63ab5bd53bb81a16f6a23f7d76f091feb36e5031","head":{"label":"sumitsu:json_emptyline_count_test","ref":"json_emptyline_count_test","sha":"63ab5bd53bb81a16f6a23f7d76f091feb36e5031","user":{"login":"sumitsu","id":1719644,"node_id":"MDQ6VXNlcjE3MTk2NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1719644?v=4","gravatar_id":"","url":"https://api.github.com/users/sumitsu","html_url":"https://github.com/sumitsu","followers_url":"https://api.github.com/users/sumitsu/followers","following_url":"https://api.github.com/users/sumitsu/following{/other_user}","gists_url":"https://api.github.com/users/sumitsu/gists{/gist_id}","starred_url":"https://api.github.com/users/sumitsu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sumitsu/subscriptions","organizations_url":"https://api.github.com/users/sumitsu/orgs","repos_url":"https://api.github.com/users/sumitsu/repos","events_url":"https://api.github.com/users/sumitsu/events{/privacy}","received_events_url":"https://api.github.com/users/sumitsu/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":166126033,"node_id":"MDEwOlJlcG9zaXRvcnkxNjYxMjYwMzM=","name":"spark","full_name":"sumitsu/spark","private":false,"owner":{"login":"sumitsu","id":1719644,"node_id":"MDQ6VXNlcjE3MTk2NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1719644?v=4","gravatar_id":"","url":"https://api.github.com/users/sumitsu","html_url":"https://github.com/sumitsu","followers_url":"https://api.github.com/users/sumitsu/followers","following_url":"https://api.github.com/users/sumitsu/following{/other_user}","gists_url":"https://api.github.com/users/sumitsu/gists{/gist_id}","starred_url":"https://api.github.com/users/sumitsu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sumitsu/subscriptions","organizations_url":"https://api.github.com/users/sumitsu/orgs","repos_url":"https://api.github.com/users/sumitsu/repos","events_url":"https://api.github.com/users/sumitsu/events{/privacy}","received_events_url":"https://api.github.com/users/sumitsu/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sumitsu/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/sumitsu/spark","forks_url":"https://api.github.com/repos/sumitsu/spark/forks","keys_url":"https://api.github.com/repos/sumitsu/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sumitsu/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sumitsu/spark/teams","hooks_url":"https://api.github.com/repos/sumitsu/spark/hooks","issue_events_url":"https://api.github.com/repos/sumitsu/spark/issues/events{/number}","events_url":"https://api.github.com/repos/sumitsu/spark/events","assignees_url":"https://api.github.com/repos/sumitsu/spark/assignees{/user}","branches_url":"https://api.github.com/repos/sumitsu/spark/branches{/branch}","tags_url":"https://api.github.com/repos/sumitsu/spark/tags","blobs_url":"https://api.github.com/repos/sumitsu/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sumitsu/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sumitsu/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/sumitsu/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sumitsu/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/sumitsu/spark/languages","stargazers_url":"https://api.github.com/repos/sumitsu/spark/stargazers","contributors_url":"https://api.github.com/repos/sumitsu/spark/contributors","subscribers_url":"https://api.github.com/repos/sumitsu/spark/subscribers","subscription_url":"https://api.github.com/repos/sumitsu/spark/subscription","commits_url":"https://api.github.com/repos/sumitsu/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/sumitsu/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/sumitsu/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/sumitsu/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/sumitsu/spark/contents/{+path}","compare_url":"https://api.github.com/repos/sumitsu/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sumitsu/spark/merges","archive_url":"https://api.github.com/repos/sumitsu/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sumitsu/spark/downloads","issues_url":"https://api.github.com/repos/sumitsu/spark/issues{/number}","pulls_url":"https://api.github.com/repos/sumitsu/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/sumitsu/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/sumitsu/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sumitsu/spark/labels{/name}","releases_url":"https://api.github.com/repos/sumitsu/spark/releases{/id}","deployments_url":"https://api.github.com/repos/sumitsu/spark/deployments","created_at":"2019-01-16T23:11:10Z","updated_at":"2019-01-26T00:45:23Z","pushed_at":"2019-02-06T01:45:39Z","git_url":"git://github.com/sumitsu/spark.git","ssh_url":"git@github.com:sumitsu/spark.git","clone_url":"https://github.com/sumitsu/spark.git","svn_url":"https://github.com/sumitsu/spark","homepage":"","size":293228,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c624f5d683dbe1338932f06cdcbe1ff172612dca","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23674"},"html":{"href":"https://github.com/apache/spark/pull/23674"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23674"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23674/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23674/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23674/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/63ab5bd53bb81a16f6a23f7d76f091feb36e5031"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23673","id":248109697,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4MTA5Njk3","html_url":"https://github.com/apache/spark/pull/23673","diff_url":"https://github.com/apache/spark/pull/23673.diff","patch_url":"https://github.com/apache/spark/pull/23673.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23673","number":23673,"state":"closed","locked":false,"title":"[SPARK-26751][SQL] Fix memory leak when statement run in background and throw exception which is not HiveSQLException","user":{"login":"caneGuy","id":26762018,"node_id":"MDQ6VXNlcjI2NzYyMDE4","avatar_url":"https://avatars.githubusercontent.com/u/26762018?v=4","gravatar_id":"","url":"https://api.github.com/users/caneGuy","html_url":"https://github.com/caneGuy","followers_url":"https://api.github.com/users/caneGuy/followers","following_url":"https://api.github.com/users/caneGuy/following{/other_user}","gists_url":"https://api.github.com/users/caneGuy/gists{/gist_id}","starred_url":"https://api.github.com/users/caneGuy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caneGuy/subscriptions","organizations_url":"https://api.github.com/users/caneGuy/orgs","repos_url":"https://api.github.com/users/caneGuy/repos","events_url":"https://api.github.com/users/caneGuy/events{/privacy}","received_events_url":"https://api.github.com/users/caneGuy/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\nWhen we run in background and we get exception which is not HiveSQLException,\r\nwe may encounter memory leak since handleToOperation will not removed correctly.\r\nThe reason is below:\r\n1. When calling operation.run() in HiveSessionImpl#executeStatementInternal we throw an exception which is not HiveSQLException\r\n2. Then the opHandle generated by SparkSQLOperationManager will not be added into opHandleSet of HiveSessionImpl , and operationManager.closeOperation(opHandle) will not be called\r\n3. When we close the session we will also call operationManager.closeOperation(opHandle),since we did not add this opHandle into the opHandleSet.\r\n\r\nFor the reasons above,the opHandled will always in SparkSQLOperationManager#handleToOperation,which will cause memory leak.\r\nMore details and a case has attached on https://issues.apache.org/jira/browse/SPARK-26751\r\nThis patch will always throw HiveSQLException when running in background\r\n\r\n## How was this patch tested?\r\nExist UT\r\n","created_at":"2019-01-28T11:44:34Z","updated_at":"2019-02-15T10:38:33Z","closed_at":"2019-02-03T14:49:08Z","merged_at":null,"merge_commit_sha":"ff6b1bfe890055bcc3c471f8586bead0f242d941","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23673/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23673/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23673/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/7addd01e82f9585c80b1734ae265323d891ce320","head":{"label":"caneGuy:zhoukang/fix-hivesessionimpl-leak","ref":"zhoukang/fix-hivesessionimpl-leak","sha":"7addd01e82f9585c80b1734ae265323d891ce320","user":{"login":"caneGuy","id":26762018,"node_id":"MDQ6VXNlcjI2NzYyMDE4","avatar_url":"https://avatars.githubusercontent.com/u/26762018?v=4","gravatar_id":"","url":"https://api.github.com/users/caneGuy","html_url":"https://github.com/caneGuy","followers_url":"https://api.github.com/users/caneGuy/followers","following_url":"https://api.github.com/users/caneGuy/following{/other_user}","gists_url":"https://api.github.com/users/caneGuy/gists{/gist_id}","starred_url":"https://api.github.com/users/caneGuy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caneGuy/subscriptions","organizations_url":"https://api.github.com/users/caneGuy/orgs","repos_url":"https://api.github.com/users/caneGuy/repos","events_url":"https://api.github.com/users/caneGuy/events{/privacy}","received_events_url":"https://api.github.com/users/caneGuy/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":96277831,"node_id":"MDEwOlJlcG9zaXRvcnk5NjI3NzgzMQ==","name":"spark","full_name":"caneGuy/spark","private":false,"owner":{"login":"caneGuy","id":26762018,"node_id":"MDQ6VXNlcjI2NzYyMDE4","avatar_url":"https://avatars.githubusercontent.com/u/26762018?v=4","gravatar_id":"","url":"https://api.github.com/users/caneGuy","html_url":"https://github.com/caneGuy","followers_url":"https://api.github.com/users/caneGuy/followers","following_url":"https://api.github.com/users/caneGuy/following{/other_user}","gists_url":"https://api.github.com/users/caneGuy/gists{/gist_id}","starred_url":"https://api.github.com/users/caneGuy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caneGuy/subscriptions","organizations_url":"https://api.github.com/users/caneGuy/orgs","repos_url":"https://api.github.com/users/caneGuy/repos","events_url":"https://api.github.com/users/caneGuy/events{/privacy}","received_events_url":"https://api.github.com/users/caneGuy/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/caneGuy/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/caneGuy/spark","forks_url":"https://api.github.com/repos/caneGuy/spark/forks","keys_url":"https://api.github.com/repos/caneGuy/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/caneGuy/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/caneGuy/spark/teams","hooks_url":"https://api.github.com/repos/caneGuy/spark/hooks","issue_events_url":"https://api.github.com/repos/caneGuy/spark/issues/events{/number}","events_url":"https://api.github.com/repos/caneGuy/spark/events","assignees_url":"https://api.github.com/repos/caneGuy/spark/assignees{/user}","branches_url":"https://api.github.com/repos/caneGuy/spark/branches{/branch}","tags_url":"https://api.github.com/repos/caneGuy/spark/tags","blobs_url":"https://api.github.com/repos/caneGuy/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/caneGuy/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/caneGuy/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/caneGuy/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/caneGuy/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/caneGuy/spark/languages","stargazers_url":"https://api.github.com/repos/caneGuy/spark/stargazers","contributors_url":"https://api.github.com/repos/caneGuy/spark/contributors","subscribers_url":"https://api.github.com/repos/caneGuy/spark/subscribers","subscription_url":"https://api.github.com/repos/caneGuy/spark/subscription","commits_url":"https://api.github.com/repos/caneGuy/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/caneGuy/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/caneGuy/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/caneGuy/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/caneGuy/spark/contents/{+path}","compare_url":"https://api.github.com/repos/caneGuy/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/caneGuy/spark/merges","archive_url":"https://api.github.com/repos/caneGuy/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/caneGuy/spark/downloads","issues_url":"https://api.github.com/repos/caneGuy/spark/issues{/number}","pulls_url":"https://api.github.com/repos/caneGuy/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/caneGuy/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/caneGuy/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/caneGuy/spark/labels{/name}","releases_url":"https://api.github.com/repos/caneGuy/spark/releases{/id}","deployments_url":"https://api.github.com/repos/caneGuy/spark/deployments","created_at":"2017-07-05T04:50:34Z","updated_at":"2019-11-13T13:03:25Z","pushed_at":"2020-06-17T08:37:24Z","git_url":"git://github.com/caneGuy/spark.git","ssh_url":"git@github.com:caneGuy/spark.git","clone_url":"https://github.com/caneGuy/spark.git","svn_url":"https://github.com/caneGuy/spark","homepage":null,"size":304382,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d53e11ffce3f721886918c1cb4525478971f02bc","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23673"},"html":{"href":"https://github.com/apache/spark/pull/23673"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23673"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23673/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23673/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23673/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/7addd01e82f9585c80b1734ae265323d891ce320"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23672","id":248098304,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4MDk4MzA0","html_url":"https://github.com/apache/spark/pull/23672","diff_url":"https://github.com/apache/spark/pull/23672.diff","patch_url":"https://github.com/apache/spark/pull/23672.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23672","number":23672,"state":"closed","locked":false,"title":"[SPARK-26750]Estimate memory overhead with multi-cores","user":{"login":"liupc","id":6747355,"node_id":"MDQ6VXNlcjY3NDczNTU=","avatar_url":"https://avatars.githubusercontent.com/u/6747355?v=4","gravatar_id":"","url":"https://api.github.com/users/liupc","html_url":"https://github.com/liupc","followers_url":"https://api.github.com/users/liupc/followers","following_url":"https://api.github.com/users/liupc/following{/other_user}","gists_url":"https://api.github.com/users/liupc/gists{/gist_id}","starred_url":"https://api.github.com/users/liupc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liupc/subscriptions","organizations_url":"https://api.github.com/users/liupc/orgs","repos_url":"https://api.github.com/users/liupc/repos","events_url":"https://api.github.com/users/liupc/events{/privacy}","received_events_url":"https://api.github.com/users/liupc/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nCurrently, spark esitmate the memory overhead without taking multi-cores into account, sometimes, it might cause direct memory oom, or container killed by yarn for exceeding requested physical memory. \r\n\r\nSince the memory overhead(mainly the direct memory used by spark execution/storage and some related jvm native memory, for instance, the thread stacks, GC data etc.) is related to the executor's core number. so maybe we can improve this estimation by taking the core number into account.\r\n\r\n## How was this patch tested?\r\n\r\nNA\r\n\r\nPlease review http://spark.apache.org/contributing.html before opening a pull request.\r\n","created_at":"2019-01-28T11:05:10Z","updated_at":"2019-02-26T15:41:23Z","closed_at":"2019-02-26T15:41:23Z","merged_at":null,"merge_commit_sha":"70e245bc9f994abc0c6d9bf4565b775ae21241df","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23672/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23672/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23672/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/51f71af2e9ea6a55a32749114a3fa0c0292bc470","head":{"label":"liupc:estimate-memory-overhead-with-multi-cores","ref":"estimate-memory-overhead-with-multi-cores","sha":"51f71af2e9ea6a55a32749114a3fa0c0292bc470","user":{"login":"liupc","id":6747355,"node_id":"MDQ6VXNlcjY3NDczNTU=","avatar_url":"https://avatars.githubusercontent.com/u/6747355?v=4","gravatar_id":"","url":"https://api.github.com/users/liupc","html_url":"https://github.com/liupc","followers_url":"https://api.github.com/users/liupc/followers","following_url":"https://api.github.com/users/liupc/following{/other_user}","gists_url":"https://api.github.com/users/liupc/gists{/gist_id}","starred_url":"https://api.github.com/users/liupc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liupc/subscriptions","organizations_url":"https://api.github.com/users/liupc/orgs","repos_url":"https://api.github.com/users/liupc/repos","events_url":"https://api.github.com/users/liupc/events{/privacy}","received_events_url":"https://api.github.com/users/liupc/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":75380071,"node_id":"MDEwOlJlcG9zaXRvcnk3NTM4MDA3MQ==","name":"spark","full_name":"liupc/spark","private":false,"owner":{"login":"liupc","id":6747355,"node_id":"MDQ6VXNlcjY3NDczNTU=","avatar_url":"https://avatars.githubusercontent.com/u/6747355?v=4","gravatar_id":"","url":"https://api.github.com/users/liupc","html_url":"https://github.com/liupc","followers_url":"https://api.github.com/users/liupc/followers","following_url":"https://api.github.com/users/liupc/following{/other_user}","gists_url":"https://api.github.com/users/liupc/gists{/gist_id}","starred_url":"https://api.github.com/users/liupc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liupc/subscriptions","organizations_url":"https://api.github.com/users/liupc/orgs","repos_url":"https://api.github.com/users/liupc/repos","events_url":"https://api.github.com/users/liupc/events{/privacy}","received_events_url":"https://api.github.com/users/liupc/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/liupc/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/liupc/spark","forks_url":"https://api.github.com/repos/liupc/spark/forks","keys_url":"https://api.github.com/repos/liupc/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/liupc/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/liupc/spark/teams","hooks_url":"https://api.github.com/repos/liupc/spark/hooks","issue_events_url":"https://api.github.com/repos/liupc/spark/issues/events{/number}","events_url":"https://api.github.com/repos/liupc/spark/events","assignees_url":"https://api.github.com/repos/liupc/spark/assignees{/user}","branches_url":"https://api.github.com/repos/liupc/spark/branches{/branch}","tags_url":"https://api.github.com/repos/liupc/spark/tags","blobs_url":"https://api.github.com/repos/liupc/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/liupc/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/liupc/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/liupc/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/liupc/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/liupc/spark/languages","stargazers_url":"https://api.github.com/repos/liupc/spark/stargazers","contributors_url":"https://api.github.com/repos/liupc/spark/contributors","subscribers_url":"https://api.github.com/repos/liupc/spark/subscribers","subscription_url":"https://api.github.com/repos/liupc/spark/subscription","commits_url":"https://api.github.com/repos/liupc/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/liupc/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/liupc/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/liupc/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/liupc/spark/contents/{+path}","compare_url":"https://api.github.com/repos/liupc/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/liupc/spark/merges","archive_url":"https://api.github.com/repos/liupc/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/liupc/spark/downloads","issues_url":"https://api.github.com/repos/liupc/spark/issues{/number}","pulls_url":"https://api.github.com/repos/liupc/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/liupc/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/liupc/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/liupc/spark/labels{/name}","releases_url":"https://api.github.com/repos/liupc/spark/releases{/id}","deployments_url":"https://api.github.com/repos/liupc/spark/deployments","created_at":"2016-12-02T09:14:58Z","updated_at":"2022-10-06T12:49:56Z","pushed_at":"2022-10-06T12:48:15Z","git_url":"git://github.com/liupc/spark.git","ssh_url":"git@github.com:liupc/spark.git","clone_url":"https://github.com/liupc/spark.git","svn_url":"https://github.com/liupc/spark","homepage":null,"size":407435,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d53e11ffce3f721886918c1cb4525478971f02bc","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23672"},"html":{"href":"https://github.com/apache/spark/pull/23672"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23672"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23672/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23672/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23672/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/51f71af2e9ea6a55a32749114a3fa0c0292bc470"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23671","id":248056275,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4MDU2Mjc1","html_url":"https://github.com/apache/spark/pull/23671","diff_url":"https://github.com/apache/spark/pull/23671.diff","patch_url":"https://github.com/apache/spark/pull/23671.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23671","number":23671,"state":"closed","locked":false,"title":"[MINOR][DOC] Writing to partitioned Hive metastore Parquet tables is not supported for Spark SQL","user":{"login":"10110346","id":24688163,"node_id":"MDQ6VXNlcjI0Njg4MTYz","avatar_url":"https://avatars.githubusercontent.com/u/24688163?v=4","gravatar_id":"","url":"https://api.github.com/users/10110346","html_url":"https://github.com/10110346","followers_url":"https://api.github.com/users/10110346/followers","following_url":"https://api.github.com/users/10110346/following{/other_user}","gists_url":"https://api.github.com/users/10110346/gists{/gist_id}","starred_url":"https://api.github.com/users/10110346/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/10110346/subscriptions","organizations_url":"https://api.github.com/users/10110346/orgs","repos_url":"https://api.github.com/users/10110346/repos","events_url":"https://api.github.com/users/10110346/events{/privacy}","received_events_url":"https://api.github.com/users/10110346/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nEven if `spark.sql.hive.convertMetastoreParquet` is true,  when writing to partitioned Hive metastore\r\nParquet tables,  Spark SQL still  can not use its own Parquet support instead of Hive SerDe.\r\n\r\nRelated code:\r\n https://github.com/apache/spark/blob/d53e11ffce3f721886918c1cb4525478971f02bc/sql/hive/src/main/scala/org/apache/spark/sql/hive/HiveStrategies.scala#L198\r\n## How was this patch tested?\r\nN/A\r\n","created_at":"2019-01-28T08:44:46Z","updated_at":"2019-02-02T00:37:23Z","closed_at":"2019-02-02T00:37:23Z","merged_at":null,"merge_commit_sha":"4d150ef0093bcbdeeb876dda9ebd6b2066578bc1","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23671/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23671/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23671/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9236e1d91d94035efb2b9b697fc54ba20eaf9d7b","head":{"label":"10110346:parquetdoc","ref":"parquetdoc","sha":"9236e1d91d94035efb2b9b697fc54ba20eaf9d7b","user":{"login":"10110346","id":24688163,"node_id":"MDQ6VXNlcjI0Njg4MTYz","avatar_url":"https://avatars.githubusercontent.com/u/24688163?v=4","gravatar_id":"","url":"https://api.github.com/users/10110346","html_url":"https://github.com/10110346","followers_url":"https://api.github.com/users/10110346/followers","following_url":"https://api.github.com/users/10110346/following{/other_user}","gists_url":"https://api.github.com/users/10110346/gists{/gist_id}","starred_url":"https://api.github.com/users/10110346/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/10110346/subscriptions","organizations_url":"https://api.github.com/users/10110346/orgs","repos_url":"https://api.github.com/users/10110346/repos","events_url":"https://api.github.com/users/10110346/events{/privacy}","received_events_url":"https://api.github.com/users/10110346/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":77023032,"node_id":"MDEwOlJlcG9zaXRvcnk3NzAyMzAzMg==","name":"spark","full_name":"10110346/spark","private":false,"owner":{"login":"10110346","id":24688163,"node_id":"MDQ6VXNlcjI0Njg4MTYz","avatar_url":"https://avatars.githubusercontent.com/u/24688163?v=4","gravatar_id":"","url":"https://api.github.com/users/10110346","html_url":"https://github.com/10110346","followers_url":"https://api.github.com/users/10110346/followers","following_url":"https://api.github.com/users/10110346/following{/other_user}","gists_url":"https://api.github.com/users/10110346/gists{/gist_id}","starred_url":"https://api.github.com/users/10110346/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/10110346/subscriptions","organizations_url":"https://api.github.com/users/10110346/orgs","repos_url":"https://api.github.com/users/10110346/repos","events_url":"https://api.github.com/users/10110346/events{/privacy}","received_events_url":"https://api.github.com/users/10110346/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/10110346/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/10110346/spark","forks_url":"https://api.github.com/repos/10110346/spark/forks","keys_url":"https://api.github.com/repos/10110346/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/10110346/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/10110346/spark/teams","hooks_url":"https://api.github.com/repos/10110346/spark/hooks","issue_events_url":"https://api.github.com/repos/10110346/spark/issues/events{/number}","events_url":"https://api.github.com/repos/10110346/spark/events","assignees_url":"https://api.github.com/repos/10110346/spark/assignees{/user}","branches_url":"https://api.github.com/repos/10110346/spark/branches{/branch}","tags_url":"https://api.github.com/repos/10110346/spark/tags","blobs_url":"https://api.github.com/repos/10110346/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/10110346/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/10110346/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/10110346/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/10110346/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/10110346/spark/languages","stargazers_url":"https://api.github.com/repos/10110346/spark/stargazers","contributors_url":"https://api.github.com/repos/10110346/spark/contributors","subscribers_url":"https://api.github.com/repos/10110346/spark/subscribers","subscription_url":"https://api.github.com/repos/10110346/spark/subscription","commits_url":"https://api.github.com/repos/10110346/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/10110346/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/10110346/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/10110346/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/10110346/spark/contents/{+path}","compare_url":"https://api.github.com/repos/10110346/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/10110346/spark/merges","archive_url":"https://api.github.com/repos/10110346/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/10110346/spark/downloads","issues_url":"https://api.github.com/repos/10110346/spark/issues{/number}","pulls_url":"https://api.github.com/repos/10110346/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/10110346/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/10110346/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/10110346/spark/labels{/name}","releases_url":"https://api.github.com/repos/10110346/spark/releases{/id}","deployments_url":"https://api.github.com/repos/10110346/spark/deployments","created_at":"2016-12-21T06:06:02Z","updated_at":"2018-07-31T06:45:30Z","pushed_at":"2019-05-08T10:42:16Z","git_url":"git://github.com/10110346/spark.git","ssh_url":"git@github.com:10110346/spark.git","clone_url":"https://github.com/10110346/spark.git","svn_url":"https://github.com/10110346/spark","homepage":null,"size":289129,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d53e11ffce3f721886918c1cb4525478971f02bc","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23671"},"html":{"href":"https://github.com/apache/spark/pull/23671"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23671"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23671/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23671/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23671/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9236e1d91d94035efb2b9b697fc54ba20eaf9d7b"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23670","id":248052297,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4MDUyMjk3","html_url":"https://github.com/apache/spark/pull/23670","diff_url":"https://github.com/apache/spark/pull/23670.diff","patch_url":"https://github.com/apache/spark/pull/23670.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23670","number":23670,"state":"closed","locked":false,"title":"[SPARK-26601][SQL] Make broadcast-exchange thread pool configurable","user":{"login":"caneGuy","id":26762018,"node_id":"MDQ6VXNlcjI2NzYyMDE4","avatar_url":"https://avatars.githubusercontent.com/u/26762018?v=4","gravatar_id":"","url":"https://api.github.com/users/caneGuy","html_url":"https://github.com/caneGuy","followers_url":"https://api.github.com/users/caneGuy/followers","following_url":"https://api.github.com/users/caneGuy/following{/other_user}","gists_url":"https://api.github.com/users/caneGuy/gists{/gist_id}","starred_url":"https://api.github.com/users/caneGuy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caneGuy/subscriptions","organizations_url":"https://api.github.com/users/caneGuy/orgs","repos_url":"https://api.github.com/users/caneGuy/repos","events_url":"https://api.github.com/users/caneGuy/events{/privacy}","received_events_url":"https://api.github.com/users/caneGuy/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nCurrently,thread number of broadcast-exchange thread pool is fixed and keepAliveSeconds is also fixed as 60s.\r\n\r\n\r\n```\r\nobject BroadcastExchangeExec {\r\n  private[execution] val executionContext = ExecutionContext.fromExecutorService(\r\n    ThreadUtils.newDaemonCachedThreadPool(\"broadcast-exchange\", 128))\r\n}\r\n\r\n /**\r\n   * Create a cached thread pool whose max number of threads is `maxThreadNumber`. Thread names\r\n   * are formatted as prefix-ID, where ID is a unique, sequentially assigned integer.\r\n   */\r\n  def newDaemonCachedThreadPool(\r\n      prefix: String, maxThreadNumber: Int, keepAliveSeconds: Int = 60): ThreadPoolExecutor = {\r\n    val threadFactory = namedThreadFactory(prefix)\r\n    val threadPool = new ThreadPoolExecutor(\r\n      maxThreadNumber, // corePoolSize: the max number of threads to create before queuing the tasks\r\n      maxThreadNumber, // maximumPoolSize: because we use LinkedBlockingDeque, this one is not used\r\n      keepAliveSeconds,\r\n      TimeUnit.SECONDS,\r\n      new LinkedBlockingQueue[Runnable],\r\n      threadFactory)\r\n    threadPool.allowCoreThreadTimeOut(true)\r\n    threadPool\r\n  }\r\n```\r\n\r\nBut some times, if the Thead object do not GC quickly it may caused server(driver) OOM. In such case,we need to make this thread pool configurable.\r\nA case has described in https://issues.apache.org/jira/browse/SPARK-26601\r\n\r\n## How was this patch tested?\r\nUT","created_at":"2019-01-28T08:27:08Z","updated_at":"2020-06-01T02:15:44Z","closed_at":"2019-05-13T11:43:37Z","merged_at":null,"merge_commit_sha":"4168b2d590d04de9b4968c65462976f4370185f4","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23670/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23670/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23670/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/40c359247f166e1801074639c2b974d866256251","head":{"label":"caneGuy:zhoukang/make-broadcat-config","ref":"zhoukang/make-broadcat-config","sha":"40c359247f166e1801074639c2b974d866256251","user":{"login":"caneGuy","id":26762018,"node_id":"MDQ6VXNlcjI2NzYyMDE4","avatar_url":"https://avatars.githubusercontent.com/u/26762018?v=4","gravatar_id":"","url":"https://api.github.com/users/caneGuy","html_url":"https://github.com/caneGuy","followers_url":"https://api.github.com/users/caneGuy/followers","following_url":"https://api.github.com/users/caneGuy/following{/other_user}","gists_url":"https://api.github.com/users/caneGuy/gists{/gist_id}","starred_url":"https://api.github.com/users/caneGuy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caneGuy/subscriptions","organizations_url":"https://api.github.com/users/caneGuy/orgs","repos_url":"https://api.github.com/users/caneGuy/repos","events_url":"https://api.github.com/users/caneGuy/events{/privacy}","received_events_url":"https://api.github.com/users/caneGuy/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":96277831,"node_id":"MDEwOlJlcG9zaXRvcnk5NjI3NzgzMQ==","name":"spark","full_name":"caneGuy/spark","private":false,"owner":{"login":"caneGuy","id":26762018,"node_id":"MDQ6VXNlcjI2NzYyMDE4","avatar_url":"https://avatars.githubusercontent.com/u/26762018?v=4","gravatar_id":"","url":"https://api.github.com/users/caneGuy","html_url":"https://github.com/caneGuy","followers_url":"https://api.github.com/users/caneGuy/followers","following_url":"https://api.github.com/users/caneGuy/following{/other_user}","gists_url":"https://api.github.com/users/caneGuy/gists{/gist_id}","starred_url":"https://api.github.com/users/caneGuy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caneGuy/subscriptions","organizations_url":"https://api.github.com/users/caneGuy/orgs","repos_url":"https://api.github.com/users/caneGuy/repos","events_url":"https://api.github.com/users/caneGuy/events{/privacy}","received_events_url":"https://api.github.com/users/caneGuy/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/caneGuy/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/caneGuy/spark","forks_url":"https://api.github.com/repos/caneGuy/spark/forks","keys_url":"https://api.github.com/repos/caneGuy/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/caneGuy/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/caneGuy/spark/teams","hooks_url":"https://api.github.com/repos/caneGuy/spark/hooks","issue_events_url":"https://api.github.com/repos/caneGuy/spark/issues/events{/number}","events_url":"https://api.github.com/repos/caneGuy/spark/events","assignees_url":"https://api.github.com/repos/caneGuy/spark/assignees{/user}","branches_url":"https://api.github.com/repos/caneGuy/spark/branches{/branch}","tags_url":"https://api.github.com/repos/caneGuy/spark/tags","blobs_url":"https://api.github.com/repos/caneGuy/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/caneGuy/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/caneGuy/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/caneGuy/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/caneGuy/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/caneGuy/spark/languages","stargazers_url":"https://api.github.com/repos/caneGuy/spark/stargazers","contributors_url":"https://api.github.com/repos/caneGuy/spark/contributors","subscribers_url":"https://api.github.com/repos/caneGuy/spark/subscribers","subscription_url":"https://api.github.com/repos/caneGuy/spark/subscription","commits_url":"https://api.github.com/repos/caneGuy/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/caneGuy/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/caneGuy/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/caneGuy/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/caneGuy/spark/contents/{+path}","compare_url":"https://api.github.com/repos/caneGuy/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/caneGuy/spark/merges","archive_url":"https://api.github.com/repos/caneGuy/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/caneGuy/spark/downloads","issues_url":"https://api.github.com/repos/caneGuy/spark/issues{/number}","pulls_url":"https://api.github.com/repos/caneGuy/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/caneGuy/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/caneGuy/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/caneGuy/spark/labels{/name}","releases_url":"https://api.github.com/repos/caneGuy/spark/releases{/id}","deployments_url":"https://api.github.com/repos/caneGuy/spark/deployments","created_at":"2017-07-05T04:50:34Z","updated_at":"2019-11-13T13:03:25Z","pushed_at":"2020-06-17T08:37:24Z","git_url":"git://github.com/caneGuy/spark.git","ssh_url":"git@github.com:caneGuy/spark.git","clone_url":"https://github.com/caneGuy/spark.git","svn_url":"https://github.com/caneGuy/spark","homepage":null,"size":304382,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"90b72512f46ac08008d574577c65263d9b13a33c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23670"},"html":{"href":"https://github.com/apache/spark/pull/23670"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23670"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23670/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23670/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23670/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/40c359247f166e1801074639c2b974d866256251"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23669","id":248038524,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4MDM4NTI0","html_url":"https://github.com/apache/spark/pull/23669","diff_url":"https://github.com/apache/spark/pull/23669.diff","patch_url":"https://github.com/apache/spark/pull/23669.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23669","number":23669,"state":"closed","locked":false,"title":"[SPARK-26747][SQL] Makes GetMapValue nullability more precise","user":{"login":"maropu","id":692303,"node_id":"MDQ6VXNlcjY5MjMwMw==","avatar_url":"https://avatars.githubusercontent.com/u/692303?v=4","gravatar_id":"","url":"https://api.github.com/users/maropu","html_url":"https://github.com/maropu","followers_url":"https://api.github.com/users/maropu/followers","following_url":"https://api.github.com/users/maropu/following{/other_user}","gists_url":"https://api.github.com/users/maropu/gists{/gist_id}","starred_url":"https://api.github.com/users/maropu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maropu/subscriptions","organizations_url":"https://api.github.com/users/maropu/orgs","repos_url":"https://api.github.com/users/maropu/repos","events_url":"https://api.github.com/users/maropu/events{/privacy}","received_events_url":"https://api.github.com/users/maropu/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\nIn master, `GetMapValue` nullable is always true;\r\nhttps://github.com/apache/spark/blob/cf133e611020ed178f90358464a1b88cdd9b7889/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/expressions/complexTypeExtractors.scala#L371\r\n\r\nBut, If input key is foldable, we could make its nullability more precise.\r\nThis fix is the same with SPARK-26637(#23566).\r\n\r\n## How was this patch tested?\r\nAdded tests in `ComplexTypeSuite`.","created_at":"2019-01-28T07:19:29Z","updated_at":"2019-01-28T21:43:12Z","closed_at":"2019-01-28T21:43:12Z","merged_at":null,"merge_commit_sha":"aae1486586667c2a03326f499d9154c55453232e","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23669/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23669/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23669/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/ddd3b56421d170bef6f5de67f4049e6a28bba6a1","head":{"label":"maropu:SPARK-26747","ref":"SPARK-26747","sha":"ddd3b56421d170bef6f5de67f4049e6a28bba6a1","user":{"login":"maropu","id":692303,"node_id":"MDQ6VXNlcjY5MjMwMw==","avatar_url":"https://avatars.githubusercontent.com/u/692303?v=4","gravatar_id":"","url":"https://api.github.com/users/maropu","html_url":"https://github.com/maropu","followers_url":"https://api.github.com/users/maropu/followers","following_url":"https://api.github.com/users/maropu/following{/other_user}","gists_url":"https://api.github.com/users/maropu/gists{/gist_id}","starred_url":"https://api.github.com/users/maropu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maropu/subscriptions","organizations_url":"https://api.github.com/users/maropu/orgs","repos_url":"https://api.github.com/users/maropu/repos","events_url":"https://api.github.com/users/maropu/events{/privacy}","received_events_url":"https://api.github.com/users/maropu/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":27115199,"node_id":"MDEwOlJlcG9zaXRvcnkyNzExNTE5OQ==","name":"spark","full_name":"maropu/spark","private":false,"owner":{"login":"maropu","id":692303,"node_id":"MDQ6VXNlcjY5MjMwMw==","avatar_url":"https://avatars.githubusercontent.com/u/692303?v=4","gravatar_id":"","url":"https://api.github.com/users/maropu","html_url":"https://github.com/maropu","followers_url":"https://api.github.com/users/maropu/followers","following_url":"https://api.github.com/users/maropu/following{/other_user}","gists_url":"https://api.github.com/users/maropu/gists{/gist_id}","starred_url":"https://api.github.com/users/maropu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maropu/subscriptions","organizations_url":"https://api.github.com/users/maropu/orgs","repos_url":"https://api.github.com/users/maropu/repos","events_url":"https://api.github.com/users/maropu/events{/privacy}","received_events_url":"https://api.github.com/users/maropu/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/maropu/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/maropu/spark","forks_url":"https://api.github.com/repos/maropu/spark/forks","keys_url":"https://api.github.com/repos/maropu/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/maropu/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/maropu/spark/teams","hooks_url":"https://api.github.com/repos/maropu/spark/hooks","issue_events_url":"https://api.github.com/repos/maropu/spark/issues/events{/number}","events_url":"https://api.github.com/repos/maropu/spark/events","assignees_url":"https://api.github.com/repos/maropu/spark/assignees{/user}","branches_url":"https://api.github.com/repos/maropu/spark/branches{/branch}","tags_url":"https://api.github.com/repos/maropu/spark/tags","blobs_url":"https://api.github.com/repos/maropu/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/maropu/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/maropu/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/maropu/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/maropu/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/maropu/spark/languages","stargazers_url":"https://api.github.com/repos/maropu/spark/stargazers","contributors_url":"https://api.github.com/repos/maropu/spark/contributors","subscribers_url":"https://api.github.com/repos/maropu/spark/subscribers","subscription_url":"https://api.github.com/repos/maropu/spark/subscription","commits_url":"https://api.github.com/repos/maropu/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/maropu/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/maropu/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/maropu/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/maropu/spark/contents/{+path}","compare_url":"https://api.github.com/repos/maropu/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/maropu/spark/merges","archive_url":"https://api.github.com/repos/maropu/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/maropu/spark/downloads","issues_url":"https://api.github.com/repos/maropu/spark/issues{/number}","pulls_url":"https://api.github.com/repos/maropu/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/maropu/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/maropu/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/maropu/spark/labels{/name}","releases_url":"https://api.github.com/repos/maropu/spark/releases{/id}","deployments_url":"https://api.github.com/repos/maropu/spark/deployments","created_at":"2014-11-25T08:00:37Z","updated_at":"2021-06-22T15:34:47Z","pushed_at":"2021-07-16T02:22:28Z","git_url":"git://github.com/maropu/spark.git","ssh_url":"git@github.com:maropu/spark.git","clone_url":"https://github.com/maropu/spark.git","svn_url":"https://github.com/maropu/spark","homepage":null,"size":365163,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d53e11ffce3f721886918c1cb4525478971f02bc","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23669"},"html":{"href":"https://github.com/apache/spark/pull/23669"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23669"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23669/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23669/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23669/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/ddd3b56421d170bef6f5de67f4049e6a28bba6a1"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23668","id":248019153,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4MDE5MTUz","html_url":"https://github.com/apache/spark/pull/23668","diff_url":"https://github.com/apache/spark/pull/23668.diff","patch_url":"https://github.com/apache/spark/pull/23668.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23668","number":23668,"state":"closed","locked":false,"title":"[SPARK-26660][FOLLOWUP] Add warning logs when broadcasting large task binary","user":{"login":"srowen","id":822522,"node_id":"MDQ6VXNlcjgyMjUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/822522?v=4","gravatar_id":"","url":"https://api.github.com/users/srowen","html_url":"https://github.com/srowen","followers_url":"https://api.github.com/users/srowen/followers","following_url":"https://api.github.com/users/srowen/following{/other_user}","gists_url":"https://api.github.com/users/srowen/gists{/gist_id}","starred_url":"https://api.github.com/users/srowen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srowen/subscriptions","organizations_url":"https://api.github.com/users/srowen/orgs","repos_url":"https://api.github.com/users/srowen/repos","events_url":"https://api.github.com/users/srowen/events{/privacy}","received_events_url":"https://api.github.com/users/srowen/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThe warning introduced in https://github.com/apache/spark/pull/23580 has a bug: https://github.com/apache/spark/pull/23580#issuecomment-458000380 This just fixes the logic.\r\n\r\n## How was this patch tested?\r\n\r\nN/A","created_at":"2019-01-28T05:10:04Z","updated_at":"2019-02-14T21:52:26Z","closed_at":"2019-01-28T19:48:02Z","merged_at":null,"merge_commit_sha":"8c8273f3c65d4567b75e06f71e991c7c441698ee","assignee":null,"assignees":[],"requested_reviewers":[{"login":"maropu","id":692303,"node_id":"MDQ6VXNlcjY5MjMwMw==","avatar_url":"https://avatars.githubusercontent.com/u/692303?v=4","gravatar_id":"","url":"https://api.github.com/users/maropu","html_url":"https://github.com/maropu","followers_url":"https://api.github.com/users/maropu/followers","following_url":"https://api.github.com/users/maropu/following{/other_user}","gists_url":"https://api.github.com/users/maropu/gists{/gist_id}","starred_url":"https://api.github.com/users/maropu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maropu/subscriptions","organizations_url":"https://api.github.com/users/maropu/orgs","repos_url":"https://api.github.com/users/maropu/repos","events_url":"https://api.github.com/users/maropu/events{/privacy}","received_events_url":"https://api.github.com/users/maropu/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23668/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23668/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23668/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/835d3a2c25c5fb447e9cc06b19db9da61317e5db","head":{"label":"srowen:SPARK-26660.2","ref":"SPARK-26660.2","sha":"835d3a2c25c5fb447e9cc06b19db9da61317e5db","user":{"login":"srowen","id":822522,"node_id":"MDQ6VXNlcjgyMjUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/822522?v=4","gravatar_id":"","url":"https://api.github.com/users/srowen","html_url":"https://github.com/srowen","followers_url":"https://api.github.com/users/srowen/followers","following_url":"https://api.github.com/users/srowen/following{/other_user}","gists_url":"https://api.github.com/users/srowen/gists{/gist_id}","starred_url":"https://api.github.com/users/srowen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srowen/subscriptions","organizations_url":"https://api.github.com/users/srowen/orgs","repos_url":"https://api.github.com/users/srowen/repos","events_url":"https://api.github.com/users/srowen/events{/privacy}","received_events_url":"https://api.github.com/users/srowen/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":17241201,"node_id":"MDEwOlJlcG9zaXRvcnkxNzI0MTIwMQ==","name":"spark","full_name":"srowen/spark","private":false,"owner":{"login":"srowen","id":822522,"node_id":"MDQ6VXNlcjgyMjUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/822522?v=4","gravatar_id":"","url":"https://api.github.com/users/srowen","html_url":"https://github.com/srowen","followers_url":"https://api.github.com/users/srowen/followers","following_url":"https://api.github.com/users/srowen/following{/other_user}","gists_url":"https://api.github.com/users/srowen/gists{/gist_id}","starred_url":"https://api.github.com/users/srowen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srowen/subscriptions","organizations_url":"https://api.github.com/users/srowen/orgs","repos_url":"https://api.github.com/users/srowen/repos","events_url":"https://api.github.com/users/srowen/events{/privacy}","received_events_url":"https://api.github.com/users/srowen/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/srowen/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/srowen/spark","forks_url":"https://api.github.com/repos/srowen/spark/forks","keys_url":"https://api.github.com/repos/srowen/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/srowen/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/srowen/spark/teams","hooks_url":"https://api.github.com/repos/srowen/spark/hooks","issue_events_url":"https://api.github.com/repos/srowen/spark/issues/events{/number}","events_url":"https://api.github.com/repos/srowen/spark/events","assignees_url":"https://api.github.com/repos/srowen/spark/assignees{/user}","branches_url":"https://api.github.com/repos/srowen/spark/branches{/branch}","tags_url":"https://api.github.com/repos/srowen/spark/tags","blobs_url":"https://api.github.com/repos/srowen/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/srowen/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/srowen/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/srowen/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/srowen/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/srowen/spark/languages","stargazers_url":"https://api.github.com/repos/srowen/spark/stargazers","contributors_url":"https://api.github.com/repos/srowen/spark/contributors","subscribers_url":"https://api.github.com/repos/srowen/spark/subscribers","subscription_url":"https://api.github.com/repos/srowen/spark/subscription","commits_url":"https://api.github.com/repos/srowen/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/srowen/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/srowen/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/srowen/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/srowen/spark/contents/{+path}","compare_url":"https://api.github.com/repos/srowen/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/srowen/spark/merges","archive_url":"https://api.github.com/repos/srowen/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/srowen/spark/downloads","issues_url":"https://api.github.com/repos/srowen/spark/issues{/number}","pulls_url":"https://api.github.com/repos/srowen/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/srowen/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/srowen/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/srowen/spark/labels{/name}","releases_url":"https://api.github.com/repos/srowen/spark/releases{/id}","deployments_url":"https://api.github.com/repos/srowen/spark/deployments","created_at":"2014-02-27T07:57:07Z","updated_at":"2022-01-12T08:52:54Z","pushed_at":"2024-03-31T01:22:22Z","git_url":"git://github.com/srowen/spark.git","ssh_url":"git@github.com:srowen/spark.git","clone_url":"https://github.com/srowen/spark.git","svn_url":"https://github.com/srowen/spark","homepage":null,"size":366506,"stargazers_count":7,"watchers_count":7,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":7,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d53e11ffce3f721886918c1cb4525478971f02bc","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23668"},"html":{"href":"https://github.com/apache/spark/pull/23668"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23668"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23668/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23668/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23668/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/835d3a2c25c5fb447e9cc06b19db9da61317e5db"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23667","id":248017206,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4MDE3MjA2","html_url":"https://github.com/apache/spark/pull/23667","diff_url":"https://github.com/apache/spark/pull/23667.diff","patch_url":"https://github.com/apache/spark/pull/23667.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23667","number":23667,"state":"closed","locked":false,"title":"[SPARK-26745][SQL] Revert count optimization in JSON datasource by SPARK-24959","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThis PR reverts JSON count optimization part of #21909.\r\n\r\nWe cannot distinguish the cases below without parsing:\r\n\r\n```\r\n[{...}, {...}]\r\n```\r\n\r\n```\r\n[]\r\n```\r\n\r\n```\r\n{...}\r\n```\r\n\r\n```bash\r\n# empty string\r\n```\r\n\r\nwhen we `count()`. One line (input: IN) can be, 0 record, 1 record and multiple records and this is dependent on each input.\r\n\r\nSee also https://github.com/apache/spark/pull/23665#discussion_r251276720.\r\n\r\n## How was this patch tested?\r\n\r\nManually tested.\r\n","created_at":"2019-01-28T04:51:55Z","updated_at":"2020-07-07T07:09:42Z","closed_at":"2019-01-31T06:36:01Z","merged_at":null,"merge_commit_sha":"65fcd4dd1d8f2db608d1bf33318c7295be63f104","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23667/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23667/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23667/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/466e3dda451e99abaef44942118cc40f9e9a6660","head":{"label":"HyukjinKwon:revert-SPARK-24959","ref":"revert-SPARK-24959","sha":"466e3dda451e99abaef44942118cc40f9e9a6660","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ae5b2a6a92be4986ef5b8062d7fb59318cff6430","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23667"},"html":{"href":"https://github.com/apache/spark/pull/23667"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23667"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23667/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23667/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23667/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/466e3dda451e99abaef44942118cc40f9e9a6660"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23666","id":248003076,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ4MDAzMDc2","html_url":"https://github.com/apache/spark/pull/23666","diff_url":"https://github.com/apache/spark/pull/23666.diff","patch_url":"https://github.com/apache/spark/pull/23666.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23666","number":23666,"state":"closed","locked":false,"title":"[SPARK-26718][SS] Fixed integer overflow in SS kafka rateLimit calculation ","user":{"login":"linehrr","id":1124115,"node_id":"MDQ6VXNlcjExMjQxMTU=","avatar_url":"https://avatars.githubusercontent.com/u/1124115?v=4","gravatar_id":"","url":"https://api.github.com/users/linehrr","html_url":"https://github.com/linehrr","followers_url":"https://api.github.com/users/linehrr/followers","following_url":"https://api.github.com/users/linehrr/following{/other_user}","gists_url":"https://api.github.com/users/linehrr/gists{/gist_id}","starred_url":"https://api.github.com/users/linehrr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linehrr/subscriptions","organizations_url":"https://api.github.com/users/linehrr/orgs","repos_url":"https://api.github.com/users/linehrr/repos","events_url":"https://api.github.com/users/linehrr/events{/privacy}","received_events_url":"https://api.github.com/users/linehrr/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nFix the integer overflow issue in rateLimit.\r\n\r\n## How was this patch tested?\r\n\r\nPass the Jenkins with newly added UT for the possible case where integer could be overflowed.\r\n","created_at":"2019-01-28T02:37:58Z","updated_at":"2019-01-29T19:03:09Z","closed_at":"2019-01-29T19:01:42Z","merged_at":null,"merge_commit_sha":"f9168822221311ec5d06117fd064fb647a6bdb65","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23666/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23666/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23666/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9a125017d79887e146977ed6ae153fd833453937","head":{"label":"linehrr:master","ref":"master","sha":"9a125017d79887e146977ed6ae153fd833453937","user":{"login":"linehrr","id":1124115,"node_id":"MDQ6VXNlcjExMjQxMTU=","avatar_url":"https://avatars.githubusercontent.com/u/1124115?v=4","gravatar_id":"","url":"https://api.github.com/users/linehrr","html_url":"https://github.com/linehrr","followers_url":"https://api.github.com/users/linehrr/followers","following_url":"https://api.github.com/users/linehrr/following{/other_user}","gists_url":"https://api.github.com/users/linehrr/gists{/gist_id}","starred_url":"https://api.github.com/users/linehrr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linehrr/subscriptions","organizations_url":"https://api.github.com/users/linehrr/orgs","repos_url":"https://api.github.com/users/linehrr/repos","events_url":"https://api.github.com/users/linehrr/events{/privacy}","received_events_url":"https://api.github.com/users/linehrr/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":167579729,"node_id":"MDEwOlJlcG9zaXRvcnkxNjc1Nzk3Mjk=","name":"spark","full_name":"linehrr/spark","private":false,"owner":{"login":"linehrr","id":1124115,"node_id":"MDQ6VXNlcjExMjQxMTU=","avatar_url":"https://avatars.githubusercontent.com/u/1124115?v=4","gravatar_id":"","url":"https://api.github.com/users/linehrr","html_url":"https://github.com/linehrr","followers_url":"https://api.github.com/users/linehrr/followers","following_url":"https://api.github.com/users/linehrr/following{/other_user}","gists_url":"https://api.github.com/users/linehrr/gists{/gist_id}","starred_url":"https://api.github.com/users/linehrr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linehrr/subscriptions","organizations_url":"https://api.github.com/users/linehrr/orgs","repos_url":"https://api.github.com/users/linehrr/repos","events_url":"https://api.github.com/users/linehrr/events{/privacy}","received_events_url":"https://api.github.com/users/linehrr/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/linehrr/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/linehrr/spark","forks_url":"https://api.github.com/repos/linehrr/spark/forks","keys_url":"https://api.github.com/repos/linehrr/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/linehrr/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/linehrr/spark/teams","hooks_url":"https://api.github.com/repos/linehrr/spark/hooks","issue_events_url":"https://api.github.com/repos/linehrr/spark/issues/events{/number}","events_url":"https://api.github.com/repos/linehrr/spark/events","assignees_url":"https://api.github.com/repos/linehrr/spark/assignees{/user}","branches_url":"https://api.github.com/repos/linehrr/spark/branches{/branch}","tags_url":"https://api.github.com/repos/linehrr/spark/tags","blobs_url":"https://api.github.com/repos/linehrr/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/linehrr/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/linehrr/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/linehrr/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/linehrr/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/linehrr/spark/languages","stargazers_url":"https://api.github.com/repos/linehrr/spark/stargazers","contributors_url":"https://api.github.com/repos/linehrr/spark/contributors","subscribers_url":"https://api.github.com/repos/linehrr/spark/subscribers","subscription_url":"https://api.github.com/repos/linehrr/spark/subscription","commits_url":"https://api.github.com/repos/linehrr/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/linehrr/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/linehrr/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/linehrr/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/linehrr/spark/contents/{+path}","compare_url":"https://api.github.com/repos/linehrr/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/linehrr/spark/merges","archive_url":"https://api.github.com/repos/linehrr/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/linehrr/spark/downloads","issues_url":"https://api.github.com/repos/linehrr/spark/issues{/number}","pulls_url":"https://api.github.com/repos/linehrr/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/linehrr/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/linehrr/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/linehrr/spark/labels{/name}","releases_url":"https://api.github.com/repos/linehrr/spark/releases{/id}","deployments_url":"https://api.github.com/repos/linehrr/spark/deployments","created_at":"2019-01-25T16:41:18Z","updated_at":"2019-05-10T21:00:55Z","pushed_at":"2019-05-10T21:00:41Z","git_url":"git://github.com/linehrr/spark.git","ssh_url":"git@github.com:linehrr/spark.git","clone_url":"https://github.com/linehrr/spark.git","svn_url":"https://github.com/linehrr/spark","homepage":"","size":295499,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"3a17c6a06bc4e8a6cae506a61d3d83696d378607","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23666"},"html":{"href":"https://github.com/apache/spark/pull/23666"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23666"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23666/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23666/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23666/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9a125017d79887e146977ed6ae153fd833453937"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23665","id":247994289,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3OTk0Mjg5","html_url":"https://github.com/apache/spark/pull/23665","diff_url":"https://github.com/apache/spark/pull/23665.diff","patch_url":"https://github.com/apache/spark/pull/23665.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23665","number":23665,"state":"closed","locked":false,"title":"[SPARK-26745][SQL] Skip empty lines in JSON-derived DataFrames when skipParsing optimization in effect","user":{"login":"sumitsu","id":1719644,"node_id":"MDQ6VXNlcjE3MTk2NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1719644?v=4","gravatar_id":"","url":"https://api.github.com/users/sumitsu","html_url":"https://github.com/sumitsu","followers_url":"https://api.github.com/users/sumitsu/followers","following_url":"https://api.github.com/users/sumitsu/following{/other_user}","gists_url":"https://api.github.com/users/sumitsu/gists{/gist_id}","starred_url":"https://api.github.com/users/sumitsu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sumitsu/subscriptions","organizations_url":"https://api.github.com/users/sumitsu/orgs","repos_url":"https://api.github.com/users/sumitsu/repos","events_url":"https://api.github.com/users/sumitsu/events{/privacy}","received_events_url":"https://api.github.com/users/sumitsu/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThis PR updates [`FailureSafeParser`](https://github.com/apache/spark/blob/master/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/util/FailureSafeParser.scala) to allow text-input data sources to optionally specify a \"fast\" emptiness check for records, to be applied in cases where full parsing is disabled (i.e. where `skipParsing==true`: non-multiline + permissive-mode + empty schema).\r\n\r\n[`TextInputJsonDataSource`](https://github.com/apache/spark/blob/7a83d71/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/json/JsonDataSource.scala#L87) is updated such that it creates `FailureSafeParser` with an emptiness check which filters out blank (or all-whitespace) lines. This behavior resolves **[SPARK-26745](https://issues.apache.org/jira/browse/SPARK-26745)** by preventing `count()` from including blank lines (which the full parser ignores) under conditions where `skipParsing` is enabled.\r\n\r\n## How was this patch tested?\r\n\r\nExisting `JsonSuite` unit tests, supplemented by a new test case which verifies that pre-parsing and post-parsing `count()` values are equal for JSON-derived DataFrames.\r\n\r\n### `JsonBenchmark` performance test results\r\n\r\nThe [`JsonBenchmark`](https://github.com/apache/spark/blob/master/sql/core/src/test/scala/org/apache/spark/sql/execution/datasources/json/JsonBenchmark.scala) performance suite was executed on the following branches:\r\n\r\n- this PR (branch: `sumitsu/spark:json_emptyline_count`)\r\n- `apache/spark:master` branch\r\n- `apache/spark:master` branch, modified to **not** use the [SPARK-24959](https://issues.apache.org/jira/browse/SPARK-24959) optimization\r\n\r\nThe no-optimization code base was simulated by hard-coding the [`skipParsing` flag in `FailureSafeParser`](https://github.com/apache/spark/blob/11e5f1b/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/util/FailureSafeParser.scala#L54) to `false` for the test.\r\n\r\nCompared with the no-optimization scenario, this PR appears to preserve most of the [SPARK-24959](https://issues.apache.org/jira/browse/SPARK-24959) optimization performance gains, but there is a small performance regression compared with `master`.\r\n\r\nSummary charts:\r\n\r\n- [all benchmarks](https://drive.google.com/open?id=1-ess-XSaOnMOI7NgFbIbhsnblbL3bH5e)\r\n- [count-without-select benchmarks only](https://drive.google.com/open?id=1iJyd_ju31wFvNP-65MwNdqaR3uCmLLQJ)\r\n\r\ntest environment:\r\n```\r\nJava HotSpot(TM) 64-Bit Server VM 1.8.0_162-b12 on Mac OS X 10.12.6\r\nIntel(R) Core(TM) i7-4770HQ CPU @ 2.20GHz\r\n```\r\n\r\n#### with changes in this PR (branch: `sumitsu/spark:json_emptyline_count`)\r\n\r\n```\r\nJSON schema inferring:                   Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\r\n------------------------------------------------------------------------------------------------\r\nNo encoding                               397395 / 422450          0.3        3973.9       1.0X\r\nUTF-8 is set                              430505 / 436580          0.2        4305.1       0.9X\r\n\r\ncount a short column:                    Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\r\n------------------------------------------------------------------------------------------------\r\nNo encoding                                 18986 / 19018          5.3         189.9       1.0X\r\nUTF-8 is set                                18848 / 18954          5.3         188.5       1.0X\r\n\r\ncount a wide column:                     Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\r\n------------------------------------------------------------------------------------------------\r\nNo encoding                                 39076 / 39130          0.3        3907.6       1.0X\r\nUTF-8 is set                                39383 / 39455          0.3        3938.3       1.0X\r\n\r\nSelect a subset of 10 columns:           Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\r\n------------------------------------------------------------------------------------------------\r\nSelect 10 columns + count()                 14586 / 14904          0.7        1458.6       1.0X\r\nSelect 1 column + count()                   10969 / 10992          0.9        1096.9       1.3X\r\ncount()                                       2740 / 2755          3.6         274.0       5.3X\r\n\r\ncreation of JSON parser per line:        Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\r\n------------------------------------------------------------------------------------------------\r\nShort column without encoding                 6822 / 6870          1.5         682.2       1.0X\r\nShort column with UTF-8                       8901 / 8937          1.1         890.1       0.8X\r\nWide column without encoding              140199 / 140659          0.1       14019.9       0.0X\r\nWide column with UTF-8                    158228 / 158439          0.1       15822.8       0.0X\r\n```\r\n\r\n#### `apache/spark:master` branch\r\n\r\n```\r\nJSON schema inferring:                   Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\r\n------------------------------------------------------------------------------------------------\r\nNo encoding                               376210 / 378100          0.3        3762.1       1.0X\r\nUTF-8 is set                              410952 / 414711          0.2        4109.5       0.9X\r\n\r\ncount a short column:                    Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\r\n------------------------------------------------------------------------------------------------\r\nNo encoding                                 12871 / 12904          7.8         128.7       1.0X\r\nUTF-8 is set                                12857 / 12932          7.8         128.6       1.0X\r\n\r\ncount a wide column:                     Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\r\n------------------------------------------------------------------------------------------------\r\nNo encoding                                 38650 / 38680          0.3        3865.0       1.0X\r\nUTF-8 is set                                38751 / 38774          0.3        3875.1       1.0X\r\n\r\nSelect a subset of 10 columns:           Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\r\n------------------------------------------------------------------------------------------------\r\nSelect 10 columns + count()                 14570 / 14986          0.7        1457.0       1.0X\r\nSelect 1 column + count()                   11410 / 11757          0.9        1141.0       1.3X\r\ncount()                                       2346 / 2367          4.3         234.6       6.2X\r\n\r\ncreation of JSON parser per line:        Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\r\n------------------------------------------------------------------------------------------------\r\nShort column without encoding                 6596 / 6708          1.5         659.6       1.0X\r\nShort column with UTF-8                       8867 / 8902          1.1         886.7       0.7X\r\nWide column without encoding              139712 / 139725          0.1       13971.2       0.0X\r\nWide column with UTF-8                    156809 / 156832          0.1       15680.9       0.0X\r\n```\r\n\r\n#### optimization disabled\r\n\r\n```\r\nJSON schema inferring:                   Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\r\n------------------------------------------------------------------------------------------------\r\nNo encoding                               375309 / 376301          0.3        3753.1       1.0X\r\nUTF-8 is set                              442666 / 448741          0.2        4426.7       0.8X\r\n\r\ncount a short column:                    Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\r\n------------------------------------------------------------------------------------------------\r\nNo encoding                                 39014 / 39036          2.6         390.1       1.0X\r\nUTF-8 is set                                66988 / 67107          1.5         669.9       0.6X\r\n\r\ncount a wide column:                     Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\r\n------------------------------------------------------------------------------------------------\r\nNo encoding                                 62555 / 62712          0.2        6255.5       1.0X\r\nUTF-8 is set                                85354 / 85509          0.1        8535.4       0.7X\r\n\r\nSelect a subset of 10 columns:           Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\r\n------------------------------------------------------------------------------------------------\r\nSelect 10 columns + count()                 17173 / 17249          0.6        1717.3       1.0X\r\nSelect 1 column + count()                   11503 / 11514          0.9        1150.3       1.5X\r\ncount()                                     13806 / 13849          0.7        1380.6       1.2X\r\n\r\ncreation of JSON parser per line:        Best/Avg Time(ms)    Rate(M/s)   Per Row(ns)   Relative\r\n------------------------------------------------------------------------------------------------\r\nShort column without encoding                 6388 / 6432          1.6         638.8       1.0X\r\nShort column with UTF-8                       8910 / 8923          1.1         891.0       0.7X\r\nWide column without encoding              135854 / 135964          0.1       13585.4       0.0X\r\nWide column with UTF-8                    154108 / 154186          0.1       15410.8       0.0X\r\n```","created_at":"2019-01-28T00:52:34Z","updated_at":"2019-01-31T06:40:28Z","closed_at":"2019-01-31T06:40:28Z","merged_at":null,"merge_commit_sha":"22b5b4957be2f28669dd17598b2b55adef55d6ec","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23665/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23665/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23665/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/cd2f30cbec303356e276ab83a83f092b8a2c36e6","head":{"label":"sumitsu:json_emptyline_count","ref":"json_emptyline_count","sha":"cd2f30cbec303356e276ab83a83f092b8a2c36e6","user":{"login":"sumitsu","id":1719644,"node_id":"MDQ6VXNlcjE3MTk2NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1719644?v=4","gravatar_id":"","url":"https://api.github.com/users/sumitsu","html_url":"https://github.com/sumitsu","followers_url":"https://api.github.com/users/sumitsu/followers","following_url":"https://api.github.com/users/sumitsu/following{/other_user}","gists_url":"https://api.github.com/users/sumitsu/gists{/gist_id}","starred_url":"https://api.github.com/users/sumitsu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sumitsu/subscriptions","organizations_url":"https://api.github.com/users/sumitsu/orgs","repos_url":"https://api.github.com/users/sumitsu/repos","events_url":"https://api.github.com/users/sumitsu/events{/privacy}","received_events_url":"https://api.github.com/users/sumitsu/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":166126033,"node_id":"MDEwOlJlcG9zaXRvcnkxNjYxMjYwMzM=","name":"spark","full_name":"sumitsu/spark","private":false,"owner":{"login":"sumitsu","id":1719644,"node_id":"MDQ6VXNlcjE3MTk2NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1719644?v=4","gravatar_id":"","url":"https://api.github.com/users/sumitsu","html_url":"https://github.com/sumitsu","followers_url":"https://api.github.com/users/sumitsu/followers","following_url":"https://api.github.com/users/sumitsu/following{/other_user}","gists_url":"https://api.github.com/users/sumitsu/gists{/gist_id}","starred_url":"https://api.github.com/users/sumitsu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sumitsu/subscriptions","organizations_url":"https://api.github.com/users/sumitsu/orgs","repos_url":"https://api.github.com/users/sumitsu/repos","events_url":"https://api.github.com/users/sumitsu/events{/privacy}","received_events_url":"https://api.github.com/users/sumitsu/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sumitsu/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/sumitsu/spark","forks_url":"https://api.github.com/repos/sumitsu/spark/forks","keys_url":"https://api.github.com/repos/sumitsu/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sumitsu/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sumitsu/spark/teams","hooks_url":"https://api.github.com/repos/sumitsu/spark/hooks","issue_events_url":"https://api.github.com/repos/sumitsu/spark/issues/events{/number}","events_url":"https://api.github.com/repos/sumitsu/spark/events","assignees_url":"https://api.github.com/repos/sumitsu/spark/assignees{/user}","branches_url":"https://api.github.com/repos/sumitsu/spark/branches{/branch}","tags_url":"https://api.github.com/repos/sumitsu/spark/tags","blobs_url":"https://api.github.com/repos/sumitsu/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sumitsu/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sumitsu/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/sumitsu/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sumitsu/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/sumitsu/spark/languages","stargazers_url":"https://api.github.com/repos/sumitsu/spark/stargazers","contributors_url":"https://api.github.com/repos/sumitsu/spark/contributors","subscribers_url":"https://api.github.com/repos/sumitsu/spark/subscribers","subscription_url":"https://api.github.com/repos/sumitsu/spark/subscription","commits_url":"https://api.github.com/repos/sumitsu/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/sumitsu/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/sumitsu/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/sumitsu/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/sumitsu/spark/contents/{+path}","compare_url":"https://api.github.com/repos/sumitsu/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sumitsu/spark/merges","archive_url":"https://api.github.com/repos/sumitsu/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sumitsu/spark/downloads","issues_url":"https://api.github.com/repos/sumitsu/spark/issues{/number}","pulls_url":"https://api.github.com/repos/sumitsu/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/sumitsu/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/sumitsu/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sumitsu/spark/labels{/name}","releases_url":"https://api.github.com/repos/sumitsu/spark/releases{/id}","deployments_url":"https://api.github.com/repos/sumitsu/spark/deployments","created_at":"2019-01-16T23:11:10Z","updated_at":"2019-01-26T00:45:23Z","pushed_at":"2019-02-06T01:45:39Z","git_url":"git://github.com/sumitsu/spark.git","ssh_url":"git@github.com:sumitsu/spark.git","clone_url":"https://github.com/sumitsu/spark.git","svn_url":"https://github.com/sumitsu/spark","homepage":"","size":293228,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ce7e7df99d9b33eaabee17c4f6216d2e12848eaf","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23665"},"html":{"href":"https://github.com/apache/spark/pull/23665"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23665"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23665/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23665/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23665/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/cd2f30cbec303356e276ab83a83f092b8a2c36e6"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23664","id":247932909,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3OTMyOTA5","html_url":"https://github.com/apache/spark/pull/23664","diff_url":"https://github.com/apache/spark/pull/23664.diff","patch_url":"https://github.com/apache/spark/pull/23664.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23664","number":23664,"state":"closed","locked":false,"title":"[MINOR][DOCS] Add a note that 'spark.executor.pyspark.memory' is dependent on 'resource'","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThis PR adds a note that explicitly `spark.executor.pyspark.memory` is dependent on resource module's behaviours at Python memory usage.\r\n\r\nFor instance, I at least see some difference at https://github.com/apache/spark/pull/21977#discussion_r251220966\r\n\r\n## How was this patch tested?\r\n\r\nManually built the doc.\r\n","created_at":"2019-01-27T05:19:38Z","updated_at":"2020-03-03T01:20:01Z","closed_at":"2019-01-31T07:54:58Z","merged_at":null,"merge_commit_sha":"1ccd1abbed4a97ca98d9762c41375c1e3b8bed7a","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23664/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23664/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23664/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/7fa33ed39053a98d36502cf8f9237004ee968c69","head":{"label":"HyukjinKwon:note-resource-dependent","ref":"note-resource-dependent","sha":"7fa33ed39053a98d36502cf8f9237004ee968c69","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"e8982ca7ad94e98d907babf2d6f1068b7cd064c6","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23664"},"html":{"href":"https://github.com/apache/spark/pull/23664"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23664"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23664/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23664/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23664/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/7fa33ed39053a98d36502cf8f9237004ee968c69"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23663","id":247932508,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3OTMyNTA4","html_url":"https://github.com/apache/spark/pull/23663","diff_url":"https://github.com/apache/spark/pull/23663.diff","patch_url":"https://github.com/apache/spark/pull/23663.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23663","number":23663,"state":"closed","locked":false,"title":"[SPARK-26743][PYTHON] Adds a test to check the actual resource limit set via 'spark.executor.pyspark.memory'","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nhttps://github.com/apache/spark/pull/21977 added a feature to limit Python worker resource limit.\r\nThis PR is kind of a followup of it. It proposes to add a test that checks the actual resource limit set by 'spark.executor.pyspark.memory'. \r\n\r\n## How was this patch tested?\r\n\r\nUnit tests were added.\r\n\r\n","created_at":"2019-01-27T05:06:44Z","updated_at":"2020-03-03T01:20:05Z","closed_at":"2019-01-28T02:02:53Z","merged_at":null,"merge_commit_sha":"09426e731d1df9d32ba07383eb48e4a4dee4f651","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23663/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23663/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23663/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9f78eb514ce54b0f421a6057b31d5194382d3903","head":{"label":"HyukjinKwon:test_rlimit","ref":"test_rlimit","sha":"9f78eb514ce54b0f421a6057b31d5194382d3903","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"e8982ca7ad94e98d907babf2d6f1068b7cd064c6","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23663"},"html":{"href":"https://github.com/apache/spark/pull/23663"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23663"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23663/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23663/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23663/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9f78eb514ce54b0f421a6057b31d5194382d3903"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23662","id":247907249,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3OTA3MjQ5","html_url":"https://github.com/apache/spark/pull/23662","diff_url":"https://github.com/apache/spark/pull/23662.diff","patch_url":"https://github.com/apache/spark/pull/23662.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23662","number":23662,"state":"closed","locked":false,"title":"[SPARK-26740][SPARK-26654][SQL] Make statistics of timestamp/date columns independent from system time zones","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nIn the PR, I propose to covert underlying types of timestamp/date columns to strings, and store the converted values as column statistics. This makes statistics for timestamp/date columns independent from system time zone while saving and retrieving such statistics.\r\n\r\nI bumped versions of stored statistics from 1 to 2 since the PR changes the format.\r\n\r\n## How was this patch tested?\r\n\r\nThe changes were tested by `StatisticsCollectionSuite` and by `StatisticsSuite`.\r\n","created_at":"2019-01-26T19:00:57Z","updated_at":"2019-09-18T15:56:46Z","closed_at":"2019-02-12T03:02:11Z","merged_at":null,"merge_commit_sha":"2e22c291f067700d8b372cca37eb19fffe0453ed","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23662/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23662/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23662/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/02129377c335eb4b6a5f0d36ad8ecdf04e9917d7","head":{"label":"MaxGekk:column-stats-time-date","ref":"column-stats-time-date","sha":"02129377c335eb4b6a5f0d36ad8ecdf04e9917d7","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":123690489,"node_id":"MDEwOlJlcG9zaXRvcnkxMjM2OTA0ODk=","name":"spark","full_name":"MaxGekk/spark","private":false,"owner":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/MaxGekk/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/MaxGekk/spark","forks_url":"https://api.github.com/repos/MaxGekk/spark/forks","keys_url":"https://api.github.com/repos/MaxGekk/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/MaxGekk/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/MaxGekk/spark/teams","hooks_url":"https://api.github.com/repos/MaxGekk/spark/hooks","issue_events_url":"https://api.github.com/repos/MaxGekk/spark/issues/events{/number}","events_url":"https://api.github.com/repos/MaxGekk/spark/events","assignees_url":"https://api.github.com/repos/MaxGekk/spark/assignees{/user}","branches_url":"https://api.github.com/repos/MaxGekk/spark/branches{/branch}","tags_url":"https://api.github.com/repos/MaxGekk/spark/tags","blobs_url":"https://api.github.com/repos/MaxGekk/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/MaxGekk/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/MaxGekk/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/MaxGekk/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/MaxGekk/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/MaxGekk/spark/languages","stargazers_url":"https://api.github.com/repos/MaxGekk/spark/stargazers","contributors_url":"https://api.github.com/repos/MaxGekk/spark/contributors","subscribers_url":"https://api.github.com/repos/MaxGekk/spark/subscribers","subscription_url":"https://api.github.com/repos/MaxGekk/spark/subscription","commits_url":"https://api.github.com/repos/MaxGekk/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/MaxGekk/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/MaxGekk/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/MaxGekk/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/MaxGekk/spark/contents/{+path}","compare_url":"https://api.github.com/repos/MaxGekk/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/MaxGekk/spark/merges","archive_url":"https://api.github.com/repos/MaxGekk/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/MaxGekk/spark/downloads","issues_url":"https://api.github.com/repos/MaxGekk/spark/issues{/number}","pulls_url":"https://api.github.com/repos/MaxGekk/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/MaxGekk/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/MaxGekk/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/MaxGekk/spark/labels{/name}","releases_url":"https://api.github.com/repos/MaxGekk/spark/releases{/id}","deployments_url":"https://api.github.com/repos/MaxGekk/spark/deployments","created_at":"2018-03-03T12:37:00Z","updated_at":"2025-02-07T09:44:52Z","pushed_at":"2025-02-07T09:44:24Z","git_url":"git://github.com/MaxGekk/spark.git","ssh_url":"git@github.com:MaxGekk/spark.git","clone_url":"https://github.com/MaxGekk/spark.git","svn_url":"https://github.com/MaxGekk/spark","homepage":null,"size":486456,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"f4a17e916b729f9dc46e859b50a416db1e37b92e","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23662"},"html":{"href":"https://github.com/apache/spark/pull/23662"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23662"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23662/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23662/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23662/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/02129377c335eb4b6a5f0d36ad8ecdf04e9917d7"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23661","id":247888980,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3ODg4OTgw","html_url":"https://github.com/apache/spark/pull/23661","diff_url":"https://github.com/apache/spark/pull/23661.diff","patch_url":"https://github.com/apache/spark/pull/23661.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23661","number":23661,"state":"closed","locked":false,"title":"[SPARK-26656][SQL] Benchmarks for date and timestamp functions","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nAdded the following benchmarks:\r\n- Extract components from timestamp like year, month, day and etc.\r\n- Current date and time\r\n- Date arithmetic like date_add, date_sub\r\n- Format dates and timestamps\r\n- Convert timestamps from/to UTC","created_at":"2019-01-26T13:19:26Z","updated_at":"2019-08-17T13:36:38Z","closed_at":"2019-01-28T13:21:54Z","merged_at":null,"merge_commit_sha":"85b7e4c962a1c66c7959b4b4676b358bbd36348d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23661/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23661/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23661/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/cb12aaecdff40b63f4cb0cf8df0c8ceecc7b5440","head":{"label":"MaxGekk:datetime-benchmark","ref":"datetime-benchmark","sha":"cb12aaecdff40b63f4cb0cf8df0c8ceecc7b5440","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":123690489,"node_id":"MDEwOlJlcG9zaXRvcnkxMjM2OTA0ODk=","name":"spark","full_name":"MaxGekk/spark","private":false,"owner":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/MaxGekk/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/MaxGekk/spark","forks_url":"https://api.github.com/repos/MaxGekk/spark/forks","keys_url":"https://api.github.com/repos/MaxGekk/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/MaxGekk/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/MaxGekk/spark/teams","hooks_url":"https://api.github.com/repos/MaxGekk/spark/hooks","issue_events_url":"https://api.github.com/repos/MaxGekk/spark/issues/events{/number}","events_url":"https://api.github.com/repos/MaxGekk/spark/events","assignees_url":"https://api.github.com/repos/MaxGekk/spark/assignees{/user}","branches_url":"https://api.github.com/repos/MaxGekk/spark/branches{/branch}","tags_url":"https://api.github.com/repos/MaxGekk/spark/tags","blobs_url":"https://api.github.com/repos/MaxGekk/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/MaxGekk/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/MaxGekk/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/MaxGekk/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/MaxGekk/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/MaxGekk/spark/languages","stargazers_url":"https://api.github.com/repos/MaxGekk/spark/stargazers","contributors_url":"https://api.github.com/repos/MaxGekk/spark/contributors","subscribers_url":"https://api.github.com/repos/MaxGekk/spark/subscribers","subscription_url":"https://api.github.com/repos/MaxGekk/spark/subscription","commits_url":"https://api.github.com/repos/MaxGekk/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/MaxGekk/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/MaxGekk/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/MaxGekk/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/MaxGekk/spark/contents/{+path}","compare_url":"https://api.github.com/repos/MaxGekk/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/MaxGekk/spark/merges","archive_url":"https://api.github.com/repos/MaxGekk/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/MaxGekk/spark/downloads","issues_url":"https://api.github.com/repos/MaxGekk/spark/issues{/number}","pulls_url":"https://api.github.com/repos/MaxGekk/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/MaxGekk/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/MaxGekk/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/MaxGekk/spark/labels{/name}","releases_url":"https://api.github.com/repos/MaxGekk/spark/releases{/id}","deployments_url":"https://api.github.com/repos/MaxGekk/spark/deployments","created_at":"2018-03-03T12:37:00Z","updated_at":"2025-02-07T09:44:52Z","pushed_at":"2025-02-07T09:44:24Z","git_url":"git://github.com/MaxGekk/spark.git","ssh_url":"git@github.com:MaxGekk/spark.git","clone_url":"https://github.com/MaxGekk/spark.git","svn_url":"https://github.com/MaxGekk/spark","homepage":null,"size":486456,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"aa3d16d68b7ebd9210c330905f01590ef93d875c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23661"},"html":{"href":"https://github.com/apache/spark/pull/23661"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23661"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23661/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23661/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23661/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/cb12aaecdff40b63f4cb0cf8df0c8ceecc7b5440"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23660","id":247874138,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3ODc0MTM4","html_url":"https://github.com/apache/spark/pull/23660","diff_url":"https://github.com/apache/spark/pull/23660.diff","patch_url":"https://github.com/apache/spark/pull/23660.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23660","number":23660,"state":"closed","locked":false,"title":"[SPARK-26379][SS][FOLLOWUP] Use dummy TimeZoneId to avoid UnresolvedException in CurrentBatchTimestamp","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nSpark replaces `CurrentTimestamp` with `CurrentBatchTimestamp`.\r\nHowever, `CurrentBatchTimestamp` is `TimeZoneAwareExpression` while `CurrentTimestamp` isn't.\r\nWithout TimeZoneId, `CurrentBatchTimestamp` becomes unresolved and raises `UnresolvedException`.\r\n\r\nSince `CurrentDate` is `TimeZoneAwareExpression`, there is no problem with `CurrentDate`.\r\n\r\nThis PR reverts the [previous patch](https://github.com/apache/spark/pull/23609) on `MicroBatchExecution` and fixes the root cause.\r\n\r\n## How was this patch tested?\r\n\r\nPass the Jenkins with the updated test cases.","created_at":"2019-01-26T07:30:38Z","updated_at":"2019-01-27T18:08:27Z","closed_at":"2019-01-27T18:08:27Z","merged_at":null,"merge_commit_sha":"6b0035d14a69c34f496d84556eb961352c64e780","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23660/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23660/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23660/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/fcbfcd5c0fe7f2f8b4ef3d21bf67064ed0d727ed","head":{"label":"dongjoon-hyun:SPARK-26379","ref":"SPARK-26379","sha":"fcbfcd5c0fe7f2f8b4ef3d21bf67064ed0d727ed","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"aa3d16d68b7ebd9210c330905f01590ef93d875c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23660"},"html":{"href":"https://github.com/apache/spark/pull/23660"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23660"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23660/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23660/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23660/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/fcbfcd5c0fe7f2f8b4ef3d21bf67064ed0d727ed"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23659","id":247873724,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3ODczNzI0","html_url":"https://github.com/apache/spark/pull/23659","diff_url":"https://github.com/apache/spark/pull/23659.diff","patch_url":"https://github.com/apache/spark/pull/23659.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23659","number":23659,"state":"closed","locked":false,"title":"[SPARK-26737][YARN] Executor/Task STDERR & STDOUT log urls are not correct in Yarn deployment mode","user":{"login":"devaraj-kavali","id":3174804,"node_id":"MDQ6VXNlcjMxNzQ4MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3174804?v=4","gravatar_id":"","url":"https://api.github.com/users/devaraj-kavali","html_url":"https://github.com/devaraj-kavali","followers_url":"https://api.github.com/users/devaraj-kavali/followers","following_url":"https://api.github.com/users/devaraj-kavali/following{/other_user}","gists_url":"https://api.github.com/users/devaraj-kavali/gists{/gist_id}","starred_url":"https://api.github.com/users/devaraj-kavali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devaraj-kavali/subscriptions","organizations_url":"https://api.github.com/users/devaraj-kavali/orgs","repos_url":"https://api.github.com/users/devaraj-kavali/repos","events_url":"https://api.github.com/users/devaraj-kavali/events{/privacy}","received_events_url":"https://api.github.com/users/devaraj-kavali/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nAs part of the SPARK-22404 PR, base log url formation has been changed for unmanaged am which causes to include key is also part of the base url. This PR corrects the addition of key into base url.\r\n\r\n## How was this patch tested?\r\n\r\nVerified the url manually and see that this has been corrected with the PR change.\r\n\r\nBefore this PR the base log url is like,\r\n\r\n- Unmanaged AM enabled: \r\n  `http://ip:8042/node/containerlogs/container_1544212645385_0252_01_000002/(USER, devaraj)`\r\n\r\n- Unmanaged AM disabled:\r\n  `http://ip:8042/node/containerlogs/container_1544212645385_0254_01_000002/(SPARK_USER, devaraj)`\r\n\r\nWith the PR change, base log url is like this:\r\n- Unmanaged AM enabled/disabled:\r\n  `http://ip:8042/node/containerlogs/container_1544212645385_0253_01_000002/devaraj`\r\n\r\n","created_at":"2019-01-26T07:20:02Z","updated_at":"2019-01-28T21:42:55Z","closed_at":"2019-01-28T21:42:55Z","merged_at":null,"merge_commit_sha":"b56eb63774e767818a0afd3476adcfd9de19cdea","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23659/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23659/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23659/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/a5bcfa131e1d55fe132998184e8cf079df4f7472","head":{"label":"devaraj-kavali:SPARK-26737","ref":"SPARK-26737","sha":"a5bcfa131e1d55fe132998184e8cf079df4f7472","user":{"login":"devaraj-kavali","id":3174804,"node_id":"MDQ6VXNlcjMxNzQ4MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3174804?v=4","gravatar_id":"","url":"https://api.github.com/users/devaraj-kavali","html_url":"https://github.com/devaraj-kavali","followers_url":"https://api.github.com/users/devaraj-kavali/followers","following_url":"https://api.github.com/users/devaraj-kavali/following{/other_user}","gists_url":"https://api.github.com/users/devaraj-kavali/gists{/gist_id}","starred_url":"https://api.github.com/users/devaraj-kavali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devaraj-kavali/subscriptions","organizations_url":"https://api.github.com/users/devaraj-kavali/orgs","repos_url":"https://api.github.com/users/devaraj-kavali/repos","events_url":"https://api.github.com/users/devaraj-kavali/events{/privacy}","received_events_url":"https://api.github.com/users/devaraj-kavali/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":20208591,"node_id":"MDEwOlJlcG9zaXRvcnkyMDIwODU5MQ==","name":"spark","full_name":"devaraj-kavali/spark","private":false,"owner":{"login":"devaraj-kavali","id":3174804,"node_id":"MDQ6VXNlcjMxNzQ4MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3174804?v=4","gravatar_id":"","url":"https://api.github.com/users/devaraj-kavali","html_url":"https://github.com/devaraj-kavali","followers_url":"https://api.github.com/users/devaraj-kavali/followers","following_url":"https://api.github.com/users/devaraj-kavali/following{/other_user}","gists_url":"https://api.github.com/users/devaraj-kavali/gists{/gist_id}","starred_url":"https://api.github.com/users/devaraj-kavali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devaraj-kavali/subscriptions","organizations_url":"https://api.github.com/users/devaraj-kavali/orgs","repos_url":"https://api.github.com/users/devaraj-kavali/repos","events_url":"https://api.github.com/users/devaraj-kavali/events{/privacy}","received_events_url":"https://api.github.com/users/devaraj-kavali/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/devaraj-kavali/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/devaraj-kavali/spark","forks_url":"https://api.github.com/repos/devaraj-kavali/spark/forks","keys_url":"https://api.github.com/repos/devaraj-kavali/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/devaraj-kavali/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/devaraj-kavali/spark/teams","hooks_url":"https://api.github.com/repos/devaraj-kavali/spark/hooks","issue_events_url":"https://api.github.com/repos/devaraj-kavali/spark/issues/events{/number}","events_url":"https://api.github.com/repos/devaraj-kavali/spark/events","assignees_url":"https://api.github.com/repos/devaraj-kavali/spark/assignees{/user}","branches_url":"https://api.github.com/repos/devaraj-kavali/spark/branches{/branch}","tags_url":"https://api.github.com/repos/devaraj-kavali/spark/tags","blobs_url":"https://api.github.com/repos/devaraj-kavali/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/devaraj-kavali/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/devaraj-kavali/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/devaraj-kavali/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/devaraj-kavali/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/devaraj-kavali/spark/languages","stargazers_url":"https://api.github.com/repos/devaraj-kavali/spark/stargazers","contributors_url":"https://api.github.com/repos/devaraj-kavali/spark/contributors","subscribers_url":"https://api.github.com/repos/devaraj-kavali/spark/subscribers","subscription_url":"https://api.github.com/repos/devaraj-kavali/spark/subscription","commits_url":"https://api.github.com/repos/devaraj-kavali/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/devaraj-kavali/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/devaraj-kavali/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/devaraj-kavali/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/devaraj-kavali/spark/contents/{+path}","compare_url":"https://api.github.com/repos/devaraj-kavali/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/devaraj-kavali/spark/merges","archive_url":"https://api.github.com/repos/devaraj-kavali/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/devaraj-kavali/spark/downloads","issues_url":"https://api.github.com/repos/devaraj-kavali/spark/issues{/number}","pulls_url":"https://api.github.com/repos/devaraj-kavali/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/devaraj-kavali/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/devaraj-kavali/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/devaraj-kavali/spark/labels{/name}","releases_url":"https://api.github.com/repos/devaraj-kavali/spark/releases{/id}","deployments_url":"https://api.github.com/repos/devaraj-kavali/spark/deployments","created_at":"2014-05-27T05:52:19Z","updated_at":"2016-05-19T16:32:48Z","pushed_at":"2020-02-20T22:37:46Z","git_url":"git://github.com/devaraj-kavali/spark.git","ssh_url":"git@github.com:devaraj-kavali/spark.git","clone_url":"https://github.com/devaraj-kavali/spark.git","svn_url":"https://github.com/devaraj-kavali/spark","homepage":null,"size":287593,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"aa3d16d68b7ebd9210c330905f01590ef93d875c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23659"},"html":{"href":"https://github.com/apache/spark/pull/23659"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23659"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23659/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23659/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23659/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/a5bcfa131e1d55fe132998184e8cf079df4f7472"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23658","id":247852892,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3ODUyODky","html_url":"https://github.com/apache/spark/pull/23658","diff_url":"https://github.com/apache/spark/pull/23658.diff","patch_url":"https://github.com/apache/spark/pull/23658.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23658","number":23658,"state":"closed","locked":false,"title":"[SPARK-26735][SQL] Verify plan integrity for special expressions","user":{"login":"rednaxelafx","id":107834,"node_id":"MDQ6VXNlcjEwNzgzNA==","avatar_url":"https://avatars.githubusercontent.com/u/107834?v=4","gravatar_id":"","url":"https://api.github.com/users/rednaxelafx","html_url":"https://github.com/rednaxelafx","followers_url":"https://api.github.com/users/rednaxelafx/followers","following_url":"https://api.github.com/users/rednaxelafx/following{/other_user}","gists_url":"https://api.github.com/users/rednaxelafx/gists{/gist_id}","starred_url":"https://api.github.com/users/rednaxelafx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rednaxelafx/subscriptions","organizations_url":"https://api.github.com/users/rednaxelafx/orgs","repos_url":"https://api.github.com/users/rednaxelafx/repos","events_url":"https://api.github.com/users/rednaxelafx/events{/privacy}","received_events_url":"https://api.github.com/users/rednaxelafx/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nAdd verification of plan integrity with regards to special expressions being hosted only in supported operators. Specifically:\r\n\r\n- `AggregateExpression`: should only be hosted in `Aggregate`, or indirectly in `Window`\r\n- `WindowExpression`: should only be hosted in `Window`\r\n- `Generator`: should only be hosted in `Generate`\r\n\r\nThis will help us catch errors in future optimizer rules that incorrectly hoist special expression out of their supported operator.\r\n\r\nTODO: This PR actually caught a bug in the analyzer in the test case `SPARK-23957 Remove redundant sort from subquery plan(scalar subquery)` in `SubquerySuite`, where a `max()` aggregate function is hosted in a `Sort` operator in the analyzed plan, which is invalid. That test case is disabled in this PR.\r\nSPARK-26741 has been opened to track the fix in the analyzer.\r\n\r\n## How was this patch tested?\r\n\r\nAdded new test case in `OptimizerStructuralIntegrityCheckerSuite`","created_at":"2019-01-26T00:42:18Z","updated_at":"2019-01-27T06:29:56Z","closed_at":"2019-01-27T06:29:56Z","merged_at":null,"merge_commit_sha":"d44b0ea3ce6eee5b6cc8faee8615b7cd67476f05","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23658/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23658/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23658/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/c1d38dd2fc05237131baaac443a493593c2fa863","head":{"label":"rednaxelafx:plan-integrity","ref":"plan-integrity","sha":"c1d38dd2fc05237131baaac443a493593c2fa863","user":{"login":"rednaxelafx","id":107834,"node_id":"MDQ6VXNlcjEwNzgzNA==","avatar_url":"https://avatars.githubusercontent.com/u/107834?v=4","gravatar_id":"","url":"https://api.github.com/users/rednaxelafx","html_url":"https://github.com/rednaxelafx","followers_url":"https://api.github.com/users/rednaxelafx/followers","following_url":"https://api.github.com/users/rednaxelafx/following{/other_user}","gists_url":"https://api.github.com/users/rednaxelafx/gists{/gist_id}","starred_url":"https://api.github.com/users/rednaxelafx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rednaxelafx/subscriptions","organizations_url":"https://api.github.com/users/rednaxelafx/orgs","repos_url":"https://api.github.com/users/rednaxelafx/repos","events_url":"https://api.github.com/users/rednaxelafx/events{/privacy}","received_events_url":"https://api.github.com/users/rednaxelafx/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":89513466,"node_id":"MDEwOlJlcG9zaXRvcnk4OTUxMzQ2Ng==","name":"apache-spark","full_name":"rednaxelafx/apache-spark","private":false,"owner":{"login":"rednaxelafx","id":107834,"node_id":"MDQ6VXNlcjEwNzgzNA==","avatar_url":"https://avatars.githubusercontent.com/u/107834?v=4","gravatar_id":"","url":"https://api.github.com/users/rednaxelafx","html_url":"https://github.com/rednaxelafx","followers_url":"https://api.github.com/users/rednaxelafx/followers","following_url":"https://api.github.com/users/rednaxelafx/following{/other_user}","gists_url":"https://api.github.com/users/rednaxelafx/gists{/gist_id}","starred_url":"https://api.github.com/users/rednaxelafx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rednaxelafx/subscriptions","organizations_url":"https://api.github.com/users/rednaxelafx/orgs","repos_url":"https://api.github.com/users/rednaxelafx/repos","events_url":"https://api.github.com/users/rednaxelafx/events{/privacy}","received_events_url":"https://api.github.com/users/rednaxelafx/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rednaxelafx/apache-spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/rednaxelafx/apache-spark","forks_url":"https://api.github.com/repos/rednaxelafx/apache-spark/forks","keys_url":"https://api.github.com/repos/rednaxelafx/apache-spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rednaxelafx/apache-spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rednaxelafx/apache-spark/teams","hooks_url":"https://api.github.com/repos/rednaxelafx/apache-spark/hooks","issue_events_url":"https://api.github.com/repos/rednaxelafx/apache-spark/issues/events{/number}","events_url":"https://api.github.com/repos/rednaxelafx/apache-spark/events","assignees_url":"https://api.github.com/repos/rednaxelafx/apache-spark/assignees{/user}","branches_url":"https://api.github.com/repos/rednaxelafx/apache-spark/branches{/branch}","tags_url":"https://api.github.com/repos/rednaxelafx/apache-spark/tags","blobs_url":"https://api.github.com/repos/rednaxelafx/apache-spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rednaxelafx/apache-spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rednaxelafx/apache-spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/rednaxelafx/apache-spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rednaxelafx/apache-spark/statuses/{sha}","languages_url":"https://api.github.com/repos/rednaxelafx/apache-spark/languages","stargazers_url":"https://api.github.com/repos/rednaxelafx/apache-spark/stargazers","contributors_url":"https://api.github.com/repos/rednaxelafx/apache-spark/contributors","subscribers_url":"https://api.github.com/repos/rednaxelafx/apache-spark/subscribers","subscription_url":"https://api.github.com/repos/rednaxelafx/apache-spark/subscription","commits_url":"https://api.github.com/repos/rednaxelafx/apache-spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/rednaxelafx/apache-spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/rednaxelafx/apache-spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/rednaxelafx/apache-spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/rednaxelafx/apache-spark/contents/{+path}","compare_url":"https://api.github.com/repos/rednaxelafx/apache-spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rednaxelafx/apache-spark/merges","archive_url":"https://api.github.com/repos/rednaxelafx/apache-spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rednaxelafx/apache-spark/downloads","issues_url":"https://api.github.com/repos/rednaxelafx/apache-spark/issues{/number}","pulls_url":"https://api.github.com/repos/rednaxelafx/apache-spark/pulls{/number}","milestones_url":"https://api.github.com/repos/rednaxelafx/apache-spark/milestones{/number}","notifications_url":"https://api.github.com/repos/rednaxelafx/apache-spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rednaxelafx/apache-spark/labels{/name}","releases_url":"https://api.github.com/repos/rednaxelafx/apache-spark/releases{/id}","deployments_url":"https://api.github.com/repos/rednaxelafx/apache-spark/deployments","created_at":"2017-04-26T18:24:20Z","updated_at":"2022-08-14T03:26:49Z","pushed_at":"2024-01-02T22:51:53Z","git_url":"git://github.com/rednaxelafx/apache-spark.git","ssh_url":"git@github.com:rednaxelafx/apache-spark.git","clone_url":"https://github.com/rednaxelafx/apache-spark.git","svn_url":"https://github.com/rednaxelafx/apache-spark","homepage":null,"size":414814,"stargazers_count":4,"watchers_count":4,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":4,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"aa3d16d68b7ebd9210c330905f01590ef93d875c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23658"},"html":{"href":"https://github.com/apache/spark/pull/23658"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23658"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23658/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23658/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23658/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/c1d38dd2fc05237131baaac443a493593c2fa863"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23657","id":247848301,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3ODQ4MzAx","html_url":"https://github.com/apache/spark/pull/23657","diff_url":"https://github.com/apache/spark/pull/23657.diff","patch_url":"https://github.com/apache/spark/pull/23657.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23657","number":23657,"state":"closed","locked":false,"title":"[SPARK-26566][PYTHON][SQL] Upgrade Apache Arrow to version 0.12.0","user":{"login":"BryanCutler","id":4534389,"node_id":"MDQ6VXNlcjQ1MzQzODk=","avatar_url":"https://avatars.githubusercontent.com/u/4534389?v=4","gravatar_id":"","url":"https://api.github.com/users/BryanCutler","html_url":"https://github.com/BryanCutler","followers_url":"https://api.github.com/users/BryanCutler/followers","following_url":"https://api.github.com/users/BryanCutler/following{/other_user}","gists_url":"https://api.github.com/users/BryanCutler/gists{/gist_id}","starred_url":"https://api.github.com/users/BryanCutler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BryanCutler/subscriptions","organizations_url":"https://api.github.com/users/BryanCutler/orgs","repos_url":"https://api.github.com/users/BryanCutler/repos","events_url":"https://api.github.com/users/BryanCutler/events{/privacy}","received_events_url":"https://api.github.com/users/BryanCutler/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nUpgrade Apache Arrow to version 0.12.0. This includes the Java artifacts and fixes to enable usage with pyarrow 0.12.0\r\n\r\nVersion 0.12.0 includes the following selected fixes/improvements relevant to Spark users:\r\n\r\n* Safe cast fails from numpy float64 array with nans to integer, ARROW-4258\r\n* Java, Reduce heap usage for variable width vectors, ARROW-4147\r\n* Binary identity cast not implemented, ARROW-4101\r\n* pyarrow open_stream deprecated, use ipc.open_stream, ARROW-4098\r\n* conversion to date object no longer needed, ARROW-3910\r\n* Error reading IPC file with no record batches, ARROW-3894\r\n* Signed to unsigned integer cast yields incorrect results when type sizes are the same, ARROW-3790\r\n* from_pandas gives incorrect results when converting floating point to bool, ARROW-3428\r\n* Import pyarrow fails if scikit-learn is installed from conda (boost-cpp / libboost issue), ARROW-3048\r\n* Java update to official Flatbuffers version 1.9.0, ARROW-3175\r\n\r\ncomplete list [here](https://issues.apache.org/jira/issues/?jql=project%20%3D%20ARROW%20AND%20status%20in%20(Resolved%2C%20Closed)%20AND%20fixVersion%20%3D%200.12.0)\r\n\r\nPySpark requires the following fixes to work with PyArrow 0.12.0\r\n\r\n* Encrypted pyspark worker fails due to ChunkedStream missing closed property\r\n* pyarrow now converts dates as objects by default, which causes error because type is assumed datetime64\r\n* ArrowTests fails due to difference in raised error message\r\n* pyarrow.open_stream deprecated\r\n* tests fail because groupby adds index column with duplicate name\r\n\r\n## How was this patch tested?\r\n\r\nRan unit tests with pyarrow versions 0.8.0, 0.10.0, 0.11.1, 0.12.0\r\n","created_at":"2019-01-26T00:05:28Z","updated_at":"2019-05-15T02:44:54Z","closed_at":"2019-01-29T06:19:21Z","merged_at":null,"merge_commit_sha":"bba6ce2a669644d5a1b535d301138dec9aefb1b0","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23657/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23657/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23657/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/62e803cfea85707b6c4905c3ab44885ccb6a4e62","head":{"label":"BryanCutler:arrow-upgrade-012","ref":"arrow-upgrade-012","sha":"62e803cfea85707b6c4905c3ab44885ccb6a4e62","user":{"login":"BryanCutler","id":4534389,"node_id":"MDQ6VXNlcjQ1MzQzODk=","avatar_url":"https://avatars.githubusercontent.com/u/4534389?v=4","gravatar_id":"","url":"https://api.github.com/users/BryanCutler","html_url":"https://github.com/BryanCutler","followers_url":"https://api.github.com/users/BryanCutler/followers","following_url":"https://api.github.com/users/BryanCutler/following{/other_user}","gists_url":"https://api.github.com/users/BryanCutler/gists{/gist_id}","starred_url":"https://api.github.com/users/BryanCutler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BryanCutler/subscriptions","organizations_url":"https://api.github.com/users/BryanCutler/orgs","repos_url":"https://api.github.com/users/BryanCutler/repos","events_url":"https://api.github.com/users/BryanCutler/events{/privacy}","received_events_url":"https://api.github.com/users/BryanCutler/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":34092463,"node_id":"MDEwOlJlcG9zaXRvcnkzNDA5MjQ2Mw==","name":"spark","full_name":"BryanCutler/spark","private":false,"owner":{"login":"BryanCutler","id":4534389,"node_id":"MDQ6VXNlcjQ1MzQzODk=","avatar_url":"https://avatars.githubusercontent.com/u/4534389?v=4","gravatar_id":"","url":"https://api.github.com/users/BryanCutler","html_url":"https://github.com/BryanCutler","followers_url":"https://api.github.com/users/BryanCutler/followers","following_url":"https://api.github.com/users/BryanCutler/following{/other_user}","gists_url":"https://api.github.com/users/BryanCutler/gists{/gist_id}","starred_url":"https://api.github.com/users/BryanCutler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BryanCutler/subscriptions","organizations_url":"https://api.github.com/users/BryanCutler/orgs","repos_url":"https://api.github.com/users/BryanCutler/repos","events_url":"https://api.github.com/users/BryanCutler/events{/privacy}","received_events_url":"https://api.github.com/users/BryanCutler/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/BryanCutler/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/BryanCutler/spark","forks_url":"https://api.github.com/repos/BryanCutler/spark/forks","keys_url":"https://api.github.com/repos/BryanCutler/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/BryanCutler/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/BryanCutler/spark/teams","hooks_url":"https://api.github.com/repos/BryanCutler/spark/hooks","issue_events_url":"https://api.github.com/repos/BryanCutler/spark/issues/events{/number}","events_url":"https://api.github.com/repos/BryanCutler/spark/events","assignees_url":"https://api.github.com/repos/BryanCutler/spark/assignees{/user}","branches_url":"https://api.github.com/repos/BryanCutler/spark/branches{/branch}","tags_url":"https://api.github.com/repos/BryanCutler/spark/tags","blobs_url":"https://api.github.com/repos/BryanCutler/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/BryanCutler/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/BryanCutler/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/BryanCutler/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/BryanCutler/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/BryanCutler/spark/languages","stargazers_url":"https://api.github.com/repos/BryanCutler/spark/stargazers","contributors_url":"https://api.github.com/repos/BryanCutler/spark/contributors","subscribers_url":"https://api.github.com/repos/BryanCutler/spark/subscribers","subscription_url":"https://api.github.com/repos/BryanCutler/spark/subscription","commits_url":"https://api.github.com/repos/BryanCutler/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/BryanCutler/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/BryanCutler/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/BryanCutler/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/BryanCutler/spark/contents/{+path}","compare_url":"https://api.github.com/repos/BryanCutler/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/BryanCutler/spark/merges","archive_url":"https://api.github.com/repos/BryanCutler/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/BryanCutler/spark/downloads","issues_url":"https://api.github.com/repos/BryanCutler/spark/issues{/number}","pulls_url":"https://api.github.com/repos/BryanCutler/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/BryanCutler/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/BryanCutler/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/BryanCutler/spark/labels{/name}","releases_url":"https://api.github.com/repos/BryanCutler/spark/releases{/id}","deployments_url":"https://api.github.com/repos/BryanCutler/spark/deployments","created_at":"2015-04-17T02:35:36Z","updated_at":"2021-04-21T17:13:41Z","pushed_at":"2021-04-21T17:11:10Z","git_url":"git://github.com/BryanCutler/spark.git","ssh_url":"git@github.com:BryanCutler/spark.git","clone_url":"https://github.com/BryanCutler/spark.git","svn_url":"https://github.com/BryanCutler/spark","homepage":null,"size":339915,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"a4e48359acbf7d68247d82d664cf25a86b84d2f3","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23657"},"html":{"href":"https://github.com/apache/spark/pull/23657"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23657"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23657/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23657/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23657/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/62e803cfea85707b6c4905c3ab44885ccb6a4e62"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23656","id":247844988,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3ODQ0OTg4","html_url":"https://github.com/apache/spark/pull/23656","diff_url":"https://github.com/apache/spark/pull/23656.diff","patch_url":"https://github.com/apache/spark/pull/23656.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23656","number":23656,"state":"closed","locked":false,"title":"[SPARK-26379][SS][BRANCH-2.3] Use dummy TimeZoneId to avoid UnresolvedException in CurrentBatchTimestamp","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nSpark replaces `CurrentTimestamp` with `CurrentBatchTimestamp`.\r\nHowever, `CurrentBatchTimestamp` is `TimeZoneAwareExpression` while `CurrentTimestamp` isn't.\r\nWithout TimeZoneId, `CurrentBatchTimestamp` becomes unresolved and raises `UnresolvedException`.\r\n\r\nSince `CurrentDate` is `TimeZoneAwareExpression`, there is no problem with `CurrentDate`.\r\n\r\n## How was this patch tested?\r\n\r\nPass the Jenkins with the updated test cases.","created_at":"2019-01-25T23:40:52Z","updated_at":"2019-01-29T01:04:44Z","closed_at":"2019-01-28T20:14:41Z","merged_at":null,"merge_commit_sha":"bda9efdbba54ba342d98d130f8cd9412f1ceb098","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23656/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23656/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23656/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/52ac627589db4ad63bf959406ad70b9d8790f40a","head":{"label":"HeartSaVioR:SPARK-26379-branch-2.3","ref":"SPARK-26379-branch-2.3","sha":"52ac627589db4ad63bf959406ad70b9d8790f40a","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":27994296,"node_id":"MDEwOlJlcG9zaXRvcnkyNzk5NDI5Ng==","name":"spark","full_name":"HeartSaVioR/spark","private":false,"owner":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HeartSaVioR/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HeartSaVioR/spark","forks_url":"https://api.github.com/repos/HeartSaVioR/spark/forks","keys_url":"https://api.github.com/repos/HeartSaVioR/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HeartSaVioR/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HeartSaVioR/spark/teams","hooks_url":"https://api.github.com/repos/HeartSaVioR/spark/hooks","issue_events_url":"https://api.github.com/repos/HeartSaVioR/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HeartSaVioR/spark/events","assignees_url":"https://api.github.com/repos/HeartSaVioR/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HeartSaVioR/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HeartSaVioR/spark/tags","blobs_url":"https://api.github.com/repos/HeartSaVioR/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HeartSaVioR/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HeartSaVioR/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HeartSaVioR/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HeartSaVioR/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HeartSaVioR/spark/languages","stargazers_url":"https://api.github.com/repos/HeartSaVioR/spark/stargazers","contributors_url":"https://api.github.com/repos/HeartSaVioR/spark/contributors","subscribers_url":"https://api.github.com/repos/HeartSaVioR/spark/subscribers","subscription_url":"https://api.github.com/repos/HeartSaVioR/spark/subscription","commits_url":"https://api.github.com/repos/HeartSaVioR/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HeartSaVioR/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HeartSaVioR/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HeartSaVioR/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HeartSaVioR/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HeartSaVioR/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HeartSaVioR/spark/merges","archive_url":"https://api.github.com/repos/HeartSaVioR/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HeartSaVioR/spark/downloads","issues_url":"https://api.github.com/repos/HeartSaVioR/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HeartSaVioR/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HeartSaVioR/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HeartSaVioR/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HeartSaVioR/spark/labels{/name}","releases_url":"https://api.github.com/repos/HeartSaVioR/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HeartSaVioR/spark/deployments","created_at":"2014-12-14T12:56:04Z","updated_at":"2024-10-21T04:36:36Z","pushed_at":"2025-01-08T06:13:27Z","git_url":"git://github.com/HeartSaVioR/spark.git","ssh_url":"git@github.com:HeartSaVioR/spark.git","clone_url":"https://github.com/HeartSaVioR/spark.git","svn_url":"https://github.com/HeartSaVioR/spark","homepage":null,"size":456164,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":1,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:branch-2.3","ref":"branch-2.3","sha":"373a627e99666ff047d41c8797a21deee84e23b9","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23656"},"html":{"href":"https://github.com/apache/spark/pull/23656"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23656"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23656/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23656/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23656/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/52ac627589db4ad63bf959406ad70b9d8790f40a"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23655","id":247844036,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3ODQ0MDM2","html_url":"https://github.com/apache/spark/pull/23655","diff_url":"https://github.com/apache/spark/pull/23655.diff","patch_url":"https://github.com/apache/spark/pull/23655.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23655","number":23655,"state":"closed","locked":false,"title":"[SPARK-26733][k8s] Cleanup entrypoint.sh.","user":{"login":"vanzin","id":1694083,"node_id":"MDQ6VXNlcjE2OTQwODM=","avatar_url":"https://avatars.githubusercontent.com/u/1694083?v=4","gravatar_id":"","url":"https://api.github.com/users/vanzin","html_url":"https://github.com/vanzin","followers_url":"https://api.github.com/users/vanzin/followers","following_url":"https://api.github.com/users/vanzin/following{/other_user}","gists_url":"https://api.github.com/users/vanzin/gists{/gist_id}","starred_url":"https://api.github.com/users/vanzin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vanzin/subscriptions","organizations_url":"https://api.github.com/users/vanzin/orgs","repos_url":"https://api.github.com/users/vanzin/repos","events_url":"https://api.github.com/users/vanzin/events{/privacy}","received_events_url":"https://api.github.com/users/vanzin/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"Merge both case statements, and remove unused variables that\r\nare not set by the Scala code anymore.\r\n","created_at":"2019-01-25T23:33:53Z","updated_at":"2019-03-01T17:54:53Z","closed_at":"2019-02-06T00:03:40Z","merged_at":null,"merge_commit_sha":"fadb5b87133b2717138b61f80cc610638a05ec94","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23655/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23655/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23655/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/5c9890495e62b3f92eeeb12f3cad87e55369198a","head":{"label":"vanzin:SPARK-26733","ref":"SPARK-26733","sha":"5c9890495e62b3f92eeeb12f3cad87e55369198a","user":{"login":"vanzin","id":1694083,"node_id":"MDQ6VXNlcjE2OTQwODM=","avatar_url":"https://avatars.githubusercontent.com/u/1694083?v=4","gravatar_id":"","url":"https://api.github.com/users/vanzin","html_url":"https://github.com/vanzin","followers_url":"https://api.github.com/users/vanzin/followers","following_url":"https://api.github.com/users/vanzin/following{/other_user}","gists_url":"https://api.github.com/users/vanzin/gists{/gist_id}","starred_url":"https://api.github.com/users/vanzin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vanzin/subscriptions","organizations_url":"https://api.github.com/users/vanzin/orgs","repos_url":"https://api.github.com/users/vanzin/repos","events_url":"https://api.github.com/users/vanzin/events{/privacy}","received_events_url":"https://api.github.com/users/vanzin/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":18302272,"node_id":"MDEwOlJlcG9zaXRvcnkxODMwMjI3Mg==","name":"spark","full_name":"vanzin/spark","private":false,"owner":{"login":"vanzin","id":1694083,"node_id":"MDQ6VXNlcjE2OTQwODM=","avatar_url":"https://avatars.githubusercontent.com/u/1694083?v=4","gravatar_id":"","url":"https://api.github.com/users/vanzin","html_url":"https://github.com/vanzin","followers_url":"https://api.github.com/users/vanzin/followers","following_url":"https://api.github.com/users/vanzin/following{/other_user}","gists_url":"https://api.github.com/users/vanzin/gists{/gist_id}","starred_url":"https://api.github.com/users/vanzin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vanzin/subscriptions","organizations_url":"https://api.github.com/users/vanzin/orgs","repos_url":"https://api.github.com/users/vanzin/repos","events_url":"https://api.github.com/users/vanzin/events{/privacy}","received_events_url":"https://api.github.com/users/vanzin/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/vanzin/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/vanzin/spark","forks_url":"https://api.github.com/repos/vanzin/spark/forks","keys_url":"https://api.github.com/repos/vanzin/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/vanzin/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/vanzin/spark/teams","hooks_url":"https://api.github.com/repos/vanzin/spark/hooks","issue_events_url":"https://api.github.com/repos/vanzin/spark/issues/events{/number}","events_url":"https://api.github.com/repos/vanzin/spark/events","assignees_url":"https://api.github.com/repos/vanzin/spark/assignees{/user}","branches_url":"https://api.github.com/repos/vanzin/spark/branches{/branch}","tags_url":"https://api.github.com/repos/vanzin/spark/tags","blobs_url":"https://api.github.com/repos/vanzin/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/vanzin/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/vanzin/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/vanzin/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/vanzin/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/vanzin/spark/languages","stargazers_url":"https://api.github.com/repos/vanzin/spark/stargazers","contributors_url":"https://api.github.com/repos/vanzin/spark/contributors","subscribers_url":"https://api.github.com/repos/vanzin/spark/subscribers","subscription_url":"https://api.github.com/repos/vanzin/spark/subscription","commits_url":"https://api.github.com/repos/vanzin/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/vanzin/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/vanzin/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/vanzin/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/vanzin/spark/contents/{+path}","compare_url":"https://api.github.com/repos/vanzin/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/vanzin/spark/merges","archive_url":"https://api.github.com/repos/vanzin/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/vanzin/spark/downloads","issues_url":"https://api.github.com/repos/vanzin/spark/issues{/number}","pulls_url":"https://api.github.com/repos/vanzin/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/vanzin/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/vanzin/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/vanzin/spark/labels{/name}","releases_url":"https://api.github.com/repos/vanzin/spark/releases{/id}","deployments_url":"https://api.github.com/repos/vanzin/spark/deployments","created_at":"2014-03-31T17:49:25Z","updated_at":"2018-01-06T03:57:54Z","pushed_at":"2020-01-24T16:55:58Z","git_url":"git://github.com/vanzin/spark.git","ssh_url":"git@github.com:vanzin/spark.git","clone_url":"https://github.com/vanzin/spark.git","svn_url":"https://github.com/vanzin/spark","homepage":null,"size":287134,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"a4e48359acbf7d68247d82d664cf25a86b84d2f3","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23655"},"html":{"href":"https://github.com/apache/spark/pull/23655"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23655"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23655/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23655/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23655/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/5c9890495e62b3f92eeeb12f3cad87e55369198a"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23654","id":247830546,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3ODMwNTQ2","html_url":"https://github.com/apache/spark/pull/23654","diff_url":"https://github.com/apache/spark/pull/23654.diff","patch_url":"https://github.com/apache/spark/pull/23654.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23654","number":23654,"state":"closed","locked":false,"title":"[SPARK-26732][CORE][TEST] Wait for listener bus to process events in SparkContextInfoSuite.","user":{"login":"vanzin","id":1694083,"node_id":"MDQ6VXNlcjE2OTQwODM=","avatar_url":"https://avatars.githubusercontent.com/u/1694083?v=4","gravatar_id":"","url":"https://api.github.com/users/vanzin","html_url":"https://github.com/vanzin","followers_url":"https://api.github.com/users/vanzin/followers","following_url":"https://api.github.com/users/vanzin/following{/other_user}","gists_url":"https://api.github.com/users/vanzin/gists{/gist_id}","starred_url":"https://api.github.com/users/vanzin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vanzin/subscriptions","organizations_url":"https://api.github.com/users/vanzin/orgs","repos_url":"https://api.github.com/users/vanzin/repos","events_url":"https://api.github.com/users/vanzin/events{/privacy}","received_events_url":"https://api.github.com/users/vanzin/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"Otherwise the RDD data may be out of date by the time the test tries to check it.\r\n\r\nTested with an artificial delay inserted in AppStatusListener.\r\n","created_at":"2019-01-25T22:18:21Z","updated_at":"2019-01-31T18:07:17Z","closed_at":"2019-01-30T15:13:12Z","merged_at":null,"merge_commit_sha":"52672b3e60090a1f9303418d11e17f9e5affe477","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23654/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23654/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23654/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b7a7a91432ed3f084fd5998efbcea04591beb66f","head":{"label":"vanzin:SPARK-26732","ref":"SPARK-26732","sha":"b7a7a91432ed3f084fd5998efbcea04591beb66f","user":{"login":"vanzin","id":1694083,"node_id":"MDQ6VXNlcjE2OTQwODM=","avatar_url":"https://avatars.githubusercontent.com/u/1694083?v=4","gravatar_id":"","url":"https://api.github.com/users/vanzin","html_url":"https://github.com/vanzin","followers_url":"https://api.github.com/users/vanzin/followers","following_url":"https://api.github.com/users/vanzin/following{/other_user}","gists_url":"https://api.github.com/users/vanzin/gists{/gist_id}","starred_url":"https://api.github.com/users/vanzin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vanzin/subscriptions","organizations_url":"https://api.github.com/users/vanzin/orgs","repos_url":"https://api.github.com/users/vanzin/repos","events_url":"https://api.github.com/users/vanzin/events{/privacy}","received_events_url":"https://api.github.com/users/vanzin/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":18302272,"node_id":"MDEwOlJlcG9zaXRvcnkxODMwMjI3Mg==","name":"spark","full_name":"vanzin/spark","private":false,"owner":{"login":"vanzin","id":1694083,"node_id":"MDQ6VXNlcjE2OTQwODM=","avatar_url":"https://avatars.githubusercontent.com/u/1694083?v=4","gravatar_id":"","url":"https://api.github.com/users/vanzin","html_url":"https://github.com/vanzin","followers_url":"https://api.github.com/users/vanzin/followers","following_url":"https://api.github.com/users/vanzin/following{/other_user}","gists_url":"https://api.github.com/users/vanzin/gists{/gist_id}","starred_url":"https://api.github.com/users/vanzin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vanzin/subscriptions","organizations_url":"https://api.github.com/users/vanzin/orgs","repos_url":"https://api.github.com/users/vanzin/repos","events_url":"https://api.github.com/users/vanzin/events{/privacy}","received_events_url":"https://api.github.com/users/vanzin/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/vanzin/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/vanzin/spark","forks_url":"https://api.github.com/repos/vanzin/spark/forks","keys_url":"https://api.github.com/repos/vanzin/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/vanzin/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/vanzin/spark/teams","hooks_url":"https://api.github.com/repos/vanzin/spark/hooks","issue_events_url":"https://api.github.com/repos/vanzin/spark/issues/events{/number}","events_url":"https://api.github.com/repos/vanzin/spark/events","assignees_url":"https://api.github.com/repos/vanzin/spark/assignees{/user}","branches_url":"https://api.github.com/repos/vanzin/spark/branches{/branch}","tags_url":"https://api.github.com/repos/vanzin/spark/tags","blobs_url":"https://api.github.com/repos/vanzin/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/vanzin/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/vanzin/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/vanzin/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/vanzin/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/vanzin/spark/languages","stargazers_url":"https://api.github.com/repos/vanzin/spark/stargazers","contributors_url":"https://api.github.com/repos/vanzin/spark/contributors","subscribers_url":"https://api.github.com/repos/vanzin/spark/subscribers","subscription_url":"https://api.github.com/repos/vanzin/spark/subscription","commits_url":"https://api.github.com/repos/vanzin/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/vanzin/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/vanzin/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/vanzin/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/vanzin/spark/contents/{+path}","compare_url":"https://api.github.com/repos/vanzin/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/vanzin/spark/merges","archive_url":"https://api.github.com/repos/vanzin/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/vanzin/spark/downloads","issues_url":"https://api.github.com/repos/vanzin/spark/issues{/number}","pulls_url":"https://api.github.com/repos/vanzin/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/vanzin/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/vanzin/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/vanzin/spark/labels{/name}","releases_url":"https://api.github.com/repos/vanzin/spark/releases{/id}","deployments_url":"https://api.github.com/repos/vanzin/spark/deployments","created_at":"2014-03-31T17:49:25Z","updated_at":"2018-01-06T03:57:54Z","pushed_at":"2020-01-24T16:55:58Z","git_url":"git://github.com/vanzin/spark.git","ssh_url":"git@github.com:vanzin/spark.git","clone_url":"https://github.com/vanzin/spark.git","svn_url":"https://github.com/vanzin/spark","homepage":null,"size":287134,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"5f3658a8d8bc6b11b20eb0d3935662e08d319460","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23654"},"html":{"href":"https://github.com/apache/spark/pull/23654"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23654"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23654/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23654/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23654/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b7a7a91432ed3f084fd5998efbcea04591beb66f"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23653","id":247801063,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3ODAxMDYz","html_url":"https://github.com/apache/spark/pull/23653","diff_url":"https://github.com/apache/spark/pull/23653.diff","patch_url":"https://github.com/apache/spark/pull/23653.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23653","number":23653,"state":"closed","locked":false,"title":"[SPARK-26711][SQL] Lazily convert string values to BigDecimal during JSON schema inference","user":{"login":"bersprockets","id":21131848,"node_id":"MDQ6VXNlcjIxMTMxODQ4","avatar_url":"https://avatars.githubusercontent.com/u/21131848?v=4","gravatar_id":"","url":"https://api.github.com/users/bersprockets","html_url":"https://github.com/bersprockets","followers_url":"https://api.github.com/users/bersprockets/followers","following_url":"https://api.github.com/users/bersprockets/following{/other_user}","gists_url":"https://api.github.com/users/bersprockets/gists{/gist_id}","starred_url":"https://api.github.com/users/bersprockets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bersprockets/subscriptions","organizations_url":"https://api.github.com/users/bersprockets/orgs","repos_url":"https://api.github.com/users/bersprockets/repos","events_url":"https://api.github.com/users/bersprockets/events{/privacy}","received_events_url":"https://api.github.com/users/bersprockets/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThis PR fixes a bug where JSON schema inference attempts to convert every String value to a BigDecimal regardless of the setting of \"prefersDecimal\". With that bug, behavior is still correct, but performance is impacted.\r\n\r\nThis PR makes this conversion lazy, so it is only performed if prefersDecimal is set to true.\r\n\r\nUsing Spark with a single executor thread to infer the schema of a single-column, 100M row JSON file, the performance impact is as follows:\r\n\r\n\r\noption | baseline | pr\r\n-----|----|-----\r\ninferTimestamp=_default_<br>prefersDecimal=_default_ | 12.5 minutes | 6.1 minutes |\r\ninferTimestamp=false<br>prefersDecimal=_default_ | 6.5 minutes | 49 seconds |\r\ninferTimestamp=false<br>prefersDecimal=true | 6.5 minutes | 6.5 minutes |\r\n\r\n## How was this patch tested?\r\n\r\nI ran JsonInferSchemaSuite and JsonSuite. Also, I ran manual tests to see performance impact (see above).\r\n","created_at":"2019-01-25T20:15:39Z","updated_at":"2019-01-31T18:38:05Z","closed_at":"2019-01-26T00:18:04Z","merged_at":null,"merge_commit_sha":"3aa16bb6aee3c72fb05aa9066595998fb7242997","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23653/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23653/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23653/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/614dce8f1958d75f9075be6dc2e7f78fb8009680","head":{"label":"bersprockets:SPARK-26711_improved","ref":"SPARK-26711_improved","sha":"614dce8f1958d75f9075be6dc2e7f78fb8009680","user":{"login":"bersprockets","id":21131848,"node_id":"MDQ6VXNlcjIxMTMxODQ4","avatar_url":"https://avatars.githubusercontent.com/u/21131848?v=4","gravatar_id":"","url":"https://api.github.com/users/bersprockets","html_url":"https://github.com/bersprockets","followers_url":"https://api.github.com/users/bersprockets/followers","following_url":"https://api.github.com/users/bersprockets/following{/other_user}","gists_url":"https://api.github.com/users/bersprockets/gists{/gist_id}","starred_url":"https://api.github.com/users/bersprockets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bersprockets/subscriptions","organizations_url":"https://api.github.com/users/bersprockets/orgs","repos_url":"https://api.github.com/users/bersprockets/repos","events_url":"https://api.github.com/users/bersprockets/events{/privacy}","received_events_url":"https://api.github.com/users/bersprockets/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":115567071,"node_id":"MDEwOlJlcG9zaXRvcnkxMTU1NjcwNzE=","name":"spark","full_name":"bersprockets/spark","private":false,"owner":{"login":"bersprockets","id":21131848,"node_id":"MDQ6VXNlcjIxMTMxODQ4","avatar_url":"https://avatars.githubusercontent.com/u/21131848?v=4","gravatar_id":"","url":"https://api.github.com/users/bersprockets","html_url":"https://github.com/bersprockets","followers_url":"https://api.github.com/users/bersprockets/followers","following_url":"https://api.github.com/users/bersprockets/following{/other_user}","gists_url":"https://api.github.com/users/bersprockets/gists{/gist_id}","starred_url":"https://api.github.com/users/bersprockets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bersprockets/subscriptions","organizations_url":"https://api.github.com/users/bersprockets/orgs","repos_url":"https://api.github.com/users/bersprockets/repos","events_url":"https://api.github.com/users/bersprockets/events{/privacy}","received_events_url":"https://api.github.com/users/bersprockets/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bersprockets/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/bersprockets/spark","forks_url":"https://api.github.com/repos/bersprockets/spark/forks","keys_url":"https://api.github.com/repos/bersprockets/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bersprockets/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bersprockets/spark/teams","hooks_url":"https://api.github.com/repos/bersprockets/spark/hooks","issue_events_url":"https://api.github.com/repos/bersprockets/spark/issues/events{/number}","events_url":"https://api.github.com/repos/bersprockets/spark/events","assignees_url":"https://api.github.com/repos/bersprockets/spark/assignees{/user}","branches_url":"https://api.github.com/repos/bersprockets/spark/branches{/branch}","tags_url":"https://api.github.com/repos/bersprockets/spark/tags","blobs_url":"https://api.github.com/repos/bersprockets/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bersprockets/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bersprockets/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/bersprockets/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bersprockets/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/bersprockets/spark/languages","stargazers_url":"https://api.github.com/repos/bersprockets/spark/stargazers","contributors_url":"https://api.github.com/repos/bersprockets/spark/contributors","subscribers_url":"https://api.github.com/repos/bersprockets/spark/subscribers","subscription_url":"https://api.github.com/repos/bersprockets/spark/subscription","commits_url":"https://api.github.com/repos/bersprockets/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/bersprockets/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/bersprockets/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/bersprockets/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/bersprockets/spark/contents/{+path}","compare_url":"https://api.github.com/repos/bersprockets/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bersprockets/spark/merges","archive_url":"https://api.github.com/repos/bersprockets/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bersprockets/spark/downloads","issues_url":"https://api.github.com/repos/bersprockets/spark/issues{/number}","pulls_url":"https://api.github.com/repos/bersprockets/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/bersprockets/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/bersprockets/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bersprockets/spark/labels{/name}","releases_url":"https://api.github.com/repos/bersprockets/spark/releases{/id}","deployments_url":"https://api.github.com/repos/bersprockets/spark/deployments","created_at":"2017-12-28T00:03:24Z","updated_at":"2025-01-24T22:51:50Z","pushed_at":"2025-01-24T22:51:35Z","git_url":"git://github.com/bersprockets/spark.git","ssh_url":"git@github.com:bersprockets/spark.git","clone_url":"https://github.com/bersprockets/spark.git","svn_url":"https://github.com/bersprockets/spark","homepage":null,"size":475116,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"f06bc0cd1dee2a58e04ebf24bf719a2f7ef2dc4e","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23653"},"html":{"href":"https://github.com/apache/spark/pull/23653"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23653"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23653/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23653/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23653/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/614dce8f1958d75f9075be6dc2e7f78fb8009680"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23652","id":247737963,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3NzM3OTYz","html_url":"https://github.com/apache/spark/pull/23652","diff_url":"https://github.com/apache/spark/pull/23652.diff","patch_url":"https://github.com/apache/spark/pull/23652.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23652","number":23652,"state":"closed","locked":false,"title":"[SPARK-26718][SS][BRANCH-2.4] Fixed integer overflow in SS kafka rateLimit calculation","user":{"login":"linehrr","id":1124115,"node_id":"MDQ6VXNlcjExMjQxMTU=","avatar_url":"https://avatars.githubusercontent.com/u/1124115?v=4","gravatar_id":"","url":"https://api.github.com/users/linehrr","html_url":"https://github.com/linehrr","followers_url":"https://api.github.com/users/linehrr/followers","following_url":"https://api.github.com/users/linehrr/following{/other_user}","gists_url":"https://api.github.com/users/linehrr/gists{/gist_id}","starred_url":"https://api.github.com/users/linehrr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linehrr/subscriptions","organizations_url":"https://api.github.com/users/linehrr/orgs","repos_url":"https://api.github.com/users/linehrr/repos","events_url":"https://api.github.com/users/linehrr/events{/privacy}","received_events_url":"https://api.github.com/users/linehrr/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nFix the integer overflow issue in rateLimit.\r\n\r\n## How was this patch tested?\r\n\r\nPass the Jenkins with newly added UT for the possible case where integer could be overflowed.\r\n","created_at":"2019-01-25T16:46:31Z","updated_at":"2019-01-30T18:10:53Z","closed_at":"2019-01-29T20:42:17Z","merged_at":null,"merge_commit_sha":"fbb60c3a9744200280b252bbe1b3b8e6f74988b5","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23652/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23652/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23652/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/667dc30860a8c86359b8b5037586d3a3d02b23fb","head":{"label":"linehrr:fix/integer_overflow_rateLimit","ref":"fix/integer_overflow_rateLimit","sha":"667dc30860a8c86359b8b5037586d3a3d02b23fb","user":{"login":"linehrr","id":1124115,"node_id":"MDQ6VXNlcjExMjQxMTU=","avatar_url":"https://avatars.githubusercontent.com/u/1124115?v=4","gravatar_id":"","url":"https://api.github.com/users/linehrr","html_url":"https://github.com/linehrr","followers_url":"https://api.github.com/users/linehrr/followers","following_url":"https://api.github.com/users/linehrr/following{/other_user}","gists_url":"https://api.github.com/users/linehrr/gists{/gist_id}","starred_url":"https://api.github.com/users/linehrr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linehrr/subscriptions","organizations_url":"https://api.github.com/users/linehrr/orgs","repos_url":"https://api.github.com/users/linehrr/repos","events_url":"https://api.github.com/users/linehrr/events{/privacy}","received_events_url":"https://api.github.com/users/linehrr/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":167579729,"node_id":"MDEwOlJlcG9zaXRvcnkxNjc1Nzk3Mjk=","name":"spark","full_name":"linehrr/spark","private":false,"owner":{"login":"linehrr","id":1124115,"node_id":"MDQ6VXNlcjExMjQxMTU=","avatar_url":"https://avatars.githubusercontent.com/u/1124115?v=4","gravatar_id":"","url":"https://api.github.com/users/linehrr","html_url":"https://github.com/linehrr","followers_url":"https://api.github.com/users/linehrr/followers","following_url":"https://api.github.com/users/linehrr/following{/other_user}","gists_url":"https://api.github.com/users/linehrr/gists{/gist_id}","starred_url":"https://api.github.com/users/linehrr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linehrr/subscriptions","organizations_url":"https://api.github.com/users/linehrr/orgs","repos_url":"https://api.github.com/users/linehrr/repos","events_url":"https://api.github.com/users/linehrr/events{/privacy}","received_events_url":"https://api.github.com/users/linehrr/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/linehrr/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/linehrr/spark","forks_url":"https://api.github.com/repos/linehrr/spark/forks","keys_url":"https://api.github.com/repos/linehrr/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/linehrr/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/linehrr/spark/teams","hooks_url":"https://api.github.com/repos/linehrr/spark/hooks","issue_events_url":"https://api.github.com/repos/linehrr/spark/issues/events{/number}","events_url":"https://api.github.com/repos/linehrr/spark/events","assignees_url":"https://api.github.com/repos/linehrr/spark/assignees{/user}","branches_url":"https://api.github.com/repos/linehrr/spark/branches{/branch}","tags_url":"https://api.github.com/repos/linehrr/spark/tags","blobs_url":"https://api.github.com/repos/linehrr/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/linehrr/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/linehrr/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/linehrr/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/linehrr/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/linehrr/spark/languages","stargazers_url":"https://api.github.com/repos/linehrr/spark/stargazers","contributors_url":"https://api.github.com/repos/linehrr/spark/contributors","subscribers_url":"https://api.github.com/repos/linehrr/spark/subscribers","subscription_url":"https://api.github.com/repos/linehrr/spark/subscription","commits_url":"https://api.github.com/repos/linehrr/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/linehrr/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/linehrr/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/linehrr/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/linehrr/spark/contents/{+path}","compare_url":"https://api.github.com/repos/linehrr/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/linehrr/spark/merges","archive_url":"https://api.github.com/repos/linehrr/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/linehrr/spark/downloads","issues_url":"https://api.github.com/repos/linehrr/spark/issues{/number}","pulls_url":"https://api.github.com/repos/linehrr/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/linehrr/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/linehrr/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/linehrr/spark/labels{/name}","releases_url":"https://api.github.com/repos/linehrr/spark/releases{/id}","deployments_url":"https://api.github.com/repos/linehrr/spark/deployments","created_at":"2019-01-25T16:41:18Z","updated_at":"2019-05-10T21:00:55Z","pushed_at":"2019-05-10T21:00:41Z","git_url":"git://github.com/linehrr/spark.git","ssh_url":"git@github.com:linehrr/spark.git","clone_url":"https://github.com/linehrr/spark.git","svn_url":"https://github.com/linehrr/spark","homepage":"","size":295499,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:branch-2.4","ref":"branch-2.4","sha":"8d957d7724d36ce415029d454740352699bcc862","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23652"},"html":{"href":"https://github.com/apache/spark/pull/23652"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23652"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23652/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23652/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23652/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/667dc30860a8c86359b8b5037586d3a3d02b23fb"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23651","id":247691114,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3NjkxMTE0","html_url":"https://github.com/apache/spark/pull/23651","diff_url":"https://github.com/apache/spark/pull/23651.diff","patch_url":"https://github.com/apache/spark/pull/23651.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23651","number":23651,"state":"closed","locked":false,"title":"[SPARK-26730][SQL] Strip redundant AssertNotNull for ExpressionEncoder's serializer","user":{"login":"Ngone51","id":16397174,"node_id":"MDQ6VXNlcjE2Mzk3MTc0","avatar_url":"https://avatars.githubusercontent.com/u/16397174?v=4","gravatar_id":"","url":"https://api.github.com/users/Ngone51","html_url":"https://github.com/Ngone51","followers_url":"https://api.github.com/users/Ngone51/followers","following_url":"https://api.github.com/users/Ngone51/following{/other_user}","gists_url":"https://api.github.com/users/Ngone51/gists{/gist_id}","starred_url":"https://api.github.com/users/Ngone51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ngone51/subscriptions","organizations_url":"https://api.github.com/users/Ngone51/orgs","repos_url":"https://api.github.com/users/Ngone51/repos","events_url":"https://api.github.com/users/Ngone51/events{/privacy}","received_events_url":"https://api.github.com/users/Ngone51/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nFor types like Product, we've already add AssertNotNull when we construct serializer(see code below), so we could strip redundant AssertNotNull for those types.\r\n\r\n```\r\nval fieldValue = Invoke(\r\n    AssertNotNull(inputObject, walkedTypePath), fieldName, dataTypeFor(fieldType),\r\n    returnNullable = !fieldType.typeSymbol.asClass.isPrimitive)\r\n```\r\n## How was this patch tested?\r\n\r\nExisted.","created_at":"2019-01-25T14:23:58Z","updated_at":"2019-02-01T06:03:24Z","closed_at":"2019-02-01T02:51:59Z","merged_at":null,"merge_commit_sha":"df9df0af6f8aa280048122fb78f9e23d6ed025ca","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23651/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23651/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23651/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3ca59bd6d6f07877f39710fa12619c2899ce16bf","head":{"label":"Ngone51:dev-strip-redundant-assertnotnull-for-ecnoder-serializer","ref":"dev-strip-redundant-assertnotnull-for-ecnoder-serializer","sha":"3ca59bd6d6f07877f39710fa12619c2899ce16bf","user":{"login":"Ngone51","id":16397174,"node_id":"MDQ6VXNlcjE2Mzk3MTc0","avatar_url":"https://avatars.githubusercontent.com/u/16397174?v=4","gravatar_id":"","url":"https://api.github.com/users/Ngone51","html_url":"https://github.com/Ngone51","followers_url":"https://api.github.com/users/Ngone51/followers","following_url":"https://api.github.com/users/Ngone51/following{/other_user}","gists_url":"https://api.github.com/users/Ngone51/gists{/gist_id}","starred_url":"https://api.github.com/users/Ngone51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ngone51/subscriptions","organizations_url":"https://api.github.com/users/Ngone51/orgs","repos_url":"https://api.github.com/users/Ngone51/repos","events_url":"https://api.github.com/users/Ngone51/events{/privacy}","received_events_url":"https://api.github.com/users/Ngone51/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":114185286,"node_id":"MDEwOlJlcG9zaXRvcnkxMTQxODUyODY=","name":"spark","full_name":"Ngone51/spark","private":false,"owner":{"login":"Ngone51","id":16397174,"node_id":"MDQ6VXNlcjE2Mzk3MTc0","avatar_url":"https://avatars.githubusercontent.com/u/16397174?v=4","gravatar_id":"","url":"https://api.github.com/users/Ngone51","html_url":"https://github.com/Ngone51","followers_url":"https://api.github.com/users/Ngone51/followers","following_url":"https://api.github.com/users/Ngone51/following{/other_user}","gists_url":"https://api.github.com/users/Ngone51/gists{/gist_id}","starred_url":"https://api.github.com/users/Ngone51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ngone51/subscriptions","organizations_url":"https://api.github.com/users/Ngone51/orgs","repos_url":"https://api.github.com/users/Ngone51/repos","events_url":"https://api.github.com/users/Ngone51/events{/privacy}","received_events_url":"https://api.github.com/users/Ngone51/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Ngone51/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/Ngone51/spark","forks_url":"https://api.github.com/repos/Ngone51/spark/forks","keys_url":"https://api.github.com/repos/Ngone51/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Ngone51/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Ngone51/spark/teams","hooks_url":"https://api.github.com/repos/Ngone51/spark/hooks","issue_events_url":"https://api.github.com/repos/Ngone51/spark/issues/events{/number}","events_url":"https://api.github.com/repos/Ngone51/spark/events","assignees_url":"https://api.github.com/repos/Ngone51/spark/assignees{/user}","branches_url":"https://api.github.com/repos/Ngone51/spark/branches{/branch}","tags_url":"https://api.github.com/repos/Ngone51/spark/tags","blobs_url":"https://api.github.com/repos/Ngone51/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Ngone51/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Ngone51/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/Ngone51/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Ngone51/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/Ngone51/spark/languages","stargazers_url":"https://api.github.com/repos/Ngone51/spark/stargazers","contributors_url":"https://api.github.com/repos/Ngone51/spark/contributors","subscribers_url":"https://api.github.com/repos/Ngone51/spark/subscribers","subscription_url":"https://api.github.com/repos/Ngone51/spark/subscription","commits_url":"https://api.github.com/repos/Ngone51/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/Ngone51/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/Ngone51/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/Ngone51/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/Ngone51/spark/contents/{+path}","compare_url":"https://api.github.com/repos/Ngone51/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Ngone51/spark/merges","archive_url":"https://api.github.com/repos/Ngone51/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Ngone51/spark/downloads","issues_url":"https://api.github.com/repos/Ngone51/spark/issues{/number}","pulls_url":"https://api.github.com/repos/Ngone51/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/Ngone51/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/Ngone51/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Ngone51/spark/labels{/name}","releases_url":"https://api.github.com/repos/Ngone51/spark/releases{/id}","deployments_url":"https://api.github.com/repos/Ngone51/spark/deployments","created_at":"2017-12-14T01:05:22Z","updated_at":"2021-11-09T15:33:30Z","pushed_at":"2025-01-23T04:25:21Z","git_url":"git://github.com/Ngone51/spark.git","ssh_url":"git@github.com:Ngone51/spark.git","clone_url":"https://github.com/Ngone51/spark.git","svn_url":"https://github.com/Ngone51/spark","homepage":null,"size":478226,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"e3411a82c3296571e45e6d61fca7d9d5acc0aac9","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23651"},"html":{"href":"https://github.com/apache/spark/pull/23651"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23651"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23651/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23651/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23651/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3ca59bd6d6f07877f39710fa12619c2899ce16bf"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23650","id":247621659,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3NjIxNjU5","html_url":"https://github.com/apache/spark/pull/23650","diff_url":"https://github.com/apache/spark/pull/23650.diff","patch_url":"https://github.com/apache/spark/pull/23650.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23650","number":23650,"state":"closed","locked":false,"title":"[SPARK-26728]Make rdd.unpersist blocking configurable","user":{"login":"liupc","id":6747355,"node_id":"MDQ6VXNlcjY3NDczNTU=","avatar_url":"https://avatars.githubusercontent.com/u/6747355?v=4","gravatar_id":"","url":"https://api.github.com/users/liupc","html_url":"https://github.com/liupc","followers_url":"https://api.github.com/users/liupc/followers","following_url":"https://api.github.com/users/liupc/following{/other_user}","gists_url":"https://api.github.com/users/liupc/gists{/gist_id}","starred_url":"https://api.github.com/users/liupc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liupc/subscriptions","organizations_url":"https://api.github.com/users/liupc/orgs","repos_url":"https://api.github.com/users/liupc/repos","events_url":"https://api.github.com/users/liupc/events{/privacy}","received_events_url":"https://api.github.com/users/liupc/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nCurrently, rdd.unpersist's blocking argument is set to true by default. However, in actual production cluster(especially large cluster), node lost or network issue can always happen.\r\n\r\nUsers always use rdd.unpersist as non-exceptional, so sometimes the blocking unpersist may cause user's job failure, and this happened many times in our cluster.\r\n```\r\n2018-05-16,13:28:33,489 WARN org.apache.spark.storage.BlockManagerMaster: Failed to remove RDD 15 - Failed to send RPC 7571440800577648876 to c3-hadoop-prc-st2325.bj/10.136.136.25:43474: java.nio.channels.ClosedChannelException\r\njava.io.IOException: Failed to send RPC 7571440800577648876 to c3-hadoop-prc-st2325.bj/10.136.136.25:43474: java.nio.channels.ClosedChannelException\r\n\tat org.apache.spark.network.client.TransportClient$3.operationComplete(TransportClient.java:239)\r\n\tat org.apache.spark.network.client.TransportClient$3.operationComplete(TransportClient.java:226)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:680)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:567)\r\n\tat io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:424)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.safeSetFailure(AbstractChannel.java:801)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.write(AbstractChannel.java:699)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.write(DefaultChannelPipeline.java:1122)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite(AbstractChannelHandlerContext.java:633)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.access$1900(AbstractChannelHandlerContext.java:32)\r\n\tat io.netty.channel.AbstractChannelHandlerContext$AbstractWriteTask.write(AbstractChannelHandlerContext.java:908)\r\n\tat io.netty.channel.AbstractChannelHandlerContext$WriteAndFlushTask.write(AbstractChannelHandlerContext.java:960)\r\n\tat io.netty.channel.AbstractChannelHandlerContext$AbstractWriteTask.run(AbstractChannelHandlerContext.java:893)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:357)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:357)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:111)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.nio.channels.ClosedChannelException\r\n2018-05-16,13:28:33,489 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: User class threw exception: java.io.IOException: Failed to send RPC 7571440800577648876 to c3-hadoop-prc-st2325.bj/10.136.136.25:43474: java.nio.channels.ClosedChannelException\r\njava.io.IOException: Failed to send RPC 7571440800577648876 to c3-hadoop-prc-st2325.bj/10.136.136.25:43474: java.nio.channels.ClosedChannelException\r\n\tat org.apache.spark.network.client.TransportClient$3.operationComplete(TransportClient.java:239)\r\n\tat org.apache.spark.network.client.TransportClient$3.operationComplete(TransportClient.java:226)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:680)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:567)\r\n\tat io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:424)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.safeSetFailure(AbstractChannel.java:801)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.write(AbstractChannel.java:699)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.write(DefaultChannelPipeline.java:1122)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite(AbstractChannelHandlerContext.java:633)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.access$1900(AbstractChannelHandlerContext.java:32)\r\n\tat io.netty.channel.AbstractChannelHandlerContext$AbstractWriteTask.write(AbstractChannelHandlerContext.java:908)\r\n\tat io.netty.channel.AbstractChannelHandlerContext$WriteAndFlushTask.write(AbstractChannelHandlerContext.java:960)\r\n\tat io.netty.channel.AbstractChannelHandlerContext$AbstractWriteTask.run(AbstractChannelHandlerContext.java:893)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:357)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:357)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:111)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.nio.channels.ClosedChannelException\r\n```\r\nThis PR is to make this blocking argument as a config, so that  the default value of it can be controlled by  gray scale systems.\r\n\r\n## How was this patch tested?\r\n\r\nNA-just config changes\r\n\r\nPlease review http://spark.apache.org/contributing.html before opening a pull request.\r\n","created_at":"2019-01-25T10:09:11Z","updated_at":"2019-01-29T14:51:45Z","closed_at":"2019-01-29T14:51:45Z","merged_at":null,"merge_commit_sha":"7767e42d80369f2a51ddd9379503e65c1d6cb500","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23650/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23650/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23650/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/6b693f20fc0539ce2b4da84e519aa63844957023","head":{"label":"liupc:Make-rdd.unpersist-blocking-configurable","ref":"Make-rdd.unpersist-blocking-configurable","sha":"6b693f20fc0539ce2b4da84e519aa63844957023","user":{"login":"liupc","id":6747355,"node_id":"MDQ6VXNlcjY3NDczNTU=","avatar_url":"https://avatars.githubusercontent.com/u/6747355?v=4","gravatar_id":"","url":"https://api.github.com/users/liupc","html_url":"https://github.com/liupc","followers_url":"https://api.github.com/users/liupc/followers","following_url":"https://api.github.com/users/liupc/following{/other_user}","gists_url":"https://api.github.com/users/liupc/gists{/gist_id}","starred_url":"https://api.github.com/users/liupc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liupc/subscriptions","organizations_url":"https://api.github.com/users/liupc/orgs","repos_url":"https://api.github.com/users/liupc/repos","events_url":"https://api.github.com/users/liupc/events{/privacy}","received_events_url":"https://api.github.com/users/liupc/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":75380071,"node_id":"MDEwOlJlcG9zaXRvcnk3NTM4MDA3MQ==","name":"spark","full_name":"liupc/spark","private":false,"owner":{"login":"liupc","id":6747355,"node_id":"MDQ6VXNlcjY3NDczNTU=","avatar_url":"https://avatars.githubusercontent.com/u/6747355?v=4","gravatar_id":"","url":"https://api.github.com/users/liupc","html_url":"https://github.com/liupc","followers_url":"https://api.github.com/users/liupc/followers","following_url":"https://api.github.com/users/liupc/following{/other_user}","gists_url":"https://api.github.com/users/liupc/gists{/gist_id}","starred_url":"https://api.github.com/users/liupc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liupc/subscriptions","organizations_url":"https://api.github.com/users/liupc/orgs","repos_url":"https://api.github.com/users/liupc/repos","events_url":"https://api.github.com/users/liupc/events{/privacy}","received_events_url":"https://api.github.com/users/liupc/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/liupc/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/liupc/spark","forks_url":"https://api.github.com/repos/liupc/spark/forks","keys_url":"https://api.github.com/repos/liupc/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/liupc/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/liupc/spark/teams","hooks_url":"https://api.github.com/repos/liupc/spark/hooks","issue_events_url":"https://api.github.com/repos/liupc/spark/issues/events{/number}","events_url":"https://api.github.com/repos/liupc/spark/events","assignees_url":"https://api.github.com/repos/liupc/spark/assignees{/user}","branches_url":"https://api.github.com/repos/liupc/spark/branches{/branch}","tags_url":"https://api.github.com/repos/liupc/spark/tags","blobs_url":"https://api.github.com/repos/liupc/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/liupc/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/liupc/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/liupc/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/liupc/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/liupc/spark/languages","stargazers_url":"https://api.github.com/repos/liupc/spark/stargazers","contributors_url":"https://api.github.com/repos/liupc/spark/contributors","subscribers_url":"https://api.github.com/repos/liupc/spark/subscribers","subscription_url":"https://api.github.com/repos/liupc/spark/subscription","commits_url":"https://api.github.com/repos/liupc/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/liupc/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/liupc/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/liupc/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/liupc/spark/contents/{+path}","compare_url":"https://api.github.com/repos/liupc/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/liupc/spark/merges","archive_url":"https://api.github.com/repos/liupc/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/liupc/spark/downloads","issues_url":"https://api.github.com/repos/liupc/spark/issues{/number}","pulls_url":"https://api.github.com/repos/liupc/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/liupc/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/liupc/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/liupc/spark/labels{/name}","releases_url":"https://api.github.com/repos/liupc/spark/releases{/id}","deployments_url":"https://api.github.com/repos/liupc/spark/deployments","created_at":"2016-12-02T09:14:58Z","updated_at":"2022-10-06T12:49:56Z","pushed_at":"2022-10-06T12:48:15Z","git_url":"git://github.com/liupc/spark.git","ssh_url":"git@github.com:liupc/spark.git","clone_url":"https://github.com/liupc/spark.git","svn_url":"https://github.com/liupc/spark","homepage":null,"size":407435,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"e3411a82c3296571e45e6d61fca7d9d5acc0aac9","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23650"},"html":{"href":"https://github.com/apache/spark/pull/23650"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23650"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23650/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23650/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23650/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/6b693f20fc0539ce2b4da84e519aa63844957023"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23649","id":247605593,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3NjA1NTkz","html_url":"https://github.com/apache/spark/pull/23649","diff_url":"https://github.com/apache/spark/pull/23649.diff","patch_url":"https://github.com/apache/spark/pull/23649.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23649","number":23649,"state":"closed","locked":false,"title":"[SPARK-26726] Synchronize the amount of memory used by the broadcast variable to the UI display","user":{"login":"httfighter","id":15611708,"node_id":"MDQ6VXNlcjE1NjExNzA4","avatar_url":"https://avatars.githubusercontent.com/u/15611708?v=4","gravatar_id":"","url":"https://api.github.com/users/httfighter","html_url":"https://github.com/httfighter","followers_url":"https://api.github.com/users/httfighter/followers","following_url":"https://api.github.com/users/httfighter/following{/other_user}","gists_url":"https://api.github.com/users/httfighter/gists{/gist_id}","starred_url":"https://api.github.com/users/httfighter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/httfighter/subscriptions","organizations_url":"https://api.github.com/users/httfighter/orgs","repos_url":"https://api.github.com/users/httfighter/repos","events_url":"https://api.github.com/users/httfighter/events{/privacy}","received_events_url":"https://api.github.com/users/httfighter/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"…not synchronized to the UI display\r\n\r\n## What changes were proposed in this pull request?\r\nThe amount of memory used by the broadcast variable is not synchronized to the UI display.\r\nI added the case for BroadcastBlockId and updated the memory usage.\r\n\r\n## How was this patch tested?\r\n\r\nWe can test this patch with unit tests.","created_at":"2019-01-25T09:13:04Z","updated_at":"2019-01-31T17:42:30Z","closed_at":"2019-01-31T17:20:58Z","merged_at":null,"merge_commit_sha":"8abcf7688116d23f2f33dbc69e3d7379fc0f8127","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23649/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23649/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23649/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/2024976b473665ff5ebde3f1ae68ce180fd54ae5","head":{"label":"httfighter:SPARK-26726","ref":"SPARK-26726","sha":"2024976b473665ff5ebde3f1ae68ce180fd54ae5","user":{"login":"httfighter","id":15611708,"node_id":"MDQ6VXNlcjE1NjExNzA4","avatar_url":"https://avatars.githubusercontent.com/u/15611708?v=4","gravatar_id":"","url":"https://api.github.com/users/httfighter","html_url":"https://github.com/httfighter","followers_url":"https://api.github.com/users/httfighter/followers","following_url":"https://api.github.com/users/httfighter/following{/other_user}","gists_url":"https://api.github.com/users/httfighter/gists{/gist_id}","starred_url":"https://api.github.com/users/httfighter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/httfighter/subscriptions","organizations_url":"https://api.github.com/users/httfighter/orgs","repos_url":"https://api.github.com/users/httfighter/repos","events_url":"https://api.github.com/users/httfighter/events{/privacy}","received_events_url":"https://api.github.com/users/httfighter/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104817251,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQ4MTcyNTE=","name":"spark","full_name":"httfighter/spark","private":false,"owner":{"login":"httfighter","id":15611708,"node_id":"MDQ6VXNlcjE1NjExNzA4","avatar_url":"https://avatars.githubusercontent.com/u/15611708?v=4","gravatar_id":"","url":"https://api.github.com/users/httfighter","html_url":"https://github.com/httfighter","followers_url":"https://api.github.com/users/httfighter/followers","following_url":"https://api.github.com/users/httfighter/following{/other_user}","gists_url":"https://api.github.com/users/httfighter/gists{/gist_id}","starred_url":"https://api.github.com/users/httfighter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/httfighter/subscriptions","organizations_url":"https://api.github.com/users/httfighter/orgs","repos_url":"https://api.github.com/users/httfighter/repos","events_url":"https://api.github.com/users/httfighter/events{/privacy}","received_events_url":"https://api.github.com/users/httfighter/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/httfighter/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/httfighter/spark","forks_url":"https://api.github.com/repos/httfighter/spark/forks","keys_url":"https://api.github.com/repos/httfighter/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/httfighter/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/httfighter/spark/teams","hooks_url":"https://api.github.com/repos/httfighter/spark/hooks","issue_events_url":"https://api.github.com/repos/httfighter/spark/issues/events{/number}","events_url":"https://api.github.com/repos/httfighter/spark/events","assignees_url":"https://api.github.com/repos/httfighter/spark/assignees{/user}","branches_url":"https://api.github.com/repos/httfighter/spark/branches{/branch}","tags_url":"https://api.github.com/repos/httfighter/spark/tags","blobs_url":"https://api.github.com/repos/httfighter/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/httfighter/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/httfighter/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/httfighter/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/httfighter/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/httfighter/spark/languages","stargazers_url":"https://api.github.com/repos/httfighter/spark/stargazers","contributors_url":"https://api.github.com/repos/httfighter/spark/contributors","subscribers_url":"https://api.github.com/repos/httfighter/spark/subscribers","subscription_url":"https://api.github.com/repos/httfighter/spark/subscription","commits_url":"https://api.github.com/repos/httfighter/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/httfighter/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/httfighter/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/httfighter/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/httfighter/spark/contents/{+path}","compare_url":"https://api.github.com/repos/httfighter/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/httfighter/spark/merges","archive_url":"https://api.github.com/repos/httfighter/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/httfighter/spark/downloads","issues_url":"https://api.github.com/repos/httfighter/spark/issues{/number}","pulls_url":"https://api.github.com/repos/httfighter/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/httfighter/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/httfighter/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/httfighter/spark/labels{/name}","releases_url":"https://api.github.com/repos/httfighter/spark/releases{/id}","deployments_url":"https://api.github.com/repos/httfighter/spark/deployments","created_at":"2017-09-26T00:49:07Z","updated_at":"2017-09-26T00:49:35Z","pushed_at":"2019-08-15T05:25:37Z","git_url":"git://github.com/httfighter/spark.git","ssh_url":"git@github.com:httfighter/spark.git","clone_url":"https://github.com/httfighter/spark.git","svn_url":"https://github.com/httfighter/spark","homepage":null,"size":289869,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"e3411a82c3296571e45e6d61fca7d9d5acc0aac9","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23649"},"html":{"href":"https://github.com/apache/spark/pull/23649"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23649"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23649/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23649/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23649/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/2024976b473665ff5ebde3f1ae68ce180fd54ae5"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23648","id":247578612,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3NTc4NjEy","html_url":"https://github.com/apache/spark/pull/23648","diff_url":"https://github.com/apache/spark/pull/23648.diff","patch_url":"https://github.com/apache/spark/pull/23648.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23648","number":23648,"state":"closed","locked":false,"title":"[SPARK-26709][SQL][BRANCH-2.3] OptimizeMetadataOnlyQuery does not handle empty records correctly","user":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nWhen reading from empty tables, the optimization `OptimizeMetadataOnlyQuery` may return wrong results:\r\n```\r\nsql(\"CREATE TABLE t (col1 INT, p1 INT) USING PARQUET PARTITIONED BY (p1)\")\r\nsql(\"INSERT INTO TABLE t PARTITION (p1 = 5) SELECT ID FROM range(1, 1)\")\r\nsql(\"SELECT MAX(p1) FROM t\")\r\n```\r\nThe result is supposed to be `null`. However, with the optimization the result is `5`.\r\n\r\nThe rule is originally ported from https://issues.apache.org/jira/browse/HIVE-1003 in #13494. In Hive, the rule is disabled by default in a later release(https://issues.apache.org/jira/browse/HIVE-15397), due to the same problem.\r\n\r\nIt is hard to completely avoid the correctness issue. Because data sources like Parquet can be metadata-only. Spark can't tell whether it is empty or not without actually reading it. This PR disable the optimization by default.\r\n\r\n## How was this patch tested?\r\nUnit test\r\n\r\n","created_at":"2019-01-25T07:03:20Z","updated_at":"2019-01-26T00:27:49Z","closed_at":"2019-01-26T00:27:49Z","merged_at":null,"merge_commit_sha":"dcc71d5c41aacc929a8624fc144f28875a021d70","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23648/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23648/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23648/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/096bb6c850072e6db29f3f21cd37cc4276c06bf3","head":{"label":"gengliangwang:SPARK-26709","ref":"SPARK-26709","sha":"096bb6c850072e6db29f3f21cd37cc4276c06bf3","user":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":95047635,"node_id":"MDEwOlJlcG9zaXRvcnk5NTA0NzYzNQ==","name":"spark","full_name":"gengliangwang/spark","private":false,"owner":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/gengliangwang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/gengliangwang/spark","forks_url":"https://api.github.com/repos/gengliangwang/spark/forks","keys_url":"https://api.github.com/repos/gengliangwang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/gengliangwang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/gengliangwang/spark/teams","hooks_url":"https://api.github.com/repos/gengliangwang/spark/hooks","issue_events_url":"https://api.github.com/repos/gengliangwang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/gengliangwang/spark/events","assignees_url":"https://api.github.com/repos/gengliangwang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/gengliangwang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/gengliangwang/spark/tags","blobs_url":"https://api.github.com/repos/gengliangwang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/gengliangwang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/gengliangwang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/gengliangwang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/gengliangwang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/gengliangwang/spark/languages","stargazers_url":"https://api.github.com/repos/gengliangwang/spark/stargazers","contributors_url":"https://api.github.com/repos/gengliangwang/spark/contributors","subscribers_url":"https://api.github.com/repos/gengliangwang/spark/subscribers","subscription_url":"https://api.github.com/repos/gengliangwang/spark/subscription","commits_url":"https://api.github.com/repos/gengliangwang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/gengliangwang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/gengliangwang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/gengliangwang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/gengliangwang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/gengliangwang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/gengliangwang/spark/merges","archive_url":"https://api.github.com/repos/gengliangwang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/gengliangwang/spark/downloads","issues_url":"https://api.github.com/repos/gengliangwang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/gengliangwang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/gengliangwang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/gengliangwang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/gengliangwang/spark/labels{/name}","releases_url":"https://api.github.com/repos/gengliangwang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/gengliangwang/spark/deployments","created_at":"2017-06-21T21:26:20Z","updated_at":"2022-01-05T09:39:12Z","pushed_at":"2025-02-07T19:52:00Z","git_url":"git://github.com/gengliangwang/spark.git","ssh_url":"git@github.com:gengliangwang/spark.git","clone_url":"https://github.com/gengliangwang/spark.git","svn_url":"https://github.com/gengliangwang/spark","homepage":null,"size":481326,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:branch-2.3","ref":"branch-2.3","sha":"373a627e99666ff047d41c8797a21deee84e23b9","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23648"},"html":{"href":"https://github.com/apache/spark/pull/23648"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23648"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23648/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23648/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23648/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/096bb6c850072e6db29f3f21cd37cc4276c06bf3"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23647","id":247576261,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3NTc2MjYx","html_url":"https://github.com/apache/spark/pull/23647","diff_url":"https://github.com/apache/spark/pull/23647.diff","patch_url":"https://github.com/apache/spark/pull/23647.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23647","number":23647,"state":"closed","locked":false,"title":"[SPARK-26712]Support multi directories for executor shuffle info recovery in yarn shuffle serivce","user":{"login":"liupc","id":6747355,"node_id":"MDQ6VXNlcjY3NDczNTU=","avatar_url":"https://avatars.githubusercontent.com/u/6747355?v=4","gravatar_id":"","url":"https://api.github.com/users/liupc","html_url":"https://github.com/liupc","followers_url":"https://api.github.com/users/liupc/followers","following_url":"https://api.github.com/users/liupc/following{/other_user}","gists_url":"https://api.github.com/users/liupc/gists{/gist_id}","starred_url":"https://api.github.com/users/liupc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liupc/subscriptions","organizations_url":"https://api.github.com/users/liupc/orgs","repos_url":"https://api.github.com/users/liupc/repos","events_url":"https://api.github.com/users/liupc/events{/privacy}","received_events_url":"https://api.github.com/users/liupc/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nCurrently, `ExecutorShuffleInfo` can be recovered from file if NM recovery enabled, however, the recovery file is under a single directory, which may be unavailable if disk broken. So if a NM restart happen(may be caused by kill or some reason), the shuffle service can not start and the `ExecutorShuffleInfo` would lost even if there are existing executors on the node.\r\n\r\nThis may finally cause job failures(if node or executors on it not blacklisted), or at least, it will cause resource waste.(shuffle from this node always failed.), for long running spark applications, this problem may be more serious.\r\n\r\nThis PR introduced a mechanism to support multi directories for executor shuffle info recovery, this can improve the robustness of the `YarnShuffleService`.\r\n\r\n## How was this patch tested?\r\n\r\nUT\r\n\r\nPlease review http://spark.apache.org/contributing.html before opening a pull request.\r\n","created_at":"2019-01-25T06:50:16Z","updated_at":"2019-02-26T15:40:31Z","closed_at":"2019-02-26T15:40:31Z","merged_at":null,"merge_commit_sha":"36cd5167fe5c48530d5521060dbf0cad8fd2f573","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23647/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23647/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23647/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/ed1e043ff7bde8e3e2072e28ac86b01f42d85ccf","head":{"label":"liupc:Support-multi-directories-for-executor-shuffle-info-recovery-in-YarnShuffleSerivce","ref":"Support-multi-directories-for-executor-shuffle-info-recovery-in-YarnShuffleSerivce","sha":"ed1e043ff7bde8e3e2072e28ac86b01f42d85ccf","user":{"login":"liupc","id":6747355,"node_id":"MDQ6VXNlcjY3NDczNTU=","avatar_url":"https://avatars.githubusercontent.com/u/6747355?v=4","gravatar_id":"","url":"https://api.github.com/users/liupc","html_url":"https://github.com/liupc","followers_url":"https://api.github.com/users/liupc/followers","following_url":"https://api.github.com/users/liupc/following{/other_user}","gists_url":"https://api.github.com/users/liupc/gists{/gist_id}","starred_url":"https://api.github.com/users/liupc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liupc/subscriptions","organizations_url":"https://api.github.com/users/liupc/orgs","repos_url":"https://api.github.com/users/liupc/repos","events_url":"https://api.github.com/users/liupc/events{/privacy}","received_events_url":"https://api.github.com/users/liupc/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":75380071,"node_id":"MDEwOlJlcG9zaXRvcnk3NTM4MDA3MQ==","name":"spark","full_name":"liupc/spark","private":false,"owner":{"login":"liupc","id":6747355,"node_id":"MDQ6VXNlcjY3NDczNTU=","avatar_url":"https://avatars.githubusercontent.com/u/6747355?v=4","gravatar_id":"","url":"https://api.github.com/users/liupc","html_url":"https://github.com/liupc","followers_url":"https://api.github.com/users/liupc/followers","following_url":"https://api.github.com/users/liupc/following{/other_user}","gists_url":"https://api.github.com/users/liupc/gists{/gist_id}","starred_url":"https://api.github.com/users/liupc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liupc/subscriptions","organizations_url":"https://api.github.com/users/liupc/orgs","repos_url":"https://api.github.com/users/liupc/repos","events_url":"https://api.github.com/users/liupc/events{/privacy}","received_events_url":"https://api.github.com/users/liupc/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/liupc/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/liupc/spark","forks_url":"https://api.github.com/repos/liupc/spark/forks","keys_url":"https://api.github.com/repos/liupc/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/liupc/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/liupc/spark/teams","hooks_url":"https://api.github.com/repos/liupc/spark/hooks","issue_events_url":"https://api.github.com/repos/liupc/spark/issues/events{/number}","events_url":"https://api.github.com/repos/liupc/spark/events","assignees_url":"https://api.github.com/repos/liupc/spark/assignees{/user}","branches_url":"https://api.github.com/repos/liupc/spark/branches{/branch}","tags_url":"https://api.github.com/repos/liupc/spark/tags","blobs_url":"https://api.github.com/repos/liupc/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/liupc/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/liupc/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/liupc/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/liupc/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/liupc/spark/languages","stargazers_url":"https://api.github.com/repos/liupc/spark/stargazers","contributors_url":"https://api.github.com/repos/liupc/spark/contributors","subscribers_url":"https://api.github.com/repos/liupc/spark/subscribers","subscription_url":"https://api.github.com/repos/liupc/spark/subscription","commits_url":"https://api.github.com/repos/liupc/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/liupc/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/liupc/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/liupc/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/liupc/spark/contents/{+path}","compare_url":"https://api.github.com/repos/liupc/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/liupc/spark/merges","archive_url":"https://api.github.com/repos/liupc/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/liupc/spark/downloads","issues_url":"https://api.github.com/repos/liupc/spark/issues{/number}","pulls_url":"https://api.github.com/repos/liupc/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/liupc/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/liupc/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/liupc/spark/labels{/name}","releases_url":"https://api.github.com/repos/liupc/spark/releases{/id}","deployments_url":"https://api.github.com/repos/liupc/spark/deployments","created_at":"2016-12-02T09:14:58Z","updated_at":"2022-10-06T12:49:56Z","pushed_at":"2022-10-06T12:48:15Z","git_url":"git://github.com/liupc/spark.git","ssh_url":"git@github.com:liupc/spark.git","clone_url":"https://github.com/liupc/spark.git","svn_url":"https://github.com/liupc/spark","homepage":null,"size":407435,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"9452e0508ade3ba3fee1b4be53609e78763d854f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23647"},"html":{"href":"https://github.com/apache/spark/pull/23647"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23647"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23647/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23647/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23647/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/ed1e043ff7bde8e3e2072e28ac86b01f42d85ccf"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23646","id":247567750,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3NTY3NzUw","html_url":"https://github.com/apache/spark/pull/23646","diff_url":"https://github.com/apache/spark/pull/23646.diff","patch_url":"https://github.com/apache/spark/pull/23646.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23646","number":23646,"state":"closed","locked":false,"title":"[SPARK-26427][BUILD][BACKPORT-2.4] Upgrade Apache ORC to 1.5.4","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nThis is a backport of #23364.\r\n\r\nTo make Apache Spark 2.4.1 more robust, this PR aims to update Apache ORC dependency to the latest version 1.5.4 released at Dec. 20. ([Release Notes](https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12318320&version=12344187]))\r\n```\r\n[ORC-237] OrcFile.mergeFiles Specified block size is less than configured minimum value\r\n[ORC-409] Changes for extending MemoryManagerImpl\r\n[ORC-410] Fix a locale-dependent test in TestCsvReader\r\n[ORC-416] Avoid opening data reader when there is no stripe\r\n[ORC-417] Use dynamic Apache Maven mirror link\r\n[ORC-419] Ensure to call `close` at RecordReaderImpl constructor exception\r\n[ORC-432] openjdk 8 has a bug that prevents surefire from working\r\n[ORC-435] Ability to read stripes that are greater than 2GB\r\n[ORC-437] Make acid schema checks case insensitive\r\n[ORC-411] Update build to work with Java 10.\r\n[ORC-418] Fix broken docker build script\r\n```\r\n\r\n## How was this patch tested?\r\n\r\nBuild and pass Jenkins.","created_at":"2019-01-25T05:55:44Z","updated_at":"2019-01-27T01:21:48Z","closed_at":"2019-01-25T17:08:40Z","merged_at":null,"merge_commit_sha":"382f6d90547994d8834b968fc8191e2ee942e72b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23646/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23646/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23646/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/146bcdbda8b802e08fcbe5c22764c7972a779df8","head":{"label":"dongjoon-hyun:SPARK-26427-2.4","ref":"SPARK-26427-2.4","sha":"146bcdbda8b802e08fcbe5c22764c7972a779df8","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:branch-2.4","ref":"branch-2.4","sha":"8d957d7724d36ce415029d454740352699bcc862","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23646"},"html":{"href":"https://github.com/apache/spark/pull/23646"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23646"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23646/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23646/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23646/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/146bcdbda8b802e08fcbe5c22764c7972a779df8"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23645","id":247567475,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3NTY3NDc1","html_url":"https://github.com/apache/spark/pull/23645","diff_url":"https://github.com/apache/spark/pull/23645.diff","patch_url":"https://github.com/apache/spark/pull/23645.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23645","number":23645,"state":"closed","locked":false,"title":"[SPARK-26725][TEST] Fix the input values of UnifiedMemoryManager constructor in test suites","user":{"login":"srowen","id":822522,"node_id":"MDQ6VXNlcjgyMjUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/822522?v=4","gravatar_id":"","url":"https://api.github.com/users/srowen","html_url":"https://github.com/srowen","followers_url":"https://api.github.com/users/srowen/followers","following_url":"https://api.github.com/users/srowen/following{/other_user}","gists_url":"https://api.github.com/users/srowen/gists{/gist_id}","starred_url":"https://api.github.com/users/srowen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srowen/subscriptions","organizations_url":"https://api.github.com/users/srowen/orgs","repos_url":"https://api.github.com/users/srowen/repos","events_url":"https://api.github.com/users/srowen/events{/privacy}","received_events_url":"https://api.github.com/users/srowen/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nAdjust mem settings in UnifiedMemoryManager used in test suites to ha…ve execution memory > 0\r\nRef: https://github.com/apache/spark/pull/23457#issuecomment-457409976\r\n\r\n## How was this patch tested?\r\n\r\nExisting tests","created_at":"2019-01-25T05:53:59Z","updated_at":"2019-02-14T21:52:41Z","closed_at":"2019-01-28T04:42:38Z","merged_at":null,"merge_commit_sha":"bb3a6c2acb7c9e86ffe44c4d2b7cabaa37567938","assignee":{"login":"srowen","id":822522,"node_id":"MDQ6VXNlcjgyMjUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/822522?v=4","gravatar_id":"","url":"https://api.github.com/users/srowen","html_url":"https://github.com/srowen","followers_url":"https://api.github.com/users/srowen/followers","following_url":"https://api.github.com/users/srowen/following{/other_user}","gists_url":"https://api.github.com/users/srowen/gists{/gist_id}","starred_url":"https://api.github.com/users/srowen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srowen/subscriptions","organizations_url":"https://api.github.com/users/srowen/orgs","repos_url":"https://api.github.com/users/srowen/repos","events_url":"https://api.github.com/users/srowen/events{/privacy}","received_events_url":"https://api.github.com/users/srowen/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"srowen","id":822522,"node_id":"MDQ6VXNlcjgyMjUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/822522?v=4","gravatar_id":"","url":"https://api.github.com/users/srowen","html_url":"https://github.com/srowen","followers_url":"https://api.github.com/users/srowen/followers","following_url":"https://api.github.com/users/srowen/following{/other_user}","gists_url":"https://api.github.com/users/srowen/gists{/gist_id}","starred_url":"https://api.github.com/users/srowen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srowen/subscriptions","organizations_url":"https://api.github.com/users/srowen/orgs","repos_url":"https://api.github.com/users/srowen/repos","events_url":"https://api.github.com/users/srowen/events{/privacy}","received_events_url":"https://api.github.com/users/srowen/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_reviewers":[{"login":"gatorsmile","id":11567269,"node_id":"MDQ6VXNlcjExNTY3MjY5","avatar_url":"https://avatars.githubusercontent.com/u/11567269?v=4","gravatar_id":"","url":"https://api.github.com/users/gatorsmile","html_url":"https://github.com/gatorsmile","followers_url":"https://api.github.com/users/gatorsmile/followers","following_url":"https://api.github.com/users/gatorsmile/following{/other_user}","gists_url":"https://api.github.com/users/gatorsmile/gists{/gist_id}","starred_url":"https://api.github.com/users/gatorsmile/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gatorsmile/subscriptions","organizations_url":"https://api.github.com/users/gatorsmile/orgs","repos_url":"https://api.github.com/users/gatorsmile/repos","events_url":"https://api.github.com/users/gatorsmile/events{/privacy}","received_events_url":"https://api.github.com/users/gatorsmile/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23645/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23645/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23645/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/e6500a0df931eaeb4e910094e06490b19a40eb06","head":{"label":"srowen:SPARK-26725","ref":"SPARK-26725","sha":"e6500a0df931eaeb4e910094e06490b19a40eb06","user":{"login":"srowen","id":822522,"node_id":"MDQ6VXNlcjgyMjUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/822522?v=4","gravatar_id":"","url":"https://api.github.com/users/srowen","html_url":"https://github.com/srowen","followers_url":"https://api.github.com/users/srowen/followers","following_url":"https://api.github.com/users/srowen/following{/other_user}","gists_url":"https://api.github.com/users/srowen/gists{/gist_id}","starred_url":"https://api.github.com/users/srowen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srowen/subscriptions","organizations_url":"https://api.github.com/users/srowen/orgs","repos_url":"https://api.github.com/users/srowen/repos","events_url":"https://api.github.com/users/srowen/events{/privacy}","received_events_url":"https://api.github.com/users/srowen/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":17241201,"node_id":"MDEwOlJlcG9zaXRvcnkxNzI0MTIwMQ==","name":"spark","full_name":"srowen/spark","private":false,"owner":{"login":"srowen","id":822522,"node_id":"MDQ6VXNlcjgyMjUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/822522?v=4","gravatar_id":"","url":"https://api.github.com/users/srowen","html_url":"https://github.com/srowen","followers_url":"https://api.github.com/users/srowen/followers","following_url":"https://api.github.com/users/srowen/following{/other_user}","gists_url":"https://api.github.com/users/srowen/gists{/gist_id}","starred_url":"https://api.github.com/users/srowen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srowen/subscriptions","organizations_url":"https://api.github.com/users/srowen/orgs","repos_url":"https://api.github.com/users/srowen/repos","events_url":"https://api.github.com/users/srowen/events{/privacy}","received_events_url":"https://api.github.com/users/srowen/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/srowen/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/srowen/spark","forks_url":"https://api.github.com/repos/srowen/spark/forks","keys_url":"https://api.github.com/repos/srowen/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/srowen/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/srowen/spark/teams","hooks_url":"https://api.github.com/repos/srowen/spark/hooks","issue_events_url":"https://api.github.com/repos/srowen/spark/issues/events{/number}","events_url":"https://api.github.com/repos/srowen/spark/events","assignees_url":"https://api.github.com/repos/srowen/spark/assignees{/user}","branches_url":"https://api.github.com/repos/srowen/spark/branches{/branch}","tags_url":"https://api.github.com/repos/srowen/spark/tags","blobs_url":"https://api.github.com/repos/srowen/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/srowen/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/srowen/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/srowen/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/srowen/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/srowen/spark/languages","stargazers_url":"https://api.github.com/repos/srowen/spark/stargazers","contributors_url":"https://api.github.com/repos/srowen/spark/contributors","subscribers_url":"https://api.github.com/repos/srowen/spark/subscribers","subscription_url":"https://api.github.com/repos/srowen/spark/subscription","commits_url":"https://api.github.com/repos/srowen/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/srowen/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/srowen/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/srowen/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/srowen/spark/contents/{+path}","compare_url":"https://api.github.com/repos/srowen/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/srowen/spark/merges","archive_url":"https://api.github.com/repos/srowen/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/srowen/spark/downloads","issues_url":"https://api.github.com/repos/srowen/spark/issues{/number}","pulls_url":"https://api.github.com/repos/srowen/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/srowen/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/srowen/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/srowen/spark/labels{/name}","releases_url":"https://api.github.com/repos/srowen/spark/releases{/id}","deployments_url":"https://api.github.com/repos/srowen/spark/deployments","created_at":"2014-02-27T07:57:07Z","updated_at":"2022-01-12T08:52:54Z","pushed_at":"2024-03-31T01:22:22Z","git_url":"git://github.com/srowen/spark.git","ssh_url":"git@github.com:srowen/spark.git","clone_url":"https://github.com/srowen/spark.git","svn_url":"https://github.com/srowen/spark","homepage":null,"size":366506,"stargazers_count":7,"watchers_count":7,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":7,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"aa3d16d68b7ebd9210c330905f01590ef93d875c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23645"},"html":{"href":"https://github.com/apache/spark/pull/23645"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23645"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23645/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23645/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23645/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/e6500a0df931eaeb4e910094e06490b19a40eb06"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/23644","id":247556438,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ3NTU2NDM4","html_url":"https://github.com/apache/spark/pull/23644","diff_url":"https://github.com/apache/spark/pull/23644.diff","patch_url":"https://github.com/apache/spark/pull/23644.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/23644","number":23644,"state":"closed","locked":false,"title":"[SPARK-26708][SQL] Incorrect result caused by inconsistency between a SQL cache's cached RDD and its physical plan","user":{"login":"maryannxue","id":4171904,"node_id":"MDQ6VXNlcjQxNzE5MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4171904?v=4","gravatar_id":"","url":"https://api.github.com/users/maryannxue","html_url":"https://github.com/maryannxue","followers_url":"https://api.github.com/users/maryannxue/followers","following_url":"https://api.github.com/users/maryannxue/following{/other_user}","gists_url":"https://api.github.com/users/maryannxue/gists{/gist_id}","starred_url":"https://api.github.com/users/maryannxue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maryannxue/subscriptions","organizations_url":"https://api.github.com/users/maryannxue/orgs","repos_url":"https://api.github.com/users/maryannxue/repos","events_url":"https://api.github.com/users/maryannxue/events{/privacy}","received_events_url":"https://api.github.com/users/maryannxue/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"## What changes were proposed in this pull request?\r\n\r\nWhen performing non-cascading cache invalidation, `recache` is called on the other cache entries which are dependent on the cache being invalidated. It leads to the the physical plans of those cache entries being re-compiled. For those cache entries, if the cache RDD has already been persisted, chances are there will be inconsistency between the data and the new plan. It can cause a correctness issue if the new plan's `outputPartitioning`  or `outputOrdering` is different from the that of the actual data, and meanwhile the cache is used by another query that asks for specific `outputPartitioning` or `outputOrdering` which happens to match the new plan but not the actual data.\r\n\r\nThe fix is to keep the cache entry as it is if the data has been loaded, otherwise re-build the cache entry, with a new plan and an empty cache buffer.\r\n\r\n## How was this patch tested?\r\n\r\nAdded UT.","created_at":"2019-01-25T04:27:24Z","updated_at":"2019-01-28T23:18:02Z","closed_at":"2019-01-27T19:42:55Z","merged_at":null,"merge_commit_sha":"57c2fda6d10fe87fbaa5f48e429d7c5fa185f61d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/23644/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/23644/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/23644/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/7ec16b981f538f568299f4f671e2fd0694794129","head":{"label":"maryannxue:spark-26708","ref":"spark-26708","sha":"7ec16b981f538f568299f4f671e2fd0694794129","user":{"login":"maryannxue","id":4171904,"node_id":"MDQ6VXNlcjQxNzE5MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4171904?v=4","gravatar_id":"","url":"https://api.github.com/users/maryannxue","html_url":"https://github.com/maryannxue","followers_url":"https://api.github.com/users/maryannxue/followers","following_url":"https://api.github.com/users/maryannxue/following{/other_user}","gists_url":"https://api.github.com/users/maryannxue/gists{/gist_id}","starred_url":"https://api.github.com/users/maryannxue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maryannxue/subscriptions","organizations_url":"https://api.github.com/users/maryannxue/orgs","repos_url":"https://api.github.com/users/maryannxue/repos","events_url":"https://api.github.com/users/maryannxue/events{/privacy}","received_events_url":"https://api.github.com/users/maryannxue/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104110775,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQxMTA3NzU=","name":"spark","full_name":"maryannxue/spark","private":false,"owner":{"login":"maryannxue","id":4171904,"node_id":"MDQ6VXNlcjQxNzE5MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4171904?v=4","gravatar_id":"","url":"https://api.github.com/users/maryannxue","html_url":"https://github.com/maryannxue","followers_url":"https://api.github.com/users/maryannxue/followers","following_url":"https://api.github.com/users/maryannxue/following{/other_user}","gists_url":"https://api.github.com/users/maryannxue/gists{/gist_id}","starred_url":"https://api.github.com/users/maryannxue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maryannxue/subscriptions","organizations_url":"https://api.github.com/users/maryannxue/orgs","repos_url":"https://api.github.com/users/maryannxue/repos","events_url":"https://api.github.com/users/maryannxue/events{/privacy}","received_events_url":"https://api.github.com/users/maryannxue/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/maryannxue/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/maryannxue/spark","forks_url":"https://api.github.com/repos/maryannxue/spark/forks","keys_url":"https://api.github.com/repos/maryannxue/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/maryannxue/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/maryannxue/spark/teams","hooks_url":"https://api.github.com/repos/maryannxue/spark/hooks","issue_events_url":"https://api.github.com/repos/maryannxue/spark/issues/events{/number}","events_url":"https://api.github.com/repos/maryannxue/spark/events","assignees_url":"https://api.github.com/repos/maryannxue/spark/assignees{/user}","branches_url":"https://api.github.com/repos/maryannxue/spark/branches{/branch}","tags_url":"https://api.github.com/repos/maryannxue/spark/tags","blobs_url":"https://api.github.com/repos/maryannxue/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/maryannxue/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/maryannxue/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/maryannxue/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/maryannxue/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/maryannxue/spark/languages","stargazers_url":"https://api.github.com/repos/maryannxue/spark/stargazers","contributors_url":"https://api.github.com/repos/maryannxue/spark/contributors","subscribers_url":"https://api.github.com/repos/maryannxue/spark/subscribers","subscription_url":"https://api.github.com/repos/maryannxue/spark/subscription","commits_url":"https://api.github.com/repos/maryannxue/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/maryannxue/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/maryannxue/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/maryannxue/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/maryannxue/spark/contents/{+path}","compare_url":"https://api.github.com/repos/maryannxue/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/maryannxue/spark/merges","archive_url":"https://api.github.com/repos/maryannxue/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/maryannxue/spark/downloads","issues_url":"https://api.github.com/repos/maryannxue/spark/issues{/number}","pulls_url":"https://api.github.com/repos/maryannxue/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/maryannxue/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/maryannxue/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/maryannxue/spark/labels{/name}","releases_url":"https://api.github.com/repos/maryannxue/spark/releases{/id}","deployments_url":"https://api.github.com/repos/maryannxue/spark/deployments","created_at":"2017-09-19T18:13:47Z","updated_at":"2021-12-16T22:58:22Z","pushed_at":"2023-12-04T23:50:13Z","git_url":"git://github.com/maryannxue/spark.git","ssh_url":"git@github.com:maryannxue/spark.git","clone_url":"https://github.com/maryannxue/spark.git","svn_url":"https://github.com/maryannxue/spark","homepage":null,"size":410884,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"9452e0508ade3ba3fee1b4be53609e78763d854f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/23644"},"html":{"href":"https://github.com/apache/spark/pull/23644"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/23644"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/23644/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/23644/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/23644/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/7ec16b981f538f568299f4f671e2fd0694794129"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null}]