[{"url":"https://api.github.com/repos/apache/spark/pulls/35447","id":843255015,"node_id":"PR_kwDOAQXtWs4yQwzn","html_url":"https://github.com/apache/spark/pull/35447","diff_url":"https://github.com/apache/spark/pull/35447.diff","patch_url":"https://github.com/apache/spark/pull/35447.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35447","number":35447,"state":"closed","locked":false,"title":"[SPARK-38144][CORE] Remove unused `spark.storage.safetyFraction` config","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR aims to remove the unused `spark.storage.safetyFraction`.\r\n\r\n### Why are the changes needed?\r\n\r\nApache Spark 3.0.0 deleted `StaticMemoryManager` and its `spark.storage.safetyFraction` usage via \r\nSPARK-26539.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nPass the CIs.","created_at":"2022-02-08T21:23:33Z","updated_at":"2022-02-10T16:43:33Z","closed_at":"2022-02-08T23:36:05Z","merged_at":null,"merge_commit_sha":"4769c61344a94d280140b20fdeb3879b9c7a7460","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35447/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35447/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35447/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/d14dfab89cbfe3f5c6756e5dc7a417680f49b208","head":{"label":"dongjoon-hyun:SPARK-38144","ref":"SPARK-38144","sha":"d14dfab89cbfe3f5c6756e5dc7a417680f49b208","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"c69f08f81042c3ecca4b5dfa5511c1217ae88096","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35447"},"html":{"href":"https://github.com/apache/spark/pull/35447"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35447"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35447/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35447/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35447/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/d14dfab89cbfe3f5c6756e5dc7a417680f49b208"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35446","id":843230074,"node_id":"PR_kwDOAQXtWs4yQqt6","html_url":"https://github.com/apache/spark/pull/35446","diff_url":"https://github.com/apache/spark/pull/35446.diff","patch_url":"https://github.com/apache/spark/pull/35446.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35446","number":35446,"state":"closed","locked":false,"title":"[SPARK-38030][SQL][3.2] Canonicalization should not remove nullability of AttributeReference dataType","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"This is a backport of https://github.com/apache/spark/pull/35332 to branch 3.2\r\n<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\nCanonicalization of AttributeReference should not remove nullability information of its dataType.\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\n\r\n### Why are the changes needed?\r\nSPARK-38030 lists an issue where canonicalization of cast resulted in an unresolved expression, thus causing query failure. The issue was that the child AttributeReference's dataType was converted to nullable during canonicalization and hence the Cast's `checkInputDataTypes` fails. Although the exact repro listed in SPARK-38030 no longer works in branch-3.2 due to an unrelated change (details in the JIRA), some other codepaths which depend on canonicalized representations can trigger the same issue.\r\n\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\n\r\n### How was this patch tested?\r\nAdded unit test to ensure that canonicalization preserves nullability of AttributeReference and does not result in an unresolved cast\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n","created_at":"2022-02-08T20:49:03Z","updated_at":"2022-02-09T03:18:57Z","closed_at":"2022-02-09T03:18:57Z","merged_at":null,"merge_commit_sha":"10090451f5765d4d6ba5062369fd41534aab3000","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35446/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35446/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35446/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/67c07c283e3d394c15c8d87f9e500a26a9ee458d","head":{"label":"shardulm94:SPARK-38030-3.2","ref":"SPARK-38030-3.2","sha":"67c07c283e3d394c15c8d87f9e500a26a9ee458d","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":304161240,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQxNjEyNDA=","name":"spark","full_name":"shardulm94/spark","private":false,"owner":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/shardulm94/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/shardulm94/spark","forks_url":"https://api.github.com/repos/shardulm94/spark/forks","keys_url":"https://api.github.com/repos/shardulm94/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/shardulm94/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/shardulm94/spark/teams","hooks_url":"https://api.github.com/repos/shardulm94/spark/hooks","issue_events_url":"https://api.github.com/repos/shardulm94/spark/issues/events{/number}","events_url":"https://api.github.com/repos/shardulm94/spark/events","assignees_url":"https://api.github.com/repos/shardulm94/spark/assignees{/user}","branches_url":"https://api.github.com/repos/shardulm94/spark/branches{/branch}","tags_url":"https://api.github.com/repos/shardulm94/spark/tags","blobs_url":"https://api.github.com/repos/shardulm94/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/shardulm94/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/shardulm94/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/shardulm94/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/shardulm94/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/shardulm94/spark/languages","stargazers_url":"https://api.github.com/repos/shardulm94/spark/stargazers","contributors_url":"https://api.github.com/repos/shardulm94/spark/contributors","subscribers_url":"https://api.github.com/repos/shardulm94/spark/subscribers","subscription_url":"https://api.github.com/repos/shardulm94/spark/subscription","commits_url":"https://api.github.com/repos/shardulm94/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/shardulm94/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/shardulm94/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/shardulm94/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/shardulm94/spark/contents/{+path}","compare_url":"https://api.github.com/repos/shardulm94/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/shardulm94/spark/merges","archive_url":"https://api.github.com/repos/shardulm94/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/shardulm94/spark/downloads","issues_url":"https://api.github.com/repos/shardulm94/spark/issues{/number}","pulls_url":"https://api.github.com/repos/shardulm94/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/shardulm94/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/shardulm94/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/shardulm94/spark/labels{/name}","releases_url":"https://api.github.com/repos/shardulm94/spark/releases{/id}","deployments_url":"https://api.github.com/repos/shardulm94/spark/deployments","created_at":"2020-10-14T23:42:43Z","updated_at":"2024-07-11T01:07:52Z","pushed_at":"2024-07-12T18:44:05Z","git_url":"git://github.com/shardulm94/spark.git","ssh_url":"git@github.com:shardulm94/spark.git","clone_url":"https://github.com/shardulm94/spark.git","svn_url":"https://github.com/shardulm94/spark","homepage":"https://spark.apache.org/","size":440042,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:branch-3.2","ref":"branch-3.2","sha":"adba5165a56bd4e7a71fcad77c568c0cbc2e7f97","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35446"},"html":{"href":"https://github.com/apache/spark/pull/35446"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35446"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35446/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35446/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35446/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/67c07c283e3d394c15c8d87f9e500a26a9ee458d"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35445","id":843087316,"node_id":"PR_kwDOAQXtWs4yQH3U","html_url":"https://github.com/apache/spark/pull/35445","diff_url":"https://github.com/apache/spark/pull/35445.diff","patch_url":"https://github.com/apache/spark/pull/35445.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35445","number":35445,"state":"closed","locked":false,"title":"[SPARK-38131][SQL] Use error classes in user-facing exceptions only","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nIn the PR, I propose to remove the error class `ROW_FROM_CSV_PARSER_NOT_EXPECTED` and don't use the error class `UNSUPPORTED_FEATURE` in an up-cast exception which is an internal one.\r\n\r\n### Why are the changes needed?\r\nThe error classes are supposed to be used in user-facing errors/exceptions only. It doesn't make sense to introduce/use them in internal errors.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n### How was this patch tested?\r\nBy running existing test suites.","created_at":"2022-02-08T17:52:00Z","updated_at":"2022-02-10T09:35:55Z","closed_at":"2022-02-10T09:35:55Z","merged_at":null,"merge_commit_sha":"d8a0da2ecafb4589daecfebbff4cd1a1902a8ab9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35445/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35445/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35445/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/01372ffffc6326abe5c4c6ef52a1f0c47b47ec01","head":{"label":"MaxGekk:keep-only-user-facing-error-classes","ref":"keep-only-user-facing-error-classes","sha":"01372ffffc6326abe5c4c6ef52a1f0c47b47ec01","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":123690489,"node_id":"MDEwOlJlcG9zaXRvcnkxMjM2OTA0ODk=","name":"spark","full_name":"MaxGekk/spark","private":false,"owner":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/MaxGekk/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/MaxGekk/spark","forks_url":"https://api.github.com/repos/MaxGekk/spark/forks","keys_url":"https://api.github.com/repos/MaxGekk/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/MaxGekk/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/MaxGekk/spark/teams","hooks_url":"https://api.github.com/repos/MaxGekk/spark/hooks","issue_events_url":"https://api.github.com/repos/MaxGekk/spark/issues/events{/number}","events_url":"https://api.github.com/repos/MaxGekk/spark/events","assignees_url":"https://api.github.com/repos/MaxGekk/spark/assignees{/user}","branches_url":"https://api.github.com/repos/MaxGekk/spark/branches{/branch}","tags_url":"https://api.github.com/repos/MaxGekk/spark/tags","blobs_url":"https://api.github.com/repos/MaxGekk/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/MaxGekk/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/MaxGekk/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/MaxGekk/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/MaxGekk/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/MaxGekk/spark/languages","stargazers_url":"https://api.github.com/repos/MaxGekk/spark/stargazers","contributors_url":"https://api.github.com/repos/MaxGekk/spark/contributors","subscribers_url":"https://api.github.com/repos/MaxGekk/spark/subscribers","subscription_url":"https://api.github.com/repos/MaxGekk/spark/subscription","commits_url":"https://api.github.com/repos/MaxGekk/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/MaxGekk/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/MaxGekk/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/MaxGekk/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/MaxGekk/spark/contents/{+path}","compare_url":"https://api.github.com/repos/MaxGekk/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/MaxGekk/spark/merges","archive_url":"https://api.github.com/repos/MaxGekk/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/MaxGekk/spark/downloads","issues_url":"https://api.github.com/repos/MaxGekk/spark/issues{/number}","pulls_url":"https://api.github.com/repos/MaxGekk/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/MaxGekk/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/MaxGekk/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/MaxGekk/spark/labels{/name}","releases_url":"https://api.github.com/repos/MaxGekk/spark/releases{/id}","deployments_url":"https://api.github.com/repos/MaxGekk/spark/deployments","created_at":"2018-03-03T12:37:00Z","updated_at":"2025-02-07T09:44:52Z","pushed_at":"2025-02-07T09:44:24Z","git_url":"git://github.com/MaxGekk/spark.git","ssh_url":"git@github.com:MaxGekk/spark.git","clone_url":"https://github.com/MaxGekk/spark.git","svn_url":"https://github.com/MaxGekk/spark","homepage":null,"size":486456,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"5f0a92c435bc23dbe4049069250cf94f167df1cd","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35445"},"html":{"href":"https://github.com/apache/spark/pull/35445"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35445"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35445/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35445/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35445/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/01372ffffc6326abe5c4c6ef52a1f0c47b47ec01"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35444","id":843079366,"node_id":"PR_kwDOAQXtWs4yQF7G","html_url":"https://github.com/apache/spark/pull/35444","diff_url":"https://github.com/apache/spark/pull/35444.diff","patch_url":"https://github.com/apache/spark/pull/35444.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35444","number":35444,"state":"closed","locked":false,"title":"[SPARK-38030][SQL][3.1] Canonicalization should not remove nullability of AttributeReference dataType","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"This is a backport of https://github.com/apache/spark/pull/35332 to branch 3.1\r\n\r\n<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\nCanonicalization of AttributeReference should not remove nullability information of its dataType.\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\n\r\n### Why are the changes needed?\r\nSPARK-38030 lists an issue where canonicalization of cast resulted in an unresolved expression, thus causing query failure. The issue was that the child AttributeReference's dataType was converted to nullable during canonicalization and hence the Cast's `checkInputDataTypes` fails.\r\n\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\n\r\n### How was this patch tested?\r\nAdded unit test to ensure that canonicalization preserves nullability of AttributeReference and does not result in an unresolved cast. Also added a test to ensure that the issue observed in SPARK-38030 (interaction of this bug with AQE) is fixed. This test/repro only works on 3.1 because the code which triggers access on an unresolved object is [lazy](https://github.com/apache/spark/blob/7e5c3b216431b6a5e9a0786bf7cded694228cdee/sql/core/src/main/scala/org/apache/spark/sql/execution/exchange/ShuffleExchangeExec.scala#L132) in 3.2+ and hence does not trigger the issue in 3.2+.\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n","created_at":"2022-02-08T17:44:32Z","updated_at":"2022-02-09T03:20:43Z","closed_at":"2022-02-09T03:20:43Z","merged_at":null,"merge_commit_sha":"1f6a52973e7a4a61cb72ea583bbeee1a27923f3c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35444/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35444/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35444/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/392837e666cc80decb003f0339f54e1adb596c22","head":{"label":"shardulm94:SPARK-38030-3.1","ref":"SPARK-38030-3.1","sha":"392837e666cc80decb003f0339f54e1adb596c22","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":304161240,"node_id":"MDEwOlJlcG9zaXRvcnkzMDQxNjEyNDA=","name":"spark","full_name":"shardulm94/spark","private":false,"owner":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/shardulm94/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/shardulm94/spark","forks_url":"https://api.github.com/repos/shardulm94/spark/forks","keys_url":"https://api.github.com/repos/shardulm94/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/shardulm94/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/shardulm94/spark/teams","hooks_url":"https://api.github.com/repos/shardulm94/spark/hooks","issue_events_url":"https://api.github.com/repos/shardulm94/spark/issues/events{/number}","events_url":"https://api.github.com/repos/shardulm94/spark/events","assignees_url":"https://api.github.com/repos/shardulm94/spark/assignees{/user}","branches_url":"https://api.github.com/repos/shardulm94/spark/branches{/branch}","tags_url":"https://api.github.com/repos/shardulm94/spark/tags","blobs_url":"https://api.github.com/repos/shardulm94/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/shardulm94/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/shardulm94/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/shardulm94/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/shardulm94/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/shardulm94/spark/languages","stargazers_url":"https://api.github.com/repos/shardulm94/spark/stargazers","contributors_url":"https://api.github.com/repos/shardulm94/spark/contributors","subscribers_url":"https://api.github.com/repos/shardulm94/spark/subscribers","subscription_url":"https://api.github.com/repos/shardulm94/spark/subscription","commits_url":"https://api.github.com/repos/shardulm94/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/shardulm94/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/shardulm94/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/shardulm94/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/shardulm94/spark/contents/{+path}","compare_url":"https://api.github.com/repos/shardulm94/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/shardulm94/spark/merges","archive_url":"https://api.github.com/repos/shardulm94/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/shardulm94/spark/downloads","issues_url":"https://api.github.com/repos/shardulm94/spark/issues{/number}","pulls_url":"https://api.github.com/repos/shardulm94/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/shardulm94/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/shardulm94/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/shardulm94/spark/labels{/name}","releases_url":"https://api.github.com/repos/shardulm94/spark/releases{/id}","deployments_url":"https://api.github.com/repos/shardulm94/spark/deployments","created_at":"2020-10-14T23:42:43Z","updated_at":"2024-07-11T01:07:52Z","pushed_at":"2024-07-12T18:44:05Z","git_url":"git://github.com/shardulm94/spark.git","ssh_url":"git@github.com:shardulm94/spark.git","clone_url":"https://github.com/shardulm94/spark.git","svn_url":"https://github.com/shardulm94/spark","homepage":"https://spark.apache.org/","size":440042,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:branch-3.1","ref":"branch-3.1","sha":"0b35c2464f805970d2a62ccc757616332287eb2b","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35444"},"html":{"href":"https://github.com/apache/spark/pull/35444"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35444"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35444/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35444/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35444/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/392837e666cc80decb003f0339f54e1adb596c22"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35443","id":842987221,"node_id":"PR_kwDOAQXtWs4yPvbV","html_url":"https://github.com/apache/spark/pull/35443","diff_url":"https://github.com/apache/spark/pull/35443.diff","patch_url":"https://github.com/apache/spark/pull/35443.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35443","number":35443,"state":"closed","locked":false,"title":"[MINOR][CORE] Change the log level to WARN for the message which is shown in case users attemp to add a JAR twice","user":{"login":"sarutak","id":4736016,"node_id":"MDQ6VXNlcjQ3MzYwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4736016?v=4","gravatar_id":"","url":"https://api.github.com/users/sarutak","html_url":"https://github.com/sarutak","followers_url":"https://api.github.com/users/sarutak/followers","following_url":"https://api.github.com/users/sarutak/following{/other_user}","gists_url":"https://api.github.com/users/sarutak/gists{/gist_id}","starred_url":"https://api.github.com/users/sarutak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sarutak/subscriptions","organizations_url":"https://api.github.com/users/sarutak/orgs","repos_url":"https://api.github.com/users/sarutak/repos","events_url":"https://api.github.com/users/sarutak/events{/privacy}","received_events_url":"https://api.github.com/users/sarutak/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis PR changes the log level to WARN for the message which is shown in case users attempt to add a JAR twice by `sc.addJar`.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nIt's for consistency. `sc.addFile` and `sc.addArchive` show the message as warning in such case.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes. The message will appear even when the log level of the logger is WARN. But I don't think it affects the behavior.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nManually confirmed like as follows:\r\n```\r\nsc.addJar(\"file:////tmp/test.jar\")\r\nsc.addJar(\"file:////tmp/test.jar\")\r\n22/02/09 00:56:28 WARN SparkContext: The JAR file:////tmp/test.jar at spark://192.168.1.204:44533/jars/test.jar has been added already. Overwriting of added jar is not supported in the current version.\r\n```","created_at":"2022-02-08T16:09:32Z","updated_at":"2022-04-03T10:24:56Z","closed_at":"2022-04-03T07:52:57Z","merged_at":null,"merge_commit_sha":"af56a2a72585b5a8aee68ee16345f40e9b1b816e","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35443/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35443/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35443/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/823449daf5c0a92aa1f0c4fe1483d08cbde56241","head":{"label":"sarutak:add-jar-warn","ref":"add-jar-warn","sha":"823449daf5c0a92aa1f0c4fe1483d08cbde56241","user":{"login":"sarutak","id":4736016,"node_id":"MDQ6VXNlcjQ3MzYwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4736016?v=4","gravatar_id":"","url":"https://api.github.com/users/sarutak","html_url":"https://github.com/sarutak","followers_url":"https://api.github.com/users/sarutak/followers","following_url":"https://api.github.com/users/sarutak/following{/other_user}","gists_url":"https://api.github.com/users/sarutak/gists{/gist_id}","starred_url":"https://api.github.com/users/sarutak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sarutak/subscriptions","organizations_url":"https://api.github.com/users/sarutak/orgs","repos_url":"https://api.github.com/users/sarutak/repos","events_url":"https://api.github.com/users/sarutak/events{/privacy}","received_events_url":"https://api.github.com/users/sarutak/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":19300892,"node_id":"MDEwOlJlcG9zaXRvcnkxOTMwMDg5Mg==","name":"spark","full_name":"sarutak/spark","private":false,"owner":{"login":"sarutak","id":4736016,"node_id":"MDQ6VXNlcjQ3MzYwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/4736016?v=4","gravatar_id":"","url":"https://api.github.com/users/sarutak","html_url":"https://github.com/sarutak","followers_url":"https://api.github.com/users/sarutak/followers","following_url":"https://api.github.com/users/sarutak/following{/other_user}","gists_url":"https://api.github.com/users/sarutak/gists{/gist_id}","starred_url":"https://api.github.com/users/sarutak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sarutak/subscriptions","organizations_url":"https://api.github.com/users/sarutak/orgs","repos_url":"https://api.github.com/users/sarutak/repos","events_url":"https://api.github.com/users/sarutak/events{/privacy}","received_events_url":"https://api.github.com/users/sarutak/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sarutak/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/sarutak/spark","forks_url":"https://api.github.com/repos/sarutak/spark/forks","keys_url":"https://api.github.com/repos/sarutak/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sarutak/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sarutak/spark/teams","hooks_url":"https://api.github.com/repos/sarutak/spark/hooks","issue_events_url":"https://api.github.com/repos/sarutak/spark/issues/events{/number}","events_url":"https://api.github.com/repos/sarutak/spark/events","assignees_url":"https://api.github.com/repos/sarutak/spark/assignees{/user}","branches_url":"https://api.github.com/repos/sarutak/spark/branches{/branch}","tags_url":"https://api.github.com/repos/sarutak/spark/tags","blobs_url":"https://api.github.com/repos/sarutak/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sarutak/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sarutak/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/sarutak/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sarutak/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/sarutak/spark/languages","stargazers_url":"https://api.github.com/repos/sarutak/spark/stargazers","contributors_url":"https://api.github.com/repos/sarutak/spark/contributors","subscribers_url":"https://api.github.com/repos/sarutak/spark/subscribers","subscription_url":"https://api.github.com/repos/sarutak/spark/subscription","commits_url":"https://api.github.com/repos/sarutak/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/sarutak/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/sarutak/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/sarutak/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/sarutak/spark/contents/{+path}","compare_url":"https://api.github.com/repos/sarutak/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sarutak/spark/merges","archive_url":"https://api.github.com/repos/sarutak/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sarutak/spark/downloads","issues_url":"https://api.github.com/repos/sarutak/spark/issues{/number}","pulls_url":"https://api.github.com/repos/sarutak/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/sarutak/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/sarutak/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sarutak/spark/labels{/name}","releases_url":"https://api.github.com/repos/sarutak/spark/releases{/id}","deployments_url":"https://api.github.com/repos/sarutak/spark/deployments","created_at":"2014-04-30T04:35:03Z","updated_at":"2021-11-06T06:43:35Z","pushed_at":"2025-01-23T16:33:44Z","git_url":"git://github.com/sarutak/spark.git","ssh_url":"git@github.com:sarutak/spark.git","clone_url":"https://github.com/sarutak/spark.git","svn_url":"https://github.com/sarutak/spark","homepage":null,"size":467531,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"3d736d978cdaf345d81833a6216d41464fa86c69","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35443"},"html":{"href":"https://github.com/apache/spark/pull/35443"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35443"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35443/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35443/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35443/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/823449daf5c0a92aa1f0c4fe1483d08cbde56241"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35442","id":842977084,"node_id":"PR_kwDOAQXtWs4yPs88","html_url":"https://github.com/apache/spark/pull/35442","diff_url":"https://github.com/apache/spark/pull/35442.diff","patch_url":"https://github.com/apache/spark/pull/35442.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35442","number":35442,"state":"closed","locked":false,"title":"[SPARK-37934][BUILD][3.2] Upgrade Jetty version to 9.4.44","user":{"login":"JackBuggins","id":16799178,"node_id":"MDQ6VXNlcjE2Nzk5MTc4","avatar_url":"https://avatars.githubusercontent.com/u/16799178?v=4","gravatar_id":"","url":"https://api.github.com/users/JackBuggins","html_url":"https://github.com/JackBuggins","followers_url":"https://api.github.com/users/JackBuggins/followers","following_url":"https://api.github.com/users/JackBuggins/following{/other_user}","gists_url":"https://api.github.com/users/JackBuggins/gists{/gist_id}","starred_url":"https://api.github.com/users/JackBuggins/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JackBuggins/subscriptions","organizations_url":"https://api.github.com/users/JackBuggins/orgs","repos_url":"https://api.github.com/users/JackBuggins/repos","events_url":"https://api.github.com/users/JackBuggins/events{/privacy}","received_events_url":"https://api.github.com/users/JackBuggins/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nThis pull request updates provides a minor update to the Jetty version from `9.4.43.v20210629` to `9.4.44.v20210927` which is required against branch-3.2 to fully resolve https://issues.apache.org/jira/browse/SPARK-37934\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nAs discussed in https://github.com/apache/spark/pull/35338, DoS vector is available even within a private or restricted network. The below result is the output of a twistlock scan, which also detects this vulnerability. \r\n\r\n```\r\nSource: https://github.com/eclipse/jetty.project/issues/6973\r\nCVE: PRISMA-2021-0182\r\nSev.: medium\r\nPackage Name: org.eclipse.jetty_jetty-server\r\nPackage Ver.: 9.4.43.v20210629\r\nStatus: fixed in 9.4.44\r\nDescription: org.eclipse.jetty_jetty-server package versions before 9.4.44 are vulnerable to DoS (Denial of Service). Logback-access calls Request.getParameterNames() for request logging. That will force a request body read (if it hasn't been read before) per the servlet. This will now consume resources to read the request body content, which could easily be malicious (in size? in keys? etc), even though the application intentionally didn't read the request body.\r\n```\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\n* Core local\r\n```\r\n$ build/sbt\r\n> project core\r\n> test\r\n```\r\n* CI","created_at":"2022-02-08T16:00:43Z","updated_at":"2022-02-08T17:29:38Z","closed_at":"2022-02-08T17:29:38Z","merged_at":null,"merge_commit_sha":"b4cda07da05cb385c0637aed91fbd2c5c251a03c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35442/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35442/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35442/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/cfc413951493617811f1ac0f2f753bfd89d456af","head":{"label":"JackBuggins:branch-3.2","ref":"branch-3.2","sha":"cfc413951493617811f1ac0f2f753bfd89d456af","user":{"login":"JackBuggins","id":16799178,"node_id":"MDQ6VXNlcjE2Nzk5MTc4","avatar_url":"https://avatars.githubusercontent.com/u/16799178?v=4","gravatar_id":"","url":"https://api.github.com/users/JackBuggins","html_url":"https://github.com/JackBuggins","followers_url":"https://api.github.com/users/JackBuggins/followers","following_url":"https://api.github.com/users/JackBuggins/following{/other_user}","gists_url":"https://api.github.com/users/JackBuggins/gists{/gist_id}","starred_url":"https://api.github.com/users/JackBuggins/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JackBuggins/subscriptions","organizations_url":"https://api.github.com/users/JackBuggins/orgs","repos_url":"https://api.github.com/users/JackBuggins/repos","events_url":"https://api.github.com/users/JackBuggins/events{/privacy}","received_events_url":"https://api.github.com/users/JackBuggins/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:branch-3.2","ref":"branch-3.2","sha":"34c474a86a08333556f4e05990989fc2156f3f79","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35442"},"html":{"href":"https://github.com/apache/spark/pull/35442"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35442"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35442/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35442/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35442/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/cfc413951493617811f1ac0f2f753bfd89d456af"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35441","id":842868393,"node_id":"PR_kwDOAQXtWs4yPSap","html_url":"https://github.com/apache/spark/pull/35441","diff_url":"https://github.com/apache/spark/pull/35441.diff","patch_url":"https://github.com/apache/spark/pull/35441.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35441","number":35441,"state":"closed","locked":false,"title":"[MINOR][DOCS] Fix multi-line JavaDoc comments style in `BlockManagerMaster`","user":{"login":"wzhfy","id":10878553,"node_id":"MDQ6VXNlcjEwODc4NTUz","avatar_url":"https://avatars.githubusercontent.com/u/10878553?v=4","gravatar_id":"","url":"https://api.github.com/users/wzhfy","html_url":"https://github.com/wzhfy","followers_url":"https://api.github.com/users/wzhfy/followers","following_url":"https://api.github.com/users/wzhfy/following{/other_user}","gists_url":"https://api.github.com/users/wzhfy/gists{/gist_id}","starred_url":"https://api.github.com/users/wzhfy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wzhfy/subscriptions","organizations_url":"https://api.github.com/users/wzhfy/orgs","repos_url":"https://api.github.com/users/wzhfy/repos","events_url":"https://api.github.com/users/wzhfy/events{/privacy}","received_events_url":"https://api.github.com/users/wzhfy/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nFix multi-line JavaDoc comments style in `BlockManagerMaster`.\r\nAlso improve indentation in the `before` block in `BlockManagerReplicationSuite` for readability.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nOnly change some styles, should not affect tests.","created_at":"2022-02-08T14:22:08Z","updated_at":"2022-02-09T15:38:49Z","closed_at":"2022-02-09T15:38:49Z","merged_at":null,"merge_commit_sha":"9e09e258cb9e52e55fa99ebc2ae881974f82da3c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35441/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35441/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35441/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/57b5f332a3b6b57a144508ed9b861852a0143c41","head":{"label":"wzhfy:doc_style","ref":"doc_style","sha":"57b5f332a3b6b57a144508ed9b861852a0143c41","user":{"login":"wzhfy","id":10878553,"node_id":"MDQ6VXNlcjEwODc4NTUz","avatar_url":"https://avatars.githubusercontent.com/u/10878553?v=4","gravatar_id":"","url":"https://api.github.com/users/wzhfy","html_url":"https://github.com/wzhfy","followers_url":"https://api.github.com/users/wzhfy/followers","following_url":"https://api.github.com/users/wzhfy/following{/other_user}","gists_url":"https://api.github.com/users/wzhfy/gists{/gist_id}","starred_url":"https://api.github.com/users/wzhfy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wzhfy/subscriptions","organizations_url":"https://api.github.com/users/wzhfy/orgs","repos_url":"https://api.github.com/users/wzhfy/repos","events_url":"https://api.github.com/users/wzhfy/events{/privacy}","received_events_url":"https://api.github.com/users/wzhfy/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":66051854,"node_id":"MDEwOlJlcG9zaXRvcnk2NjA1MTg1NA==","name":"spark","full_name":"wzhfy/spark","private":false,"owner":{"login":"wzhfy","id":10878553,"node_id":"MDQ6VXNlcjEwODc4NTUz","avatar_url":"https://avatars.githubusercontent.com/u/10878553?v=4","gravatar_id":"","url":"https://api.github.com/users/wzhfy","html_url":"https://github.com/wzhfy","followers_url":"https://api.github.com/users/wzhfy/followers","following_url":"https://api.github.com/users/wzhfy/following{/other_user}","gists_url":"https://api.github.com/users/wzhfy/gists{/gist_id}","starred_url":"https://api.github.com/users/wzhfy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wzhfy/subscriptions","organizations_url":"https://api.github.com/users/wzhfy/orgs","repos_url":"https://api.github.com/users/wzhfy/repos","events_url":"https://api.github.com/users/wzhfy/events{/privacy}","received_events_url":"https://api.github.com/users/wzhfy/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/wzhfy/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/wzhfy/spark","forks_url":"https://api.github.com/repos/wzhfy/spark/forks","keys_url":"https://api.github.com/repos/wzhfy/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/wzhfy/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/wzhfy/spark/teams","hooks_url":"https://api.github.com/repos/wzhfy/spark/hooks","issue_events_url":"https://api.github.com/repos/wzhfy/spark/issues/events{/number}","events_url":"https://api.github.com/repos/wzhfy/spark/events","assignees_url":"https://api.github.com/repos/wzhfy/spark/assignees{/user}","branches_url":"https://api.github.com/repos/wzhfy/spark/branches{/branch}","tags_url":"https://api.github.com/repos/wzhfy/spark/tags","blobs_url":"https://api.github.com/repos/wzhfy/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/wzhfy/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/wzhfy/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/wzhfy/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/wzhfy/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/wzhfy/spark/languages","stargazers_url":"https://api.github.com/repos/wzhfy/spark/stargazers","contributors_url":"https://api.github.com/repos/wzhfy/spark/contributors","subscribers_url":"https://api.github.com/repos/wzhfy/spark/subscribers","subscription_url":"https://api.github.com/repos/wzhfy/spark/subscription","commits_url":"https://api.github.com/repos/wzhfy/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/wzhfy/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/wzhfy/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/wzhfy/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/wzhfy/spark/contents/{+path}","compare_url":"https://api.github.com/repos/wzhfy/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/wzhfy/spark/merges","archive_url":"https://api.github.com/repos/wzhfy/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/wzhfy/spark/downloads","issues_url":"https://api.github.com/repos/wzhfy/spark/issues{/number}","pulls_url":"https://api.github.com/repos/wzhfy/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/wzhfy/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/wzhfy/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/wzhfy/spark/labels{/name}","releases_url":"https://api.github.com/repos/wzhfy/spark/releases{/id}","deployments_url":"https://api.github.com/repos/wzhfy/spark/deployments","created_at":"2016-08-19T04:11:04Z","updated_at":"2020-08-30T04:26:30Z","pushed_at":"2022-02-16T12:07:43Z","git_url":"git://github.com/wzhfy/spark.git","ssh_url":"git@github.com:wzhfy/spark.git","clone_url":"https://github.com/wzhfy/spark.git","svn_url":"https://github.com/wzhfy/spark","homepage":null,"size":395313,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"3d736d978cdaf345d81833a6216d41464fa86c69","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35441"},"html":{"href":"https://github.com/apache/spark/pull/35441"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35441"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35441/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35441/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35441/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/57b5f332a3b6b57a144508ed9b861852a0143c41"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35440","id":842783507,"node_id":"PR_kwDOAQXtWs4yO9sT","html_url":"https://github.com/apache/spark/pull/35440","diff_url":"https://github.com/apache/spark/pull/35440.diff","patch_url":"https://github.com/apache/spark/pull/35440.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35440","number":35440,"state":"closed","locked":false,"title":"[SPARK-38140][SQL] Desc column stats (min, max) for timestamp type is not consistent with the values due to time zone difference","user":{"login":"wzhfy","id":10878553,"node_id":"MDQ6VXNlcjEwODc4NTUz","avatar_url":"https://avatars.githubusercontent.com/u/10878553?v=4","gravatar_id":"","url":"https://api.github.com/users/wzhfy","html_url":"https://github.com/wzhfy","followers_url":"https://api.github.com/users/wzhfy/followers","following_url":"https://api.github.com/users/wzhfy/following{/other_user}","gists_url":"https://api.github.com/users/wzhfy/gists{/gist_id}","starred_url":"https://api.github.com/users/wzhfy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wzhfy/subscriptions","organizations_url":"https://api.github.com/users/wzhfy/orgs","repos_url":"https://api.github.com/users/wzhfy/repos","events_url":"https://api.github.com/users/wzhfy/events{/privacy}","received_events_url":"https://api.github.com/users/wzhfy/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nCurrently timestamp column's stats (min/max) are stored using UTC time zone in metastore, and when desc its min/max column stats, they are also shown in UTC.\r\nAs a result, for users not in UTC, the column stats (shown to users) are not consistent with the actual value, which causes confusion.\r\nNote that it does not affect correctness. But we'd better to remove confusion for users.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nTo make column stats and column value consistent when shown to users.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nAs an example:\r\n```\r\nspark-sql> create table tab_ts_master (ts timestamp) using parquet;\r\nspark-sql> insert into tab_ts_master values make_timestamp(2022, 1, 1, 0, 0, 1.123456), make_timestamp(2022, 1, 3, 0, 0, 2.987654);\r\nspark-sql> select * from tab_ts_master;\r\n2022-01-01 00:00:01.123456\r\n2022-01-03 00:00:02.987654\r\nspark-sql> set spark.sql.session.timeZone;\r\nspark.sql.session.timeZone\tAsia/Shanghai\r\nspark-sql> analyze table tab_ts_master compute statistics for all columns;\r\n```\r\nBefore this change:\r\n```\r\nspark-sql> desc formatted tab_ts_master ts;\r\ncol_name\tts\r\ndata_type\ttimestamp\r\ncomment\tNULL\r\nmin\t2021-12-31 16:00:01.123456\r\nmax\t2022-01-02 16:00:02.987654\r\nnum_nulls\t0\r\ndistinct_count\t2\r\navg_col_len\t8\r\nmax_col_len\t8\r\nhistogram\tNULL\r\n```\r\nThe min/max column stats are inconsistent with what the user sees in the column values.\r\n\r\n\r\nAfter this change:\r\n```\r\nspark-sql> desc formatted tab_ts ts;\r\ncol_name\tts\r\ndata_type\ttimestamp\r\ncomment\tNULL\r\nmin\t2022-01-01 00:00:01.123456\r\nmax\t2022-01-03 00:00:02.987654\r\nnum_nulls\t0\r\ndistinct_count\t2\r\navg_col_len\t8\r\nmax_col_len\t8\r\nhistogram\tNULL\r\n```\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nAdded new unit tests.","created_at":"2022-02-08T12:59:39Z","updated_at":"2022-02-21T07:40:59Z","closed_at":"2022-02-21T07:40:59Z","merged_at":null,"merge_commit_sha":"922c206fbb9e2be6b0a2a927750ac623c7874b1d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35440/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35440/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35440/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9b1b1c077ab95f7795f0154fbbaf35bce6dac128","head":{"label":"wzhfy:desc_ts_timeZones","ref":"desc_ts_timeZones","sha":"9b1b1c077ab95f7795f0154fbbaf35bce6dac128","user":{"login":"wzhfy","id":10878553,"node_id":"MDQ6VXNlcjEwODc4NTUz","avatar_url":"https://avatars.githubusercontent.com/u/10878553?v=4","gravatar_id":"","url":"https://api.github.com/users/wzhfy","html_url":"https://github.com/wzhfy","followers_url":"https://api.github.com/users/wzhfy/followers","following_url":"https://api.github.com/users/wzhfy/following{/other_user}","gists_url":"https://api.github.com/users/wzhfy/gists{/gist_id}","starred_url":"https://api.github.com/users/wzhfy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wzhfy/subscriptions","organizations_url":"https://api.github.com/users/wzhfy/orgs","repos_url":"https://api.github.com/users/wzhfy/repos","events_url":"https://api.github.com/users/wzhfy/events{/privacy}","received_events_url":"https://api.github.com/users/wzhfy/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":66051854,"node_id":"MDEwOlJlcG9zaXRvcnk2NjA1MTg1NA==","name":"spark","full_name":"wzhfy/spark","private":false,"owner":{"login":"wzhfy","id":10878553,"node_id":"MDQ6VXNlcjEwODc4NTUz","avatar_url":"https://avatars.githubusercontent.com/u/10878553?v=4","gravatar_id":"","url":"https://api.github.com/users/wzhfy","html_url":"https://github.com/wzhfy","followers_url":"https://api.github.com/users/wzhfy/followers","following_url":"https://api.github.com/users/wzhfy/following{/other_user}","gists_url":"https://api.github.com/users/wzhfy/gists{/gist_id}","starred_url":"https://api.github.com/users/wzhfy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wzhfy/subscriptions","organizations_url":"https://api.github.com/users/wzhfy/orgs","repos_url":"https://api.github.com/users/wzhfy/repos","events_url":"https://api.github.com/users/wzhfy/events{/privacy}","received_events_url":"https://api.github.com/users/wzhfy/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/wzhfy/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/wzhfy/spark","forks_url":"https://api.github.com/repos/wzhfy/spark/forks","keys_url":"https://api.github.com/repos/wzhfy/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/wzhfy/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/wzhfy/spark/teams","hooks_url":"https://api.github.com/repos/wzhfy/spark/hooks","issue_events_url":"https://api.github.com/repos/wzhfy/spark/issues/events{/number}","events_url":"https://api.github.com/repos/wzhfy/spark/events","assignees_url":"https://api.github.com/repos/wzhfy/spark/assignees{/user}","branches_url":"https://api.github.com/repos/wzhfy/spark/branches{/branch}","tags_url":"https://api.github.com/repos/wzhfy/spark/tags","blobs_url":"https://api.github.com/repos/wzhfy/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/wzhfy/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/wzhfy/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/wzhfy/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/wzhfy/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/wzhfy/spark/languages","stargazers_url":"https://api.github.com/repos/wzhfy/spark/stargazers","contributors_url":"https://api.github.com/repos/wzhfy/spark/contributors","subscribers_url":"https://api.github.com/repos/wzhfy/spark/subscribers","subscription_url":"https://api.github.com/repos/wzhfy/spark/subscription","commits_url":"https://api.github.com/repos/wzhfy/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/wzhfy/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/wzhfy/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/wzhfy/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/wzhfy/spark/contents/{+path}","compare_url":"https://api.github.com/repos/wzhfy/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/wzhfy/spark/merges","archive_url":"https://api.github.com/repos/wzhfy/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/wzhfy/spark/downloads","issues_url":"https://api.github.com/repos/wzhfy/spark/issues{/number}","pulls_url":"https://api.github.com/repos/wzhfy/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/wzhfy/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/wzhfy/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/wzhfy/spark/labels{/name}","releases_url":"https://api.github.com/repos/wzhfy/spark/releases{/id}","deployments_url":"https://api.github.com/repos/wzhfy/spark/deployments","created_at":"2016-08-19T04:11:04Z","updated_at":"2020-08-30T04:26:30Z","pushed_at":"2022-02-16T12:07:43Z","git_url":"git://github.com/wzhfy/spark.git","ssh_url":"git@github.com:wzhfy/spark.git","clone_url":"https://github.com/wzhfy/spark.git","svn_url":"https://github.com/wzhfy/spark","homepage":null,"size":395313,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"305388dce4d5334e9e2f3dc0aa8baabf06a52e2c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35440"},"html":{"href":"https://github.com/apache/spark/pull/35440"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35440"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35440/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35440/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35440/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9b1b1c077ab95f7795f0154fbbaf35bce6dac128"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35439","id":842713450,"node_id":"PR_kwDOAQXtWs4yOslq","html_url":"https://github.com/apache/spark/pull/35439","diff_url":"https://github.com/apache/spark/pull/35439.diff","patch_url":"https://github.com/apache/spark/pull/35439.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35439","number":35439,"state":"closed","locked":false,"title":"[SPARK-37401][PYTHON][ML] Inline typehints for pyspark.ml.clustering","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nThis PR migrates type `pyspark.ml.stat clustering` from stub file to inline type hints.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nPart of ongoing migration of type hints.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nExisting tests + new data test.\r\n","created_at":"2022-02-08T11:40:24Z","updated_at":"2022-02-10T09:38:59Z","closed_at":"2022-02-10T09:38:32Z","merged_at":null,"merge_commit_sha":"d9107bd2899ec29a75b65236c28c195a6e35512f","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35439/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35439/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35439/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/08effe833f5a0c83fbf6b6860629b644564b4ba5","head":{"label":"zero323:SPARK-37401","ref":"SPARK-37401","sha":"08effe833f5a0c83fbf6b6860629b644564b4ba5","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":43824676,"node_id":"MDEwOlJlcG9zaXRvcnk0MzgyNDY3Ng==","name":"spark","full_name":"zero323/spark","private":false,"owner":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zero323/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zero323/spark","forks_url":"https://api.github.com/repos/zero323/spark/forks","keys_url":"https://api.github.com/repos/zero323/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zero323/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zero323/spark/teams","hooks_url":"https://api.github.com/repos/zero323/spark/hooks","issue_events_url":"https://api.github.com/repos/zero323/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zero323/spark/events","assignees_url":"https://api.github.com/repos/zero323/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zero323/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zero323/spark/tags","blobs_url":"https://api.github.com/repos/zero323/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zero323/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zero323/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zero323/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zero323/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zero323/spark/languages","stargazers_url":"https://api.github.com/repos/zero323/spark/stargazers","contributors_url":"https://api.github.com/repos/zero323/spark/contributors","subscribers_url":"https://api.github.com/repos/zero323/spark/subscribers","subscription_url":"https://api.github.com/repos/zero323/spark/subscription","commits_url":"https://api.github.com/repos/zero323/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zero323/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zero323/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zero323/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zero323/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zero323/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zero323/spark/merges","archive_url":"https://api.github.com/repos/zero323/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zero323/spark/downloads","issues_url":"https://api.github.com/repos/zero323/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zero323/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zero323/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zero323/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zero323/spark/labels{/name}","releases_url":"https://api.github.com/repos/zero323/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zero323/spark/deployments","created_at":"2015-10-07T15:16:38Z","updated_at":"2025-02-05T16:45:39Z","pushed_at":"2025-02-05T16:44:26Z","git_url":"git://github.com/zero323/spark.git","ssh_url":"git@github.com:zero323/spark.git","clone_url":"https://github.com/zero323/spark.git","svn_url":"https://github.com/zero323/spark","homepage":null,"size":438263,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"0af4fc8ea837d9d7f7f023e2eb3b9807fb073db1","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35439"},"html":{"href":"https://github.com/apache/spark/pull/35439"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35439"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35439/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35439/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35439/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/08effe833f5a0c83fbf6b6860629b644564b4ba5"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35438","id":842637977,"node_id":"PR_kwDOAQXtWs4yOaKZ","html_url":"https://github.com/apache/spark/pull/35438","diff_url":"https://github.com/apache/spark/pull/35438.diff","patch_url":"https://github.com/apache/spark/pull/35438.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35438","number":35438,"state":"closed","locked":false,"title":"[SPARK-38138][SQL] Materialize QueryPlan subqueries","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR propose to materialize `QueryPlan#subqueries` and pruned by `PLAN_EXPRESSION` on searching to improve the SQL compile performance.\r\n\r\n### Why are the changes needed?\r\n\r\nWe found a query in production that cost lots of time in optimize phase (also include AQE optimize phase) when enable DPP, the SQL pattern likes\r\n\r\n```\r\nselect <cols...>\r\nfrom a\r\nleft join b on a.<col> = b.<col>\r\nleft join c on b.<col> = c.<col>\r\nleft join d on c.<col> = d.<col>\r\nleft join e on d.<col> = e.<col>\r\nleft join f on e.<col> = f.<col>\r\nleft join g on f.<col> = g.<col>\r\nleft join h on g.<col> = h.<col>\r\n...\r\n```\r\nSPARK-36444 significantly reduces the optimize time (exclude AQE phase), see detail at #35431, but there are still lots of time costs in `InsertAdaptiveSparkPlan` on AQE optimize phase.\r\n\r\nBefore this change, the query costs 658s, after this change only costs 65s.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nExisting UTs.\r\n","created_at":"2022-02-08T10:20:56Z","updated_at":"2022-04-04T09:20:27Z","closed_at":"2022-02-18T06:18:22Z","merged_at":null,"merge_commit_sha":"959a2ff9fbb631fc4ec375d2c961327c436c0f51","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35438/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35438/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35438/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/d7080ee6784c5a8521fd5ee76b67992167247c00","head":{"label":"pan3793:subquery","ref":"subquery","sha":"d7080ee6784c5a8521fd5ee76b67992167247c00","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":275650396,"node_id":"MDEwOlJlcG9zaXRvcnkyNzU2NTAzOTY=","name":"spark","full_name":"pan3793/spark","private":false,"owner":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pan3793/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/pan3793/spark","forks_url":"https://api.github.com/repos/pan3793/spark/forks","keys_url":"https://api.github.com/repos/pan3793/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pan3793/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pan3793/spark/teams","hooks_url":"https://api.github.com/repos/pan3793/spark/hooks","issue_events_url":"https://api.github.com/repos/pan3793/spark/issues/events{/number}","events_url":"https://api.github.com/repos/pan3793/spark/events","assignees_url":"https://api.github.com/repos/pan3793/spark/assignees{/user}","branches_url":"https://api.github.com/repos/pan3793/spark/branches{/branch}","tags_url":"https://api.github.com/repos/pan3793/spark/tags","blobs_url":"https://api.github.com/repos/pan3793/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pan3793/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pan3793/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/pan3793/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pan3793/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/pan3793/spark/languages","stargazers_url":"https://api.github.com/repos/pan3793/spark/stargazers","contributors_url":"https://api.github.com/repos/pan3793/spark/contributors","subscribers_url":"https://api.github.com/repos/pan3793/spark/subscribers","subscription_url":"https://api.github.com/repos/pan3793/spark/subscription","commits_url":"https://api.github.com/repos/pan3793/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/pan3793/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/pan3793/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/pan3793/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/pan3793/spark/contents/{+path}","compare_url":"https://api.github.com/repos/pan3793/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pan3793/spark/merges","archive_url":"https://api.github.com/repos/pan3793/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pan3793/spark/downloads","issues_url":"https://api.github.com/repos/pan3793/spark/issues{/number}","pulls_url":"https://api.github.com/repos/pan3793/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/pan3793/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/pan3793/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pan3793/spark/labels{/name}","releases_url":"https://api.github.com/repos/pan3793/spark/releases{/id}","deployments_url":"https://api.github.com/repos/pan3793/spark/deployments","created_at":"2020-06-28T19:04:17Z","updated_at":"2024-06-11T02:32:11Z","pushed_at":"2025-01-16T02:34:50Z","git_url":"git://github.com/pan3793/spark.git","ssh_url":"git@github.com:pan3793/spark.git","clone_url":"https://github.com/pan3793/spark.git","svn_url":"https://github.com/pan3793/spark","homepage":"https://spark.apache.org/","size":473459,"stargazers_count":4,"watchers_count":4,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":0,"watchers":4,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"6b62c30fa686dfca812b19f42e0333a0ddde2791","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35438"},"html":{"href":"https://github.com/apache/spark/pull/35438"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35438"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35438/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35438/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35438/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/d7080ee6784c5a8521fd5ee76b67992167247c00"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35437","id":842620052,"node_id":"PR_kwDOAQXtWs4yOVyU","html_url":"https://github.com/apache/spark/pull/35437","diff_url":"https://github.com/apache/spark/pull/35437.diff","patch_url":"https://github.com/apache/spark/pull/35437.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35437","number":35437,"state":"closed","locked":false,"title":"[SPARK-37412][PYTHON][ML] Inline typehints for pyspark.ml.stat","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nThis PR migrates type `pyspark.ml.stat` annotations from stub file to inline type hints.\r\n\r\n(second take, after issue resulting in reversion of #35401)\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nPart of ongoing migration of type hints.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nExisting tests.","created_at":"2022-02-08T10:02:56Z","updated_at":"2022-02-08T11:47:00Z","closed_at":"2022-02-08T11:46:43Z","merged_at":null,"merge_commit_sha":"5e08bb8ebaaf476e8a01a01628696749b9abada0","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35437/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35437/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35437/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/ce8c9ce3994b9167d5b5657074b921c412f1c32b","head":{"label":"zero323:SPARK-37412","ref":"SPARK-37412","sha":"ce8c9ce3994b9167d5b5657074b921c412f1c32b","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":43824676,"node_id":"MDEwOlJlcG9zaXRvcnk0MzgyNDY3Ng==","name":"spark","full_name":"zero323/spark","private":false,"owner":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zero323/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zero323/spark","forks_url":"https://api.github.com/repos/zero323/spark/forks","keys_url":"https://api.github.com/repos/zero323/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zero323/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zero323/spark/teams","hooks_url":"https://api.github.com/repos/zero323/spark/hooks","issue_events_url":"https://api.github.com/repos/zero323/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zero323/spark/events","assignees_url":"https://api.github.com/repos/zero323/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zero323/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zero323/spark/tags","blobs_url":"https://api.github.com/repos/zero323/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zero323/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zero323/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zero323/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zero323/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zero323/spark/languages","stargazers_url":"https://api.github.com/repos/zero323/spark/stargazers","contributors_url":"https://api.github.com/repos/zero323/spark/contributors","subscribers_url":"https://api.github.com/repos/zero323/spark/subscribers","subscription_url":"https://api.github.com/repos/zero323/spark/subscription","commits_url":"https://api.github.com/repos/zero323/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zero323/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zero323/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zero323/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zero323/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zero323/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zero323/spark/merges","archive_url":"https://api.github.com/repos/zero323/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zero323/spark/downloads","issues_url":"https://api.github.com/repos/zero323/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zero323/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zero323/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zero323/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zero323/spark/labels{/name}","releases_url":"https://api.github.com/repos/zero323/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zero323/spark/deployments","created_at":"2015-10-07T15:16:38Z","updated_at":"2025-02-05T16:45:39Z","pushed_at":"2025-02-05T16:44:26Z","git_url":"git://github.com/zero323/spark.git","ssh_url":"git@github.com:zero323/spark.git","clone_url":"https://github.com/zero323/spark.git","svn_url":"https://github.com/zero323/spark","homepage":null,"size":438263,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"6b62c30fa686dfca812b19f42e0333a0ddde2791","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35437"},"html":{"href":"https://github.com/apache/spark/pull/35437"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35437"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35437/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35437/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35437/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/ce8c9ce3994b9167d5b5657074b921c412f1c32b"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35436","id":842563534,"node_id":"PR_kwDOAQXtWs4yOH_O","html_url":"https://github.com/apache/spark/pull/35436","diff_url":"https://github.com/apache/spark/pull/35436.diff","patch_url":"https://github.com/apache/spark/pull/35436.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35436","number":35436,"state":"closed","locked":false,"title":"[SPARK-38135][K8S] Introduce job sheduling related configurations","user":{"login":"Yikun","id":1736354,"node_id":"MDQ6VXNlcjE3MzYzNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1736354?v=4","gravatar_id":"","url":"https://api.github.com/users/Yikun","html_url":"https://github.com/Yikun","followers_url":"https://api.github.com/users/Yikun/followers","following_url":"https://api.github.com/users/Yikun/following{/other_user}","gists_url":"https://api.github.com/users/Yikun/gists{/gist_id}","starred_url":"https://api.github.com/users/Yikun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yikun/subscriptions","organizations_url":"https://api.github.com/users/Yikun/orgs","repos_url":"https://api.github.com/users/Yikun/repos","events_url":"https://api.github.com/users/Yikun/events{/privacy}","received_events_url":"https://api.github.com/users/Yikun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis patch inroduces 5 scheduling related configurations:\r\n- `spark.kubernetes.job.queue`: The name of the queue to which the job is submitted.\r\n- `spark.kubernetes.job.minCPU`: The minimum CPU for running the job.\r\n- `spark.kubernetes.job.minMemory`: The minimum memory for running the job, in MiB unless otherwise specified.\r\n- `spark.kubernetes.job.minMember`: The minimum number of pods running in a job.\r\n- `spark.kubernetes.job.priorityClassName`: The priority of the running job.\r\n\r\nThese info will be stored in configuration and passed to specified feature step, such as it will be used by Yunikorn/Volcano feature step.\r\n\r\n\r\n### Why are the changes needed?\r\nThis PR help user integrate Spark with Volcano Scheduler to enable minResource/queue/priority support.\r\n\r\nSee also: [SPARK-36057](https://issues.apache.org/jira/browse/SPARK-36057)\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, configuration added.\r\n\r\n\r\n### How was this patch tested?\r\nCI passed\r\n","created_at":"2022-02-08T09:02:25Z","updated_at":"2022-02-08T17:29:36Z","closed_at":"2022-02-08T17:28:31Z","merged_at":null,"merge_commit_sha":"3dded77a8086fbc7219f82a242c976f520741ccd","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406605057,"node_id":"MDU6TGFiZWwxNDA2NjA1MDU3","url":"https://api.github.com/repos/apache/spark/labels/KUBERNETES","name":"KUBERNETES","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35436/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35436/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35436/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/a152225a4766268918e5ebbf214fbd86567c13a9","head":{"label":"Yikun:SPARK-38135","ref":"SPARK-38135","sha":"a152225a4766268918e5ebbf214fbd86567c13a9","user":{"login":"Yikun","id":1736354,"node_id":"MDQ6VXNlcjE3MzYzNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1736354?v=4","gravatar_id":"","url":"https://api.github.com/users/Yikun","html_url":"https://github.com/Yikun","followers_url":"https://api.github.com/users/Yikun/followers","following_url":"https://api.github.com/users/Yikun/following{/other_user}","gists_url":"https://api.github.com/users/Yikun/gists{/gist_id}","starred_url":"https://api.github.com/users/Yikun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yikun/subscriptions","organizations_url":"https://api.github.com/users/Yikun/orgs","repos_url":"https://api.github.com/users/Yikun/repos","events_url":"https://api.github.com/users/Yikun/events{/privacy}","received_events_url":"https://api.github.com/users/Yikun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":335541670,"node_id":"MDEwOlJlcG9zaXRvcnkzMzU1NDE2NzA=","name":"spark","full_name":"Yikun/spark","private":false,"owner":{"login":"Yikun","id":1736354,"node_id":"MDQ6VXNlcjE3MzYzNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1736354?v=4","gravatar_id":"","url":"https://api.github.com/users/Yikun","html_url":"https://github.com/Yikun","followers_url":"https://api.github.com/users/Yikun/followers","following_url":"https://api.github.com/users/Yikun/following{/other_user}","gists_url":"https://api.github.com/users/Yikun/gists{/gist_id}","starred_url":"https://api.github.com/users/Yikun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yikun/subscriptions","organizations_url":"https://api.github.com/users/Yikun/orgs","repos_url":"https://api.github.com/users/Yikun/repos","events_url":"https://api.github.com/users/Yikun/events{/privacy}","received_events_url":"https://api.github.com/users/Yikun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Yikun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/Yikun/spark","forks_url":"https://api.github.com/repos/Yikun/spark/forks","keys_url":"https://api.github.com/repos/Yikun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Yikun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Yikun/spark/teams","hooks_url":"https://api.github.com/repos/Yikun/spark/hooks","issue_events_url":"https://api.github.com/repos/Yikun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/Yikun/spark/events","assignees_url":"https://api.github.com/repos/Yikun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/Yikun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/Yikun/spark/tags","blobs_url":"https://api.github.com/repos/Yikun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Yikun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Yikun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/Yikun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Yikun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/Yikun/spark/languages","stargazers_url":"https://api.github.com/repos/Yikun/spark/stargazers","contributors_url":"https://api.github.com/repos/Yikun/spark/contributors","subscribers_url":"https://api.github.com/repos/Yikun/spark/subscribers","subscription_url":"https://api.github.com/repos/Yikun/spark/subscription","commits_url":"https://api.github.com/repos/Yikun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/Yikun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/Yikun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/Yikun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/Yikun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/Yikun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Yikun/spark/merges","archive_url":"https://api.github.com/repos/Yikun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Yikun/spark/downloads","issues_url":"https://api.github.com/repos/Yikun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/Yikun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/Yikun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/Yikun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Yikun/spark/labels{/name}","releases_url":"https://api.github.com/repos/Yikun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/Yikun/spark/deployments","created_at":"2021-02-03T07:25:58Z","updated_at":"2022-01-13T12:26:18Z","pushed_at":"2023-01-28T06:50:14Z","git_url":"git://github.com/Yikun/spark.git","ssh_url":"git@github.com:Yikun/spark.git","clone_url":"https://github.com/Yikun/spark.git","svn_url":"https://github.com/Yikun/spark","homepage":"https://spark.apache.org/","size":452564,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":1,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"6b62c30fa686dfca812b19f42e0333a0ddde2791","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35436"},"html":{"href":"https://github.com/apache/spark/pull/35436"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35436"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35436/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35436/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35436/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/a152225a4766268918e5ebbf214fbd86567c13a9"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35435","id":842539573,"node_id":"PR_kwDOAQXtWs4yOCI1","html_url":"https://github.com/apache/spark/pull/35435","diff_url":"https://github.com/apache/spark/pull/35435.diff","patch_url":"https://github.com/apache/spark/pull/35435.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35435","number":35435,"state":"closed","locked":false,"title":"[MINOR][SQL] Remove redundant array creation in UnsafeRow","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n`j.u.Arrays.asList` is a varargs api, this pr remove the redundant array creation to simplify the code.\r\n\r\n\r\n### Why are the changes needed?\r\nCode simplification.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nPass GA","created_at":"2022-02-08T08:32:42Z","updated_at":"2023-10-22T07:44:07Z","closed_at":"2022-02-08T16:21:46Z","merged_at":null,"merge_commit_sha":"fb3c761b89b6afc97fc09982e952b55722a55ac7","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35435/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35435/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35435/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/1f3d53fe9d3dff9d8128e8e081b2ad6975d624b8","head":{"label":"LuciferYang:remove-redundant-array-creation","ref":"remove-redundant-array-creation","sha":"1f3d53fe9d3dff9d8128e8e081b2ad6975d624b8","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"2e703ae9d210d26573b849a9a88c55667b24127d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35435"},"html":{"href":"https://github.com/apache/spark/pull/35435"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35435"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35435/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35435/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35435/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/1f3d53fe9d3dff9d8128e8e081b2ad6975d624b8"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35434","id":842486964,"node_id":"PR_kwDOAQXtWs4yN1S0","html_url":"https://github.com/apache/spark/pull/35434","diff_url":"https://github.com/apache/spark/pull/35434.diff","patch_url":"https://github.com/apache/spark/pull/35434.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35434","number":35434,"state":"closed","locked":false,"title":"[SPARK-38136][INFRA][TESTS] Update GitHub Action test image and PyArrow dependency","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR aims to update `GitHub Action` test docker image to make the test environment up-to-date. For example, use `PyArrow 7.0.0` instead of `6.0.0`. In addition, `Python 3.8`'s `PyArrow` installation is also updated together to be consistent.\r\n\r\nPlease note that this aims to upgrade the test infra instead of Spark itself.\r\n\r\n### Why are the changes needed?\r\n\r\n|   SW  |  20211228  | 20220207 |\r\n| ----- | ----------- | ----------- |\r\n| OpenJDK  | 1.8.0_292 | 1.8.0_312 |\r\n| numpy | 1.21.4 | 1.22.2 |\r\n| pandas | 1.3.4 | 1.3.5 |\r\n| pyarrow | 6.0.0 | 7.0.0 |\r\n| scipy | 1.7.2 | 1.8.0 |\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\n- Pass the GitHub Action with new image.\r\n- Check the package list in the GitHub Action log. Or check the docker image directly.","created_at":"2022-02-08T07:17:45Z","updated_at":"2022-02-09T00:36:34Z","closed_at":"2022-02-08T09:53:18Z","merged_at":null,"merge_commit_sha":"949852e50a9dc69bf7af9f4a91928c535617db04","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1982110661,"node_id":"MDU6TGFiZWwxOTgyMTEwNjYx","url":"https://api.github.com/repos/apache/spark/labels/INFRA","name":"INFRA","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35434/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35434/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35434/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/f7b1758e30559655dc5c67be3a430179521adab9","head":{"label":"dongjoon-hyun:SPARK-38136","ref":"SPARK-38136","sha":"f7b1758e30559655dc5c67be3a430179521adab9","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"2e703ae9d210d26573b849a9a88c55667b24127d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35434"},"html":{"href":"https://github.com/apache/spark/pull/35434"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35434"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35434/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35434/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35434/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/f7b1758e30559655dc5c67be3a430179521adab9"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35433","id":842442960,"node_id":"PR_kwDOAQXtWs4yNqjQ","html_url":"https://github.com/apache/spark/pull/35433","diff_url":"https://github.com/apache/spark/pull/35433.diff","patch_url":"https://github.com/apache/spark/pull/35433.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35433","number":35433,"state":"closed","locked":false,"title":"[SPARK-38097][SQL][TESTS] Improved the error message for pivoting unsupported column","user":{"login":"yutoacts","id":87687356,"node_id":"MDQ6VXNlcjg3Njg3MzU2","avatar_url":"https://avatars.githubusercontent.com/u/87687356?v=4","gravatar_id":"","url":"https://api.github.com/users/yutoacts","html_url":"https://github.com/yutoacts","followers_url":"https://api.github.com/users/yutoacts/followers","following_url":"https://api.github.com/users/yutoacts/following{/other_user}","gists_url":"https://api.github.com/users/yutoacts/gists{/gist_id}","starred_url":"https://api.github.com/users/yutoacts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yutoacts/subscriptions","organizations_url":"https://api.github.com/users/yutoacts/orgs","repos_url":"https://api.github.com/users/yutoacts/repos","events_url":"https://api.github.com/users/yutoacts/events{/privacy}","received_events_url":"https://api.github.com/users/yutoacts/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nImproved the error message for pivoting column with unsupported literal type.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nTo clarify the error.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes, the error message changed.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n`$ build/sbt \"test:testOnly *QueryExecutionErrorsSuite\"`","created_at":"2022-02-08T05:57:38Z","updated_at":"2022-02-17T05:55:24Z","closed_at":"2022-02-14T12:25:14Z","merged_at":null,"merge_commit_sha":"2601ce0749959daed054857efbc3463ef5b4cb73","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35433/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35433/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35433/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/4aa1ec4b6dbbaaaa2f032d03413204375f315fe0","head":{"label":"yutoacts:SPARK-38097","ref":"SPARK-38097","sha":"4aa1ec4b6dbbaaaa2f032d03413204375f315fe0","user":{"login":"yutoacts","id":87687356,"node_id":"MDQ6VXNlcjg3Njg3MzU2","avatar_url":"https://avatars.githubusercontent.com/u/87687356?v=4","gravatar_id":"","url":"https://api.github.com/users/yutoacts","html_url":"https://github.com/yutoacts","followers_url":"https://api.github.com/users/yutoacts/followers","following_url":"https://api.github.com/users/yutoacts/following{/other_user}","gists_url":"https://api.github.com/users/yutoacts/gists{/gist_id}","starred_url":"https://api.github.com/users/yutoacts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yutoacts/subscriptions","organizations_url":"https://api.github.com/users/yutoacts/orgs","repos_url":"https://api.github.com/users/yutoacts/repos","events_url":"https://api.github.com/users/yutoacts/events{/privacy}","received_events_url":"https://api.github.com/users/yutoacts/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":389853660,"node_id":"MDEwOlJlcG9zaXRvcnkzODk4NTM2NjA=","name":"spark","full_name":"yutoacts/spark","private":false,"owner":{"login":"yutoacts","id":87687356,"node_id":"MDQ6VXNlcjg3Njg3MzU2","avatar_url":"https://avatars.githubusercontent.com/u/87687356?v=4","gravatar_id":"","url":"https://api.github.com/users/yutoacts","html_url":"https://github.com/yutoacts","followers_url":"https://api.github.com/users/yutoacts/followers","following_url":"https://api.github.com/users/yutoacts/following{/other_user}","gists_url":"https://api.github.com/users/yutoacts/gists{/gist_id}","starred_url":"https://api.github.com/users/yutoacts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yutoacts/subscriptions","organizations_url":"https://api.github.com/users/yutoacts/orgs","repos_url":"https://api.github.com/users/yutoacts/repos","events_url":"https://api.github.com/users/yutoacts/events{/privacy}","received_events_url":"https://api.github.com/users/yutoacts/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/yutoacts/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/yutoacts/spark","forks_url":"https://api.github.com/repos/yutoacts/spark/forks","keys_url":"https://api.github.com/repos/yutoacts/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/yutoacts/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/yutoacts/spark/teams","hooks_url":"https://api.github.com/repos/yutoacts/spark/hooks","issue_events_url":"https://api.github.com/repos/yutoacts/spark/issues/events{/number}","events_url":"https://api.github.com/repos/yutoacts/spark/events","assignees_url":"https://api.github.com/repos/yutoacts/spark/assignees{/user}","branches_url":"https://api.github.com/repos/yutoacts/spark/branches{/branch}","tags_url":"https://api.github.com/repos/yutoacts/spark/tags","blobs_url":"https://api.github.com/repos/yutoacts/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/yutoacts/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/yutoacts/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/yutoacts/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/yutoacts/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/yutoacts/spark/languages","stargazers_url":"https://api.github.com/repos/yutoacts/spark/stargazers","contributors_url":"https://api.github.com/repos/yutoacts/spark/contributors","subscribers_url":"https://api.github.com/repos/yutoacts/spark/subscribers","subscription_url":"https://api.github.com/repos/yutoacts/spark/subscription","commits_url":"https://api.github.com/repos/yutoacts/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/yutoacts/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/yutoacts/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/yutoacts/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/yutoacts/spark/contents/{+path}","compare_url":"https://api.github.com/repos/yutoacts/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/yutoacts/spark/merges","archive_url":"https://api.github.com/repos/yutoacts/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/yutoacts/spark/downloads","issues_url":"https://api.github.com/repos/yutoacts/spark/issues{/number}","pulls_url":"https://api.github.com/repos/yutoacts/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/yutoacts/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/yutoacts/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/yutoacts/spark/labels{/name}","releases_url":"https://api.github.com/repos/yutoacts/spark/releases{/id}","deployments_url":"https://api.github.com/repos/yutoacts/spark/deployments","created_at":"2021-07-27T04:58:54Z","updated_at":"2022-05-21T08:47:27Z","pushed_at":"2022-05-10T08:29:38Z","git_url":"git://github.com/yutoacts/spark.git","ssh_url":"git@github.com:yutoacts/spark.git","clone_url":"https://github.com/yutoacts/spark.git","svn_url":"https://github.com/yutoacts/spark","homepage":"https://spark.apache.org/","size":402122,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"3d736d978cdaf345d81833a6216d41464fa86c69","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35433"},"html":{"href":"https://github.com/apache/spark/pull/35433"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35433"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35433/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35433/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35433/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/4aa1ec4b6dbbaaaa2f032d03413204375f315fe0"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35432","id":842430318,"node_id":"PR_kwDOAQXtWs4yNndu","html_url":"https://github.com/apache/spark/pull/35432","diff_url":"https://github.com/apache/spark/pull/35432.diff","patch_url":"https://github.com/apache/spark/pull/35432.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35432","number":35432,"state":"closed","locked":false,"title":"[SPARK-37585][SQL] Update InputMetric in DataSourceRDD with TaskCompletionListener","user":{"login":"bozhang2820","id":44179472,"node_id":"MDQ6VXNlcjQ0MTc5NDcy","avatar_url":"https://avatars.githubusercontent.com/u/44179472?v=4","gravatar_id":"","url":"https://api.github.com/users/bozhang2820","html_url":"https://github.com/bozhang2820","followers_url":"https://api.github.com/users/bozhang2820/followers","following_url":"https://api.github.com/users/bozhang2820/following{/other_user}","gists_url":"https://api.github.com/users/bozhang2820/gists{/gist_id}","starred_url":"https://api.github.com/users/bozhang2820/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bozhang2820/subscriptions","organizations_url":"https://api.github.com/users/bozhang2820/orgs","repos_url":"https://api.github.com/users/bozhang2820/repos","events_url":"https://api.github.com/users/bozhang2820/events{/privacy}","received_events_url":"https://api.github.com/users/bozhang2820/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nBefore this change, Spark only updates `InputMetrics.bytesRead` in `DataSourceRDD` once every 1000 records, or at the end of the iterator (when `MetricsIterator.hasNext` returns false). So when the output is limited in a query but there is still data in the datasource, `InputMetrics.bytesRead` will not be updated at the end of the iterator, leading to incorrect metric results. This is more pronounced when the total number of records is less than 1000 (which will lead to `InputMetrics.bytesRead == 0`).\r\n\r\nThis change fixes this bug by adding a force metric update in `TaskCompletionListener`.\r\n\r\n### Why are the changes needed?\r\nThis is to fix the bug that `InputMetrics.bytesRead` is not updated when there is still data in the datasource but the output is limited. \r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nUsers will see more accurate `InputMetrics.bytesRead` with this change.\r\n\r\n### How was this patch tested?\r\nAdded a unit test.","created_at":"2022-02-08T05:28:36Z","updated_at":"2022-02-11T03:45:04Z","closed_at":"2022-02-09T14:12:04Z","merged_at":null,"merge_commit_sha":"105eedf093a79292dc6fbceb031e75bf314a3e48","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35432/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35432/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35432/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/f07d4806545d0a96680526de5bfa5e5e536fa76d","head":{"label":"bozhang2820:spark-37585","ref":"spark-37585","sha":"f07d4806545d0a96680526de5bfa5e5e536fa76d","user":{"login":"bozhang2820","id":44179472,"node_id":"MDQ6VXNlcjQ0MTc5NDcy","avatar_url":"https://avatars.githubusercontent.com/u/44179472?v=4","gravatar_id":"","url":"https://api.github.com/users/bozhang2820","html_url":"https://github.com/bozhang2820","followers_url":"https://api.github.com/users/bozhang2820/followers","following_url":"https://api.github.com/users/bozhang2820/following{/other_user}","gists_url":"https://api.github.com/users/bozhang2820/gists{/gist_id}","starred_url":"https://api.github.com/users/bozhang2820/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bozhang2820/subscriptions","organizations_url":"https://api.github.com/users/bozhang2820/orgs","repos_url":"https://api.github.com/users/bozhang2820/repos","events_url":"https://api.github.com/users/bozhang2820/events{/privacy}","received_events_url":"https://api.github.com/users/bozhang2820/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":295316675,"node_id":"MDEwOlJlcG9zaXRvcnkyOTUzMTY2NzU=","name":"spark","full_name":"bozhang2820/spark","private":false,"owner":{"login":"bozhang2820","id":44179472,"node_id":"MDQ6VXNlcjQ0MTc5NDcy","avatar_url":"https://avatars.githubusercontent.com/u/44179472?v=4","gravatar_id":"","url":"https://api.github.com/users/bozhang2820","html_url":"https://github.com/bozhang2820","followers_url":"https://api.github.com/users/bozhang2820/followers","following_url":"https://api.github.com/users/bozhang2820/following{/other_user}","gists_url":"https://api.github.com/users/bozhang2820/gists{/gist_id}","starred_url":"https://api.github.com/users/bozhang2820/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bozhang2820/subscriptions","organizations_url":"https://api.github.com/users/bozhang2820/orgs","repos_url":"https://api.github.com/users/bozhang2820/repos","events_url":"https://api.github.com/users/bozhang2820/events{/privacy}","received_events_url":"https://api.github.com/users/bozhang2820/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bozhang2820/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/bozhang2820/spark","forks_url":"https://api.github.com/repos/bozhang2820/spark/forks","keys_url":"https://api.github.com/repos/bozhang2820/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bozhang2820/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bozhang2820/spark/teams","hooks_url":"https://api.github.com/repos/bozhang2820/spark/hooks","issue_events_url":"https://api.github.com/repos/bozhang2820/spark/issues/events{/number}","events_url":"https://api.github.com/repos/bozhang2820/spark/events","assignees_url":"https://api.github.com/repos/bozhang2820/spark/assignees{/user}","branches_url":"https://api.github.com/repos/bozhang2820/spark/branches{/branch}","tags_url":"https://api.github.com/repos/bozhang2820/spark/tags","blobs_url":"https://api.github.com/repos/bozhang2820/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bozhang2820/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bozhang2820/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/bozhang2820/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bozhang2820/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/bozhang2820/spark/languages","stargazers_url":"https://api.github.com/repos/bozhang2820/spark/stargazers","contributors_url":"https://api.github.com/repos/bozhang2820/spark/contributors","subscribers_url":"https://api.github.com/repos/bozhang2820/spark/subscribers","subscription_url":"https://api.github.com/repos/bozhang2820/spark/subscription","commits_url":"https://api.github.com/repos/bozhang2820/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/bozhang2820/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/bozhang2820/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/bozhang2820/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/bozhang2820/spark/contents/{+path}","compare_url":"https://api.github.com/repos/bozhang2820/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bozhang2820/spark/merges","archive_url":"https://api.github.com/repos/bozhang2820/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bozhang2820/spark/downloads","issues_url":"https://api.github.com/repos/bozhang2820/spark/issues{/number}","pulls_url":"https://api.github.com/repos/bozhang2820/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/bozhang2820/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/bozhang2820/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bozhang2820/spark/labels{/name}","releases_url":"https://api.github.com/repos/bozhang2820/spark/releases{/id}","deployments_url":"https://api.github.com/repos/bozhang2820/spark/deployments","created_at":"2020-09-14T05:49:28Z","updated_at":"2025-01-08T01:37:51Z","pushed_at":"2025-01-16T02:46:07Z","git_url":"git://github.com/bozhang2820/spark.git","ssh_url":"git@github.com:bozhang2820/spark.git","clone_url":"https://github.com/bozhang2820/spark.git","svn_url":"https://github.com/bozhang2820/spark","homepage":"https://spark.apache.org/","size":449059,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d4f275b1d81a5f855412613c30c39cf300cb013d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35432"},"html":{"href":"https://github.com/apache/spark/pull/35432"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35432"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35432/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35432/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35432/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/f07d4806545d0a96680526de5bfa5e5e536fa76d"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35431","id":842394551,"node_id":"PR_kwDOAQXtWs4yNeu3","html_url":"https://github.com/apache/spark/pull/35431","diff_url":"https://github.com/apache/spark/pull/35431.diff","patch_url":"https://github.com/apache/spark/pull/35431.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35431","number":35431,"state":"closed","locked":false,"title":"[SPARK-36444][SQL][3.1] Remove OptimizeSubqueries from batch of PartitionPruning","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis is a backport PR of #33664 for branch-3.1.\r\n\r\n### Why are the changes needed?\r\n\r\nWe found a query in production that cost lots of time in optimize phase when enable DPP, the SQL pattern likes\r\n\r\n```\r\nselect <cols...>\r\nfrom a\r\nleft join b on a.<col> = b.<col>\r\nleft join c on b.<col> = c.<col>\r\nleft join d on c.<col> = d.<col>\r\nleft join e on d.<col> = e.<col>\r\nleft join f on e.<col> = f.<col>\r\nleft join g on f.<col> = g.<col>\r\nleft join h on g.<col> = h.<col>\r\n...\r\n```\r\n\r\n<details>\r\n\r\n<summary>Before this PR, Analyzer/Optimizer costs 15821.6 seconds</summary>\r\n\r\n```\r\n=== Metrics of Analyzer/Optimizer Rules ===\r\nTotal number of runs: 24763671\r\nTotal time: 15821.588159083 seconds\r\n\r\nRule                                                                                               Effective Time / Total Time                     Effective Runs / Total Runs\r\n\r\norg.apache.spark.sql.catalyst.optimizer.Optimizer$OptimizeSubqueries                               6325784430499 / 14213630904736                  2047 / 342802\r\norg.apache.spark.sql.catalyst.optimizer.ColumnPruning                                              28009746 / 267164777817                         1 / 691736\r\norg.apache.spark.sql.catalyst.analysis.UpdateAttributeNullability                                  0 / 118329246545                                0 / 342804\r\norg.apache.spark.sql.catalyst.optimizer.RemoveRedundantAliases                                     8997600 / 71070686823                           1 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.BooleanSimplification                                      923149600 / 59903945393                         2036 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.NullPropagation                                            12343892 / 52895299683                          1 / 348934\r\norg.apache.spark.sql.execution.datasources.SchemaPruning                                           0 / 51638842573                                 0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.UnwrapCastInBinaryComparison                               0 / 42686293006                                 0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.SimplifyConditionals                                       0 / 41190229736                                 0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.InferFiltersFromConstraints                                1482075440 / 40899690529                        2048 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.SimplifyBinaryComparison                                   0 / 40747831162                                 0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.SimplifyCaseConversionExpressions                          0 / 39946334062                                 0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.FoldablePropagation                                        655084587 / 39426073462                         2047 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.PruneFilters                                               489780 / 34731670364                            1 / 520335\r\norg.apache.spark.sql.catalyst.optimizer.OptimizeJsonExprs                                          0 / 33533545307                                 0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.ReplaceNullWithFalseInPredicate                            0 / 31910754610                                 0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.ConstantFolding                                            22871375 / 31308048659                          1 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.LikeSimplification                                         0 / 31276042884                                 0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.OptimizeWindowFunctions                                    0 / 31100888868                                 0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.ReorderAssociativeOperator                                 0 / 30855866688                                 0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.SimplifyCasts                                              0 / 30414758547                                 0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.OptimizeIn                                                 0 / 30211101358                                 0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.OptimizeUpdateFields                                       0 / 29986491532                                 0 / 348936\r\norg.apache.spark.sql.catalyst.optimizer.RemoveDispensableExpressions                               0 / 29740191900                                 0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.SimplifyExtractValueOps                                    0 / 25399289000                                 0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.RewriteCorrelatedScalarSubquery                            0 / 21381558331                                 0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.PushDownPredicates                                         5831922974 / 18327095753                        3072 / 691737\r\norg.apache.spark.sql.catalyst.optimizer.ReplaceExpressions                                         5007709 / 17431480903                           1 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.GetCurrentDatabaseAndCatalog                               0 / 15321596322                                 0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.ComputeCurrentTime                                         0 / 15060720651                                 0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.DecimalAggregates                                          0 / 14874103589                                 0 / 171401\r\norg.apache.spark.sql.execution.datasources.PruneFileSourcePartitions                               50420951 / 14798400219                          1 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.ReplaceUpdateFieldsExpression                              0 / 14791439186                                 0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.EliminateMapObjects                                        0 / 14361213979                                 0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.ReassignLambdaVariableID                                   0 / 14258459712                                 0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.RewriteNonCorrelatedExists                                 0 / 14094898098                                 0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.RemoveNoopOperators                                        1975195 / 12967136767                           2 / 691736\r\norg.apache.spark.sql.catalyst.optimizer.PullupCorrelatedPredicates                                 0 / 12573667353                                 0 / 171401\r\norg.apache.spark.sql.execution.datasources.v2.V2ScanRelationPushDown                               0 / 11355809540                                 0 / 171401\r\norg.apache.spark.sql.execution.dynamicpruning.CleanupDynamicPruningFilters                         350911193 / 9931582633                          2048 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.ConstantPropagation                                        0 / 8268511133                                  0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.CollapseProject                                            10135014 / 6764166524                           1 / 520335\r\norg.apache.spark.sql.catalyst.optimizer.EliminateResolvedHint                                      0 / 6244880486                                  0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.CombineUnions                                              0 / 5811583863                                  0 / 520335\r\norg.apache.spark.sql.catalyst.optimizer.RewriteDistinctAggregates                                  28926471 / 5423624109                           1 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.CollapseRepartition                                        0 / 5245332974                                  0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.EliminateSorts                                             0 / 5051398253                                  0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.PropagateEmptyRelation                                     0 / 4975057807                                  0 / 342802\r\norg.apache.spark.sql.catalyst.optimizer.NormalizeFloatingNumbers                                   0 / 4804919393                                  0 / 171401\r\norg.apache.spark.sql.execution.python.ExtractPythonUDFFromAggregate                                0 / 4408441952                                  0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.CollapseWindow                                             0 / 4349408795                                  0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.EliminateSerialization                                     0 / 4170274724                                  0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.TransposeWindow                                            0 / 4113327220                                  0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.ReorderJoin                                                0 / 4107443950                                  0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.CombineFilters                                             0 / 4061601886                                  0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.PushProjectionThroughUnion                                 0 / 4042615936                                  0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.PushDownLeftSemiAntiJoin                                   0 / 4024293929                                  0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.EliminateLimits                                            0 / 3908219408                                  0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.RewritePredicateSubquery                                   135506567 / 3895045754                          2047 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.EliminateOuterJoin                                         0 / 3875669986                                  0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.PushLeftSemiLeftAntiThroughJoin                            0 / 3875663441                                  0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.LimitPushDown                                              0 / 3859481346                                  0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.ReplaceDeduplicateWithAggregate                            0 / 3404517096                                  0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.PushExtraPredicateThroughJoin                              0 / 2876802099                                  0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.PushPredicateThroughNonJoin                                0 / 2546037832                                  0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.ExtractPythonUDFFromJoinCondition                          0 / 2392444200                                  0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.RemoveLiteralFromGroupExpressions                          0 / 2297492778                                  0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.RewriteExceptAll                                           0 / 2239751163                                  0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.InferFiltersFromGenerate                                   0 / 2189398940                                  0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.RemoveRepetitionFromGroupExpressions                       0 / 2187645769                                  0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.ReplaceExceptWithFilter                                    0 / 2135169574                                  0 / 171401\r\norg.apache.spark.sql.execution.python.ExtractGroupingPythonUDFFromAggregate                        0 / 2058019085                                  0 / 171401\r\norg.apache.spark.sql.catalyst.analysis.EliminateSubqueryAliases                                    602948 / 2030110600                             1 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.OptimizeLimitZero                                          0 / 2028208284                                  0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.CombineTypedFilters                                        0 / 1985665817                                  0 / 171401\r\norg.apache.spark.sql.catalyst.analysis.EliminateView                                               0 / 1965869470                                  0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.ObjectSerializerPruning                                    0 / 1892132711                                  0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.RewriteIntersectAll                                        0 / 1891839429                                  0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.ReplaceIntersectWithSemiJoin                               0 / 1873028976                                  0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.ReplaceDistinctWithAggregate                               0 / 1872377392                                  0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.ReplaceExceptWithAntiJoin                                  0 / 1860128741                                  0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.CheckCartesianProducts                                     0 / 405470117                                   0 / 342802\r\norg.apache.spark.sql.execution.OptimizeMetadataOnlyQuery                                           0 / 242854215                                   0 / 171401\r\norg.apache.spark.sql.catalyst.optimizer.CostBasedJoinReorder                                       0 / 226833963                                   0 / 171401\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveReferences                                  117151873 / 123533385                           7 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$FunctionArgumentConversion                     102066025 / 121689146                           5 / 13\r\norg.apache.spark.sql.catalyst.optimizer.CombineConcats                                             0 / 112256648                                   0 / 348934\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$ImplicitTypeCasts                              76183548 / 108546928                            4 / 13\r\norg.apache.spark.sql.catalyst.optimizer.EliminateAggregateFilter                                   0 / 107905167                                   0 / 348934\r\norg.apache.spark.sql.catalyst.optimizer.EliminateDistinct                                          0 / 103804760                                   0 / 171401\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveFunctions                                   85607389 / 94162213                             8 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$Division                                       76446295 / 93129469                             5 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$PromoteStrings                                 53450988 / 87954605                             1 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ExtractGenerator                                   0 / 85268434                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$IfCoercion                                     50348094 / 80404327                             4 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$CaseWhenCoercion                               39786113 / 59089899                             3 / 13\r\norg.apache.spark.sql.catalyst.analysis.ResolveTimeZone                                             56110133 / 57619849                             10 / 13\r\norg.apache.spark.sql.execution.dynamicpruning.PartitionPruning                                     22888739 / 54329716                             1 / 171401\r\norg.apache.spark.sql.catalyst.analysis.DecimalPrecision                                            0 / 49832160                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$InConversion                                   0 / 46158859                                    0 / 13\r\norg.apache.spark.sql.execution.datasources.FindDataSourceTable                                     43323608 / 44575170                             1 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$ConcatCoercion                                 14900959 / 39466022                             1 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveBinaryArithmetic                            0 / 38815701                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$BooleanEquality                                0 / 36470552                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$DateTimeOperations                             7216638 / 35530574                              1 / 13\r\norg.apache.spark.sql.execution.python.ExtractPythonUDFs                                            0 / 34271447                                    0 / 171401\r\norg.apache.spark.sql.catalyst.analysis.ResolveLambdaVariables                                      0 / 32166544                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$IntegralDivision                               0 / 30547791                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.ResolveExpressionsWithNamePlaceholders                      0 / 30506602                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$StringLiteralCoercion                          0 / 30116261                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.ResolveHigherOrderFunctions                                 0 / 27859446                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$EltCoercion                                    0 / 24218064                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$WindowFrameCoercion                            0 / 23413444                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveRandomSeed                                  0 / 22036715                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$StackCoercion                                  0 / 21957835                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveWindowOrder                                 0 / 21463552                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$MapZipWithCoercion                             0 / 20489026                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveWindowFrame                                 0 / 20481142                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$GlobalAggregates                                   0 / 19715779                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveMissingReferences                           0 / 19693693                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.TimeWindowing                                               0 / 19530333                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveRelations                                   16526728 / 18814733                             1 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveSubquery                                    0 / 16649474                                    0 / 13\r\norg.apache.spark.sql.execution.aggregate.ResolveEncodersInScalaAgg                                 0 / 15275758                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$LookupFunctions                                    0 / 11329936                                    0 / 2\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveDeserializer                                4281027 / 10765657                              1 / 13\r\norg.apache.spark.sql.catalyst.analysis.CTESubstitution                                             0 / 9577794                                     0 / 2\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveAliases                                     0 / 9217208                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$AddMetadataColumns                                 0 / 8289279                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ExtractWindowExpressions                           0 / 8192539                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.ApplyCharTypePadding                                        0 / 7991101                                     0 / 2\r\norg.apache.spark.sql.catalyst.analysis.CleanupAliases                                              5307130 / 7435920                               1 / 3\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$WidenSetOperationTypes                         0 / 6506053                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveUpCast                                      0 / 6446727                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveNewInstance                                 0 / 6075593                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.ResolveSessionCatalog                                       0 / 4092936                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveOrdinalInOrderByAndGroupBy                  0 / 3430531                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveTables                                      0 / 2966446                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveGroupingAnalytics                           0 / 2864876                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$HandleNullInputsForUDF                             0 / 2818668                                     0 / 2\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveAggAliasInGroupBy                           0 / 2816430                                     0 / 13\r\norg.apache.spark.sql.execution.analysis.DetectAmbiguousSelfJoin                                    0 / 2491546                                     0 / 2\r\norg.apache.spark.sql.catalyst.analysis.ResolveUnion                                                0 / 2477483                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveOutputRelation                              0 / 2463866                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveEncodersInUDF                               0 / 2376711                                     0 / 2\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveGenerate                                    0 / 2133804                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.ResolvePartitionSpec                                        0 / 1730246                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveSubqueryColumnAliases                       0 / 1712259                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveAggregateFunctions                          0 / 1698918                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolvePivot                                       0 / 1618569                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveNaturalAndUsingJoin                         0 / 1589833                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.ResolveCatalogs                                             0 / 1560151                                     0 / 13\r\norg.apache.spark.sql.catalyst.expressions.codegen.package$ExpressionCanonicalizer$CleanExpressions 0 / 1500410                                     0 / 1049\r\norg.apache.spark.sql.catalyst.analysis.ResolveInlineTables                                         0 / 1463204                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveUserSpecifiedColumns                        0 / 1355593                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveNamespace                                   0 / 1339813                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.ResolveTableValuedFunctions                                 0 / 1338443                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveInsertInto                                  0 / 1323062                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$PullOutNondeterministic                            0 / 1318399                                     0 / 2\r\norg.apache.spark.sql.execution.datasources.ResolveSQLOnFile                                        0 / 1302134                                     0 / 13\r\norg.apache.spark.sql.execution.datasources.FallBackFileSourceV2                                    0 / 1074454                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.SubstituteUnresolvedOrdinals                                0 / 698629                                      0 / 2\r\norg.apache.spark.sql.catalyst.analysis.ResolveHints$ResolveJoinStrategyHints                       0 / 452536                                      0 / 2\r\norg.apache.spark.sql.catalyst.analysis.ResolveHints$ResolveCoalesceHints                           0 / 306642                                      0 / 2\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$WindowsSubstitution                                0 / 300756                                      0 / 2\r\norg.apache.spark.sql.execution.datasources.PreprocessTableCreation                                 0 / 276685                                      0 / 2\r\norg.apache.spark.sql.catalyst.analysis.EliminateUnions                                             0 / 214857                                      0 / 2\r\norg.apache.spark.sql.catalyst.analysis.UpdateOuterReferences                                       0 / 203514                                      0 / 2\r\norg.apache.spark.sql.execution.datasources.PreprocessTableInsertion                                0 / 164163                                      0 / 2\r\norg.apache.spark.sql.catalyst.analysis.ResolveNoopDropTable                                        0 / 108345                                      0 / 2\r\norg.apache.spark.sql.execution.datasources.DataSourceAnalysis                                      0 / 90574                                       0 / 2\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveAlterTableChanges                           0 / 85175                                       0 / 2\r\norg.apache.spark.sql.catalyst.analysis.ResolveHints$RemoveAllHints                                 0 / 82212                                       0 / 2\r\norg.apache.spark.sql.catalyst.analysis.ResolveHints$DisableHints                                   0 / 7780                                        0 / 2\r\n```\r\n</details>\r\n\r\n<details>\r\n\r\n<summary>After this PR, Analyzer/Optimizer costs 2.4 seconds seconds</summary>\r\n\r\n```\r\n=== Metrics of Analyzer/Optimizer Rules ===\r\nTotal number of runs: 2140\r\nTotal time: 2.407325128 seconds\r\n\r\nRule                                                                                               Effective Time / Total Time                     Effective Runs / Total Runs\r\n\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$ImplicitTypeCasts                              79087019 / 116017648                            4 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$FunctionArgumentConversion                     88569423 / 112854377                            5 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveReferences                                  89163583 / 95807127                             7 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$Division                                       73197512 / 91715660                             5 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveFunctions                                   73390555 / 81845702                             8 / 13\r\norg.apache.spark.sql.catalyst.optimizer.ColumnPruning                                              24099474 / 80271976                             1 / 6\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ExtractGenerator                                   0 / 79928019                                    0 / 13\r\norg.apache.spark.sql.catalyst.optimizer.PushDownPredicates                                         73617831 / 79035882                             2 / 7\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$IfCoercion                                     52077624 / 78992522                             4 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$PromoteStrings                                 39724587 / 73183778                             1 / 13\r\norg.apache.spark.sql.catalyst.analysis.ResolveTimeZone                                             52807613 / 54633834                             10 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$DateTimeOperations                             21340706 / 53040407                             1 / 13\r\norg.apache.spark.sql.execution.datasources.PruneFileSourcePartitions                               51595369 / 51595369                             1 / 1\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$CaseWhenCoercion                               32842401 / 49095324                             3 / 13\r\norg.apache.spark.sql.catalyst.analysis.DecimalPrecision                                            0 / 48574229                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$InConversion                                   0 / 43384882                                    0 / 13\r\norg.apache.spark.sql.execution.datasources.FindDataSourceTable                                     40348276 / 41709977                             1 / 13\r\norg.apache.spark.sql.catalyst.optimizer.InferFiltersFromConstraints                                40235278 / 40235278                             1 / 1\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$ConcatCoercion                                 13542681 / 38418852                             1 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$BooleanEquality                                0 / 35130781                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$IntegralDivision                               0 / 35129152                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$StringLiteralCoercion                          0 / 32116493                                    0 / 13\r\norg.apache.spark.sql.catalyst.optimizer.RewriteDistinctAggregates                                  32065069 / 32065069                             1 / 1\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveBinaryArithmetic                            0 / 30166678                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.ResolveLambdaVariables                                      0 / 30082254                                    0 / 13\r\norg.apache.spark.sql.catalyst.optimizer.ConstantFolding                                            23910538 / 29049259                             1 / 4\r\norg.apache.spark.sql.catalyst.analysis.ResolveExpressionsWithNamePlaceholders                      0 / 26220500                                    0 / 13\r\norg.apache.spark.sql.execution.dynamicpruning.PartitionPruning                                     25857276 / 25857276                             1 / 1\r\norg.apache.spark.sql.catalyst.optimizer.RemoveRedundantAliases                                     11800935 / 25453815                             1 / 4\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$EltCoercion                                    0 / 24882479                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.ResolveHigherOrderFunctions                                 0 / 24773800                                    0 / 13\r\norg.apache.spark.sql.catalyst.optimizer.BooleanSimplification                                      0 / 23687102                                    0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.OptimizeUpdateFields                                       0 / 22496833                                    0 / 6\r\norg.apache.spark.sql.catalyst.analysis.UpdateAttributeNullability                                  0 / 22086610                                    0 / 4\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveWindowOrder                                 0 / 21776763                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$WindowFrameCoercion                            0 / 21668319                                    0 / 13\r\norg.apache.spark.sql.execution.datasources.SchemaPruning                                           0 / 21119650                                    0 / 1\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$StackCoercion                                  0 / 20995370                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$MapZipWithCoercion                             0 / 20852224                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveWindowFrame                                 0 / 20482582                                    0 / 13\r\norg.apache.spark.sql.catalyst.optimizer.NullPropagation                                            8449073 / 20310580                              1 / 4\r\norg.apache.spark.sql.catalyst.optimizer.SimplifyConditionals                                       0 / 19685107                                    0 / 4\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveMissingReferences                           0 / 18005681                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveRandomSeed                                  0 / 17873443                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$GlobalAggregates                                   0 / 16909722                                    0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveRelations                                   14231820 / 16732791                             1 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveSubquery                                    0 / 16280559                                    0 / 13\r\norg.apache.spark.sql.catalyst.optimizer.FoldablePropagation                                        0 / 16121492                                    0 / 4\r\norg.apache.spark.sql.catalyst.analysis.TimeWindowing                                               0 / 15969419                                    0 / 13\r\norg.apache.spark.sql.execution.aggregate.ResolveEncodersInScalaAgg                                 0 / 15441100                                    0 / 13\r\norg.apache.spark.sql.catalyst.optimizer.SimplifyBinaryComparison                                   0 / 14334553                                    0 / 4\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveDeserializer                                5534984 / 12617237                              1 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$LookupFunctions                                    0 / 10014043                                    0 / 2\r\norg.apache.spark.sql.catalyst.optimizer.SimplifyCaseConversionExpressions                          0 / 9761592                                     0 / 4\r\norg.apache.spark.sql.catalyst.analysis.CTESubstitution                                             0 / 9747538                                     0 / 2\r\norg.apache.spark.sql.catalyst.optimizer.RewriteCorrelatedScalarSubquery                            0 / 9694808                                     0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.UnwrapCastInBinaryComparison                               0 / 9665154                                     0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.OptimizeJsonExprs                                          0 / 9430804                                     0 / 4\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$AddMetadataColumns                                 0 / 9322119                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveAliases                                     0 / 9113696                                     0 / 13\r\norg.apache.spark.sql.catalyst.optimizer.SimplifyExtractValueOps                                    0 / 8938695                                     0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.OptimizeIn                                                 0 / 8921298                                     0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.ReplaceNullWithFalseInPredicate                            0 / 8695066                                     0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.RemoveDispensableExpressions                               0 / 8438285                                     0 / 4\r\norg.apache.spark.sql.catalyst.analysis.ApplyCharTypePadding                                        0 / 8406029                                     0 / 2\r\norg.apache.spark.sql.catalyst.optimizer.ReorderAssociativeOperator                                 0 / 8196064                                     0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.CollapseProject                                            6878987 / 8000632                               1 / 5\r\norg.apache.spark.sql.catalyst.optimizer.SimplifyCasts                                              0 / 7996708                                     0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.LikeSimplification                                         0 / 7983621                                     0 / 4\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ExtractWindowExpressions                           0 / 7948113                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveUpCast                                      0 / 7930266                                     0 / 13\r\norg.apache.spark.sql.catalyst.optimizer.OptimizeWindowFunctions                                    0 / 7569548                                     0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.PruneFilters                                               1298537 / 7511669                               1 / 5\r\norg.apache.spark.sql.execution.python.ExtractPythonUDFs                                            0 / 7419094                                     0 / 1\r\norg.apache.spark.sql.execution.datasources.v2.V2ScanRelationPushDown                               0 / 7129007                                     0 / 1\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveNewInstance                                 0 / 6953704                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.TypeCoercion$WidenSetOperationTypes                         0 / 6409068                                     0 / 13\r\norg.apache.spark.sql.catalyst.optimizer.RemoveNoopOperators                                        2948625 / 6073057                               2 / 6\r\norg.apache.spark.sql.catalyst.analysis.CleanupAliases                                              3304603 / 5512866                               1 / 3\r\norg.apache.spark.sql.catalyst.optimizer.ReplaceExpressions                                         5247113 / 5247113                               1 / 1\r\norg.apache.spark.sql.catalyst.analysis.ResolveSessionCatalog                                       0 / 4331593                                     0 / 13\r\norg.apache.spark.sql.catalyst.optimizer.NormalizeFloatingNumbers                                   0 / 3939580                                     0 / 1\r\norg.apache.spark.sql.catalyst.optimizer.ConstantPropagation                                        0 / 3872746                                     0 / 4\r\norg.apache.spark.sql.execution.dynamicpruning.CleanupDynamicPruningFilters                         3285689 / 3285689                               1 / 1\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveTables                                      0 / 2954363                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveGroupingAnalytics                           0 / 2772122                                     0 / 13\r\norg.apache.spark.sql.catalyst.optimizer.DecimalAggregates                                          0 / 2751645                                     0 / 1\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$HandleNullInputsForUDF                             0 / 2718652                                     0 / 2\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveOrdinalInOrderByAndGroupBy                  0 / 2682978                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveAggAliasInGroupBy                           0 / 2598472                                     0 / 13\r\norg.apache.spark.sql.execution.python.ExtractPythonUDFFromAggregate                                0 / 2542252                                     0 / 1\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveEncodersInUDF                               0 / 2451105                                     0 / 2\r\norg.apache.spark.sql.catalyst.optimizer.EliminateMapObjects                                        0 / 2438919                                     0 / 1\r\norg.apache.spark.sql.execution.analysis.DetectAmbiguousSelfJoin                                    0 / 2428491                                     0 / 2\r\norg.apache.spark.sql.catalyst.expressions.codegen.package$ExpressionCanonicalizer$CleanExpressions 0 / 2277468                                     0 / 1049\r\norg.apache.spark.sql.catalyst.optimizer.EliminateAggregateFilter                                   0 / 2273198                                     0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.EliminateSorts                                             0 / 2256059                                     0 / 1\r\norg.apache.spark.sql.catalyst.optimizer.ReplaceUpdateFieldsExpression                              0 / 2227798                                     0 / 1\r\norg.apache.spark.sql.catalyst.analysis.ResolveUnion                                                0 / 2220071                                     0 / 13\r\norg.apache.spark.sql.catalyst.optimizer.PullupCorrelatedPredicates                                 0 / 2216158                                     0 / 1\r\norg.apache.spark.sql.catalyst.optimizer.ReassignLambdaVariableID                                   0 / 2190345                                     0 / 1\r\norg.apache.spark.sql.catalyst.optimizer.RewriteNonCorrelatedExists                                 0 / 2106499                                     0 / 1\r\norg.apache.spark.sql.catalyst.optimizer.RemoveRepetitionFromGroupExpressions                       0 / 2088289                                     0 / 1\r\norg.apache.spark.sql.catalyst.optimizer.CombineConcats                                             0 / 2073285                                     0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.EliminateResolvedHint                                      0 / 1922211                                     0 / 1\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveSubqueryColumnAliases                       0 / 1900401                                     0 / 13\r\norg.apache.spark.sql.catalyst.optimizer.ComputeCurrentTime                                         0 / 1895150                                     0 / 1\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveGenerate                                    0 / 1863956                                     0 / 13\r\norg.apache.spark.sql.catalyst.optimizer.GetCurrentDatabaseAndCatalog                               0 / 1816019                                     0 / 1\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveAggregateFunctions                          0 / 1787068                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveNaturalAndUsingJoin                         0 / 1769046                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.ResolveCatalogs                                             0 / 1605576                                     0 / 13\r\norg.apache.spark.sql.catalyst.optimizer.EliminateDistinct                                          0 / 1591594                                     0 / 1\r\norg.apache.spark.sql.catalyst.analysis.ResolveInlineTables                                         0 / 1547587                                     0 / 13\r\norg.apache.spark.sql.catalyst.optimizer.RewritePredicateSubquery                                   0 / 1526146                                     0 / 1\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolvePivot                                       0 / 1506795                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.ResolvePartitionSpec                                        0 / 1502020                                     0 / 13\r\norg.apache.spark.sql.catalyst.optimizer.PushExtraPredicateThroughJoin                              0 / 1442567                                     0 / 1\r\norg.apache.spark.sql.catalyst.analysis.ResolveTableValuedFunctions                                 0 / 1420037                                     0 / 13\r\norg.apache.spark.sql.execution.datasources.ResolveSQLOnFile                                        0 / 1399535                                     0 / 13\r\norg.apache.spark.sql.execution.python.ExtractGroupingPythonUDFFromAggregate                        0 / 1385780                                     0 / 1\r\norg.apache.spark.sql.catalyst.optimizer.Optimizer$OptimizeSubqueries                               0 / 1359249                                     0 / 1\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveNamespace                                   0 / 1356344                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveOutputRelation                              0 / 1355910                                     0 / 13\r\norg.apache.spark.sql.execution.datasources.FallBackFileSourceV2                                    0 / 1325995                                     0 / 13\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveUserSpecifiedColumns                        0 / 1325072                                     0 / 13\r\norg.apache.spark.sql.catalyst.optimizer.CollapseRepartition                                        0 / 1322557                                     0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.PushDownLeftSemiAntiJoin                                   0 / 1300710                                     0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.EliminateSerialization                                     0 / 1227217                                     0 / 4\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$PullOutNondeterministic                            0 / 1226182                                     0 / 2\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveInsertInto                                  0 / 1225119                                     0 / 13\r\norg.apache.spark.sql.catalyst.optimizer.PushLeftSemiLeftAntiThroughJoin                            0 / 1172415                                     0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.ReorderJoin                                                0 / 1158346                                     0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.PropagateEmptyRelation                                     0 / 1156508                                     0 / 2\r\norg.apache.spark.sql.catalyst.optimizer.PushProjectionThroughUnion                                 0 / 1082244                                     0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.CombineUnions                                              0 / 1050254                                     0 / 5\r\norg.apache.spark.sql.catalyst.optimizer.CollapseWindow                                             0 / 1003136                                     0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.TransposeWindow                                            0 / 1001447                                     0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.ExtractPythonUDFFromJoinCondition                          0 / 1001440                                     0 / 1\r\norg.apache.spark.sql.catalyst.optimizer.LimitPushDown                                              0 / 974802                                      0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.EliminateLimits                                            0 / 927602                                      0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.CombineFilters                                             0 / 924219                                      0 / 4\r\norg.apache.spark.sql.catalyst.optimizer.EliminateOuterJoin                                         0 / 768081                                      0 / 4\r\norg.apache.spark.sql.catalyst.analysis.SubstituteUnresolvedOrdinals                                0 / 733641                                      0 / 2\r\norg.apache.spark.sql.catalyst.optimizer.RemoveLiteralFromGroupExpressions                          0 / 449017                                      0 / 1\r\norg.apache.spark.sql.catalyst.analysis.EliminateSubqueryAliases                                    434360 / 434360                                 1 / 1\r\norg.apache.spark.sql.catalyst.optimizer.PushPredicateThroughNonJoin                                0 / 379178                                      0 / 1\r\norg.apache.spark.sql.catalyst.optimizer.InferFiltersFromGenerate                                   0 / 295206                                      0 / 1\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$WindowsSubstitution                                0 / 292907                                      0 / 2\r\norg.apache.spark.sql.catalyst.optimizer.CombineTypedFilters                                        0 / 256204                                      0 / 1\r\norg.apache.spark.sql.catalyst.optimizer.ObjectSerializerPruning                                    0 / 249912                                      0 / 1\r\norg.apache.spark.sql.catalyst.analysis.ResolveHints$ResolveCoalesceHints                           0 / 249513                                      0 / 2\r\norg.apache.spark.sql.catalyst.analysis.EliminateUnions                                             0 / 240773                                      0 / 2\r\norg.apache.spark.sql.catalyst.analysis.ResolveHints$ResolveJoinStrategyHints                       0 / 230937                                      0 / 2\r\norg.apache.spark.sql.catalyst.optimizer.ReplaceDeduplicateWithAggregate                            0 / 222074                                      0 / 1\r\norg.apache.spark.sql.catalyst.analysis.EliminateView                                               0 / 216679                                      0 / 1\r\norg.apache.spark.sql.catalyst.analysis.UpdateOuterReferences                                       0 / 137675                                      0 / 2\r\norg.apache.spark.sql.execution.datasources.PreprocessTableCreation                                 0 / 124279                                      0 / 2\r\norg.apache.spark.sql.catalyst.analysis.ResolveNoopDropTable                                        0 / 111526                                      0 / 2\r\norg.apache.spark.sql.execution.datasources.DataSourceAnalysis                                      0 / 100454                                      0 / 2\r\norg.apache.spark.sql.catalyst.optimizer.ReplaceExceptWithFilter                                    0 / 99833                                       0 / 1\r\norg.apache.spark.sql.catalyst.optimizer.OptimizeLimitZero                                          0 / 98320                                       0 / 1\r\norg.apache.spark.sql.execution.datasources.PreprocessTableInsertion                                0 / 96634                                       0 / 2\r\norg.apache.spark.sql.catalyst.optimizer.RewriteExceptAll                                           0 / 96403                                       0 / 1\r\norg.apache.spark.sql.catalyst.optimizer.RewriteIntersectAll                                        0 / 94322                                       0 / 1\r\norg.apache.spark.sql.catalyst.analysis.Analyzer$ResolveAlterTableChanges                           0 / 94092                                       0 / 2\r\norg.apache.spark.sql.catalyst.optimizer.ReplaceIntersectWithSemiJoin                               0 / 92092                                       0 / 1\r\norg.apache.spark.sql.catalyst.optimizer.ReplaceExceptWithAntiJoin                                  0 / 91821                                       0 / 1\r\norg.apache.spark.sql.catalyst.analysis.ResolveHints$RemoveAllHints                                 0 / 91637                                       0 / 2\r\norg.apache.spark.sql.catalyst.optimizer.ReplaceDistinctWithAggregate                               0 / 90672                                       0 / 1\r\norg.apache.spark.sql.catalyst.optimizer.CheckCartesianProducts                                     0 / 42624                                       0 / 2\r\norg.apache.spark.sql.execution.OptimizeMetadataOnlyQuery                                           0 / 25905                                       0 / 1\r\norg.apache.spark.sql.catalyst.optimizer.CostBasedJoinReorder                                       0 / 9020                                        0 / 1\r\norg.apache.spark.sql.catalyst.analysis.ResolveHints$DisableHints                                   0 / 8111                                        0 / 2\r\n```\r\n\r\n</details>\r\n\r\nThe original description of SPARK-36444 did not show this improvement, but it does significantly improve the SQL compile performance for such cases.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nSignificant SQL compile performance improvement for some cases.\r\n\r\n### How was this patch tested?\r\n\r\nAdded UT.","created_at":"2022-02-08T04:11:02Z","updated_at":"2023-02-17T08:15:16Z","closed_at":"2022-02-08T05:32:35Z","merged_at":null,"merge_commit_sha":"e6c43b00ad90ab0a428ac8f84e7dd8c957f1f9c9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35431/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35431/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35431/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/11d6a6709e1173399cd6f1222043d3f5abcb198d","head":{"label":"pan3793:SPARK-36444-3.1","ref":"SPARK-36444-3.1","sha":"11d6a6709e1173399cd6f1222043d3f5abcb198d","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":275650396,"node_id":"MDEwOlJlcG9zaXRvcnkyNzU2NTAzOTY=","name":"spark","full_name":"pan3793/spark","private":false,"owner":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pan3793/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/pan3793/spark","forks_url":"https://api.github.com/repos/pan3793/spark/forks","keys_url":"https://api.github.com/repos/pan3793/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pan3793/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pan3793/spark/teams","hooks_url":"https://api.github.com/repos/pan3793/spark/hooks","issue_events_url":"https://api.github.com/repos/pan3793/spark/issues/events{/number}","events_url":"https://api.github.com/repos/pan3793/spark/events","assignees_url":"https://api.github.com/repos/pan3793/spark/assignees{/user}","branches_url":"https://api.github.com/repos/pan3793/spark/branches{/branch}","tags_url":"https://api.github.com/repos/pan3793/spark/tags","blobs_url":"https://api.github.com/repos/pan3793/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pan3793/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pan3793/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/pan3793/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pan3793/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/pan3793/spark/languages","stargazers_url":"https://api.github.com/repos/pan3793/spark/stargazers","contributors_url":"https://api.github.com/repos/pan3793/spark/contributors","subscribers_url":"https://api.github.com/repos/pan3793/spark/subscribers","subscription_url":"https://api.github.com/repos/pan3793/spark/subscription","commits_url":"https://api.github.com/repos/pan3793/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/pan3793/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/pan3793/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/pan3793/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/pan3793/spark/contents/{+path}","compare_url":"https://api.github.com/repos/pan3793/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pan3793/spark/merges","archive_url":"https://api.github.com/repos/pan3793/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pan3793/spark/downloads","issues_url":"https://api.github.com/repos/pan3793/spark/issues{/number}","pulls_url":"https://api.github.com/repos/pan3793/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/pan3793/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/pan3793/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pan3793/spark/labels{/name}","releases_url":"https://api.github.com/repos/pan3793/spark/releases{/id}","deployments_url":"https://api.github.com/repos/pan3793/spark/deployments","created_at":"2020-06-28T19:04:17Z","updated_at":"2024-06-11T02:32:11Z","pushed_at":"2025-01-16T02:34:50Z","git_url":"git://github.com/pan3793/spark.git","ssh_url":"git@github.com:pan3793/spark.git","clone_url":"https://github.com/pan3793/spark.git","svn_url":"https://github.com/pan3793/spark","homepage":"https://spark.apache.org/","size":473459,"stargazers_count":4,"watchers_count":4,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":0,"watchers":4,"default_branch":"master"}},"base":{"label":"apache:branch-3.1","ref":"branch-3.1","sha":"0b35c2464f805970d2a62ccc757616332287eb2b","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35431"},"html":{"href":"https://github.com/apache/spark/pull/35431"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35431"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35431/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35431/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35431/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/11d6a6709e1173399cd6f1222043d3f5abcb198d"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35430","id":842288572,"node_id":"PR_kwDOAQXtWs4yNE28","html_url":"https://github.com/apache/spark/pull/35430","diff_url":"https://github.com/apache/spark/pull/35430.diff","patch_url":"https://github.com/apache/spark/pull/35430.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35430","number":35430,"state":"closed","locked":false,"title":"[SPARK-38133][SQL] UnsafeRow should treat TIMESTAMP_NTZ as mutable and fixed width","user":{"login":"bersprockets","id":21131848,"node_id":"MDQ6VXNlcjIxMTMxODQ4","avatar_url":"https://avatars.githubusercontent.com/u/21131848?v=4","gravatar_id":"","url":"https://api.github.com/users/bersprockets","html_url":"https://github.com/bersprockets","followers_url":"https://api.github.com/users/bersprockets/followers","following_url":"https://api.github.com/users/bersprockets/following{/other_user}","gists_url":"https://api.github.com/users/bersprockets/gists{/gist_id}","starred_url":"https://api.github.com/users/bersprockets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bersprockets/subscriptions","organizations_url":"https://api.github.com/users/bersprockets/orgs","repos_url":"https://api.github.com/users/bersprockets/repos","events_url":"https://api.github.com/users/bersprockets/events{/privacy}","received_events_url":"https://api.github.com/users/bersprockets/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nAdd TimestampNTZType to UnsafeRow's list of mutable fields.\r\n\r\n### Why are the changes needed?\r\n\r\nAssume this data:\r\n```\r\ncreate or replace temp view v1 as\r\nselect * from values\r\n  (1, timestamp_ntz'2012-01-01 00:00:00', 10000),\r\n  (2, timestamp_ntz'2012-01-01 00:00:00', 20000),\r\n  (1, timestamp_ntz'2012-01-01 00:00:00', 5000),\r\n  (1, timestamp_ntz'2013-01-01 00:00:00', 48000),\r\n  (2, timestamp_ntz'2013-01-01 00:00:00', 30000)\r\n  as data(a, b, c);\r\n```\r\nThe following query produces incorrect results:\r\n```\r\nselect *\r\nfrom v1\r\npivot (\r\n  sum(c)\r\n  for a in (1, 2)\r\n);\r\n```\r\nThe timestamp_ntz values are corrupted:\r\n```\r\n2012-01-01 19:05:19.476736\t15000\t20000\r\n2013-01-01 19:05:19.476736\t48000\t30000\r\n```\r\nBecause `UnsafeRow.isFixedLength` returns `false` for data type `TimestampNTZType`, `GenerateUnsafeRowJoiner` generates code for the `TIMESTAMP_NTZ` field as though it was a variable length field (it adds an offset to the Long value, thus corrupting the timestamp value).\r\n\r\nBy adding `TimestampNTZType` to `UnsafeRow`'s list of mutable fields, `UnsafeRow.isFixedLength` returns `true`.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nNew unit test.\r\n","created_at":"2022-02-08T00:14:51Z","updated_at":"2022-08-10T18:27:32Z","closed_at":"2022-02-08T03:36:42Z","merged_at":null,"merge_commit_sha":"d54cacdbbd3423b4a92d86ec69e66d2b47e65254","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35430/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35430/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35430/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/c2cbf279af1586f9ae5068a4c107fbccbc8597c5","head":{"label":"bersprockets:isfixedlength_issue","ref":"isfixedlength_issue","sha":"c2cbf279af1586f9ae5068a4c107fbccbc8597c5","user":{"login":"bersprockets","id":21131848,"node_id":"MDQ6VXNlcjIxMTMxODQ4","avatar_url":"https://avatars.githubusercontent.com/u/21131848?v=4","gravatar_id":"","url":"https://api.github.com/users/bersprockets","html_url":"https://github.com/bersprockets","followers_url":"https://api.github.com/users/bersprockets/followers","following_url":"https://api.github.com/users/bersprockets/following{/other_user}","gists_url":"https://api.github.com/users/bersprockets/gists{/gist_id}","starred_url":"https://api.github.com/users/bersprockets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bersprockets/subscriptions","organizations_url":"https://api.github.com/users/bersprockets/orgs","repos_url":"https://api.github.com/users/bersprockets/repos","events_url":"https://api.github.com/users/bersprockets/events{/privacy}","received_events_url":"https://api.github.com/users/bersprockets/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":115567071,"node_id":"MDEwOlJlcG9zaXRvcnkxMTU1NjcwNzE=","name":"spark","full_name":"bersprockets/spark","private":false,"owner":{"login":"bersprockets","id":21131848,"node_id":"MDQ6VXNlcjIxMTMxODQ4","avatar_url":"https://avatars.githubusercontent.com/u/21131848?v=4","gravatar_id":"","url":"https://api.github.com/users/bersprockets","html_url":"https://github.com/bersprockets","followers_url":"https://api.github.com/users/bersprockets/followers","following_url":"https://api.github.com/users/bersprockets/following{/other_user}","gists_url":"https://api.github.com/users/bersprockets/gists{/gist_id}","starred_url":"https://api.github.com/users/bersprockets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bersprockets/subscriptions","organizations_url":"https://api.github.com/users/bersprockets/orgs","repos_url":"https://api.github.com/users/bersprockets/repos","events_url":"https://api.github.com/users/bersprockets/events{/privacy}","received_events_url":"https://api.github.com/users/bersprockets/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bersprockets/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/bersprockets/spark","forks_url":"https://api.github.com/repos/bersprockets/spark/forks","keys_url":"https://api.github.com/repos/bersprockets/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bersprockets/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bersprockets/spark/teams","hooks_url":"https://api.github.com/repos/bersprockets/spark/hooks","issue_events_url":"https://api.github.com/repos/bersprockets/spark/issues/events{/number}","events_url":"https://api.github.com/repos/bersprockets/spark/events","assignees_url":"https://api.github.com/repos/bersprockets/spark/assignees{/user}","branches_url":"https://api.github.com/repos/bersprockets/spark/branches{/branch}","tags_url":"https://api.github.com/repos/bersprockets/spark/tags","blobs_url":"https://api.github.com/repos/bersprockets/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bersprockets/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bersprockets/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/bersprockets/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bersprockets/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/bersprockets/spark/languages","stargazers_url":"https://api.github.com/repos/bersprockets/spark/stargazers","contributors_url":"https://api.github.com/repos/bersprockets/spark/contributors","subscribers_url":"https://api.github.com/repos/bersprockets/spark/subscribers","subscription_url":"https://api.github.com/repos/bersprockets/spark/subscription","commits_url":"https://api.github.com/repos/bersprockets/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/bersprockets/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/bersprockets/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/bersprockets/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/bersprockets/spark/contents/{+path}","compare_url":"https://api.github.com/repos/bersprockets/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bersprockets/spark/merges","archive_url":"https://api.github.com/repos/bersprockets/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bersprockets/spark/downloads","issues_url":"https://api.github.com/repos/bersprockets/spark/issues{/number}","pulls_url":"https://api.github.com/repos/bersprockets/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/bersprockets/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/bersprockets/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bersprockets/spark/labels{/name}","releases_url":"https://api.github.com/repos/bersprockets/spark/releases{/id}","deployments_url":"https://api.github.com/repos/bersprockets/spark/deployments","created_at":"2017-12-28T00:03:24Z","updated_at":"2025-01-24T22:51:50Z","pushed_at":"2025-01-24T22:51:35Z","git_url":"git://github.com/bersprockets/spark.git","ssh_url":"git@github.com:bersprockets/spark.git","clone_url":"https://github.com/bersprockets/spark.git","svn_url":"https://github.com/bersprockets/spark","homepage":null,"size":475116,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"65c0bdf499b81c9febfc1591ec94ebf4c72c92c7","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35430"},"html":{"href":"https://github.com/apache/spark/pull/35430"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35430"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35430/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35430/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35430/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/c2cbf279af1586f9ae5068a4c107fbccbc8597c5"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35429","id":842250473,"node_id":"PR_kwDOAQXtWs4yM7jp","html_url":"https://github.com/apache/spark/pull/35429","diff_url":"https://github.com/apache/spark/pull/35429.diff","patch_url":"https://github.com/apache/spark/pull/35429.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35429","number":35429,"state":"closed","locked":false,"title":"[SPARK-37410][PYTHON][ML] Inline hints for pyspark.ml.recommendation","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nThis PR migrates type `pyspark.ml.recommendation` annotations from stub file to inline type hints.\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nPart of ongoing migration of type hints.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nExisting tests.\r\n","created_at":"2022-02-07T23:07:33Z","updated_at":"2022-02-17T10:19:12Z","closed_at":"2022-02-17T10:18:27Z","merged_at":null,"merge_commit_sha":"b060ed46607343caf1eaafd44748cbc6a80d2885","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35429/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35429/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35429/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/5c3b519cb11358035e4b08b688edf4852afc288e","head":{"label":"zero323:SPARK-37410","ref":"SPARK-37410","sha":"5c3b519cb11358035e4b08b688edf4852afc288e","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":43824676,"node_id":"MDEwOlJlcG9zaXRvcnk0MzgyNDY3Ng==","name":"spark","full_name":"zero323/spark","private":false,"owner":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zero323/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zero323/spark","forks_url":"https://api.github.com/repos/zero323/spark/forks","keys_url":"https://api.github.com/repos/zero323/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zero323/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zero323/spark/teams","hooks_url":"https://api.github.com/repos/zero323/spark/hooks","issue_events_url":"https://api.github.com/repos/zero323/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zero323/spark/events","assignees_url":"https://api.github.com/repos/zero323/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zero323/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zero323/spark/tags","blobs_url":"https://api.github.com/repos/zero323/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zero323/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zero323/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zero323/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zero323/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zero323/spark/languages","stargazers_url":"https://api.github.com/repos/zero323/spark/stargazers","contributors_url":"https://api.github.com/repos/zero323/spark/contributors","subscribers_url":"https://api.github.com/repos/zero323/spark/subscribers","subscription_url":"https://api.github.com/repos/zero323/spark/subscription","commits_url":"https://api.github.com/repos/zero323/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zero323/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zero323/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zero323/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zero323/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zero323/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zero323/spark/merges","archive_url":"https://api.github.com/repos/zero323/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zero323/spark/downloads","issues_url":"https://api.github.com/repos/zero323/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zero323/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zero323/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zero323/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zero323/spark/labels{/name}","releases_url":"https://api.github.com/repos/zero323/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zero323/spark/deployments","created_at":"2015-10-07T15:16:38Z","updated_at":"2025-02-05T16:45:39Z","pushed_at":"2025-02-05T16:44:26Z","git_url":"git://github.com/zero323/spark.git","ssh_url":"git@github.com:zero323/spark.git","clone_url":"https://github.com/zero323/spark.git","svn_url":"https://github.com/zero323/spark","homepage":null,"size":438263,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"598461498192ab71233c03183d47b609bf375f9a","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35429"},"html":{"href":"https://github.com/apache/spark/pull/35429"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35429"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35429/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35429/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35429/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/5c3b519cb11358035e4b08b688edf4852afc288e"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35428","id":842091648,"node_id":"PR_kwDOAQXtWs4yMUyA","html_url":"https://github.com/apache/spark/pull/35428","diff_url":"https://github.com/apache/spark/pull/35428.diff","patch_url":"https://github.com/apache/spark/pull/35428.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35428","number":35428,"state":"closed","locked":false,"title":"[SPARK-38132][SQL] Remove `NotPropagation` rule","user":{"login":"kazuyukitanimura","id":129050,"node_id":"MDQ6VXNlcjEyOTA1MA==","avatar_url":"https://avatars.githubusercontent.com/u/129050?v=4","gravatar_id":"","url":"https://api.github.com/users/kazuyukitanimura","html_url":"https://github.com/kazuyukitanimura","followers_url":"https://api.github.com/users/kazuyukitanimura/followers","following_url":"https://api.github.com/users/kazuyukitanimura/following{/other_user}","gists_url":"https://api.github.com/users/kazuyukitanimura/gists{/gist_id}","starred_url":"https://api.github.com/users/kazuyukitanimura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kazuyukitanimura/subscriptions","organizations_url":"https://api.github.com/users/kazuyukitanimura/orgs","repos_url":"https://api.github.com/users/kazuyukitanimura/repos","events_url":"https://api.github.com/users/kazuyukitanimura/events{/privacy}","received_events_url":"https://api.github.com/users/kazuyukitanimura/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis is a follow-up PR to mitigate the bug introduced by SPARK-36665. This PR removes `NotPropagation` optimization for now until we find a better approach.\r\n\r\n\r\n### Why are the changes needed?\r\n`NotPropagation` optimization previously broke `RewritePredicateSubquery` so that it does not properly rewrite the predicate to a NULL-aware left anti join anymore. \r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n### How was this patch tested?\r\nExisting tests","created_at":"2022-02-07T19:33:19Z","updated_at":"2022-02-08T01:48:28Z","closed_at":"2022-02-08T00:18:16Z","merged_at":null,"merge_commit_sha":"f12125000a97e90346409c17999488df62019ad9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35428/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35428/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35428/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/ea3e18bbcf6f2aefb3800b106d0b2e559de82123","head":{"label":"kazuyukitanimura:SPARK-36665-fix","ref":"SPARK-36665-fix","sha":"ea3e18bbcf6f2aefb3800b106d0b2e559de82123","user":{"login":"kazuyukitanimura","id":129050,"node_id":"MDQ6VXNlcjEyOTA1MA==","avatar_url":"https://avatars.githubusercontent.com/u/129050?v=4","gravatar_id":"","url":"https://api.github.com/users/kazuyukitanimura","html_url":"https://github.com/kazuyukitanimura","followers_url":"https://api.github.com/users/kazuyukitanimura/followers","following_url":"https://api.github.com/users/kazuyukitanimura/following{/other_user}","gists_url":"https://api.github.com/users/kazuyukitanimura/gists{/gist_id}","starred_url":"https://api.github.com/users/kazuyukitanimura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kazuyukitanimura/subscriptions","organizations_url":"https://api.github.com/users/kazuyukitanimura/orgs","repos_url":"https://api.github.com/users/kazuyukitanimura/repos","events_url":"https://api.github.com/users/kazuyukitanimura/events{/privacy}","received_events_url":"https://api.github.com/users/kazuyukitanimura/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":394523815,"node_id":"MDEwOlJlcG9zaXRvcnkzOTQ1MjM4MTU=","name":"spark","full_name":"kazuyukitanimura/spark","private":false,"owner":{"login":"kazuyukitanimura","id":129050,"node_id":"MDQ6VXNlcjEyOTA1MA==","avatar_url":"https://avatars.githubusercontent.com/u/129050?v=4","gravatar_id":"","url":"https://api.github.com/users/kazuyukitanimura","html_url":"https://github.com/kazuyukitanimura","followers_url":"https://api.github.com/users/kazuyukitanimura/followers","following_url":"https://api.github.com/users/kazuyukitanimura/following{/other_user}","gists_url":"https://api.github.com/users/kazuyukitanimura/gists{/gist_id}","starred_url":"https://api.github.com/users/kazuyukitanimura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kazuyukitanimura/subscriptions","organizations_url":"https://api.github.com/users/kazuyukitanimura/orgs","repos_url":"https://api.github.com/users/kazuyukitanimura/repos","events_url":"https://api.github.com/users/kazuyukitanimura/events{/privacy}","received_events_url":"https://api.github.com/users/kazuyukitanimura/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/kazuyukitanimura/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/kazuyukitanimura/spark","forks_url":"https://api.github.com/repos/kazuyukitanimura/spark/forks","keys_url":"https://api.github.com/repos/kazuyukitanimura/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/kazuyukitanimura/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/kazuyukitanimura/spark/teams","hooks_url":"https://api.github.com/repos/kazuyukitanimura/spark/hooks","issue_events_url":"https://api.github.com/repos/kazuyukitanimura/spark/issues/events{/number}","events_url":"https://api.github.com/repos/kazuyukitanimura/spark/events","assignees_url":"https://api.github.com/repos/kazuyukitanimura/spark/assignees{/user}","branches_url":"https://api.github.com/repos/kazuyukitanimura/spark/branches{/branch}","tags_url":"https://api.github.com/repos/kazuyukitanimura/spark/tags","blobs_url":"https://api.github.com/repos/kazuyukitanimura/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/kazuyukitanimura/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/kazuyukitanimura/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/kazuyukitanimura/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/kazuyukitanimura/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/kazuyukitanimura/spark/languages","stargazers_url":"https://api.github.com/repos/kazuyukitanimura/spark/stargazers","contributors_url":"https://api.github.com/repos/kazuyukitanimura/spark/contributors","subscribers_url":"https://api.github.com/repos/kazuyukitanimura/spark/subscribers","subscription_url":"https://api.github.com/repos/kazuyukitanimura/spark/subscription","commits_url":"https://api.github.com/repos/kazuyukitanimura/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/kazuyukitanimura/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/kazuyukitanimura/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/kazuyukitanimura/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/kazuyukitanimura/spark/contents/{+path}","compare_url":"https://api.github.com/repos/kazuyukitanimura/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/kazuyukitanimura/spark/merges","archive_url":"https://api.github.com/repos/kazuyukitanimura/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/kazuyukitanimura/spark/downloads","issues_url":"https://api.github.com/repos/kazuyukitanimura/spark/issues{/number}","pulls_url":"https://api.github.com/repos/kazuyukitanimura/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/kazuyukitanimura/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/kazuyukitanimura/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/kazuyukitanimura/spark/labels{/name}","releases_url":"https://api.github.com/repos/kazuyukitanimura/spark/releases{/id}","deployments_url":"https://api.github.com/repos/kazuyukitanimura/spark/deployments","created_at":"2021-08-10T04:27:28Z","updated_at":"2022-01-06T07:42:44Z","pushed_at":"2024-10-16T19:12:15Z","git_url":"git://github.com/kazuyukitanimura/spark.git","ssh_url":"git@github.com:kazuyukitanimura/spark.git","clone_url":"https://github.com/kazuyukitanimura/spark.git","svn_url":"https://github.com/kazuyukitanimura/spark","homepage":"https://spark.apache.org/","size":408882,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"65c0bdf499b81c9febfc1591ec94ebf4c72c92c7","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35428"},"html":{"href":"https://github.com/apache/spark/pull/35428"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35428"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35428/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35428/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35428/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/ea3e18bbcf6f2aefb3800b106d0b2e559de82123"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35427","id":841934322,"node_id":"PR_kwDOAQXtWs4yLuXy","html_url":"https://github.com/apache/spark/pull/35427","diff_url":"https://github.com/apache/spark/pull/35427.diff","patch_url":"https://github.com/apache/spark/pull/35427.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35427","number":35427,"state":"closed","locked":false,"title":"[SPARK-37411][PYTHON][ML] Inline hints for pyspark.ml.regression","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nThis PR migrates type `pyspark.ml.regression` annotations from stub file to inline type hints.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nPart of ongoing migration of type hints.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nExisting tests.\r\n","created_at":"2022-02-07T16:36:03Z","updated_at":"2022-02-17T00:48:53Z","closed_at":"2022-02-17T00:48:31Z","merged_at":null,"merge_commit_sha":"5b0d95b399d326ec1e8d311dee45b3d83cd92836","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35427/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35427/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35427/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/79e48f6f1116204a44a2ee7e1f0f36defd39f084","head":{"label":"zero323:SPARK-37411","ref":"SPARK-37411","sha":"79e48f6f1116204a44a2ee7e1f0f36defd39f084","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":43824676,"node_id":"MDEwOlJlcG9zaXRvcnk0MzgyNDY3Ng==","name":"spark","full_name":"zero323/spark","private":false,"owner":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zero323/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zero323/spark","forks_url":"https://api.github.com/repos/zero323/spark/forks","keys_url":"https://api.github.com/repos/zero323/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zero323/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zero323/spark/teams","hooks_url":"https://api.github.com/repos/zero323/spark/hooks","issue_events_url":"https://api.github.com/repos/zero323/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zero323/spark/events","assignees_url":"https://api.github.com/repos/zero323/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zero323/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zero323/spark/tags","blobs_url":"https://api.github.com/repos/zero323/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zero323/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zero323/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zero323/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zero323/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zero323/spark/languages","stargazers_url":"https://api.github.com/repos/zero323/spark/stargazers","contributors_url":"https://api.github.com/repos/zero323/spark/contributors","subscribers_url":"https://api.github.com/repos/zero323/spark/subscribers","subscription_url":"https://api.github.com/repos/zero323/spark/subscription","commits_url":"https://api.github.com/repos/zero323/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zero323/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zero323/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zero323/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zero323/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zero323/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zero323/spark/merges","archive_url":"https://api.github.com/repos/zero323/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zero323/spark/downloads","issues_url":"https://api.github.com/repos/zero323/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zero323/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zero323/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zero323/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zero323/spark/labels{/name}","releases_url":"https://api.github.com/repos/zero323/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zero323/spark/deployments","created_at":"2015-10-07T15:16:38Z","updated_at":"2025-02-05T16:45:39Z","pushed_at":"2025-02-05T16:44:26Z","git_url":"git://github.com/zero323/spark.git","ssh_url":"git@github.com:zero323/spark.git","clone_url":"https://github.com/zero323/spark.git","svn_url":"https://github.com/zero323/spark","homepage":null,"size":438263,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"598461498192ab71233c03183d47b609bf375f9a","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35427"},"html":{"href":"https://github.com/apache/spark/pull/35427"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35427"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35427/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35427/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35427/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/79e48f6f1116204a44a2ee7e1f0f36defd39f084"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35426","id":841687837,"node_id":"PR_kwDOAQXtWs4yKyMd","html_url":"https://github.com/apache/spark/pull/35426","diff_url":"https://github.com/apache/spark/pull/35426.diff","patch_url":"https://github.com/apache/spark/pull/35426.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35426","number":35426,"state":"closed","locked":false,"title":"[SPARK-38130][SQL] Remove array_sort orderable entries check","user":{"login":"steven-aerts","id":1381633,"node_id":"MDQ6VXNlcjEzODE2MzM=","avatar_url":"https://avatars.githubusercontent.com/u/1381633?v=4","gravatar_id":"","url":"https://api.github.com/users/steven-aerts","html_url":"https://github.com/steven-aerts","followers_url":"https://api.github.com/users/steven-aerts/followers","following_url":"https://api.github.com/users/steven-aerts/following{/other_user}","gists_url":"https://api.github.com/users/steven-aerts/gists{/gist_id}","starred_url":"https://api.github.com/users/steven-aerts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steven-aerts/subscriptions","organizations_url":"https://api.github.com/users/steven-aerts/orgs","repos_url":"https://api.github.com/users/steven-aerts/repos","events_url":"https://api.github.com/users/steven-aerts/events{/privacy}","received_events_url":"https://api.github.com/users/steven-aerts/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"The check in array_sort to check for orderable items can be removed.  As\r\nit is possible to pass a lambda to make the items orderable:\r\n\r\n   Seq((Array[Map[String, Int]](Map(\"a\" -> 1), Map()), \"x\")).toDF(\"a\", \"b\")\r\n     .selectExpr(\"array_sort(a, (x,y) -> cardinality(x) - cardinality(y))\")\r\n\r\nAnd for the cases where it is relevant the check is never hit as the\r\nLessThan operator has a similar check which is evaluated first:\r\n\r\n> due to data type mismatch: LessThan does not support ordering on type map<string,int>\r\n\r\n### What changes were proposed in this pull request?\r\n\r\nRemove a check which prevents you to sort an array with non-orderable items, with a lambda which makes everything orderable.\r\n\r\n\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n### How was this patch tested?\r\n\r\nExtra test was added.\r\n","created_at":"2022-02-07T12:45:40Z","updated_at":"2022-02-15T17:43:18Z","closed_at":"2022-02-15T17:43:18Z","merged_at":null,"merge_commit_sha":"8d188a325d2d32c2e5f59f3d6cce7ac7805fef38","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35426/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35426/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35426/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/1df7465191156664cf5fd5c109e0c98fcf852c7f","head":{"label":"steven-aerts:SPARK-38130","ref":"SPARK-38130","sha":"1df7465191156664cf5fd5c109e0c98fcf852c7f","user":{"login":"steven-aerts","id":1381633,"node_id":"MDQ6VXNlcjEzODE2MzM=","avatar_url":"https://avatars.githubusercontent.com/u/1381633?v=4","gravatar_id":"","url":"https://api.github.com/users/steven-aerts","html_url":"https://github.com/steven-aerts","followers_url":"https://api.github.com/users/steven-aerts/followers","following_url":"https://api.github.com/users/steven-aerts/following{/other_user}","gists_url":"https://api.github.com/users/steven-aerts/gists{/gist_id}","starred_url":"https://api.github.com/users/steven-aerts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steven-aerts/subscriptions","organizations_url":"https://api.github.com/users/steven-aerts/orgs","repos_url":"https://api.github.com/users/steven-aerts/repos","events_url":"https://api.github.com/users/steven-aerts/events{/privacy}","received_events_url":"https://api.github.com/users/steven-aerts/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":228390865,"node_id":"MDEwOlJlcG9zaXRvcnkyMjgzOTA4NjU=","name":"spark","full_name":"steven-aerts/spark","private":false,"owner":{"login":"steven-aerts","id":1381633,"node_id":"MDQ6VXNlcjEzODE2MzM=","avatar_url":"https://avatars.githubusercontent.com/u/1381633?v=4","gravatar_id":"","url":"https://api.github.com/users/steven-aerts","html_url":"https://github.com/steven-aerts","followers_url":"https://api.github.com/users/steven-aerts/followers","following_url":"https://api.github.com/users/steven-aerts/following{/other_user}","gists_url":"https://api.github.com/users/steven-aerts/gists{/gist_id}","starred_url":"https://api.github.com/users/steven-aerts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steven-aerts/subscriptions","organizations_url":"https://api.github.com/users/steven-aerts/orgs","repos_url":"https://api.github.com/users/steven-aerts/repos","events_url":"https://api.github.com/users/steven-aerts/events{/privacy}","received_events_url":"https://api.github.com/users/steven-aerts/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/steven-aerts/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/steven-aerts/spark","forks_url":"https://api.github.com/repos/steven-aerts/spark/forks","keys_url":"https://api.github.com/repos/steven-aerts/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/steven-aerts/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/steven-aerts/spark/teams","hooks_url":"https://api.github.com/repos/steven-aerts/spark/hooks","issue_events_url":"https://api.github.com/repos/steven-aerts/spark/issues/events{/number}","events_url":"https://api.github.com/repos/steven-aerts/spark/events","assignees_url":"https://api.github.com/repos/steven-aerts/spark/assignees{/user}","branches_url":"https://api.github.com/repos/steven-aerts/spark/branches{/branch}","tags_url":"https://api.github.com/repos/steven-aerts/spark/tags","blobs_url":"https://api.github.com/repos/steven-aerts/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/steven-aerts/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/steven-aerts/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/steven-aerts/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/steven-aerts/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/steven-aerts/spark/languages","stargazers_url":"https://api.github.com/repos/steven-aerts/spark/stargazers","contributors_url":"https://api.github.com/repos/steven-aerts/spark/contributors","subscribers_url":"https://api.github.com/repos/steven-aerts/spark/subscribers","subscription_url":"https://api.github.com/repos/steven-aerts/spark/subscription","commits_url":"https://api.github.com/repos/steven-aerts/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/steven-aerts/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/steven-aerts/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/steven-aerts/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/steven-aerts/spark/contents/{+path}","compare_url":"https://api.github.com/repos/steven-aerts/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/steven-aerts/spark/merges","archive_url":"https://api.github.com/repos/steven-aerts/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/steven-aerts/spark/downloads","issues_url":"https://api.github.com/repos/steven-aerts/spark/issues{/number}","pulls_url":"https://api.github.com/repos/steven-aerts/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/steven-aerts/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/steven-aerts/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/steven-aerts/spark/labels{/name}","releases_url":"https://api.github.com/repos/steven-aerts/spark/releases{/id}","deployments_url":"https://api.github.com/repos/steven-aerts/spark/deployments","created_at":"2019-12-16T13:14:39Z","updated_at":"2021-07-02T05:38:02Z","pushed_at":"2025-01-30T14:37:08Z","git_url":"git://github.com/steven-aerts/spark.git","ssh_url":"git@github.com:steven-aerts/spark.git","clone_url":"https://github.com/steven-aerts/spark.git","svn_url":"https://github.com/steven-aerts/spark","homepage":"","size":451350,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c7ee7cd1be59465a8a8a8dc7d04a6df5907c5b09","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35426"},"html":{"href":"https://github.com/apache/spark/pull/35426"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35426"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35426/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35426/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35426/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/1df7465191156664cf5fd5c109e0c98fcf852c7f"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35425","id":841620805,"node_id":"PR_kwDOAQXtWs4yKh1F","html_url":"https://github.com/apache/spark/pull/35425","diff_url":"https://github.com/apache/spark/pull/35425.diff","patch_url":"https://github.com/apache/spark/pull/35425.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35425","number":35425,"state":"closed","locked":false,"title":"[SPARK-38129][SQL] Adaptively enable timeout for BroadcastQueryStageExec in AQE","user":{"login":"weixiuli","id":39684231,"node_id":"MDQ6VXNlcjM5Njg0MjMx","avatar_url":"https://avatars.githubusercontent.com/u/39684231?v=4","gravatar_id":"","url":"https://api.github.com/users/weixiuli","html_url":"https://github.com/weixiuli","followers_url":"https://api.github.com/users/weixiuli/followers","following_url":"https://api.github.com/users/weixiuli/following{/other_user}","gists_url":"https://api.github.com/users/weixiuli/gists{/gist_id}","starred_url":"https://api.github.com/users/weixiuli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weixiuli/subscriptions","organizations_url":"https://api.github.com/users/weixiuli/orgs","repos_url":"https://api.github.com/users/weixiuli/repos","events_url":"https://api.github.com/users/weixiuli/events{/privacy}","received_events_url":"https://api.github.com/users/weixiuli/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nIn the [SPARK-36414](https://issues.apache.org/jira/browse/SPARK-36414), it disabled timeout for all BroadcastQueryStageExecs in AQE,  there may be a regression in AQE when a BroadcastQueryStageExec doesn't come from shuffle query stages, such as a large table misjudged a small one in broadcastHashJoin，and broadcasting the table may take a long time which is no better than SortMergeJoin(when the job timeout and rerun it with spark.sql.autoBroadcastJoinThreshold=-1), and the timeout is necessary for BroadcastQueryStageExec in this case.\r\n\r\nSo, we should disable timeout for BroadcastQueryStageExec when it comes from shuffle query stages which runtime statistics are usually correct in AQE, but should enable timeout for it when it comes from others which statistics may be incorrect, and keep it the same as non-AQE.\r\n\r\n### Why are the changes needed?\r\n\r\nAvoid regression in AQE \r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nAdd unittests.\r\n","created_at":"2022-02-07T11:32:12Z","updated_at":"2022-05-24T00:21:20Z","closed_at":"2022-05-24T00:21:20Z","merged_at":null,"merge_commit_sha":"ed6d02485ced5ef59ab1cb228592839457651c3a","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35425/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35425/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35425/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3e5a4000070b63949b06ace805be994f4257dfbe","head":{"label":"weixiuli:SPARK-38129-broadcast-timout","ref":"SPARK-38129-broadcast-timout","sha":"3e5a4000070b63949b06ace805be994f4257dfbe","user":{"login":"weixiuli","id":39684231,"node_id":"MDQ6VXNlcjM5Njg0MjMx","avatar_url":"https://avatars.githubusercontent.com/u/39684231?v=4","gravatar_id":"","url":"https://api.github.com/users/weixiuli","html_url":"https://github.com/weixiuli","followers_url":"https://api.github.com/users/weixiuli/followers","following_url":"https://api.github.com/users/weixiuli/following{/other_user}","gists_url":"https://api.github.com/users/weixiuli/gists{/gist_id}","starred_url":"https://api.github.com/users/weixiuli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weixiuli/subscriptions","organizations_url":"https://api.github.com/users/weixiuli/orgs","repos_url":"https://api.github.com/users/weixiuli/repos","events_url":"https://api.github.com/users/weixiuli/events{/privacy}","received_events_url":"https://api.github.com/users/weixiuli/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":140506691,"node_id":"MDEwOlJlcG9zaXRvcnkxNDA1MDY2OTE=","name":"spark","full_name":"weixiuli/spark","private":false,"owner":{"login":"weixiuli","id":39684231,"node_id":"MDQ6VXNlcjM5Njg0MjMx","avatar_url":"https://avatars.githubusercontent.com/u/39684231?v=4","gravatar_id":"","url":"https://api.github.com/users/weixiuli","html_url":"https://github.com/weixiuli","followers_url":"https://api.github.com/users/weixiuli/followers","following_url":"https://api.github.com/users/weixiuli/following{/other_user}","gists_url":"https://api.github.com/users/weixiuli/gists{/gist_id}","starred_url":"https://api.github.com/users/weixiuli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weixiuli/subscriptions","organizations_url":"https://api.github.com/users/weixiuli/orgs","repos_url":"https://api.github.com/users/weixiuli/repos","events_url":"https://api.github.com/users/weixiuli/events{/privacy}","received_events_url":"https://api.github.com/users/weixiuli/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/weixiuli/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/weixiuli/spark","forks_url":"https://api.github.com/repos/weixiuli/spark/forks","keys_url":"https://api.github.com/repos/weixiuli/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/weixiuli/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/weixiuli/spark/teams","hooks_url":"https://api.github.com/repos/weixiuli/spark/hooks","issue_events_url":"https://api.github.com/repos/weixiuli/spark/issues/events{/number}","events_url":"https://api.github.com/repos/weixiuli/spark/events","assignees_url":"https://api.github.com/repos/weixiuli/spark/assignees{/user}","branches_url":"https://api.github.com/repos/weixiuli/spark/branches{/branch}","tags_url":"https://api.github.com/repos/weixiuli/spark/tags","blobs_url":"https://api.github.com/repos/weixiuli/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/weixiuli/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/weixiuli/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/weixiuli/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/weixiuli/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/weixiuli/spark/languages","stargazers_url":"https://api.github.com/repos/weixiuli/spark/stargazers","contributors_url":"https://api.github.com/repos/weixiuli/spark/contributors","subscribers_url":"https://api.github.com/repos/weixiuli/spark/subscribers","subscription_url":"https://api.github.com/repos/weixiuli/spark/subscription","commits_url":"https://api.github.com/repos/weixiuli/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/weixiuli/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/weixiuli/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/weixiuli/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/weixiuli/spark/contents/{+path}","compare_url":"https://api.github.com/repos/weixiuli/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/weixiuli/spark/merges","archive_url":"https://api.github.com/repos/weixiuli/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/weixiuli/spark/downloads","issues_url":"https://api.github.com/repos/weixiuli/spark/issues{/number}","pulls_url":"https://api.github.com/repos/weixiuli/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/weixiuli/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/weixiuli/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/weixiuli/spark/labels{/name}","releases_url":"https://api.github.com/repos/weixiuli/spark/releases{/id}","deployments_url":"https://api.github.com/repos/weixiuli/spark/deployments","created_at":"2018-07-11T01:41:23Z","updated_at":"2021-12-04T07:08:38Z","pushed_at":"2022-09-13T11:48:55Z","git_url":"git://github.com/weixiuli/spark.git","ssh_url":"git@github.com:weixiuli/spark.git","clone_url":"https://github.com/weixiuli/spark.git","svn_url":"https://github.com/weixiuli/spark","homepage":null,"size":416133,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"e98f13e4a4eaf4719e85ba881c894cbc8377c363","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35425"},"html":{"href":"https://github.com/apache/spark/pull/35425"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35425"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35425/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35425/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35425/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3e5a4000070b63949b06ace805be994f4257dfbe"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35424","id":841588873,"node_id":"PR_kwDOAQXtWs4yKaCJ","html_url":"https://github.com/apache/spark/pull/35424","diff_url":"https://github.com/apache/spark/pull/35424.diff","patch_url":"https://github.com/apache/spark/pull/35424.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35424","number":35424,"state":"closed","locked":false,"title":"[WIP][SPARK-38116] Add auto commit option to JDBC PostgreSQL driver and set the option false default","user":{"login":"yoda-mon","id":14937752,"node_id":"MDQ6VXNlcjE0OTM3NzUy","avatar_url":"https://avatars.githubusercontent.com/u/14937752?v=4","gravatar_id":"","url":"https://api.github.com/users/yoda-mon","html_url":"https://github.com/yoda-mon","followers_url":"https://api.github.com/users/yoda-mon/followers","following_url":"https://api.github.com/users/yoda-mon/following{/other_user}","gists_url":"https://api.github.com/users/yoda-mon/gists{/gist_id}","starred_url":"https://api.github.com/users/yoda-mon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yoda-mon/subscriptions","organizations_url":"https://api.github.com/users/yoda-mon/orgs","repos_url":"https://api.github.com/users/yoda-mon/repos","events_url":"https://api.github.com/users/yoda-mon/events{/privacy}","received_events_url":"https://api.github.com/users/yoda-mon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nAdd `autoCommit` option to JDBC connector  for fetch operations and set false as default.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nBy default auto commit option set to true and it consume huge resource when reading large datasets from Postgres.\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes, users can chose autocommit to true or false when reading from Postgres\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n\r\n-->\r\n```\r\nbuild/sbt\r\nproject sql\r\ntestOnly *Postgres*\r\n```","created_at":"2022-02-07T10:58:54Z","updated_at":"2022-05-21T00:19:24Z","closed_at":"2022-05-21T00:19:24Z","merged_at":null,"merge_commit_sha":"2851c9b2e97e705443ccc4e57e4db9e381e27624","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35424/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35424/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35424/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/565bdf4aff706d1433a7804ca10fa568e55f0a99","head":{"label":"yoda-mon:spark-38116","ref":"spark-38116","sha":"565bdf4aff706d1433a7804ca10fa568e55f0a99","user":{"login":"yoda-mon","id":14937752,"node_id":"MDQ6VXNlcjE0OTM3NzUy","avatar_url":"https://avatars.githubusercontent.com/u/14937752?v=4","gravatar_id":"","url":"https://api.github.com/users/yoda-mon","html_url":"https://github.com/yoda-mon","followers_url":"https://api.github.com/users/yoda-mon/followers","following_url":"https://api.github.com/users/yoda-mon/following{/other_user}","gists_url":"https://api.github.com/users/yoda-mon/gists{/gist_id}","starred_url":"https://api.github.com/users/yoda-mon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yoda-mon/subscriptions","organizations_url":"https://api.github.com/users/yoda-mon/orgs","repos_url":"https://api.github.com/users/yoda-mon/repos","events_url":"https://api.github.com/users/yoda-mon/events{/privacy}","received_events_url":"https://api.github.com/users/yoda-mon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":383314645,"node_id":"MDEwOlJlcG9zaXRvcnkzODMzMTQ2NDU=","name":"spark","full_name":"yoda-mon/spark","private":false,"owner":{"login":"yoda-mon","id":14937752,"node_id":"MDQ6VXNlcjE0OTM3NzUy","avatar_url":"https://avatars.githubusercontent.com/u/14937752?v=4","gravatar_id":"","url":"https://api.github.com/users/yoda-mon","html_url":"https://github.com/yoda-mon","followers_url":"https://api.github.com/users/yoda-mon/followers","following_url":"https://api.github.com/users/yoda-mon/following{/other_user}","gists_url":"https://api.github.com/users/yoda-mon/gists{/gist_id}","starred_url":"https://api.github.com/users/yoda-mon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yoda-mon/subscriptions","organizations_url":"https://api.github.com/users/yoda-mon/orgs","repos_url":"https://api.github.com/users/yoda-mon/repos","events_url":"https://api.github.com/users/yoda-mon/events{/privacy}","received_events_url":"https://api.github.com/users/yoda-mon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/yoda-mon/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/yoda-mon/spark","forks_url":"https://api.github.com/repos/yoda-mon/spark/forks","keys_url":"https://api.github.com/repos/yoda-mon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/yoda-mon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/yoda-mon/spark/teams","hooks_url":"https://api.github.com/repos/yoda-mon/spark/hooks","issue_events_url":"https://api.github.com/repos/yoda-mon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/yoda-mon/spark/events","assignees_url":"https://api.github.com/repos/yoda-mon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/yoda-mon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/yoda-mon/spark/tags","blobs_url":"https://api.github.com/repos/yoda-mon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/yoda-mon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/yoda-mon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/yoda-mon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/yoda-mon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/yoda-mon/spark/languages","stargazers_url":"https://api.github.com/repos/yoda-mon/spark/stargazers","contributors_url":"https://api.github.com/repos/yoda-mon/spark/contributors","subscribers_url":"https://api.github.com/repos/yoda-mon/spark/subscribers","subscription_url":"https://api.github.com/repos/yoda-mon/spark/subscription","commits_url":"https://api.github.com/repos/yoda-mon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/yoda-mon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/yoda-mon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/yoda-mon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/yoda-mon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/yoda-mon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/yoda-mon/spark/merges","archive_url":"https://api.github.com/repos/yoda-mon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/yoda-mon/spark/downloads","issues_url":"https://api.github.com/repos/yoda-mon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/yoda-mon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/yoda-mon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/yoda-mon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/yoda-mon/spark/labels{/name}","releases_url":"https://api.github.com/repos/yoda-mon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/yoda-mon/spark/deployments","created_at":"2021-07-06T02:18:47Z","updated_at":"2021-12-08T07:33:08Z","pushed_at":"2022-02-07T10:28:32Z","git_url":"git://github.com/yoda-mon/spark.git","ssh_url":"git@github.com:yoda-mon/spark.git","clone_url":"https://github.com/yoda-mon/spark.git","svn_url":"https://github.com/yoda-mon/spark","homepage":"https://spark.apache.org/","size":401527,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":1,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"e98f13e4a4eaf4719e85ba881c894cbc8377c363","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35424"},"html":{"href":"https://github.com/apache/spark/pull/35424"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35424"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35424/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35424/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35424/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/565bdf4aff706d1433a7804ca10fa568e55f0a99"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35423","id":841567675,"node_id":"PR_kwDOAQXtWs4yKU27","html_url":"https://github.com/apache/spark/pull/35423","diff_url":"https://github.com/apache/spark/pull/35423.diff","patch_url":"https://github.com/apache/spark/pull/35423.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35423","number":35423,"state":"closed","locked":false,"title":"[SPARK-38128][PYTHON][TESTS] Show full stacktrace in tests by default in PySpark tests","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR proposes to show full stacktrace of Python worker and JVM in PySpark by controlling `spark.sql.pyspark.jvmStacktrace.enabled` and `spark.sql.execution.pyspark.udf.simplifiedTraceback.enabled` only in tests.\r\n\r\n### Why are the changes needed?\r\n\r\n[SPARK-33407](https://issues.apache.org/jira/browse/SPARK-33407) and [SPARK-31849](https://issues.apache.org/jira/browse/SPARK-31849) hide Java stacktrace and internal Python worker side traceback by default for simpler error messages to end users. However, specifically for unit tests, that makes a bit harder to debug the test failures. We should probably show the full stacktrace by default in tests.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo, this is test only.\r\n\r\n### How was this patch tested?\r\n\r\nManually tested. Now the test failures show the logs as below:\r\n\r\n**Before:**\r\n\r\n```\r\n=====================================================================\r\nERROR [3.480s]: test (pyspark.sql.tests.test_functions.FunctionsTests)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  ...\r\npyspark.sql.utils.PythonException:\r\n  An exception was thrown from the Python worker. Please see the stack trace below.\r\nTraceback (most recent call last):\r\n  File \"/.../pyspark/sql/tests/test_functions.py\", line 60, in <lambda>\r\n    self.spark.range(1).select(udf(lambda x: x / 0)(\"id\")).show()\r\nZeroDivisionError: division by zero\r\n\r\n\r\n----------------------------------------------------------------------\r\nRan 1 test in 12.468s\r\n\r\nFAILED (errors=1)\r\n```\r\n\r\n**After:**\r\n\r\n```\r\n======================================================================\r\nERROR [3.259s]: test (pyspark.sql.tests.test_functions.FunctionsTests)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  ...\r\npyspark.sql.utils.PythonException:\r\n  An exception was thrown from the Python worker. Please see the stack trace below.\r\nTraceback (most recent call last):\r\n  File \"/.../pyspark/worker.py\", line 678, in main\r\n    process()\r\n  File \"/.../pyspark/worker.py\", line 670, in process\r\n    serializer.dump_stream(out_iter, outfile)\r\n  File \"/.../lib/pyspark/serializers.py\", line 217, in dump_stream\r\n    self.serializer.dump_stream(self._batched(iterator), stream)\r\n  ...\r\nZeroDivisionError: division by zero\r\n\r\n\r\nJVM stacktrace:\r\n...\r\n\tat org.apache.spark.api.python.BasePythonRunner$ReaderIterator.handlePythonException(PythonRunner.scala:558)\r\n\tat org.apache.spark.sql.execution.python.PythonUDFRunner$$anon$2.read(PythonUDFRunner.scala:86)\r\n\tat org.apache.spark.sql.execution.python.PythonUDFRunner$$anon$2.read(PythonUDFRunner.scala:68)\r\n\tat org.apache.spark.api.python.BasePythonRunner$ReaderIterator.hasNext(PythonRunner.scala:511)\r\n\tat org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\r\n...\r\n\r\nDriver stacktrace:\r\n...\r\n\r\nCaused by: org.apache.spark.api.python.PythonException: Traceback (most recent call last):\r\n\t... 1 more\r\n\r\n----------------------------------------------------------------------\r\nRan 1 test in 12.610s\r\n\r\nFAILED (errors=1)\r\n```\r\n","created_at":"2022-02-07T10:34:40Z","updated_at":"2024-01-15T00:50:48Z","closed_at":"2022-02-07T12:18:10Z","merged_at":null,"merge_commit_sha":"dcba58f1e7561526d98445ae86050a598eebd858","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35423/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35423/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35423/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/eb99e863b1457cf26b7a1060ff6c8ee6912a7e60","head":{"label":"HyukjinKwon:SPARK-38128","ref":"SPARK-38128","sha":"eb99e863b1457cf26b7a1060ff6c8ee6912a7e60","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"e98f13e4a4eaf4719e85ba881c894cbc8377c363","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35423"},"html":{"href":"https://github.com/apache/spark/pull/35423"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35423"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35423/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35423/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35423/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/eb99e863b1457cf26b7a1060ff6c8ee6912a7e60"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35422","id":841518668,"node_id":"PR_kwDOAQXtWs4yKI5M","html_url":"https://github.com/apache/spark/pull/35422","diff_url":"https://github.com/apache/spark/pull/35422.diff","patch_url":"https://github.com/apache/spark/pull/35422.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35422","number":35422,"state":"closed","locked":false,"title":"[SPARK-36061][K8S] Add `volcano` module and feature step","user":{"login":"Yikun","id":1736354,"node_id":"MDQ6VXNlcjE3MzYzNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1736354?v=4","gravatar_id":"","url":"https://api.github.com/users/Yikun","html_url":"https://github.com/Yikun","followers_url":"https://api.github.com/users/Yikun/followers","following_url":"https://api.github.com/users/Yikun/following{/other_user}","gists_url":"https://api.github.com/users/Yikun/gists{/gist_id}","starred_url":"https://api.github.com/users/Yikun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yikun/subscriptions","organizations_url":"https://api.github.com/users/Yikun/orgs","repos_url":"https://api.github.com/users/Yikun/repos","events_url":"https://api.github.com/users/Yikun/events{/privacy}","received_events_url":"https://api.github.com/users/Yikun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis patch added volcano feature step to help user integrate spark with Volcano Scheduler.\r\n- Add a VolcanoFeatureStep, it can be used in driver and executor side.\r\n\r\nAfter this patch, users can enable this featurestep by submiting job by using\r\n```shell\r\n--conf spark.kubernete.driver.scheduler.name=volcano \\\r\n--conf spark.kubernetes.driver.pod.featureSteps=org.apache.spark.deploy.k8s.features.scheduler.VolcanoFeatureStep\r\n```\r\n\r\nA PodGroup will be created before driver started, annotations will be set to driver pod to added driver pod to this pod group. Then, Volcano scheduler will help driver pod scheduling instead of deafult kubernetes scheduler.\r\n\r\n### Why are the changes needed?\r\n\r\nThis PR help user integrate Spark with Volcano Scheduler.\r\n\r\nSee also: [SPARK-36057](https://issues.apache.org/jira/browse/SPARK-36057)\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, introduced a user feature step.\r\n\r\nThese are used by `VolcanoFeatureStep`, and also will be used by `YunikornFeatureStep` in future.\r\n\r\n### How was this patch tested?\r\n- UT\r\n- Integration test: Test without -Pvolcano (make sure exsiting integration test passed)\r\n```bash\r\n# 1. Test without -Pvolcano (make sure exsiting integration test passed)\r\n# SBT\r\nbuild/sbt -Pkubernetes -Pkubernetes-integration-tests -Dtest.exclude.tags=minikube,r \"kubernetes-integration-tests/test\"\r\n# Maven\r\nresource-managers/kubernetes/integration-tests/dev/dev-run-integration-tests.sh --exclude-tags minikube,r\r\n```\r\n- Integration test: Test all VolcanoSuite (all kubernetes test with volcano + a new podgroup test) and KubernetesSuite\r\n```bash\r\n# Deploy Volcano (x86)\r\nkubectl apply -f https://raw.githubusercontent.com/volcano-sh/volcano/master/installer/volcano-development.yaml\r\n# Deploy Volcano (arm64)\r\nkubectl apply -f https://raw.githubusercontent.com/volcano-sh/volcano/master/installer/volcano-development-arm64.yaml\r\n# Test all VolcanoSuite (all kubernetes test with volcano + a new podgroup test) and KubernetesSuite\r\nbuild/sbt -Pvolcano -Pkubernetes -Pkubernetes-integration-tests -Dtest.exclude.tags=minikube,r \"kubernetes-integration-tests/test\"\r\n```","created_at":"2022-02-07T09:43:59Z","updated_at":"2022-02-16T09:12:40Z","closed_at":"2022-02-16T09:00:47Z","merged_at":null,"merge_commit_sha":"76f2cd6b300b68c6dd26b9793a5c074be7353922","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406605057,"node_id":"MDU6TGFiZWwxNDA2NjA1MDU3","url":"https://api.github.com/repos/apache/spark/labels/KUBERNETES","name":"KUBERNETES","color":"ededed","default":false,"description":null},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null},{"id":1982110661,"node_id":"MDU6TGFiZWwxOTgyMTEwNjYx","url":"https://api.github.com/repos/apache/spark/labels/INFRA","name":"INFRA","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35422/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35422/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35422/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/503b4ed98095aa06691c4991d7918fb90934c94c","head":{"label":"Yikun:SPARK-36061-vc-step","ref":"SPARK-36061-vc-step","sha":"503b4ed98095aa06691c4991d7918fb90934c94c","user":{"login":"Yikun","id":1736354,"node_id":"MDQ6VXNlcjE3MzYzNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1736354?v=4","gravatar_id":"","url":"https://api.github.com/users/Yikun","html_url":"https://github.com/Yikun","followers_url":"https://api.github.com/users/Yikun/followers","following_url":"https://api.github.com/users/Yikun/following{/other_user}","gists_url":"https://api.github.com/users/Yikun/gists{/gist_id}","starred_url":"https://api.github.com/users/Yikun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yikun/subscriptions","organizations_url":"https://api.github.com/users/Yikun/orgs","repos_url":"https://api.github.com/users/Yikun/repos","events_url":"https://api.github.com/users/Yikun/events{/privacy}","received_events_url":"https://api.github.com/users/Yikun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":335541670,"node_id":"MDEwOlJlcG9zaXRvcnkzMzU1NDE2NzA=","name":"spark","full_name":"Yikun/spark","private":false,"owner":{"login":"Yikun","id":1736354,"node_id":"MDQ6VXNlcjE3MzYzNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1736354?v=4","gravatar_id":"","url":"https://api.github.com/users/Yikun","html_url":"https://github.com/Yikun","followers_url":"https://api.github.com/users/Yikun/followers","following_url":"https://api.github.com/users/Yikun/following{/other_user}","gists_url":"https://api.github.com/users/Yikun/gists{/gist_id}","starred_url":"https://api.github.com/users/Yikun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yikun/subscriptions","organizations_url":"https://api.github.com/users/Yikun/orgs","repos_url":"https://api.github.com/users/Yikun/repos","events_url":"https://api.github.com/users/Yikun/events{/privacy}","received_events_url":"https://api.github.com/users/Yikun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Yikun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/Yikun/spark","forks_url":"https://api.github.com/repos/Yikun/spark/forks","keys_url":"https://api.github.com/repos/Yikun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Yikun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Yikun/spark/teams","hooks_url":"https://api.github.com/repos/Yikun/spark/hooks","issue_events_url":"https://api.github.com/repos/Yikun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/Yikun/spark/events","assignees_url":"https://api.github.com/repos/Yikun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/Yikun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/Yikun/spark/tags","blobs_url":"https://api.github.com/repos/Yikun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Yikun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Yikun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/Yikun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Yikun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/Yikun/spark/languages","stargazers_url":"https://api.github.com/repos/Yikun/spark/stargazers","contributors_url":"https://api.github.com/repos/Yikun/spark/contributors","subscribers_url":"https://api.github.com/repos/Yikun/spark/subscribers","subscription_url":"https://api.github.com/repos/Yikun/spark/subscription","commits_url":"https://api.github.com/repos/Yikun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/Yikun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/Yikun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/Yikun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/Yikun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/Yikun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Yikun/spark/merges","archive_url":"https://api.github.com/repos/Yikun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Yikun/spark/downloads","issues_url":"https://api.github.com/repos/Yikun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/Yikun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/Yikun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/Yikun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Yikun/spark/labels{/name}","releases_url":"https://api.github.com/repos/Yikun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/Yikun/spark/deployments","created_at":"2021-02-03T07:25:58Z","updated_at":"2022-01-13T12:26:18Z","pushed_at":"2023-01-28T06:50:14Z","git_url":"git://github.com/Yikun/spark.git","ssh_url":"git@github.com:Yikun/spark.git","clone_url":"https://github.com/Yikun/spark.git","svn_url":"https://github.com/Yikun/spark","homepage":"https://spark.apache.org/","size":452564,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":1,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"3d285c11b611e63d6ebb0b209f52d6ec7a61debe","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35422"},"html":{"href":"https://github.com/apache/spark/pull/35422"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35422"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35422/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35422/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35422/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/503b4ed98095aa06691c4991d7918fb90934c94c"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35421","id":841509164,"node_id":"PR_kwDOAQXtWs4yKGks","html_url":"https://github.com/apache/spark/pull/35421","diff_url":"https://github.com/apache/spark/pull/35421.diff","patch_url":"https://github.com/apache/spark/pull/35421.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35421","number":35421,"state":"closed","locked":false,"title":"[MINOR] Force showing jvm side error stack trace in ML testing log","user":{"login":"WeichenXu123","id":19235986,"node_id":"MDQ6VXNlcjE5MjM1OTg2","avatar_url":"https://avatars.githubusercontent.com/u/19235986?v=4","gravatar_id":"","url":"https://api.github.com/users/WeichenXu123","html_url":"https://github.com/WeichenXu123","followers_url":"https://api.github.com/users/WeichenXu123/followers","following_url":"https://api.github.com/users/WeichenXu123/following{/other_user}","gists_url":"https://api.github.com/users/WeichenXu123/gists{/gist_id}","starred_url":"https://api.github.com/users/WeichenXu123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeichenXu123/subscriptions","organizations_url":"https://api.github.com/users/WeichenXu123/orgs","repos_url":"https://api.github.com/users/WeichenXu123/repos","events_url":"https://api.github.com/users/WeichenXu123/events{/privacy}","received_events_url":"https://api.github.com/users/WeichenXu123/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\nForce showing jvm side error stack trace in ML testing log\r\n\r\n\r\n### Why are the changes needed?\r\nMake debug failed/flaky test easier.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nN/A","created_at":"2022-02-07T09:33:09Z","updated_at":"2022-02-07T10:36:09Z","closed_at":"2022-02-07T10:36:09Z","merged_at":null,"merge_commit_sha":"4af1dbcfcf08c4966ac5dbfb0d7b704ce80a88c6","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35421/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35421/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35421/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/7821326524d9398ac6cc8c9f7f3277a87cea076e","head":{"label":"WeichenXu123:raise_error_in_ml_test","ref":"raise_error_in_ml_test","sha":"7821326524d9398ac6cc8c9f7f3277a87cea076e","user":{"login":"WeichenXu123","id":19235986,"node_id":"MDQ6VXNlcjE5MjM1OTg2","avatar_url":"https://avatars.githubusercontent.com/u/19235986?v=4","gravatar_id":"","url":"https://api.github.com/users/WeichenXu123","html_url":"https://github.com/WeichenXu123","followers_url":"https://api.github.com/users/WeichenXu123/followers","following_url":"https://api.github.com/users/WeichenXu123/following{/other_user}","gists_url":"https://api.github.com/users/WeichenXu123/gists{/gist_id}","starred_url":"https://api.github.com/users/WeichenXu123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeichenXu123/subscriptions","organizations_url":"https://api.github.com/users/WeichenXu123/orgs","repos_url":"https://api.github.com/users/WeichenXu123/repos","events_url":"https://api.github.com/users/WeichenXu123/events{/privacy}","received_events_url":"https://api.github.com/users/WeichenXu123/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":58255485,"node_id":"MDEwOlJlcG9zaXRvcnk1ODI1NTQ4NQ==","name":"spark","full_name":"WeichenXu123/spark","private":false,"owner":{"login":"WeichenXu123","id":19235986,"node_id":"MDQ6VXNlcjE5MjM1OTg2","avatar_url":"https://avatars.githubusercontent.com/u/19235986?v=4","gravatar_id":"","url":"https://api.github.com/users/WeichenXu123","html_url":"https://github.com/WeichenXu123","followers_url":"https://api.github.com/users/WeichenXu123/followers","following_url":"https://api.github.com/users/WeichenXu123/following{/other_user}","gists_url":"https://api.github.com/users/WeichenXu123/gists{/gist_id}","starred_url":"https://api.github.com/users/WeichenXu123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeichenXu123/subscriptions","organizations_url":"https://api.github.com/users/WeichenXu123/orgs","repos_url":"https://api.github.com/users/WeichenXu123/repos","events_url":"https://api.github.com/users/WeichenXu123/events{/privacy}","received_events_url":"https://api.github.com/users/WeichenXu123/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/WeichenXu123/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/WeichenXu123/spark","forks_url":"https://api.github.com/repos/WeichenXu123/spark/forks","keys_url":"https://api.github.com/repos/WeichenXu123/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/WeichenXu123/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/WeichenXu123/spark/teams","hooks_url":"https://api.github.com/repos/WeichenXu123/spark/hooks","issue_events_url":"https://api.github.com/repos/WeichenXu123/spark/issues/events{/number}","events_url":"https://api.github.com/repos/WeichenXu123/spark/events","assignees_url":"https://api.github.com/repos/WeichenXu123/spark/assignees{/user}","branches_url":"https://api.github.com/repos/WeichenXu123/spark/branches{/branch}","tags_url":"https://api.github.com/repos/WeichenXu123/spark/tags","blobs_url":"https://api.github.com/repos/WeichenXu123/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/WeichenXu123/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/WeichenXu123/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/WeichenXu123/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/WeichenXu123/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/WeichenXu123/spark/languages","stargazers_url":"https://api.github.com/repos/WeichenXu123/spark/stargazers","contributors_url":"https://api.github.com/repos/WeichenXu123/spark/contributors","subscribers_url":"https://api.github.com/repos/WeichenXu123/spark/subscribers","subscription_url":"https://api.github.com/repos/WeichenXu123/spark/subscription","commits_url":"https://api.github.com/repos/WeichenXu123/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/WeichenXu123/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/WeichenXu123/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/WeichenXu123/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/WeichenXu123/spark/contents/{+path}","compare_url":"https://api.github.com/repos/WeichenXu123/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/WeichenXu123/spark/merges","archive_url":"https://api.github.com/repos/WeichenXu123/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/WeichenXu123/spark/downloads","issues_url":"https://api.github.com/repos/WeichenXu123/spark/issues{/number}","pulls_url":"https://api.github.com/repos/WeichenXu123/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/WeichenXu123/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/WeichenXu123/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/WeichenXu123/spark/labels{/name}","releases_url":"https://api.github.com/repos/WeichenXu123/spark/releases{/id}","deployments_url":"https://api.github.com/repos/WeichenXu123/spark/deployments","created_at":"2016-05-07T07:45:37Z","updated_at":"2022-01-25T15:06:54Z","pushed_at":"2024-11-04T12:27:24Z","git_url":"git://github.com/WeichenXu123/spark.git","ssh_url":"git@github.com:WeichenXu123/spark.git","clone_url":"https://github.com/WeichenXu123/spark.git","svn_url":"https://github.com/WeichenXu123/spark","homepage":null,"size":436946,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"e98f13e4a4eaf4719e85ba881c894cbc8377c363","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35421"},"html":{"href":"https://github.com/apache/spark/pull/35421"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35421"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35421/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35421/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35421/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/7821326524d9398ac6cc8c9f7f3277a87cea076e"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35420","id":841487310,"node_id":"PR_kwDOAQXtWs4yKBPO","html_url":"https://github.com/apache/spark/pull/35420","diff_url":"https://github.com/apache/spark/pull/35420.diff","patch_url":"https://github.com/apache/spark/pull/35420.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35420","number":35420,"state":"closed","locked":false,"title":"[SPARK-37413][PYTHON] Inline type hints for python/pyspark/ml/tree.py","user":{"login":"dchvn","id":91461145,"node_id":"MDQ6VXNlcjkxNDYxMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/91461145?v=4","gravatar_id":"","url":"https://api.github.com/users/dchvn","html_url":"https://github.com/dchvn","followers_url":"https://api.github.com/users/dchvn/followers","following_url":"https://api.github.com/users/dchvn/following{/other_user}","gists_url":"https://api.github.com/users/dchvn/gists{/gist_id}","starred_url":"https://api.github.com/users/dchvn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dchvn/subscriptions","organizations_url":"https://api.github.com/users/dchvn/orgs","repos_url":"https://api.github.com/users/dchvn/repos","events_url":"https://api.github.com/users/dchvn/events{/privacy}","received_events_url":"https://api.github.com/users/dchvn/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->Inline type hints for python/pyspark/ml/tree.py\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->We can take advantage of static type checking within the functions by inlining the type hints.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->No\r\n\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->Existing tests\r\n","created_at":"2022-02-07T09:11:56Z","updated_at":"2022-02-15T13:21:49Z","closed_at":"2022-02-15T13:13:26Z","merged_at":null,"merge_commit_sha":"d858eae049a1f6f3d00b9416e8ef3b79cfb33205","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35420/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35420/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35420/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/6806119210a7a3ad913c630bdf5030f09cb05f43","head":{"label":"dchvn:SPARK-37413","ref":"SPARK-37413","sha":"6806119210a7a3ad913c630bdf5030f09cb05f43","user":{"login":"dchvn","id":91461145,"node_id":"MDQ6VXNlcjkxNDYxMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/91461145?v=4","gravatar_id":"","url":"https://api.github.com/users/dchvn","html_url":"https://github.com/dchvn","followers_url":"https://api.github.com/users/dchvn/followers","following_url":"https://api.github.com/users/dchvn/following{/other_user}","gists_url":"https://api.github.com/users/dchvn/gists{/gist_id}","starred_url":"https://api.github.com/users/dchvn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dchvn/subscriptions","organizations_url":"https://api.github.com/users/dchvn/orgs","repos_url":"https://api.github.com/users/dchvn/repos","events_url":"https://api.github.com/users/dchvn/events{/privacy}","received_events_url":"https://api.github.com/users/dchvn/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":412688061,"node_id":"R_kgDOGJkevQ","name":"spark","full_name":"dchvn/spark","private":false,"owner":{"login":"dchvn","id":91461145,"node_id":"MDQ6VXNlcjkxNDYxMTQ1","avatar_url":"https://avatars.githubusercontent.com/u/91461145?v=4","gravatar_id":"","url":"https://api.github.com/users/dchvn","html_url":"https://github.com/dchvn","followers_url":"https://api.github.com/users/dchvn/followers","following_url":"https://api.github.com/users/dchvn/following{/other_user}","gists_url":"https://api.github.com/users/dchvn/gists{/gist_id}","starred_url":"https://api.github.com/users/dchvn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dchvn/subscriptions","organizations_url":"https://api.github.com/users/dchvn/orgs","repos_url":"https://api.github.com/users/dchvn/repos","events_url":"https://api.github.com/users/dchvn/events{/privacy}","received_events_url":"https://api.github.com/users/dchvn/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dchvn/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/dchvn/spark","forks_url":"https://api.github.com/repos/dchvn/spark/forks","keys_url":"https://api.github.com/repos/dchvn/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dchvn/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dchvn/spark/teams","hooks_url":"https://api.github.com/repos/dchvn/spark/hooks","issue_events_url":"https://api.github.com/repos/dchvn/spark/issues/events{/number}","events_url":"https://api.github.com/repos/dchvn/spark/events","assignees_url":"https://api.github.com/repos/dchvn/spark/assignees{/user}","branches_url":"https://api.github.com/repos/dchvn/spark/branches{/branch}","tags_url":"https://api.github.com/repos/dchvn/spark/tags","blobs_url":"https://api.github.com/repos/dchvn/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dchvn/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dchvn/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/dchvn/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dchvn/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/dchvn/spark/languages","stargazers_url":"https://api.github.com/repos/dchvn/spark/stargazers","contributors_url":"https://api.github.com/repos/dchvn/spark/contributors","subscribers_url":"https://api.github.com/repos/dchvn/spark/subscribers","subscription_url":"https://api.github.com/repos/dchvn/spark/subscription","commits_url":"https://api.github.com/repos/dchvn/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/dchvn/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/dchvn/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/dchvn/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/dchvn/spark/contents/{+path}","compare_url":"https://api.github.com/repos/dchvn/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dchvn/spark/merges","archive_url":"https://api.github.com/repos/dchvn/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dchvn/spark/downloads","issues_url":"https://api.github.com/repos/dchvn/spark/issues{/number}","pulls_url":"https://api.github.com/repos/dchvn/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/dchvn/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/dchvn/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dchvn/spark/labels{/name}","releases_url":"https://api.github.com/repos/dchvn/spark/releases{/id}","deployments_url":"https://api.github.com/repos/dchvn/spark/deployments","created_at":"2021-10-02T04:20:44Z","updated_at":"2022-01-11T01:39:41Z","pushed_at":"2022-04-18T06:34:52Z","git_url":"git://github.com/dchvn/spark.git","ssh_url":"git@github.com:dchvn/spark.git","clone_url":"https://github.com/dchvn/spark.git","svn_url":"https://github.com/dchvn/spark","homepage":"https://spark.apache.org/","size":413409,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"0ae8c39da4917fdb07d0a019732b644406307525","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35420"},"html":{"href":"https://github.com/apache/spark/pull/35420"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35420"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35420/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35420/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35420/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/6806119210a7a3ad913c630bdf5030f09cb05f43"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35419","id":841449472,"node_id":"PR_kwDOAQXtWs4yJ4AA","html_url":"https://github.com/apache/spark/pull/35419","diff_url":"https://github.com/apache/spark/pull/35419.diff","patch_url":"https://github.com/apache/spark/pull/35419.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35419","number":35419,"state":"closed","locked":false,"title":"[SPARK-38124][SQL][SS] Introduce StatefulOpClusteredDistribution and apply to stream-stream join","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR revives `HashClusteredDistribution` and renames to `StatefulOpClusteredDistribution` so that the rationalization of the distribution is clear from the name. Renaming is safe because this class no longer needs to be general one - in SPARK-35703 we moved out the usages of `HashClusteredDistribution` to `ClusteredDistribution`; stateful operators are exceptions.\r\n\r\nOnly `HashPartitioning` with same expressions and number of partitions can satisfy `StatefulOpClusteredDistribution`. That said, we cannot modify `HashPartitioning` unless we clone `HashPartitioning` and assign the clone to `StatefulOpClusteredDistribution`.\r\n\r\nThis PR documents the expectation of stateful operator on partitioning in the classdoc of `StatefulOpClusteredDistribution`.\r\n\r\nThis PR also changes stream-stream join to use `StatefulOpClusteredDistribution` instead of `ClusteredDistribution`. This effectively reverts a part of SPARK-35703 which hasn't been shipped to any releases. This PR doesn't deal with other stateful operators since it has been long standing issue (probably Spark 2.2.0+) and we need a plan for dealing with existing state.\r\n\r\n### Why are the changes needed?\r\n\r\nSpark does not guarantee stable physical partitioning for stateful operators across query lifetime, and due to the relaxed distribution requirement it is hard to expect what would be the current physical partitioning of the state.\r\n(We expect hash partitioning with grouping keys, but ClusteredDistribution does not \"guarantee\" the partitioning. It is much more relaxed.)\r\n\r\nThis PR will enforce the physical partitioning of stream-stream join operators to be hash partition with grouping keys, which is our general expectation of state store partitioning.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo, since SPARK-35703 hasn't been shipped to any release yet.\r\n\r\n### How was this patch tested?\r\n\r\nExisting tests.","created_at":"2022-02-07T08:28:55Z","updated_at":"2022-02-14T11:08:05Z","closed_at":"2022-02-08T23:32:43Z","merged_at":null,"merge_commit_sha":"8a33a2a97ff8cfdfa7c3902e3e485ee9f4f84e8d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35419/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35419/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35419/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/753a5b6c62c88f1a9e0318ebcd655cb04beee058","head":{"label":"HeartSaVioR:SPARK-38124","ref":"SPARK-38124","sha":"753a5b6c62c88f1a9e0318ebcd655cb04beee058","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":27994296,"node_id":"MDEwOlJlcG9zaXRvcnkyNzk5NDI5Ng==","name":"spark","full_name":"HeartSaVioR/spark","private":false,"owner":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HeartSaVioR/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HeartSaVioR/spark","forks_url":"https://api.github.com/repos/HeartSaVioR/spark/forks","keys_url":"https://api.github.com/repos/HeartSaVioR/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HeartSaVioR/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HeartSaVioR/spark/teams","hooks_url":"https://api.github.com/repos/HeartSaVioR/spark/hooks","issue_events_url":"https://api.github.com/repos/HeartSaVioR/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HeartSaVioR/spark/events","assignees_url":"https://api.github.com/repos/HeartSaVioR/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HeartSaVioR/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HeartSaVioR/spark/tags","blobs_url":"https://api.github.com/repos/HeartSaVioR/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HeartSaVioR/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HeartSaVioR/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HeartSaVioR/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HeartSaVioR/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HeartSaVioR/spark/languages","stargazers_url":"https://api.github.com/repos/HeartSaVioR/spark/stargazers","contributors_url":"https://api.github.com/repos/HeartSaVioR/spark/contributors","subscribers_url":"https://api.github.com/repos/HeartSaVioR/spark/subscribers","subscription_url":"https://api.github.com/repos/HeartSaVioR/spark/subscription","commits_url":"https://api.github.com/repos/HeartSaVioR/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HeartSaVioR/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HeartSaVioR/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HeartSaVioR/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HeartSaVioR/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HeartSaVioR/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HeartSaVioR/spark/merges","archive_url":"https://api.github.com/repos/HeartSaVioR/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HeartSaVioR/spark/downloads","issues_url":"https://api.github.com/repos/HeartSaVioR/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HeartSaVioR/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HeartSaVioR/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HeartSaVioR/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HeartSaVioR/spark/labels{/name}","releases_url":"https://api.github.com/repos/HeartSaVioR/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HeartSaVioR/spark/deployments","created_at":"2014-12-14T12:56:04Z","updated_at":"2024-10-21T04:36:36Z","pushed_at":"2025-01-08T06:13:27Z","git_url":"git://github.com/HeartSaVioR/spark.git","ssh_url":"git@github.com:HeartSaVioR/spark.git","clone_url":"https://github.com/HeartSaVioR/spark.git","svn_url":"https://github.com/HeartSaVioR/spark","homepage":null,"size":456164,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":1,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"2e703ae9d210d26573b849a9a88c55667b24127d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35419"},"html":{"href":"https://github.com/apache/spark/pull/35419"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35419"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35419/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35419/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35419/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/753a5b6c62c88f1a9e0318ebcd655cb04beee058"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35418","id":841448822,"node_id":"PR_kwDOAQXtWs4yJ312","html_url":"https://github.com/apache/spark/pull/35418","diff_url":"https://github.com/apache/spark/pull/35418.diff","patch_url":"https://github.com/apache/spark/pull/35418.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35418","number":35418,"state":"closed","locked":false,"title":"[SPARK-38127][SQL][TESTS] Fix bug of `EnumTypeSetBenchmark` and update benchmark result","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n`EnumTypeSetBenchmark`  use to compare the `create` and `contains` performance of `EnumSet` and `HashSet`.Before this PR, there are some logical errors in the bench case, for example `testContainsOperation `:\r\n\r\nhttps://github.com/apache/spark/blob/9d0563733bacc39ffbb7a07e5d3fc6de71d0cfb3/sql/catalyst/src/test/scala/org/apache/spark/sql/connector/catalog/EnumTypeSetBenchmark.scala#L102-L110\r\n\r\n`Use HashSet` circulates 100000 times(`valuesPerIteration `is 100000) and  `Use EnumSet` circulates only once.\r\n\r\nSo this pr fix this bug and update benchmark result. \r\n\r\n\r\n### Why are the changes needed?\r\nBug fix.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nPass GA\r\n","created_at":"2022-02-07T08:28:14Z","updated_at":"2023-10-22T07:44:09Z","closed_at":"2022-02-08T05:04:38Z","merged_at":null,"merge_commit_sha":"928812e70b85fd40c2d9de872df7bcc634ca1b08","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35418/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35418/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35418/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/2220470c4f075ed5d68487383c9bf6054c4fdbb3","head":{"label":"LuciferYang:Fix-EnumTypeSetBenchmark","ref":"Fix-EnumTypeSetBenchmark","sha":"2220470c4f075ed5d68487383c9bf6054c4fdbb3","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"93a4ed042feb0d82781bcc7578e9820355061609","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35418"},"html":{"href":"https://github.com/apache/spark/pull/35418"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35418"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35418/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35418/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35418/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/2220470c4f075ed5d68487383c9bf6054c4fdbb3"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35417","id":841422052,"node_id":"PR_kwDOAQXtWs4yJxTk","html_url":"https://github.com/apache/spark/pull/35417","diff_url":"https://github.com/apache/spark/pull/35417.diff","patch_url":"https://github.com/apache/spark/pull/35417.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35417","number":35417,"state":"closed","locked":false,"title":"[SPARK-38102][CORE] Support custom commitProtocolClass in saveAsNewAPIHadoopDataset","user":{"login":"ocworld","id":13185662,"node_id":"MDQ6VXNlcjEzMTg1NjYy","avatar_url":"https://avatars.githubusercontent.com/u/13185662?v=4","gravatar_id":"","url":"https://api.github.com/users/ocworld","html_url":"https://github.com/ocworld","followers_url":"https://api.github.com/users/ocworld/followers","following_url":"https://api.github.com/users/ocworld/following{/other_user}","gists_url":"https://api.github.com/users/ocworld/gists{/gist_id}","starred_url":"https://api.github.com/users/ocworld/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ocworld/subscriptions","organizations_url":"https://api.github.com/users/ocworld/orgs","repos_url":"https://api.github.com/users/ocworld/repos","events_url":"https://api.github.com/users/ocworld/events{/privacy}","received_events_url":"https://api.github.com/users/ocworld/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis is a follow-up PR to [SPARK-38102]\r\n\r\nIt is needed to support custom commitProtocolClass class when using saveAsNewAPIHadoopDataset by an option. For example,\r\n\r\n```\r\nspark.hadoop.mapreduce.sources.commitProtocolClass org.apache.spark.internal.io.cloud.PathOutputCommitProtocol\r\n```\r\n\r\n### Why are the changes needed?\r\nThere is no way to apply spark-hadoop-cloud's commitProtocolClass when using saveAsNewAPIHadoopDataset that are to avoid object storage's problem.\r\n\r\nhttps://spark.apache.org/docs/latest/cloud-integration.html\r\n\r\n### Does this PR introduce any user-facing change?\r\nYes. The option is added that is spark.hadoop.mapreduce.sources.commitProtocolClass \r\n\r\n### How was this patch tested?\r\nunittest","created_at":"2022-02-07T07:57:32Z","updated_at":"2022-06-07T00:15:45Z","closed_at":"2022-06-07T00:15:45Z","merged_at":null,"merge_commit_sha":"c6e736fbd108cba2e12806aba08a1b76f7867b41","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35417/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35417/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35417/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9449c8e854d28f2cbfbf463df2523b763235db00","head":{"label":"ocworld:SPARK-38102-saveAsNewAPIHadoop-custom-commitProtocolClass","ref":"SPARK-38102-saveAsNewAPIHadoop-custom-commitProtocolClass","sha":"9449c8e854d28f2cbfbf463df2523b763235db00","user":{"login":"ocworld","id":13185662,"node_id":"MDQ6VXNlcjEzMTg1NjYy","avatar_url":"https://avatars.githubusercontent.com/u/13185662?v=4","gravatar_id":"","url":"https://api.github.com/users/ocworld","html_url":"https://github.com/ocworld","followers_url":"https://api.github.com/users/ocworld/followers","following_url":"https://api.github.com/users/ocworld/following{/other_user}","gists_url":"https://api.github.com/users/ocworld/gists{/gist_id}","starred_url":"https://api.github.com/users/ocworld/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ocworld/subscriptions","organizations_url":"https://api.github.com/users/ocworld/orgs","repos_url":"https://api.github.com/users/ocworld/repos","events_url":"https://api.github.com/users/ocworld/events{/privacy}","received_events_url":"https://api.github.com/users/ocworld/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"29eca8c87f4e8c19c0380f7c30668fd88edee573","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35417"},"html":{"href":"https://github.com/apache/spark/pull/35417"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35417"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35417/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35417/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35417/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9449c8e854d28f2cbfbf463df2523b763235db00"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35416","id":841411304,"node_id":"PR_kwDOAQXtWs4yJuro","html_url":"https://github.com/apache/spark/pull/35416","diff_url":"https://github.com/apache/spark/pull/35416.diff","patch_url":"https://github.com/apache/spark/pull/35416.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35416","number":35416,"state":"closed","locked":false,"title":"[SPARK-38126][SQL][TESTS] Check the whole message of error classes","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nIn the PR, I propose to check the whole error messages of error classes in the test suites `Query.*ErrorsSuite`.\r\n\r\n### Why are the changes needed?\r\n1. To catch changes in error classes.\r\n2. To improve test coverage.\r\n3. Set user expectations from Spark's errors.\r\n4. The checks can be considered as documentation of error messages in tests.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n### How was this patch tested?\r\nBy running the modified test suites:\r\n```\r\n$ build/sbt \"test:testOnly *QueryParsingErrorsSuite\"\r\n$ build/sbt \"test:testOnly *QueryCompilationErrorsSuite\"\r\n$ build/sbt \"test:testOnly *QueryCompilationErrorsDSv2Suite\"\r\n$ build/sbt \"test:testOnly *QueryExecutionErrorsSuite\"\r\n```","created_at":"2022-02-07T07:39:26Z","updated_at":"2022-02-08T00:06:40Z","closed_at":"2022-02-07T16:59:05Z","merged_at":null,"merge_commit_sha":"5377ab45b0bd82be1f08e3e384600e4d32b56d7a","assignee":null,"assignees":[],"requested_reviewers":[{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35416/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35416/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35416/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/c3c868fa0e02a3f660904c6bdf144665394cfa7e","head":{"label":"MaxGekk:error-classes-check-whole-msg","ref":"error-classes-check-whole-msg","sha":"c3c868fa0e02a3f660904c6bdf144665394cfa7e","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":123690489,"node_id":"MDEwOlJlcG9zaXRvcnkxMjM2OTA0ODk=","name":"spark","full_name":"MaxGekk/spark","private":false,"owner":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/MaxGekk/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/MaxGekk/spark","forks_url":"https://api.github.com/repos/MaxGekk/spark/forks","keys_url":"https://api.github.com/repos/MaxGekk/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/MaxGekk/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/MaxGekk/spark/teams","hooks_url":"https://api.github.com/repos/MaxGekk/spark/hooks","issue_events_url":"https://api.github.com/repos/MaxGekk/spark/issues/events{/number}","events_url":"https://api.github.com/repos/MaxGekk/spark/events","assignees_url":"https://api.github.com/repos/MaxGekk/spark/assignees{/user}","branches_url":"https://api.github.com/repos/MaxGekk/spark/branches{/branch}","tags_url":"https://api.github.com/repos/MaxGekk/spark/tags","blobs_url":"https://api.github.com/repos/MaxGekk/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/MaxGekk/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/MaxGekk/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/MaxGekk/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/MaxGekk/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/MaxGekk/spark/languages","stargazers_url":"https://api.github.com/repos/MaxGekk/spark/stargazers","contributors_url":"https://api.github.com/repos/MaxGekk/spark/contributors","subscribers_url":"https://api.github.com/repos/MaxGekk/spark/subscribers","subscription_url":"https://api.github.com/repos/MaxGekk/spark/subscription","commits_url":"https://api.github.com/repos/MaxGekk/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/MaxGekk/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/MaxGekk/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/MaxGekk/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/MaxGekk/spark/contents/{+path}","compare_url":"https://api.github.com/repos/MaxGekk/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/MaxGekk/spark/merges","archive_url":"https://api.github.com/repos/MaxGekk/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/MaxGekk/spark/downloads","issues_url":"https://api.github.com/repos/MaxGekk/spark/issues{/number}","pulls_url":"https://api.github.com/repos/MaxGekk/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/MaxGekk/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/MaxGekk/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/MaxGekk/spark/labels{/name}","releases_url":"https://api.github.com/repos/MaxGekk/spark/releases{/id}","deployments_url":"https://api.github.com/repos/MaxGekk/spark/deployments","created_at":"2018-03-03T12:37:00Z","updated_at":"2025-02-07T09:44:52Z","pushed_at":"2025-02-07T09:44:24Z","git_url":"git://github.com/MaxGekk/spark.git","ssh_url":"git@github.com:MaxGekk/spark.git","clone_url":"https://github.com/MaxGekk/spark.git","svn_url":"https://github.com/MaxGekk/spark","homepage":null,"size":486456,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"93a4ed042feb0d82781bcc7578e9820355061609","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35416"},"html":{"href":"https://github.com/apache/spark/pull/35416"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35416"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35416/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35416/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35416/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/c3c868fa0e02a3f660904c6bdf144665394cfa7e"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35415","id":841407545,"node_id":"PR_kwDOAQXtWs4yJtw5","html_url":"https://github.com/apache/spark/pull/35415","diff_url":"https://github.com/apache/spark/pull/35415.diff","patch_url":"https://github.com/apache/spark/pull/35415.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35415","number":35415,"state":"closed","locked":false,"title":"[SPARK-37507][SQL] Add a new SQL function to_binary","user":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nIntroduce a SQL function `to_binary`: Converts the input string to a binary value based on the supplied format (of how to interpret the string).\r\n\r\nSyntax:\r\n```\r\nto_binary(str_column[, fmt])\r\n```\r\nwhere\r\n\r\n- `fmt` can be a case-insensitive string literal of \"hex\", \"utf-8\", \"base2\", or \"base64\".\r\n- By default, the binary format for conversion is \"hex\" if `fmt` is omitted.\r\n\r\n\r\n### Why are the changes needed?\r\n`to_binary` is a common function available in many DBMSes, for example:\r\n- [TO_VARBYTE function - Amazon Redshift](https://docs.aws.amazon.com/redshift/latest/dg/r_TO_VARBYTE.html) \r\n- [TO_BINARY — Snowflake Documentation](https://docs.snowflake.com/en/sql-reference/functions/to_binary.html) \r\n- [Expressions, functions, and operators  |  BigQuery  |  Google Cloud](https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators#format_string_as_bytes) \r\n- [Teradata Online Documentation | Quick access to technical manuals](https://docs.teradata.com/r/kmuOwjp1zEYg98JsB8fu_A/etRo5aTAY9n5fUPjxSEynw)\r\n\r\nIntroducing it improves compatibility and the ease of migration.\r\n\r\nIn addition, `to_binary` can unify existing Spark functions: `encode`, `unhex`, `unbase64`, and `binary`, which makes API easier to remember and use.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, a new function for the string to binary conversion with a specified format.\r\n\r\n### How was this patch tested?\r\nUnit test.\r\n\r\n","created_at":"2022-02-07T07:33:04Z","updated_at":"2022-02-16T04:38:28Z","closed_at":"2022-02-13T00:32:37Z","merged_at":null,"merge_commit_sha":"d4828c33b45e960d249f1f7f77faa0eeba963002","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35415/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35415/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35415/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3fd1b77ea9c2808ff0276af7feb743c68857b246","head":{"label":"xinrong-meng:to_binary","ref":"to_binary","sha":"3fd1b77ea9c2808ff0276af7feb743c68857b246","user":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":335786381,"node_id":"MDEwOlJlcG9zaXRvcnkzMzU3ODYzODE=","name":"spark","full_name":"xinrong-meng/spark","private":false,"owner":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/xinrong-meng/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/xinrong-meng/spark","forks_url":"https://api.github.com/repos/xinrong-meng/spark/forks","keys_url":"https://api.github.com/repos/xinrong-meng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xinrong-meng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xinrong-meng/spark/teams","hooks_url":"https://api.github.com/repos/xinrong-meng/spark/hooks","issue_events_url":"https://api.github.com/repos/xinrong-meng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/xinrong-meng/spark/events","assignees_url":"https://api.github.com/repos/xinrong-meng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/xinrong-meng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/xinrong-meng/spark/tags","blobs_url":"https://api.github.com/repos/xinrong-meng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xinrong-meng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xinrong-meng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/xinrong-meng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xinrong-meng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/xinrong-meng/spark/languages","stargazers_url":"https://api.github.com/repos/xinrong-meng/spark/stargazers","contributors_url":"https://api.github.com/repos/xinrong-meng/spark/contributors","subscribers_url":"https://api.github.com/repos/xinrong-meng/spark/subscribers","subscription_url":"https://api.github.com/repos/xinrong-meng/spark/subscription","commits_url":"https://api.github.com/repos/xinrong-meng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/xinrong-meng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/xinrong-meng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/xinrong-meng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/xinrong-meng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/xinrong-meng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xinrong-meng/spark/merges","archive_url":"https://api.github.com/repos/xinrong-meng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xinrong-meng/spark/downloads","issues_url":"https://api.github.com/repos/xinrong-meng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/xinrong-meng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/xinrong-meng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/xinrong-meng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xinrong-meng/spark/labels{/name}","releases_url":"https://api.github.com/repos/xinrong-meng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/xinrong-meng/spark/deployments","created_at":"2021-02-03T23:47:29Z","updated_at":"2024-09-27T08:09:06Z","pushed_at":"2025-02-08T02:14:33Z","git_url":"git://github.com/xinrong-meng/spark.git","ssh_url":"git@github.com:xinrong-meng/spark.git","clone_url":"https://github.com/xinrong-meng/spark.git","svn_url":"https://github.com/xinrong-meng/spark","homepage":"https://spark.apache.org/","size":469811,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":2,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d4a2e5c55d127218f6ae42925443f7d0588d5875","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35415"},"html":{"href":"https://github.com/apache/spark/pull/35415"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35415"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35415/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35415/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35415/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3fd1b77ea9c2808ff0276af7feb743c68857b246"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35414","id":841398389,"node_id":"PR_kwDOAQXtWs4yJrh1","html_url":"https://github.com/apache/spark/pull/35414","diff_url":"https://github.com/apache/spark/pull/35414.diff","patch_url":"https://github.com/apache/spark/pull/35414.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35414","number":35414,"state":"closed","locked":false,"title":"[SPARK-38125][BUILD][SQL] Use static factory methods instead of the deprecated `Byte/Short/Integer/Long` constructors","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR aims to use static factor methods instead of the deprecated `Integer` constructors and add Java/Scala linter rules to enforce new styles.\r\n\r\n### Why are the changes needed?\r\n\r\n`Byte/Short/Integer/Long` constructors are deprecated in Java 9.\r\n- https://docs.oracle.com/javase/9/docs/api/java/lang/Byte.html#Byte-byte-\r\n- https://docs.oracle.com/javase/9/docs/api/java/lang/Byte.html#Byte-java.lang.String-\r\n- https://docs.oracle.com/javase/9/docs/api/java/lang/Short.html#Short-short-\r\n- https://docs.oracle.com/javase/9/docs/api/java/lang/Short.html#Short-java.lang.String-\r\n- https://docs.oracle.com/javase/9/docs/api/java/lang/Integer.html#Integer-int-\r\n- https://docs.oracle.com/javase/9/docs/api/java/lang/Integer.html#Integer-java.lang.String-\r\n- https://docs.oracle.com/javase/9/docs/api/java/lang/Long.html#Long-long-\r\n- https://docs.oracle.com/javase/9/docs/api/java/lang/Long.html#Long-java.lang.String-\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nPass the CIs with the newly added Scalastyle and Java Checkstyle.","created_at":"2022-02-07T07:19:10Z","updated_at":"2022-02-11T03:18:18Z","closed_at":"2022-02-11T03:17:35Z","merged_at":null,"merge_commit_sha":"7d910bf9d7b0f56a01e0723ac998363c4763f53d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35414/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35414/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35414/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9d2aac29a98848dcb0f0ab08a71b57c478047636","head":{"label":"dongjoon-hyun:SPARK-38125","ref":"SPARK-38125","sha":"9d2aac29a98848dcb0f0ab08a71b57c478047636","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"0ae8c39da4917fdb07d0a019732b644406307525","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35414"},"html":{"href":"https://github.com/apache/spark/pull/35414"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35414"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35414/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35414/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35414/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9d2aac29a98848dcb0f0ab08a71b57c478047636"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35413","id":841355180,"node_id":"PR_kwDOAQXtWs4yJg-s","html_url":"https://github.com/apache/spark/pull/35413","diff_url":"https://github.com/apache/spark/pull/35413.diff","patch_url":"https://github.com/apache/spark/pull/35413.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35413","number":35413,"state":"closed","locked":false,"title":"[SPARK-37735][K8S][TESTS][FOLLOWUP] Remove casting to KubernetesConf in tests","user":{"login":"martin-g","id":232002,"node_id":"MDQ6VXNlcjIzMjAwMg==","avatar_url":"https://avatars.githubusercontent.com/u/232002?v=4","gravatar_id":"","url":"https://api.github.com/users/martin-g","html_url":"https://github.com/martin-g","followers_url":"https://api.github.com/users/martin-g/followers","following_url":"https://api.github.com/users/martin-g/following{/other_user}","gists_url":"https://api.github.com/users/martin-g/gists{/gist_id}","starred_url":"https://api.github.com/users/martin-g/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martin-g/subscriptions","organizations_url":"https://api.github.com/users/martin-g/orgs","repos_url":"https://api.github.com/users/martin-g/repos","events_url":"https://api.github.com/users/martin-g/events{/privacy}","received_events_url":"https://api.github.com/users/martin-g/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\n### What changes were proposed in this pull request?\r\n\r\nMinor simplification:\r\n\r\nThere is no need to cast\r\norg.apache.spark.deploy.k8s.KubernetesDriverConf/KubernetesExecutorConf to org.apache.spark.deploy.k8s.KubernetesConf in KubernetesConfSuite\r\n\r\nRelated-to: https://github.com/apache/spark/pull/35015\r\n\r\n### Why are the changes needed?\r\n\r\nSmall simplification of the test code.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo!\r\n\r\n### How was this patch tested?\r\n\r\nBuild and test KubernetesConfSuite#test(\"SPARK-37735: access appId in KubernetesConf\") {","created_at":"2022-02-07T06:13:09Z","updated_at":"2022-02-07T08:31:55Z","closed_at":"2022-02-07T07:24:58Z","merged_at":null,"merge_commit_sha":"732db589c34af9aea51d20d37cf31da766832216","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406605057,"node_id":"MDU6TGFiZWwxNDA2NjA1MDU3","url":"https://api.github.com/repos/apache/spark/labels/KUBERNETES","name":"KUBERNETES","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35413/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35413/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35413/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/e3f54e453fabee782a22f7c08f0f99f2ec94ae2c","head":{"label":"martin-g:spark-37735-remove-casting","ref":"spark-37735-remove-casting","sha":"e3f54e453fabee782a22f7c08f0f99f2ec94ae2c","user":{"login":"martin-g","id":232002,"node_id":"MDQ6VXNlcjIzMjAwMg==","avatar_url":"https://avatars.githubusercontent.com/u/232002?v=4","gravatar_id":"","url":"https://api.github.com/users/martin-g","html_url":"https://github.com/martin-g","followers_url":"https://api.github.com/users/martin-g/followers","following_url":"https://api.github.com/users/martin-g/following{/other_user}","gists_url":"https://api.github.com/users/martin-g/gists{/gist_id}","starred_url":"https://api.github.com/users/martin-g/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martin-g/subscriptions","organizations_url":"https://api.github.com/users/martin-g/orgs","repos_url":"https://api.github.com/users/martin-g/repos","events_url":"https://api.github.com/users/martin-g/events{/privacy}","received_events_url":"https://api.github.com/users/martin-g/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":454008249,"node_id":"R_kgDOGw-duQ","name":"spark","full_name":"martin-g/spark","private":false,"owner":{"login":"martin-g","id":232002,"node_id":"MDQ6VXNlcjIzMjAwMg==","avatar_url":"https://avatars.githubusercontent.com/u/232002?v=4","gravatar_id":"","url":"https://api.github.com/users/martin-g","html_url":"https://github.com/martin-g","followers_url":"https://api.github.com/users/martin-g/followers","following_url":"https://api.github.com/users/martin-g/following{/other_user}","gists_url":"https://api.github.com/users/martin-g/gists{/gist_id}","starred_url":"https://api.github.com/users/martin-g/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martin-g/subscriptions","organizations_url":"https://api.github.com/users/martin-g/orgs","repos_url":"https://api.github.com/users/martin-g/repos","events_url":"https://api.github.com/users/martin-g/events{/privacy}","received_events_url":"https://api.github.com/users/martin-g/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/martin-g/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/martin-g/spark","forks_url":"https://api.github.com/repos/martin-g/spark/forks","keys_url":"https://api.github.com/repos/martin-g/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/martin-g/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/martin-g/spark/teams","hooks_url":"https://api.github.com/repos/martin-g/spark/hooks","issue_events_url":"https://api.github.com/repos/martin-g/spark/issues/events{/number}","events_url":"https://api.github.com/repos/martin-g/spark/events","assignees_url":"https://api.github.com/repos/martin-g/spark/assignees{/user}","branches_url":"https://api.github.com/repos/martin-g/spark/branches{/branch}","tags_url":"https://api.github.com/repos/martin-g/spark/tags","blobs_url":"https://api.github.com/repos/martin-g/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/martin-g/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/martin-g/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/martin-g/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/martin-g/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/martin-g/spark/languages","stargazers_url":"https://api.github.com/repos/martin-g/spark/stargazers","contributors_url":"https://api.github.com/repos/martin-g/spark/contributors","subscribers_url":"https://api.github.com/repos/martin-g/spark/subscribers","subscription_url":"https://api.github.com/repos/martin-g/spark/subscription","commits_url":"https://api.github.com/repos/martin-g/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/martin-g/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/martin-g/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/martin-g/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/martin-g/spark/contents/{+path}","compare_url":"https://api.github.com/repos/martin-g/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/martin-g/spark/merges","archive_url":"https://api.github.com/repos/martin-g/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/martin-g/spark/downloads","issues_url":"https://api.github.com/repos/martin-g/spark/issues{/number}","pulls_url":"https://api.github.com/repos/martin-g/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/martin-g/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/martin-g/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/martin-g/spark/labels{/name}","releases_url":"https://api.github.com/repos/martin-g/spark/releases{/id}","deployments_url":"https://api.github.com/repos/martin-g/spark/deployments","created_at":"2022-01-31T13:01:36Z","updated_at":"2022-02-03T09:02:41Z","pushed_at":"2022-07-11T06:32:39Z","git_url":"git://github.com/martin-g/spark.git","ssh_url":"git@github.com:martin-g/spark.git","clone_url":"https://github.com/martin-g/spark.git","svn_url":"https://github.com/martin-g/spark","homepage":"https://spark.apache.org/","size":423975,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"26138a4a3a0968885de5316108f0d1164139e357","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35413"},"html":{"href":"https://github.com/apache/spark/pull/35413"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35413"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35413/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35413/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35413/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/e3f54e453fabee782a22f7c08f0f99f2ec94ae2c"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35412","id":841341131,"node_id":"PR_kwDOAQXtWs4yJdjL","html_url":"https://github.com/apache/spark/pull/35412","diff_url":"https://github.com/apache/spark/pull/35412.diff","patch_url":"https://github.com/apache/spark/pull/35412.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35412","number":35412,"state":"closed","locked":false,"title":"[SPARK-38123][SQL] Unified use `DataType` as `targetType` of `QueryExecutionErrors#castingCauseOverflowError`","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nSPARK-33541 introduces `QueryExecutionErrors#castingCauseOverflowError` and there are 2 ways for input parameter `targetType` in Spark code now:\r\n\r\n- Use `DataType.catalogString` as `targetType`, such as use in `Cast.scala` and `IntervalUtils.scala`\r\n- Use custom literal such as `short`,`int` and `long` in `Decimal.scala` and `numberics.scala`\r\n\r\nThis pr change to unified use `DataType` as the `targetType`.\r\n\r\nAnother change of this pr is to change the `targetType` from `int` to `LongType.catalogString` when `FloatExactNumeric#toLong` method throw castingCauseOverflowError, this seems to be a issue left over from history.\r\n\r\n### Why are the changes needed?\r\nUnified use `DataType` as `targetType` when throwing castingCauseOverflowError and bug fix\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nPass GA","created_at":"2022-02-07T05:47:28Z","updated_at":"2023-10-22T07:44:45Z","closed_at":"2022-02-10T09:56:26Z","merged_at":null,"merge_commit_sha":"d46d6a3fed0dadd2737b246a51e6c4868b5e12fa","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35412/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35412/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35412/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/7dcfafe611230335889fa135512dda0d84b6e919","head":{"label":"LuciferYang:use-catalogString","ref":"use-catalogString","sha":"7dcfafe611230335889fa135512dda0d84b6e919","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"3d736d978cdaf345d81833a6216d41464fa86c69","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35412"},"html":{"href":"https://github.com/apache/spark/pull/35412"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35412"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35412/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35412/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35412/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/7dcfafe611230335889fa135512dda0d84b6e919"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35411","id":841333575,"node_id":"PR_kwDOAQXtWs4yJbtH","html_url":"https://github.com/apache/spark/pull/35411","diff_url":"https://github.com/apache/spark/pull/35411.diff","patch_url":"https://github.com/apache/spark/pull/35411.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35411","number":35411,"state":"closed","locked":false,"title":"[SPARK-38122][Docs] Update the App Key of DocSearch","user":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nUpdate the App Key of DocSearch as per the comment https://github.com/algolia/docsearch-configs/pull/5054#issuecomment-1025483446\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nDocSearch uses new infra now: https://docsearch.algolia.com/docs/migrating-from-legacy/\r\nThe new version allows us to manage indexes, but we have to update the App Key and App id in configuration to make it work.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nManual verified in local setup.","created_at":"2022-02-07T05:28:57Z","updated_at":"2022-02-07T07:25:33Z","closed_at":"2022-02-07T05:49:54Z","merged_at":null,"merge_commit_sha":"43f9fbdb98a906531c44192d78161b7763895542","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35411/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35411/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35411/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/bee0cf0938d065fb750465e6d6bbfdb055978199","head":{"label":"gengliangwang:updateDocSearch","ref":"updateDocSearch","sha":"bee0cf0938d065fb750465e6d6bbfdb055978199","user":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":95047635,"node_id":"MDEwOlJlcG9zaXRvcnk5NTA0NzYzNQ==","name":"spark","full_name":"gengliangwang/spark","private":false,"owner":{"login":"gengliangwang","id":1097932,"node_id":"MDQ6VXNlcjEwOTc5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1097932?v=4","gravatar_id":"","url":"https://api.github.com/users/gengliangwang","html_url":"https://github.com/gengliangwang","followers_url":"https://api.github.com/users/gengliangwang/followers","following_url":"https://api.github.com/users/gengliangwang/following{/other_user}","gists_url":"https://api.github.com/users/gengliangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gengliangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengliangwang/subscriptions","organizations_url":"https://api.github.com/users/gengliangwang/orgs","repos_url":"https://api.github.com/users/gengliangwang/repos","events_url":"https://api.github.com/users/gengliangwang/events{/privacy}","received_events_url":"https://api.github.com/users/gengliangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/gengliangwang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/gengliangwang/spark","forks_url":"https://api.github.com/repos/gengliangwang/spark/forks","keys_url":"https://api.github.com/repos/gengliangwang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/gengliangwang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/gengliangwang/spark/teams","hooks_url":"https://api.github.com/repos/gengliangwang/spark/hooks","issue_events_url":"https://api.github.com/repos/gengliangwang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/gengliangwang/spark/events","assignees_url":"https://api.github.com/repos/gengliangwang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/gengliangwang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/gengliangwang/spark/tags","blobs_url":"https://api.github.com/repos/gengliangwang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/gengliangwang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/gengliangwang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/gengliangwang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/gengliangwang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/gengliangwang/spark/languages","stargazers_url":"https://api.github.com/repos/gengliangwang/spark/stargazers","contributors_url":"https://api.github.com/repos/gengliangwang/spark/contributors","subscribers_url":"https://api.github.com/repos/gengliangwang/spark/subscribers","subscription_url":"https://api.github.com/repos/gengliangwang/spark/subscription","commits_url":"https://api.github.com/repos/gengliangwang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/gengliangwang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/gengliangwang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/gengliangwang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/gengliangwang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/gengliangwang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/gengliangwang/spark/merges","archive_url":"https://api.github.com/repos/gengliangwang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/gengliangwang/spark/downloads","issues_url":"https://api.github.com/repos/gengliangwang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/gengliangwang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/gengliangwang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/gengliangwang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/gengliangwang/spark/labels{/name}","releases_url":"https://api.github.com/repos/gengliangwang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/gengliangwang/spark/deployments","created_at":"2017-06-21T21:26:20Z","updated_at":"2022-01-05T09:39:12Z","pushed_at":"2025-02-07T19:52:00Z","git_url":"git://github.com/gengliangwang/spark.git","ssh_url":"git@github.com:gengliangwang/spark.git","clone_url":"https://github.com/gengliangwang/spark.git","svn_url":"https://github.com/gengliangwang/spark","homepage":null,"size":481326,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"711d0b4aac45f5bb69f91a774e94063a769d31d0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35411"},"html":{"href":"https://github.com/apache/spark/pull/35411"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35411"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35411/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35411/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35411/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/bee0cf0938d065fb750465e6d6bbfdb055978199"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35410","id":841327120,"node_id":"PR_kwDOAQXtWs4yJaIQ","html_url":"https://github.com/apache/spark/pull/35410","diff_url":"https://github.com/apache/spark/pull/35410.diff","patch_url":"https://github.com/apache/spark/pull/35410.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35410","number":35410,"state":"closed","locked":false,"title":"[SPARK-38121][PYTHON][SQL] Use SparkSession instead of SQLContext inside PySpark","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR proposes to `SparkSession` within PySpark. This is a base work for respecting runtime configurations, etc. Currently, we rely on old deprecated `SQLContext` internally that doesn't respect Spark session's runtime configurations correctly.\r\n\r\nThis PR also contains related changes (and a bit of refactoring in the code this PR touches) as below:\r\n- Expose `DataFrame.sparkSession` like Scala API does.\r\n- Move `SQLContext._conf` -> `SparkSession._jconf`.\r\n- Rename `rdd_array` to `df_array` at `DataFrame.randomSplit`.\r\n- Issue warnings to discourage to use `DataFrame.sql_ctx` and `DataFrame(..., sql_ctx)`.\r\n\r\n### Why are the changes needed?\r\n\r\n- This is a base work for PySpark to respect runtime configuration.\r\n- To expose the same API layer as Scala API (`df.sparkSession`)\r\n- To avoid relaying on old `SQLContext`.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nYes.\r\n\r\n- Issue warnings to discourage to use `DataFrame.sql_ctx` and `DataFrame(..., sql_ctx)`.\r\n- New API `DataFrame.sparkSession`\r\n\r\n### How was this patch tested?\r\n\r\nExisting test cases should cover them.\r\n","created_at":"2022-02-07T05:16:46Z","updated_at":"2024-01-15T00:50:47Z","closed_at":"2022-02-15T00:42:42Z","merged_at":null,"merge_commit_sha":"a6cf5e74a00ceba23363ebc13c22289e716603e1","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1405803268,"node_id":"MDU6TGFiZWwxNDA1ODAzMjY4","url":"https://api.github.com/repos/apache/spark/labels/MLLIB","name":"MLLIB","color":"ededed","default":false,"description":null},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":1984361638,"node_id":"MDU6TGFiZWwxOTg0MzYxNjM4","url":"https://api.github.com/repos/apache/spark/labels/R","name":"R","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35410/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35410/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35410/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/e49bf4933a55bb8ca1f2443a58e765a6f7191151","head":{"label":"HyukjinKwon:SPARK-38121","ref":"SPARK-38121","sha":"e49bf4933a55bb8ca1f2443a58e765a6f7191151","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"25a4c5fa84d64e37cf5c27c7b2f0f29867330bf2","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35410"},"html":{"href":"https://github.com/apache/spark/pull/35410"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35410"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35410/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35410/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35410/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/e49bf4933a55bb8ca1f2443a58e765a6f7191151"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35409","id":841184060,"node_id":"PR_kwDOAQXtWs4yI3M8","html_url":"https://github.com/apache/spark/pull/35409","diff_url":"https://github.com/apache/spark/pull/35409.diff","patch_url":"https://github.com/apache/spark/pull/35409.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35409","number":35409,"state":"closed","locked":false,"title":"[SPARK-38120][SQL] Fix HiveExternalCatalog.listPartitions when partition column name is upper case and dot in partition value","user":{"login":"khalidmammadov","id":11574708,"node_id":"MDQ6VXNlcjExNTc0NzA4","avatar_url":"https://avatars.githubusercontent.com/u/11574708?v=4","gravatar_id":"","url":"https://api.github.com/users/khalidmammadov","html_url":"https://github.com/khalidmammadov","followers_url":"https://api.github.com/users/khalidmammadov/followers","following_url":"https://api.github.com/users/khalidmammadov/following{/other_user}","gists_url":"https://api.github.com/users/khalidmammadov/gists{/gist_id}","starred_url":"https://api.github.com/users/khalidmammadov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/khalidmammadov/subscriptions","organizations_url":"https://api.github.com/users/khalidmammadov/orgs","repos_url":"https://api.github.com/users/khalidmammadov/repos","events_url":"https://api.github.com/users/khalidmammadov/events{/privacy}","received_events_url":"https://api.github.com/users/khalidmammadov/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\n\r\nHiveExternalCatalog.listPartitions method call is failing when a partition column name is upper case and partition value contains dot. It's related to this change https://github.com/apache/spark/commit/f18b905f6cace7686ef169fda7de474079d0af23\r\n\r\nThe test case in that PR does not produce the issue as partition column name is lower case.\r\n\r\nThis change will lowercase the partition column name during comparison to produce expected result, it's is inline with the actual spec transformation i.e. making it lower case for Hive and using the same function\r\n\r\n \r\n\r\nBelow how to reproduce the issue:\r\n```\r\nUsing Scala version 2.12.15 (OpenJDK 64-Bit Server VM, Java 1.8.0_312)\r\nType in expressions to have them evaluated.\r\nType :help for more information.\r\n\r\nscala> import org.apache.spark.sql.catalyst.TableIdentifier\r\nimport org.apache.spark.sql.catalyst.TableIdentifier\r\n\r\nscala> spark.sql(\"CREATE TABLE customer(id INT, name STRING) PARTITIONED BY (partCol1 STRING, partCol2 STRING)\")\r\n22/02/06 21:10:45 WARN ResolveSessionCatalog: A Hive serde table will be created as there is no table provider specified. You can set spark.sql.legacy.createHiveTableByDefault to false so that native data source table will be created instead.\r\nres0: org.apache.spark.sql.DataFrame = []\r\n\r\nscala> spark.sql(\"INSERT INTO customer PARTITION (partCol1 = 'CA', partCol2 = 'i.j') VALUES (100, 'John')\")\r\nres1: org.apache.spark.sql.DataFrame = []                                       \r\n\r\nscala> spark.sessionState.catalog.listPartitions(TableIdentifier(\"customer\"), Some(Map(\"partCol2\" -> \"i.j\"))).foreach(println)\r\njava.util.NoSuchElementException: key not found: partcol2\r\n  at scala.collection.immutable.Map$Map2.apply(Map.scala:227)\r\n  at org.apache.spark.sql.catalyst.catalog.ExternalCatalogUtils$.$anonfun$isPartialPartitionSpec$1(ExternalCatalogUtils.scala:205)\r\n  at org.apache.spark.sql.catalyst.catalog.ExternalCatalogUtils$.$anonfun$isPartialPartitionSpec$1$adapted(ExternalCatalogUtils.scala:202)\r\n  at scala.collection.immutable.Map$Map1.forall(Map.scala:196)\r\n  at org.apache.spark.sql.catalyst.catalog.ExternalCatalogUtils$.isPartialPartitionSpec(ExternalCatalogUtils.scala:202)\r\n  at org.apache.spark.sql.hive.HiveExternalCatalog.$anonfun$listPartitions$6(HiveExternalCatalog.scala:1312)\r\n  at org.apache.spark.sql.hive.HiveExternalCatalog.$anonfun$listPartitions$6$adapted(HiveExternalCatalog.scala:1312)\r\n  at scala.collection.TraversableLike.$anonfun$filterImpl$1(TraversableLike.scala:304)\r\n  at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\r\n  at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\r\n  at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\r\n  at scala.collection.TraversableLike.filterImpl(TraversableLike.scala:303)\r\n  at scala.collection.TraversableLike.filterImpl$(TraversableLike.scala:297)\r\n  at scala.collection.AbstractTraversable.filterImpl(Traversable.scala:108)\r\n  at scala.collection.TraversableLike.filter(TraversableLike.scala:395)\r\n  at scala.collection.TraversableLike.filter$(TraversableLike.scala:395)\r\n  at scala.collection.AbstractTraversable.filter(Traversable.scala:108)\r\n  at org.apache.spark.sql.hive.HiveExternalCatalog.$anonfun$listPartitions$1(HiveExternalCatalog.scala:1312)\r\n  at org.apache.spark.sql.hive.HiveExternalCatalog.withClientWrappingException(HiveExternalCatalog.scala:114)\r\n  at org.apache.spark.sql.hive.HiveExternalCatalog.withClient(HiveExternalCatalog.scala:103)\r\n  at org.apache.spark.sql.hive.HiveExternalCatalog.listPartitions(HiveExternalCatalog.scala:1296)\r\n  at org.apache.spark.sql.catalyst.catalog.ExternalCatalogWithListener.listPartitions(ExternalCatalogWithListener.scala:254)\r\n  at org.apache.spark.sql.catalyst.catalog.SessionCatalog.listPartitions(SessionCatalog.scala:1251)\r\n  ... 47 elided\r\n\r\n\r\n*******AFTER FIX*********\r\n\r\nscala> import org.apache.spark.sql.catalyst.TableIdentifier\r\nimport org.apache.spark.sql.catalyst.TableIdentifier\r\n\r\nscala> spark.sql(\"CREATE TABLE customer(id INT, name STRING) PARTITIONED BY (partCol1 STRING, partCol2 STRING)\")\r\n22/02/06 22:08:11 WARN ResolveSessionCatalog: A Hive serde table will be created as there is no table provider specified. You can set spark.sql.legacy.createHiveTableByDefault to false so that native data source table will be created instead.\r\nres1: org.apache.spark.sql.DataFrame = []\r\n\r\nscala> spark.sql(\"INSERT INTO customer PARTITION (partCol1 = 'CA', partCol2 = 'i.j') VALUES (100, 'John')\")\r\nres2: org.apache.spark.sql.DataFrame = []                                       \r\n\r\nscala> spark.sessionState.catalog.listPartitions(TableIdentifier(\"customer\"), Some(Map(\"partCol2\" -> \"i.j\"))).foreach(println)\r\nCatalogPartition(\r\n\tPartition Values: [partCol1=CA, partCol2=i.j]\r\n\tLocation: file:/home/khalid/dev/oss/test/spark-warehouse/customer/partcol1=CA/partcol2=i.j\r\n\tSerde Library: org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe\r\n\tInputFormat: org.apache.hadoop.mapred.TextInputFormat\r\n\tOutputFormat: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat\r\n\tStorage Properties: [serialization.format=1]\r\n\tPartition Parameters: {rawDataSize=0, numFiles=1, transient_lastDdlTime=1644185314, totalSize=9, COLUMN_STATS_ACCURATE={\"BASIC_STATS\":\"true\"}, numRows=0}\r\n\tCreated Time: Sun Feb 06 22:08:34 GMT 2022\r\n\tLast Access: UNKNOWN\r\n\tPartition Statistics: 9 bytes)\r\n\r\n```\r\n\r\n\r\n### Why are the changes needed?\r\nIt fixes the bug\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes\r\n\r\n\r\n### How was this patch tested?\r\n\r\n`build/sbt -v -d \"test:testOnly *CatalogSuite\"`","created_at":"2022-02-06T23:48:56Z","updated_at":"2022-02-09T17:42:35Z","closed_at":"2022-02-09T08:54:47Z","merged_at":null,"merge_commit_sha":"a03df8de9f0d0ff7ffdc75a3119883fe410e7426","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35409/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35409/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35409/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/e4818fba9e8f30cc4baffd2da660aa3b5b724f91","head":{"label":"khalidmammadov:fix_list_partitions_bug2","ref":"fix_list_partitions_bug2","sha":"e4818fba9e8f30cc4baffd2da660aa3b5b724f91","user":{"login":"khalidmammadov","id":11574708,"node_id":"MDQ6VXNlcjExNTc0NzA4","avatar_url":"https://avatars.githubusercontent.com/u/11574708?v=4","gravatar_id":"","url":"https://api.github.com/users/khalidmammadov","html_url":"https://github.com/khalidmammadov","followers_url":"https://api.github.com/users/khalidmammadov/followers","following_url":"https://api.github.com/users/khalidmammadov/following{/other_user}","gists_url":"https://api.github.com/users/khalidmammadov/gists{/gist_id}","starred_url":"https://api.github.com/users/khalidmammadov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/khalidmammadov/subscriptions","organizations_url":"https://api.github.com/users/khalidmammadov/orgs","repos_url":"https://api.github.com/users/khalidmammadov/repos","events_url":"https://api.github.com/users/khalidmammadov/events{/privacy}","received_events_url":"https://api.github.com/users/khalidmammadov/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":451158537,"node_id":"R_kgDOGuQiCQ","name":"spark","full_name":"khalidmammadov/spark","private":false,"owner":{"login":"khalidmammadov","id":11574708,"node_id":"MDQ6VXNlcjExNTc0NzA4","avatar_url":"https://avatars.githubusercontent.com/u/11574708?v=4","gravatar_id":"","url":"https://api.github.com/users/khalidmammadov","html_url":"https://github.com/khalidmammadov","followers_url":"https://api.github.com/users/khalidmammadov/followers","following_url":"https://api.github.com/users/khalidmammadov/following{/other_user}","gists_url":"https://api.github.com/users/khalidmammadov/gists{/gist_id}","starred_url":"https://api.github.com/users/khalidmammadov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/khalidmammadov/subscriptions","organizations_url":"https://api.github.com/users/khalidmammadov/orgs","repos_url":"https://api.github.com/users/khalidmammadov/repos","events_url":"https://api.github.com/users/khalidmammadov/events{/privacy}","received_events_url":"https://api.github.com/users/khalidmammadov/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/khalidmammadov/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/khalidmammadov/spark","forks_url":"https://api.github.com/repos/khalidmammadov/spark/forks","keys_url":"https://api.github.com/repos/khalidmammadov/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/khalidmammadov/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/khalidmammadov/spark/teams","hooks_url":"https://api.github.com/repos/khalidmammadov/spark/hooks","issue_events_url":"https://api.github.com/repos/khalidmammadov/spark/issues/events{/number}","events_url":"https://api.github.com/repos/khalidmammadov/spark/events","assignees_url":"https://api.github.com/repos/khalidmammadov/spark/assignees{/user}","branches_url":"https://api.github.com/repos/khalidmammadov/spark/branches{/branch}","tags_url":"https://api.github.com/repos/khalidmammadov/spark/tags","blobs_url":"https://api.github.com/repos/khalidmammadov/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/khalidmammadov/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/khalidmammadov/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/khalidmammadov/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/khalidmammadov/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/khalidmammadov/spark/languages","stargazers_url":"https://api.github.com/repos/khalidmammadov/spark/stargazers","contributors_url":"https://api.github.com/repos/khalidmammadov/spark/contributors","subscribers_url":"https://api.github.com/repos/khalidmammadov/spark/subscribers","subscription_url":"https://api.github.com/repos/khalidmammadov/spark/subscription","commits_url":"https://api.github.com/repos/khalidmammadov/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/khalidmammadov/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/khalidmammadov/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/khalidmammadov/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/khalidmammadov/spark/contents/{+path}","compare_url":"https://api.github.com/repos/khalidmammadov/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/khalidmammadov/spark/merges","archive_url":"https://api.github.com/repos/khalidmammadov/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/khalidmammadov/spark/downloads","issues_url":"https://api.github.com/repos/khalidmammadov/spark/issues{/number}","pulls_url":"https://api.github.com/repos/khalidmammadov/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/khalidmammadov/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/khalidmammadov/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/khalidmammadov/spark/labels{/name}","releases_url":"https://api.github.com/repos/khalidmammadov/spark/releases{/id}","deployments_url":"https://api.github.com/repos/khalidmammadov/spark/deployments","created_at":"2022-01-23T16:13:31Z","updated_at":"2024-09-16T20:21:46Z","pushed_at":"2024-09-16T20:21:27Z","git_url":"git://github.com/khalidmammadov/spark.git","ssh_url":"git@github.com:khalidmammadov/spark.git","clone_url":"https://github.com/khalidmammadov/spark.git","svn_url":"https://github.com/khalidmammadov/spark","homepage":"https://spark.apache.org/","size":450334,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"711d0b4aac45f5bb69f91a774e94063a769d31d0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35409"},"html":{"href":"https://github.com/apache/spark/pull/35409"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35409"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35409/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35409/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35409/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/e4818fba9e8f30cc4baffd2da660aa3b5b724f91"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35408","id":841122421,"node_id":"PR_kwDOAQXtWs4yIoJ1","html_url":"https://github.com/apache/spark/pull/35408","diff_url":"https://github.com/apache/spark/pull/35408.diff","patch_url":"https://github.com/apache/spark/pull/35408.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35408","number":35408,"state":"closed","locked":false,"title":"[SPARK-37409][PYTHON][ML] Inline hints for pyspark.ml.pipeline","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nThis PR migrates type `pyspark.ml.pipeline` annotations from stub file to inline type hints.\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nPart of ongoing migration of type hints.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nExisting tests.\r\n","created_at":"2022-02-06T18:02:40Z","updated_at":"2022-02-08T02:16:10Z","closed_at":"2022-02-08T00:51:24Z","merged_at":null,"merge_commit_sha":"f0eea09e9c670f789ca14247ea7b5a7e347eaed2","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35408/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35408/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35408/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/1ef4f1059f7c14c8a91cc596658adba016015f17","head":{"label":"zero323:SPARK-37409","ref":"SPARK-37409","sha":"1ef4f1059f7c14c8a91cc596658adba016015f17","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":43824676,"node_id":"MDEwOlJlcG9zaXRvcnk0MzgyNDY3Ng==","name":"spark","full_name":"zero323/spark","private":false,"owner":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zero323/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zero323/spark","forks_url":"https://api.github.com/repos/zero323/spark/forks","keys_url":"https://api.github.com/repos/zero323/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zero323/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zero323/spark/teams","hooks_url":"https://api.github.com/repos/zero323/spark/hooks","issue_events_url":"https://api.github.com/repos/zero323/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zero323/spark/events","assignees_url":"https://api.github.com/repos/zero323/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zero323/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zero323/spark/tags","blobs_url":"https://api.github.com/repos/zero323/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zero323/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zero323/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zero323/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zero323/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zero323/spark/languages","stargazers_url":"https://api.github.com/repos/zero323/spark/stargazers","contributors_url":"https://api.github.com/repos/zero323/spark/contributors","subscribers_url":"https://api.github.com/repos/zero323/spark/subscribers","subscription_url":"https://api.github.com/repos/zero323/spark/subscription","commits_url":"https://api.github.com/repos/zero323/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zero323/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zero323/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zero323/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zero323/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zero323/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zero323/spark/merges","archive_url":"https://api.github.com/repos/zero323/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zero323/spark/downloads","issues_url":"https://api.github.com/repos/zero323/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zero323/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zero323/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zero323/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zero323/spark/labels{/name}","releases_url":"https://api.github.com/repos/zero323/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zero323/spark/deployments","created_at":"2015-10-07T15:16:38Z","updated_at":"2025-02-05T16:45:39Z","pushed_at":"2025-02-05T16:44:26Z","git_url":"git://github.com/zero323/spark.git","ssh_url":"git@github.com:zero323/spark.git","clone_url":"https://github.com/zero323/spark.git","svn_url":"https://github.com/zero323/spark","homepage":null,"size":438263,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"711d0b4aac45f5bb69f91a774e94063a769d31d0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35408"},"html":{"href":"https://github.com/apache/spark/pull/35408"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35408"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35408/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35408/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35408/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/1ef4f1059f7c14c8a91cc596658adba016015f17"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35407","id":841089671,"node_id":"PR_kwDOAQXtWs4yIgKH","html_url":"https://github.com/apache/spark/pull/35407","diff_url":"https://github.com/apache/spark/pull/35407.diff","patch_url":"https://github.com/apache/spark/pull/35407.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35407","number":35407,"state":"closed","locked":false,"title":"[SPARK-37406][PYTHON][ML] Inline hints for pyspark.ml.fpm","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nThis PR migrates type `pyspark.ml.fpm` annotations from stub file to inline type hints.\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n\r\n\r\nPart of ongoing migration of type hints.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nExisting tests.","created_at":"2022-02-06T15:12:38Z","updated_at":"2022-02-10T01:56:04Z","closed_at":"2022-02-10T01:53:38Z","merged_at":null,"merge_commit_sha":"162ff977f0b69613f75c7c05573fc7d1df42001b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35407/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35407/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35407/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/a36c646fd19fd928bf182814b609f95474300f1d","head":{"label":"zero323:SPARK-37406","ref":"SPARK-37406","sha":"a36c646fd19fd928bf182814b609f95474300f1d","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":43824676,"node_id":"MDEwOlJlcG9zaXRvcnk0MzgyNDY3Ng==","name":"spark","full_name":"zero323/spark","private":false,"owner":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zero323/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zero323/spark","forks_url":"https://api.github.com/repos/zero323/spark/forks","keys_url":"https://api.github.com/repos/zero323/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zero323/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zero323/spark/teams","hooks_url":"https://api.github.com/repos/zero323/spark/hooks","issue_events_url":"https://api.github.com/repos/zero323/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zero323/spark/events","assignees_url":"https://api.github.com/repos/zero323/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zero323/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zero323/spark/tags","blobs_url":"https://api.github.com/repos/zero323/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zero323/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zero323/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zero323/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zero323/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zero323/spark/languages","stargazers_url":"https://api.github.com/repos/zero323/spark/stargazers","contributors_url":"https://api.github.com/repos/zero323/spark/contributors","subscribers_url":"https://api.github.com/repos/zero323/spark/subscribers","subscription_url":"https://api.github.com/repos/zero323/spark/subscription","commits_url":"https://api.github.com/repos/zero323/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zero323/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zero323/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zero323/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zero323/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zero323/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zero323/spark/merges","archive_url":"https://api.github.com/repos/zero323/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zero323/spark/downloads","issues_url":"https://api.github.com/repos/zero323/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zero323/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zero323/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zero323/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zero323/spark/labels{/name}","releases_url":"https://api.github.com/repos/zero323/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zero323/spark/deployments","created_at":"2015-10-07T15:16:38Z","updated_at":"2025-02-05T16:45:39Z","pushed_at":"2025-02-05T16:44:26Z","git_url":"git://github.com/zero323/spark.git","ssh_url":"git@github.com:zero323/spark.git","clone_url":"https://github.com/zero323/spark.git","svn_url":"https://github.com/zero323/spark","homepage":null,"size":438263,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"2a9416abd5c8d83901c09a08433bf91e649dc43f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35407"},"html":{"href":"https://github.com/apache/spark/pull/35407"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35407"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35407/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35407/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35407/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/a36c646fd19fd928bf182814b609f95474300f1d"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35406","id":841059406,"node_id":"PR_kwDOAQXtWs4yIYxO","html_url":"https://github.com/apache/spark/pull/35406","diff_url":"https://github.com/apache/spark/pull/35406.diff","patch_url":"https://github.com/apache/spark/pull/35406.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35406","number":35406,"state":"closed","locked":false,"title":"[SPARK-37414][PYTHON][ML] Inline type hints for pyspark.ml.tuning","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nThis PR migrates type `pyspark.ml.tuning` annotations from stub file to inline type hints.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nPart of ongoing migration of type hints.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nExisting tests.","created_at":"2022-02-06T12:23:52Z","updated_at":"2022-02-09T02:17:25Z","closed_at":"2022-02-09T02:16:29Z","merged_at":null,"merge_commit_sha":"40f75591282ad31fcdad79bd5da52cce173d852c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35406/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35406/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35406/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/fd41a8af01040a818de0831efbdd1c3e244ead5f","head":{"label":"zero323:SPARK-37414","ref":"SPARK-37414","sha":"fd41a8af01040a818de0831efbdd1c3e244ead5f","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":43824676,"node_id":"MDEwOlJlcG9zaXRvcnk0MzgyNDY3Ng==","name":"spark","full_name":"zero323/spark","private":false,"owner":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zero323/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zero323/spark","forks_url":"https://api.github.com/repos/zero323/spark/forks","keys_url":"https://api.github.com/repos/zero323/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zero323/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zero323/spark/teams","hooks_url":"https://api.github.com/repos/zero323/spark/hooks","issue_events_url":"https://api.github.com/repos/zero323/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zero323/spark/events","assignees_url":"https://api.github.com/repos/zero323/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zero323/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zero323/spark/tags","blobs_url":"https://api.github.com/repos/zero323/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zero323/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zero323/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zero323/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zero323/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zero323/spark/languages","stargazers_url":"https://api.github.com/repos/zero323/spark/stargazers","contributors_url":"https://api.github.com/repos/zero323/spark/contributors","subscribers_url":"https://api.github.com/repos/zero323/spark/subscribers","subscription_url":"https://api.github.com/repos/zero323/spark/subscription","commits_url":"https://api.github.com/repos/zero323/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zero323/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zero323/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zero323/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zero323/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zero323/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zero323/spark/merges","archive_url":"https://api.github.com/repos/zero323/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zero323/spark/downloads","issues_url":"https://api.github.com/repos/zero323/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zero323/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zero323/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zero323/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zero323/spark/labels{/name}","releases_url":"https://api.github.com/repos/zero323/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zero323/spark/deployments","created_at":"2015-10-07T15:16:38Z","updated_at":"2025-02-05T16:45:39Z","pushed_at":"2025-02-05T16:44:26Z","git_url":"git://github.com/zero323/spark.git","ssh_url":"git@github.com:zero323/spark.git","clone_url":"https://github.com/zero323/spark.git","svn_url":"https://github.com/zero323/spark","homepage":null,"size":438263,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"2a9416abd5c8d83901c09a08433bf91e649dc43f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35406"},"html":{"href":"https://github.com/apache/spark/pull/35406"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35406"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35406/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35406/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35406/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/fd41a8af01040a818de0831efbdd1c3e244ead5f"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35405","id":841020386,"node_id":"PR_kwDOAQXtWs4yIPPi","html_url":"https://github.com/apache/spark/pull/35405","diff_url":"https://github.com/apache/spark/pull/35405.diff","patch_url":"https://github.com/apache/spark/pull/35405.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35405","number":35405,"state":"closed","locked":false,"title":"[SPARK-38105][SQL] Use error classes in the parsing errors of joins","user":{"login":"ivoson","id":15122230,"node_id":"MDQ6VXNlcjE1MTIyMjMw","avatar_url":"https://avatars.githubusercontent.com/u/15122230?v=4","gravatar_id":"","url":"https://api.github.com/users/ivoson","html_url":"https://github.com/ivoson","followers_url":"https://api.github.com/users/ivoson/followers","following_url":"https://api.github.com/users/ivoson/following{/other_user}","gists_url":"https://api.github.com/users/ivoson/gists{/gist_id}","starred_url":"https://api.github.com/users/ivoson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivoson/subscriptions","organizations_url":"https://api.github.com/users/ivoson/orgs","repos_url":"https://api.github.com/users/ivoson/repos","events_url":"https://api.github.com/users/ivoson/events{/privacy}","received_events_url":"https://api.github.com/users/ivoson/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nMigrate the following errors in QueryParsingErrors onto use error classes:\r\n1. joinCriteriaUnimplementedError => throw IllegalStateException instead, since it should never happen and not visible to users, introduced by improving exhaustivity in [PR](https://github.com/apache/spark/pull/30455)\r\n2. naturalCrossJoinUnsupportedError => UNSUPPORTED_FEATURE\r\n\r\n### Why are the changes needed?\r\nPorting join parsing errors to new error framework.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n### How was this patch tested?\r\nUT added.\r\n","created_at":"2022-02-06T08:20:17Z","updated_at":"2022-02-07T01:42:22Z","closed_at":"2022-02-06T18:19:44Z","merged_at":null,"merge_commit_sha":"34283125fef6f1eb1f4555fe8ef9758b7d235a44","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35405/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35405/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35405/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b1e5e7e813f08d8cdbe38c1661bc18fa6c18ba02","head":{"label":"ivoson:SPARK-38105","ref":"SPARK-38105","sha":"b1e5e7e813f08d8cdbe38c1661bc18fa6c18ba02","user":{"login":"ivoson","id":15122230,"node_id":"MDQ6VXNlcjE1MTIyMjMw","avatar_url":"https://avatars.githubusercontent.com/u/15122230?v=4","gravatar_id":"","url":"https://api.github.com/users/ivoson","html_url":"https://github.com/ivoson","followers_url":"https://api.github.com/users/ivoson/followers","following_url":"https://api.github.com/users/ivoson/following{/other_user}","gists_url":"https://api.github.com/users/ivoson/gists{/gist_id}","starred_url":"https://api.github.com/users/ivoson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivoson/subscriptions","organizations_url":"https://api.github.com/users/ivoson/orgs","repos_url":"https://api.github.com/users/ivoson/repos","events_url":"https://api.github.com/users/ivoson/events{/privacy}","received_events_url":"https://api.github.com/users/ivoson/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":116949039,"node_id":"MDEwOlJlcG9zaXRvcnkxMTY5NDkwMzk=","name":"spark","full_name":"ivoson/spark","private":false,"owner":{"login":"ivoson","id":15122230,"node_id":"MDQ6VXNlcjE1MTIyMjMw","avatar_url":"https://avatars.githubusercontent.com/u/15122230?v=4","gravatar_id":"","url":"https://api.github.com/users/ivoson","html_url":"https://github.com/ivoson","followers_url":"https://api.github.com/users/ivoson/followers","following_url":"https://api.github.com/users/ivoson/following{/other_user}","gists_url":"https://api.github.com/users/ivoson/gists{/gist_id}","starred_url":"https://api.github.com/users/ivoson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivoson/subscriptions","organizations_url":"https://api.github.com/users/ivoson/orgs","repos_url":"https://api.github.com/users/ivoson/repos","events_url":"https://api.github.com/users/ivoson/events{/privacy}","received_events_url":"https://api.github.com/users/ivoson/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ivoson/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/ivoson/spark","forks_url":"https://api.github.com/repos/ivoson/spark/forks","keys_url":"https://api.github.com/repos/ivoson/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ivoson/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ivoson/spark/teams","hooks_url":"https://api.github.com/repos/ivoson/spark/hooks","issue_events_url":"https://api.github.com/repos/ivoson/spark/issues/events{/number}","events_url":"https://api.github.com/repos/ivoson/spark/events","assignees_url":"https://api.github.com/repos/ivoson/spark/assignees{/user}","branches_url":"https://api.github.com/repos/ivoson/spark/branches{/branch}","tags_url":"https://api.github.com/repos/ivoson/spark/tags","blobs_url":"https://api.github.com/repos/ivoson/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ivoson/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ivoson/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/ivoson/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ivoson/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/ivoson/spark/languages","stargazers_url":"https://api.github.com/repos/ivoson/spark/stargazers","contributors_url":"https://api.github.com/repos/ivoson/spark/contributors","subscribers_url":"https://api.github.com/repos/ivoson/spark/subscribers","subscription_url":"https://api.github.com/repos/ivoson/spark/subscription","commits_url":"https://api.github.com/repos/ivoson/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/ivoson/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/ivoson/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/ivoson/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/ivoson/spark/contents/{+path}","compare_url":"https://api.github.com/repos/ivoson/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ivoson/spark/merges","archive_url":"https://api.github.com/repos/ivoson/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ivoson/spark/downloads","issues_url":"https://api.github.com/repos/ivoson/spark/issues{/number}","pulls_url":"https://api.github.com/repos/ivoson/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/ivoson/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/ivoson/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ivoson/spark/labels{/name}","releases_url":"https://api.github.com/repos/ivoson/spark/releases{/id}","deployments_url":"https://api.github.com/repos/ivoson/spark/deployments","created_at":"2018-01-10T11:29:31Z","updated_at":"2018-01-10T11:29:57Z","pushed_at":"2023-11-12T04:07:23Z","git_url":"git://github.com/ivoson/spark.git","ssh_url":"git@github.com:ivoson/spark.git","clone_url":"https://github.com/ivoson/spark.git","svn_url":"https://github.com/ivoson/spark","homepage":null,"size":387707,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"74ebef243c18e7a8f32bf90ea75ab6afed9e3132","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35405"},"html":{"href":"https://github.com/apache/spark/pull/35405"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35405"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35405/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35405/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35405/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b1e5e7e813f08d8cdbe38c1661bc18fa6c18ba02"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35404","id":841012338,"node_id":"PR_kwDOAQXtWs4yINRy","html_url":"https://github.com/apache/spark/pull/35404","diff_url":"https://github.com/apache/spark/pull/35404.diff","patch_url":"https://github.com/apache/spark/pull/35404.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35404","number":35404,"state":"closed","locked":false,"title":"[SPARK-38118][SQL] Func(wrong data type) in HAVING clause should throw data mismatch error","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n```\r\nwith t as (select true c)\r\nselect t.c\r\nfrom t\r\ngroup by t.c\r\nhaving mean(t.c) > 0\r\n```\r\n\r\nThis query throws `Column 't.c' does not exist. Did you mean one of the following? [t.c]`\r\n\r\nHowever, mean(boolean) is not a supported function signature, thus error result should be  `cannot resolve 'mean(t.c)' due to data type mismatch: function average requires numeric or interval types, not boolean`\r\n\r\n \r\n\r\nThis is because\r\n\r\n1. The mean(boolean) in HAVING was not marked as resolved in `ResolveFunctions` rule.\r\n2. Thus in `ResolveAggregationFunctions`, the `TempResolvedColumn` as a wrapper in `mean(TempResolvedColumn(t.c))` cannot be removed (only resolved AGG can remove its’s `TempResolvedColumn`).\r\n3. Thus in a later batch rule applying,  `TempResolvedColumn` was reverted and it becomes mean(`t.c`), so mean loses the information about t.c.\r\n4. Thus at the last step, the analyzer can only report t.c not found.\r\n\r\n \r\n\r\nmean(boolean) in HAVING is not marked as resolved in {{ResolveFunctions}} rule because \r\n1. It uses Expression default `resolved` field population code:\r\n```lazy val resolved: Boolean = childrenResolved && checkInputDataTypes().isSuccess```\r\n2. During the analyzing,  mean(boolean) is mean(TempResolveColumn(boolean), thus childrenResolved is true.\r\n3. however checkInputDataTypes() will be false [Average.scala#L55](https://github.com/apache/spark/blob/74ebef243c18e7a8f32bf90ea75ab6afed9e3132/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/expressions/aggregate/Average.scala#L55)\r\n4. Thus eventually Average's `resolved`  will be false, but it leads to wrong error message.\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nImprove error message so users can better debug their query.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nYes. This will change user-facing error message.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nUnit Test","created_at":"2022-02-06T07:14:47Z","updated_at":"2022-02-18T00:13:30Z","closed_at":"2022-02-17T23:59:41Z","merged_at":null,"merge_commit_sha":"4aadc7e80a7f94b5f3a40e0caa3a22565e63caf7","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35404/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35404/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35404/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/850e500fc7f748ee897aee8b1541ed3beb07c573","head":{"label":"amaliujia:meanboolean","ref":"meanboolean","sha":"850e500fc7f748ee897aee8b1541ed3beb07c573","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":434752466,"node_id":"R_kgDOGenL0g","name":"spark","full_name":"amaliujia/spark","private":false,"owner":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/amaliujia/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/amaliujia/spark","forks_url":"https://api.github.com/repos/amaliujia/spark/forks","keys_url":"https://api.github.com/repos/amaliujia/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/amaliujia/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/amaliujia/spark/teams","hooks_url":"https://api.github.com/repos/amaliujia/spark/hooks","issue_events_url":"https://api.github.com/repos/amaliujia/spark/issues/events{/number}","events_url":"https://api.github.com/repos/amaliujia/spark/events","assignees_url":"https://api.github.com/repos/amaliujia/spark/assignees{/user}","branches_url":"https://api.github.com/repos/amaliujia/spark/branches{/branch}","tags_url":"https://api.github.com/repos/amaliujia/spark/tags","blobs_url":"https://api.github.com/repos/amaliujia/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/amaliujia/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/amaliujia/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/amaliujia/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/amaliujia/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/amaliujia/spark/languages","stargazers_url":"https://api.github.com/repos/amaliujia/spark/stargazers","contributors_url":"https://api.github.com/repos/amaliujia/spark/contributors","subscribers_url":"https://api.github.com/repos/amaliujia/spark/subscribers","subscription_url":"https://api.github.com/repos/amaliujia/spark/subscription","commits_url":"https://api.github.com/repos/amaliujia/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/amaliujia/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/amaliujia/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/amaliujia/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/amaliujia/spark/contents/{+path}","compare_url":"https://api.github.com/repos/amaliujia/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/amaliujia/spark/merges","archive_url":"https://api.github.com/repos/amaliujia/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/amaliujia/spark/downloads","issues_url":"https://api.github.com/repos/amaliujia/spark/issues{/number}","pulls_url":"https://api.github.com/repos/amaliujia/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/amaliujia/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/amaliujia/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/amaliujia/spark/labels{/name}","releases_url":"https://api.github.com/repos/amaliujia/spark/releases{/id}","deployments_url":"https://api.github.com/repos/amaliujia/spark/deployments","created_at":"2021-12-03T22:41:59Z","updated_at":"2025-02-04T20:34:19Z","pushed_at":"2025-02-04T20:33:04Z","git_url":"git://github.com/amaliujia/spark.git","ssh_url":"git@github.com:amaliujia/spark.git","clone_url":"https://github.com/amaliujia/spark.git","svn_url":"https://github.com/amaliujia/spark","homepage":"https://spark.apache.org/","size":472908,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"bbfd058b551935a9916410e820fef18ca67c95c7","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35404"},"html":{"href":"https://github.com/apache/spark/pull/35404"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35404"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35404/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35404/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35404/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/850e500fc7f748ee897aee8b1541ed3beb07c573"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35403","id":840867144,"node_id":"PR_kwDOAQXtWs4yHp1I","html_url":"https://github.com/apache/spark/pull/35403","diff_url":"https://github.com/apache/spark/pull/35403.diff","patch_url":"https://github.com/apache/spark/pull/35403.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35403","number":35403,"state":"closed","locked":false,"title":"[SPARK-37404][PYTHON][ML] Inline type hints for pyspark.ml.evaluation.py","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nThis PR migrates type `pyspark.ml.evaluation` annotations from stub file to inline type hints.\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nPart of ongoing migration of type hints.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nNo,\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nExisting tests.","created_at":"2022-02-05T13:38:26Z","updated_at":"2022-02-09T00:33:28Z","closed_at":"2022-02-09T00:33:03Z","merged_at":null,"merge_commit_sha":"5f13c5a82f03371c82775d5dfc9ddfe6e54ed12f","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35403/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35403/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35403/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/09b13f486119078abde7aa372125fce0b9cf92b8","head":{"label":"zero323:SPARK-37404","ref":"SPARK-37404","sha":"09b13f486119078abde7aa372125fce0b9cf92b8","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":43824676,"node_id":"MDEwOlJlcG9zaXRvcnk0MzgyNDY3Ng==","name":"spark","full_name":"zero323/spark","private":false,"owner":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zero323/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zero323/spark","forks_url":"https://api.github.com/repos/zero323/spark/forks","keys_url":"https://api.github.com/repos/zero323/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zero323/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zero323/spark/teams","hooks_url":"https://api.github.com/repos/zero323/spark/hooks","issue_events_url":"https://api.github.com/repos/zero323/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zero323/spark/events","assignees_url":"https://api.github.com/repos/zero323/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zero323/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zero323/spark/tags","blobs_url":"https://api.github.com/repos/zero323/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zero323/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zero323/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zero323/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zero323/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zero323/spark/languages","stargazers_url":"https://api.github.com/repos/zero323/spark/stargazers","contributors_url":"https://api.github.com/repos/zero323/spark/contributors","subscribers_url":"https://api.github.com/repos/zero323/spark/subscribers","subscription_url":"https://api.github.com/repos/zero323/spark/subscription","commits_url":"https://api.github.com/repos/zero323/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zero323/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zero323/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zero323/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zero323/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zero323/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zero323/spark/merges","archive_url":"https://api.github.com/repos/zero323/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zero323/spark/downloads","issues_url":"https://api.github.com/repos/zero323/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zero323/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zero323/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zero323/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zero323/spark/labels{/name}","releases_url":"https://api.github.com/repos/zero323/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zero323/spark/deployments","created_at":"2015-10-07T15:16:38Z","updated_at":"2025-02-05T16:45:39Z","pushed_at":"2025-02-05T16:44:26Z","git_url":"git://github.com/zero323/spark.git","ssh_url":"git@github.com:zero323/spark.git","clone_url":"https://github.com/zero323/spark.git","svn_url":"https://github.com/zero323/spark","homepage":null,"size":438263,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"3d736d978cdaf345d81833a6216d41464fa86c69","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35403"},"html":{"href":"https://github.com/apache/spark/pull/35403"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35403"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35403/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35403/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35403/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/09b13f486119078abde7aa372125fce0b9cf92b8"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35402","id":840837428,"node_id":"PR_kwDOAQXtWs4yHik0","html_url":"https://github.com/apache/spark/pull/35402","diff_url":"https://github.com/apache/spark/pull/35402.diff","patch_url":"https://github.com/apache/spark/pull/35402.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35402","number":35402,"state":"closed","locked":false,"title":"[SPARK-37536][SQL] Allow for API user to disable Shuffle on Local Mode","user":{"login":"risinga","id":3072864,"node_id":"MDQ6VXNlcjMwNzI4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3072864?v=4","gravatar_id":"","url":"https://api.github.com/users/risinga","html_url":"https://github.com/risinga","followers_url":"https://api.github.com/users/risinga/followers","following_url":"https://api.github.com/users/risinga/following{/other_user}","gists_url":"https://api.github.com/users/risinga/gists{/gist_id}","starred_url":"https://api.github.com/users/risinga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risinga/subscriptions","organizations_url":"https://api.github.com/users/risinga/orgs","repos_url":"https://api.github.com/users/risinga/repos","events_url":"https://api.github.com/users/risinga/events{/privacy}","received_events_url":"https://api.github.com/users/risinga/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nIntroduce a new API configuration flag to disable shuffling when running in running mode - allows for substantial performance while running Spark embedded. This flag, will not be accounted for cluster mode.\r\n\r\n### Why are the changes needed?\r\nWe have been using Spark on local mode, as a small embedded, in-memory SQL DB for microservices.\r\n\r\nSpark's powerful SQL features, and flexibility enables developers to build efficient data querying solutions. Due to the nature of our solution dealing with small datasets, which required to be queried through SQL, on very low latencies, we found the embedded approach a very good model.\r\n\r\nWe found through experimentation, that Spark on local mode, would gain significant performance improvements (on average between 20-30%) by disabling the shuffling on aggregation operations - ShuffleExchangeExec.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nThis PR will expose a SQL configuration, which should be documented for the corresponding release. This will provide users, the option to disable Shuffling plans while running locally. If it's runnng on cluster node, this flag will not be effective.\r\nThis change would represent a public change against the latest master branch.\r\n\r\n\r\n### How was this patch tested?\r\nUnit tests were added (included in the PR), and bench tests were done locally to validate the performance of the new dataset API \r\n","created_at":"2022-02-05T10:22:38Z","updated_at":"2022-05-20T00:18:06Z","closed_at":"2022-05-20T00:18:06Z","merged_at":null,"merge_commit_sha":"d3ad70f19508265b815280e7b871ddbf1377cfee","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35402/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35402/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35402/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3ae1f957dc0b8aed0b333d403ef64447a4e0b46d","head":{"label":"risinga:SPARK-37536","ref":"SPARK-37536","sha":"3ae1f957dc0b8aed0b333d403ef64447a4e0b46d","user":{"login":"risinga","id":3072864,"node_id":"MDQ6VXNlcjMwNzI4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3072864?v=4","gravatar_id":"","url":"https://api.github.com/users/risinga","html_url":"https://github.com/risinga","followers_url":"https://api.github.com/users/risinga/followers","following_url":"https://api.github.com/users/risinga/following{/other_user}","gists_url":"https://api.github.com/users/risinga/gists{/gist_id}","starred_url":"https://api.github.com/users/risinga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risinga/subscriptions","organizations_url":"https://api.github.com/users/risinga/orgs","repos_url":"https://api.github.com/users/risinga/repos","events_url":"https://api.github.com/users/risinga/events{/privacy}","received_events_url":"https://api.github.com/users/risinga/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":419726888,"node_id":"R_kgDOGQSGKA","name":"spark","full_name":"risinga/spark","private":false,"owner":{"login":"risinga","id":3072864,"node_id":"MDQ6VXNlcjMwNzI4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3072864?v=4","gravatar_id":"","url":"https://api.github.com/users/risinga","html_url":"https://github.com/risinga","followers_url":"https://api.github.com/users/risinga/followers","following_url":"https://api.github.com/users/risinga/following{/other_user}","gists_url":"https://api.github.com/users/risinga/gists{/gist_id}","starred_url":"https://api.github.com/users/risinga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risinga/subscriptions","organizations_url":"https://api.github.com/users/risinga/orgs","repos_url":"https://api.github.com/users/risinga/repos","events_url":"https://api.github.com/users/risinga/events{/privacy}","received_events_url":"https://api.github.com/users/risinga/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/risinga/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/risinga/spark","forks_url":"https://api.github.com/repos/risinga/spark/forks","keys_url":"https://api.github.com/repos/risinga/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/risinga/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/risinga/spark/teams","hooks_url":"https://api.github.com/repos/risinga/spark/hooks","issue_events_url":"https://api.github.com/repos/risinga/spark/issues/events{/number}","events_url":"https://api.github.com/repos/risinga/spark/events","assignees_url":"https://api.github.com/repos/risinga/spark/assignees{/user}","branches_url":"https://api.github.com/repos/risinga/spark/branches{/branch}","tags_url":"https://api.github.com/repos/risinga/spark/tags","blobs_url":"https://api.github.com/repos/risinga/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/risinga/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/risinga/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/risinga/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/risinga/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/risinga/spark/languages","stargazers_url":"https://api.github.com/repos/risinga/spark/stargazers","contributors_url":"https://api.github.com/repos/risinga/spark/contributors","subscribers_url":"https://api.github.com/repos/risinga/spark/subscribers","subscription_url":"https://api.github.com/repos/risinga/spark/subscription","commits_url":"https://api.github.com/repos/risinga/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/risinga/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/risinga/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/risinga/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/risinga/spark/contents/{+path}","compare_url":"https://api.github.com/repos/risinga/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/risinga/spark/merges","archive_url":"https://api.github.com/repos/risinga/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/risinga/spark/downloads","issues_url":"https://api.github.com/repos/risinga/spark/issues{/number}","pulls_url":"https://api.github.com/repos/risinga/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/risinga/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/risinga/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/risinga/spark/labels{/name}","releases_url":"https://api.github.com/repos/risinga/spark/releases{/id}","deployments_url":"https://api.github.com/repos/risinga/spark/deployments","created_at":"2021-10-21T13:07:02Z","updated_at":"2022-02-04T03:43:24Z","pushed_at":"2022-02-05T13:14:58Z","git_url":"git://github.com/risinga/spark.git","ssh_url":"git@github.com:risinga/spark.git","clone_url":"https://github.com/risinga/spark.git","svn_url":"https://github.com/risinga/spark","homepage":"https://spark.apache.org/","size":404711,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"3e0d4899dcb3be226a120cbeec8df78ff7fb00ba","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35402"},"html":{"href":"https://github.com/apache/spark/pull/35402"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35402"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35402/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35402/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35402/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3ae1f957dc0b8aed0b333d403ef64447a4e0b46d"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35401","id":840836660,"node_id":"PR_kwDOAQXtWs4yHiY0","html_url":"https://github.com/apache/spark/pull/35401","diff_url":"https://github.com/apache/spark/pull/35401.diff","patch_url":"https://github.com/apache/spark/pull/35401.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35401","number":35401,"state":"closed","locked":false,"title":"[SPARK-37412][PYTHON][ML] Inline typehints for pyspark.ml.stat","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nThis PR migrates type `pyspark.ml.stat` annotations from stub file to inline type hints.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nPart of ongoing migration of type hints.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nExisting tests.\r\n","created_at":"2022-02-05T10:17:08Z","updated_at":"2022-02-08T10:02:25Z","closed_at":"2022-02-08T02:15:08Z","merged_at":null,"merge_commit_sha":"8b6fa4c639c2bbcf50992f7fedde608d609ea739","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35401/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35401/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35401/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/8ee62af3d5e7402472c8eef92f37234135f61d9c","head":{"label":"zero323:SPARK-37412","ref":"SPARK-37412","sha":"8ee62af3d5e7402472c8eef92f37234135f61d9c","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":43824676,"node_id":"MDEwOlJlcG9zaXRvcnk0MzgyNDY3Ng==","name":"spark","full_name":"zero323/spark","private":false,"owner":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zero323/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zero323/spark","forks_url":"https://api.github.com/repos/zero323/spark/forks","keys_url":"https://api.github.com/repos/zero323/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zero323/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zero323/spark/teams","hooks_url":"https://api.github.com/repos/zero323/spark/hooks","issue_events_url":"https://api.github.com/repos/zero323/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zero323/spark/events","assignees_url":"https://api.github.com/repos/zero323/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zero323/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zero323/spark/tags","blobs_url":"https://api.github.com/repos/zero323/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zero323/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zero323/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zero323/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zero323/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zero323/spark/languages","stargazers_url":"https://api.github.com/repos/zero323/spark/stargazers","contributors_url":"https://api.github.com/repos/zero323/spark/contributors","subscribers_url":"https://api.github.com/repos/zero323/spark/subscribers","subscription_url":"https://api.github.com/repos/zero323/spark/subscription","commits_url":"https://api.github.com/repos/zero323/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zero323/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zero323/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zero323/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zero323/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zero323/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zero323/spark/merges","archive_url":"https://api.github.com/repos/zero323/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zero323/spark/downloads","issues_url":"https://api.github.com/repos/zero323/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zero323/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zero323/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zero323/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zero323/spark/labels{/name}","releases_url":"https://api.github.com/repos/zero323/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zero323/spark/deployments","created_at":"2015-10-07T15:16:38Z","updated_at":"2025-02-05T16:45:39Z","pushed_at":"2025-02-05T16:44:26Z","git_url":"git://github.com/zero323/spark.git","ssh_url":"git@github.com:zero323/spark.git","clone_url":"https://github.com/zero323/spark.git","svn_url":"https://github.com/zero323/spark","homepage":null,"size":438263,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"0084a8677ad77143b109dff3d3e9be4035d00fd4","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35401"},"html":{"href":"https://github.com/apache/spark/pull/35401"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35401"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35401/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35401/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35401/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/8ee62af3d5e7402472c8eef92f37234135f61d9c"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35400","id":840791227,"node_id":"PR_kwDOAQXtWs4yHXS7","html_url":"https://github.com/apache/spark/pull/35400","diff_url":"https://github.com/apache/spark/pull/35400.diff","patch_url":"https://github.com/apache/spark/pull/35400.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35400","number":35400,"state":"closed","locked":false,"title":"[SPARK-36665][SQL][FOLLOWUP] Avoid Optimizing Not(InSubquery)","user":{"login":"kazuyukitanimura","id":129050,"node_id":"MDQ6VXNlcjEyOTA1MA==","avatar_url":"https://avatars.githubusercontent.com/u/129050?v=4","gravatar_id":"","url":"https://api.github.com/users/kazuyukitanimura","html_url":"https://github.com/kazuyukitanimura","followers_url":"https://api.github.com/users/kazuyukitanimura/followers","following_url":"https://api.github.com/users/kazuyukitanimura/following{/other_user}","gists_url":"https://api.github.com/users/kazuyukitanimura/gists{/gist_id}","starred_url":"https://api.github.com/users/kazuyukitanimura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kazuyukitanimura/subscriptions","organizations_url":"https://api.github.com/users/kazuyukitanimura/orgs","repos_url":"https://api.github.com/users/kazuyukitanimura/repos","events_url":"https://api.github.com/users/kazuyukitanimura/events{/privacy}","received_events_url":"https://api.github.com/users/kazuyukitanimura/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis is a follow-up PR to fix the bug introduced by SPARK-36665. With this fix, `NotPropagation` optimization does not apply to `InSubquery` cases.\r\n\r\n\r\n### Why are the changes needed?\r\n`NotPropagation` optimization previously broke `RewritePredicateSubquery` so that it does not properly rewrite the predicate to a NULL-aware left anti join anymore. \r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n### How was this patch tested?\r\nUnit test added","created_at":"2022-02-05T04:19:33Z","updated_at":"2022-02-07T21:26:38Z","closed_at":"2022-02-07T21:26:38Z","merged_at":null,"merge_commit_sha":"bed311a3ec12ed4407ad143a9b79bab42e28c12b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35400/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35400/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35400/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/26da7fd657bc2fa016710553601fcab92a4d4655","head":{"label":"kazuyukitanimura:SPARK-36665-followup","ref":"SPARK-36665-followup","sha":"26da7fd657bc2fa016710553601fcab92a4d4655","user":{"login":"kazuyukitanimura","id":129050,"node_id":"MDQ6VXNlcjEyOTA1MA==","avatar_url":"https://avatars.githubusercontent.com/u/129050?v=4","gravatar_id":"","url":"https://api.github.com/users/kazuyukitanimura","html_url":"https://github.com/kazuyukitanimura","followers_url":"https://api.github.com/users/kazuyukitanimura/followers","following_url":"https://api.github.com/users/kazuyukitanimura/following{/other_user}","gists_url":"https://api.github.com/users/kazuyukitanimura/gists{/gist_id}","starred_url":"https://api.github.com/users/kazuyukitanimura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kazuyukitanimura/subscriptions","organizations_url":"https://api.github.com/users/kazuyukitanimura/orgs","repos_url":"https://api.github.com/users/kazuyukitanimura/repos","events_url":"https://api.github.com/users/kazuyukitanimura/events{/privacy}","received_events_url":"https://api.github.com/users/kazuyukitanimura/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":394523815,"node_id":"MDEwOlJlcG9zaXRvcnkzOTQ1MjM4MTU=","name":"spark","full_name":"kazuyukitanimura/spark","private":false,"owner":{"login":"kazuyukitanimura","id":129050,"node_id":"MDQ6VXNlcjEyOTA1MA==","avatar_url":"https://avatars.githubusercontent.com/u/129050?v=4","gravatar_id":"","url":"https://api.github.com/users/kazuyukitanimura","html_url":"https://github.com/kazuyukitanimura","followers_url":"https://api.github.com/users/kazuyukitanimura/followers","following_url":"https://api.github.com/users/kazuyukitanimura/following{/other_user}","gists_url":"https://api.github.com/users/kazuyukitanimura/gists{/gist_id}","starred_url":"https://api.github.com/users/kazuyukitanimura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kazuyukitanimura/subscriptions","organizations_url":"https://api.github.com/users/kazuyukitanimura/orgs","repos_url":"https://api.github.com/users/kazuyukitanimura/repos","events_url":"https://api.github.com/users/kazuyukitanimura/events{/privacy}","received_events_url":"https://api.github.com/users/kazuyukitanimura/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/kazuyukitanimura/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/kazuyukitanimura/spark","forks_url":"https://api.github.com/repos/kazuyukitanimura/spark/forks","keys_url":"https://api.github.com/repos/kazuyukitanimura/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/kazuyukitanimura/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/kazuyukitanimura/spark/teams","hooks_url":"https://api.github.com/repos/kazuyukitanimura/spark/hooks","issue_events_url":"https://api.github.com/repos/kazuyukitanimura/spark/issues/events{/number}","events_url":"https://api.github.com/repos/kazuyukitanimura/spark/events","assignees_url":"https://api.github.com/repos/kazuyukitanimura/spark/assignees{/user}","branches_url":"https://api.github.com/repos/kazuyukitanimura/spark/branches{/branch}","tags_url":"https://api.github.com/repos/kazuyukitanimura/spark/tags","blobs_url":"https://api.github.com/repos/kazuyukitanimura/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/kazuyukitanimura/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/kazuyukitanimura/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/kazuyukitanimura/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/kazuyukitanimura/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/kazuyukitanimura/spark/languages","stargazers_url":"https://api.github.com/repos/kazuyukitanimura/spark/stargazers","contributors_url":"https://api.github.com/repos/kazuyukitanimura/spark/contributors","subscribers_url":"https://api.github.com/repos/kazuyukitanimura/spark/subscribers","subscription_url":"https://api.github.com/repos/kazuyukitanimura/spark/subscription","commits_url":"https://api.github.com/repos/kazuyukitanimura/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/kazuyukitanimura/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/kazuyukitanimura/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/kazuyukitanimura/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/kazuyukitanimura/spark/contents/{+path}","compare_url":"https://api.github.com/repos/kazuyukitanimura/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/kazuyukitanimura/spark/merges","archive_url":"https://api.github.com/repos/kazuyukitanimura/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/kazuyukitanimura/spark/downloads","issues_url":"https://api.github.com/repos/kazuyukitanimura/spark/issues{/number}","pulls_url":"https://api.github.com/repos/kazuyukitanimura/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/kazuyukitanimura/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/kazuyukitanimura/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/kazuyukitanimura/spark/labels{/name}","releases_url":"https://api.github.com/repos/kazuyukitanimura/spark/releases{/id}","deployments_url":"https://api.github.com/repos/kazuyukitanimura/spark/deployments","created_at":"2021-08-10T04:27:28Z","updated_at":"2022-01-06T07:42:44Z","pushed_at":"2024-10-16T19:12:15Z","git_url":"git://github.com/kazuyukitanimura/spark.git","ssh_url":"git@github.com:kazuyukitanimura/spark.git","clone_url":"https://github.com/kazuyukitanimura/spark.git","svn_url":"https://github.com/kazuyukitanimura/spark","homepage":"https://spark.apache.org/","size":408882,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"49f215a5ae64a50e889ae5cf94421cdeb0eacf09","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35400"},"html":{"href":"https://github.com/apache/spark/pull/35400"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35400"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35400/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35400/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35400/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/26da7fd657bc2fa016710553601fcab92a4d4655"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35399","id":840669759,"node_id":"PR_kwDOAQXtWs4yG5o_","html_url":"https://github.com/apache/spark/pull/35399","diff_url":"https://github.com/apache/spark/pull/35399.diff","patch_url":"https://github.com/apache/spark/pull/35399.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35399","number":35399,"state":"closed","locked":false,"title":"[SPARK-37416][PYTHON][ML] Inline type hints for pyspark.ml.wrapper","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nThis PR migrates type `pyspark.ml.wrapper` annotations from stub file to inline type hints.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nPart of ongoing migration of type hints.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nExisting tests.","created_at":"2022-02-04T22:45:51Z","updated_at":"2022-02-06T23:03:17Z","closed_at":"2022-02-06T23:02:47Z","merged_at":null,"merge_commit_sha":"dc94af31a20647340663a287625d05404706c5e4","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35399/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35399/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35399/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/a0bca8e793f1666c07ee5e4aa46496ece5e4ac16","head":{"label":"zero323:SPARK-37416","ref":"SPARK-37416","sha":"a0bca8e793f1666c07ee5e4aa46496ece5e4ac16","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":43824676,"node_id":"MDEwOlJlcG9zaXRvcnk0MzgyNDY3Ng==","name":"spark","full_name":"zero323/spark","private":false,"owner":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zero323/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zero323/spark","forks_url":"https://api.github.com/repos/zero323/spark/forks","keys_url":"https://api.github.com/repos/zero323/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zero323/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zero323/spark/teams","hooks_url":"https://api.github.com/repos/zero323/spark/hooks","issue_events_url":"https://api.github.com/repos/zero323/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zero323/spark/events","assignees_url":"https://api.github.com/repos/zero323/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zero323/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zero323/spark/tags","blobs_url":"https://api.github.com/repos/zero323/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zero323/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zero323/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zero323/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zero323/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zero323/spark/languages","stargazers_url":"https://api.github.com/repos/zero323/spark/stargazers","contributors_url":"https://api.github.com/repos/zero323/spark/contributors","subscribers_url":"https://api.github.com/repos/zero323/spark/subscribers","subscription_url":"https://api.github.com/repos/zero323/spark/subscription","commits_url":"https://api.github.com/repos/zero323/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zero323/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zero323/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zero323/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zero323/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zero323/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zero323/spark/merges","archive_url":"https://api.github.com/repos/zero323/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zero323/spark/downloads","issues_url":"https://api.github.com/repos/zero323/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zero323/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zero323/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zero323/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zero323/spark/labels{/name}","releases_url":"https://api.github.com/repos/zero323/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zero323/spark/deployments","created_at":"2015-10-07T15:16:38Z","updated_at":"2025-02-05T16:45:39Z","pushed_at":"2025-02-05T16:44:26Z","git_url":"git://github.com/zero323/spark.git","ssh_url":"git@github.com:zero323/spark.git","clone_url":"https://github.com/zero323/spark.git","svn_url":"https://github.com/zero323/spark","homepage":null,"size":438263,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"0084a8677ad77143b109dff3d3e9be4035d00fd4","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35399"},"html":{"href":"https://github.com/apache/spark/pull/35399"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35399"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35399/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35399/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35399/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/a0bca8e793f1666c07ee5e4aa46496ece5e4ac16"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35398","id":840433302,"node_id":"PR_kwDOAQXtWs4yF_6W","html_url":"https://github.com/apache/spark/pull/35398","diff_url":"https://github.com/apache/spark/pull/35398.diff","patch_url":"https://github.com/apache/spark/pull/35398.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35398","number":35398,"state":"closed","locked":false,"title":"[SPARK-38082][PYTHON] Update minimum numpy version to 1.15","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\n<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nThis PR changes minimum required numpy version to 1.15.\r\n\r\nAdditionally, it replaces calls to deprecated `tostring` method.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nCurrent lower bound is ancient and no longer supported by the rest our dependencies.\r\n\r\nAdditionally, supporting it, requires usage of long deprecated methods creating unnecessary gaps in our type checker coverage.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nExisting tests.","created_at":"2022-02-04T16:48:25Z","updated_at":"2022-02-05T09:27:15Z","closed_at":"2022-02-05T04:05:45Z","merged_at":null,"merge_commit_sha":"a6189332a73150f97d08287e356849fba637f6f3","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1405803268,"node_id":"MDU6TGFiZWwxNDA1ODAzMjY4","url":"https://api.github.com/repos/apache/spark/labels/MLLIB","name":"MLLIB","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35398/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35398/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35398/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/318b0dc7c2ef2dc695179fed9552fd7d5e8b8a9b","head":{"label":"zero323:SPARK-38082","ref":"SPARK-38082","sha":"318b0dc7c2ef2dc695179fed9552fd7d5e8b8a9b","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":43824676,"node_id":"MDEwOlJlcG9zaXRvcnk0MzgyNDY3Ng==","name":"spark","full_name":"zero323/spark","private":false,"owner":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zero323/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zero323/spark","forks_url":"https://api.github.com/repos/zero323/spark/forks","keys_url":"https://api.github.com/repos/zero323/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zero323/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zero323/spark/teams","hooks_url":"https://api.github.com/repos/zero323/spark/hooks","issue_events_url":"https://api.github.com/repos/zero323/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zero323/spark/events","assignees_url":"https://api.github.com/repos/zero323/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zero323/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zero323/spark/tags","blobs_url":"https://api.github.com/repos/zero323/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zero323/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zero323/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zero323/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zero323/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zero323/spark/languages","stargazers_url":"https://api.github.com/repos/zero323/spark/stargazers","contributors_url":"https://api.github.com/repos/zero323/spark/contributors","subscribers_url":"https://api.github.com/repos/zero323/spark/subscribers","subscription_url":"https://api.github.com/repos/zero323/spark/subscription","commits_url":"https://api.github.com/repos/zero323/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zero323/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zero323/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zero323/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zero323/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zero323/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zero323/spark/merges","archive_url":"https://api.github.com/repos/zero323/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zero323/spark/downloads","issues_url":"https://api.github.com/repos/zero323/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zero323/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zero323/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zero323/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zero323/spark/labels{/name}","releases_url":"https://api.github.com/repos/zero323/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zero323/spark/deployments","created_at":"2015-10-07T15:16:38Z","updated_at":"2025-02-05T16:45:39Z","pushed_at":"2025-02-05T16:44:26Z","git_url":"git://github.com/zero323/spark.git","ssh_url":"git@github.com:zero323/spark.git","clone_url":"https://github.com/zero323/spark.git","svn_url":"https://github.com/zero323/spark","homepage":null,"size":438263,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"54b11fab2fedfe5382d41737f59fff672d2d39cd","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35398"},"html":{"href":"https://github.com/apache/spark/pull/35398"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35398"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35398/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35398/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35398/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/318b0dc7c2ef2dc695179fed9552fd7d5e8b8a9b"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35397","id":840399289,"node_id":"PR_kwDOAQXtWs4yF3m5","html_url":"https://github.com/apache/spark/pull/35397","diff_url":"https://github.com/apache/spark/pull/35397.diff","patch_url":"https://github.com/apache/spark/pull/35397.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35397","number":35397,"state":"closed","locked":false,"title":"[SPARK-38102][CORE] Support custom commitProtocolClass in saveAsNewAPIHadoopDataset","user":{"login":"ocworld","id":13185662,"node_id":"MDQ6VXNlcjEzMTg1NjYy","avatar_url":"https://avatars.githubusercontent.com/u/13185662?v=4","gravatar_id":"","url":"https://api.github.com/users/ocworld","html_url":"https://github.com/ocworld","followers_url":"https://api.github.com/users/ocworld/followers","following_url":"https://api.github.com/users/ocworld/following{/other_user}","gists_url":"https://api.github.com/users/ocworld/gists{/gist_id}","starred_url":"https://api.github.com/users/ocworld/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ocworld/subscriptions","organizations_url":"https://api.github.com/users/ocworld/orgs","repos_url":"https://api.github.com/users/ocworld/repos","events_url":"https://api.github.com/users/ocworld/events{/privacy}","received_events_url":"https://api.github.com/users/ocworld/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"There is no way to apply spark-hadoop-cloud's commitProtocolClass when using saveAsNewAPIHadoopDataset that are to avoid object storage's problem.\r\n\r\nhttps://spark.apache.org/docs/latest/cloud-integration.html\r\n\r\n \r\n\r\nIt is needed to support custom commitProtocolClass class when using saveAsNewAPIHadoopDataset by an option. For example,\r\n\r\n```\r\nspark.hadoop.mapreduce.sources.commitProtocolClass org.apache.spark.internal.io.cloud.PathOutputCommitProtocol\r\n```\r\n\r\n ","created_at":"2022-02-04T16:07:19Z","updated_at":"2022-02-05T08:53:56Z","closed_at":"2022-02-05T08:53:55Z","merged_at":null,"merge_commit_sha":"4997f9db63cbb5980fbaaa966ec8247a5e57b3f4","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35397/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35397/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35397/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/7cd1d332a2f538d5572b2648d91390ed388055aa","head":{"label":"ocworld:SPARK-38102-saveAsNewAPIHadoop-custom-commitProtocolClass","ref":"SPARK-38102-saveAsNewAPIHadoop-custom-commitProtocolClass","sha":"7cd1d332a2f538d5572b2648d91390ed388055aa","user":{"login":"ocworld","id":13185662,"node_id":"MDQ6VXNlcjEzMTg1NjYy","avatar_url":"https://avatars.githubusercontent.com/u/13185662?v=4","gravatar_id":"","url":"https://api.github.com/users/ocworld","html_url":"https://github.com/ocworld","followers_url":"https://api.github.com/users/ocworld/followers","following_url":"https://api.github.com/users/ocworld/following{/other_user}","gists_url":"https://api.github.com/users/ocworld/gists{/gist_id}","starred_url":"https://api.github.com/users/ocworld/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ocworld/subscriptions","organizations_url":"https://api.github.com/users/ocworld/orgs","repos_url":"https://api.github.com/users/ocworld/repos","events_url":"https://api.github.com/users/ocworld/events{/privacy}","received_events_url":"https://api.github.com/users/ocworld/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"54b11fab2fedfe5382d41737f59fff672d2d39cd","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35397"},"html":{"href":"https://github.com/apache/spark/pull/35397"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35397"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35397/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35397/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35397/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/7cd1d332a2f538d5572b2648d91390ed388055aa"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35396","id":840188638,"node_id":"PR_kwDOAQXtWs4yFELe","html_url":"https://github.com/apache/spark/pull/35396","diff_url":"https://github.com/apache/spark/pull/35396.diff","patch_url":"https://github.com/apache/spark/pull/35396.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35396","number":35396,"state":"closed","locked":false,"title":"[SPARK-38073][PYTHON] Update atexit function to avoid issues with late binding","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nThis PR updates function registered in PySpark shell `atexit` to capture `SparkContext` instead of depending on the surrounding context. \r\n\r\n**Note**\r\n\r\nA simpler approach\r\n\r\n```python\r\natexit.register(sc.stop)\r\n```\r\n\r\nis possible, but won't work properly in case of contexts with monkey patched `stop` methods (for example like [pyspark-asyncactions](https://github.com/zero323/pyspark-asyncactions))\r\n\r\nI also consider using `_active_spark_context`\r\n\r\n```python\r\natexit.register(lambda: (\r\n    SparkContext._active_spark_context.stop()\r\n    if SparkContext._active_spark_context\r\n    else None\r\n))\r\n```\r\n\r\nbut `SparkContext` is also out of scope, so that doesn't work without introducing a standard function within the scope.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nWhen using `ipython` as a driver with Python 3.8, `sc` goes out of scope before `atexit` function is called. This leads to `NameError` on exit. This is a mild annoyance and likely a bug in ipython (there are quite a few of these with similar behavior), but it is easy to address on our side, without causing regressions for users of earlier Python versions.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nManual testing to confirm that:\r\n\r\n- Named error is no longer thrown on exit with ipython and Python 3.8 or later.\r\n- `stop` is indeed invoked on exit with both plain interpreter and ipython shells.","created_at":"2022-02-04T11:56:15Z","updated_at":"2022-02-05T09:27:55Z","closed_at":"2022-02-05T04:21:08Z","merged_at":null,"merge_commit_sha":"893217e4eb53db44ee925ebdb9f034674fd428c6","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35396/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35396/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35396/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/ec9013a4d3ac815aee2b3448a3ab6cbfb7786eaf","head":{"label":"zero323:SPARK-38073","ref":"SPARK-38073","sha":"ec9013a4d3ac815aee2b3448a3ab6cbfb7786eaf","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":43824676,"node_id":"MDEwOlJlcG9zaXRvcnk0MzgyNDY3Ng==","name":"spark","full_name":"zero323/spark","private":false,"owner":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zero323/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zero323/spark","forks_url":"https://api.github.com/repos/zero323/spark/forks","keys_url":"https://api.github.com/repos/zero323/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zero323/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zero323/spark/teams","hooks_url":"https://api.github.com/repos/zero323/spark/hooks","issue_events_url":"https://api.github.com/repos/zero323/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zero323/spark/events","assignees_url":"https://api.github.com/repos/zero323/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zero323/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zero323/spark/tags","blobs_url":"https://api.github.com/repos/zero323/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zero323/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zero323/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zero323/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zero323/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zero323/spark/languages","stargazers_url":"https://api.github.com/repos/zero323/spark/stargazers","contributors_url":"https://api.github.com/repos/zero323/spark/contributors","subscribers_url":"https://api.github.com/repos/zero323/spark/subscribers","subscription_url":"https://api.github.com/repos/zero323/spark/subscription","commits_url":"https://api.github.com/repos/zero323/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zero323/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zero323/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zero323/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zero323/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zero323/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zero323/spark/merges","archive_url":"https://api.github.com/repos/zero323/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zero323/spark/downloads","issues_url":"https://api.github.com/repos/zero323/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zero323/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zero323/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zero323/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zero323/spark/labels{/name}","releases_url":"https://api.github.com/repos/zero323/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zero323/spark/deployments","created_at":"2015-10-07T15:16:38Z","updated_at":"2025-02-05T16:45:39Z","pushed_at":"2025-02-05T16:44:26Z","git_url":"git://github.com/zero323/spark.git","ssh_url":"git@github.com:zero323/spark.git","clone_url":"https://github.com/zero323/spark.git","svn_url":"https://github.com/zero323/spark","homepage":null,"size":438263,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"7a613ecb826d3009f4587cefeb89f31b1cb4bed2","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35396"},"html":{"href":"https://github.com/apache/spark/pull/35396"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35396"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35396/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35396/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35396/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/ec9013a4d3ac815aee2b3448a3ab6cbfb7786eaf"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35395","id":839952773,"node_id":"PR_kwDOAQXtWs4yEKmF","html_url":"https://github.com/apache/spark/pull/35395","diff_url":"https://github.com/apache/spark/pull/35395.diff","patch_url":"https://github.com/apache/spark/pull/35395.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35395","number":35395,"state":"closed","locked":false,"title":"[SPARK-38085][SQL] DataSource V2: Handle DELETE commands for group-based sources","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nThis PR contains changes to rewrite DELETE operations for V2 data sources that can replace groups of data (e.g. files, partitions).\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nThese changes are needed to support row-level operations in Spark per SPIP SPARK-35801.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nThis PR comes with tests.","created_at":"2022-02-04T05:57:28Z","updated_at":"2022-04-13T17:12:37Z","closed_at":"2022-04-13T05:47:27Z","merged_at":null,"merge_commit_sha":"3eee1dc912cc56d7d58f3051ce488849c81898a6","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35395/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35395/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35395/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/6e85b6a9d48cfe8eba45711131ae105bacba34be","head":{"label":"aokolnychyi:spark-38085","ref":"spark-38085","sha":"6e85b6a9d48cfe8eba45711131ae105bacba34be","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":61945043,"node_id":"MDEwOlJlcG9zaXRvcnk2MTk0NTA0Mw==","name":"spark","full_name":"aokolnychyi/spark","private":false,"owner":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/aokolnychyi/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/aokolnychyi/spark","forks_url":"https://api.github.com/repos/aokolnychyi/spark/forks","keys_url":"https://api.github.com/repos/aokolnychyi/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/aokolnychyi/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/aokolnychyi/spark/teams","hooks_url":"https://api.github.com/repos/aokolnychyi/spark/hooks","issue_events_url":"https://api.github.com/repos/aokolnychyi/spark/issues/events{/number}","events_url":"https://api.github.com/repos/aokolnychyi/spark/events","assignees_url":"https://api.github.com/repos/aokolnychyi/spark/assignees{/user}","branches_url":"https://api.github.com/repos/aokolnychyi/spark/branches{/branch}","tags_url":"https://api.github.com/repos/aokolnychyi/spark/tags","blobs_url":"https://api.github.com/repos/aokolnychyi/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/aokolnychyi/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/aokolnychyi/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/aokolnychyi/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/aokolnychyi/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/aokolnychyi/spark/languages","stargazers_url":"https://api.github.com/repos/aokolnychyi/spark/stargazers","contributors_url":"https://api.github.com/repos/aokolnychyi/spark/contributors","subscribers_url":"https://api.github.com/repos/aokolnychyi/spark/subscribers","subscription_url":"https://api.github.com/repos/aokolnychyi/spark/subscription","commits_url":"https://api.github.com/repos/aokolnychyi/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/aokolnychyi/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/aokolnychyi/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/aokolnychyi/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/aokolnychyi/spark/contents/{+path}","compare_url":"https://api.github.com/repos/aokolnychyi/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/aokolnychyi/spark/merges","archive_url":"https://api.github.com/repos/aokolnychyi/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/aokolnychyi/spark/downloads","issues_url":"https://api.github.com/repos/aokolnychyi/spark/issues{/number}","pulls_url":"https://api.github.com/repos/aokolnychyi/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/aokolnychyi/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/aokolnychyi/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/aokolnychyi/spark/labels{/name}","releases_url":"https://api.github.com/repos/aokolnychyi/spark/releases{/id}","deployments_url":"https://api.github.com/repos/aokolnychyi/spark/deployments","created_at":"2016-06-25T13:46:06Z","updated_at":"2024-05-24T16:27:18Z","pushed_at":"2025-01-20T03:24:19Z","git_url":"git://github.com/aokolnychyi/spark.git","ssh_url":"git@github.com:aokolnychyi/spark.git","clone_url":"https://github.com/aokolnychyi/spark.git","svn_url":"https://github.com/aokolnychyi/spark","homepage":null,"size":436260,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"7a6b98965bf40993ea2e7837ded1c79813bec5d8","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35395"},"html":{"href":"https://github.com/apache/spark/pull/35395"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35395"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35395/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35395/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35395/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/6e85b6a9d48cfe8eba45711131ae105bacba34be"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35394","id":839809617,"node_id":"PR_kwDOAQXtWs4yDnpR","html_url":"https://github.com/apache/spark/pull/35394","diff_url":"https://github.com/apache/spark/pull/35394.diff","patch_url":"https://github.com/apache/spark/pull/35394.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35394","number":35394,"state":"closed","locked":false,"title":"[MINOR] Remove unnecessary null check for exception cause","user":{"login":"tedyu","id":235188,"node_id":"MDQ6VXNlcjIzNTE4OA==","avatar_url":"https://avatars.githubusercontent.com/u/235188?v=4","gravatar_id":"","url":"https://api.github.com/users/tedyu","html_url":"https://github.com/tedyu","followers_url":"https://api.github.com/users/tedyu/followers","following_url":"https://api.github.com/users/tedyu/following{/other_user}","gists_url":"https://api.github.com/users/tedyu/gists{/gist_id}","starred_url":"https://api.github.com/users/tedyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tedyu/subscriptions","organizations_url":"https://api.github.com/users/tedyu/orgs","repos_url":"https://api.github.com/users/tedyu/repos","events_url":"https://api.github.com/users/tedyu/events{/privacy}","received_events_url":"https://api.github.com/users/tedyu/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nIn two classes under common/network-shuffle, we check whether t.getCause() is null before instanceof check.\r\nThe null check is not needed since null pointer wouldn't pass instanceof check.\r\n\r\n### Why are the changes needed?\r\nThis PR simplifies the code by dropping unnecessary null check.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n### How was this patch tested?\r\nExisting test suite.","created_at":"2022-02-04T00:03:22Z","updated_at":"2022-02-04T15:48:05Z","closed_at":"2022-02-04T15:48:05Z","merged_at":null,"merge_commit_sha":"7959fb992e99aae927eadfa4858d1fc9efcf76e7","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35394/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35394/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35394/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/40bbafe16a1b7bc75f9cd63697f9c9bb34e74944","head":{"label":"tedyu:shuf-null","ref":"shuf-null","sha":"40bbafe16a1b7bc75f9cd63697f9c9bb34e74944","user":{"login":"tedyu","id":235188,"node_id":"MDQ6VXNlcjIzNTE4OA==","avatar_url":"https://avatars.githubusercontent.com/u/235188?v=4","gravatar_id":"","url":"https://api.github.com/users/tedyu","html_url":"https://github.com/tedyu","followers_url":"https://api.github.com/users/tedyu/followers","following_url":"https://api.github.com/users/tedyu/following{/other_user}","gists_url":"https://api.github.com/users/tedyu/gists{/gist_id}","starred_url":"https://api.github.com/users/tedyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tedyu/subscriptions","organizations_url":"https://api.github.com/users/tedyu/orgs","repos_url":"https://api.github.com/users/tedyu/repos","events_url":"https://api.github.com/users/tedyu/events{/privacy}","received_events_url":"https://api.github.com/users/tedyu/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":325822007,"node_id":"MDEwOlJlcG9zaXRvcnkzMjU4MjIwMDc=","name":"spark","full_name":"tedyu/spark","private":false,"owner":{"login":"tedyu","id":235188,"node_id":"MDQ6VXNlcjIzNTE4OA==","avatar_url":"https://avatars.githubusercontent.com/u/235188?v=4","gravatar_id":"","url":"https://api.github.com/users/tedyu","html_url":"https://github.com/tedyu","followers_url":"https://api.github.com/users/tedyu/followers","following_url":"https://api.github.com/users/tedyu/following{/other_user}","gists_url":"https://api.github.com/users/tedyu/gists{/gist_id}","starred_url":"https://api.github.com/users/tedyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tedyu/subscriptions","organizations_url":"https://api.github.com/users/tedyu/orgs","repos_url":"https://api.github.com/users/tedyu/repos","events_url":"https://api.github.com/users/tedyu/events{/privacy}","received_events_url":"https://api.github.com/users/tedyu/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/tedyu/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/tedyu/spark","forks_url":"https://api.github.com/repos/tedyu/spark/forks","keys_url":"https://api.github.com/repos/tedyu/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tedyu/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tedyu/spark/teams","hooks_url":"https://api.github.com/repos/tedyu/spark/hooks","issue_events_url":"https://api.github.com/repos/tedyu/spark/issues/events{/number}","events_url":"https://api.github.com/repos/tedyu/spark/events","assignees_url":"https://api.github.com/repos/tedyu/spark/assignees{/user}","branches_url":"https://api.github.com/repos/tedyu/spark/branches{/branch}","tags_url":"https://api.github.com/repos/tedyu/spark/tags","blobs_url":"https://api.github.com/repos/tedyu/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tedyu/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tedyu/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/tedyu/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tedyu/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/tedyu/spark/languages","stargazers_url":"https://api.github.com/repos/tedyu/spark/stargazers","contributors_url":"https://api.github.com/repos/tedyu/spark/contributors","subscribers_url":"https://api.github.com/repos/tedyu/spark/subscribers","subscription_url":"https://api.github.com/repos/tedyu/spark/subscription","commits_url":"https://api.github.com/repos/tedyu/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/tedyu/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/tedyu/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/tedyu/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/tedyu/spark/contents/{+path}","compare_url":"https://api.github.com/repos/tedyu/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tedyu/spark/merges","archive_url":"https://api.github.com/repos/tedyu/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tedyu/spark/downloads","issues_url":"https://api.github.com/repos/tedyu/spark/issues{/number}","pulls_url":"https://api.github.com/repos/tedyu/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/tedyu/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/tedyu/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tedyu/spark/labels{/name}","releases_url":"https://api.github.com/repos/tedyu/spark/releases{/id}","deployments_url":"https://api.github.com/repos/tedyu/spark/deployments","created_at":"2020-12-31T15:02:53Z","updated_at":"2024-08-20T17:49:00Z","pushed_at":"2025-01-05T16:23:32Z","git_url":"git://github.com/tedyu/spark.git","ssh_url":"git@github.com:tedyu/spark.git","clone_url":"https://github.com/tedyu/spark.git","svn_url":"https://github.com/tedyu/spark","homepage":"https://spark.apache.org/","size":455362,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"7a613ecb826d3009f4587cefeb89f31b1cb4bed2","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35394"},"html":{"href":"https://github.com/apache/spark/pull/35394"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35394"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35394/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35394/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35394/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/40bbafe16a1b7bc75f9cd63697f9c9bb34e74944"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35393","id":839640531,"node_id":"PR_kwDOAQXtWs4yC-XT","html_url":"https://github.com/apache/spark/pull/35393","diff_url":"https://github.com/apache/spark/pull/35393.diff","patch_url":"https://github.com/apache/spark/pull/35393.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35393","number":35393,"state":"closed","locked":false,"title":"[SPARK-38086][SQL] Make ArrowColumnVector Extendable","user":{"login":"kazuyukitanimura","id":129050,"node_id":"MDQ6VXNlcjEyOTA1MA==","avatar_url":"https://avatars.githubusercontent.com/u/129050?v=4","gravatar_id":"","url":"https://api.github.com/users/kazuyukitanimura","html_url":"https://github.com/kazuyukitanimura","followers_url":"https://api.github.com/users/kazuyukitanimura/followers","following_url":"https://api.github.com/users/kazuyukitanimura/following{/other_user}","gists_url":"https://api.github.com/users/kazuyukitanimura/gists{/gist_id}","starred_url":"https://api.github.com/users/kazuyukitanimura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kazuyukitanimura/subscriptions","organizations_url":"https://api.github.com/users/kazuyukitanimura/orgs","repos_url":"https://api.github.com/users/kazuyukitanimura/repos","events_url":"https://api.github.com/users/kazuyukitanimura/events{/privacy}","received_events_url":"https://api.github.com/users/kazuyukitanimura/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis PR proposes to make ArrowColumnVector extendable by relaxing access modifier restrictions\r\n\r\n\r\n### Why are the changes needed?\r\nSome Spark extension libraries need to extend ArrowColumnVector.java.\r\n\r\nIt is impossible extend ArrowColumnVector class for now because the class is final and the accessors are all private.\r\nProposing to relax private/final restrictions to make ArrowColumnVector extendable.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nExisting tests.\r\n","created_at":"2022-02-03T19:38:45Z","updated_at":"2022-02-09T04:21:14Z","closed_at":"2022-02-09T04:20:49Z","merged_at":null,"merge_commit_sha":"d25da0627402edd53c5c01a95a8e3ec23997b732","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35393/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35393/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35393/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/0a32c3eca39b883e7135b85c3f3ae860fa639971","head":{"label":"kazuyukitanimura:SPARK-38086","ref":"SPARK-38086","sha":"0a32c3eca39b883e7135b85c3f3ae860fa639971","user":{"login":"kazuyukitanimura","id":129050,"node_id":"MDQ6VXNlcjEyOTA1MA==","avatar_url":"https://avatars.githubusercontent.com/u/129050?v=4","gravatar_id":"","url":"https://api.github.com/users/kazuyukitanimura","html_url":"https://github.com/kazuyukitanimura","followers_url":"https://api.github.com/users/kazuyukitanimura/followers","following_url":"https://api.github.com/users/kazuyukitanimura/following{/other_user}","gists_url":"https://api.github.com/users/kazuyukitanimura/gists{/gist_id}","starred_url":"https://api.github.com/users/kazuyukitanimura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kazuyukitanimura/subscriptions","organizations_url":"https://api.github.com/users/kazuyukitanimura/orgs","repos_url":"https://api.github.com/users/kazuyukitanimura/repos","events_url":"https://api.github.com/users/kazuyukitanimura/events{/privacy}","received_events_url":"https://api.github.com/users/kazuyukitanimura/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":394523815,"node_id":"MDEwOlJlcG9zaXRvcnkzOTQ1MjM4MTU=","name":"spark","full_name":"kazuyukitanimura/spark","private":false,"owner":{"login":"kazuyukitanimura","id":129050,"node_id":"MDQ6VXNlcjEyOTA1MA==","avatar_url":"https://avatars.githubusercontent.com/u/129050?v=4","gravatar_id":"","url":"https://api.github.com/users/kazuyukitanimura","html_url":"https://github.com/kazuyukitanimura","followers_url":"https://api.github.com/users/kazuyukitanimura/followers","following_url":"https://api.github.com/users/kazuyukitanimura/following{/other_user}","gists_url":"https://api.github.com/users/kazuyukitanimura/gists{/gist_id}","starred_url":"https://api.github.com/users/kazuyukitanimura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kazuyukitanimura/subscriptions","organizations_url":"https://api.github.com/users/kazuyukitanimura/orgs","repos_url":"https://api.github.com/users/kazuyukitanimura/repos","events_url":"https://api.github.com/users/kazuyukitanimura/events{/privacy}","received_events_url":"https://api.github.com/users/kazuyukitanimura/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/kazuyukitanimura/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/kazuyukitanimura/spark","forks_url":"https://api.github.com/repos/kazuyukitanimura/spark/forks","keys_url":"https://api.github.com/repos/kazuyukitanimura/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/kazuyukitanimura/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/kazuyukitanimura/spark/teams","hooks_url":"https://api.github.com/repos/kazuyukitanimura/spark/hooks","issue_events_url":"https://api.github.com/repos/kazuyukitanimura/spark/issues/events{/number}","events_url":"https://api.github.com/repos/kazuyukitanimura/spark/events","assignees_url":"https://api.github.com/repos/kazuyukitanimura/spark/assignees{/user}","branches_url":"https://api.github.com/repos/kazuyukitanimura/spark/branches{/branch}","tags_url":"https://api.github.com/repos/kazuyukitanimura/spark/tags","blobs_url":"https://api.github.com/repos/kazuyukitanimura/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/kazuyukitanimura/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/kazuyukitanimura/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/kazuyukitanimura/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/kazuyukitanimura/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/kazuyukitanimura/spark/languages","stargazers_url":"https://api.github.com/repos/kazuyukitanimura/spark/stargazers","contributors_url":"https://api.github.com/repos/kazuyukitanimura/spark/contributors","subscribers_url":"https://api.github.com/repos/kazuyukitanimura/spark/subscribers","subscription_url":"https://api.github.com/repos/kazuyukitanimura/spark/subscription","commits_url":"https://api.github.com/repos/kazuyukitanimura/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/kazuyukitanimura/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/kazuyukitanimura/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/kazuyukitanimura/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/kazuyukitanimura/spark/contents/{+path}","compare_url":"https://api.github.com/repos/kazuyukitanimura/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/kazuyukitanimura/spark/merges","archive_url":"https://api.github.com/repos/kazuyukitanimura/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/kazuyukitanimura/spark/downloads","issues_url":"https://api.github.com/repos/kazuyukitanimura/spark/issues{/number}","pulls_url":"https://api.github.com/repos/kazuyukitanimura/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/kazuyukitanimura/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/kazuyukitanimura/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/kazuyukitanimura/spark/labels{/name}","releases_url":"https://api.github.com/repos/kazuyukitanimura/spark/releases{/id}","deployments_url":"https://api.github.com/repos/kazuyukitanimura/spark/deployments","created_at":"2021-08-10T04:27:28Z","updated_at":"2022-01-06T07:42:44Z","pushed_at":"2024-10-16T19:12:15Z","git_url":"git://github.com/kazuyukitanimura/spark.git","ssh_url":"git@github.com:kazuyukitanimura/spark.git","clone_url":"https://github.com/kazuyukitanimura/spark.git","svn_url":"https://github.com/kazuyukitanimura/spark","homepage":"https://spark.apache.org/","size":408882,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"cc53a0e0734cf56711667b65cfbaf5684fc06923","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35393"},"html":{"href":"https://github.com/apache/spark/pull/35393"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35393"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35393/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35393/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35393/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/0a32c3eca39b883e7135b85c3f3ae860fa639971"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35392","id":839594797,"node_id":"PR_kwDOAQXtWs4yCzMt","html_url":"https://github.com/apache/spark/pull/35392","diff_url":"https://github.com/apache/spark/pull/35392.diff","patch_url":"https://github.com/apache/spark/pull/35392.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35392","number":35392,"state":"closed","locked":false,"title":"[SPARK-38100][SQL] Remove unused private method in `Decimal`","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThere is an unused `private` method `overflowException` in `org.apache.spark.sql.types.Decimal`, this method add by SPARK-28741 and  the relevant invocations are replaced by `QueryExecutionErrors.castingCauseOverflowError` directly after SPARK-35060. So this pr remove this unused method.\r\n\r\n\r\n### Why are the changes needed?\r\nRemove unused method.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nPass GA","created_at":"2022-02-03T18:35:56Z","updated_at":"2023-10-22T07:44:10Z","closed_at":"2022-02-03T21:38:25Z","merged_at":null,"merge_commit_sha":"d7044b6bde91c523fcd732bdb80aa73c9668223e","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35392/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35392/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35392/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3361677b78db27c1845ebd85412ae8e6cdba18aa","head":{"label":"LuciferYang:SPARK-38100","ref":"SPARK-38100","sha":"3361677b78db27c1845ebd85412ae8e6cdba18aa","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"4fcfcc89beb814dbcc784d320bca89fcda51cafd","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35392"},"html":{"href":"https://github.com/apache/spark/pull/35392"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35392"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35392/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35392/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35392/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3361677b78db27c1845ebd85412ae8e6cdba18aa"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35391","id":839426228,"node_id":"PR_kwDOAQXtWs4yCKC0","html_url":"https://github.com/apache/spark/pull/35391","diff_url":"https://github.com/apache/spark/pull/35391.diff","patch_url":"https://github.com/apache/spark/pull/35391.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35391","number":35391,"state":"closed","locked":false,"title":"[SPARK-38098][PYTHON] Add support for ArrayType of nested StructType to arrow-based conversion","user":{"login":"LucaCanali","id":5243162,"node_id":"MDQ6VXNlcjUyNDMxNjI=","avatar_url":"https://avatars.githubusercontent.com/u/5243162?v=4","gravatar_id":"","url":"https://api.github.com/users/LucaCanali","html_url":"https://github.com/LucaCanali","followers_url":"https://api.github.com/users/LucaCanali/followers","following_url":"https://api.github.com/users/LucaCanali/following{/other_user}","gists_url":"https://api.github.com/users/LucaCanali/gists{/gist_id}","starred_url":"https://api.github.com/users/LucaCanali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LucaCanali/subscriptions","organizations_url":"https://api.github.com/users/LucaCanali/orgs","repos_url":"https://api.github.com/users/LucaCanali/repos","events_url":"https://api.github.com/users/LucaCanali/events{/privacy}","received_events_url":"https://api.github.com/users/LucaCanali/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis proposes to add support for ArrayType of nested StructType to arrow-based conversion. \r\nThis allows Pandas UDFs, mapInArrow UDFs, and toPandas to operate on columns of type Array of Struct, via arrow serialization.\r\nIt appears to me that pyarrow 2.0.0 allows to serialize array of struct (while pyarrow 1.0.0 throws an error for this type of data).\r\n\r\n### Why are the changes needed?\r\nThis extends the usability of pandas_udf.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nPandas_udf and mapInArrow will be able to operate on data of type Array of Struct.\r\ntoPandas will be able to use arrow serialization for Array of Struct (when spark.sql.execution.arrow.pyspark.enabled=true)\r\n\r\n### How was this patch tested?\r\nA test has been added.","created_at":"2022-02-03T15:34:00Z","updated_at":"2024-04-16T14:31:55Z","closed_at":"2022-09-22T17:10:14Z","merged_at":null,"merge_commit_sha":"53400069f97b09078a31b8f65f6099d10ff338a1","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35391/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35391/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35391/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/bc22c21ce88a8d7dbf5fe191625ed16ca40fb64e","head":{"label":"LucaCanali:supportPandasUDFArrayStruct","ref":"supportPandasUDFArrayStruct","sha":"bc22c21ce88a8d7dbf5fe191625ed16ca40fb64e","user":{"login":"LucaCanali","id":5243162,"node_id":"MDQ6VXNlcjUyNDMxNjI=","avatar_url":"https://avatars.githubusercontent.com/u/5243162?v=4","gravatar_id":"","url":"https://api.github.com/users/LucaCanali","html_url":"https://github.com/LucaCanali","followers_url":"https://api.github.com/users/LucaCanali/followers","following_url":"https://api.github.com/users/LucaCanali/following{/other_user}","gists_url":"https://api.github.com/users/LucaCanali/gists{/gist_id}","starred_url":"https://api.github.com/users/LucaCanali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LucaCanali/subscriptions","organizations_url":"https://api.github.com/users/LucaCanali/orgs","repos_url":"https://api.github.com/users/LucaCanali/repos","events_url":"https://api.github.com/users/LucaCanali/events{/privacy}","received_events_url":"https://api.github.com/users/LucaCanali/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":145986175,"node_id":"MDEwOlJlcG9zaXRvcnkxNDU5ODYxNzU=","name":"spark","full_name":"LucaCanali/spark","private":false,"owner":{"login":"LucaCanali","id":5243162,"node_id":"MDQ6VXNlcjUyNDMxNjI=","avatar_url":"https://avatars.githubusercontent.com/u/5243162?v=4","gravatar_id":"","url":"https://api.github.com/users/LucaCanali","html_url":"https://github.com/LucaCanali","followers_url":"https://api.github.com/users/LucaCanali/followers","following_url":"https://api.github.com/users/LucaCanali/following{/other_user}","gists_url":"https://api.github.com/users/LucaCanali/gists{/gist_id}","starred_url":"https://api.github.com/users/LucaCanali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LucaCanali/subscriptions","organizations_url":"https://api.github.com/users/LucaCanali/orgs","repos_url":"https://api.github.com/users/LucaCanali/repos","events_url":"https://api.github.com/users/LucaCanali/events{/privacy}","received_events_url":"https://api.github.com/users/LucaCanali/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LucaCanali/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LucaCanali/spark","forks_url":"https://api.github.com/repos/LucaCanali/spark/forks","keys_url":"https://api.github.com/repos/LucaCanali/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LucaCanali/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LucaCanali/spark/teams","hooks_url":"https://api.github.com/repos/LucaCanali/spark/hooks","issue_events_url":"https://api.github.com/repos/LucaCanali/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LucaCanali/spark/events","assignees_url":"https://api.github.com/repos/LucaCanali/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LucaCanali/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LucaCanali/spark/tags","blobs_url":"https://api.github.com/repos/LucaCanali/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LucaCanali/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LucaCanali/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LucaCanali/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LucaCanali/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LucaCanali/spark/languages","stargazers_url":"https://api.github.com/repos/LucaCanali/spark/stargazers","contributors_url":"https://api.github.com/repos/LucaCanali/spark/contributors","subscribers_url":"https://api.github.com/repos/LucaCanali/spark/subscribers","subscription_url":"https://api.github.com/repos/LucaCanali/spark/subscription","commits_url":"https://api.github.com/repos/LucaCanali/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LucaCanali/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LucaCanali/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LucaCanali/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LucaCanali/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LucaCanali/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LucaCanali/spark/merges","archive_url":"https://api.github.com/repos/LucaCanali/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LucaCanali/spark/downloads","issues_url":"https://api.github.com/repos/LucaCanali/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LucaCanali/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LucaCanali/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LucaCanali/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LucaCanali/spark/labels{/name}","releases_url":"https://api.github.com/repos/LucaCanali/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LucaCanali/spark/deployments","created_at":"2018-08-24T12:02:34Z","updated_at":"2025-01-22T15:30:45Z","pushed_at":"2025-01-22T16:08:40Z","git_url":"git://github.com/LucaCanali/spark.git","ssh_url":"git@github.com:LucaCanali/spark.git","clone_url":"https://github.com/LucaCanali/spark.git","svn_url":"https://github.com/LucaCanali/spark","homepage":null,"size":445683,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"9cae423075145d3dd81d53f4b82d4f2af6fe7c15","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35391"},"html":{"href":"https://github.com/apache/spark/pull/35391"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35391"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35391/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35391/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35391/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/bc22c21ce88a8d7dbf5fe191625ed16ca40fb64e"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35390","id":839289637,"node_id":"PR_kwDOAQXtWs4yBosl","html_url":"https://github.com/apache/spark/pull/35390","diff_url":"https://github.com/apache/spark/pull/35390.diff","patch_url":"https://github.com/apache/spark/pull/35390.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35390","number":35390,"state":"closed","locked":false,"title":"[SPARK-37936][SQL] Use error classes in the parsing errors of intervals","user":{"login":"senthh","id":9917543,"node_id":"MDQ6VXNlcjk5MTc1NDM=","avatar_url":"https://avatars.githubusercontent.com/u/9917543?v=4","gravatar_id":"","url":"https://api.github.com/users/senthh","html_url":"https://github.com/senthh","followers_url":"https://api.github.com/users/senthh/followers","following_url":"https://api.github.com/users/senthh/following{/other_user}","gists_url":"https://api.github.com/users/senthh/gists{/gist_id}","starred_url":"https://api.github.com/users/senthh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/senthh/subscriptions","organizations_url":"https://api.github.com/users/senthh/orgs","repos_url":"https://api.github.com/users/senthh/repos","events_url":"https://api.github.com/users/senthh/events{/privacy}","received_events_url":"https://api.github.com/users/senthh/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nIn this PR, We propose to throw ParseException from below methods with the error classes:\r\n- moreThanOneFromToUnitInIntervalLiteralError() - MORE_THAN_ONE_FROM_TO_UNIT_IN_INTERVAL_LITERAL\r\n- invalidIntervalLiteralError() - INVALID_INTERVAL_LITERAL\r\n- invalidIntervalFormError() - INVALID_INTERVAL_FORM\r\n- invalidFromToUnitValueError() - INVALID_FROM_TO_UNIT_VALUE\r\n- fromToIntervalUnsupportedError() - UNSUPPORTED_FROM_TO_INTERVAL\r\n- mixedIntervalUnitsError() - MIXED_INTERVAL_UNITS\r\n\r\nNew error classes are added to error-classes.json.\r\n\r\nNew test suite QueryParsingErrorsSuite for checking the errors has been created.\r\n\r\n### Why are the changes needed?\r\nPlease refer [SPARK-37935: Migrate onto error classes](https://issues.apache.org/jira/browse/SPARK-37935).\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n### How was this patch tested?\r\nNew tests are added to QueryParsingErrorsSuite.","created_at":"2022-02-03T13:16:13Z","updated_at":"2022-02-28T10:13:45Z","closed_at":"2022-02-28T10:13:45Z","merged_at":null,"merge_commit_sha":"ba69d0114136a865b3b15eee9e75d5579032288e","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35390/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35390/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35390/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/d2b93f9326484b26d98cb69594f6f484ae6b3c69","head":{"label":"senthh:SPARK-37936v3","ref":"SPARK-37936v3","sha":"d2b93f9326484b26d98cb69594f6f484ae6b3c69","user":{"login":"senthh","id":9917543,"node_id":"MDQ6VXNlcjk5MTc1NDM=","avatar_url":"https://avatars.githubusercontent.com/u/9917543?v=4","gravatar_id":"","url":"https://api.github.com/users/senthh","html_url":"https://github.com/senthh","followers_url":"https://api.github.com/users/senthh/followers","following_url":"https://api.github.com/users/senthh/following{/other_user}","gists_url":"https://api.github.com/users/senthh/gists{/gist_id}","starred_url":"https://api.github.com/users/senthh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/senthh/subscriptions","organizations_url":"https://api.github.com/users/senthh/orgs","repos_url":"https://api.github.com/users/senthh/repos","events_url":"https://api.github.com/users/senthh/events{/privacy}","received_events_url":"https://api.github.com/users/senthh/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":276009775,"node_id":"MDEwOlJlcG9zaXRvcnkyNzYwMDk3NzU=","name":"spark-1","full_name":"senthh/spark-1","private":false,"owner":{"login":"senthh","id":9917543,"node_id":"MDQ6VXNlcjk5MTc1NDM=","avatar_url":"https://avatars.githubusercontent.com/u/9917543?v=4","gravatar_id":"","url":"https://api.github.com/users/senthh","html_url":"https://github.com/senthh","followers_url":"https://api.github.com/users/senthh/followers","following_url":"https://api.github.com/users/senthh/following{/other_user}","gists_url":"https://api.github.com/users/senthh/gists{/gist_id}","starred_url":"https://api.github.com/users/senthh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/senthh/subscriptions","organizations_url":"https://api.github.com/users/senthh/orgs","repos_url":"https://api.github.com/users/senthh/repos","events_url":"https://api.github.com/users/senthh/events{/privacy}","received_events_url":"https://api.github.com/users/senthh/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/senthh/spark-1","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/senthh/spark-1","forks_url":"https://api.github.com/repos/senthh/spark-1/forks","keys_url":"https://api.github.com/repos/senthh/spark-1/keys{/key_id}","collaborators_url":"https://api.github.com/repos/senthh/spark-1/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/senthh/spark-1/teams","hooks_url":"https://api.github.com/repos/senthh/spark-1/hooks","issue_events_url":"https://api.github.com/repos/senthh/spark-1/issues/events{/number}","events_url":"https://api.github.com/repos/senthh/spark-1/events","assignees_url":"https://api.github.com/repos/senthh/spark-1/assignees{/user}","branches_url":"https://api.github.com/repos/senthh/spark-1/branches{/branch}","tags_url":"https://api.github.com/repos/senthh/spark-1/tags","blobs_url":"https://api.github.com/repos/senthh/spark-1/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/senthh/spark-1/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/senthh/spark-1/git/refs{/sha}","trees_url":"https://api.github.com/repos/senthh/spark-1/git/trees{/sha}","statuses_url":"https://api.github.com/repos/senthh/spark-1/statuses/{sha}","languages_url":"https://api.github.com/repos/senthh/spark-1/languages","stargazers_url":"https://api.github.com/repos/senthh/spark-1/stargazers","contributors_url":"https://api.github.com/repos/senthh/spark-1/contributors","subscribers_url":"https://api.github.com/repos/senthh/spark-1/subscribers","subscription_url":"https://api.github.com/repos/senthh/spark-1/subscription","commits_url":"https://api.github.com/repos/senthh/spark-1/commits{/sha}","git_commits_url":"https://api.github.com/repos/senthh/spark-1/git/commits{/sha}","comments_url":"https://api.github.com/repos/senthh/spark-1/comments{/number}","issue_comment_url":"https://api.github.com/repos/senthh/spark-1/issues/comments{/number}","contents_url":"https://api.github.com/repos/senthh/spark-1/contents/{+path}","compare_url":"https://api.github.com/repos/senthh/spark-1/compare/{base}...{head}","merges_url":"https://api.github.com/repos/senthh/spark-1/merges","archive_url":"https://api.github.com/repos/senthh/spark-1/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/senthh/spark-1/downloads","issues_url":"https://api.github.com/repos/senthh/spark-1/issues{/number}","pulls_url":"https://api.github.com/repos/senthh/spark-1/pulls{/number}","milestones_url":"https://api.github.com/repos/senthh/spark-1/milestones{/number}","notifications_url":"https://api.github.com/repos/senthh/spark-1/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/senthh/spark-1/labels{/name}","releases_url":"https://api.github.com/repos/senthh/spark-1/releases{/id}","deployments_url":"https://api.github.com/repos/senthh/spark-1/deployments","created_at":"2020-06-30T05:50:22Z","updated_at":"2020-06-30T05:50:26Z","pushed_at":"2022-03-09T12:15:09Z","git_url":"git://github.com/senthh/spark-1.git","ssh_url":"git@github.com:senthh/spark-1.git","clone_url":"https://github.com/senthh/spark-1.git","svn_url":"https://github.com/senthh/spark-1","homepage":"https://spark.apache.org/","size":399213,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"6347857f0bad105541971283f79281c490f6bb18","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35390"},"html":{"href":"https://github.com/apache/spark/pull/35390"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35390"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35390/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35390/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35390/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/d2b93f9326484b26d98cb69594f6f484ae6b3c69"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35389","id":839097587,"node_id":"PR_kwDOAQXtWs4yA5zz","html_url":"https://github.com/apache/spark/pull/35389","diff_url":"https://github.com/apache/spark/pull/35389.diff","patch_url":"https://github.com/apache/spark/pull/35389.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35389","number":35389,"state":"closed","locked":false,"title":"[SPARK-37943][SQL] Use error classes in the compilation errors of grouping","user":{"login":"SaurabhChawla100","id":34540906,"node_id":"MDQ6VXNlcjM0NTQwOTA2","avatar_url":"https://avatars.githubusercontent.com/u/34540906?v=4","gravatar_id":"","url":"https://api.github.com/users/SaurabhChawla100","html_url":"https://github.com/SaurabhChawla100","followers_url":"https://api.github.com/users/SaurabhChawla100/followers","following_url":"https://api.github.com/users/SaurabhChawla100/following{/other_user}","gists_url":"https://api.github.com/users/SaurabhChawla100/gists{/gist_id}","starred_url":"https://api.github.com/users/SaurabhChawla100/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SaurabhChawla100/subscriptions","organizations_url":"https://api.github.com/users/SaurabhChawla100/orgs","repos_url":"https://api.github.com/users/SaurabhChawla100/repos","events_url":"https://api.github.com/users/SaurabhChawla100/events{/privacy}","received_events_url":"https://api.github.com/users/SaurabhChawla100/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nMigrate the following errors in QueryCompilationErrors onto use error classes:\r\ngroupingMustWithGroupingSetsOrCubeOrRollupError => UNSUPPORTED_GROUPING_EXPRESSION\r\n\r\n### Why are the changes needed?\r\nPorting grouping /grouping Id  errors to new error framework.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nAdded the unit test in QueryCompilationErrorsSuite and tested the unit test","created_at":"2022-02-03T09:37:11Z","updated_at":"2022-02-08T08:58:06Z","closed_at":"2022-02-08T08:58:06Z","merged_at":null,"merge_commit_sha":"3077001637f28b76baf03bc5dab2bcd9243b81e8","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35389/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35389/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35389/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/cf96397335fc337f066dfd5722f331393cd7e5ca","head":{"label":"SaurabhChawla100:SPARK-37943","ref":"SPARK-37943","sha":"cf96397335fc337f066dfd5722f331393cd7e5ca","user":{"login":"SaurabhChawla100","id":34540906,"node_id":"MDQ6VXNlcjM0NTQwOTA2","avatar_url":"https://avatars.githubusercontent.com/u/34540906?v=4","gravatar_id":"","url":"https://api.github.com/users/SaurabhChawla100","html_url":"https://github.com/SaurabhChawla100","followers_url":"https://api.github.com/users/SaurabhChawla100/followers","following_url":"https://api.github.com/users/SaurabhChawla100/following{/other_user}","gists_url":"https://api.github.com/users/SaurabhChawla100/gists{/gist_id}","starred_url":"https://api.github.com/users/SaurabhChawla100/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SaurabhChawla100/subscriptions","organizations_url":"https://api.github.com/users/SaurabhChawla100/orgs","repos_url":"https://api.github.com/users/SaurabhChawla100/repos","events_url":"https://api.github.com/users/SaurabhChawla100/events{/privacy}","received_events_url":"https://api.github.com/users/SaurabhChawla100/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":235058981,"node_id":"MDEwOlJlcG9zaXRvcnkyMzUwNTg5ODE=","name":"spark","full_name":"SaurabhChawla100/spark","private":false,"owner":{"login":"SaurabhChawla100","id":34540906,"node_id":"MDQ6VXNlcjM0NTQwOTA2","avatar_url":"https://avatars.githubusercontent.com/u/34540906?v=4","gravatar_id":"","url":"https://api.github.com/users/SaurabhChawla100","html_url":"https://github.com/SaurabhChawla100","followers_url":"https://api.github.com/users/SaurabhChawla100/followers","following_url":"https://api.github.com/users/SaurabhChawla100/following{/other_user}","gists_url":"https://api.github.com/users/SaurabhChawla100/gists{/gist_id}","starred_url":"https://api.github.com/users/SaurabhChawla100/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SaurabhChawla100/subscriptions","organizations_url":"https://api.github.com/users/SaurabhChawla100/orgs","repos_url":"https://api.github.com/users/SaurabhChawla100/repos","events_url":"https://api.github.com/users/SaurabhChawla100/events{/privacy}","received_events_url":"https://api.github.com/users/SaurabhChawla100/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/SaurabhChawla100/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/SaurabhChawla100/spark","forks_url":"https://api.github.com/repos/SaurabhChawla100/spark/forks","keys_url":"https://api.github.com/repos/SaurabhChawla100/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/SaurabhChawla100/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/SaurabhChawla100/spark/teams","hooks_url":"https://api.github.com/repos/SaurabhChawla100/spark/hooks","issue_events_url":"https://api.github.com/repos/SaurabhChawla100/spark/issues/events{/number}","events_url":"https://api.github.com/repos/SaurabhChawla100/spark/events","assignees_url":"https://api.github.com/repos/SaurabhChawla100/spark/assignees{/user}","branches_url":"https://api.github.com/repos/SaurabhChawla100/spark/branches{/branch}","tags_url":"https://api.github.com/repos/SaurabhChawla100/spark/tags","blobs_url":"https://api.github.com/repos/SaurabhChawla100/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/SaurabhChawla100/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/SaurabhChawla100/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/SaurabhChawla100/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/SaurabhChawla100/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/SaurabhChawla100/spark/languages","stargazers_url":"https://api.github.com/repos/SaurabhChawla100/spark/stargazers","contributors_url":"https://api.github.com/repos/SaurabhChawla100/spark/contributors","subscribers_url":"https://api.github.com/repos/SaurabhChawla100/spark/subscribers","subscription_url":"https://api.github.com/repos/SaurabhChawla100/spark/subscription","commits_url":"https://api.github.com/repos/SaurabhChawla100/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/SaurabhChawla100/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/SaurabhChawla100/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/SaurabhChawla100/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/SaurabhChawla100/spark/contents/{+path}","compare_url":"https://api.github.com/repos/SaurabhChawla100/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/SaurabhChawla100/spark/merges","archive_url":"https://api.github.com/repos/SaurabhChawla100/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/SaurabhChawla100/spark/downloads","issues_url":"https://api.github.com/repos/SaurabhChawla100/spark/issues{/number}","pulls_url":"https://api.github.com/repos/SaurabhChawla100/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/SaurabhChawla100/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/SaurabhChawla100/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/SaurabhChawla100/spark/labels{/name}","releases_url":"https://api.github.com/repos/SaurabhChawla100/spark/releases{/id}","deployments_url":"https://api.github.com/repos/SaurabhChawla100/spark/deployments","created_at":"2020-01-20T09:01:55Z","updated_at":"2022-01-23T15:09:49Z","pushed_at":"2023-05-30T05:02:45Z","git_url":"git://github.com/SaurabhChawla100/spark.git","ssh_url":"git@github.com:SaurabhChawla100/spark.git","clone_url":"https://github.com/SaurabhChawla100/spark.git","svn_url":"https://github.com/SaurabhChawla100/spark","homepage":"","size":453359,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d4f275b1d81a5f855412613c30c39cf300cb013d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35389"},"html":{"href":"https://github.com/apache/spark/pull/35389"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35389"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35389/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35389/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35389/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/cf96397335fc337f066dfd5722f331393cd7e5ca"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35388","id":839084251,"node_id":"PR_kwDOAQXtWs4yA2jb","html_url":"https://github.com/apache/spark/pull/35388","diff_url":"https://github.com/apache/spark/pull/35388.diff","patch_url":"https://github.com/apache/spark/pull/35388.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35388","number":35388,"state":"closed","locked":false,"title":"[SPARK-38096][BUILD] Update sbt to 1.6.2","user":{"login":"martin-g","id":232002,"node_id":"MDQ6VXNlcjIzMjAwMg==","avatar_url":"https://avatars.githubusercontent.com/u/232002?v=4","gravatar_id":"","url":"https://api.github.com/users/martin-g","html_url":"https://github.com/martin-g","followers_url":"https://api.github.com/users/martin-g/followers","following_url":"https://api.github.com/users/martin-g/following{/other_user}","gists_url":"https://api.github.com/users/martin-g/gists{/gist_id}","starred_url":"https://api.github.com/users/martin-g/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martin-g/subscriptions","organizations_url":"https://api.github.com/users/martin-g/orgs","repos_url":"https://api.github.com/users/martin-g/repos","events_url":"https://api.github.com/users/martin-g/events{/privacy}","received_events_url":"https://api.github.com/users/martin-g/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR aims to upgrade SBT to 1.6.2.\r\n\r\n### Why are the changes needed?\r\n\r\nSbt 1.6.2 was released with minor improvements - https://eed3si9n.com/sbt-1.6.2\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo\r\n\r\n### How was this patch tested?\r\n\r\nGA and AppVeyor.","created_at":"2022-02-03T09:21:41Z","updated_at":"2022-02-04T07:25:24Z","closed_at":"2022-02-03T17:01:08Z","merged_at":null,"merge_commit_sha":"8c6d14c1e606a442a1fa391e25c000d352e3a35c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35388/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35388/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35388/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/2a04a12f29de1f5fc6a8bf9b0610f872cd41bcdb","head":{"label":"martin-g:sbt-1.6.2","ref":"sbt-1.6.2","sha":"2a04a12f29de1f5fc6a8bf9b0610f872cd41bcdb","user":{"login":"martin-g","id":232002,"node_id":"MDQ6VXNlcjIzMjAwMg==","avatar_url":"https://avatars.githubusercontent.com/u/232002?v=4","gravatar_id":"","url":"https://api.github.com/users/martin-g","html_url":"https://github.com/martin-g","followers_url":"https://api.github.com/users/martin-g/followers","following_url":"https://api.github.com/users/martin-g/following{/other_user}","gists_url":"https://api.github.com/users/martin-g/gists{/gist_id}","starred_url":"https://api.github.com/users/martin-g/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martin-g/subscriptions","organizations_url":"https://api.github.com/users/martin-g/orgs","repos_url":"https://api.github.com/users/martin-g/repos","events_url":"https://api.github.com/users/martin-g/events{/privacy}","received_events_url":"https://api.github.com/users/martin-g/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":454008249,"node_id":"R_kgDOGw-duQ","name":"spark","full_name":"martin-g/spark","private":false,"owner":{"login":"martin-g","id":232002,"node_id":"MDQ6VXNlcjIzMjAwMg==","avatar_url":"https://avatars.githubusercontent.com/u/232002?v=4","gravatar_id":"","url":"https://api.github.com/users/martin-g","html_url":"https://github.com/martin-g","followers_url":"https://api.github.com/users/martin-g/followers","following_url":"https://api.github.com/users/martin-g/following{/other_user}","gists_url":"https://api.github.com/users/martin-g/gists{/gist_id}","starred_url":"https://api.github.com/users/martin-g/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martin-g/subscriptions","organizations_url":"https://api.github.com/users/martin-g/orgs","repos_url":"https://api.github.com/users/martin-g/repos","events_url":"https://api.github.com/users/martin-g/events{/privacy}","received_events_url":"https://api.github.com/users/martin-g/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/martin-g/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/martin-g/spark","forks_url":"https://api.github.com/repos/martin-g/spark/forks","keys_url":"https://api.github.com/repos/martin-g/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/martin-g/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/martin-g/spark/teams","hooks_url":"https://api.github.com/repos/martin-g/spark/hooks","issue_events_url":"https://api.github.com/repos/martin-g/spark/issues/events{/number}","events_url":"https://api.github.com/repos/martin-g/spark/events","assignees_url":"https://api.github.com/repos/martin-g/spark/assignees{/user}","branches_url":"https://api.github.com/repos/martin-g/spark/branches{/branch}","tags_url":"https://api.github.com/repos/martin-g/spark/tags","blobs_url":"https://api.github.com/repos/martin-g/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/martin-g/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/martin-g/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/martin-g/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/martin-g/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/martin-g/spark/languages","stargazers_url":"https://api.github.com/repos/martin-g/spark/stargazers","contributors_url":"https://api.github.com/repos/martin-g/spark/contributors","subscribers_url":"https://api.github.com/repos/martin-g/spark/subscribers","subscription_url":"https://api.github.com/repos/martin-g/spark/subscription","commits_url":"https://api.github.com/repos/martin-g/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/martin-g/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/martin-g/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/martin-g/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/martin-g/spark/contents/{+path}","compare_url":"https://api.github.com/repos/martin-g/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/martin-g/spark/merges","archive_url":"https://api.github.com/repos/martin-g/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/martin-g/spark/downloads","issues_url":"https://api.github.com/repos/martin-g/spark/issues{/number}","pulls_url":"https://api.github.com/repos/martin-g/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/martin-g/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/martin-g/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/martin-g/spark/labels{/name}","releases_url":"https://api.github.com/repos/martin-g/spark/releases{/id}","deployments_url":"https://api.github.com/repos/martin-g/spark/deployments","created_at":"2022-01-31T13:01:36Z","updated_at":"2022-02-03T09:02:41Z","pushed_at":"2022-07-11T06:32:39Z","git_url":"git://github.com/martin-g/spark.git","ssh_url":"git@github.com:martin-g/spark.git","clone_url":"https://github.com/martin-g/spark.git","svn_url":"https://github.com/martin-g/spark","homepage":"https://spark.apache.org/","size":423975,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"6347857f0bad105541971283f79281c490f6bb18","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35388"},"html":{"href":"https://github.com/apache/spark/pull/35388"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35388"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35388/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35388/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35388/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/2a04a12f29de1f5fc6a8bf9b0610f872cd41bcdb"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35387","id":839076634,"node_id":"PR_kwDOAQXtWs4yA0sa","html_url":"https://github.com/apache/spark/pull/35387","diff_url":"https://github.com/apache/spark/pull/35387.diff","patch_url":"https://github.com/apache/spark/pull/35387.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35387","number":35387,"state":"closed","locked":false,"title":"SPARK-38096 [BUILD] Update sbt to 1.6.2","user":{"login":"martin-g","id":232002,"node_id":"MDQ6VXNlcjIzMjAwMg==","avatar_url":"https://avatars.githubusercontent.com/u/232002?v=4","gravatar_id":"","url":"https://api.github.com/users/martin-g","html_url":"https://github.com/martin-g","followers_url":"https://api.github.com/users/martin-g/followers","following_url":"https://api.github.com/users/martin-g/following{/other_user}","gists_url":"https://api.github.com/users/martin-g/gists{/gist_id}","starred_url":"https://api.github.com/users/martin-g/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martin-g/subscriptions","organizations_url":"https://api.github.com/users/martin-g/orgs","repos_url":"https://api.github.com/users/martin-g/repos","events_url":"https://api.github.com/users/martin-g/events{/privacy}","received_events_url":"https://api.github.com/users/martin-g/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\n### What changes were proposed in this pull request?\r\n\r\nThis PR aims to upgrade SBT to 1.6.2.\r\n\r\n### Why are the changes needed?\r\n\r\nSbt 1.6.2 was released with minor improvements - https://eed3si9n.com/sbt-1.6.2\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo\r\n\r\n### How was this patch tested?\r\n\r\nGA and AppVeyor.\r\n\r\n","created_at":"2022-02-03T09:12:45Z","updated_at":"2022-02-03T09:21:23Z","closed_at":"2022-02-03T09:21:23Z","merged_at":null,"merge_commit_sha":"56e8928ac631450c9730fa152dc3ab75fdecc729","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35387/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35387/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35387/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/aacc0369b3350c9f626f91157e1b86444547b717","head":{"label":"martin-g:sbt-1.6.2","ref":"sbt-1.6.2","sha":"aacc0369b3350c9f626f91157e1b86444547b717","user":{"login":"martin-g","id":232002,"node_id":"MDQ6VXNlcjIzMjAwMg==","avatar_url":"https://avatars.githubusercontent.com/u/232002?v=4","gravatar_id":"","url":"https://api.github.com/users/martin-g","html_url":"https://github.com/martin-g","followers_url":"https://api.github.com/users/martin-g/followers","following_url":"https://api.github.com/users/martin-g/following{/other_user}","gists_url":"https://api.github.com/users/martin-g/gists{/gist_id}","starred_url":"https://api.github.com/users/martin-g/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martin-g/subscriptions","organizations_url":"https://api.github.com/users/martin-g/orgs","repos_url":"https://api.github.com/users/martin-g/repos","events_url":"https://api.github.com/users/martin-g/events{/privacy}","received_events_url":"https://api.github.com/users/martin-g/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":454008249,"node_id":"R_kgDOGw-duQ","name":"spark","full_name":"martin-g/spark","private":false,"owner":{"login":"martin-g","id":232002,"node_id":"MDQ6VXNlcjIzMjAwMg==","avatar_url":"https://avatars.githubusercontent.com/u/232002?v=4","gravatar_id":"","url":"https://api.github.com/users/martin-g","html_url":"https://github.com/martin-g","followers_url":"https://api.github.com/users/martin-g/followers","following_url":"https://api.github.com/users/martin-g/following{/other_user}","gists_url":"https://api.github.com/users/martin-g/gists{/gist_id}","starred_url":"https://api.github.com/users/martin-g/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martin-g/subscriptions","organizations_url":"https://api.github.com/users/martin-g/orgs","repos_url":"https://api.github.com/users/martin-g/repos","events_url":"https://api.github.com/users/martin-g/events{/privacy}","received_events_url":"https://api.github.com/users/martin-g/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/martin-g/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/martin-g/spark","forks_url":"https://api.github.com/repos/martin-g/spark/forks","keys_url":"https://api.github.com/repos/martin-g/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/martin-g/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/martin-g/spark/teams","hooks_url":"https://api.github.com/repos/martin-g/spark/hooks","issue_events_url":"https://api.github.com/repos/martin-g/spark/issues/events{/number}","events_url":"https://api.github.com/repos/martin-g/spark/events","assignees_url":"https://api.github.com/repos/martin-g/spark/assignees{/user}","branches_url":"https://api.github.com/repos/martin-g/spark/branches{/branch}","tags_url":"https://api.github.com/repos/martin-g/spark/tags","blobs_url":"https://api.github.com/repos/martin-g/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/martin-g/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/martin-g/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/martin-g/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/martin-g/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/martin-g/spark/languages","stargazers_url":"https://api.github.com/repos/martin-g/spark/stargazers","contributors_url":"https://api.github.com/repos/martin-g/spark/contributors","subscribers_url":"https://api.github.com/repos/martin-g/spark/subscribers","subscription_url":"https://api.github.com/repos/martin-g/spark/subscription","commits_url":"https://api.github.com/repos/martin-g/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/martin-g/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/martin-g/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/martin-g/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/martin-g/spark/contents/{+path}","compare_url":"https://api.github.com/repos/martin-g/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/martin-g/spark/merges","archive_url":"https://api.github.com/repos/martin-g/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/martin-g/spark/downloads","issues_url":"https://api.github.com/repos/martin-g/spark/issues{/number}","pulls_url":"https://api.github.com/repos/martin-g/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/martin-g/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/martin-g/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/martin-g/spark/labels{/name}","releases_url":"https://api.github.com/repos/martin-g/spark/releases{/id}","deployments_url":"https://api.github.com/repos/martin-g/spark/deployments","created_at":"2022-01-31T13:01:36Z","updated_at":"2022-02-03T09:02:41Z","pushed_at":"2022-07-11T06:32:39Z","git_url":"git://github.com/martin-g/spark.git","ssh_url":"git@github.com:martin-g/spark.git","clone_url":"https://github.com/martin-g/spark.git","svn_url":"https://github.com/martin-g/spark","homepage":"https://spark.apache.org/","size":423975,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"157f3b9174ef320b21785ddb7d21a067dc5bcd00","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35387"},"html":{"href":"https://github.com/apache/spark/pull/35387"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35387"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35387/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35387/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35387/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/aacc0369b3350c9f626f91157e1b86444547b717"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35386","id":839012719,"node_id":"PR_kwDOAQXtWs4yAlFv","html_url":"https://github.com/apache/spark/pull/35386","diff_url":"https://github.com/apache/spark/pull/35386.diff","patch_url":"https://github.com/apache/spark/pull/35386.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35386","number":35386,"state":"closed","locked":false,"title":"[SPARK-37936][SQL] Use error classes in the parsing errors of intervals","user":{"login":"senthh","id":9917543,"node_id":"MDQ6VXNlcjk5MTc1NDM=","avatar_url":"https://avatars.githubusercontent.com/u/9917543?v=4","gravatar_id":"","url":"https://api.github.com/users/senthh","html_url":"https://github.com/senthh","followers_url":"https://api.github.com/users/senthh/followers","following_url":"https://api.github.com/users/senthh/following{/other_user}","gists_url":"https://api.github.com/users/senthh/gists{/gist_id}","starred_url":"https://api.github.com/users/senthh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/senthh/subscriptions","organizations_url":"https://api.github.com/users/senthh/orgs","repos_url":"https://api.github.com/users/senthh/repos","events_url":"https://api.github.com/users/senthh/events{/privacy}","received_events_url":"https://api.github.com/users/senthh/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nIn this PR, We propose to throw ParseException from below methods with the error classes:\r\n\r\nmoreThanOneFromToUnitInIntervalLiteralError\r\ninvalidIntervalLiteralError\r\ninvalidIntervalFormError\r\ninvalidFromToUnitValueError\r\nfromToIntervalUnsupportedError\r\nmixedIntervalUnitsError\r\nMORE_THAN_ONE_FROM_TO_UNIT_IN_INTERVAL_LITERAL - moreThanOneFromToUnitInIntervalLiteralError\r\nINVALID_INTERVAL_LITERAL - invalidIntervalLiteralError\r\nINVALID_INTERVAL_FORM - invalidIntervalFormError\r\nINVALID_FROM_TO_UNIT_VALUE - invalidFromToUnitValueError\r\nUNSUPPORTED_FROM_TO_INTERVAL - fromToIntervalUnsupportedError\r\nMIXED_INTERVAL_UNITS - mixedIntervalUnitsError\r\n\r\nNew error classes are added to error-classes.json.\r\n\r\nNew test suite QueryParsingErrorsSuite for checking the errors has been created.\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nPlease refer [SPARK-37935](https://issues.apache.org/jira/browse/SPARK-37935) - Migrate onto error classes\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nNo\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nNew Test suite QueryParsingErrorsSuite created","created_at":"2022-02-03T07:46:56Z","updated_at":"2022-02-03T12:58:52Z","closed_at":"2022-02-03T12:58:52Z","merged_at":null,"merge_commit_sha":"a3222b4e15657b8b71b178bfe3ce9954c88b5237","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35386/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35386/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35386/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3cca2d48ddb1974636e0dd3a7d8580667d66a803","head":{"label":"senthh:SPARK-37936v2","ref":"SPARK-37936v2","sha":"3cca2d48ddb1974636e0dd3a7d8580667d66a803","user":{"login":"senthh","id":9917543,"node_id":"MDQ6VXNlcjk5MTc1NDM=","avatar_url":"https://avatars.githubusercontent.com/u/9917543?v=4","gravatar_id":"","url":"https://api.github.com/users/senthh","html_url":"https://github.com/senthh","followers_url":"https://api.github.com/users/senthh/followers","following_url":"https://api.github.com/users/senthh/following{/other_user}","gists_url":"https://api.github.com/users/senthh/gists{/gist_id}","starred_url":"https://api.github.com/users/senthh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/senthh/subscriptions","organizations_url":"https://api.github.com/users/senthh/orgs","repos_url":"https://api.github.com/users/senthh/repos","events_url":"https://api.github.com/users/senthh/events{/privacy}","received_events_url":"https://api.github.com/users/senthh/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":276009775,"node_id":"MDEwOlJlcG9zaXRvcnkyNzYwMDk3NzU=","name":"spark-1","full_name":"senthh/spark-1","private":false,"owner":{"login":"senthh","id":9917543,"node_id":"MDQ6VXNlcjk5MTc1NDM=","avatar_url":"https://avatars.githubusercontent.com/u/9917543?v=4","gravatar_id":"","url":"https://api.github.com/users/senthh","html_url":"https://github.com/senthh","followers_url":"https://api.github.com/users/senthh/followers","following_url":"https://api.github.com/users/senthh/following{/other_user}","gists_url":"https://api.github.com/users/senthh/gists{/gist_id}","starred_url":"https://api.github.com/users/senthh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/senthh/subscriptions","organizations_url":"https://api.github.com/users/senthh/orgs","repos_url":"https://api.github.com/users/senthh/repos","events_url":"https://api.github.com/users/senthh/events{/privacy}","received_events_url":"https://api.github.com/users/senthh/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/senthh/spark-1","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/senthh/spark-1","forks_url":"https://api.github.com/repos/senthh/spark-1/forks","keys_url":"https://api.github.com/repos/senthh/spark-1/keys{/key_id}","collaborators_url":"https://api.github.com/repos/senthh/spark-1/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/senthh/spark-1/teams","hooks_url":"https://api.github.com/repos/senthh/spark-1/hooks","issue_events_url":"https://api.github.com/repos/senthh/spark-1/issues/events{/number}","events_url":"https://api.github.com/repos/senthh/spark-1/events","assignees_url":"https://api.github.com/repos/senthh/spark-1/assignees{/user}","branches_url":"https://api.github.com/repos/senthh/spark-1/branches{/branch}","tags_url":"https://api.github.com/repos/senthh/spark-1/tags","blobs_url":"https://api.github.com/repos/senthh/spark-1/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/senthh/spark-1/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/senthh/spark-1/git/refs{/sha}","trees_url":"https://api.github.com/repos/senthh/spark-1/git/trees{/sha}","statuses_url":"https://api.github.com/repos/senthh/spark-1/statuses/{sha}","languages_url":"https://api.github.com/repos/senthh/spark-1/languages","stargazers_url":"https://api.github.com/repos/senthh/spark-1/stargazers","contributors_url":"https://api.github.com/repos/senthh/spark-1/contributors","subscribers_url":"https://api.github.com/repos/senthh/spark-1/subscribers","subscription_url":"https://api.github.com/repos/senthh/spark-1/subscription","commits_url":"https://api.github.com/repos/senthh/spark-1/commits{/sha}","git_commits_url":"https://api.github.com/repos/senthh/spark-1/git/commits{/sha}","comments_url":"https://api.github.com/repos/senthh/spark-1/comments{/number}","issue_comment_url":"https://api.github.com/repos/senthh/spark-1/issues/comments{/number}","contents_url":"https://api.github.com/repos/senthh/spark-1/contents/{+path}","compare_url":"https://api.github.com/repos/senthh/spark-1/compare/{base}...{head}","merges_url":"https://api.github.com/repos/senthh/spark-1/merges","archive_url":"https://api.github.com/repos/senthh/spark-1/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/senthh/spark-1/downloads","issues_url":"https://api.github.com/repos/senthh/spark-1/issues{/number}","pulls_url":"https://api.github.com/repos/senthh/spark-1/pulls{/number}","milestones_url":"https://api.github.com/repos/senthh/spark-1/milestones{/number}","notifications_url":"https://api.github.com/repos/senthh/spark-1/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/senthh/spark-1/labels{/name}","releases_url":"https://api.github.com/repos/senthh/spark-1/releases{/id}","deployments_url":"https://api.github.com/repos/senthh/spark-1/deployments","created_at":"2020-06-30T05:50:22Z","updated_at":"2020-06-30T05:50:26Z","pushed_at":"2022-03-09T12:15:09Z","git_url":"git://github.com/senthh/spark-1.git","ssh_url":"git@github.com:senthh/spark-1.git","clone_url":"https://github.com/senthh/spark-1.git","svn_url":"https://github.com/senthh/spark-1","homepage":"https://spark.apache.org/","size":399213,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"157f3b9174ef320b21785ddb7d21a067dc5bcd00","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35386"},"html":{"href":"https://github.com/apache/spark/pull/35386"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35386"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35386/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35386/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35386/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3cca2d48ddb1974636e0dd3a7d8580667d66a803"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35385","id":838958843,"node_id":"PR_kwDOAQXtWs4yAX77","html_url":"https://github.com/apache/spark/pull/35385","diff_url":"https://github.com/apache/spark/pull/35385.diff","patch_url":"https://github.com/apache/spark/pull/35385.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35385","number":35385,"state":"closed","locked":false,"title":"[SPARK-38094] Enable matching schema column names by field ids","user":{"login":"jackierwzhang","id":67607237,"node_id":"MDQ6VXNlcjY3NjA3MjM3","avatar_url":"https://avatars.githubusercontent.com/u/67607237?v=4","gravatar_id":"","url":"https://api.github.com/users/jackierwzhang","html_url":"https://github.com/jackierwzhang","followers_url":"https://api.github.com/users/jackierwzhang/followers","following_url":"https://api.github.com/users/jackierwzhang/following{/other_user}","gists_url":"https://api.github.com/users/jackierwzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/jackierwzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackierwzhang/subscriptions","organizations_url":"https://api.github.com/users/jackierwzhang/orgs","repos_url":"https://api.github.com/users/jackierwzhang/repos","events_url":"https://api.github.com/users/jackierwzhang/events{/privacy}","received_events_url":"https://api.github.com/users/jackierwzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nField Id is a native field in the Parquet schema (https://github.com/apache/parquet-format/blob/master/src/main/thrift/parquet.thrift#L398)\r\n\r\nAfter this PR, when the requested schema has field IDs, Parquet readers will first use the field ID to determine which Parquet columns to read if the field ID exists in Spark schema, before falling back to match using column names. \r\n\r\nThis PR supports:\r\n- Vectorized reader\r\n- parquet-mr reader\r\n\r\n### Why are the changes needed?\r\nIt enables matching columns by field id for supported DWs like iceberg and Delta. Specifically, it enables easy conversion from Iceberg (which uses field ids by name) to Delta, and allows `id` mode for Delta [column mapping](https://docs.databricks.com/delta/delta-column-mapping.html)\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nThis PR introduces three new configurations:\r\n\r\n`spark.sql.parquet.fieldId.write.enabled`: If enabled, Spark will write out native field ids that are stored inside StructField's metadata as `parquet.field.id` to parquet files. This configuration is default to `true`.\r\n\r\n`spark.sql.parquet.fieldId.read.enabled`: If enabled, Spark will attempt to read field ids in parquet files and utilize them for matching columns. This configuration is default to `false`, so Spark could maintain its existing behavior by default.\r\n\r\n`spark.sql.parquet.fieldId.read.ignoreMissing`: if enabled, Spark will read parquet files that do not have any field ids, while attempting to match the columns by id in Spark schema;  nulls will be returned for spark columns without a match. This configuration is default to `false`, so Spark could alert the user in case field id matching is expected but parquet files do not have any ids.\r\n\r\n### How was this patch tested?\r\nExisting tests + new unit tests.","created_at":"2022-02-03T06:08:41Z","updated_at":"2022-02-18T15:12:29Z","closed_at":"2022-02-18T15:12:29Z","merged_at":null,"merge_commit_sha":"9c332b1410a8c454c26a29503f1cbf426552a989","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35385/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35385/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35385/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9c0b23952de46f581f01cd12a73109e327beaa3d","head":{"label":"jackierwzhang:SPARK-38094-field-ids","ref":"SPARK-38094-field-ids","sha":"9c0b23952de46f581f01cd12a73109e327beaa3d","user":{"login":"jackierwzhang","id":67607237,"node_id":"MDQ6VXNlcjY3NjA3MjM3","avatar_url":"https://avatars.githubusercontent.com/u/67607237?v=4","gravatar_id":"","url":"https://api.github.com/users/jackierwzhang","html_url":"https://github.com/jackierwzhang","followers_url":"https://api.github.com/users/jackierwzhang/followers","following_url":"https://api.github.com/users/jackierwzhang/following{/other_user}","gists_url":"https://api.github.com/users/jackierwzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/jackierwzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackierwzhang/subscriptions","organizations_url":"https://api.github.com/users/jackierwzhang/orgs","repos_url":"https://api.github.com/users/jackierwzhang/repos","events_url":"https://api.github.com/users/jackierwzhang/events{/privacy}","received_events_url":"https://api.github.com/users/jackierwzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"157f3b9174ef320b21785ddb7d21a067dc5bcd00","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35385"},"html":{"href":"https://github.com/apache/spark/pull/35385"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35385"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35385/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35385/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35385/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9c0b23952de46f581f01cd12a73109e327beaa3d"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35384","id":838838471,"node_id":"PR_kwDOAQXtWs4x_6jH","html_url":"https://github.com/apache/spark/pull/35384","diff_url":"https://github.com/apache/spark/pull/35384.diff","patch_url":"https://github.com/apache/spark/pull/35384.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35384","number":35384,"state":"closed","locked":false,"title":"[SPARK-38095][CORE] HistoryServerDiskManager.appStorePath should use backend-based extensions","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR aims to make `HistoryServerDiskManager.appStorePath` use backend-based extensions for directory names.\r\n\r\n### Why are the changes needed?\r\n\r\nPrevious, it was hard-coded to `.ldb` and this was confusing because it doesn't match with the folder's content in case of `RocksDB` backend.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nPass the CIs with the newly added test case.","created_at":"2022-02-03T01:05:55Z","updated_at":"2022-02-03T04:37:07Z","closed_at":"2022-02-03T03:53:28Z","merged_at":null,"merge_commit_sha":"f441537c1c0bd2d166bce38e0dc15c56b975235e","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35384/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35384/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35384/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/30112cab09f659a4449613bb3154fedc79a09e20","head":{"label":"dongjoon-hyun:SPARK-38095","ref":"SPARK-38095","sha":"30112cab09f659a4449613bb3154fedc79a09e20","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"fed78337990be22f0d8d52287e13828a5a543b5d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35384"},"html":{"href":"https://github.com/apache/spark/pull/35384"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35384"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35384/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35384/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35384/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/30112cab09f659a4449613bb3154fedc79a09e20"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35383","id":838604596,"node_id":"PR_kwDOAQXtWs4x_Bc0","html_url":"https://github.com/apache/spark/pull/35383","diff_url":"https://github.com/apache/spark/pull/35383.diff","patch_url":"https://github.com/apache/spark/pull/35383.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35383","number":35383,"state":"closed","locked":false,"title":"[SPARK-38089][CORE][TESTS] Show the root cause exception in `TestUtils.assertExceptionMsg`","user":{"login":"xkrogen","id":6570401,"node_id":"MDQ6VXNlcjY1NzA0MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6570401?v=4","gravatar_id":"","url":"https://api.github.com/users/xkrogen","html_url":"https://github.com/xkrogen","followers_url":"https://api.github.com/users/xkrogen/followers","following_url":"https://api.github.com/users/xkrogen/following{/other_user}","gists_url":"https://api.github.com/users/xkrogen/gists{/gist_id}","starred_url":"https://api.github.com/users/xkrogen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xkrogen/subscriptions","organizations_url":"https://api.github.com/users/xkrogen/orgs","repos_url":"https://api.github.com/users/xkrogen/repos","events_url":"https://api.github.com/users/xkrogen/events{/privacy}","received_events_url":"https://api.github.com/users/xkrogen/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nImprove assertion failure message in `TestUtils.assertExceptionMsg` to print out the exception tree in which it was searching (upon failure).\r\n\r\n### Why are the changes needed?\r\n`TestUtils.assertExceptionMsg` is great, but when the assertion _doesn't_ match, it can be challenging to tell why, because the exception tree that was searched isn't printed. Only way I could find to fix it up was to run things in a debugger and check the exception tree. This makes it easier to tell what went wrong just from the assertion failure message.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo. Easier for devs to see why their test failed.\r\n\r\n### How was this patch tested?\r\nUsed extensively while writing the tests for PR #34009. It was very useful!\r\n\r\nFor example, let's say I had a typo in the assertion for the test case `AvroSuite.SPARK-34133: Writing user provided schema respects case sensitivity for field matching`. The failure would look like:\r\n```\r\njava.lang.AssertionError: assertion failed: Exception tree doesn't contain the expected exception of type\r\norg.apache.spark.sql.avro.IncompatibleSchemaException with message: Cannot find field \"FOO\" in Avro schema\r\n\tat scala.Predef$.assert(Predef.scala:223)\r\n\tat org.apache.spark.TestUtils$.assertExceptionMsg(TestUtils.scala:269)\r\n\tat org.apache.spark.sql.avro.AvroSuite.$anonfun$new$175(AvroSuite.scala:1409)\r\n\t...\r\n```\r\nSo I know that I'm wrong, but I can't tell _why_. Now, after the change:\r\n```\r\njava.lang.AssertionError: assertion failed: Exception tree doesn't contain the expected exception of type\r\norg.apache.spark.sql.avro.IncompatibleSchemaException with message: Cannot find field \"FOO\" in Avro schema\r\norg.apache.spark.sql.avro.IncompatibleSchemaException: Cannot find field 'FOO' in Avro schema\r\n\tat org.apache.spark.sql.avro.AvroUtils$AvroSchemaHelper.$anonfun$validateNoExtraCatalystFields$1(AvroUtils.scala:265)\r\n\tat org.apache.spark.sql.avro.AvroUtils$AvroSchemaHelper.$anonfun$validateNoExtraCatalystFields$1$adapted(AvroUtils.scala:258)\r\n\tat scala.collection.immutable.List.foreach(List.scala:431)\r\n\tat org.apache.spark.sql.avro.AvroUtils$AvroSchemaHelper.validateNoExtraCatalystFields(AvroUtils.scala:258)\r\n\t...\r\n\r\n\tat scala.Predef$.assert(Predef.scala:223)\r\n\tat org.apache.spark.TestUtils$.assertExceptionMsg(TestUtils.scala:266)\r\n\tat org.apache.spark.sql.avro.AvroSuite.$anonfun$new$175(AvroSuite.scala:1409)\r\n\t...\r\n```\r\nI can easily see that I used the wrong type of quotes. Much better!","created_at":"2022-02-02T18:49:01Z","updated_at":"2022-02-03T00:05:15Z","closed_at":"2022-02-02T23:44:11Z","merged_at":null,"merge_commit_sha":"8c596d8e76039a44096347f1b4bcfb328e463c56","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35383/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35383/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35383/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/6192860fc2fd3970915281e75d872f16e81e5be6","head":{"label":"xkrogen:xkrogen-SPARK-38089-testutils-assertexceptionmsg-improve","ref":"xkrogen-SPARK-38089-testutils-assertexceptionmsg-improve","sha":"6192860fc2fd3970915281e75d872f16e81e5be6","user":{"login":"xkrogen","id":6570401,"node_id":"MDQ6VXNlcjY1NzA0MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6570401?v=4","gravatar_id":"","url":"https://api.github.com/users/xkrogen","html_url":"https://github.com/xkrogen","followers_url":"https://api.github.com/users/xkrogen/followers","following_url":"https://api.github.com/users/xkrogen/following{/other_user}","gists_url":"https://api.github.com/users/xkrogen/gists{/gist_id}","starred_url":"https://api.github.com/users/xkrogen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xkrogen/subscriptions","organizations_url":"https://api.github.com/users/xkrogen/orgs","repos_url":"https://api.github.com/users/xkrogen/repos","events_url":"https://api.github.com/users/xkrogen/events{/privacy}","received_events_url":"https://api.github.com/users/xkrogen/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":273605257,"node_id":"MDEwOlJlcG9zaXRvcnkyNzM2MDUyNTc=","name":"spark","full_name":"xkrogen/spark","private":false,"owner":{"login":"xkrogen","id":6570401,"node_id":"MDQ6VXNlcjY1NzA0MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6570401?v=4","gravatar_id":"","url":"https://api.github.com/users/xkrogen","html_url":"https://github.com/xkrogen","followers_url":"https://api.github.com/users/xkrogen/followers","following_url":"https://api.github.com/users/xkrogen/following{/other_user}","gists_url":"https://api.github.com/users/xkrogen/gists{/gist_id}","starred_url":"https://api.github.com/users/xkrogen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xkrogen/subscriptions","organizations_url":"https://api.github.com/users/xkrogen/orgs","repos_url":"https://api.github.com/users/xkrogen/repos","events_url":"https://api.github.com/users/xkrogen/events{/privacy}","received_events_url":"https://api.github.com/users/xkrogen/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/xkrogen/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/xkrogen/spark","forks_url":"https://api.github.com/repos/xkrogen/spark/forks","keys_url":"https://api.github.com/repos/xkrogen/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xkrogen/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xkrogen/spark/teams","hooks_url":"https://api.github.com/repos/xkrogen/spark/hooks","issue_events_url":"https://api.github.com/repos/xkrogen/spark/issues/events{/number}","events_url":"https://api.github.com/repos/xkrogen/spark/events","assignees_url":"https://api.github.com/repos/xkrogen/spark/assignees{/user}","branches_url":"https://api.github.com/repos/xkrogen/spark/branches{/branch}","tags_url":"https://api.github.com/repos/xkrogen/spark/tags","blobs_url":"https://api.github.com/repos/xkrogen/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xkrogen/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xkrogen/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/xkrogen/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xkrogen/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/xkrogen/spark/languages","stargazers_url":"https://api.github.com/repos/xkrogen/spark/stargazers","contributors_url":"https://api.github.com/repos/xkrogen/spark/contributors","subscribers_url":"https://api.github.com/repos/xkrogen/spark/subscribers","subscription_url":"https://api.github.com/repos/xkrogen/spark/subscription","commits_url":"https://api.github.com/repos/xkrogen/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/xkrogen/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/xkrogen/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/xkrogen/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/xkrogen/spark/contents/{+path}","compare_url":"https://api.github.com/repos/xkrogen/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xkrogen/spark/merges","archive_url":"https://api.github.com/repos/xkrogen/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xkrogen/spark/downloads","issues_url":"https://api.github.com/repos/xkrogen/spark/issues{/number}","pulls_url":"https://api.github.com/repos/xkrogen/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/xkrogen/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/xkrogen/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xkrogen/spark/labels{/name}","releases_url":"https://api.github.com/repos/xkrogen/spark/releases{/id}","deployments_url":"https://api.github.com/repos/xkrogen/spark/deployments","created_at":"2020-06-19T23:37:26Z","updated_at":"2022-02-02T18:58:01Z","pushed_at":"2023-03-01T22:29:31Z","git_url":"git://github.com/xkrogen/spark.git","ssh_url":"git@github.com:xkrogen/spark.git","clone_url":"https://github.com/xkrogen/spark.git","svn_url":"https://github.com/xkrogen/spark","homepage":"https://spark.apache.org/","size":434073,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d73d96e4b57363c0da03b9b70ac515d11210d136","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35383"},"html":{"href":"https://github.com/apache/spark/pull/35383"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35383"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35383/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35383/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35383/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/6192860fc2fd3970915281e75d872f16e81e5be6"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35382","id":838469193,"node_id":"PR_kwDOAQXtWs4x-gZJ","html_url":"https://github.com/apache/spark/pull/35382","diff_url":"https://github.com/apache/spark/pull/35382.diff","patch_url":"https://github.com/apache/spark/pull/35382.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35382","number":35382,"state":"closed","locked":false,"title":"[SPARK-28090][SQL] Improve `replaceAliasButKeepName` performance","user":{"login":"peter-toth","id":7253827,"node_id":"MDQ6VXNlcjcyNTM4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/7253827?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-toth","html_url":"https://github.com/peter-toth","followers_url":"https://api.github.com/users/peter-toth/followers","following_url":"https://api.github.com/users/peter-toth/following{/other_user}","gists_url":"https://api.github.com/users/peter-toth/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-toth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-toth/subscriptions","organizations_url":"https://api.github.com/users/peter-toth/orgs","repos_url":"https://api.github.com/users/peter-toth/repos","events_url":"https://api.github.com/users/peter-toth/events{/privacy}","received_events_url":"https://api.github.com/users/peter-toth/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nSPARK-28090 ticket description contains an example query with multiple nested struct creation and field extraction. The following is is an example of the query when the sample code range is set to only 3:\r\n```\r\nProject [struct(num1, numerics#23.num1, num10, numerics#23.num10, num11, numerics#23.num11, num12, numerics#23.num12, num13, numerics#23.num13, num14, numerics#23.num14, num15, numerics#23.num15, num2, numerics#23.num2, num3, numerics#23.num3, num4, numerics#23.num4, num5, numerics#23.num5, num6, numerics#23.num6, num7, numerics#23.num7, num8, numerics#23.num8, num9, numerics#23.num9, out_num1, numerics#23.out_num1, out_num2, -numerics#23.num2) AS numerics#42]\r\n+- Project [struct(num1, numerics#5.num1, num10, numerics#5.num10, num11, numerics#5.num11, num12, numerics#5.num12, num13, numerics#5.num13, num14, numerics#5.num14, num15, numerics#5.num15, num2, numerics#5.num2, num3, numerics#5.num3, num4, numerics#5.num4, num5, numerics#5.num5, num6, numerics#5.num6, num7, numerics#5.num7, num8, numerics#5.num8, num9, numerics#5.num9, out_num1, -numerics#5.num1) AS numerics#23]\r\n   +- LogicalRDD [numerics#5], false\r\n```\r\nIf the level of nesting reaches 7 the query plan generation becomes extremely slow on Spark 2.4. That is because both\r\n- `CollapseProject` rule is slow and \r\n- some of the expression optimization rules running on the huge, not yet simplified expression tree of the single, collapsed `Project` node are slow.\r\n\r\nOn Spark 3.3, after SPARK-36718, `CollapseProject` doesn't collapse such plans so the above issues don't occur, \r\nbut `PhysicalOperation` extractor has an issue that it also builds up that huge expression tree and then traverses and modifies it in `AliasHelper.replaceAliasButKeepName()`. With a small change in that function we can avoid such costly operations.\r\n\r\n### Why are the changes needed?\r\nThe suggested change reduced the plan generation time of the example query from minutes (range = 7) or hours (range = 8+) to seconds.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nThe example query can be executed.\r\n\r\n### How was this patch tested?\r\nExisting UTs + manual test of the example query in the ticket description.\r\n","created_at":"2022-02-02T16:09:56Z","updated_at":"2022-04-06T17:33:58Z","closed_at":"2022-04-03T07:47:50Z","merged_at":null,"merge_commit_sha":"73de53a6aa749b68f994572ce7b991b2d0e329f3","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35382/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35382/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35382/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/2c47f91535b778f3253dab168c5fc623ae73b873","head":{"label":"peter-toth:SPARK-28090-improve-replacealiasbutkeepname","ref":"SPARK-28090-improve-replacealiasbutkeepname","sha":"2c47f91535b778f3253dab168c5fc623ae73b873","user":{"login":"peter-toth","id":7253827,"node_id":"MDQ6VXNlcjcyNTM4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/7253827?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-toth","html_url":"https://github.com/peter-toth","followers_url":"https://api.github.com/users/peter-toth/followers","following_url":"https://api.github.com/users/peter-toth/following{/other_user}","gists_url":"https://api.github.com/users/peter-toth/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-toth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-toth/subscriptions","organizations_url":"https://api.github.com/users/peter-toth/orgs","repos_url":"https://api.github.com/users/peter-toth/repos","events_url":"https://api.github.com/users/peter-toth/events{/privacy}","received_events_url":"https://api.github.com/users/peter-toth/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":130546049,"node_id":"MDEwOlJlcG9zaXRvcnkxMzA1NDYwNDk=","name":"spark","full_name":"peter-toth/spark","private":false,"owner":{"login":"peter-toth","id":7253827,"node_id":"MDQ6VXNlcjcyNTM4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/7253827?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-toth","html_url":"https://github.com/peter-toth","followers_url":"https://api.github.com/users/peter-toth/followers","following_url":"https://api.github.com/users/peter-toth/following{/other_user}","gists_url":"https://api.github.com/users/peter-toth/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-toth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-toth/subscriptions","organizations_url":"https://api.github.com/users/peter-toth/orgs","repos_url":"https://api.github.com/users/peter-toth/repos","events_url":"https://api.github.com/users/peter-toth/events{/privacy}","received_events_url":"https://api.github.com/users/peter-toth/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/peter-toth/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/peter-toth/spark","forks_url":"https://api.github.com/repos/peter-toth/spark/forks","keys_url":"https://api.github.com/repos/peter-toth/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/peter-toth/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/peter-toth/spark/teams","hooks_url":"https://api.github.com/repos/peter-toth/spark/hooks","issue_events_url":"https://api.github.com/repos/peter-toth/spark/issues/events{/number}","events_url":"https://api.github.com/repos/peter-toth/spark/events","assignees_url":"https://api.github.com/repos/peter-toth/spark/assignees{/user}","branches_url":"https://api.github.com/repos/peter-toth/spark/branches{/branch}","tags_url":"https://api.github.com/repos/peter-toth/spark/tags","blobs_url":"https://api.github.com/repos/peter-toth/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/peter-toth/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/peter-toth/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/peter-toth/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/peter-toth/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/peter-toth/spark/languages","stargazers_url":"https://api.github.com/repos/peter-toth/spark/stargazers","contributors_url":"https://api.github.com/repos/peter-toth/spark/contributors","subscribers_url":"https://api.github.com/repos/peter-toth/spark/subscribers","subscription_url":"https://api.github.com/repos/peter-toth/spark/subscription","commits_url":"https://api.github.com/repos/peter-toth/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/peter-toth/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/peter-toth/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/peter-toth/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/peter-toth/spark/contents/{+path}","compare_url":"https://api.github.com/repos/peter-toth/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/peter-toth/spark/merges","archive_url":"https://api.github.com/repos/peter-toth/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/peter-toth/spark/downloads","issues_url":"https://api.github.com/repos/peter-toth/spark/issues{/number}","pulls_url":"https://api.github.com/repos/peter-toth/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/peter-toth/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/peter-toth/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/peter-toth/spark/labels{/name}","releases_url":"https://api.github.com/repos/peter-toth/spark/releases{/id}","deployments_url":"https://api.github.com/repos/peter-toth/spark/deployments","created_at":"2018-04-22T07:43:37Z","updated_at":"2025-01-06T11:44:37Z","pushed_at":"2025-01-07T12:36:36Z","git_url":"git://github.com/peter-toth/spark.git","ssh_url":"git@github.com:peter-toth/spark.git","clone_url":"https://github.com/peter-toth/spark.git","svn_url":"https://github.com/peter-toth/spark","homepage":null,"size":498613,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"eb353aa959ca2298b28ff0b9671edcfa3ac62822","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35382"},"html":{"href":"https://github.com/apache/spark/pull/35382"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35382"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35382/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35382/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35382/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/2c47f91535b778f3253dab168c5fc623ae73b873"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35381","id":837609874,"node_id":"PR_kwDOAQXtWs4x7OmS","html_url":"https://github.com/apache/spark/pull/35381","diff_url":"https://github.com/apache/spark/pull/35381.diff","patch_url":"https://github.com/apache/spark/pull/35381.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35381","number":35381,"state":"closed","locked":false,"title":"[SPARK-38084][TESTS] Support `SKIP_PYTHON` and `SKIP_R` in `run-tests.py`","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR aims to support `SKIP_PYTHON` and `SKIP_R` in `run-tests.py` like `SKIP_MIMA` and `SKIP_UNIDOC`.\r\n\r\n### Why are the changes needed?\r\n\r\nThis is helpful to setup CIs.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nManually.\r\n```\r\nSKIP_PYTHON=1 SKIP_R=1 dev/run-tests.py\r\n```","created_at":"2022-02-01T19:38:31Z","updated_at":"2022-02-01T21:10:50Z","closed_at":"2022-02-01T21:10:17Z","merged_at":null,"merge_commit_sha":"cc06c433d824b5149066d4794a31f83ea29b6bb4","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35381/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35381/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35381/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/ed770d91f38572417ed638c4ac6a92975844598d","head":{"label":"dongjoon-hyun:SPARK-38084","ref":"SPARK-38084","sha":"ed770d91f38572417ed638c4ac6a92975844598d","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"6e7000af0012b80a300acc4ed8dee15c47904504","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35381"},"html":{"href":"https://github.com/apache/spark/pull/35381"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35381"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35381/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35381/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35381/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/ed770d91f38572417ed638c4ac6a92975844598d"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35380","id":837351175,"node_id":"PR_kwDOAQXtWs4x6PcH","html_url":"https://github.com/apache/spark/pull/35380","diff_url":"https://github.com/apache/spark/pull/35380.diff","patch_url":"https://github.com/apache/spark/pull/35380.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35380","number":35380,"state":"closed","locked":false,"title":"[SPARK-37417][PYTHON][ML] Inline type hints for pyspark.ml.linalg.__init__.py","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nMigration of type type annotations for `pyspark.ml.linalg.__init__.py` from stub file to inline hints.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nAs part of ongoing type hint migrations.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nExisting tests.","created_at":"2022-02-01T15:18:18Z","updated_at":"2022-02-06T10:00:03Z","closed_at":"2022-02-06T09:59:32Z","merged_at":null,"merge_commit_sha":"cdeebb09640032f9319487304d35513727505b54","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1405803268,"node_id":"MDU6TGFiZWwxNDA1ODAzMjY4","url":"https://api.github.com/repos/apache/spark/labels/MLLIB","name":"MLLIB","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35380/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35380/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35380/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/6071a2b3d1cf274127c9c42ab2bd09fcfe0b217b","head":{"label":"zero323:SPARK-37417","ref":"SPARK-37417","sha":"6071a2b3d1cf274127c9c42ab2bd09fcfe0b217b","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":43824676,"node_id":"MDEwOlJlcG9zaXRvcnk0MzgyNDY3Ng==","name":"spark","full_name":"zero323/spark","private":false,"owner":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zero323/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zero323/spark","forks_url":"https://api.github.com/repos/zero323/spark/forks","keys_url":"https://api.github.com/repos/zero323/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zero323/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zero323/spark/teams","hooks_url":"https://api.github.com/repos/zero323/spark/hooks","issue_events_url":"https://api.github.com/repos/zero323/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zero323/spark/events","assignees_url":"https://api.github.com/repos/zero323/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zero323/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zero323/spark/tags","blobs_url":"https://api.github.com/repos/zero323/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zero323/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zero323/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zero323/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zero323/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zero323/spark/languages","stargazers_url":"https://api.github.com/repos/zero323/spark/stargazers","contributors_url":"https://api.github.com/repos/zero323/spark/contributors","subscribers_url":"https://api.github.com/repos/zero323/spark/subscribers","subscription_url":"https://api.github.com/repos/zero323/spark/subscription","commits_url":"https://api.github.com/repos/zero323/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zero323/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zero323/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zero323/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zero323/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zero323/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zero323/spark/merges","archive_url":"https://api.github.com/repos/zero323/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zero323/spark/downloads","issues_url":"https://api.github.com/repos/zero323/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zero323/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zero323/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zero323/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zero323/spark/labels{/name}","releases_url":"https://api.github.com/repos/zero323/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zero323/spark/deployments","created_at":"2015-10-07T15:16:38Z","updated_at":"2025-02-05T16:45:39Z","pushed_at":"2025-02-05T16:44:26Z","git_url":"git://github.com/zero323/spark.git","ssh_url":"git@github.com:zero323/spark.git","clone_url":"https://github.com/zero323/spark.git","svn_url":"https://github.com/zero323/spark","homepage":null,"size":438263,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"3e0d4899dcb3be226a120cbeec8df78ff7fb00ba","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35380"},"html":{"href":"https://github.com/apache/spark/pull/35380"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35380"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35380/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35380/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35380/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/6071a2b3d1cf274127c9c42ab2bd09fcfe0b217b"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35379","id":836912623,"node_id":"PR_kwDOAQXtWs4x4kXv","html_url":"https://github.com/apache/spark/pull/35379","diff_url":"https://github.com/apache/spark/pull/35379.diff","patch_url":"https://github.com/apache/spark/pull/35379.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35379","number":35379,"state":"closed","locked":false,"title":"[SPARK-38091][SQL] fix bugs in AvroSerializer","user":{"login":"Zhen-hao","id":10957195,"node_id":"MDQ6VXNlcjEwOTU3MTk1","avatar_url":"https://avatars.githubusercontent.com/u/10957195?v=4","gravatar_id":"","url":"https://api.github.com/users/Zhen-hao","html_url":"https://github.com/Zhen-hao","followers_url":"https://api.github.com/users/Zhen-hao/followers","following_url":"https://api.github.com/users/Zhen-hao/following{/other_user}","gists_url":"https://api.github.com/users/Zhen-hao/gists{/gist_id}","starred_url":"https://api.github.com/users/Zhen-hao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zhen-hao/subscriptions","organizations_url":"https://api.github.com/users/Zhen-hao/orgs","repos_url":"https://api.github.com/users/Zhen-hao/repos","events_url":"https://api.github.com/users/Zhen-hao/events{/privacy}","received_events_url":"https://api.github.com/users/Zhen-hao/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR aims to fix some runtime exceptions related to the Avro serializer. \r\n[SPARK-38091](https://issues.apache.org/jira/browse/SPARK-38091) includes information on reproducing the runtime exceptions that this PR would remove. \r\n\r\n### Why are the changes needed?\r\n\r\n\r\n`AvroSerializer`'s implementation, at least in `newConverter`, was not 100% based on the `InternalRow` and `SpecializedGetters` interface. It assumes many implementation details of the interface. \r\n\r\nFor example, in \r\n\r\n```scala\r\n      case (TimestampType, LONG) => avroType.getLogicalType match {\r\n          // For backward compatibility, if the Avro type is Long and it is not logical type\r\n          // (the `null` case), output the timestamp value as with millisecond precision.\r\n          case null | _: TimestampMillis => (getter, ordinal) =>\r\n            DateTimeUtils.microsToMillis(timestampRebaseFunc(getter.getLong(ordinal)))\r\n          case _: TimestampMicros => (getter, ordinal) =>\r\n            timestampRebaseFunc(getter.getLong(ordinal))\r\n          case other => throw new IncompatibleSchemaException(errorPrefix +\r\n            s\"SQL type ${TimestampType.sql} cannot be converted to Avro logical type $other\")\r\n        }\r\n```\r\n\r\nit assumes the `InternalRow` instance encodes `TimestampType` as `java.lang.Long`. That's true for `Unsaferow` but not for `GenericInternalRow`. \r\n\r\nHence the above code will end up with runtime exceptions when used on an instance of `GenericInternalRow`, which is most of the case for Python UDF.\r\n\r\n### Does this PR introduce any user-facing change?\r\n\r\nNo. This PR is internal to Spark.\r\n\r\n### How was this patch tested?\r\n\r\nThere are newly added unit tests in this PR.\r\n\r\n","created_at":"2022-02-01T07:30:21Z","updated_at":"2022-05-31T17:14:05Z","closed_at":"2022-05-31T00:19:14Z","merged_at":null,"merge_commit_sha":"0432f748649542e9151f60920cf2fb05b9009422","assignee":null,"assignees":[],"requested_reviewers":[{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null},{"id":1988040187,"node_id":"MDU6TGFiZWwxOTg4MDQwMTg3","url":"https://api.github.com/repos/apache/spark/labels/AVRO","name":"AVRO","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35379/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35379/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35379/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/f9cbbff581594f198146c64c71e3608e0c234dd2","head":{"label":"Zhen-hao:fix-avro-serializer-bug","ref":"fix-avro-serializer-bug","sha":"f9cbbff581594f198146c64c71e3608e0c234dd2","user":{"login":"Zhen-hao","id":10957195,"node_id":"MDQ6VXNlcjEwOTU3MTk1","avatar_url":"https://avatars.githubusercontent.com/u/10957195?v=4","gravatar_id":"","url":"https://api.github.com/users/Zhen-hao","html_url":"https://github.com/Zhen-hao","followers_url":"https://api.github.com/users/Zhen-hao/followers","following_url":"https://api.github.com/users/Zhen-hao/following{/other_user}","gists_url":"https://api.github.com/users/Zhen-hao/gists{/gist_id}","starred_url":"https://api.github.com/users/Zhen-hao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zhen-hao/subscriptions","organizations_url":"https://api.github.com/users/Zhen-hao/orgs","repos_url":"https://api.github.com/users/Zhen-hao/repos","events_url":"https://api.github.com/users/Zhen-hao/events{/privacy}","received_events_url":"https://api.github.com/users/Zhen-hao/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":454294693,"node_id":"R_kgDOGxP8pQ","name":"spark","full_name":"Zhen-hao/spark","private":false,"owner":{"login":"Zhen-hao","id":10957195,"node_id":"MDQ6VXNlcjEwOTU3MTk1","avatar_url":"https://avatars.githubusercontent.com/u/10957195?v=4","gravatar_id":"","url":"https://api.github.com/users/Zhen-hao","html_url":"https://github.com/Zhen-hao","followers_url":"https://api.github.com/users/Zhen-hao/followers","following_url":"https://api.github.com/users/Zhen-hao/following{/other_user}","gists_url":"https://api.github.com/users/Zhen-hao/gists{/gist_id}","starred_url":"https://api.github.com/users/Zhen-hao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zhen-hao/subscriptions","organizations_url":"https://api.github.com/users/Zhen-hao/orgs","repos_url":"https://api.github.com/users/Zhen-hao/repos","events_url":"https://api.github.com/users/Zhen-hao/events{/privacy}","received_events_url":"https://api.github.com/users/Zhen-hao/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Zhen-hao/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/Zhen-hao/spark","forks_url":"https://api.github.com/repos/Zhen-hao/spark/forks","keys_url":"https://api.github.com/repos/Zhen-hao/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Zhen-hao/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Zhen-hao/spark/teams","hooks_url":"https://api.github.com/repos/Zhen-hao/spark/hooks","issue_events_url":"https://api.github.com/repos/Zhen-hao/spark/issues/events{/number}","events_url":"https://api.github.com/repos/Zhen-hao/spark/events","assignees_url":"https://api.github.com/repos/Zhen-hao/spark/assignees{/user}","branches_url":"https://api.github.com/repos/Zhen-hao/spark/branches{/branch}","tags_url":"https://api.github.com/repos/Zhen-hao/spark/tags","blobs_url":"https://api.github.com/repos/Zhen-hao/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Zhen-hao/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Zhen-hao/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/Zhen-hao/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Zhen-hao/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/Zhen-hao/spark/languages","stargazers_url":"https://api.github.com/repos/Zhen-hao/spark/stargazers","contributors_url":"https://api.github.com/repos/Zhen-hao/spark/contributors","subscribers_url":"https://api.github.com/repos/Zhen-hao/spark/subscribers","subscription_url":"https://api.github.com/repos/Zhen-hao/spark/subscription","commits_url":"https://api.github.com/repos/Zhen-hao/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/Zhen-hao/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/Zhen-hao/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/Zhen-hao/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/Zhen-hao/spark/contents/{+path}","compare_url":"https://api.github.com/repos/Zhen-hao/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Zhen-hao/spark/merges","archive_url":"https://api.github.com/repos/Zhen-hao/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Zhen-hao/spark/downloads","issues_url":"https://api.github.com/repos/Zhen-hao/spark/issues{/number}","pulls_url":"https://api.github.com/repos/Zhen-hao/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/Zhen-hao/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/Zhen-hao/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Zhen-hao/spark/labels{/name}","releases_url":"https://api.github.com/repos/Zhen-hao/spark/releases{/id}","deployments_url":"https://api.github.com/repos/Zhen-hao/spark/deployments","created_at":"2022-02-01T07:17:14Z","updated_at":"2022-02-01T06:59:42Z","pushed_at":"2022-02-18T09:21:05Z","git_url":"git://github.com/Zhen-hao/spark.git","ssh_url":"git@github.com:Zhen-hao/spark.git","clone_url":"https://github.com/Zhen-hao/spark.git","svn_url":"https://github.com/Zhen-hao/spark","homepage":"https://spark.apache.org/","size":406838,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"75122f3518b8355b5f59c06954faa1834347af87","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35379"},"html":{"href":"https://github.com/apache/spark/pull/35379"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35379"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35379/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35379/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35379/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/f9cbbff581594f198146c64c71e3608e0c234dd2"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35378","id":836911480,"node_id":"PR_kwDOAQXtWs4x4kF4","html_url":"https://github.com/apache/spark/pull/35378","diff_url":"https://github.com/apache/spark/pull/35378.diff","patch_url":"https://github.com/apache/spark/pull/35378.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35378","number":35378,"state":"closed","locked":false,"title":"[SPARK-38077][SQL] Fix binary compatibility issue with isDeterministic flag","user":{"login":"sunchao","id":506679,"node_id":"MDQ6VXNlcjUwNjY3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/506679?v=4","gravatar_id":"","url":"https://api.github.com/users/sunchao","html_url":"https://github.com/sunchao","followers_url":"https://api.github.com/users/sunchao/followers","following_url":"https://api.github.com/users/sunchao/following{/other_user}","gists_url":"https://api.github.com/users/sunchao/gists{/gist_id}","starred_url":"https://api.github.com/users/sunchao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunchao/subscriptions","organizations_url":"https://api.github.com/users/sunchao/orgs","repos_url":"https://api.github.com/users/sunchao/repos","events_url":"https://api.github.com/users/sunchao/events{/privacy}","received_events_url":"https://api.github.com/users/sunchao/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nThis fixes a binary compatibility issue caused by SPARK-37957 with the introduction of the additional `isDeterministic` which defaults to true.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nAdding method parameters with default value will break binary compatibility (see [here](https://github.com/jatcwang/binary-compatibility-guide#dont-adding-parameters-with-default-values-to-methods)). Even though Spark doesn't strictly guarantee it, it is still better to avoid. In this case, the compatibility of [frameless](https://github.com/typelevel/frameless) is broken when it wants to work with multiple Spark versions (e.g., 3.2.0 and 3.2.1).\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nNow it requires users to call `setDeterministic` after initializing `Invoke` and `StaticInvoke` if they want to mark the methods as non-deterministic.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nExisting tests.","created_at":"2022-02-01T07:28:14Z","updated_at":"2022-04-16T21:09:47Z","closed_at":"2022-04-16T21:09:47Z","merged_at":null,"merge_commit_sha":"000850e68710caf384a76720c3b7b651fbb24309","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35378/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35378/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35378/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/5df28973f4e79d491ae7b6d6f18f0e978f51ce2d","head":{"label":"sunchao:SPARK-38077","ref":"SPARK-38077","sha":"5df28973f4e79d491ae7b6d6f18f0e978f51ce2d","user":{"login":"sunchao","id":506679,"node_id":"MDQ6VXNlcjUwNjY3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/506679?v=4","gravatar_id":"","url":"https://api.github.com/users/sunchao","html_url":"https://github.com/sunchao","followers_url":"https://api.github.com/users/sunchao/followers","following_url":"https://api.github.com/users/sunchao/following{/other_user}","gists_url":"https://api.github.com/users/sunchao/gists{/gist_id}","starred_url":"https://api.github.com/users/sunchao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunchao/subscriptions","organizations_url":"https://api.github.com/users/sunchao/orgs","repos_url":"https://api.github.com/users/sunchao/repos","events_url":"https://api.github.com/users/sunchao/events{/privacy}","received_events_url":"https://api.github.com/users/sunchao/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":29795757,"node_id":"MDEwOlJlcG9zaXRvcnkyOTc5NTc1Nw==","name":"spark","full_name":"sunchao/spark","private":false,"owner":{"login":"sunchao","id":506679,"node_id":"MDQ6VXNlcjUwNjY3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/506679?v=4","gravatar_id":"","url":"https://api.github.com/users/sunchao","html_url":"https://github.com/sunchao","followers_url":"https://api.github.com/users/sunchao/followers","following_url":"https://api.github.com/users/sunchao/following{/other_user}","gists_url":"https://api.github.com/users/sunchao/gists{/gist_id}","starred_url":"https://api.github.com/users/sunchao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunchao/subscriptions","organizations_url":"https://api.github.com/users/sunchao/orgs","repos_url":"https://api.github.com/users/sunchao/repos","events_url":"https://api.github.com/users/sunchao/events{/privacy}","received_events_url":"https://api.github.com/users/sunchao/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sunchao/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/sunchao/spark","forks_url":"https://api.github.com/repos/sunchao/spark/forks","keys_url":"https://api.github.com/repos/sunchao/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sunchao/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sunchao/spark/teams","hooks_url":"https://api.github.com/repos/sunchao/spark/hooks","issue_events_url":"https://api.github.com/repos/sunchao/spark/issues/events{/number}","events_url":"https://api.github.com/repos/sunchao/spark/events","assignees_url":"https://api.github.com/repos/sunchao/spark/assignees{/user}","branches_url":"https://api.github.com/repos/sunchao/spark/branches{/branch}","tags_url":"https://api.github.com/repos/sunchao/spark/tags","blobs_url":"https://api.github.com/repos/sunchao/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sunchao/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sunchao/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/sunchao/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sunchao/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/sunchao/spark/languages","stargazers_url":"https://api.github.com/repos/sunchao/spark/stargazers","contributors_url":"https://api.github.com/repos/sunchao/spark/contributors","subscribers_url":"https://api.github.com/repos/sunchao/spark/subscribers","subscription_url":"https://api.github.com/repos/sunchao/spark/subscription","commits_url":"https://api.github.com/repos/sunchao/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/sunchao/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/sunchao/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/sunchao/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/sunchao/spark/contents/{+path}","compare_url":"https://api.github.com/repos/sunchao/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sunchao/spark/merges","archive_url":"https://api.github.com/repos/sunchao/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sunchao/spark/downloads","issues_url":"https://api.github.com/repos/sunchao/spark/issues{/number}","pulls_url":"https://api.github.com/repos/sunchao/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/sunchao/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/sunchao/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sunchao/spark/labels{/name}","releases_url":"https://api.github.com/repos/sunchao/spark/releases{/id}","deployments_url":"https://api.github.com/repos/sunchao/spark/deployments","created_at":"2015-01-24T23:30:38Z","updated_at":"2021-11-19T02:19:32Z","pushed_at":"2024-06-01T22:17:50Z","git_url":"git://github.com/sunchao/spark.git","ssh_url":"git@github.com:sunchao/spark.git","clone_url":"https://github.com/sunchao/spark.git","svn_url":"https://github.com/sunchao/spark","homepage":null,"size":426441,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c37c6c393dc0302abd41b0c4c41002710ba52270","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35378"},"html":{"href":"https://github.com/apache/spark/pull/35378"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35378"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35378/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35378/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35378/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/5df28973f4e79d491ae7b6d6f18f0e978f51ce2d"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35377","id":836854349,"node_id":"PR_kwDOAQXtWs4x4WJN","html_url":"https://github.com/apache/spark/pull/35377","diff_url":"https://github.com/apache/spark/pull/35377.diff","patch_url":"https://github.com/apache/spark/pull/35377.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35377","number":35377,"state":"closed","locked":false,"title":"[SPARK-37958][DOCS] Update spark.files.overwrite description","user":{"login":"yoda-mon","id":14937752,"node_id":"MDQ6VXNlcjE0OTM3NzUy","avatar_url":"https://avatars.githubusercontent.com/u/14937752?v=4","gravatar_id":"","url":"https://api.github.com/users/yoda-mon","html_url":"https://github.com/yoda-mon","followers_url":"https://api.github.com/users/yoda-mon/followers","following_url":"https://api.github.com/users/yoda-mon/following{/other_user}","gists_url":"https://api.github.com/users/yoda-mon/gists{/gist_id}","starred_url":"https://api.github.com/users/yoda-mon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yoda-mon/subscriptions","organizations_url":"https://api.github.com/users/yoda-mon/orgs","repos_url":"https://api.github.com/users/yoda-mon/repos","events_url":"https://api.github.com/users/yoda-mon/events{/privacy}","received_events_url":"https://api.github.com/users/yoda-mon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nUpdate the description about `spark.files.overwrite`\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nThe description is misleading so users might misunderstand that they can use `SparkContext.addFile` to update the files that the added by the same API before.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n` SKIP_API=1 bundle exec jekyll build`\r\n\r\nThe screenshot of document is below.\r\n<img width=\"898\" alt=\"Screen Shot 2022-02-01 at 11 14 59\" src=\"https://user-images.githubusercontent.com/14937752/151917587-3e0f1ca8-c87e-4245-a12b-4b3ab77aa196.png\">\r\n\r\n","created_at":"2022-02-01T05:33:06Z","updated_at":"2022-02-03T00:41:25Z","closed_at":"2022-02-03T00:41:25Z","merged_at":null,"merge_commit_sha":"472ff16543bb271cca366466f0a5a086592cb671","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35377/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35377/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35377/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/7e1f0b1e11d4fe83b70beae6f3fc8b0fcc8b780f","head":{"label":"yoda-mon:spark-37958","ref":"spark-37958","sha":"7e1f0b1e11d4fe83b70beae6f3fc8b0fcc8b780f","user":{"login":"yoda-mon","id":14937752,"node_id":"MDQ6VXNlcjE0OTM3NzUy","avatar_url":"https://avatars.githubusercontent.com/u/14937752?v=4","gravatar_id":"","url":"https://api.github.com/users/yoda-mon","html_url":"https://github.com/yoda-mon","followers_url":"https://api.github.com/users/yoda-mon/followers","following_url":"https://api.github.com/users/yoda-mon/following{/other_user}","gists_url":"https://api.github.com/users/yoda-mon/gists{/gist_id}","starred_url":"https://api.github.com/users/yoda-mon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yoda-mon/subscriptions","organizations_url":"https://api.github.com/users/yoda-mon/orgs","repos_url":"https://api.github.com/users/yoda-mon/repos","events_url":"https://api.github.com/users/yoda-mon/events{/privacy}","received_events_url":"https://api.github.com/users/yoda-mon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":383314645,"node_id":"MDEwOlJlcG9zaXRvcnkzODMzMTQ2NDU=","name":"spark","full_name":"yoda-mon/spark","private":false,"owner":{"login":"yoda-mon","id":14937752,"node_id":"MDQ6VXNlcjE0OTM3NzUy","avatar_url":"https://avatars.githubusercontent.com/u/14937752?v=4","gravatar_id":"","url":"https://api.github.com/users/yoda-mon","html_url":"https://github.com/yoda-mon","followers_url":"https://api.github.com/users/yoda-mon/followers","following_url":"https://api.github.com/users/yoda-mon/following{/other_user}","gists_url":"https://api.github.com/users/yoda-mon/gists{/gist_id}","starred_url":"https://api.github.com/users/yoda-mon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yoda-mon/subscriptions","organizations_url":"https://api.github.com/users/yoda-mon/orgs","repos_url":"https://api.github.com/users/yoda-mon/repos","events_url":"https://api.github.com/users/yoda-mon/events{/privacy}","received_events_url":"https://api.github.com/users/yoda-mon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/yoda-mon/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/yoda-mon/spark","forks_url":"https://api.github.com/repos/yoda-mon/spark/forks","keys_url":"https://api.github.com/repos/yoda-mon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/yoda-mon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/yoda-mon/spark/teams","hooks_url":"https://api.github.com/repos/yoda-mon/spark/hooks","issue_events_url":"https://api.github.com/repos/yoda-mon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/yoda-mon/spark/events","assignees_url":"https://api.github.com/repos/yoda-mon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/yoda-mon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/yoda-mon/spark/tags","blobs_url":"https://api.github.com/repos/yoda-mon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/yoda-mon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/yoda-mon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/yoda-mon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/yoda-mon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/yoda-mon/spark/languages","stargazers_url":"https://api.github.com/repos/yoda-mon/spark/stargazers","contributors_url":"https://api.github.com/repos/yoda-mon/spark/contributors","subscribers_url":"https://api.github.com/repos/yoda-mon/spark/subscribers","subscription_url":"https://api.github.com/repos/yoda-mon/spark/subscription","commits_url":"https://api.github.com/repos/yoda-mon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/yoda-mon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/yoda-mon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/yoda-mon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/yoda-mon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/yoda-mon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/yoda-mon/spark/merges","archive_url":"https://api.github.com/repos/yoda-mon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/yoda-mon/spark/downloads","issues_url":"https://api.github.com/repos/yoda-mon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/yoda-mon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/yoda-mon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/yoda-mon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/yoda-mon/spark/labels{/name}","releases_url":"https://api.github.com/repos/yoda-mon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/yoda-mon/spark/deployments","created_at":"2021-07-06T02:18:47Z","updated_at":"2021-12-08T07:33:08Z","pushed_at":"2022-02-07T10:28:32Z","git_url":"git://github.com/yoda-mon/spark.git","ssh_url":"git@github.com:yoda-mon/spark.git","clone_url":"https://github.com/yoda-mon/spark.git","svn_url":"https://github.com/yoda-mon/spark","homepage":"https://spark.apache.org/","size":401527,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":1,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"46885bef1a1254853ce9165862e3bd8f3a15071f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35377"},"html":{"href":"https://github.com/apache/spark/pull/35377"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35377"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35377/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35377/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35377/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/7e1f0b1e11d4fe83b70beae6f3fc8b0fcc8b780f"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35376","id":836806505,"node_id":"PR_kwDOAQXtWs4x4Kdp","html_url":"https://github.com/apache/spark/pull/35376","diff_url":"https://github.com/apache/spark/pull/35376.diff","patch_url":"https://github.com/apache/spark/pull/35376.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35376","number":35376,"state":"closed","locked":false,"title":"[SPARK-38081][K8S][TESTS] Support `cloud`-backend in K8s IT with SBT","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR aims to\r\n- Support `cloud` backend in K8s IT with SBT (Image building/pushing/testing)\r\n- Add a new K8s test tag, `local`, and apply it to a test case using local HTTP server.\r\n\r\n### Why are the changes needed?\r\n\r\nTo run K8s IT in the cloud environment more easily.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo\r\n\r\n### How was this patch tested?\r\n\r\nManually test like the following.\r\n```\r\n$ build/sbt -Psparkr -Pkubernetes -Pkubernetes-integration-tests -Dtest.exclude.tags=minikube,local -Dspark.kubernetes.test.deployMode=cloud -Dspark.kubernetes.test.master=k8s://....eks.amazonaws.com -Dspark.kubernetes.test.namespace=spark-cloud-test -Dspark.kubernetes.test.imageRepo=... -Dspark.kubernetes.test.imageTag=2022-02-01 \"kubernetes-integration-tests/test\"\r\n\r\n...\r\n[info] KubernetesSuite:\r\n[info] - Run SparkPi with no resources (26 seconds, 678 milliseconds)\r\n[info] - Run SparkPi with no resources & statefulset allocation (18 seconds, 617 milliseconds)\r\n[info] - Run SparkPi with a very long application name. (17 seconds, 205 milliseconds)\r\n[info] - Use SparkLauncher.NO_RESOURCE (17 seconds, 555 milliseconds)\r\n[info] - Run SparkPi with a master URL without a scheme. (17 seconds, 478 milliseconds)\r\n[info] - Run SparkPi with an argument. (17 seconds, 518 milliseconds)\r\n[info] - Run SparkPi with custom labels, annotations, and environment variables. (17 seconds, 648 milliseconds)\r\n[info] - All pods have the same service account by default (17 seconds, 800 milliseconds)\r\n[info] - Run extraJVMOptions check on driver (11 seconds, 141 milliseconds)\r\n[info] - Verify logging configuration is picked from the provided SPARK_CONF_DIR/log4j2.properties (25 seconds, 608 milliseconds)\r\n[info] - Run SparkPi with env and mount secrets. (27 seconds, 114 milliseconds)\r\n[info] - Run PySpark on simple pi.py example (42 seconds, 929 milliseconds)\r\n[info] - Run PySpark to test a pyfiles example (19 seconds, 914 milliseconds)\r\n[info] - Run PySpark with memory customization (16 seconds, 985 milliseconds)\r\n[info] - Run in client mode. (10 seconds, 42 milliseconds)\r\n[info] - Start pod creation from template (16 seconds, 207 milliseconds)\r\n[info] - Test basic decommissioning (49 seconds, 519 milliseconds)\r\n[info] - Test basic decommissioning with shuffle cleanup (49 seconds, 472 milliseconds)\r\n[info] - Test decommissioning with dynamic allocation & shuffle cleanups (2 minutes, 49 seconds)\r\n[info] - Test decommissioning timeouts (50 seconds, 423 milliseconds)\r\n[info] - SPARK-37576: Rolling decommissioning (1 minute, 13 seconds)\r\n[info] - Run SparkR on simple dataframe.R example (51 seconds, 712 milliseconds)\r\n[info] Run completed in 15 minutes, 50 seconds.\r\n[info] Total number of tests run: 22\r\n[info] Suites: completed 1, aborted 0\r\n[info] Tests: succeeded 22, failed 0, canceled 0, ignored 0, pending 0\r\n[info] All tests passed.\r\n[success] Total time: 1920 s (32:00), completed Jan 31, 2022 11:56:38 PM\r\n```","created_at":"2022-02-01T03:42:21Z","updated_at":"2022-03-02T23:02:02Z","closed_at":"2022-02-01T16:30:55Z","merged_at":null,"merge_commit_sha":"69391af02a19bfe8158b5f94fc09103b4ac85e7b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406605057,"node_id":"MDU6TGFiZWwxNDA2NjA1MDU3","url":"https://api.github.com/repos/apache/spark/labels/KUBERNETES","name":"KUBERNETES","color":"ededed","default":false,"description":null},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null},{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35376/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35376/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35376/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/5e7dca2853c9a74da0d8c590bca026412353152d","head":{"label":"dongjoon-hyun:SPARK-38081","ref":"SPARK-38081","sha":"5e7dca2853c9a74da0d8c590bca026412353152d","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"46885bef1a1254853ce9165862e3bd8f3a15071f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35376"},"html":{"href":"https://github.com/apache/spark/pull/35376"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35376"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35376/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35376/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35376/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/5e7dca2853c9a74da0d8c590bca026412353152d"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35375","id":836673150,"node_id":"PR_kwDOAQXtWs4x3p5-","html_url":"https://github.com/apache/spark/pull/35375","diff_url":"https://github.com/apache/spark/pull/35375.diff","patch_url":"https://github.com/apache/spark/pull/35375.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35375","number":35375,"state":"closed","locked":false,"title":"[SPARK-38075][SQL][3.1] Fix `hasNext` in `HiveScriptTransformationExec`'s process output iterator","user":{"login":"bersprockets","id":21131848,"node_id":"MDQ6VXNlcjIxMTMxODQ4","avatar_url":"https://avatars.githubusercontent.com/u/21131848?v=4","gravatar_id":"","url":"https://api.github.com/users/bersprockets","html_url":"https://github.com/bersprockets","followers_url":"https://api.github.com/users/bersprockets/followers","following_url":"https://api.github.com/users/bersprockets/following{/other_user}","gists_url":"https://api.github.com/users/bersprockets/gists{/gist_id}","starred_url":"https://api.github.com/users/bersprockets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bersprockets/subscriptions","organizations_url":"https://api.github.com/users/bersprockets/orgs","repos_url":"https://api.github.com/users/bersprockets/repos","events_url":"https://api.github.com/users/bersprockets/events{/privacy}","received_events_url":"https://api.github.com/users/bersprockets/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"Backport #35368 to 3.1.\r\n\r\n### What changes were proposed in this pull request?\r\n\r\nFix hasNext in HiveScriptTransformationExec's process output iterator to always return false if it had previously returned false.\r\n\r\n### Why are the changes needed?\r\n\r\nWhen hasNext on the process output iterator returns false, it leaves the iterator in a state (i.e., scriptOutputWritable is not null) such that the next call returns true.\r\n\r\nThe Guava Ordering used in TakeOrderedAndProjectExec will call hasNext on the process output iterator even after an earlier call had returned false. This results in fake rows when script transform is used with `order by` and `limit`. For example:\r\n\r\n```\r\ncreate or replace temp view t as\r\nselect * from values\r\n(1),\r\n(2),\r\n(3)\r\nas t(a);\r\n\r\nselect transform(a)\r\nUSING 'cat' AS (a int)\r\nFROM t order by a limit 10;\r\n```\r\nThis returns:\r\n```\r\nNULL\r\nNULL\r\nNULL\r\n1\r\n2\r\n3\r\n```\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo, other than removing the correctness issue.\r\n\r\n### How was this patch tested?\r\n\r\nNew unit test.\r\n","created_at":"2022-01-31T23:27:25Z","updated_at":"2022-08-10T18:28:46Z","closed_at":"2022-02-01T02:50:45Z","merged_at":null,"merge_commit_sha":"8a4256e1569acbabecf2e41316f7ac2b3df6cb40","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35375/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35375/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35375/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/d11b48dd3aaf2f1e49601785c97b46a9910e2917","head":{"label":"bersprockets:SPARK-38075_3.1","ref":"SPARK-38075_3.1","sha":"d11b48dd3aaf2f1e49601785c97b46a9910e2917","user":{"login":"bersprockets","id":21131848,"node_id":"MDQ6VXNlcjIxMTMxODQ4","avatar_url":"https://avatars.githubusercontent.com/u/21131848?v=4","gravatar_id":"","url":"https://api.github.com/users/bersprockets","html_url":"https://github.com/bersprockets","followers_url":"https://api.github.com/users/bersprockets/followers","following_url":"https://api.github.com/users/bersprockets/following{/other_user}","gists_url":"https://api.github.com/users/bersprockets/gists{/gist_id}","starred_url":"https://api.github.com/users/bersprockets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bersprockets/subscriptions","organizations_url":"https://api.github.com/users/bersprockets/orgs","repos_url":"https://api.github.com/users/bersprockets/repos","events_url":"https://api.github.com/users/bersprockets/events{/privacy}","received_events_url":"https://api.github.com/users/bersprockets/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":115567071,"node_id":"MDEwOlJlcG9zaXRvcnkxMTU1NjcwNzE=","name":"spark","full_name":"bersprockets/spark","private":false,"owner":{"login":"bersprockets","id":21131848,"node_id":"MDQ6VXNlcjIxMTMxODQ4","avatar_url":"https://avatars.githubusercontent.com/u/21131848?v=4","gravatar_id":"","url":"https://api.github.com/users/bersprockets","html_url":"https://github.com/bersprockets","followers_url":"https://api.github.com/users/bersprockets/followers","following_url":"https://api.github.com/users/bersprockets/following{/other_user}","gists_url":"https://api.github.com/users/bersprockets/gists{/gist_id}","starred_url":"https://api.github.com/users/bersprockets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bersprockets/subscriptions","organizations_url":"https://api.github.com/users/bersprockets/orgs","repos_url":"https://api.github.com/users/bersprockets/repos","events_url":"https://api.github.com/users/bersprockets/events{/privacy}","received_events_url":"https://api.github.com/users/bersprockets/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bersprockets/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/bersprockets/spark","forks_url":"https://api.github.com/repos/bersprockets/spark/forks","keys_url":"https://api.github.com/repos/bersprockets/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bersprockets/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bersprockets/spark/teams","hooks_url":"https://api.github.com/repos/bersprockets/spark/hooks","issue_events_url":"https://api.github.com/repos/bersprockets/spark/issues/events{/number}","events_url":"https://api.github.com/repos/bersprockets/spark/events","assignees_url":"https://api.github.com/repos/bersprockets/spark/assignees{/user}","branches_url":"https://api.github.com/repos/bersprockets/spark/branches{/branch}","tags_url":"https://api.github.com/repos/bersprockets/spark/tags","blobs_url":"https://api.github.com/repos/bersprockets/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bersprockets/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bersprockets/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/bersprockets/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bersprockets/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/bersprockets/spark/languages","stargazers_url":"https://api.github.com/repos/bersprockets/spark/stargazers","contributors_url":"https://api.github.com/repos/bersprockets/spark/contributors","subscribers_url":"https://api.github.com/repos/bersprockets/spark/subscribers","subscription_url":"https://api.github.com/repos/bersprockets/spark/subscription","commits_url":"https://api.github.com/repos/bersprockets/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/bersprockets/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/bersprockets/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/bersprockets/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/bersprockets/spark/contents/{+path}","compare_url":"https://api.github.com/repos/bersprockets/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bersprockets/spark/merges","archive_url":"https://api.github.com/repos/bersprockets/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bersprockets/spark/downloads","issues_url":"https://api.github.com/repos/bersprockets/spark/issues{/number}","pulls_url":"https://api.github.com/repos/bersprockets/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/bersprockets/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/bersprockets/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bersprockets/spark/labels{/name}","releases_url":"https://api.github.com/repos/bersprockets/spark/releases{/id}","deployments_url":"https://api.github.com/repos/bersprockets/spark/deployments","created_at":"2017-12-28T00:03:24Z","updated_at":"2025-01-24T22:51:50Z","pushed_at":"2025-01-24T22:51:35Z","git_url":"git://github.com/bersprockets/spark.git","ssh_url":"git@github.com:bersprockets/spark.git","clone_url":"https://github.com/bersprockets/spark.git","svn_url":"https://github.com/bersprockets/spark","homepage":null,"size":475116,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:branch-3.1","ref":"branch-3.1","sha":"91db9a36a9ed74845908f14d21227d5267591653","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35375"},"html":{"href":"https://github.com/apache/spark/pull/35375"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35375"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35375/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35375/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35375/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/d11b48dd3aaf2f1e49601785c97b46a9910e2917"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35374","id":836642075,"node_id":"PR_kwDOAQXtWs4x3iUb","html_url":"https://github.com/apache/spark/pull/35374","diff_url":"https://github.com/apache/spark/pull/35374.diff","patch_url":"https://github.com/apache/spark/pull/35374.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35374","number":35374,"state":"closed","locked":false,"title":"[SPARK-34183][SS] DataSource V2: Required distribution and ordering in micro-batch execution","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nThis PR adjusts existing logical plans for micro-batch writes to support required distribution and ordering. This change implements what was discussed in PR #31700. In particular, the consensus was to adapt existing streaming plans to support write requirements instead of introducing new logical plans for Structured Streaming. That's a separate item and must be addressed independently.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nThese changes are needed so that data sources can request a specific distribution and ordering not only for batch but also for micro-batch writes.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nThis PR extends existing tests to cover micro-batch cases.","created_at":"2022-01-31T22:40:45Z","updated_at":"2022-02-09T04:42:02Z","closed_at":"2022-02-08T22:11:53Z","merged_at":null,"merge_commit_sha":"0c1603e2e0c58e55763a9f535f71aa7a77f3bb50","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35374/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35374/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35374/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/47de59cafc4f55255ea5078611c1eda80cd19428","head":{"label":"aokolnychyi:spark-34183-v2","ref":"spark-34183-v2","sha":"47de59cafc4f55255ea5078611c1eda80cd19428","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":61945043,"node_id":"MDEwOlJlcG9zaXRvcnk2MTk0NTA0Mw==","name":"spark","full_name":"aokolnychyi/spark","private":false,"owner":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/aokolnychyi/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/aokolnychyi/spark","forks_url":"https://api.github.com/repos/aokolnychyi/spark/forks","keys_url":"https://api.github.com/repos/aokolnychyi/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/aokolnychyi/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/aokolnychyi/spark/teams","hooks_url":"https://api.github.com/repos/aokolnychyi/spark/hooks","issue_events_url":"https://api.github.com/repos/aokolnychyi/spark/issues/events{/number}","events_url":"https://api.github.com/repos/aokolnychyi/spark/events","assignees_url":"https://api.github.com/repos/aokolnychyi/spark/assignees{/user}","branches_url":"https://api.github.com/repos/aokolnychyi/spark/branches{/branch}","tags_url":"https://api.github.com/repos/aokolnychyi/spark/tags","blobs_url":"https://api.github.com/repos/aokolnychyi/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/aokolnychyi/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/aokolnychyi/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/aokolnychyi/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/aokolnychyi/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/aokolnychyi/spark/languages","stargazers_url":"https://api.github.com/repos/aokolnychyi/spark/stargazers","contributors_url":"https://api.github.com/repos/aokolnychyi/spark/contributors","subscribers_url":"https://api.github.com/repos/aokolnychyi/spark/subscribers","subscription_url":"https://api.github.com/repos/aokolnychyi/spark/subscription","commits_url":"https://api.github.com/repos/aokolnychyi/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/aokolnychyi/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/aokolnychyi/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/aokolnychyi/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/aokolnychyi/spark/contents/{+path}","compare_url":"https://api.github.com/repos/aokolnychyi/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/aokolnychyi/spark/merges","archive_url":"https://api.github.com/repos/aokolnychyi/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/aokolnychyi/spark/downloads","issues_url":"https://api.github.com/repos/aokolnychyi/spark/issues{/number}","pulls_url":"https://api.github.com/repos/aokolnychyi/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/aokolnychyi/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/aokolnychyi/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/aokolnychyi/spark/labels{/name}","releases_url":"https://api.github.com/repos/aokolnychyi/spark/releases{/id}","deployments_url":"https://api.github.com/repos/aokolnychyi/spark/deployments","created_at":"2016-06-25T13:46:06Z","updated_at":"2024-05-24T16:27:18Z","pushed_at":"2025-01-20T03:24:19Z","git_url":"git://github.com/aokolnychyi/spark.git","ssh_url":"git@github.com:aokolnychyi/spark.git","clone_url":"https://github.com/aokolnychyi/spark.git","svn_url":"https://github.com/aokolnychyi/spark","homepage":null,"size":436260,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"46885bef1a1254853ce9165862e3bd8f3a15071f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35374"},"html":{"href":"https://github.com/apache/spark/pull/35374"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35374"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35374/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35374/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35374/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/47de59cafc4f55255ea5078611c1eda80cd19428"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35373","id":836553934,"node_id":"PR_kwDOAQXtWs4x3MzO","html_url":"https://github.com/apache/spark/pull/35373","diff_url":"https://github.com/apache/spark/pull/35373.diff","patch_url":"https://github.com/apache/spark/pull/35373.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35373","number":35373,"state":"closed","locked":false,"title":"[SPARK-38047][K8S] Add `OUTLIER_NO_FALLBACK` executor roll policy","user":{"login":"alexholmes","id":409018,"node_id":"MDQ6VXNlcjQwOTAxOA==","avatar_url":"https://avatars.githubusercontent.com/u/409018?v=4","gravatar_id":"","url":"https://api.github.com/users/alexholmes","html_url":"https://github.com/alexholmes","followers_url":"https://api.github.com/users/alexholmes/followers","following_url":"https://api.github.com/users/alexholmes/following{/other_user}","gists_url":"https://api.github.com/users/alexholmes/gists{/gist_id}","starred_url":"https://api.github.com/users/alexholmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexholmes/subscriptions","organizations_url":"https://api.github.com/users/alexholmes/orgs","repos_url":"https://api.github.com/users/alexholmes/repos","events_url":"https://api.github.com/users/alexholmes/events{/privacy}","received_events_url":"https://api.github.com/users/alexholmes/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR aims to add a new executor roll policy which allows users to skip rolling in cases where there are no outlier executors.\r\n\r\n### Why are the changes needed?\r\n\r\nAs currently implemented an executor is always rolled every `spark.kubernetes.executor.rollInterval` interval. In environments where starting of executors can introduce latencies it may be desirable for users to have the option to determine if rolling should only happen when outliers are found.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo, this is an additional option being added to a new feature in Apache Spark 3.3.\r\n\r\n### How was this patch tested?\r\n\r\nPass the CIs with the newly added test cases.","created_at":"2022-01-31T20:38:35Z","updated_at":"2022-02-01T19:10:40Z","closed_at":"2022-02-01T19:10:40Z","merged_at":null,"merge_commit_sha":"7658d4c97ff59c70bb2dba863ed1e536006d3043","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406605057,"node_id":"MDU6TGFiZWwxNDA2NjA1MDU3","url":"https://api.github.com/repos/apache/spark/labels/KUBERNETES","name":"KUBERNETES","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35373/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35373/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35373/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/7440b82d4649fa9fa91dec96b32f8fc70aa02546","head":{"label":"alexholmes:SPARK-38047","ref":"SPARK-38047","sha":"7440b82d4649fa9fa91dec96b32f8fc70aa02546","user":{"login":"alexholmes","id":409018,"node_id":"MDQ6VXNlcjQwOTAxOA==","avatar_url":"https://avatars.githubusercontent.com/u/409018?v=4","gravatar_id":"","url":"https://api.github.com/users/alexholmes","html_url":"https://github.com/alexholmes","followers_url":"https://api.github.com/users/alexholmes/followers","following_url":"https://api.github.com/users/alexholmes/following{/other_user}","gists_url":"https://api.github.com/users/alexholmes/gists{/gist_id}","starred_url":"https://api.github.com/users/alexholmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexholmes/subscriptions","organizations_url":"https://api.github.com/users/alexholmes/orgs","repos_url":"https://api.github.com/users/alexholmes/repos","events_url":"https://api.github.com/users/alexholmes/events{/privacy}","received_events_url":"https://api.github.com/users/alexholmes/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":454149485,"node_id":"R_kgDOGxHFbQ","name":"spark","full_name":"alexholmes/spark","private":false,"owner":{"login":"alexholmes","id":409018,"node_id":"MDQ6VXNlcjQwOTAxOA==","avatar_url":"https://avatars.githubusercontent.com/u/409018?v=4","gravatar_id":"","url":"https://api.github.com/users/alexholmes","html_url":"https://github.com/alexholmes","followers_url":"https://api.github.com/users/alexholmes/followers","following_url":"https://api.github.com/users/alexholmes/following{/other_user}","gists_url":"https://api.github.com/users/alexholmes/gists{/gist_id}","starred_url":"https://api.github.com/users/alexholmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexholmes/subscriptions","organizations_url":"https://api.github.com/users/alexholmes/orgs","repos_url":"https://api.github.com/users/alexholmes/repos","events_url":"https://api.github.com/users/alexholmes/events{/privacy}","received_events_url":"https://api.github.com/users/alexholmes/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/alexholmes/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/alexholmes/spark","forks_url":"https://api.github.com/repos/alexholmes/spark/forks","keys_url":"https://api.github.com/repos/alexholmes/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/alexholmes/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/alexholmes/spark/teams","hooks_url":"https://api.github.com/repos/alexholmes/spark/hooks","issue_events_url":"https://api.github.com/repos/alexholmes/spark/issues/events{/number}","events_url":"https://api.github.com/repos/alexholmes/spark/events","assignees_url":"https://api.github.com/repos/alexholmes/spark/assignees{/user}","branches_url":"https://api.github.com/repos/alexholmes/spark/branches{/branch}","tags_url":"https://api.github.com/repos/alexholmes/spark/tags","blobs_url":"https://api.github.com/repos/alexholmes/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/alexholmes/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/alexholmes/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/alexholmes/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/alexholmes/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/alexholmes/spark/languages","stargazers_url":"https://api.github.com/repos/alexholmes/spark/stargazers","contributors_url":"https://api.github.com/repos/alexholmes/spark/contributors","subscribers_url":"https://api.github.com/repos/alexholmes/spark/subscribers","subscription_url":"https://api.github.com/repos/alexholmes/spark/subscription","commits_url":"https://api.github.com/repos/alexholmes/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/alexholmes/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/alexholmes/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/alexholmes/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/alexholmes/spark/contents/{+path}","compare_url":"https://api.github.com/repos/alexholmes/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/alexholmes/spark/merges","archive_url":"https://api.github.com/repos/alexholmes/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/alexholmes/spark/downloads","issues_url":"https://api.github.com/repos/alexholmes/spark/issues{/number}","pulls_url":"https://api.github.com/repos/alexholmes/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/alexholmes/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/alexholmes/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/alexholmes/spark/labels{/name}","releases_url":"https://api.github.com/repos/alexholmes/spark/releases{/id}","deployments_url":"https://api.github.com/repos/alexholmes/spark/deployments","created_at":"2022-01-31T19:55:11Z","updated_at":"2022-01-31T18:59:45Z","pushed_at":"2022-02-01T17:52:34Z","git_url":"git://github.com/alexholmes/spark.git","ssh_url":"git@github.com:alexholmes/spark.git","clone_url":"https://github.com/alexholmes/spark.git","svn_url":"https://github.com/alexholmes/spark","homepage":"https://spark.apache.org/","size":405915,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"46885bef1a1254853ce9165862e3bd8f3a15071f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35373"},"html":{"href":"https://github.com/apache/spark/pull/35373"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35373"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35373/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35373/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35373/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/7440b82d4649fa9fa91dec96b32f8fc70aa02546"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35372","id":836502559,"node_id":"PR_kwDOAQXtWs4x3AQf","html_url":"https://github.com/apache/spark/pull/35372","diff_url":"https://github.com/apache/spark/pull/35372.diff","patch_url":"https://github.com/apache/spark/pull/35372.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35372","number":35372,"state":"closed","locked":false,"title":"[SPARK-38080][TESTS][SS]Flaky test: StreamingQueryManagerSuite: 'awaitAnyTermination with timeout and resetTerminated'","user":{"login":"zsxwing","id":1000778,"node_id":"MDQ6VXNlcjEwMDA3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1000778?v=4","gravatar_id":"","url":"https://api.github.com/users/zsxwing","html_url":"https://github.com/zsxwing","followers_url":"https://api.github.com/users/zsxwing/followers","following_url":"https://api.github.com/users/zsxwing/following{/other_user}","gists_url":"https://api.github.com/users/zsxwing/gists{/gist_id}","starred_url":"https://api.github.com/users/zsxwing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zsxwing/subscriptions","organizations_url":"https://api.github.com/users/zsxwing/orgs","repos_url":"https://api.github.com/users/zsxwing/repos","events_url":"https://api.github.com/users/zsxwing/events{/privacy}","received_events_url":"https://api.github.com/users/zsxwing/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nFix a flaky test.\r\n\r\n### Why are the changes needed?\r\n\r\n`StreamingQueryManagerSuite: 'awaitAnyTermination with timeout and resetTerminated'` is a flaky test.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo\r\n\r\n### How was this patch tested?\r\n\r\n- The flaky test can be reproduced by adding a `Thread.sleep(100)` in https://github.com/apache/spark/blob/v3.2.1/sql/core/src/main/scala/org/apache/spark/sql/execution/streaming/StreamExecution.scala#L346\r\n- Using the above reproduction to verify the PR. ","created_at":"2022-01-31T19:31:53Z","updated_at":"2022-02-04T04:38:18Z","closed_at":"2022-02-02T07:27:28Z","merged_at":null,"merge_commit_sha":"5373a2aeed295a75fdead86edaa58b6ec72a49c2","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35372/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35372/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35372/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/976c2a27175a98baaf6ae5a070615450e9d2f361","head":{"label":"zsxwing:SPARK-38080","ref":"SPARK-38080","sha":"976c2a27175a98baaf6ae5a070615450e9d2f361","user":{"login":"zsxwing","id":1000778,"node_id":"MDQ6VXNlcjEwMDA3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1000778?v=4","gravatar_id":"","url":"https://api.github.com/users/zsxwing","html_url":"https://github.com/zsxwing","followers_url":"https://api.github.com/users/zsxwing/followers","following_url":"https://api.github.com/users/zsxwing/following{/other_user}","gists_url":"https://api.github.com/users/zsxwing/gists{/gist_id}","starred_url":"https://api.github.com/users/zsxwing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zsxwing/subscriptions","organizations_url":"https://api.github.com/users/zsxwing/orgs","repos_url":"https://api.github.com/users/zsxwing/repos","events_url":"https://api.github.com/users/zsxwing/events{/privacy}","received_events_url":"https://api.github.com/users/zsxwing/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":88661206,"node_id":"MDEwOlJlcG9zaXRvcnk4ODY2MTIwNg==","name":"spark","full_name":"zsxwing/spark","private":false,"owner":{"login":"zsxwing","id":1000778,"node_id":"MDQ6VXNlcjEwMDA3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1000778?v=4","gravatar_id":"","url":"https://api.github.com/users/zsxwing","html_url":"https://github.com/zsxwing","followers_url":"https://api.github.com/users/zsxwing/followers","following_url":"https://api.github.com/users/zsxwing/following{/other_user}","gists_url":"https://api.github.com/users/zsxwing/gists{/gist_id}","starred_url":"https://api.github.com/users/zsxwing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zsxwing/subscriptions","organizations_url":"https://api.github.com/users/zsxwing/orgs","repos_url":"https://api.github.com/users/zsxwing/repos","events_url":"https://api.github.com/users/zsxwing/events{/privacy}","received_events_url":"https://api.github.com/users/zsxwing/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zsxwing/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zsxwing/spark","forks_url":"https://api.github.com/repos/zsxwing/spark/forks","keys_url":"https://api.github.com/repos/zsxwing/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zsxwing/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zsxwing/spark/teams","hooks_url":"https://api.github.com/repos/zsxwing/spark/hooks","issue_events_url":"https://api.github.com/repos/zsxwing/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zsxwing/spark/events","assignees_url":"https://api.github.com/repos/zsxwing/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zsxwing/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zsxwing/spark/tags","blobs_url":"https://api.github.com/repos/zsxwing/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zsxwing/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zsxwing/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zsxwing/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zsxwing/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zsxwing/spark/languages","stargazers_url":"https://api.github.com/repos/zsxwing/spark/stargazers","contributors_url":"https://api.github.com/repos/zsxwing/spark/contributors","subscribers_url":"https://api.github.com/repos/zsxwing/spark/subscribers","subscription_url":"https://api.github.com/repos/zsxwing/spark/subscription","commits_url":"https://api.github.com/repos/zsxwing/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zsxwing/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zsxwing/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zsxwing/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zsxwing/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zsxwing/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zsxwing/spark/merges","archive_url":"https://api.github.com/repos/zsxwing/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zsxwing/spark/downloads","issues_url":"https://api.github.com/repos/zsxwing/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zsxwing/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zsxwing/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zsxwing/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zsxwing/spark/labels{/name}","releases_url":"https://api.github.com/repos/zsxwing/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zsxwing/spark/deployments","created_at":"2017-04-18T19:11:28Z","updated_at":"2017-04-18T19:11:55Z","pushed_at":"2022-11-08T16:33:20Z","git_url":"git://github.com/zsxwing/spark.git","ssh_url":"git@github.com:zsxwing/spark.git","clone_url":"https://github.com/zsxwing/spark.git","svn_url":"https://github.com/zsxwing/spark","homepage":null,"size":376188,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"46885bef1a1254853ce9165862e3bd8f3a15071f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35372"},"html":{"href":"https://github.com/apache/spark/pull/35372"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35372"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35372/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35372/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35372/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/976c2a27175a98baaf6ae5a070615450e9d2f361"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35371","id":835956627,"node_id":"PR_kwDOAQXtWs4x06-T","html_url":"https://github.com/apache/spark/pull/35371","diff_url":"https://github.com/apache/spark/pull/35371.diff","patch_url":"https://github.com/apache/spark/pull/35371.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35371","number":35371,"state":"closed","locked":false,"title":"[WIP][SPARK-37946][SQL] Use error classes in the execution errors related to partitions","user":{"login":"yutoacts","id":87687356,"node_id":"MDQ6VXNlcjg3Njg3MzU2","avatar_url":"https://avatars.githubusercontent.com/u/87687356?v=4","gravatar_id":"","url":"https://api.github.com/users/yutoacts","html_url":"https://github.com/yutoacts","followers_url":"https://api.github.com/users/yutoacts/followers","following_url":"https://api.github.com/users/yutoacts/following{/other_user}","gists_url":"https://api.github.com/users/yutoacts/gists{/gist_id}","starred_url":"https://api.github.com/users/yutoacts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yutoacts/subscriptions","organizations_url":"https://api.github.com/users/yutoacts/orgs","repos_url":"https://api.github.com/users/yutoacts/repos","events_url":"https://api.github.com/users/yutoacts/events{/privacy}","received_events_url":"https://api.github.com/users/yutoacts/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nUse error classes defined in `error-classes.json` in the execution errors related to partitions.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nTo use the new error framework.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nTBD","created_at":"2022-01-31T10:06:18Z","updated_at":"2022-09-29T00:31:57Z","closed_at":"2022-09-29T00:31:57Z","merged_at":null,"merge_commit_sha":null,"assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35371/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35371/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35371/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3ec7f34f3aecfc11b926d92abb8a809fc3c19eba","head":{"label":"yutoacts:SPARK-37946","ref":"SPARK-37946","sha":"3ec7f34f3aecfc11b926d92abb8a809fc3c19eba","user":{"login":"yutoacts","id":87687356,"node_id":"MDQ6VXNlcjg3Njg3MzU2","avatar_url":"https://avatars.githubusercontent.com/u/87687356?v=4","gravatar_id":"","url":"https://api.github.com/users/yutoacts","html_url":"https://github.com/yutoacts","followers_url":"https://api.github.com/users/yutoacts/followers","following_url":"https://api.github.com/users/yutoacts/following{/other_user}","gists_url":"https://api.github.com/users/yutoacts/gists{/gist_id}","starred_url":"https://api.github.com/users/yutoacts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yutoacts/subscriptions","organizations_url":"https://api.github.com/users/yutoacts/orgs","repos_url":"https://api.github.com/users/yutoacts/repos","events_url":"https://api.github.com/users/yutoacts/events{/privacy}","received_events_url":"https://api.github.com/users/yutoacts/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":389853660,"node_id":"MDEwOlJlcG9zaXRvcnkzODk4NTM2NjA=","name":"spark","full_name":"yutoacts/spark","private":false,"owner":{"login":"yutoacts","id":87687356,"node_id":"MDQ6VXNlcjg3Njg3MzU2","avatar_url":"https://avatars.githubusercontent.com/u/87687356?v=4","gravatar_id":"","url":"https://api.github.com/users/yutoacts","html_url":"https://github.com/yutoacts","followers_url":"https://api.github.com/users/yutoacts/followers","following_url":"https://api.github.com/users/yutoacts/following{/other_user}","gists_url":"https://api.github.com/users/yutoacts/gists{/gist_id}","starred_url":"https://api.github.com/users/yutoacts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yutoacts/subscriptions","organizations_url":"https://api.github.com/users/yutoacts/orgs","repos_url":"https://api.github.com/users/yutoacts/repos","events_url":"https://api.github.com/users/yutoacts/events{/privacy}","received_events_url":"https://api.github.com/users/yutoacts/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/yutoacts/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/yutoacts/spark","forks_url":"https://api.github.com/repos/yutoacts/spark/forks","keys_url":"https://api.github.com/repos/yutoacts/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/yutoacts/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/yutoacts/spark/teams","hooks_url":"https://api.github.com/repos/yutoacts/spark/hooks","issue_events_url":"https://api.github.com/repos/yutoacts/spark/issues/events{/number}","events_url":"https://api.github.com/repos/yutoacts/spark/events","assignees_url":"https://api.github.com/repos/yutoacts/spark/assignees{/user}","branches_url":"https://api.github.com/repos/yutoacts/spark/branches{/branch}","tags_url":"https://api.github.com/repos/yutoacts/spark/tags","blobs_url":"https://api.github.com/repos/yutoacts/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/yutoacts/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/yutoacts/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/yutoacts/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/yutoacts/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/yutoacts/spark/languages","stargazers_url":"https://api.github.com/repos/yutoacts/spark/stargazers","contributors_url":"https://api.github.com/repos/yutoacts/spark/contributors","subscribers_url":"https://api.github.com/repos/yutoacts/spark/subscribers","subscription_url":"https://api.github.com/repos/yutoacts/spark/subscription","commits_url":"https://api.github.com/repos/yutoacts/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/yutoacts/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/yutoacts/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/yutoacts/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/yutoacts/spark/contents/{+path}","compare_url":"https://api.github.com/repos/yutoacts/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/yutoacts/spark/merges","archive_url":"https://api.github.com/repos/yutoacts/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/yutoacts/spark/downloads","issues_url":"https://api.github.com/repos/yutoacts/spark/issues{/number}","pulls_url":"https://api.github.com/repos/yutoacts/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/yutoacts/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/yutoacts/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/yutoacts/spark/labels{/name}","releases_url":"https://api.github.com/repos/yutoacts/spark/releases{/id}","deployments_url":"https://api.github.com/repos/yutoacts/spark/deployments","created_at":"2021-07-27T04:58:54Z","updated_at":"2022-05-21T08:47:27Z","pushed_at":"2022-05-10T08:29:38Z","git_url":"git://github.com/yutoacts/spark.git","ssh_url":"git@github.com:yutoacts/spark.git","clone_url":"https://github.com/yutoacts/spark.git","svn_url":"https://github.com/yutoacts/spark","homepage":"https://spark.apache.org/","size":402122,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"419d17378c7fe4d9715eca3f84bcc86354c71941","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35371"},"html":{"href":"https://github.com/apache/spark/pull/35371"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35371"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35371/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35371/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35371/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3ec7f34f3aecfc11b926d92abb8a809fc3c19eba"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35370","id":835750852,"node_id":"PR_kwDOAQXtWs4x0IvE","html_url":"https://github.com/apache/spark/pull/35370","diff_url":"https://github.com/apache/spark/pull/35370.diff","patch_url":"https://github.com/apache/spark/pull/35370.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35370","number":35370,"state":"closed","locked":false,"title":"[SPARK-38042][SQL] Ensure that ScalaReflection.dataTypeFor works on aliased array types","user":{"login":"jtnystrom","id":710364,"node_id":"MDQ6VXNlcjcxMDM2NA==","avatar_url":"https://avatars.githubusercontent.com/u/710364?v=4","gravatar_id":"","url":"https://api.github.com/users/jtnystrom","html_url":"https://github.com/jtnystrom","followers_url":"https://api.github.com/users/jtnystrom/followers","following_url":"https://api.github.com/users/jtnystrom/following{/other_user}","gists_url":"https://api.github.com/users/jtnystrom/gists{/gist_id}","starred_url":"https://api.github.com/users/jtnystrom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtnystrom/subscriptions","organizations_url":"https://api.github.com/users/jtnystrom/orgs","repos_url":"https://api.github.com/users/jtnystrom/repos","events_url":"https://api.github.com/users/jtnystrom/events{/privacy}","received_events_url":"https://api.github.com/users/jtnystrom/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"An aliased array type in a product, in a Dataset or Dataframe, causes an exception:\r\n\r\n```\r\ntype Data = Array[Long]\r\nval xs:List[(Data,Int)] = List((Array(1),1), (Array(2),2))\r\nsc.parallelize(xs).toDF(\"a\", \"b\")\r\n```\r\n\r\nCausing\r\n\r\n```\r\nscala.MatchError: Data (of class scala.reflect.internal.Types$AliasNoArgsTypeRef) \r\n at org.apache.spark.sql.catalyst.ScalaReflection$.$anonfun$dataTypeFor$1(ScalaReflection.scala:104) \r\n at scala.reflect.internal.tpe.TypeConstraints$UndoLog.undo(TypeConstraints.scala:69) \r\n at org.apache.spark.sql.catalyst.ScalaReflection.cleanUpReflectionObjects(ScalaReflection.scala:904) \r\n at org.apache.spark.sql.catalyst.ScalaReflection.cleanUpReflectionObjects$(ScalaReflection.scala:903) \r\n at org.apache.spark.sql.catalyst.ScalaReflection$.cleanUpReflectionObjects(ScalaReflection.scala:49) \r\n at org.apache.spark.sql.catalyst.ScalaReflection$.dataTypeFor(ScalaReflection.scala:88) \r\n at org.apache.spark.sql.catalyst.ScalaReflection$.$anonfun$serializerFor$6(ScalaReflection.scala:573) \r\n at scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:238) \r\n at scala.collection.immutable.List.foreach(List.scala:392) \r\n at scala.collection.TraversableLike.map(TraversableLike.scala:238) \r\n at scala.collection.TraversableLike.map$(TraversableLike.scala:231) \r\n at scala.collection.immutable.List.map(List.scala:298) \r\n at org.apache.spark.sql.catalyst.ScalaReflection$.$anonfun$serializerFor$1(ScalaReflection.scala:562) \r\n at scala.reflect.internal.tpe.TypeConstraints$UndoLog.undo(TypeConstraints.scala:69) \r\n at org.apache.spark.sql.catalyst.ScalaReflection.cleanUpReflectionObjects(ScalaReflection.scala:904) \r\n at org.apache.spark.sql.catalyst.ScalaReflection.cleanUpReflectionObjects$(ScalaReflection.scala:903) \r\n at org.apache.spark.sql.catalyst.ScalaReflection$.cleanUpReflectionObjects(ScalaReflection.scala:49) \r\n at org.apache.spark.sql.catalyst.ScalaReflection$.serializerFor(ScalaReflection.scala:432) \r\n at org.apache.spark.sql.catalyst.ScalaReflection$.$anonfun$serializerForType$1(ScalaReflection.scala:421) \r\n at scala.reflect.internal.tpe.TypeConstraints$UndoLog.undo(TypeConstraints.scala:69) \r\n at org.apache.spark.sql.catalyst.ScalaReflection.cleanUpReflectionObjects(ScalaReflection.scala:904) \r\n at org.apache.spark.sql.catalyst.ScalaReflection.cleanUpReflectionObjects$(ScalaReflection.scala:903) \r\n at org.apache.spark.sql.catalyst.ScalaReflection$.cleanUpReflectionObjects(ScalaReflection.scala:49) \r\n at org.apache.spark.sql.catalyst.ScalaReflection$.serializerForType(ScalaReflection.scala:413) \r\n at org.apache.spark.sql.catalyst.encoders.ExpressionEncoder$.apply(ExpressionEncoder.scala:55) \r\n at org.apache.spark.sql.Encoders$.product(Encoders.scala:285) \r\n at org.apache.spark.sql.LowPrioritySQLImplicits.newProductEncoder(SQLImplicits.scala:251) \r\n at org.apache.spark.sql.LowPrioritySQLImplicits.newProductEncoder$(SQLImplicits.scala:251) \r\n at org.apache.spark.sql.SQLImplicits.newProductEncoder(SQLImplicits.scala:32) \r\n ... 48 elided\r\n```\r\n\r\nIt seems that this can be fixed by changing, in ScalaReflection.dataTypeFor:\r\n\r\n```\r\nval TypeRef(_, _, Seq(elementType)) = tpe\r\n```\r\n\r\nto\r\n\r\n```\r\nval TypeRef(_, _, Seq(elementType)) = tpe.dealias\r\n```\r\n\r\n### Why are the changes needed?\r\n\r\nWithout this change, any attempt to create datasets or dataframes using such types throws the exception above.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo, except for preventing this exception from being thrown.\r\n\r\n### How was this patch tested?\r\n\r\nAdded a test to DatasetSuite\r\n","created_at":"2022-01-31T05:13:46Z","updated_at":"2022-03-01T03:32:18Z","closed_at":"2022-02-28T11:33:30Z","merged_at":null,"merge_commit_sha":"f86d881a2dae6c2737b150a6850fa2da78bdf326","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35370/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35370/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35370/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/f8b2a574113bcb42b0d05973d64a35b7bb735715","head":{"label":"jtnystrom:spark-38042","ref":"spark-38042","sha":"f8b2a574113bcb42b0d05973d64a35b7bb735715","user":{"login":"jtnystrom","id":710364,"node_id":"MDQ6VXNlcjcxMDM2NA==","avatar_url":"https://avatars.githubusercontent.com/u/710364?v=4","gravatar_id":"","url":"https://api.github.com/users/jtnystrom","html_url":"https://github.com/jtnystrom","followers_url":"https://api.github.com/users/jtnystrom/followers","following_url":"https://api.github.com/users/jtnystrom/following{/other_user}","gists_url":"https://api.github.com/users/jtnystrom/gists{/gist_id}","starred_url":"https://api.github.com/users/jtnystrom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtnystrom/subscriptions","organizations_url":"https://api.github.com/users/jtnystrom/orgs","repos_url":"https://api.github.com/users/jtnystrom/repos","events_url":"https://api.github.com/users/jtnystrom/events{/privacy}","received_events_url":"https://api.github.com/users/jtnystrom/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"7a613ecb826d3009f4587cefeb89f31b1cb4bed2","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35370"},"html":{"href":"https://github.com/apache/spark/pull/35370"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35370"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35370/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35370/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35370/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/f8b2a574113bcb42b0d05973d64a35b7bb735715"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35369","id":835750446,"node_id":"PR_kwDOAQXtWs4x0Iou","html_url":"https://github.com/apache/spark/pull/35369","diff_url":"https://github.com/apache/spark/pull/35369.diff","patch_url":"https://github.com/apache/spark/pull/35369.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35369","number":35369,"state":"closed","locked":false,"title":"[SPARK-38076][CORE] Remove redundant null-check is covered by further condition","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThere are many code pattern in Spark Java code as follows:\r\n```java\r\nobj != null && obj instanceof SomeClass \r\n```\r\nthe null-check is redundant as `instanceof` operator implies non-nullity, so this pr remove the redundant `null-check`. \r\n\r\n\r\n### Why are the changes needed?\r\nCode simplification\r\n\r\n\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nPass GA","created_at":"2022-01-31T05:13:13Z","updated_at":"2023-10-22T07:44:14Z","closed_at":"2022-02-02T07:32:48Z","merged_at":null,"merge_commit_sha":"230e4597a4d9403718f930f6874f9b4cdfd47654","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35369/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35369/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35369/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/7e2c19c26f445c647acc7229ec1cf90372c2f27f","head":{"label":"LuciferYang:SPARK-38076","ref":"SPARK-38076","sha":"7e2c19c26f445c647acc7229ec1cf90372c2f27f","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"419d17378c7fe4d9715eca3f84bcc86354c71941","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35369"},"html":{"href":"https://github.com/apache/spark/pull/35369"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35369"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35369/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35369/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35369/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/7e2c19c26f445c647acc7229ec1cf90372c2f27f"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35368","id":835541625,"node_id":"PR_kwDOAQXtWs4xzVp5","html_url":"https://github.com/apache/spark/pull/35368","diff_url":"https://github.com/apache/spark/pull/35368.diff","patch_url":"https://github.com/apache/spark/pull/35368.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35368","number":35368,"state":"closed","locked":false,"title":"[SPARK-38075][SQL] Fix `hasNext` in `HiveScriptTransformationExec`'s process output iterator","user":{"login":"bersprockets","id":21131848,"node_id":"MDQ6VXNlcjIxMTMxODQ4","avatar_url":"https://avatars.githubusercontent.com/u/21131848?v=4","gravatar_id":"","url":"https://api.github.com/users/bersprockets","html_url":"https://github.com/bersprockets","followers_url":"https://api.github.com/users/bersprockets/followers","following_url":"https://api.github.com/users/bersprockets/following{/other_user}","gists_url":"https://api.github.com/users/bersprockets/gists{/gist_id}","starred_url":"https://api.github.com/users/bersprockets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bersprockets/subscriptions","organizations_url":"https://api.github.com/users/bersprockets/orgs","repos_url":"https://api.github.com/users/bersprockets/repos","events_url":"https://api.github.com/users/bersprockets/events{/privacy}","received_events_url":"https://api.github.com/users/bersprockets/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nFix hasNext in HiveScriptTransformationExec's process output iterator to always return false if it had previously returned false.\r\n\r\n### Why are the changes needed?\r\n\r\nWhen hasNext on the process output iterator returns false, it leaves the iterator in a state (i.e., scriptOutputWritable is not null) such that the next call returns true.\r\n\r\nThe Guava Ordering used in TakeOrderedAndProjectExec will call hasNext on the process output iterator even after an earlier call had returned false. This results in fake rows when script transform is used with `order by` and `limit`. For example:\r\n\r\n```\r\ncreate or replace temp view t as\r\nselect * from values\r\n(1),\r\n(2),\r\n(3)\r\nas t(a);\r\n\r\nselect transform(a)\r\nUSING 'cat' AS (a int)\r\nFROM t order by a limit 10;\r\n```\r\nThis returns:\r\n```\r\nNULL\r\nNULL\r\nNULL\r\n1\r\n2\r\n3\r\n```\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo, other than removing the correctness issue.\r\n\r\n### How was this patch tested?\r\n\r\nNew unit test.\r\n","created_at":"2022-01-30T23:13:31Z","updated_at":"2022-08-10T18:28:17Z","closed_at":"2022-01-31T18:45:24Z","merged_at":null,"merge_commit_sha":"bc9da5b48917856644f4e4701132e2eca193a50c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35368/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35368/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35368/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/8f84823c34c0ea02bfcbb955f53c814e77dc73c5","head":{"label":"bersprockets:script_transformation_issue","ref":"script_transformation_issue","sha":"8f84823c34c0ea02bfcbb955f53c814e77dc73c5","user":{"login":"bersprockets","id":21131848,"node_id":"MDQ6VXNlcjIxMTMxODQ4","avatar_url":"https://avatars.githubusercontent.com/u/21131848?v=4","gravatar_id":"","url":"https://api.github.com/users/bersprockets","html_url":"https://github.com/bersprockets","followers_url":"https://api.github.com/users/bersprockets/followers","following_url":"https://api.github.com/users/bersprockets/following{/other_user}","gists_url":"https://api.github.com/users/bersprockets/gists{/gist_id}","starred_url":"https://api.github.com/users/bersprockets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bersprockets/subscriptions","organizations_url":"https://api.github.com/users/bersprockets/orgs","repos_url":"https://api.github.com/users/bersprockets/repos","events_url":"https://api.github.com/users/bersprockets/events{/privacy}","received_events_url":"https://api.github.com/users/bersprockets/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":115567071,"node_id":"MDEwOlJlcG9zaXRvcnkxMTU1NjcwNzE=","name":"spark","full_name":"bersprockets/spark","private":false,"owner":{"login":"bersprockets","id":21131848,"node_id":"MDQ6VXNlcjIxMTMxODQ4","avatar_url":"https://avatars.githubusercontent.com/u/21131848?v=4","gravatar_id":"","url":"https://api.github.com/users/bersprockets","html_url":"https://github.com/bersprockets","followers_url":"https://api.github.com/users/bersprockets/followers","following_url":"https://api.github.com/users/bersprockets/following{/other_user}","gists_url":"https://api.github.com/users/bersprockets/gists{/gist_id}","starred_url":"https://api.github.com/users/bersprockets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bersprockets/subscriptions","organizations_url":"https://api.github.com/users/bersprockets/orgs","repos_url":"https://api.github.com/users/bersprockets/repos","events_url":"https://api.github.com/users/bersprockets/events{/privacy}","received_events_url":"https://api.github.com/users/bersprockets/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bersprockets/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/bersprockets/spark","forks_url":"https://api.github.com/repos/bersprockets/spark/forks","keys_url":"https://api.github.com/repos/bersprockets/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bersprockets/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bersprockets/spark/teams","hooks_url":"https://api.github.com/repos/bersprockets/spark/hooks","issue_events_url":"https://api.github.com/repos/bersprockets/spark/issues/events{/number}","events_url":"https://api.github.com/repos/bersprockets/spark/events","assignees_url":"https://api.github.com/repos/bersprockets/spark/assignees{/user}","branches_url":"https://api.github.com/repos/bersprockets/spark/branches{/branch}","tags_url":"https://api.github.com/repos/bersprockets/spark/tags","blobs_url":"https://api.github.com/repos/bersprockets/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bersprockets/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bersprockets/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/bersprockets/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bersprockets/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/bersprockets/spark/languages","stargazers_url":"https://api.github.com/repos/bersprockets/spark/stargazers","contributors_url":"https://api.github.com/repos/bersprockets/spark/contributors","subscribers_url":"https://api.github.com/repos/bersprockets/spark/subscribers","subscription_url":"https://api.github.com/repos/bersprockets/spark/subscription","commits_url":"https://api.github.com/repos/bersprockets/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/bersprockets/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/bersprockets/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/bersprockets/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/bersprockets/spark/contents/{+path}","compare_url":"https://api.github.com/repos/bersprockets/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bersprockets/spark/merges","archive_url":"https://api.github.com/repos/bersprockets/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bersprockets/spark/downloads","issues_url":"https://api.github.com/repos/bersprockets/spark/issues{/number}","pulls_url":"https://api.github.com/repos/bersprockets/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/bersprockets/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/bersprockets/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bersprockets/spark/labels{/name}","releases_url":"https://api.github.com/repos/bersprockets/spark/releases{/id}","deployments_url":"https://api.github.com/repos/bersprockets/spark/deployments","created_at":"2017-12-28T00:03:24Z","updated_at":"2025-01-24T22:51:50Z","pushed_at":"2025-01-24T22:51:35Z","git_url":"git://github.com/bersprockets/spark.git","ssh_url":"git@github.com:bersprockets/spark.git","clone_url":"https://github.com/bersprockets/spark.git","svn_url":"https://github.com/bersprockets/spark","homepage":null,"size":475116,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"419d17378c7fe4d9715eca3f84bcc86354c71941","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35368"},"html":{"href":"https://github.com/apache/spark/pull/35368"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35368"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35368/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35368/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35368/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/8f84823c34c0ea02bfcbb955f53c814e77dc73c5"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35367","id":835528200,"node_id":"PR_kwDOAQXtWs4xzSYI","html_url":"https://github.com/apache/spark/pull/35367","diff_url":"https://github.com/apache/spark/pull/35367.diff","patch_url":"https://github.com/apache/spark/pull/35367.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35367","number":35367,"state":"closed","locked":false,"title":"[SPARK-37415][PYTHON][ML] Inline type hints for pyspark.ml.util","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nThis PR migrates type `pyspark.ml.util` annotations from stub file to inline type hints.\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nPart of ongoing migration of type hints.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nExisting tests.","created_at":"2022-01-30T21:56:37Z","updated_at":"2022-02-06T10:10:20Z","closed_at":"2022-02-06T10:09:50Z","merged_at":null,"merge_commit_sha":"0c671d79da444bfb0b208e9135fe1d8858787b2b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35367/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35367/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35367/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/08cd342f4ddc980030633eb8ff874c3b313bb3d7","head":{"label":"zero323:SPARK-37415","ref":"SPARK-37415","sha":"08cd342f4ddc980030633eb8ff874c3b313bb3d7","user":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":43824676,"node_id":"MDEwOlJlcG9zaXRvcnk0MzgyNDY3Ng==","name":"spark","full_name":"zero323/spark","private":false,"owner":{"login":"zero323","id":1554276,"node_id":"MDQ6VXNlcjE1NTQyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1554276?v=4","gravatar_id":"","url":"https://api.github.com/users/zero323","html_url":"https://github.com/zero323","followers_url":"https://api.github.com/users/zero323/followers","following_url":"https://api.github.com/users/zero323/following{/other_user}","gists_url":"https://api.github.com/users/zero323/gists{/gist_id}","starred_url":"https://api.github.com/users/zero323/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zero323/subscriptions","organizations_url":"https://api.github.com/users/zero323/orgs","repos_url":"https://api.github.com/users/zero323/repos","events_url":"https://api.github.com/users/zero323/events{/privacy}","received_events_url":"https://api.github.com/users/zero323/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zero323/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zero323/spark","forks_url":"https://api.github.com/repos/zero323/spark/forks","keys_url":"https://api.github.com/repos/zero323/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zero323/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zero323/spark/teams","hooks_url":"https://api.github.com/repos/zero323/spark/hooks","issue_events_url":"https://api.github.com/repos/zero323/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zero323/spark/events","assignees_url":"https://api.github.com/repos/zero323/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zero323/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zero323/spark/tags","blobs_url":"https://api.github.com/repos/zero323/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zero323/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zero323/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zero323/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zero323/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zero323/spark/languages","stargazers_url":"https://api.github.com/repos/zero323/spark/stargazers","contributors_url":"https://api.github.com/repos/zero323/spark/contributors","subscribers_url":"https://api.github.com/repos/zero323/spark/subscribers","subscription_url":"https://api.github.com/repos/zero323/spark/subscription","commits_url":"https://api.github.com/repos/zero323/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zero323/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zero323/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zero323/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zero323/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zero323/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zero323/spark/merges","archive_url":"https://api.github.com/repos/zero323/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zero323/spark/downloads","issues_url":"https://api.github.com/repos/zero323/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zero323/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zero323/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zero323/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zero323/spark/labels{/name}","releases_url":"https://api.github.com/repos/zero323/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zero323/spark/deployments","created_at":"2015-10-07T15:16:38Z","updated_at":"2025-02-05T16:45:39Z","pushed_at":"2025-02-05T16:44:26Z","git_url":"git://github.com/zero323/spark.git","ssh_url":"git@github.com:zero323/spark.git","clone_url":"https://github.com/zero323/spark.git","svn_url":"https://github.com/zero323/spark","homepage":null,"size":438263,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"74ebef243c18e7a8f32bf90ea75ab6afed9e3132","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35367"},"html":{"href":"https://github.com/apache/spark/pull/35367"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35367"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35367/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35367/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35367/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/08cd342f4ddc980030633eb8ff874c3b313bb3d7"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35366","id":835450324,"node_id":"PR_kwDOAQXtWs4xy_XU","html_url":"https://github.com/apache/spark/pull/35366","diff_url":"https://github.com/apache/spark/pull/35366.diff","patch_url":"https://github.com/apache/spark/pull/35366.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35366","number":35366,"state":"closed","locked":false,"title":"[SPARK-37941][SQL] Use error classes in the compilation errors of casting","user":{"login":"ivoson","id":15122230,"node_id":"MDQ6VXNlcjE1MTIyMjMw","avatar_url":"https://avatars.githubusercontent.com/u/15122230?v=4","gravatar_id":"","url":"https://api.github.com/users/ivoson","html_url":"https://github.com/ivoson","followers_url":"https://api.github.com/users/ivoson/followers","following_url":"https://api.github.com/users/ivoson/following{/other_user}","gists_url":"https://api.github.com/users/ivoson/gists{/gist_id}","starred_url":"https://api.github.com/users/ivoson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivoson/subscriptions","organizations_url":"https://api.github.com/users/ivoson/orgs","repos_url":"https://api.github.com/users/ivoson/repos","events_url":"https://api.github.com/users/ivoson/events{/privacy}","received_events_url":"https://api.github.com/users/ivoson/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nMigrate the following errors in QueryCompilationErrors onto use error classes:\r\n1. upCastFailureError => CANNOT_UP_CAST_DATATYPE\r\n2. unsupportedAbstractDataTypeForUpCastError => UNSUPPORTED_FEATURE\r\n3. cannotUpCastAsAttributeError => removed as no longer used.\r\n\r\n### Why are the changes needed?\r\nPorting casting errors to new error framework.\r\n\r\n### Does this PR introduce any user-facing change?\r\nNo\r\n\r\n### How was this patch tested?\r\nNew UT added.","created_at":"2022-01-30T18:14:22Z","updated_at":"2022-02-03T13:42:09Z","closed_at":"2022-02-03T13:16:53Z","merged_at":null,"merge_commit_sha":"64411b177265bcdedec13d2dc4438ebea486885f","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35366/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35366/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35366/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/e6ed84fc84f1092da6315360c4def611b1b83488","head":{"label":"ivoson:SPARK-37941-new","ref":"SPARK-37941-new","sha":"e6ed84fc84f1092da6315360c4def611b1b83488","user":{"login":"ivoson","id":15122230,"node_id":"MDQ6VXNlcjE1MTIyMjMw","avatar_url":"https://avatars.githubusercontent.com/u/15122230?v=4","gravatar_id":"","url":"https://api.github.com/users/ivoson","html_url":"https://github.com/ivoson","followers_url":"https://api.github.com/users/ivoson/followers","following_url":"https://api.github.com/users/ivoson/following{/other_user}","gists_url":"https://api.github.com/users/ivoson/gists{/gist_id}","starred_url":"https://api.github.com/users/ivoson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivoson/subscriptions","organizations_url":"https://api.github.com/users/ivoson/orgs","repos_url":"https://api.github.com/users/ivoson/repos","events_url":"https://api.github.com/users/ivoson/events{/privacy}","received_events_url":"https://api.github.com/users/ivoson/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":116949039,"node_id":"MDEwOlJlcG9zaXRvcnkxMTY5NDkwMzk=","name":"spark","full_name":"ivoson/spark","private":false,"owner":{"login":"ivoson","id":15122230,"node_id":"MDQ6VXNlcjE1MTIyMjMw","avatar_url":"https://avatars.githubusercontent.com/u/15122230?v=4","gravatar_id":"","url":"https://api.github.com/users/ivoson","html_url":"https://github.com/ivoson","followers_url":"https://api.github.com/users/ivoson/followers","following_url":"https://api.github.com/users/ivoson/following{/other_user}","gists_url":"https://api.github.com/users/ivoson/gists{/gist_id}","starred_url":"https://api.github.com/users/ivoson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivoson/subscriptions","organizations_url":"https://api.github.com/users/ivoson/orgs","repos_url":"https://api.github.com/users/ivoson/repos","events_url":"https://api.github.com/users/ivoson/events{/privacy}","received_events_url":"https://api.github.com/users/ivoson/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ivoson/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/ivoson/spark","forks_url":"https://api.github.com/repos/ivoson/spark/forks","keys_url":"https://api.github.com/repos/ivoson/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ivoson/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ivoson/spark/teams","hooks_url":"https://api.github.com/repos/ivoson/spark/hooks","issue_events_url":"https://api.github.com/repos/ivoson/spark/issues/events{/number}","events_url":"https://api.github.com/repos/ivoson/spark/events","assignees_url":"https://api.github.com/repos/ivoson/spark/assignees{/user}","branches_url":"https://api.github.com/repos/ivoson/spark/branches{/branch}","tags_url":"https://api.github.com/repos/ivoson/spark/tags","blobs_url":"https://api.github.com/repos/ivoson/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ivoson/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ivoson/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/ivoson/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ivoson/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/ivoson/spark/languages","stargazers_url":"https://api.github.com/repos/ivoson/spark/stargazers","contributors_url":"https://api.github.com/repos/ivoson/spark/contributors","subscribers_url":"https://api.github.com/repos/ivoson/spark/subscribers","subscription_url":"https://api.github.com/repos/ivoson/spark/subscription","commits_url":"https://api.github.com/repos/ivoson/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/ivoson/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/ivoson/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/ivoson/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/ivoson/spark/contents/{+path}","compare_url":"https://api.github.com/repos/ivoson/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ivoson/spark/merges","archive_url":"https://api.github.com/repos/ivoson/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ivoson/spark/downloads","issues_url":"https://api.github.com/repos/ivoson/spark/issues{/number}","pulls_url":"https://api.github.com/repos/ivoson/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/ivoson/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/ivoson/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ivoson/spark/labels{/name}","releases_url":"https://api.github.com/repos/ivoson/spark/releases{/id}","deployments_url":"https://api.github.com/repos/ivoson/spark/deployments","created_at":"2018-01-10T11:29:31Z","updated_at":"2018-01-10T11:29:57Z","pushed_at":"2023-11-12T04:07:23Z","git_url":"git://github.com/ivoson/spark.git","ssh_url":"git@github.com:ivoson/spark.git","clone_url":"https://github.com/ivoson/spark.git","svn_url":"https://github.com/ivoson/spark","homepage":null,"size":387707,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"419d17378c7fe4d9715eca3f84bcc86354c71941","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35366"},"html":{"href":"https://github.com/apache/spark/pull/35366"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35366"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35366/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35366/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35366/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/e6ed84fc84f1092da6315360c4def611b1b83488"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35365","id":835320010,"node_id":"PR_kwDOAQXtWs4xyfjK","html_url":"https://github.com/apache/spark/pull/35365","diff_url":"https://github.com/apache/spark/pull/35365.diff","patch_url":"https://github.com/apache/spark/pull/35365.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35365","number":35365,"state":"closed","locked":false,"title":"[SPARK-38072][K8S][TESTS] Support K8s imageTag parameter in SBT K8s IT","user":{"login":"williamhyun","id":62487364,"node_id":"MDQ6VXNlcjYyNDg3MzY0","avatar_url":"https://avatars.githubusercontent.com/u/62487364?v=4","gravatar_id":"","url":"https://api.github.com/users/williamhyun","html_url":"https://github.com/williamhyun","followers_url":"https://api.github.com/users/williamhyun/followers","following_url":"https://api.github.com/users/williamhyun/following{/other_user}","gists_url":"https://api.github.com/users/williamhyun/gists{/gist_id}","starred_url":"https://api.github.com/users/williamhyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/williamhyun/subscriptions","organizations_url":"https://api.github.com/users/williamhyun/orgs","repos_url":"https://api.github.com/users/williamhyun/repos","events_url":"https://api.github.com/users/williamhyun/events{/privacy}","received_events_url":"https://api.github.com/users/williamhyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis PR aims to support K8s `imageTag` parameter in SBT K8s integration test. \r\n\r\n\r\n### Why are the changes needed?\r\nTo make maven and SBT consistent. \r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nManually.","created_at":"2022-01-30T09:26:15Z","updated_at":"2022-03-02T19:08:20Z","closed_at":"2022-01-30T18:11:09Z","merged_at":null,"merge_commit_sha":"ccd36eb65bb13e4ce5c9d409fb1d5ee31f10b312","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35365/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35365/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35365/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/1eaeb8b26897c71a441ce070e4c5e9fac7fe3eb0","head":{"label":"williamhyun:imagetag","ref":"imagetag","sha":"1eaeb8b26897c71a441ce070e4c5e9fac7fe3eb0","user":{"login":"williamhyun","id":62487364,"node_id":"MDQ6VXNlcjYyNDg3MzY0","avatar_url":"https://avatars.githubusercontent.com/u/62487364?v=4","gravatar_id":"","url":"https://api.github.com/users/williamhyun","html_url":"https://github.com/williamhyun","followers_url":"https://api.github.com/users/williamhyun/followers","following_url":"https://api.github.com/users/williamhyun/following{/other_user}","gists_url":"https://api.github.com/users/williamhyun/gists{/gist_id}","starred_url":"https://api.github.com/users/williamhyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/williamhyun/subscriptions","organizations_url":"https://api.github.com/users/williamhyun/orgs","repos_url":"https://api.github.com/users/williamhyun/repos","events_url":"https://api.github.com/users/williamhyun/events{/privacy}","received_events_url":"https://api.github.com/users/williamhyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"71c34b42f392be78d8e40749e3e23c9ec58e6718","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35365"},"html":{"href":"https://github.com/apache/spark/pull/35365"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35365"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35365/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35365/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35365/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/1eaeb8b26897c71a441ce070e4c5e9fac7fe3eb0"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35364","id":835264129,"node_id":"PR_kwDOAQXtWs4xyR6B","html_url":"https://github.com/apache/spark/pull/35364","diff_url":"https://github.com/apache/spark/pull/35364.diff","patch_url":"https://github.com/apache/spark/pull/35364.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35364","number":35364,"state":"closed","locked":false,"title":"[SPARK-38071][K8S][TESTS] Support K8s namespace parameter in SBT K8s IT","user":{"login":"williamhyun","id":62487364,"node_id":"MDQ6VXNlcjYyNDg3MzY0","avatar_url":"https://avatars.githubusercontent.com/u/62487364?v=4","gravatar_id":"","url":"https://api.github.com/users/williamhyun","html_url":"https://github.com/williamhyun","followers_url":"https://api.github.com/users/williamhyun/followers","following_url":"https://api.github.com/users/williamhyun/following{/other_user}","gists_url":"https://api.github.com/users/williamhyun/gists{/gist_id}","starred_url":"https://api.github.com/users/williamhyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/williamhyun/subscriptions","organizations_url":"https://api.github.com/users/williamhyun/orgs","repos_url":"https://api.github.com/users/williamhyun/repos","events_url":"https://api.github.com/users/williamhyun/events{/privacy}","received_events_url":"https://api.github.com/users/williamhyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis PR aims to support K8s namespace parameter in SBT K8s integration test. \r\n\r\n\r\n### Why are the changes needed?\r\n- This allows the users to set the test namespace name\r\n- When there is no given namespace, it will generate a random namespace and use it like `Maven` test\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nManually using the following command\r\n```\r\nbuild/sbt -Psparkr -Pkubernetes -Pkubernetes-integration-tests -Dtest.exclude.tags=minikube -Dspark.kubernetes.test.deployMode=docker-for-desktop -Dspark.kubernetes.test.namespace=spark-it-test \"kubernetes-integration-tests/test\"\r\n```\r\n","created_at":"2022-01-30T03:49:19Z","updated_at":"2022-03-03T09:57:42Z","closed_at":"2022-01-30T04:27:04Z","merged_at":null,"merge_commit_sha":"319f3ecc9f864b1d69c2a41a4ac9f9362b3f86d8","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35364/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35364/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35364/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/1b3c635d77795fa082350932ae9e5c111deedb98","head":{"label":"williamhyun:sbtnamespace","ref":"sbtnamespace","sha":"1b3c635d77795fa082350932ae9e5c111deedb98","user":{"login":"williamhyun","id":62487364,"node_id":"MDQ6VXNlcjYyNDg3MzY0","avatar_url":"https://avatars.githubusercontent.com/u/62487364?v=4","gravatar_id":"","url":"https://api.github.com/users/williamhyun","html_url":"https://github.com/williamhyun","followers_url":"https://api.github.com/users/williamhyun/followers","following_url":"https://api.github.com/users/williamhyun/following{/other_user}","gists_url":"https://api.github.com/users/williamhyun/gists{/gist_id}","starred_url":"https://api.github.com/users/williamhyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/williamhyun/subscriptions","organizations_url":"https://api.github.com/users/williamhyun/orgs","repos_url":"https://api.github.com/users/williamhyun/repos","events_url":"https://api.github.com/users/williamhyun/events{/privacy}","received_events_url":"https://api.github.com/users/williamhyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"ed3ea989f97634374789d173f1cc932230bf3aa1","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35364"},"html":{"href":"https://github.com/apache/spark/pull/35364"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35364"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35364/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35364/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35364/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/1b3c635d77795fa082350932ae9e5c111deedb98"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35363","id":835257957,"node_id":"PR_kwDOAQXtWs4xyQZl","html_url":"https://github.com/apache/spark/pull/35363","diff_url":"https://github.com/apache/spark/pull/35363.diff","patch_url":"https://github.com/apache/spark/pull/35363.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35363","number":35363,"state":"closed","locked":false,"title":"[SPARK-38066][SQL] evaluateEquality should ignore attribute without min/max ColumnStat","user":{"login":"Stove-hust","id":52523908,"node_id":"MDQ6VXNlcjUyNTIzOTA4","avatar_url":"https://avatars.githubusercontent.com/u/52523908?v=4","gravatar_id":"","url":"https://api.github.com/users/Stove-hust","html_url":"https://github.com/Stove-hust","followers_url":"https://api.github.com/users/Stove-hust/followers","following_url":"https://api.github.com/users/Stove-hust/following{/other_user}","gists_url":"https://api.github.com/users/Stove-hust/gists{/gist_id}","starred_url":"https://api.github.com/users/Stove-hust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Stove-hust/subscriptions","organizations_url":"https://api.github.com/users/Stove-hust/orgs","repos_url":"https://api.github.com/users/Stove-hust/repos","events_url":"https://api.github.com/users/Stove-hust/events{/privacy}","received_events_url":"https://api.github.com/users/Stove-hust/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n`FilterEstimation.scala#estimate`---> `calculateFilterSelectivity()`---> `calculateSingleCondition()`---> `evaluateEquality()`\r\nAt the beginning of the `evaluateEquality()` we need to determine if the colStatsMap of the attribute contains the min/max properties.\r\n\r\n### Why are the changes needed?\r\nWhen cbo is turned on, if the min/max property of the attribute does not exist, we will get 0 instead of 1 when calculating the filterSelectivity, which is not as expected。\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nNo\r\n","created_at":"2022-01-30T02:48:25Z","updated_at":"2022-06-07T00:15:46Z","closed_at":"2022-06-07T00:15:46Z","merged_at":null,"merge_commit_sha":"4e9bc5a9c3ef32638765ca9dddf061131d8152db","assignee":null,"assignees":[],"requested_reviewers":[{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35363/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35363/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35363/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/942c751492b90464380b3bbd5b2acc53a16acb94","head":{"label":"Stove-hust:master","ref":"master","sha":"942c751492b90464380b3bbd5b2acc53a16acb94","user":{"login":"Stove-hust","id":52523908,"node_id":"MDQ6VXNlcjUyNTIzOTA4","avatar_url":"https://avatars.githubusercontent.com/u/52523908?v=4","gravatar_id":"","url":"https://api.github.com/users/Stove-hust","html_url":"https://github.com/Stove-hust","followers_url":"https://api.github.com/users/Stove-hust/followers","following_url":"https://api.github.com/users/Stove-hust/following{/other_user}","gists_url":"https://api.github.com/users/Stove-hust/gists{/gist_id}","starred_url":"https://api.github.com/users/Stove-hust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Stove-hust/subscriptions","organizations_url":"https://api.github.com/users/Stove-hust/orgs","repos_url":"https://api.github.com/users/Stove-hust/repos","events_url":"https://api.github.com/users/Stove-hust/events{/privacy}","received_events_url":"https://api.github.com/users/Stove-hust/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":453332861,"node_id":"R_kgDOGwVPfQ","name":"spark","full_name":"Stove-hust/spark","private":false,"owner":{"login":"Stove-hust","id":52523908,"node_id":"MDQ6VXNlcjUyNTIzOTA4","avatar_url":"https://avatars.githubusercontent.com/u/52523908?v=4","gravatar_id":"","url":"https://api.github.com/users/Stove-hust","html_url":"https://github.com/Stove-hust","followers_url":"https://api.github.com/users/Stove-hust/followers","following_url":"https://api.github.com/users/Stove-hust/following{/other_user}","gists_url":"https://api.github.com/users/Stove-hust/gists{/gist_id}","starred_url":"https://api.github.com/users/Stove-hust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Stove-hust/subscriptions","organizations_url":"https://api.github.com/users/Stove-hust/orgs","repos_url":"https://api.github.com/users/Stove-hust/repos","events_url":"https://api.github.com/users/Stove-hust/events{/privacy}","received_events_url":"https://api.github.com/users/Stove-hust/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Stove-hust/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/Stove-hust/spark","forks_url":"https://api.github.com/repos/Stove-hust/spark/forks","keys_url":"https://api.github.com/repos/Stove-hust/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Stove-hust/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Stove-hust/spark/teams","hooks_url":"https://api.github.com/repos/Stove-hust/spark/hooks","issue_events_url":"https://api.github.com/repos/Stove-hust/spark/issues/events{/number}","events_url":"https://api.github.com/repos/Stove-hust/spark/events","assignees_url":"https://api.github.com/repos/Stove-hust/spark/assignees{/user}","branches_url":"https://api.github.com/repos/Stove-hust/spark/branches{/branch}","tags_url":"https://api.github.com/repos/Stove-hust/spark/tags","blobs_url":"https://api.github.com/repos/Stove-hust/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Stove-hust/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Stove-hust/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/Stove-hust/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Stove-hust/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/Stove-hust/spark/languages","stargazers_url":"https://api.github.com/repos/Stove-hust/spark/stargazers","contributors_url":"https://api.github.com/repos/Stove-hust/spark/contributors","subscribers_url":"https://api.github.com/repos/Stove-hust/spark/subscribers","subscription_url":"https://api.github.com/repos/Stove-hust/spark/subscription","commits_url":"https://api.github.com/repos/Stove-hust/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/Stove-hust/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/Stove-hust/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/Stove-hust/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/Stove-hust/spark/contents/{+path}","compare_url":"https://api.github.com/repos/Stove-hust/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Stove-hust/spark/merges","archive_url":"https://api.github.com/repos/Stove-hust/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Stove-hust/spark/downloads","issues_url":"https://api.github.com/repos/Stove-hust/spark/issues{/number}","pulls_url":"https://api.github.com/repos/Stove-hust/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/Stove-hust/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/Stove-hust/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Stove-hust/spark/labels{/name}","releases_url":"https://api.github.com/repos/Stove-hust/spark/releases{/id}","deployments_url":"https://api.github.com/repos/Stove-hust/spark/deployments","created_at":"2022-01-29T07:53:38Z","updated_at":"2022-01-29T08:06:58Z","pushed_at":"2023-05-04T03:01:23Z","git_url":"git://github.com/Stove-hust/spark.git","ssh_url":"git@github.com:Stove-hust/spark.git","clone_url":"https://github.com/Stove-hust/spark.git","svn_url":"https://github.com/Stove-hust/spark","homepage":"https://spark.apache.org/","size":465311,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"1ef5638177dcf06ebca4e9b0bc88401e0fce2ae8","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35363"},"html":{"href":"https://github.com/apache/spark/pull/35363"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35363"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35363/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35363/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35363/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/942c751492b90464380b3bbd5b2acc53a16acb94"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35362","id":835230902,"node_id":"PR_kwDOAQXtWs4xyJy2","html_url":"https://github.com/apache/spark/pull/35362","diff_url":"https://github.com/apache/spark/pull/35362.diff","patch_url":"https://github.com/apache/spark/pull/35362.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35362","number":35362,"state":"closed","locked":false,"title":"[SPARK-38069][SQL][SS] Improve the calculation of time window","user":{"login":"nyingping","id":10743150,"node_id":"MDQ6VXNlcjEwNzQzMTUw","avatar_url":"https://avatars.githubusercontent.com/u/10743150?v=4","gravatar_id":"","url":"https://api.github.com/users/nyingping","html_url":"https://github.com/nyingping","followers_url":"https://api.github.com/users/nyingping/followers","following_url":"https://api.github.com/users/nyingping/following{/other_user}","gists_url":"https://api.github.com/users/nyingping/gists{/gist_id}","starred_url":"https://api.github.com/users/nyingping/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nyingping/subscriptions","organizations_url":"https://api.github.com/users/nyingping/orgs","repos_url":"https://api.github.com/users/nyingping/repos","events_url":"https://api.github.com/users/nyingping/events{/privacy}","received_events_url":"https://api.github.com/users/nyingping/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nRemove the CaseWhen，Modified the calculation method of the obtained window\r\n\r\nnew logic：\r\n`lastStart ` needs to be, which is less than `timestamp ` and is the maximum integer multiple of `windowsize`\r\n\r\n`lastStart `is equal to `timestamp `minus the time left in the maximum integer multiple window\r\n`val lastStart = timestamp - (timestamp - window.startTime\r\n            + window.slideDuration) % window.slideDuration`\r\n\r\nAfter getting `lastStart`, `lastEnd `is obvious, and other possible Windows can be computed using `i` and `windowsize`\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nStructed Streaming computes window by intermediate result windowId, and windowId computes window by CaseWhen.\r\n\r\nWe can use Flink's method of calculating window to write it, which is more easy to understand, simple and efficient\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNO\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nExisting test as this is just refactoring. \r\n\r\nAlso composed and ran a simple benchmark in this commit: https://github.com/HeartSaVioR/spark/commit/d532b6f6bcdd80cdaac520b21587ebb69ff2df8f\r\n\r\nQuoting queries used to benchmark the change:\r\n\r\n> tumble window\r\n\r\n```\r\n    spark.range(numOfRow)\r\n      .selectExpr(\"CAST(id AS timestamp) AS time\")\r\n      .select(window(col(\"time\"), \"12 seconds\", \"12 seconds\", \"2 seconds\"))\r\n      .count()\r\n```\r\n\r\n> sliding window\r\n\r\n```\r\n    spark.range(numOfRow)\r\n      .selectExpr(\"CAST(id AS timestamp) AS time\")\r\n      .select(window(col(\"time\"), \"17 seconds\", \"5 seconds\", \"2 seconds\"))\r\n      .count()\r\n```\r\n\r\nResults are following:\r\n\r\n> tumble window\r\n\r\n```\r\n[info] OpenJDK 64-Bit Server VM 1.8.0_292-8u292-b10-0ubuntu1~18.04-b10 on Linux 5.4.0-1045-aws\r\n[info] Intel(R) Xeon(R) Platinum 8259CL CPU @ 2.50GHz\r\n[info] tumbling windows:                         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative\r\n[info] ------------------------------------------------------------------------------------------------------------------------\r\n[info] old logic                                            22             31          13        457.0           2.2       1.0X\r\n[info] new logic                                            17             19           2        589.9           1.7       1.3X\r\n```\r\n\r\n> sliding window\r\n\r\n```\r\n[info] OpenJDK 64-Bit Server VM 1.8.0_292-8u292-b10-0ubuntu1~18.04-b10 on Linux 5.4.0-1045-aws\r\n[info] Intel(R) Xeon(R) Platinum 8259CL CPU @ 2.50GHz\r\n[info] sliding windows:                          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative\r\n[info] ------------------------------------------------------------------------------------------------------------------------\r\n[info] old logic                                          1347           1368          16          7.4         134.7       1.0X\r\n[info] new logic                                           867            886          16         11.5          86.7       1.6X\r\n```","created_at":"2022-01-29T23:37:35Z","updated_at":"2022-02-08T23:46:26Z","closed_at":"2022-02-08T23:39:12Z","merged_at":null,"merge_commit_sha":"edd86c2a40122f52cf6859ddc9b98794d68b4270","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35362/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35362/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35362/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/1eaf6e502d0c2dba8067641677f24dd04b765d83","head":{"label":"nyingping:main","ref":"main","sha":"1eaf6e502d0c2dba8067641677f24dd04b765d83","user":{"login":"nyingping","id":10743150,"node_id":"MDQ6VXNlcjEwNzQzMTUw","avatar_url":"https://avatars.githubusercontent.com/u/10743150?v=4","gravatar_id":"","url":"https://api.github.com/users/nyingping","html_url":"https://github.com/nyingping","followers_url":"https://api.github.com/users/nyingping/followers","following_url":"https://api.github.com/users/nyingping/following{/other_user}","gists_url":"https://api.github.com/users/nyingping/gists{/gist_id}","starred_url":"https://api.github.com/users/nyingping/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nyingping/subscriptions","organizations_url":"https://api.github.com/users/nyingping/orgs","repos_url":"https://api.github.com/users/nyingping/repos","events_url":"https://api.github.com/users/nyingping/events{/privacy}","received_events_url":"https://api.github.com/users/nyingping/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"d4f275b1d81a5f855412613c30c39cf300cb013d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35362"},"html":{"href":"https://github.com/apache/spark/pull/35362"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35362"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35362/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35362/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35362/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/1eaf6e502d0c2dba8067641677f24dd04b765d83"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35361","id":834972499,"node_id":"PR_kwDOAQXtWs4xxKtT","html_url":"https://github.com/apache/spark/pull/35361","diff_url":"https://github.com/apache/spark/pull/35361.diff","patch_url":"https://github.com/apache/spark/pull/35361.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35361","number":35361,"state":"closed","locked":false,"title":"[SPARK-37932][SQL] Fix view bug when using join in duplicate views","user":{"login":"chenzhx","id":18550937,"node_id":"MDQ6VXNlcjE4NTUwOTM3","avatar_url":"https://avatars.githubusercontent.com/u/18550937?v=4","gravatar_id":"","url":"https://api.github.com/users/chenzhx","html_url":"https://github.com/chenzhx","followers_url":"https://api.github.com/users/chenzhx/followers","following_url":"https://api.github.com/users/chenzhx/following{/other_user}","gists_url":"https://api.github.com/users/chenzhx/gists{/gist_id}","starred_url":"https://api.github.com/users/chenzhx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenzhx/subscriptions","organizations_url":"https://api.github.com/users/chenzhx/orgs","repos_url":"https://api.github.com/users/chenzhx/repos","events_url":"https://api.github.com/users/chenzhx/events{/privacy}","received_events_url":"https://api.github.com/users/chenzhx/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nWhen the join with duplicate view like\r\n```\r\nSELECT l1.idFROM v1 l1\r\n INNER JOIN (\r\n   SELECT id FROM v1\r\n   GROUP BY id  HAVING COUNT(DISTINCT name) > 1\r\n ) l2\r\n ON l1.id = l2.id\r\n GROUP BY l1.name, l1.id;\r\n```\r\nThe error stack is:\r\n```\r\nResolved attribute(s) name#26 missing from id#31,name#32 in operator !Aggregate [id#31], [id#31, count(distinct name#26) AS count(distinct name#26)#33L]. Attribute(s) with the same name appear in the operation: name. Please check if the right attribute(s) are used.;\r\nAggregate [name#26, id#25], [id#25]\r\n+- Join Inner, (id#25 = id#31)\r\n   :- SubqueryAlias l1\r\n   :  +- SubqueryAlias spark_catalog.default.v1\r\n   :     +- View (`default`.`v1`, [id#25,name#26])\r\n   :        +- Project [cast(id#20 as int) AS id#25, cast(name#21 as string) AS name#26]\r\n   :           +- Project [id#20, name#21]\r\n   :              +- SubqueryAlias spark_catalog.default.t\r\n   :                 +- Relation default.t[id#20,name#21] parquet\r\n   +- SubqueryAlias l2\r\n      +- Project [id#31]\r\n         +- Filter (count(distinct name#26)#33L > cast(1 as bigint))\r\n            +- !Aggregate [id#31], [id#31, count(distinct name#26) AS count(distinct name#26)#33L]\r\n               +- SubqueryAlias spark_catalog.default.v1\r\n                  +- View (`default`.`v1`, [id#31,name#32])\r\n                     +- Project [cast(id#27 as int) AS id#31, cast(name#28 as string) AS name#32]\r\n                        +- Project [id#27, name#28]\r\n                           +- SubqueryAlias spark_catalog.default.t\r\n                              +- Relation default.t[id#27,name#28] parquet\r\n```\r\nSpark will consider the two views to be duplicates, which will cause the query to fail. We can add new aliases to attributes in the view to avoid two views from being considered duplicates.\r\n\r\nOptimization plan after this change：\r\n```\r\nAggregate [name#26, id#25], [id#25]\r\n+- Join Inner, (id#25 = id#27)\r\n   :- SubqueryAlias l1\r\n   :  +- SubqueryAlias spark_catalog.default.v1\r\n   :     +- View (`default`.`v1`, [id#25,name#26])\r\n   :        +- Project [cast(id#20 as int) AS id#25, cast(name#21 as string) AS name#26]\r\n   :           +- Project [id#20, name#21]\r\n   :              +- SubqueryAlias spark_catalog.default.t\r\n   :                 +- Relation default.t[id#20,name#21] parquet\r\n   +- SubqueryAlias l2\r\n      +- Project [id#27]\r\n         +- Filter (count(distinct name#28)#33L > cast(1 as bigint))\r\n            +- Aggregate [id#27], [id#27, count(distinct name#28) AS count(distinct name#28)#33L]\r\n               +- SubqueryAlias spark_catalog.default.v1\r\n                  +- View (`default`.`v1`, [id#27,name#28])\r\n                     +- Project [cast(id#29 as int) AS id#27, cast(name#30 as string) AS name#28]\r\n                        +- Project [id#29, name#30]\r\n                           +- SubqueryAlias spark_catalog.default.t\r\n                              +- Relation default.t[id#29,name#30] parquet\r\n```\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nFix bug when using join in duplicate views.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes. When we join with duplicate view, the query would be successful.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nAdd new UT","created_at":"2022-01-29T05:14:12Z","updated_at":"2022-02-25T09:52:31Z","closed_at":"2022-02-25T09:52:31Z","merged_at":null,"merge_commit_sha":"de01687c9e72d614224a1d4889496f3a8be341fa","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35361/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35361/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35361/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/dc21000eda98848bcad65fc2c408fa77b3a69187","head":{"label":"chenzhx:spark-master","ref":"spark-master","sha":"dc21000eda98848bcad65fc2c408fa77b3a69187","user":{"login":"chenzhx","id":18550937,"node_id":"MDQ6VXNlcjE4NTUwOTM3","avatar_url":"https://avatars.githubusercontent.com/u/18550937?v=4","gravatar_id":"","url":"https://api.github.com/users/chenzhx","html_url":"https://github.com/chenzhx","followers_url":"https://api.github.com/users/chenzhx/followers","following_url":"https://api.github.com/users/chenzhx/following{/other_user}","gists_url":"https://api.github.com/users/chenzhx/gists{/gist_id}","starred_url":"https://api.github.com/users/chenzhx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenzhx/subscriptions","organizations_url":"https://api.github.com/users/chenzhx/orgs","repos_url":"https://api.github.com/users/chenzhx/repos","events_url":"https://api.github.com/users/chenzhx/events{/privacy}","received_events_url":"https://api.github.com/users/chenzhx/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":305285107,"node_id":"MDEwOlJlcG9zaXRvcnkzMDUyODUxMDc=","name":"spark","full_name":"chenzhx/spark","private":false,"owner":{"login":"chenzhx","id":18550937,"node_id":"MDQ6VXNlcjE4NTUwOTM3","avatar_url":"https://avatars.githubusercontent.com/u/18550937?v=4","gravatar_id":"","url":"https://api.github.com/users/chenzhx","html_url":"https://github.com/chenzhx","followers_url":"https://api.github.com/users/chenzhx/followers","following_url":"https://api.github.com/users/chenzhx/following{/other_user}","gists_url":"https://api.github.com/users/chenzhx/gists{/gist_id}","starred_url":"https://api.github.com/users/chenzhx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenzhx/subscriptions","organizations_url":"https://api.github.com/users/chenzhx/orgs","repos_url":"https://api.github.com/users/chenzhx/repos","events_url":"https://api.github.com/users/chenzhx/events{/privacy}","received_events_url":"https://api.github.com/users/chenzhx/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/chenzhx/spark","description":"customized spark for KAP use, checkout kyspark branch","fork":true,"url":"https://api.github.com/repos/chenzhx/spark","forks_url":"https://api.github.com/repos/chenzhx/spark/forks","keys_url":"https://api.github.com/repos/chenzhx/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/chenzhx/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/chenzhx/spark/teams","hooks_url":"https://api.github.com/repos/chenzhx/spark/hooks","issue_events_url":"https://api.github.com/repos/chenzhx/spark/issues/events{/number}","events_url":"https://api.github.com/repos/chenzhx/spark/events","assignees_url":"https://api.github.com/repos/chenzhx/spark/assignees{/user}","branches_url":"https://api.github.com/repos/chenzhx/spark/branches{/branch}","tags_url":"https://api.github.com/repos/chenzhx/spark/tags","blobs_url":"https://api.github.com/repos/chenzhx/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/chenzhx/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/chenzhx/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/chenzhx/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/chenzhx/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/chenzhx/spark/languages","stargazers_url":"https://api.github.com/repos/chenzhx/spark/stargazers","contributors_url":"https://api.github.com/repos/chenzhx/spark/contributors","subscribers_url":"https://api.github.com/repos/chenzhx/spark/subscribers","subscription_url":"https://api.github.com/repos/chenzhx/spark/subscription","commits_url":"https://api.github.com/repos/chenzhx/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/chenzhx/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/chenzhx/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/chenzhx/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/chenzhx/spark/contents/{+path}","compare_url":"https://api.github.com/repos/chenzhx/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/chenzhx/spark/merges","archive_url":"https://api.github.com/repos/chenzhx/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/chenzhx/spark/downloads","issues_url":"https://api.github.com/repos/chenzhx/spark/issues{/number}","pulls_url":"https://api.github.com/repos/chenzhx/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/chenzhx/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/chenzhx/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/chenzhx/spark/labels{/name}","releases_url":"https://api.github.com/repos/chenzhx/spark/releases{/id}","deployments_url":"https://api.github.com/repos/chenzhx/spark/deployments","created_at":"2020-10-19T06:32:28Z","updated_at":"2022-01-26T10:33:43Z","pushed_at":"2022-11-03T06:47:40Z","git_url":"git://github.com/chenzhx/spark.git","ssh_url":"git@github.com:chenzhx/spark.git","clone_url":"https://github.com/chenzhx/spark.git","svn_url":"https://github.com/chenzhx/spark","homepage":"","size":414790,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"9afb407fa7aaf2f0961661b5d8cfbec549e591ee","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35361"},"html":{"href":"https://github.com/apache/spark/pull/35361"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35361"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35361/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35361/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35361/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/dc21000eda98848bcad65fc2c408fa77b3a69187"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35360","id":834945899,"node_id":"PR_kwDOAQXtWs4xxENr","html_url":"https://github.com/apache/spark/pull/35360","diff_url":"https://github.com/apache/spark/pull/35360.diff","patch_url":"https://github.com/apache/spark/pull/35360.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35360","number":35360,"state":"closed","locked":false,"title":"[SPARK-38065][SQL] Improve the performance of DS V2 aggregate push-down","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nCurrently, the build-in scan builder that implement `SupportsPushDownAggregates` has itself's config to control aggregate push-down.\r\nWe can advance the judgement of the config which controls aggregate push-down.\r\n\r\n\r\n### Why are the changes needed?\r\nImprove the performance of DS V2 aggregate push-down.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n'Yes'. This PR add a API `enablePushAggregation` in `SupportsPushDownAggregates`.\r\n\r\n\r\n### How was this patch tested?\r\nExists tests.\r\n","created_at":"2022-01-29T02:08:06Z","updated_at":"2022-05-22T00:19:15Z","closed_at":"2022-05-22T00:19:15Z","merged_at":null,"merge_commit_sha":"53c46a32fc8b2943fb96e2e97c0e99d2c583b690","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35360/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35360/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35360/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/8ccd1647d1ac40d91fde39fbd054a620897149a4","head":{"label":"beliefer:SPARK-38065","ref":"SPARK-38065","sha":"8ccd1647d1ac40d91fde39fbd054a620897149a4","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":237617513,"node_id":"MDEwOlJlcG9zaXRvcnkyMzc2MTc1MTM=","name":"spark","full_name":"beliefer/spark","private":false,"owner":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/beliefer/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/beliefer/spark","forks_url":"https://api.github.com/repos/beliefer/spark/forks","keys_url":"https://api.github.com/repos/beliefer/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/beliefer/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/beliefer/spark/teams","hooks_url":"https://api.github.com/repos/beliefer/spark/hooks","issue_events_url":"https://api.github.com/repos/beliefer/spark/issues/events{/number}","events_url":"https://api.github.com/repos/beliefer/spark/events","assignees_url":"https://api.github.com/repos/beliefer/spark/assignees{/user}","branches_url":"https://api.github.com/repos/beliefer/spark/branches{/branch}","tags_url":"https://api.github.com/repos/beliefer/spark/tags","blobs_url":"https://api.github.com/repos/beliefer/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/beliefer/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/beliefer/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/beliefer/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/beliefer/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/beliefer/spark/languages","stargazers_url":"https://api.github.com/repos/beliefer/spark/stargazers","contributors_url":"https://api.github.com/repos/beliefer/spark/contributors","subscribers_url":"https://api.github.com/repos/beliefer/spark/subscribers","subscription_url":"https://api.github.com/repos/beliefer/spark/subscription","commits_url":"https://api.github.com/repos/beliefer/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/beliefer/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/beliefer/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/beliefer/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/beliefer/spark/contents/{+path}","compare_url":"https://api.github.com/repos/beliefer/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/beliefer/spark/merges","archive_url":"https://api.github.com/repos/beliefer/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/beliefer/spark/downloads","issues_url":"https://api.github.com/repos/beliefer/spark/issues{/number}","pulls_url":"https://api.github.com/repos/beliefer/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/beliefer/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/beliefer/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/beliefer/spark/labels{/name}","releases_url":"https://api.github.com/repos/beliefer/spark/releases{/id}","deployments_url":"https://api.github.com/repos/beliefer/spark/deployments","created_at":"2020-02-01T13:17:08Z","updated_at":"2025-01-28T09:45:49Z","pushed_at":"2025-01-28T11:57:29Z","git_url":"git://github.com/beliefer/spark.git","ssh_url":"git@github.com:beliefer/spark.git","clone_url":"https://github.com/beliefer/spark.git","svn_url":"https://github.com/beliefer/spark","homepage":"","size":488033,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"4920014cc3a14019a2584c1059bc3d7b75426635","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35360"},"html":{"href":"https://github.com/apache/spark/pull/35360"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35360"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35360/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35360/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35360/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/8ccd1647d1ac40d91fde39fbd054a620897149a4"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35359","id":834943032,"node_id":"PR_kwDOAQXtWs4xxDg4","html_url":"https://github.com/apache/spark/pull/35359","diff_url":"https://github.com/apache/spark/pull/35359.diff","patch_url":"https://github.com/apache/spark/pull/35359.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35359","number":35359,"state":"closed","locked":false,"title":"[SPARK-37713][K8S][FOLLOWUP] Fix insufficient namespace propagation","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis is a follow-up of SPARK-37713 (#34983) to fix insufficient namespace propagation at configMap creation.\r\n\r\n### Why are the changes needed?\r\n\r\nThis will recover the behavior on non-`default` namespace Spark jobs like the following.\r\n```\r\nNAMESPACE                          NAME                                   DATA   AGE\r\n10e32ae0f2304236be9c687edf8a06a4   kube-root-ca.crt                       1      8s\r\n10e32ae0f2304236be9c687edf8a06a4   spark-drv-fa3f387ea3871bbd-conf-map    2      5s\r\n10e32ae0f2304236be9c687edf8a06a4   spark-exec-da5ea37ea38727f1-conf-map   2      3s\r\n```\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo. This is a bug fix of the unreleased patch.\r\n\r\n### How was this patch tested?\r\n\r\nPass the CIs and manually run the integration tests which was broken since the original PR.\r\n\r\n```\r\n$ mvn package -Pkubernetes -DskipTests\r\n$ resource-managers/kubernetes/integration-tests/dev/dev-run-integration-tests.sh --deploy-mode docker-for-desktop --exclude-tags minikube,r\r\n...\r\nKubernetesSuite:\r\n- Run SparkPi with no resources\r\n- Run SparkPi with no resources & statefulset allocation\r\n- Run SparkPi with a very long application name.\r\n- Use SparkLauncher.NO_RESOURCE\r\n- Run SparkPi with a master URL without a scheme.\r\n- Run SparkPi with an argument.\r\n- Run SparkPi with custom labels, annotations, and environment variables.\r\n- All pods have the same service account by default\r\n- Run extraJVMOptions check on driver\r\n- Run SparkRemoteFileTest using a remote data file\r\n- Verify logging configuration is picked from the provided SPARK_CONF_DIR/log4j2.properties\r\n- Run SparkPi with env and mount secrets.\r\n- Run PySpark on simple pi.py example\r\n- Run PySpark to test a pyfiles example\r\n- Run PySpark with memory customization\r\n- Run in client mode.\r\n- Start pod creation from template\r\n- Test basic decommissioning\r\n- Test basic decommissioning with shuffle cleanup\r\n- Test decommissioning with dynamic allocation & shuffle cleanups\r\n- Test decommissioning timeouts\r\n- SPARK-37576: Rolling decommissioning\r\nRun completed in 10 minutes, 34 seconds.\r\nTotal number of tests run: 22\r\nSuites: completed 2, aborted 0\r\nTests: succeeded 22, failed 0, canceled 0, ignored 0, pending 0\r\nAll tests passed.\r\n```\r\n\r\nCloses #35299","created_at":"2022-01-29T01:53:02Z","updated_at":"2022-01-29T20:56:15Z","closed_at":"2022-01-29T20:56:11Z","merged_at":null,"merge_commit_sha":"f3b513eabd6b03c5c399d5d724959620fdd9d393","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406605057,"node_id":"MDU6TGFiZWwxNDA2NjA1MDU3","url":"https://api.github.com/repos/apache/spark/labels/KUBERNETES","name":"KUBERNETES","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35359/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35359/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35359/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/688150993b9b5d204110233a3dc5d1dab38a62d3","head":{"label":"dongjoon-hyun:SPARK-37713","ref":"SPARK-37713","sha":"688150993b9b5d204110233a3dc5d1dab38a62d3","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"4920014cc3a14019a2584c1059bc3d7b75426635","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35359"},"html":{"href":"https://github.com/apache/spark/pull/35359"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35359"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35359/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35359/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35359/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/688150993b9b5d204110233a3dc5d1dab38a62d3"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35358","id":834828701,"node_id":"PR_kwDOAQXtWs4xwnmd","html_url":"https://github.com/apache/spark/pull/35358","diff_url":"https://github.com/apache/spark/pull/35358.diff","patch_url":"https://github.com/apache/spark/pull/35358.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35358","number":35358,"state":"closed","locked":false,"title":"[SPARK-38062][CORE] Avoid resolving placeholder hostname for FallbackStorage in BlockManagerDecommissioner","user":{"login":"xkrogen","id":6570401,"node_id":"MDQ6VXNlcjY1NzA0MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6570401?v=4","gravatar_id":"","url":"https://api.github.com/users/xkrogen","html_url":"https://github.com/xkrogen","followers_url":"https://api.github.com/users/xkrogen/followers","following_url":"https://api.github.com/users/xkrogen/following{/other_user}","gists_url":"https://api.github.com/users/xkrogen/gists{/gist_id}","starred_url":"https://api.github.com/users/xkrogen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xkrogen/subscriptions","organizations_url":"https://api.github.com/users/xkrogen/orgs","repos_url":"https://api.github.com/users/xkrogen/repos","events_url":"https://api.github.com/users/xkrogen/events{/privacy}","received_events_url":"https://api.github.com/users/xkrogen/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis updates `BlockManagerDecommissioner` to avoid treating \"remote\", the placeholder hostname used by `FALLBACK_BLOCK_MANAGER_ID`, as a valid hostname and attempting to perform a network transfer to it. If the `peer` it encounters matches the fallback block manager ID, it now goes directly to accessing `fallbackStorage`, instead of first attempting to treat it like a valid block manager ID.\r\n\r\nIn addition, this reverts the changes from SPARK-37318, which should no longer be necessary now that the underlying issue is resolved.\r\n\r\n### Why are the changes needed?\r\nSee SPARK-38062 for a much more detailed explanation. The gist of it is that:\r\n- Attempting to resolve \"remote\" can behave unexpectedly in some DNS environments. This can cause failures of the `FallbackStorageSuite` tests, but also could potentially cause issues in a production deployment.\r\n- SPARK-37318 \"fixes\" the tests by skipping them if such a DNS environment is detected, but this has the obvious drawback of disabling the tests, and doesn't address the problem for production environments.\r\n- Even if resolving \"remote\" does quickly fail, as the current code expects, it is semantically wrong -- we should not treat this placeholder as a valid hostname.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n`FallbackStorage` may be resolved slightly quicker, as it removes an unnecessary lookup step, but it should be negligible in most environments. No other user-facing changes.\r\n\r\n### How was this patch tested?\r\nThe DNS environment in which unit tests are run in an automated fashion at my company means that we experience an issue very similar to what is described in SPARK-37318. Without this patch, tests in `FallbackStorageSuite` consistently fail, exceeding their timeouts. With this patch, the tests consistently (and quickly!) succeed.","created_at":"2022-01-28T21:25:18Z","updated_at":"2022-02-23T16:40:30Z","closed_at":"2022-02-23T02:13:53Z","merged_at":null,"merge_commit_sha":"d1e2068f81fdd9c1e4967a32f6f2727f5194f923","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35358/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35358/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35358/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/6de416acdaf67b634723cf7be7d45adb80a03c6e","head":{"label":"xkrogen:xkrogen-SPARK-38062-fallbackstorage-remote-host","ref":"xkrogen-SPARK-38062-fallbackstorage-remote-host","sha":"6de416acdaf67b634723cf7be7d45adb80a03c6e","user":{"login":"xkrogen","id":6570401,"node_id":"MDQ6VXNlcjY1NzA0MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6570401?v=4","gravatar_id":"","url":"https://api.github.com/users/xkrogen","html_url":"https://github.com/xkrogen","followers_url":"https://api.github.com/users/xkrogen/followers","following_url":"https://api.github.com/users/xkrogen/following{/other_user}","gists_url":"https://api.github.com/users/xkrogen/gists{/gist_id}","starred_url":"https://api.github.com/users/xkrogen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xkrogen/subscriptions","organizations_url":"https://api.github.com/users/xkrogen/orgs","repos_url":"https://api.github.com/users/xkrogen/repos","events_url":"https://api.github.com/users/xkrogen/events{/privacy}","received_events_url":"https://api.github.com/users/xkrogen/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":273605257,"node_id":"MDEwOlJlcG9zaXRvcnkyNzM2MDUyNTc=","name":"spark","full_name":"xkrogen/spark","private":false,"owner":{"login":"xkrogen","id":6570401,"node_id":"MDQ6VXNlcjY1NzA0MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6570401?v=4","gravatar_id":"","url":"https://api.github.com/users/xkrogen","html_url":"https://github.com/xkrogen","followers_url":"https://api.github.com/users/xkrogen/followers","following_url":"https://api.github.com/users/xkrogen/following{/other_user}","gists_url":"https://api.github.com/users/xkrogen/gists{/gist_id}","starred_url":"https://api.github.com/users/xkrogen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xkrogen/subscriptions","organizations_url":"https://api.github.com/users/xkrogen/orgs","repos_url":"https://api.github.com/users/xkrogen/repos","events_url":"https://api.github.com/users/xkrogen/events{/privacy}","received_events_url":"https://api.github.com/users/xkrogen/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/xkrogen/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/xkrogen/spark","forks_url":"https://api.github.com/repos/xkrogen/spark/forks","keys_url":"https://api.github.com/repos/xkrogen/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xkrogen/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xkrogen/spark/teams","hooks_url":"https://api.github.com/repos/xkrogen/spark/hooks","issue_events_url":"https://api.github.com/repos/xkrogen/spark/issues/events{/number}","events_url":"https://api.github.com/repos/xkrogen/spark/events","assignees_url":"https://api.github.com/repos/xkrogen/spark/assignees{/user}","branches_url":"https://api.github.com/repos/xkrogen/spark/branches{/branch}","tags_url":"https://api.github.com/repos/xkrogen/spark/tags","blobs_url":"https://api.github.com/repos/xkrogen/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xkrogen/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xkrogen/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/xkrogen/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xkrogen/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/xkrogen/spark/languages","stargazers_url":"https://api.github.com/repos/xkrogen/spark/stargazers","contributors_url":"https://api.github.com/repos/xkrogen/spark/contributors","subscribers_url":"https://api.github.com/repos/xkrogen/spark/subscribers","subscription_url":"https://api.github.com/repos/xkrogen/spark/subscription","commits_url":"https://api.github.com/repos/xkrogen/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/xkrogen/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/xkrogen/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/xkrogen/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/xkrogen/spark/contents/{+path}","compare_url":"https://api.github.com/repos/xkrogen/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xkrogen/spark/merges","archive_url":"https://api.github.com/repos/xkrogen/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xkrogen/spark/downloads","issues_url":"https://api.github.com/repos/xkrogen/spark/issues{/number}","pulls_url":"https://api.github.com/repos/xkrogen/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/xkrogen/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/xkrogen/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xkrogen/spark/labels{/name}","releases_url":"https://api.github.com/repos/xkrogen/spark/releases{/id}","deployments_url":"https://api.github.com/repos/xkrogen/spark/deployments","created_at":"2020-06-19T23:37:26Z","updated_at":"2022-02-02T18:58:01Z","pushed_at":"2023-03-01T22:29:31Z","git_url":"git://github.com/xkrogen/spark.git","ssh_url":"git@github.com:xkrogen/spark.git","clone_url":"https://github.com/xkrogen/spark.git","svn_url":"https://github.com/xkrogen/spark","homepage":"https://spark.apache.org/","size":434073,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"43cce92958fc1b5d7153cb75db8701493c89c7ff","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35358"},"html":{"href":"https://github.com/apache/spark/pull/35358"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35358"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35358/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35358/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35358/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/6de416acdaf67b634723cf7be7d45adb80a03c6e"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35357","id":834636702,"node_id":"PR_kwDOAQXtWs4xv4ue","html_url":"https://github.com/apache/spark/pull/35357","diff_url":"https://github.com/apache/spark/pull/35357.diff","patch_url":"https://github.com/apache/spark/pull/35357.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35357","number":35357,"state":"closed","locked":false,"title":"[SPARK-21195][CORE] MetricSystem should pick up dynamically registered metrics in sources","user":{"login":"robert3005","id":512084,"node_id":"MDQ6VXNlcjUxMjA4NA==","avatar_url":"https://avatars.githubusercontent.com/u/512084?v=4","gravatar_id":"","url":"https://api.github.com/users/robert3005","html_url":"https://github.com/robert3005","followers_url":"https://api.github.com/users/robert3005/followers","following_url":"https://api.github.com/users/robert3005/following{/other_user}","gists_url":"https://api.github.com/users/robert3005/gists{/gist_id}","starred_url":"https://api.github.com/users/robert3005/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robert3005/subscriptions","organizations_url":"https://api.github.com/users/robert3005/orgs","repos_url":"https://api.github.com/users/robert3005/repos","events_url":"https://api.github.com/users/robert3005/events{/privacy}","received_events_url":"https://api.github.com/users/robert3005/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"What changes were proposed in this pull request?\r\n\r\nMetricSystem picks up new metrics from sources that are added throughout execution. If you do measurements via dynamic proxies you might not want to redeclare all metrics that the proxies will create and you'd prefer them to get populated as they're being produced. Right now all sources are processed only onceat startup and metrics are picked up only if they have been registered statically at compile time. Behaviour I am proposing lets you not have to declare metrics in two places.\r\n\r\nThis had been previously suggested in #18406, #29980 and #31267.\r\n\r\nWhy are the changes needed?\r\n\r\nCurrently there's no way to access MetricRegistry that MetricsSystem uses to hold its state and as such it's not possible to reprocess a source. MetricsSystem throws if any metric had already been registered previously.\r\n\r\nn.b. the MetricRegistry is added as a constructor argument to make testing easier but could as well be accessed via reflection as a private variable.\r\nDoes this PR introduce any user-facing change?\r\n\r\nNo\r\nHow was this patch tested?\r\n\r\nAdded tests","created_at":"2022-01-28T16:50:23Z","updated_at":"2022-05-16T00:20:54Z","closed_at":"2022-05-16T00:20:54Z","merged_at":null,"merge_commit_sha":"cef90137fb3d25e6c55edcc0bca166465ac49803","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1984378631,"node_id":"MDU6TGFiZWwxOTg0Mzc4NjMx","url":"https://api.github.com/repos/apache/spark/labels/DSTREAM","name":"DSTREAM","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35357/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35357/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35357/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/aa957ef8668b1352e5c0310ca9f318657fa43fab","head":{"label":"robert3005:rk/lazy-registries","ref":"rk/lazy-registries","sha":"aa957ef8668b1352e5c0310ca9f318657fa43fab","user":{"login":"robert3005","id":512084,"node_id":"MDQ6VXNlcjUxMjA4NA==","avatar_url":"https://avatars.githubusercontent.com/u/512084?v=4","gravatar_id":"","url":"https://api.github.com/users/robert3005","html_url":"https://github.com/robert3005","followers_url":"https://api.github.com/users/robert3005/followers","following_url":"https://api.github.com/users/robert3005/following{/other_user}","gists_url":"https://api.github.com/users/robert3005/gists{/gist_id}","starred_url":"https://api.github.com/users/robert3005/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robert3005/subscriptions","organizations_url":"https://api.github.com/users/robert3005/orgs","repos_url":"https://api.github.com/users/robert3005/repos","events_url":"https://api.github.com/users/robert3005/events{/privacy}","received_events_url":"https://api.github.com/users/robert3005/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":47656892,"node_id":"MDEwOlJlcG9zaXRvcnk0NzY1Njg5Mg==","name":"spark","full_name":"robert3005/spark","private":false,"owner":{"login":"robert3005","id":512084,"node_id":"MDQ6VXNlcjUxMjA4NA==","avatar_url":"https://avatars.githubusercontent.com/u/512084?v=4","gravatar_id":"","url":"https://api.github.com/users/robert3005","html_url":"https://github.com/robert3005","followers_url":"https://api.github.com/users/robert3005/followers","following_url":"https://api.github.com/users/robert3005/following{/other_user}","gists_url":"https://api.github.com/users/robert3005/gists{/gist_id}","starred_url":"https://api.github.com/users/robert3005/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robert3005/subscriptions","organizations_url":"https://api.github.com/users/robert3005/orgs","repos_url":"https://api.github.com/users/robert3005/repos","events_url":"https://api.github.com/users/robert3005/events{/privacy}","received_events_url":"https://api.github.com/users/robert3005/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/robert3005/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/robert3005/spark","forks_url":"https://api.github.com/repos/robert3005/spark/forks","keys_url":"https://api.github.com/repos/robert3005/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/robert3005/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/robert3005/spark/teams","hooks_url":"https://api.github.com/repos/robert3005/spark/hooks","issue_events_url":"https://api.github.com/repos/robert3005/spark/issues/events{/number}","events_url":"https://api.github.com/repos/robert3005/spark/events","assignees_url":"https://api.github.com/repos/robert3005/spark/assignees{/user}","branches_url":"https://api.github.com/repos/robert3005/spark/branches{/branch}","tags_url":"https://api.github.com/repos/robert3005/spark/tags","blobs_url":"https://api.github.com/repos/robert3005/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/robert3005/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/robert3005/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/robert3005/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/robert3005/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/robert3005/spark/languages","stargazers_url":"https://api.github.com/repos/robert3005/spark/stargazers","contributors_url":"https://api.github.com/repos/robert3005/spark/contributors","subscribers_url":"https://api.github.com/repos/robert3005/spark/subscribers","subscription_url":"https://api.github.com/repos/robert3005/spark/subscription","commits_url":"https://api.github.com/repos/robert3005/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/robert3005/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/robert3005/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/robert3005/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/robert3005/spark/contents/{+path}","compare_url":"https://api.github.com/repos/robert3005/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/robert3005/spark/merges","archive_url":"https://api.github.com/repos/robert3005/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/robert3005/spark/downloads","issues_url":"https://api.github.com/repos/robert3005/spark/issues{/number}","pulls_url":"https://api.github.com/repos/robert3005/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/robert3005/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/robert3005/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/robert3005/spark/labels{/name}","releases_url":"https://api.github.com/repos/robert3005/spark/releases{/id}","deployments_url":"https://api.github.com/repos/robert3005/spark/deployments","created_at":"2015-12-08T23:53:30Z","updated_at":"2024-09-17T23:18:38Z","pushed_at":"2024-09-18T00:21:54Z","git_url":"git://github.com/robert3005/spark.git","ssh_url":"git@github.com:robert3005/spark.git","clone_url":"https://github.com/robert3005/spark.git","svn_url":"https://github.com/robert3005/spark","homepage":null,"size":418314,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"157f3b9174ef320b21785ddb7d21a067dc5bcd00","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35357"},"html":{"href":"https://github.com/apache/spark/pull/35357"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35357"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35357/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35357/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35357/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/aa957ef8668b1352e5c0310ca9f318657fa43fab"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35356","id":834455857,"node_id":"PR_kwDOAQXtWs4xvMkx","html_url":"https://github.com/apache/spark/pull/35356","diff_url":"https://github.com/apache/spark/pull/35356.diff","patch_url":"https://github.com/apache/spark/pull/35356.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35356","number":35356,"state":"closed","locked":false,"title":"[SPARK-38056][Web UI] Fix issue of Structured streaming not working in history server when using LevelDB","user":{"login":"kuwii","id":10705175,"node_id":"MDQ6VXNlcjEwNzA1MTc1","avatar_url":"https://avatars.githubusercontent.com/u/10705175?v=4","gravatar_id":"","url":"https://api.github.com/users/kuwii","html_url":"https://github.com/kuwii","followers_url":"https://api.github.com/users/kuwii/followers","following_url":"https://api.github.com/users/kuwii/following{/other_user}","gists_url":"https://api.github.com/users/kuwii/gists{/gist_id}","starred_url":"https://api.github.com/users/kuwii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kuwii/subscriptions","organizations_url":"https://api.github.com/users/kuwii/orgs","repos_url":"https://api.github.com/users/kuwii/repos","events_url":"https://api.github.com/users/kuwii/events{/privacy}","received_events_url":"https://api.github.com/users/kuwii/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nChange type of `org.apache.spark.sql.streaming.ui.StreamingQueryData.runId` from `UUID` to `String`.\r\n\r\n### Why are the changes needed?\r\n\r\nIn [SPARK-31953](https://github.com/apache/spark/commit/4f9667035886a67e6c9a4e8fad2efa390e87ca68), structured streaming support is added in history server. However this does not work when history server is using LevelDB instead of in-memory KV store.\r\n\r\n- Level DB does not support `UUID` as key.\r\n- If `spark.history.store.path` is set in history server to use Level DB, when writing info to the store during replaying events, error will occur.\r\n- `StreamingQueryStatusListener` will throw exceptions when writing info, saying `java.lang.IllegalArgumentException: Type java.util.UUID not allowed as key.`.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nAdded tests in `StreamingQueryStatusListenerSuite` to test whether `StreamingQueryData` can be successfully written to in-memory store,  LevelDB and RocksDB.\r\n","created_at":"2022-01-28T13:35:59Z","updated_at":"2022-02-09T14:39:15Z","closed_at":"2022-02-09T08:00:02Z","merged_at":null,"merge_commit_sha":"a3077d4b1ffb439ef2a7d2623041b5076d415028","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1406605079,"node_id":"MDU6TGFiZWwxNDA2NjA1MDc5","url":"https://api.github.com/repos/apache/spark/labels/WEB%20UI","name":"WEB UI","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35356/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35356/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35356/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/a382100e21196c3362b921b559481031fbce830e","head":{"label":"kuwii:hs-streaming-fix","ref":"hs-streaming-fix","sha":"a382100e21196c3362b921b559481031fbce830e","user":{"login":"kuwii","id":10705175,"node_id":"MDQ6VXNlcjEwNzA1MTc1","avatar_url":"https://avatars.githubusercontent.com/u/10705175?v=4","gravatar_id":"","url":"https://api.github.com/users/kuwii","html_url":"https://github.com/kuwii","followers_url":"https://api.github.com/users/kuwii/followers","following_url":"https://api.github.com/users/kuwii/following{/other_user}","gists_url":"https://api.github.com/users/kuwii/gists{/gist_id}","starred_url":"https://api.github.com/users/kuwii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kuwii/subscriptions","organizations_url":"https://api.github.com/users/kuwii/orgs","repos_url":"https://api.github.com/users/kuwii/repos","events_url":"https://api.github.com/users/kuwii/events{/privacy}","received_events_url":"https://api.github.com/users/kuwii/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"4920014cc3a14019a2584c1059bc3d7b75426635","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35356"},"html":{"href":"https://github.com/apache/spark/pull/35356"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35356"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35356/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35356/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35356/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/a382100e21196c3362b921b559481031fbce830e"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35355","id":834350577,"node_id":"PR_kwDOAQXtWs4xuy3x","html_url":"https://github.com/apache/spark/pull/35355","diff_url":"https://github.com/apache/spark/pull/35355.diff","patch_url":"https://github.com/apache/spark/pull/35355.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35355","number":35355,"state":"closed","locked":false,"title":"[SPARK-38054][SQL] Supports list namespaces in JDBC v2 MySQL dialect","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nCurrently, `JDBCTableCatalog.scala` query namespaces show below.\r\n```\r\n      val schemaBuilder = ArrayBuilder.make[Array[String]]\r\n      val rs = conn.getMetaData.getSchemas()\r\n      while (rs.next()) {\r\n        schemaBuilder += Array(rs.getString(1))\r\n      }\r\n      schemaBuilder.result\r\n```\r\n\r\nBut the code cannot get any information when using MySQL JDBC driver.\r\nThis PR uses `SHOW SCHEMAS` to query namespaces of MySQL.\r\nThis PR also fix other issues below:\r\n\r\n- Release the docker tests in `MySQLNamespaceSuite.scala`.\r\n- Because MySQL doesn't support create comment of schema, let's throws `SQLFeatureNotSupportedException`.\r\n- Because MySQL doesn't support `DROP SCHEMA` in `RESTRICT` mode, let's throws `SQLFeatureNotSupportedException`.\r\n- Reactor `JdbcUtils.executeQuery` to avoid `java.sql.SQLException: Operation not allowed after ResultSet closed`.\r\n\r\n\r\n### Why are the changes needed?\r\nMySQL dialect supports query namespaces.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n'Yes'.\r\nSome API changed.\r\n\r\n\r\n### How was this patch tested?\r\nNew tests.\r\n","created_at":"2022-01-28T11:23:01Z","updated_at":"2022-02-11T00:28:12Z","closed_at":"2022-02-10T13:32:35Z","merged_at":null,"merge_commit_sha":"75aaaf5cb7259ba0024c3868dc520bc7c2368a79","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35355/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35355/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35355/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/daa11d20868201a18f3b3b2f84f4149aa4c70c9c","head":{"label":"beliefer:SPARK-38054","ref":"SPARK-38054","sha":"daa11d20868201a18f3b3b2f84f4149aa4c70c9c","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":237617513,"node_id":"MDEwOlJlcG9zaXRvcnkyMzc2MTc1MTM=","name":"spark","full_name":"beliefer/spark","private":false,"owner":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/beliefer/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/beliefer/spark","forks_url":"https://api.github.com/repos/beliefer/spark/forks","keys_url":"https://api.github.com/repos/beliefer/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/beliefer/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/beliefer/spark/teams","hooks_url":"https://api.github.com/repos/beliefer/spark/hooks","issue_events_url":"https://api.github.com/repos/beliefer/spark/issues/events{/number}","events_url":"https://api.github.com/repos/beliefer/spark/events","assignees_url":"https://api.github.com/repos/beliefer/spark/assignees{/user}","branches_url":"https://api.github.com/repos/beliefer/spark/branches{/branch}","tags_url":"https://api.github.com/repos/beliefer/spark/tags","blobs_url":"https://api.github.com/repos/beliefer/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/beliefer/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/beliefer/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/beliefer/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/beliefer/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/beliefer/spark/languages","stargazers_url":"https://api.github.com/repos/beliefer/spark/stargazers","contributors_url":"https://api.github.com/repos/beliefer/spark/contributors","subscribers_url":"https://api.github.com/repos/beliefer/spark/subscribers","subscription_url":"https://api.github.com/repos/beliefer/spark/subscription","commits_url":"https://api.github.com/repos/beliefer/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/beliefer/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/beliefer/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/beliefer/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/beliefer/spark/contents/{+path}","compare_url":"https://api.github.com/repos/beliefer/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/beliefer/spark/merges","archive_url":"https://api.github.com/repos/beliefer/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/beliefer/spark/downloads","issues_url":"https://api.github.com/repos/beliefer/spark/issues{/number}","pulls_url":"https://api.github.com/repos/beliefer/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/beliefer/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/beliefer/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/beliefer/spark/labels{/name}","releases_url":"https://api.github.com/repos/beliefer/spark/releases{/id}","deployments_url":"https://api.github.com/repos/beliefer/spark/deployments","created_at":"2020-02-01T13:17:08Z","updated_at":"2025-01-28T09:45:49Z","pushed_at":"2025-01-28T11:57:29Z","git_url":"git://github.com/beliefer/spark.git","ssh_url":"git@github.com:beliefer/spark.git","clone_url":"https://github.com/beliefer/spark.git","svn_url":"https://github.com/beliefer/spark","homepage":"","size":488033,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"4920014cc3a14019a2584c1059bc3d7b75426635","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35355"},"html":{"href":"https://github.com/apache/spark/pull/35355"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35355"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35355/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35355/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35355/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/daa11d20868201a18f3b3b2f84f4149aa4c70c9c"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35354","id":834244466,"node_id":"PR_kwDOAQXtWs4xuY9y","html_url":"https://github.com/apache/spark/pull/35354","diff_url":"https://github.com/apache/spark/pull/35354.diff","patch_url":"https://github.com/apache/spark/pull/35354.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35354","number":35354,"state":"closed","locked":false,"title":"[WIP][SPARK-38053][SQL] Report driver side metric from datasource V2","user":{"login":"yikf","id":51110188,"node_id":"MDQ6VXNlcjUxMTEwMTg4","avatar_url":"https://avatars.githubusercontent.com/u/51110188?v=4","gravatar_id":"","url":"https://api.github.com/users/yikf","html_url":"https://github.com/yikf","followers_url":"https://api.github.com/users/yikf/followers","following_url":"https://api.github.com/users/yikf/following{/other_user}","gists_url":"https://api.github.com/users/yikf/gists{/gist_id}","starred_url":"https://api.github.com/users/yikf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yikf/subscriptions","organizations_url":"https://api.github.com/users/yikf/orgs","repos_url":"https://api.github.com/users/yikf/repos","events_url":"https://api.github.com/users/yikf/events{/privacy}","received_events_url":"https://api.github.com/users/yikf/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nWIP\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nWIP\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nWIP\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nWIP","created_at":"2022-01-28T09:14:26Z","updated_at":"2022-05-10T05:45:07Z","closed_at":"2022-05-10T05:45:07Z","merged_at":null,"merge_commit_sha":"33942ede5bf4f4a66e6be9d2f9bb4eaea2ddd827","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35354/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35354/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35354/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/2b1dd5825eadba7f1e231f13a9498b0239c3f65d","head":{"label":"yikf:metric","ref":"metric","sha":"2b1dd5825eadba7f1e231f13a9498b0239c3f65d","user":{"login":"yikf","id":51110188,"node_id":"MDQ6VXNlcjUxMTEwMTg4","avatar_url":"https://avatars.githubusercontent.com/u/51110188?v=4","gravatar_id":"","url":"https://api.github.com/users/yikf","html_url":"https://github.com/yikf","followers_url":"https://api.github.com/users/yikf/followers","following_url":"https://api.github.com/users/yikf/following{/other_user}","gists_url":"https://api.github.com/users/yikf/gists{/gist_id}","starred_url":"https://api.github.com/users/yikf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yikf/subscriptions","organizations_url":"https://api.github.com/users/yikf/orgs","repos_url":"https://api.github.com/users/yikf/repos","events_url":"https://api.github.com/users/yikf/events{/privacy}","received_events_url":"https://api.github.com/users/yikf/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"169be3e1e6c8743390d3ca401f762b69b328ccfd","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35354"},"html":{"href":"https://github.com/apache/spark/pull/35354"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35354"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35354/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35354/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35354/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/2b1dd5825eadba7f1e231f13a9498b0239c3f65d"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35353","id":834159908,"node_id":"PR_kwDOAQXtWs4xuEUk","html_url":"https://github.com/apache/spark/pull/35353","diff_url":"https://github.com/apache/spark/pull/35353.diff","patch_url":"https://github.com/apache/spark/pull/35353.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35353","number":35353,"state":"closed","locked":false,"title":"[SPARK-38013][SQL][TEST] AQE can change bhj to smj if no extra shuffle introduce","user":{"login":"ulysses-you","id":12025282,"node_id":"MDQ6VXNlcjEyMDI1Mjgy","avatar_url":"https://avatars.githubusercontent.com/u/12025282?v=4","gravatar_id":"","url":"https://api.github.com/users/ulysses-you","html_url":"https://github.com/ulysses-you","followers_url":"https://api.github.com/users/ulysses-you/followers","following_url":"https://api.github.com/users/ulysses-you/following{/other_user}","gists_url":"https://api.github.com/users/ulysses-you/gists{/gist_id}","starred_url":"https://api.github.com/users/ulysses-you/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulysses-you/subscriptions","organizations_url":"https://api.github.com/users/ulysses-you/orgs","repos_url":"https://api.github.com/users/ulysses-you/repos","events_url":"https://api.github.com/users/ulysses-you/events{/privacy}","received_events_url":"https://api.github.com/users/ulysses-you/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nAdd a test case in `AdaptiveQueryExecSuite`.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nAQE can change bhj to smj, and it requires two conditions:\r\n- no extra shuffle introduce, otherwise the built-in cost evaluator will ban it\r\n- AQE does not think the join can be planned as broadcast join. That says the cost statistics in normal planner is not accurate.\r\n\r\nIt's counterintuitive, but it's an expected behavior as AQE designed.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nno\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nPass CI","created_at":"2022-01-28T07:06:34Z","updated_at":"2022-02-08T00:41:53Z","closed_at":"2022-02-02T07:12:36Z","merged_at":null,"merge_commit_sha":"f3d1bc3f37987ecd0f4165f5ab6575c68fd35433","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35353/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35353/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35353/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/bdae13cefa8edf0660c81f9ad560e344618668da","head":{"label":"ulysses-you:bhj-smj","ref":"bhj-smj","sha":"bdae13cefa8edf0660c81f9ad560e344618668da","user":{"login":"ulysses-you","id":12025282,"node_id":"MDQ6VXNlcjEyMDI1Mjgy","avatar_url":"https://avatars.githubusercontent.com/u/12025282?v=4","gravatar_id":"","url":"https://api.github.com/users/ulysses-you","html_url":"https://github.com/ulysses-you","followers_url":"https://api.github.com/users/ulysses-you/followers","following_url":"https://api.github.com/users/ulysses-you/following{/other_user}","gists_url":"https://api.github.com/users/ulysses-you/gists{/gist_id}","starred_url":"https://api.github.com/users/ulysses-you/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulysses-you/subscriptions","organizations_url":"https://api.github.com/users/ulysses-you/orgs","repos_url":"https://api.github.com/users/ulysses-you/repos","events_url":"https://api.github.com/users/ulysses-you/events{/privacy}","received_events_url":"https://api.github.com/users/ulysses-you/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":195747855,"node_id":"MDEwOlJlcG9zaXRvcnkxOTU3NDc4NTU=","name":"spark","full_name":"ulysses-you/spark","private":false,"owner":{"login":"ulysses-you","id":12025282,"node_id":"MDQ6VXNlcjEyMDI1Mjgy","avatar_url":"https://avatars.githubusercontent.com/u/12025282?v=4","gravatar_id":"","url":"https://api.github.com/users/ulysses-you","html_url":"https://github.com/ulysses-you","followers_url":"https://api.github.com/users/ulysses-you/followers","following_url":"https://api.github.com/users/ulysses-you/following{/other_user}","gists_url":"https://api.github.com/users/ulysses-you/gists{/gist_id}","starred_url":"https://api.github.com/users/ulysses-you/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulysses-you/subscriptions","organizations_url":"https://api.github.com/users/ulysses-you/orgs","repos_url":"https://api.github.com/users/ulysses-you/repos","events_url":"https://api.github.com/users/ulysses-you/events{/privacy}","received_events_url":"https://api.github.com/users/ulysses-you/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ulysses-you/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/ulysses-you/spark","forks_url":"https://api.github.com/repos/ulysses-you/spark/forks","keys_url":"https://api.github.com/repos/ulysses-you/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ulysses-you/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ulysses-you/spark/teams","hooks_url":"https://api.github.com/repos/ulysses-you/spark/hooks","issue_events_url":"https://api.github.com/repos/ulysses-you/spark/issues/events{/number}","events_url":"https://api.github.com/repos/ulysses-you/spark/events","assignees_url":"https://api.github.com/repos/ulysses-you/spark/assignees{/user}","branches_url":"https://api.github.com/repos/ulysses-you/spark/branches{/branch}","tags_url":"https://api.github.com/repos/ulysses-you/spark/tags","blobs_url":"https://api.github.com/repos/ulysses-you/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ulysses-you/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ulysses-you/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/ulysses-you/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ulysses-you/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/ulysses-you/spark/languages","stargazers_url":"https://api.github.com/repos/ulysses-you/spark/stargazers","contributors_url":"https://api.github.com/repos/ulysses-you/spark/contributors","subscribers_url":"https://api.github.com/repos/ulysses-you/spark/subscribers","subscription_url":"https://api.github.com/repos/ulysses-you/spark/subscription","commits_url":"https://api.github.com/repos/ulysses-you/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/ulysses-you/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/ulysses-you/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/ulysses-you/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/ulysses-you/spark/contents/{+path}","compare_url":"https://api.github.com/repos/ulysses-you/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ulysses-you/spark/merges","archive_url":"https://api.github.com/repos/ulysses-you/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ulysses-you/spark/downloads","issues_url":"https://api.github.com/repos/ulysses-you/spark/issues{/number}","pulls_url":"https://api.github.com/repos/ulysses-you/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/ulysses-you/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/ulysses-you/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ulysses-you/spark/labels{/name}","releases_url":"https://api.github.com/repos/ulysses-you/spark/releases{/id}","deployments_url":"https://api.github.com/repos/ulysses-you/spark/deployments","created_at":"2019-07-08T06:11:57Z","updated_at":"2022-01-10T01:34:59Z","pushed_at":"2024-08-13T23:12:37Z","git_url":"git://github.com/ulysses-you/spark.git","ssh_url":"git@github.com:ulysses-you/spark.git","clone_url":"https://github.com/ulysses-you/spark.git","svn_url":"https://github.com/ulysses-you/spark","homepage":"","size":399300,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"4f755772349117599d444579f04ecafb30cff092","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35353"},"html":{"href":"https://github.com/apache/spark/pull/35353"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35353"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35353/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35353/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35353/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/bdae13cefa8edf0660c81f9ad560e344618668da"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35352","id":834152991,"node_id":"PR_kwDOAQXtWs4xuCof","html_url":"https://github.com/apache/spark/pull/35352","diff_url":"https://github.com/apache/spark/pull/35352.diff","patch_url":"https://github.com/apache/spark/pull/35352.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35352","number":35352,"state":"closed","locked":false,"title":"[SPARK-38063][SQL] Support split_part Function","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'core/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n`split_part()` is a commonly supported function by other systems such as Postgres and some other systems.\r\n\r\nThe Spark equivalent is `element_at(split(arg, delim), part)`\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nAdding new SQL function.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nYes. This PR adds a new function so there is no previous behavior. The following demonstrates more about the new function:\r\n\r\nsyntax: `split_part(str, delimiter, partNum)`\r\n\r\nThis function splits `str` by `delimiter` and return requested part of the split (1-based). If any input is null, returns null. If the index is out of range of split parts, returns empty string. If index is 0, throws an ArrayIndexOutOfBoundsException.\r\n\r\n`str` and `delimiter` are the same type as `string`. `partNum` is `integer` type\r\n\r\nExamples:\r\n```\r\n      > SELECT _FUNC_('11.12.13', '.', 3);\r\n       13\r\n      > SELECT _FUNC_(NULL, '.', 3);\r\n      NULL\r\n```\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nUnit Test\r\n","created_at":"2022-01-28T06:52:58Z","updated_at":"2022-04-06T06:01:05Z","closed_at":"2022-03-24T06:28:45Z","merged_at":null,"merge_commit_sha":"756eac295ec89c30aa4f16c79c5327ee58aa8b73","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35352/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35352/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35352/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/8cbebfc4941424e7ac54301e08c51d0ee004041a","head":{"label":"amaliujia:splitpart","ref":"splitpart","sha":"8cbebfc4941424e7ac54301e08c51d0ee004041a","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":434752466,"node_id":"R_kgDOGenL0g","name":"spark","full_name":"amaliujia/spark","private":false,"owner":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/amaliujia/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/amaliujia/spark","forks_url":"https://api.github.com/repos/amaliujia/spark/forks","keys_url":"https://api.github.com/repos/amaliujia/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/amaliujia/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/amaliujia/spark/teams","hooks_url":"https://api.github.com/repos/amaliujia/spark/hooks","issue_events_url":"https://api.github.com/repos/amaliujia/spark/issues/events{/number}","events_url":"https://api.github.com/repos/amaliujia/spark/events","assignees_url":"https://api.github.com/repos/amaliujia/spark/assignees{/user}","branches_url":"https://api.github.com/repos/amaliujia/spark/branches{/branch}","tags_url":"https://api.github.com/repos/amaliujia/spark/tags","blobs_url":"https://api.github.com/repos/amaliujia/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/amaliujia/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/amaliujia/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/amaliujia/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/amaliujia/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/amaliujia/spark/languages","stargazers_url":"https://api.github.com/repos/amaliujia/spark/stargazers","contributors_url":"https://api.github.com/repos/amaliujia/spark/contributors","subscribers_url":"https://api.github.com/repos/amaliujia/spark/subscribers","subscription_url":"https://api.github.com/repos/amaliujia/spark/subscription","commits_url":"https://api.github.com/repos/amaliujia/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/amaliujia/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/amaliujia/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/amaliujia/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/amaliujia/spark/contents/{+path}","compare_url":"https://api.github.com/repos/amaliujia/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/amaliujia/spark/merges","archive_url":"https://api.github.com/repos/amaliujia/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/amaliujia/spark/downloads","issues_url":"https://api.github.com/repos/amaliujia/spark/issues{/number}","pulls_url":"https://api.github.com/repos/amaliujia/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/amaliujia/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/amaliujia/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/amaliujia/spark/labels{/name}","releases_url":"https://api.github.com/repos/amaliujia/spark/releases{/id}","deployments_url":"https://api.github.com/repos/amaliujia/spark/deployments","created_at":"2021-12-03T22:41:59Z","updated_at":"2025-02-04T20:34:19Z","pushed_at":"2025-02-04T20:33:04Z","git_url":"git://github.com/amaliujia/spark.git","ssh_url":"git@github.com:amaliujia/spark.git","clone_url":"https://github.com/amaliujia/spark.git","svn_url":"https://github.com/amaliujia/spark","homepage":"https://spark.apache.org/","size":472908,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"a876f005ecef77d94bb8048fa1ff0841b7f3607a","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35352"},"html":{"href":"https://github.com/apache/spark/pull/35352"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35352"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35352/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35352/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35352/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/8cbebfc4941424e7ac54301e08c51d0ee004041a"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35351","id":834135555,"node_id":"PR_kwDOAQXtWs4xt-YD","html_url":"https://github.com/apache/spark/pull/35351","diff_url":"https://github.com/apache/spark/pull/35351.diff","patch_url":"https://github.com/apache/spark/pull/35351.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35351","number":35351,"state":"closed","locked":false,"title":"[SPARK-37931][SQL][FOLLOWUP] Quote the column name of view if needed","user":{"login":"Peng-Lei","id":41178002,"node_id":"MDQ6VXNlcjQxMTc4MDAy","avatar_url":"https://avatars.githubusercontent.com/u/41178002?v=4","gravatar_id":"","url":"https://api.github.com/users/Peng-Lei","html_url":"https://github.com/Peng-Lei","followers_url":"https://api.github.com/users/Peng-Lei/followers","following_url":"https://api.github.com/users/Peng-Lei/following{/other_user}","gists_url":"https://api.github.com/users/Peng-Lei/gists{/gist_id}","starred_url":"https://api.github.com/users/Peng-Lei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Peng-Lei/subscriptions","organizations_url":"https://api.github.com/users/Peng-Lei/orgs","repos_url":"https://api.github.com/users/Peng-Lei/repos","events_url":"https://api.github.com/users/Peng-Lei/events{/privacy}","received_events_url":"https://api.github.com/users/Peng-Lei/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nQuote the column name of view when `SHOW CREATE TABLE` for view.\r\n\r\n### Why are the changes needed?\r\nfollow up the [#PR](https://github.com/apache/spark/pull/35227). Keep the consistent between table and view when `SHOW CREATE TABLE`.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes，It will change the result of `SHOW CREATE TABLE` for view.\r\neg: \r\n```\r\n\"STRUCT<`_c0`, `_c1`>\"  => \"STRUCT<_c0, _c1>\" \r\n```\r\n\r\n### How was this patch tested?\r\nexisted testcase.\r\n","created_at":"2022-01-28T06:16:54Z","updated_at":"2022-01-28T09:20:05Z","closed_at":"2022-01-28T09:20:05Z","merged_at":null,"merge_commit_sha":"4ed42898c74d2465cfa728243109fe27c30757cb","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35351/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35351/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35351/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/56b62b070a8ced9908454854d00f276b988a49c4","head":{"label":"Peng-Lei:view-quote-columns","ref":"view-quote-columns","sha":"56b62b070a8ced9908454854d00f276b988a49c4","user":{"login":"Peng-Lei","id":41178002,"node_id":"MDQ6VXNlcjQxMTc4MDAy","avatar_url":"https://avatars.githubusercontent.com/u/41178002?v=4","gravatar_id":"","url":"https://api.github.com/users/Peng-Lei","html_url":"https://github.com/Peng-Lei","followers_url":"https://api.github.com/users/Peng-Lei/followers","following_url":"https://api.github.com/users/Peng-Lei/following{/other_user}","gists_url":"https://api.github.com/users/Peng-Lei/gists{/gist_id}","starred_url":"https://api.github.com/users/Peng-Lei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Peng-Lei/subscriptions","organizations_url":"https://api.github.com/users/Peng-Lei/orgs","repos_url":"https://api.github.com/users/Peng-Lei/repos","events_url":"https://api.github.com/users/Peng-Lei/events{/privacy}","received_events_url":"https://api.github.com/users/Peng-Lei/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":350306448,"node_id":"MDEwOlJlcG9zaXRvcnkzNTAzMDY0NDg=","name":"spark","full_name":"Peng-Lei/spark","private":false,"owner":{"login":"Peng-Lei","id":41178002,"node_id":"MDQ6VXNlcjQxMTc4MDAy","avatar_url":"https://avatars.githubusercontent.com/u/41178002?v=4","gravatar_id":"","url":"https://api.github.com/users/Peng-Lei","html_url":"https://github.com/Peng-Lei","followers_url":"https://api.github.com/users/Peng-Lei/followers","following_url":"https://api.github.com/users/Peng-Lei/following{/other_user}","gists_url":"https://api.github.com/users/Peng-Lei/gists{/gist_id}","starred_url":"https://api.github.com/users/Peng-Lei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Peng-Lei/subscriptions","organizations_url":"https://api.github.com/users/Peng-Lei/orgs","repos_url":"https://api.github.com/users/Peng-Lei/repos","events_url":"https://api.github.com/users/Peng-Lei/events{/privacy}","received_events_url":"https://api.github.com/users/Peng-Lei/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Peng-Lei/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/Peng-Lei/spark","forks_url":"https://api.github.com/repos/Peng-Lei/spark/forks","keys_url":"https://api.github.com/repos/Peng-Lei/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Peng-Lei/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Peng-Lei/spark/teams","hooks_url":"https://api.github.com/repos/Peng-Lei/spark/hooks","issue_events_url":"https://api.github.com/repos/Peng-Lei/spark/issues/events{/number}","events_url":"https://api.github.com/repos/Peng-Lei/spark/events","assignees_url":"https://api.github.com/repos/Peng-Lei/spark/assignees{/user}","branches_url":"https://api.github.com/repos/Peng-Lei/spark/branches{/branch}","tags_url":"https://api.github.com/repos/Peng-Lei/spark/tags","blobs_url":"https://api.github.com/repos/Peng-Lei/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Peng-Lei/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Peng-Lei/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/Peng-Lei/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Peng-Lei/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/Peng-Lei/spark/languages","stargazers_url":"https://api.github.com/repos/Peng-Lei/spark/stargazers","contributors_url":"https://api.github.com/repos/Peng-Lei/spark/contributors","subscribers_url":"https://api.github.com/repos/Peng-Lei/spark/subscribers","subscription_url":"https://api.github.com/repos/Peng-Lei/spark/subscription","commits_url":"https://api.github.com/repos/Peng-Lei/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/Peng-Lei/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/Peng-Lei/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/Peng-Lei/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/Peng-Lei/spark/contents/{+path}","compare_url":"https://api.github.com/repos/Peng-Lei/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Peng-Lei/spark/merges","archive_url":"https://api.github.com/repos/Peng-Lei/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Peng-Lei/spark/downloads","issues_url":"https://api.github.com/repos/Peng-Lei/spark/issues{/number}","pulls_url":"https://api.github.com/repos/Peng-Lei/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/Peng-Lei/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/Peng-Lei/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Peng-Lei/spark/labels{/name}","releases_url":"https://api.github.com/repos/Peng-Lei/spark/releases{/id}","deployments_url":"https://api.github.com/repos/Peng-Lei/spark/deployments","created_at":"2021-03-22T10:48:39Z","updated_at":"2022-01-06T02:14:06Z","pushed_at":"2022-02-24T07:07:46Z","git_url":"git://github.com/Peng-Lei/spark.git","ssh_url":"git@github.com:Peng-Lei/spark.git","clone_url":"https://github.com/Peng-Lei/spark.git","svn_url":"https://github.com/Peng-Lei/spark","homepage":"https://spark.apache.org/","size":401840,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"4f755772349117599d444579f04ecafb30cff092","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35351"},"html":{"href":"https://github.com/apache/spark/pull/35351"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35351"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35351/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35351/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35351/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/56b62b070a8ced9908454854d00f276b988a49c4"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35350","id":834126712,"node_id":"PR_kwDOAQXtWs4xt8N4","html_url":"https://github.com/apache/spark/pull/35350","diff_url":"https://github.com/apache/spark/pull/35350.diff","patch_url":"https://github.com/apache/spark/pull/35350.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35350","number":35350,"state":"closed","locked":false,"title":"[SPARK-38052][SQL] Refactor UnsafeRow#isFixedLength and UnsafeRow#isMutable use looping","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nMethods UnsafeRow#isFixedLength and UnsafeRow#isMutable use tail recursion now , this pr can refactor with looping, which will be considerably faster.\r\n\r\n\r\n\r\n### Why are the changes needed?\r\nReplace tail recursion with looping.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nPass GA","created_at":"2022-01-28T05:57:42Z","updated_at":"2023-10-22T07:44:15Z","closed_at":"2022-02-03T07:23:12Z","merged_at":null,"merge_commit_sha":"6fae490051324fbe386bffe7b01cf856fdf9e9a1","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35350/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35350/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35350/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/942bd39ea33021843f8e2a38cf646ce56dfd4570","head":{"label":"LuciferYang:SPARK-38052","ref":"SPARK-38052","sha":"942bd39ea33021843f8e2a38cf646ce56dfd4570","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"4f755772349117599d444579f04ecafb30cff092","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35350"},"html":{"href":"https://github.com/apache/spark/pull/35350"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35350"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35350/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35350/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35350/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/942bd39ea33021843f8e2a38cf646ce56dfd4570"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35349","id":834124650,"node_id":"PR_kwDOAQXtWs4xt7tq","html_url":"https://github.com/apache/spark/pull/35349","diff_url":"https://github.com/apache/spark/pull/35349.diff","patch_url":"https://github.com/apache/spark/pull/35349.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35349","number":35349,"state":"closed","locked":false,"title":"[SPARK-38051][R][DOCS] Update `Roxygen` reference to 7.1.2","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR aims to update `Roxygen` reference to 7.1.2 for Apache Spark 3.3.0.\r\n\r\n### Why are the changes needed?\r\n\r\n`Roxygen2` was 7.1.2 since 2021-09-08. So, this touches `R/pkg/DESCRIPTION` file when we build with `-Psparkr`. This PR removes this annoying situation by removing this version mismatch.\r\n- https://cran.r-project.org/web/packages/roxygen2/index.html\r\n\r\n```\r\n$ build/sbt -Psparkr compile\r\n$ git diff\r\ndiff --git a/R/pkg/DESCRIPTION b/R/pkg/DESCRIPTION\r\nindex 6b85bb758a..d147ff2b34 100644\r\n--- a/R/pkg/DESCRIPTION\r\n+++ b/R/pkg/DESCRIPTION\r\n@@ -60,7 +60,7 @@ Collate:\r\n     'types.R'\r\n     'utils.R'\r\n     'window.R'\r\n-RoxygenNote: 7.1.1\r\n+RoxygenNote: 7.1.2\r\n VignetteBuilder: knitr\r\n NeedsCompilation: no\r\n Encoding: UTF-8\r\n```\r\n\r\nWe have been using `7.1.2` already for testing.\r\n```\r\n$ docker run -it --rm dongjoon/apache-spark-github-action-image:20211228 Rscript -e 'installed.packages()' | grep roxygen2 | grep site-library\r\nroxygen2    \"roxygen2\"    \"/usr/local/lib/R/site-library\" \"7.1.2\"\r\n```\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nPass the CIs.","created_at":"2022-01-28T05:52:42Z","updated_at":"2022-01-28T07:21:32Z","closed_at":"2022-01-28T07:21:14Z","merged_at":null,"merge_commit_sha":"4f44237be54dde676220d393acd0a64288be4c07","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""},{"id":1984361638,"node_id":"MDU6TGFiZWwxOTg0MzYxNjM4","url":"https://api.github.com/repos/apache/spark/labels/R","name":"R","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35349/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35349/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35349/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/8bfb166fd34703bf2eb5fb9e9b0b79f708d36a96","head":{"label":"dongjoon-hyun:SPARK-38051","ref":"SPARK-38051","sha":"8bfb166fd34703bf2eb5fb9e9b0b79f708d36a96","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":null},"base":{"label":"apache:master","ref":"master","sha":"4f755772349117599d444579f04ecafb30cff092","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35349"},"html":{"href":"https://github.com/apache/spark/pull/35349"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35349"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35349/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35349/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35349/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/8bfb166fd34703bf2eb5fb9e9b0b79f708d36a96"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/35348","id":834111930,"node_id":"PR_kwDOAQXtWs4xt4m6","html_url":"https://github.com/apache/spark/pull/35348","diff_url":"https://github.com/apache/spark/pull/35348.diff","patch_url":"https://github.com/apache/spark/pull/35348.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/35348","number":35348,"state":"closed","locked":false,"title":"[WIP][SPARK-38035][SQL] Fix some issue of MySQLDialet.","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis PR just used to test.\r\n\r\n\r\n### Why are the changes needed?\r\nThis PR just used to test.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n'No'.\r\nThis PR just used to test.\r\n\r\n\r\n### How was this patch tested?\r\nNew tests.\r\n","created_at":"2022-01-28T05:20:04Z","updated_at":"2022-01-28T11:23:57Z","closed_at":"2022-01-28T11:23:57Z","merged_at":null,"merge_commit_sha":"7ec5c9ddec235f444b386bede934b1922603beb5","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/35348/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/35348/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/35348/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/d62f53d1312fa2e4bcb4962ba69f7d3050e45a11","head":{"label":"beliefer:SPARK-38035_test","ref":"SPARK-38035_test","sha":"d62f53d1312fa2e4bcb4962ba69f7d3050e45a11","user":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":237617513,"node_id":"MDEwOlJlcG9zaXRvcnkyMzc2MTc1MTM=","name":"spark","full_name":"beliefer/spark","private":false,"owner":{"login":"beliefer","id":8486025,"node_id":"MDQ6VXNlcjg0ODYwMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8486025?v=4","gravatar_id":"","url":"https://api.github.com/users/beliefer","html_url":"https://github.com/beliefer","followers_url":"https://api.github.com/users/beliefer/followers","following_url":"https://api.github.com/users/beliefer/following{/other_user}","gists_url":"https://api.github.com/users/beliefer/gists{/gist_id}","starred_url":"https://api.github.com/users/beliefer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliefer/subscriptions","organizations_url":"https://api.github.com/users/beliefer/orgs","repos_url":"https://api.github.com/users/beliefer/repos","events_url":"https://api.github.com/users/beliefer/events{/privacy}","received_events_url":"https://api.github.com/users/beliefer/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/beliefer/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/beliefer/spark","forks_url":"https://api.github.com/repos/beliefer/spark/forks","keys_url":"https://api.github.com/repos/beliefer/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/beliefer/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/beliefer/spark/teams","hooks_url":"https://api.github.com/repos/beliefer/spark/hooks","issue_events_url":"https://api.github.com/repos/beliefer/spark/issues/events{/number}","events_url":"https://api.github.com/repos/beliefer/spark/events","assignees_url":"https://api.github.com/repos/beliefer/spark/assignees{/user}","branches_url":"https://api.github.com/repos/beliefer/spark/branches{/branch}","tags_url":"https://api.github.com/repos/beliefer/spark/tags","blobs_url":"https://api.github.com/repos/beliefer/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/beliefer/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/beliefer/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/beliefer/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/beliefer/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/beliefer/spark/languages","stargazers_url":"https://api.github.com/repos/beliefer/spark/stargazers","contributors_url":"https://api.github.com/repos/beliefer/spark/contributors","subscribers_url":"https://api.github.com/repos/beliefer/spark/subscribers","subscription_url":"https://api.github.com/repos/beliefer/spark/subscription","commits_url":"https://api.github.com/repos/beliefer/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/beliefer/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/beliefer/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/beliefer/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/beliefer/spark/contents/{+path}","compare_url":"https://api.github.com/repos/beliefer/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/beliefer/spark/merges","archive_url":"https://api.github.com/repos/beliefer/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/beliefer/spark/downloads","issues_url":"https://api.github.com/repos/beliefer/spark/issues{/number}","pulls_url":"https://api.github.com/repos/beliefer/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/beliefer/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/beliefer/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/beliefer/spark/labels{/name}","releases_url":"https://api.github.com/repos/beliefer/spark/releases{/id}","deployments_url":"https://api.github.com/repos/beliefer/spark/deployments","created_at":"2020-02-01T13:17:08Z","updated_at":"2025-01-28T09:45:49Z","pushed_at":"2025-01-28T11:57:29Z","git_url":"git://github.com/beliefer/spark.git","ssh_url":"git@github.com:beliefer/spark.git","clone_url":"https://github.com/beliefer/spark.git","svn_url":"https://github.com/beliefer/spark","homepage":"","size":488033,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"4f755772349117599d444579f04ecafb30cff092","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/35348"},"html":{"href":"https://github.com/apache/spark/pull/35348"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/35348"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/35348/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/35348/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/35348/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/d62f53d1312fa2e4bcb4962ba69f7d3050e45a11"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null}]