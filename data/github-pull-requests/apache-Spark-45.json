[{"url":"https://api.github.com/repos/apache/spark/pulls/45453","id":1764616996,"node_id":"PR_kwDOAQXtWs5pLesk","html_url":"https://github.com/apache/spark/pull/45453","diff_url":"https://github.com/apache/spark/pull/45453.diff","patch_url":"https://github.com/apache/spark/pull/45453.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45453","number":45453,"state":"closed","locked":false,"title":"[SPARK-46840][SQL][TESTS]  Add `CollationBenchmark`","user":{"login":"GideonPotok","id":31429832,"node_id":"MDQ6VXNlcjMxNDI5ODMy","avatar_url":"https://avatars.githubusercontent.com/u/31429832?v=4","gravatar_id":"","url":"https://api.github.com/users/GideonPotok","html_url":"https://github.com/GideonPotok","followers_url":"https://api.github.com/users/GideonPotok/followers","following_url":"https://api.github.com/users/GideonPotok/following{/other_user}","gists_url":"https://api.github.com/users/GideonPotok/gists{/gist_id}","starred_url":"https://api.github.com/users/GideonPotok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GideonPotok/subscriptions","organizations_url":"https://api.github.com/users/GideonPotok/orgs","repos_url":"https://api.github.com/users/GideonPotok/repos","events_url":"https://api.github.com/users/GideonPotok/events{/privacy}","received_events_url":"https://api.github.com/users/GideonPotok/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n\r\n\r\nhttps://issues.apache.org/jira/browse/SPARK-46840\r\n  \r\n[Collation Support in Spark.docx](https://github.com/apache/spark/files/14551958/Collation.Support.in.Spark.docx)\r\n\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n\r\nWork is underway to introduce collation concept into Spark. There is a need to build out a benchmarking suite to allow engineers to address performance impact.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nGHA 'Run Benchmarks' ran on this, for both JDK 17 and JDK 21\r\n\r\nIn addition, both the author and @dbatomic tested locally on personal computers:\r\n`build/sbt \"sql/Test/runMain  org.apache.spark.sql.execution.benchmark.CollationBenchmark\"`\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo.\r\n","created_at":"2024-03-10T22:20:24Z","updated_at":"2024-04-29T14:09:35Z","closed_at":"2024-04-01T14:29:35Z","merged_at":null,"merge_commit_sha":"38e8023ef50145df5e412135b6ecfefd5bdd1796","assignee":null,"assignees":[],"requested_reviewers":[{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45453/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45453/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45453/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/dbe303c245ce6a986f53e9351b0be17b650335c5","head":{"label":"GideonPotok:spark_46840","ref":"spark_46840","sha":"dbe303c245ce6a986f53e9351b0be17b650335c5","user":{"login":"GideonPotok","id":31429832,"node_id":"MDQ6VXNlcjMxNDI5ODMy","avatar_url":"https://avatars.githubusercontent.com/u/31429832?v=4","gravatar_id":"","url":"https://api.github.com/users/GideonPotok","html_url":"https://github.com/GideonPotok","followers_url":"https://api.github.com/users/GideonPotok/followers","following_url":"https://api.github.com/users/GideonPotok/following{/other_user}","gists_url":"https://api.github.com/users/GideonPotok/gists{/gist_id}","starred_url":"https://api.github.com/users/GideonPotok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GideonPotok/subscriptions","organizations_url":"https://api.github.com/users/GideonPotok/orgs","repos_url":"https://api.github.com/users/GideonPotok/repos","events_url":"https://api.github.com/users/GideonPotok/events{/privacy}","received_events_url":"https://api.github.com/users/GideonPotok/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":767539947,"node_id":"R_kgDOLb-66w","name":"spark","full_name":"GideonPotok/spark","private":false,"owner":{"login":"GideonPotok","id":31429832,"node_id":"MDQ6VXNlcjMxNDI5ODMy","avatar_url":"https://avatars.githubusercontent.com/u/31429832?v=4","gravatar_id":"","url":"https://api.github.com/users/GideonPotok","html_url":"https://github.com/GideonPotok","followers_url":"https://api.github.com/users/GideonPotok/followers","following_url":"https://api.github.com/users/GideonPotok/following{/other_user}","gists_url":"https://api.github.com/users/GideonPotok/gists{/gist_id}","starred_url":"https://api.github.com/users/GideonPotok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GideonPotok/subscriptions","organizations_url":"https://api.github.com/users/GideonPotok/orgs","repos_url":"https://api.github.com/users/GideonPotok/repos","events_url":"https://api.github.com/users/GideonPotok/events{/privacy}","received_events_url":"https://api.github.com/users/GideonPotok/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/GideonPotok/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/GideonPotok/spark","forks_url":"https://api.github.com/repos/GideonPotok/spark/forks","keys_url":"https://api.github.com/repos/GideonPotok/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/GideonPotok/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/GideonPotok/spark/teams","hooks_url":"https://api.github.com/repos/GideonPotok/spark/hooks","issue_events_url":"https://api.github.com/repos/GideonPotok/spark/issues/events{/number}","events_url":"https://api.github.com/repos/GideonPotok/spark/events","assignees_url":"https://api.github.com/repos/GideonPotok/spark/assignees{/user}","branches_url":"https://api.github.com/repos/GideonPotok/spark/branches{/branch}","tags_url":"https://api.github.com/repos/GideonPotok/spark/tags","blobs_url":"https://api.github.com/repos/GideonPotok/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/GideonPotok/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/GideonPotok/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/GideonPotok/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/GideonPotok/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/GideonPotok/spark/languages","stargazers_url":"https://api.github.com/repos/GideonPotok/spark/stargazers","contributors_url":"https://api.github.com/repos/GideonPotok/spark/contributors","subscribers_url":"https://api.github.com/repos/GideonPotok/spark/subscribers","subscription_url":"https://api.github.com/repos/GideonPotok/spark/subscription","commits_url":"https://api.github.com/repos/GideonPotok/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/GideonPotok/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/GideonPotok/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/GideonPotok/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/GideonPotok/spark/contents/{+path}","compare_url":"https://api.github.com/repos/GideonPotok/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/GideonPotok/spark/merges","archive_url":"https://api.github.com/repos/GideonPotok/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/GideonPotok/spark/downloads","issues_url":"https://api.github.com/repos/GideonPotok/spark/issues{/number}","pulls_url":"https://api.github.com/repos/GideonPotok/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/GideonPotok/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/GideonPotok/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/GideonPotok/spark/labels{/name}","releases_url":"https://api.github.com/repos/GideonPotok/spark/releases{/id}","deployments_url":"https://api.github.com/repos/GideonPotok/spark/deployments","created_at":"2024-03-05T13:32:02Z","updated_at":"2024-09-10T22:30:49Z","pushed_at":"2024-09-30T13:02:07Z","git_url":"git://github.com/GideonPotok/spark.git","ssh_url":"git@github.com:GideonPotok/spark.git","clone_url":"https://github.com/GideonPotok/spark.git","svn_url":"https://github.com/GideonPotok/spark","homepage":"https://spark.apache.org/","size":407104,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"8d1539f7bb2319b746433067ab876754384246c2","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45453"},"html":{"href":"https://github.com/apache/spark/pull/45453"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45453"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45453/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45453/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45453/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/dbe303c245ce6a986f53e9351b0be17b650335c5"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45452","id":1764422495,"node_id":"PR_kwDOAQXtWs5pKvNf","html_url":"https://github.com/apache/spark/pull/45452","diff_url":"https://github.com/apache/spark/pull/45452.diff","patch_url":"https://github.com/apache/spark/pull/45452.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45452","number":45452,"state":"closed","locked":false,"title":"[SPARK-47335][BUILD] Upgrade `mvn-scalafmt` to `1.1.1684076452.9f83818` & `scalafmt` to `3.8.0`","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to upgrade `mvn-scalafmt` from `1.1.1640084764.9f463a9` to `1.1.1684076452.9f83818`.\r\n\r\n### Why are the changes needed?\r\n- mvn-scalafmt\r\n  The last `mvn-scalafmt` upgrade occurred 1 year ago, https://github.com/apache/spark/pull/37727\r\n  The latest version of `mvn-scalafmt`  release notes: https://github.com/SimonJPegg/mvn_scalafmt/releases/tag/2.13-1.1.1684076452.9f83818\r\n\r\n- scalafmt\r\n  The latest version of `scalafmt`  release notes: https://github.com/scalameta/scalafmt/releases/tag/v3.8.0\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\n- Manually test.\r\n```\r\n./build/mvn scalafmt:format -Dscalafmt.skip=false\r\n\r\n...\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  2.216 s\r\n[INFO] Finished at: 2024-03-10T20:30:11+08:00\r\n[INFO] ------------------------------------------------------------------------\r\n\r\n```\r\n\r\n```\r\n./dev/scalafmt\r\n\r\n...\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  01:56 min\r\n[INFO] Finished at: 2024-03-10T20:19:46+08:00\r\n[INFO] ------------------------------------------------------------------------\r\n\r\n```\r\n- Pass GA.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-03-10T12:25:47Z","updated_at":"2024-03-12T14:32:21Z","closed_at":"2024-03-12T14:32:21Z","merged_at":null,"merge_commit_sha":"8cd26459c91f99fd5c2c1cc5b142d0bd6b34c3cc","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45452/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45452/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45452/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/392a5f3980907d3e73e1060e5c1066a32ca6bfee","head":{"label":"panbingkun:SPARK-47335","ref":"SPARK-47335","sha":"392a5f3980907d3e73e1060e5c1066a32ca6bfee","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"76b1c122cb7d77e8f175b25b935b9296a669d5d8","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45452"},"html":{"href":"https://github.com/apache/spark/pull/45452"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45452"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45452/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45452/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45452/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/392a5f3980907d3e73e1060e5c1066a32ca6bfee"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45451","id":1764411321,"node_id":"PR_kwDOAQXtWs5pKse5","html_url":"https://github.com/apache/spark/pull/45451","diff_url":"https://github.com/apache/spark/pull/45451.diff","patch_url":"https://github.com/apache/spark/pull/45451.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45451","number":45451,"state":"closed","locked":false,"title":"[SPARK-47339][BUILD] Upgrade checkStyle to `10.14.0`","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to upgrade checkStyle from `9.3` to `10.14.0`.\r\n\r\n### Why are the changes needed?\r\n- In Spark 4.0, our JDK version has been upgraded to `JDK17` (no longer supporting `JDK1.8`), so this obstacle has been eliminated, and we can upgrade the version of `checkStyle` to the `10.x`.\r\n  <img width=\"1136\" alt=\"image\" src=\"https://github.com/apache/spark/assets/15246973/1311edb3-ced9-4f19-948a-c6d1bf5d96eb\">\r\n  https://checkstyle.sourceforge.io/index.html\r\n\r\n- The full release notes:\r\n  v10.14.0: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.14.0\r\n  v10.13.0: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.13.0\r\n  v10.12.7: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.12.7\r\n  v10.12.6: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.12.6\r\n  v10.12.5: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.12.5\r\n  v10.12.4: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.12.4\r\n  v10.12.3: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.12.3\r\n  v10.12.2: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.12.2\r\n  v10.12.1: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.12.1\r\n  v10.12.0: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.12.0\r\n  v10.11.0: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.11.0\r\n  v10.10.0: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.10.0\r\n  v10.9.3: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.9.3\r\n  v10.9.2: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.9.2\r\n  v10.9.1: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.9.1\r\n  v10.9.0: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.9.0\r\n  v10.8.1: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.8.1\r\n  v10.8.0: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.8.0\r\n  v10.7.0: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.7.0\r\n  v10.6.0: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.6.0\r\n  v10.5.0: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.5.0\r\n  v10.4: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.4\r\n  v10.3.4: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.3.4\r\n  v10.3.3: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.3.3\r\n  v10.3.2: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.3.2\r\n  v10.3.1: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.3.1\r\n  v10.3: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.3\r\n  v10.2: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.2\r\n  v10.1: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.1\r\n  v10.0: https://checkstyle.sourceforge.io/releasenotes.html#Release_10.0\r\n\r\n- The last upgrade happened 1.5 years ago: https://github.com/apache/spark/pull/37506\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\n- Manually test:\r\n```\r\n./dev/lint-java\r\n./dev/sbt-checkstyle\r\n\r\n```\r\n\r\n- Pass GA.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-03-10T11:50:08Z","updated_at":"2024-03-11T18:04:22Z","closed_at":"2024-03-11T18:03:58Z","merged_at":null,"merge_commit_sha":"ac2e0c479965e04a68a4bd16ee7e1630c310b59e","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45451/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45451/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45451/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/a7d9c637c8edc70c263abdb9fe8f7f43e42babdf","head":{"label":"panbingkun:upgrade_checkstyle","ref":"upgrade_checkstyle","sha":"a7d9c637c8edc70c263abdb9fe8f7f43e42babdf","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"76b1c122cb7d77e8f175b25b935b9296a669d5d8","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45451"},"html":{"href":"https://github.com/apache/spark/pull/45451"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45451"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45451/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45451/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45451/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/a7d9c637c8edc70c263abdb9fe8f7f43e42babdf"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45450","id":1764020515,"node_id":"PR_kwDOAQXtWs5pJNEj","html_url":"https://github.com/apache/spark/pull/45450","diff_url":"https://github.com/apache/spark/pull/45450.diff","patch_url":"https://github.com/apache/spark/pull/45450.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45450","number":45450,"state":"closed","locked":false,"title":"[SPARK-47334][SQL]  Make `withColumnRenamed` reuse the implementation of `withColumnsRenamed`","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nMake `withColumnRenamed` reuse the implementation of `withColumnsRenamed`\r\n\r\n\r\n### Why are the changes needed?\r\nto avoid any divergence in the future\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nno\r\n\r\n\r\n### How was this patch tested?\r\nci\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nno","created_at":"2024-03-09T12:01:06Z","updated_at":"2024-03-11T02:40:55Z","closed_at":"2024-03-11T00:06:24Z","merged_at":null,"merge_commit_sha":"551765a2ff74b4886ba433d0b926df014983ad1a","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45450/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45450/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45450/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/325255f75d42cdf466ed6eee46bb74e6d6e8c006","head":{"label":"zhengruifeng:with_rename_consistent","ref":"with_rename_consistent","sha":"325255f75d42cdf466ed6eee46bb74e6d6e8c006","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":51584791,"node_id":"MDEwOlJlcG9zaXRvcnk1MTU4NDc5MQ==","name":"spark","full_name":"zhengruifeng/spark","private":false,"owner":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhengruifeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zhengruifeng/spark","forks_url":"https://api.github.com/repos/zhengruifeng/spark/forks","keys_url":"https://api.github.com/repos/zhengruifeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhengruifeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhengruifeng/spark/teams","hooks_url":"https://api.github.com/repos/zhengruifeng/spark/hooks","issue_events_url":"https://api.github.com/repos/zhengruifeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhengruifeng/spark/events","assignees_url":"https://api.github.com/repos/zhengruifeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhengruifeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhengruifeng/spark/tags","blobs_url":"https://api.github.com/repos/zhengruifeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhengruifeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhengruifeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhengruifeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhengruifeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhengruifeng/spark/languages","stargazers_url":"https://api.github.com/repos/zhengruifeng/spark/stargazers","contributors_url":"https://api.github.com/repos/zhengruifeng/spark/contributors","subscribers_url":"https://api.github.com/repos/zhengruifeng/spark/subscribers","subscription_url":"https://api.github.com/repos/zhengruifeng/spark/subscription","commits_url":"https://api.github.com/repos/zhengruifeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhengruifeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhengruifeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhengruifeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhengruifeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhengruifeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhengruifeng/spark/merges","archive_url":"https://api.github.com/repos/zhengruifeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhengruifeng/spark/downloads","issues_url":"https://api.github.com/repos/zhengruifeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhengruifeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhengruifeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhengruifeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhengruifeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhengruifeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhengruifeng/spark/deployments","created_at":"2016-02-12T11:58:00Z","updated_at":"2025-02-09T01:55:22Z","pushed_at":"2025-02-09T01:55:17Z","git_url":"git://github.com/zhengruifeng/spark.git","ssh_url":"git@github.com:zhengruifeng/spark.git","clone_url":"https://github.com/zhengruifeng/spark.git","svn_url":"https://github.com/zhengruifeng/spark","homepage":null,"size":434785,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"76b1c122cb7d77e8f175b25b935b9296a669d5d8","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45450"},"html":{"href":"https://github.com/apache/spark/pull/45450"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45450"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45450/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45450/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45450/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/325255f75d42cdf466ed6eee46bb74e6d6e8c006"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45449","id":1763847931,"node_id":"PR_kwDOAQXtWs5pIi77","html_url":"https://github.com/apache/spark/pull/45449","diff_url":"https://github.com/apache/spark/pull/45449.diff","patch_url":"https://github.com/apache/spark/pull/45449.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45449","number":45449,"state":"closed","locked":false,"title":"[SPARK-47200][SS] Make Foreach batch sink user function error handling backward compatible","user":{"login":"micheal-o","id":22627292,"node_id":"MDQ6VXNlcjIyNjI3Mjky","avatar_url":"https://avatars.githubusercontent.com/u/22627292?v=4","gravatar_id":"","url":"https://api.github.com/users/micheal-o","html_url":"https://github.com/micheal-o","followers_url":"https://api.github.com/users/micheal-o/followers","following_url":"https://api.github.com/users/micheal-o/following{/other_user}","gists_url":"https://api.github.com/users/micheal-o/gists{/gist_id}","starred_url":"https://api.github.com/users/micheal-o/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/micheal-o/subscriptions","organizations_url":"https://api.github.com/users/micheal-o/orgs","repos_url":"https://api.github.com/users/micheal-o/repos","events_url":"https://api.github.com/users/micheal-o/events{/privacy}","received_events_url":"https://api.github.com/users/micheal-o/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nI checked in a previous PR (https://github.com/apache/spark/pull/45299), that handles and classifies exceptions thrown in user provided functions for foreach batch sink. This change is to make it backward compatible in order not to break current users, since users may be depending on getting the user code error from the `StreamingQueryException.cause` instead of `StreamingQueryException.cause.cause`\r\n\r\n\r\n### Why are the changes needed?\r\nTo prevent breaking existing usage pattern.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, better error message with error class for ForeachBatchSink user function failures.\r\n\r\n### How was this patch tested?\r\nupdated existing tests\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo\r\n","created_at":"2024-03-09T01:35:17Z","updated_at":"2024-03-10T23:45:57Z","closed_at":"2024-03-10T23:44:36Z","merged_at":null,"merge_commit_sha":"a5b4fc878167e1f5ffafb35195bcc4d6c6069abf","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45449/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45449/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45449/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/72281632a1ec7cc1951a756f95510cf14fd364ab","head":{"label":"micheal-o:ForeachBatchExBackwardCompat","ref":"ForeachBatchExBackwardCompat","sha":"72281632a1ec7cc1951a756f95510cf14fd364ab","user":{"login":"micheal-o","id":22627292,"node_id":"MDQ6VXNlcjIyNjI3Mjky","avatar_url":"https://avatars.githubusercontent.com/u/22627292?v=4","gravatar_id":"","url":"https://api.github.com/users/micheal-o","html_url":"https://github.com/micheal-o","followers_url":"https://api.github.com/users/micheal-o/followers","following_url":"https://api.github.com/users/micheal-o/following{/other_user}","gists_url":"https://api.github.com/users/micheal-o/gists{/gist_id}","starred_url":"https://api.github.com/users/micheal-o/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/micheal-o/subscriptions","organizations_url":"https://api.github.com/users/micheal-o/orgs","repos_url":"https://api.github.com/users/micheal-o/repos","events_url":"https://api.github.com/users/micheal-o/events{/privacy}","received_events_url":"https://api.github.com/users/micheal-o/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":761922210,"node_id":"R_kgDOLWoCog","name":"spark","full_name":"micheal-o/spark","private":false,"owner":{"login":"micheal-o","id":22627292,"node_id":"MDQ6VXNlcjIyNjI3Mjky","avatar_url":"https://avatars.githubusercontent.com/u/22627292?v=4","gravatar_id":"","url":"https://api.github.com/users/micheal-o","html_url":"https://github.com/micheal-o","followers_url":"https://api.github.com/users/micheal-o/followers","following_url":"https://api.github.com/users/micheal-o/following{/other_user}","gists_url":"https://api.github.com/users/micheal-o/gists{/gist_id}","starred_url":"https://api.github.com/users/micheal-o/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/micheal-o/subscriptions","organizations_url":"https://api.github.com/users/micheal-o/orgs","repos_url":"https://api.github.com/users/micheal-o/repos","events_url":"https://api.github.com/users/micheal-o/events{/privacy}","received_events_url":"https://api.github.com/users/micheal-o/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/micheal-o/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/micheal-o/spark","forks_url":"https://api.github.com/repos/micheal-o/spark/forks","keys_url":"https://api.github.com/repos/micheal-o/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/micheal-o/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/micheal-o/spark/teams","hooks_url":"https://api.github.com/repos/micheal-o/spark/hooks","issue_events_url":"https://api.github.com/repos/micheal-o/spark/issues/events{/number}","events_url":"https://api.github.com/repos/micheal-o/spark/events","assignees_url":"https://api.github.com/repos/micheal-o/spark/assignees{/user}","branches_url":"https://api.github.com/repos/micheal-o/spark/branches{/branch}","tags_url":"https://api.github.com/repos/micheal-o/spark/tags","blobs_url":"https://api.github.com/repos/micheal-o/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/micheal-o/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/micheal-o/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/micheal-o/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/micheal-o/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/micheal-o/spark/languages","stargazers_url":"https://api.github.com/repos/micheal-o/spark/stargazers","contributors_url":"https://api.github.com/repos/micheal-o/spark/contributors","subscribers_url":"https://api.github.com/repos/micheal-o/spark/subscribers","subscription_url":"https://api.github.com/repos/micheal-o/spark/subscription","commits_url":"https://api.github.com/repos/micheal-o/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/micheal-o/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/micheal-o/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/micheal-o/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/micheal-o/spark/contents/{+path}","compare_url":"https://api.github.com/repos/micheal-o/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/micheal-o/spark/merges","archive_url":"https://api.github.com/repos/micheal-o/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/micheal-o/spark/downloads","issues_url":"https://api.github.com/repos/micheal-o/spark/issues{/number}","pulls_url":"https://api.github.com/repos/micheal-o/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/micheal-o/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/micheal-o/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/micheal-o/spark/labels{/name}","releases_url":"https://api.github.com/repos/micheal-o/spark/releases{/id}","deployments_url":"https://api.github.com/repos/micheal-o/spark/deployments","created_at":"2024-02-22T18:32:36Z","updated_at":"2024-12-07T00:48:47Z","pushed_at":"2025-02-04T03:07:53Z","git_url":"git://github.com/micheal-o/spark.git","ssh_url":"git@github.com:micheal-o/spark.git","clone_url":"https://github.com/micheal-o/spark.git","svn_url":"https://github.com/micheal-o/spark","homepage":"https://spark.apache.org/","size":416092,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"76b1c122cb7d77e8f175b25b935b9296a669d5d8","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45449"},"html":{"href":"https://github.com/apache/spark/pull/45449"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45449"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45449/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45449/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45449/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/72281632a1ec7cc1951a756f95510cf14fd364ab"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45448","id":1763837818,"node_id":"PR_kwDOAQXtWs5pIgd6","html_url":"https://github.com/apache/spark/pull/45448","diff_url":"https://github.com/apache/spark/pull/45448.diff","patch_url":"https://github.com/apache/spark/pull/45448.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45448","number":45448,"state":"closed","locked":false,"title":"[SPARK-47332][SS][Connect] Remove not needed logic in PythonStreamingRunner","user":{"login":"WweiL","id":10248890,"node_id":"MDQ6VXNlcjEwMjQ4ODkw","avatar_url":"https://avatars.githubusercontent.com/u/10248890?v=4","gravatar_id":"","url":"https://api.github.com/users/WweiL","html_url":"https://github.com/WweiL","followers_url":"https://api.github.com/users/WweiL/followers","following_url":"https://api.github.com/users/WweiL/following{/other_user}","gists_url":"https://api.github.com/users/WweiL/gists{/gist_id}","starred_url":"https://api.github.com/users/WweiL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WweiL/subscriptions","organizations_url":"https://api.github.com/users/WweiL/orgs","repos_url":"https://api.github.com/users/WweiL/repos","events_url":"https://api.github.com/users/WweiL/events{/privacy}","received_events_url":"https://api.github.com/users/WweiL/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nFollow up of the discussion here: https://github.com/apache/spark/pull/45023#discussion_r1516609093\r\nClean up the logic in `PythonStreamingRunner`. `workerFactory.createSimpleWorker` already creates a non-daemon python process, so there is no need to set and reset the Spark Conf.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nCode logic clean up.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nExisting tests should do their job\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo","created_at":"2024-03-09T01:09:23Z","updated_at":"2024-03-12T03:56:38Z","closed_at":"2024-03-12T03:56:37Z","merged_at":null,"merge_commit_sha":"0539cf309bb068bdaa28324b2b876e9f49971dea","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45448/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45448/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45448/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/37e1644bed3167209bef10122ab5addc17850eed","head":{"label":"WweiL:SPARK-47332-streaming-python-runner-redundant","ref":"SPARK-47332-streaming-python-runner-redundant","sha":"37e1644bed3167209bef10122ab5addc17850eed","user":{"login":"WweiL","id":10248890,"node_id":"MDQ6VXNlcjEwMjQ4ODkw","avatar_url":"https://avatars.githubusercontent.com/u/10248890?v=4","gravatar_id":"","url":"https://api.github.com/users/WweiL","html_url":"https://github.com/WweiL","followers_url":"https://api.github.com/users/WweiL/followers","following_url":"https://api.github.com/users/WweiL/following{/other_user}","gists_url":"https://api.github.com/users/WweiL/gists{/gist_id}","starred_url":"https://api.github.com/users/WweiL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WweiL/subscriptions","organizations_url":"https://api.github.com/users/WweiL/orgs","repos_url":"https://api.github.com/users/WweiL/repos","events_url":"https://api.github.com/users/WweiL/events{/privacy}","received_events_url":"https://api.github.com/users/WweiL/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":538656848,"node_id":"R_kgDOIBtAUA","name":"oss-spark","full_name":"WweiL/oss-spark","private":false,"owner":{"login":"WweiL","id":10248890,"node_id":"MDQ6VXNlcjEwMjQ4ODkw","avatar_url":"https://avatars.githubusercontent.com/u/10248890?v=4","gravatar_id":"","url":"https://api.github.com/users/WweiL","html_url":"https://github.com/WweiL","followers_url":"https://api.github.com/users/WweiL/followers","following_url":"https://api.github.com/users/WweiL/following{/other_user}","gists_url":"https://api.github.com/users/WweiL/gists{/gist_id}","starred_url":"https://api.github.com/users/WweiL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WweiL/subscriptions","organizations_url":"https://api.github.com/users/WweiL/orgs","repos_url":"https://api.github.com/users/WweiL/repos","events_url":"https://api.github.com/users/WweiL/events{/privacy}","received_events_url":"https://api.github.com/users/WweiL/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/WweiL/oss-spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/WweiL/oss-spark","forks_url":"https://api.github.com/repos/WweiL/oss-spark/forks","keys_url":"https://api.github.com/repos/WweiL/oss-spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/WweiL/oss-spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/WweiL/oss-spark/teams","hooks_url":"https://api.github.com/repos/WweiL/oss-spark/hooks","issue_events_url":"https://api.github.com/repos/WweiL/oss-spark/issues/events{/number}","events_url":"https://api.github.com/repos/WweiL/oss-spark/events","assignees_url":"https://api.github.com/repos/WweiL/oss-spark/assignees{/user}","branches_url":"https://api.github.com/repos/WweiL/oss-spark/branches{/branch}","tags_url":"https://api.github.com/repos/WweiL/oss-spark/tags","blobs_url":"https://api.github.com/repos/WweiL/oss-spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/WweiL/oss-spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/WweiL/oss-spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/WweiL/oss-spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/WweiL/oss-spark/statuses/{sha}","languages_url":"https://api.github.com/repos/WweiL/oss-spark/languages","stargazers_url":"https://api.github.com/repos/WweiL/oss-spark/stargazers","contributors_url":"https://api.github.com/repos/WweiL/oss-spark/contributors","subscribers_url":"https://api.github.com/repos/WweiL/oss-spark/subscribers","subscription_url":"https://api.github.com/repos/WweiL/oss-spark/subscription","commits_url":"https://api.github.com/repos/WweiL/oss-spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/WweiL/oss-spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/WweiL/oss-spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/WweiL/oss-spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/WweiL/oss-spark/contents/{+path}","compare_url":"https://api.github.com/repos/WweiL/oss-spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/WweiL/oss-spark/merges","archive_url":"https://api.github.com/repos/WweiL/oss-spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/WweiL/oss-spark/downloads","issues_url":"https://api.github.com/repos/WweiL/oss-spark/issues{/number}","pulls_url":"https://api.github.com/repos/WweiL/oss-spark/pulls{/number}","milestones_url":"https://api.github.com/repos/WweiL/oss-spark/milestones{/number}","notifications_url":"https://api.github.com/repos/WweiL/oss-spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/WweiL/oss-spark/labels{/name}","releases_url":"https://api.github.com/repos/WweiL/oss-spark/releases{/id}","deployments_url":"https://api.github.com/repos/WweiL/oss-spark/deployments","created_at":"2022-09-19T19:05:16Z","updated_at":"2022-09-19T22:58:14Z","pushed_at":"2025-02-05T00:30:37Z","git_url":"git://github.com/WweiL/oss-spark.git","ssh_url":"git@github.com:WweiL/oss-spark.git","clone_url":"https://github.com/WweiL/oss-spark.git","svn_url":"https://github.com/WweiL/oss-spark","homepage":"https://spark.apache.org/","size":431552,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"76b1c122cb7d77e8f175b25b935b9296a669d5d8","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45448"},"html":{"href":"https://github.com/apache/spark/pull/45448"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45448"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45448/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45448/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45448/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/37e1644bed3167209bef10122ab5addc17850eed"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45447","id":1763779462,"node_id":"PR_kwDOAQXtWs5pISOG","html_url":"https://github.com/apache/spark/pull/45447","diff_url":"https://github.com/apache/spark/pull/45447.diff","patch_url":"https://github.com/apache/spark/pull/45447.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45447","number":45447,"state":"closed","locked":false,"title":"[SS][SPARK-47331] Serialization using case classes/primitives/POJO based on SQL encoder for Arbitrary State API v2.","user":{"login":"jingz-db","id":135738831,"node_id":"U_kgDOCBc1zw","avatar_url":"https://avatars.githubusercontent.com/u/135738831?v=4","gravatar_id":"","url":"https://api.github.com/users/jingz-db","html_url":"https://github.com/jingz-db","followers_url":"https://api.github.com/users/jingz-db/followers","following_url":"https://api.github.com/users/jingz-db/following{/other_user}","gists_url":"https://api.github.com/users/jingz-db/gists{/gist_id}","starred_url":"https://api.github.com/users/jingz-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jingz-db/subscriptions","organizations_url":"https://api.github.com/users/jingz-db/orgs","repos_url":"https://api.github.com/users/jingz-db/repos","events_url":"https://api.github.com/users/jingz-db/events{/privacy}","received_events_url":"https://api.github.com/users/jingz-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nIn the new operator for arbitrary state-v2, we cannot rely on the session/encoder being available since the initialization for the various state instances happens on the executors. Hence, for the state serialization, we propose to let user explicitly pass in encoder for state variable and serialize primitives/case classes/POJO with SQL encoder. Leveraging SQL encoder can speed up the serialization.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nThese changes are needed for providing a dedicated serializer for state-v2. \r\nThe changes are part of the work around adding new stateful streaming operator for arbitrary state mgmt that provides a bunch of new features listed in the SPIP JIRA here - https://issues.apache.org/jira/browse/SPARK-45939\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nUsers will need to specify the SQL encoder for their state variable:\r\n`def getValueState[T](stateName: String, valEncoder: Encoder[T]): ValueState[T]`\r\n`def getListState[T](stateName: String, valEncoder: Encoder[T]): ListState[T]`\r\n\r\nFor primitive type, Encoder is something as: `Encoders.scalaLong`; for case class, `Encoders.product[CaseClass]`; for POJO, `Encoders.bean(classOf[POJOClass])`\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUnit tests for primitives, case classes, POJO separately in `ValueStateSuite`\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo","created_at":"2024-03-08T23:25:10Z","updated_at":"2024-03-14T21:30:16Z","closed_at":"2024-03-11T00:20:50Z","merged_at":null,"merge_commit_sha":"80e154837e2fbaa22fa45bdad03027a0a7d295c7","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45447/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45447/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45447/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/002f6b7878b02fa245ac8860a3bc11177d779bf3","head":{"label":"jingz-db:sql-encoder-state-v2","ref":"sql-encoder-state-v2","sha":"002f6b7878b02fa245ac8860a3bc11177d779bf3","user":{"login":"jingz-db","id":135738831,"node_id":"U_kgDOCBc1zw","avatar_url":"https://avatars.githubusercontent.com/u/135738831?v=4","gravatar_id":"","url":"https://api.github.com/users/jingz-db","html_url":"https://github.com/jingz-db","followers_url":"https://api.github.com/users/jingz-db/followers","following_url":"https://api.github.com/users/jingz-db/following{/other_user}","gists_url":"https://api.github.com/users/jingz-db/gists{/gist_id}","starred_url":"https://api.github.com/users/jingz-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jingz-db/subscriptions","organizations_url":"https://api.github.com/users/jingz-db/orgs","repos_url":"https://api.github.com/users/jingz-db/repos","events_url":"https://api.github.com/users/jingz-db/events{/privacy}","received_events_url":"https://api.github.com/users/jingz-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":736773162,"node_id":"R_kgDOK-pEKg","name":"spark","full_name":"jingz-db/spark","private":false,"owner":{"login":"jingz-db","id":135738831,"node_id":"U_kgDOCBc1zw","avatar_url":"https://avatars.githubusercontent.com/u/135738831?v=4","gravatar_id":"","url":"https://api.github.com/users/jingz-db","html_url":"https://github.com/jingz-db","followers_url":"https://api.github.com/users/jingz-db/followers","following_url":"https://api.github.com/users/jingz-db/following{/other_user}","gists_url":"https://api.github.com/users/jingz-db/gists{/gist_id}","starred_url":"https://api.github.com/users/jingz-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jingz-db/subscriptions","organizations_url":"https://api.github.com/users/jingz-db/orgs","repos_url":"https://api.github.com/users/jingz-db/repos","events_url":"https://api.github.com/users/jingz-db/events{/privacy}","received_events_url":"https://api.github.com/users/jingz-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/jingz-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/jingz-db/spark","forks_url":"https://api.github.com/repos/jingz-db/spark/forks","keys_url":"https://api.github.com/repos/jingz-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/jingz-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/jingz-db/spark/teams","hooks_url":"https://api.github.com/repos/jingz-db/spark/hooks","issue_events_url":"https://api.github.com/repos/jingz-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/jingz-db/spark/events","assignees_url":"https://api.github.com/repos/jingz-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/jingz-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/jingz-db/spark/tags","blobs_url":"https://api.github.com/repos/jingz-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/jingz-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/jingz-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/jingz-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/jingz-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/jingz-db/spark/languages","stargazers_url":"https://api.github.com/repos/jingz-db/spark/stargazers","contributors_url":"https://api.github.com/repos/jingz-db/spark/contributors","subscribers_url":"https://api.github.com/repos/jingz-db/spark/subscribers","subscription_url":"https://api.github.com/repos/jingz-db/spark/subscription","commits_url":"https://api.github.com/repos/jingz-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/jingz-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/jingz-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/jingz-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/jingz-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/jingz-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/jingz-db/spark/merges","archive_url":"https://api.github.com/repos/jingz-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/jingz-db/spark/downloads","issues_url":"https://api.github.com/repos/jingz-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/jingz-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/jingz-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/jingz-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/jingz-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/jingz-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/jingz-db/spark/deployments","created_at":"2023-12-28T20:47:19Z","updated_at":"2025-02-07T21:14:01Z","pushed_at":"2025-02-07T21:13:50Z","git_url":"git://github.com/jingz-db/spark.git","ssh_url":"git@github.com:jingz-db/spark.git","clone_url":"https://github.com/jingz-db/spark.git","svn_url":"https://github.com/jingz-db/spark","homepage":"https://spark.apache.org/","size":425281,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"76b1c122cb7d77e8f175b25b935b9296a669d5d8","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45447"},"html":{"href":"https://github.com/apache/spark/pull/45447"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45447"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45447/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45447/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45447/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/002f6b7878b02fa245ac8860a3bc11177d779bf3"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45446","id":1763756491,"node_id":"PR_kwDOAQXtWs5pIMnL","html_url":"https://github.com/apache/spark/pull/45446","diff_url":"https://github.com/apache/spark/pull/45446.diff","patch_url":"https://github.com/apache/spark/pull/45446.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45446","number":45446,"state":"closed","locked":false,"title":"[SPARK-47320][SQL] : The behaviour of Datasets involving self joins is inconsistent, unintuitive, with contradictions","user":{"login":"ahshahid","id":12415848,"node_id":"MDQ6VXNlcjEyNDE1ODQ4","avatar_url":"https://avatars.githubusercontent.com/u/12415848?v=4","gravatar_id":"","url":"https://api.github.com/users/ahshahid","html_url":"https://github.com/ahshahid","followers_url":"https://api.github.com/users/ahshahid/followers","following_url":"https://api.github.com/users/ahshahid/following{/other_user}","gists_url":"https://api.github.com/users/ahshahid/gists{/gist_id}","starred_url":"https://api.github.com/users/ahshahid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahshahid/subscriptions","organizations_url":"https://api.github.com/users/ahshahid/orgs","repos_url":"https://api.github.com/users/ahshahid/repos","events_url":"https://api.github.com/users/ahshahid/events{/privacy}","received_events_url":"https://api.github.com/users/ahshahid/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe basis of the change is to distinguish and resolve the ambiguity based on the Dataset from which column is extracted  by the user, instead of ExprIds.\r\nThat will result in a consistent and intuitive behaviour and also logically correct. \r\nCurrent code is mixing the resolution basis as sometimes using ExprId and sometimes indirectly using DataSet Id.\r\nThis PR used DataSet Id present in AttributeReference's metadata to see if ambiguity can be resolved logically / sensibly by checking with the DataSet ID's of the joining DataSets.\r\n\r\nThe PR attemps to fix the issue in following way\r\n\r\nIf the projection fields contain AttributeReference which are not found in the incoming AttributeSet, and the AttributeRef metadata contains the DatasetId info, then the AttributeRef is converted into a new UnresolvedAttributeWithTag and the original attributeRef is passed as paramter .\r\n\r\nIn the ColumnResolutionHelper, to resolve the UnresolvedAttributeRefWithTag, a new resolution logic is used:\r\nThe dataSetId from the original attribute ref's metadata is extracted.\r\n\r\nThe first BinaryNode contained in the LogicalPlan containing this unresolved attribute, is found.\r\nThen its right leg & left lag's unary nodes are checked for the presennce of DatasetID of attribute ref, using TreeNodeTag(\"__datasetid\").\r\nIf both the legs contain datasetId  and that too at same relative depth, or neither contains, then resolution exception is thrown\r\nElse the leg which contains datasetId is used to resolve.\r\n\r\n### Why are the changes needed?\r\nWhile fixing a bug where Ambiguous Column Exception was raised ( which worked fine in earlier versions of spark), came across multiple situations where a particular nested joined DataSet involving self joins, works, but fails when join order is changed or a column extract from dataset involved in join, is treated as unambiguous when used in join condition but same causes ambiguity exception when used in projection ( select)\r\nThere is also an existing test I believe which is falsely passing where resolution of attribute is not happening to the expected Dataset.\r\nFor eg:\r\n`\r\nval df1 = Seq((1, 2)).toDF(\"a\", \"b\")\r\nval df2 = Seq((1, 2)).toDF(\"aa\", \"bb\")\r\nval df1Joindf2 = df1.join(df2, df1(\"a\") === df2(\"aa\")).select(df1(\"a\"),\r\ndf2(\"aa\"), df1(\"b\"))\r\n\r\ndf1Joindf2.join(df1, df1Joindf2(\"a\") === df1(\"a\"))\r\n`\r\n\r\nThe above works fine, but below throws Exception. The only difference between the two is  that the latter has `select(df1(\"a\")`. But then `df1(\"a\")` works fine as a condition\r\n\r\n`\r\nval df1 = Seq((1, 2)).toDF(\"a\", \"b\")\r\nval df2 = Seq((1, 2)).toDF(\"aa\", \"bb\")\r\nval df1Joindf2 = df1.join(df2, df1(\"a\") === df2(\"aa\")).select(df1(\"a\"),\r\ndf2(\"aa\"), df1(\"b\"))\r\n\r\ndf1Joindf2.join(df1, df1Joindf2(\"a\") === df1(\"a\")).select(df1(\"a\"))\r\n`\r\n\r\nThere is an existing test in DataFrameSelfJoinSuite\r\n`\r\n  test(\"SPARK-28344: fail ambiguous self join - column ref in Project\") {\r\n    val df1 = spark.range(3)\r\n    val df2 = df1.filter($\"id\" > 0)\r\n\r\n    withSQLConf(\r\n      SQLConf.FAIL_AMBIGUOUS_SELF_JOIN_ENABLED.key -> \"false\",\r\n      SQLConf.CROSS_JOINS_ENABLED.key -> \"true\") {\r\n      // `df2(\"id\")` actually points to the column of `df1`.\r\n      checkAnswer(df1.join(df2).select(df2(\"id\")), Seq(0, 0, 1, 1, 2, 2).map(Row(_)))\r\n\r\n      // Alias the dataframe and use qualified column names can fix ambiguous self-join.\r\n      val aliasedDf1 = df1.alias(\"left\")\r\n      val aliasedDf2 = df2.as(\"right\")\r\n      checkAnswer(\r\n        aliasedDf1.join(aliasedDf2).select($\"right.id\"),\r\n        Seq(1, 1, 1, 2, 2, 2).map(Row(_)))\r\n    }\r\n\r\n    withSQLConf(\r\n      SQLConf.FAIL_AMBIGUOUS_SELF_JOIN_ENABLED.key -> \"true\",\r\n      SQLConf.CROSS_JOINS_ENABLED.key -> \"true\") {\r\n     \r\n    // Assertion1  : existing \r\n     assertAmbiguousSelfJoin(df1.join(df2).select(df2(\"id\")))\r\n\r\n      // Assertion2 :  added by me\r\n      assertAmbiguousSelfJoin(df2.join(df1).select(df2(\"id\")))\r\n    }\r\n  }\r\n`\r\nHere the **Assertion1** passes ( that is ambiguous exception is thrown)\r\nBut the  **Assertion2** fails ( that is no ambiguous exception is thrown)\r\nThe only chnage is the join order  \r\n\r\nLogically both the assertions are invalid ( In the sense both should **NOT** be throwing Exception as from the user's perspective there is no ambiguity.\r\nAnd this PR addresses it\r\n### Does this PR introduce _any_ user-facing change?\r\nYes.\r\nIt is possible that any Dataset involving self joins which may have  previously been throwing Ambiguity related exceptions are now expected to work , assuming the columns being extracted to be used in APIs are from DataSets being joined at the top most level.\r\n\r\n\r\n### How was this patch tested?\r\nAdded new tests. Making stricter assertions. Modifying the existing tests in DataFrameSelfJoinTest which are logically having unambiguity based on datasets from which columns are extracted.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo","created_at":"2024-03-08T22:51:17Z","updated_at":"2024-07-27T00:20:28Z","closed_at":"2024-07-27T00:20:28Z","merged_at":null,"merge_commit_sha":"c9c9edf6a11faf50f3a2877fcdc4c0e40fbe5edf","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45446/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45446/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45446/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/fc0b3b1064235e78e892658f86fbf40d00b8c043","head":{"label":"ahshahid:SPARK-47320","ref":"SPARK-47320","sha":"fc0b3b1064235e78e892658f86fbf40d00b8c043","user":{"login":"ahshahid","id":12415848,"node_id":"MDQ6VXNlcjEyNDE1ODQ4","avatar_url":"https://avatars.githubusercontent.com/u/12415848?v=4","gravatar_id":"","url":"https://api.github.com/users/ahshahid","html_url":"https://github.com/ahshahid","followers_url":"https://api.github.com/users/ahshahid/followers","following_url":"https://api.github.com/users/ahshahid/following{/other_user}","gists_url":"https://api.github.com/users/ahshahid/gists{/gist_id}","starred_url":"https://api.github.com/users/ahshahid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahshahid/subscriptions","organizations_url":"https://api.github.com/users/ahshahid/orgs","repos_url":"https://api.github.com/users/ahshahid/repos","events_url":"https://api.github.com/users/ahshahid/events{/privacy}","received_events_url":"https://api.github.com/users/ahshahid/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":105594707,"node_id":"MDEwOlJlcG9zaXRvcnkxMDU1OTQ3MDc=","name":"spark","full_name":"ahshahid/spark","private":false,"owner":{"login":"ahshahid","id":12415848,"node_id":"MDQ6VXNlcjEyNDE1ODQ4","avatar_url":"https://avatars.githubusercontent.com/u/12415848?v=4","gravatar_id":"","url":"https://api.github.com/users/ahshahid","html_url":"https://github.com/ahshahid","followers_url":"https://api.github.com/users/ahshahid/followers","following_url":"https://api.github.com/users/ahshahid/following{/other_user}","gists_url":"https://api.github.com/users/ahshahid/gists{/gist_id}","starred_url":"https://api.github.com/users/ahshahid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahshahid/subscriptions","organizations_url":"https://api.github.com/users/ahshahid/orgs","repos_url":"https://api.github.com/users/ahshahid/repos","events_url":"https://api.github.com/users/ahshahid/events{/privacy}","received_events_url":"https://api.github.com/users/ahshahid/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ahshahid/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/ahshahid/spark","forks_url":"https://api.github.com/repos/ahshahid/spark/forks","keys_url":"https://api.github.com/repos/ahshahid/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ahshahid/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ahshahid/spark/teams","hooks_url":"https://api.github.com/repos/ahshahid/spark/hooks","issue_events_url":"https://api.github.com/repos/ahshahid/spark/issues/events{/number}","events_url":"https://api.github.com/repos/ahshahid/spark/events","assignees_url":"https://api.github.com/repos/ahshahid/spark/assignees{/user}","branches_url":"https://api.github.com/repos/ahshahid/spark/branches{/branch}","tags_url":"https://api.github.com/repos/ahshahid/spark/tags","blobs_url":"https://api.github.com/repos/ahshahid/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ahshahid/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ahshahid/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/ahshahid/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ahshahid/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/ahshahid/spark/languages","stargazers_url":"https://api.github.com/repos/ahshahid/spark/stargazers","contributors_url":"https://api.github.com/repos/ahshahid/spark/contributors","subscribers_url":"https://api.github.com/repos/ahshahid/spark/subscribers","subscription_url":"https://api.github.com/repos/ahshahid/spark/subscription","commits_url":"https://api.github.com/repos/ahshahid/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/ahshahid/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/ahshahid/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/ahshahid/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/ahshahid/spark/contents/{+path}","compare_url":"https://api.github.com/repos/ahshahid/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ahshahid/spark/merges","archive_url":"https://api.github.com/repos/ahshahid/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ahshahid/spark/downloads","issues_url":"https://api.github.com/repos/ahshahid/spark/issues{/number}","pulls_url":"https://api.github.com/repos/ahshahid/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/ahshahid/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/ahshahid/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ahshahid/spark/labels{/name}","releases_url":"https://api.github.com/repos/ahshahid/spark/releases{/id}","deployments_url":"https://api.github.com/repos/ahshahid/spark/deployments","created_at":"2017-10-02T23:14:16Z","updated_at":"2025-01-15T23:39:00Z","pushed_at":"2025-01-29T01:03:25Z","git_url":"git://github.com/ahshahid/spark.git","ssh_url":"git@github.com:ahshahid/spark.git","clone_url":"https://github.com/ahshahid/spark.git","svn_url":"https://github.com/ahshahid/spark","homepage":null,"size":455018,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"9a1fc112677f98089d946b3bf4f52b33ab0a5c23","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45446"},"html":{"href":"https://github.com/apache/spark/pull/45446"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45446"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45446/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45446/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45446/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/fc0b3b1064235e78e892658f86fbf40d00b8c043"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45445","id":1763504503,"node_id":"PR_kwDOAQXtWs5pHPF3","html_url":"https://github.com/apache/spark/pull/45445","diff_url":"https://github.com/apache/spark/pull/45445.diff","patch_url":"https://github.com/apache/spark/pull/45445.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45445","number":45445,"state":"closed","locked":false,"title":"[SPARK-47330][SQL][TESTS] XML: Added XmlExpressionsSuite","user":{"login":"yhosny","id":132951652,"node_id":"U_kgDOB-yuZA","avatar_url":"https://avatars.githubusercontent.com/u/132951652?v=4","gravatar_id":"","url":"https://api.github.com/users/yhosny","html_url":"https://github.com/yhosny","followers_url":"https://api.github.com/users/yhosny/followers","following_url":"https://api.github.com/users/yhosny/following{/other_user}","gists_url":"https://api.github.com/users/yhosny/gists{/gist_id}","starred_url":"https://api.github.com/users/yhosny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yhosny/subscriptions","organizations_url":"https://api.github.com/users/yhosny/orgs","repos_url":"https://api.github.com/users/yhosny/repos","events_url":"https://api.github.com/users/yhosny/events{/privacy}","received_events_url":"https://api.github.com/users/yhosny/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nReplicated JsonExpressionsSuite to XmlExpressionsSuite for additional XML unit test coverage.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nImprove XML Expressions unit testing coverage.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUni tests.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo.","created_at":"2024-03-08T19:02:30Z","updated_at":"2024-03-20T02:17:21Z","closed_at":"2024-03-20T02:17:21Z","merged_at":null,"merge_commit_sha":"189b52b7ae352eea3dc9d34d430eb49bc0f19b07","assignee":null,"assignees":[],"requested_reviewers":[{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45445/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45445/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45445/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/f843db24d2e11961536308120cf28a0a28da0609","head":{"label":"yhosny:xml-expressions-suite","ref":"xml-expressions-suite","sha":"f843db24d2e11961536308120cf28a0a28da0609","user":{"login":"yhosny","id":132951652,"node_id":"U_kgDOB-yuZA","avatar_url":"https://avatars.githubusercontent.com/u/132951652?v=4","gravatar_id":"","url":"https://api.github.com/users/yhosny","html_url":"https://github.com/yhosny","followers_url":"https://api.github.com/users/yhosny/followers","following_url":"https://api.github.com/users/yhosny/following{/other_user}","gists_url":"https://api.github.com/users/yhosny/gists{/gist_id}","starred_url":"https://api.github.com/users/yhosny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yhosny/subscriptions","organizations_url":"https://api.github.com/users/yhosny/orgs","repos_url":"https://api.github.com/users/yhosny/repos","events_url":"https://api.github.com/users/yhosny/events{/privacy}","received_events_url":"https://api.github.com/users/yhosny/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":764889667,"node_id":"R_kgDOLZdKQw","name":"spark","full_name":"yhosny/spark","private":false,"owner":{"login":"yhosny","id":132951652,"node_id":"U_kgDOB-yuZA","avatar_url":"https://avatars.githubusercontent.com/u/132951652?v=4","gravatar_id":"","url":"https://api.github.com/users/yhosny","html_url":"https://github.com/yhosny","followers_url":"https://api.github.com/users/yhosny/followers","following_url":"https://api.github.com/users/yhosny/following{/other_user}","gists_url":"https://api.github.com/users/yhosny/gists{/gist_id}","starred_url":"https://api.github.com/users/yhosny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yhosny/subscriptions","organizations_url":"https://api.github.com/users/yhosny/orgs","repos_url":"https://api.github.com/users/yhosny/repos","events_url":"https://api.github.com/users/yhosny/events{/privacy}","received_events_url":"https://api.github.com/users/yhosny/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/yhosny/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/yhosny/spark","forks_url":"https://api.github.com/repos/yhosny/spark/forks","keys_url":"https://api.github.com/repos/yhosny/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/yhosny/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/yhosny/spark/teams","hooks_url":"https://api.github.com/repos/yhosny/spark/hooks","issue_events_url":"https://api.github.com/repos/yhosny/spark/issues/events{/number}","events_url":"https://api.github.com/repos/yhosny/spark/events","assignees_url":"https://api.github.com/repos/yhosny/spark/assignees{/user}","branches_url":"https://api.github.com/repos/yhosny/spark/branches{/branch}","tags_url":"https://api.github.com/repos/yhosny/spark/tags","blobs_url":"https://api.github.com/repos/yhosny/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/yhosny/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/yhosny/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/yhosny/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/yhosny/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/yhosny/spark/languages","stargazers_url":"https://api.github.com/repos/yhosny/spark/stargazers","contributors_url":"https://api.github.com/repos/yhosny/spark/contributors","subscribers_url":"https://api.github.com/repos/yhosny/spark/subscribers","subscription_url":"https://api.github.com/repos/yhosny/spark/subscription","commits_url":"https://api.github.com/repos/yhosny/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/yhosny/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/yhosny/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/yhosny/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/yhosny/spark/contents/{+path}","compare_url":"https://api.github.com/repos/yhosny/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/yhosny/spark/merges","archive_url":"https://api.github.com/repos/yhosny/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/yhosny/spark/downloads","issues_url":"https://api.github.com/repos/yhosny/spark/issues{/number}","pulls_url":"https://api.github.com/repos/yhosny/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/yhosny/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/yhosny/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/yhosny/spark/labels{/name}","releases_url":"https://api.github.com/repos/yhosny/spark/releases{/id}","deployments_url":"https://api.github.com/repos/yhosny/spark/deployments","created_at":"2024-02-28T22:26:53Z","updated_at":"2024-09-11T23:45:14Z","pushed_at":"2024-09-11T23:42:03Z","git_url":"git://github.com/yhosny/spark.git","ssh_url":"git@github.com:yhosny/spark.git","clone_url":"https://github.com/yhosny/spark.git","svn_url":"https://github.com/yhosny/spark","homepage":"https://spark.apache.org/","size":407607,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"640ed4fad32f1042d564166ddca2609190fb6a96","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45445"},"html":{"href":"https://github.com/apache/spark/pull/45445"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45445"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45445/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45445/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45445/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/f843db24d2e11961536308120cf28a0a28da0609"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45444","id":1763470752,"node_id":"PR_kwDOAQXtWs5pHG2g","html_url":"https://github.com/apache/spark/pull/45444","diff_url":"https://github.com/apache/spark/pull/45444.diff","patch_url":"https://github.com/apache/spark/pull/45444.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45444","number":45444,"state":"closed","locked":false,"title":"[SPARK-47035][SS][CONNECT][FOLLOWUP] Additional protobuf change to client side listener","user":{"login":"WweiL","id":10248890,"node_id":"MDQ6VXNlcjEwMjQ4ODkw","avatar_url":"https://avatars.githubusercontent.com/u/10248890?v=4","gravatar_id":"","url":"https://api.github.com/users/WweiL","html_url":"https://github.com/WweiL","followers_url":"https://api.github.com/users/WweiL/followers","following_url":"https://api.github.com/users/WweiL/following{/other_user}","gists_url":"https://api.github.com/users/WweiL/gists{/gist_id}","starred_url":"https://api.github.com/users/WweiL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WweiL/subscriptions","organizations_url":"https://api.github.com/users/WweiL/orgs","repos_url":"https://api.github.com/users/WweiL/repos","events_url":"https://api.github.com/users/WweiL/events{/privacy}","received_events_url":"https://api.github.com/users/WweiL/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nFollowup of previous protocol change https://github.com/apache/spark/pull/45091. Add the request proto `Command` and response proto message to `ExecutePlanResponse`\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nContinuation of client side listener for spark connect\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nWill be tested in subsequent PR, the proto change itself doesn't do any harm\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo","created_at":"2024-03-08T18:41:19Z","updated_at":"2024-03-11T00:07:39Z","closed_at":"2024-03-11T00:07:39Z","merged_at":null,"merge_commit_sha":"dc530e8bf4399c826b33566a4e4dd55bad9f407a","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45444/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45444/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45444/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9dc2294e3f5eafdd3ce9183aba8738b1da4ce33a","head":{"label":"WweiL:SPARK-47035-protocol-followup","ref":"SPARK-47035-protocol-followup","sha":"9dc2294e3f5eafdd3ce9183aba8738b1da4ce33a","user":{"login":"WweiL","id":10248890,"node_id":"MDQ6VXNlcjEwMjQ4ODkw","avatar_url":"https://avatars.githubusercontent.com/u/10248890?v=4","gravatar_id":"","url":"https://api.github.com/users/WweiL","html_url":"https://github.com/WweiL","followers_url":"https://api.github.com/users/WweiL/followers","following_url":"https://api.github.com/users/WweiL/following{/other_user}","gists_url":"https://api.github.com/users/WweiL/gists{/gist_id}","starred_url":"https://api.github.com/users/WweiL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WweiL/subscriptions","organizations_url":"https://api.github.com/users/WweiL/orgs","repos_url":"https://api.github.com/users/WweiL/repos","events_url":"https://api.github.com/users/WweiL/events{/privacy}","received_events_url":"https://api.github.com/users/WweiL/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":538656848,"node_id":"R_kgDOIBtAUA","name":"oss-spark","full_name":"WweiL/oss-spark","private":false,"owner":{"login":"WweiL","id":10248890,"node_id":"MDQ6VXNlcjEwMjQ4ODkw","avatar_url":"https://avatars.githubusercontent.com/u/10248890?v=4","gravatar_id":"","url":"https://api.github.com/users/WweiL","html_url":"https://github.com/WweiL","followers_url":"https://api.github.com/users/WweiL/followers","following_url":"https://api.github.com/users/WweiL/following{/other_user}","gists_url":"https://api.github.com/users/WweiL/gists{/gist_id}","starred_url":"https://api.github.com/users/WweiL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WweiL/subscriptions","organizations_url":"https://api.github.com/users/WweiL/orgs","repos_url":"https://api.github.com/users/WweiL/repos","events_url":"https://api.github.com/users/WweiL/events{/privacy}","received_events_url":"https://api.github.com/users/WweiL/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/WweiL/oss-spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/WweiL/oss-spark","forks_url":"https://api.github.com/repos/WweiL/oss-spark/forks","keys_url":"https://api.github.com/repos/WweiL/oss-spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/WweiL/oss-spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/WweiL/oss-spark/teams","hooks_url":"https://api.github.com/repos/WweiL/oss-spark/hooks","issue_events_url":"https://api.github.com/repos/WweiL/oss-spark/issues/events{/number}","events_url":"https://api.github.com/repos/WweiL/oss-spark/events","assignees_url":"https://api.github.com/repos/WweiL/oss-spark/assignees{/user}","branches_url":"https://api.github.com/repos/WweiL/oss-spark/branches{/branch}","tags_url":"https://api.github.com/repos/WweiL/oss-spark/tags","blobs_url":"https://api.github.com/repos/WweiL/oss-spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/WweiL/oss-spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/WweiL/oss-spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/WweiL/oss-spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/WweiL/oss-spark/statuses/{sha}","languages_url":"https://api.github.com/repos/WweiL/oss-spark/languages","stargazers_url":"https://api.github.com/repos/WweiL/oss-spark/stargazers","contributors_url":"https://api.github.com/repos/WweiL/oss-spark/contributors","subscribers_url":"https://api.github.com/repos/WweiL/oss-spark/subscribers","subscription_url":"https://api.github.com/repos/WweiL/oss-spark/subscription","commits_url":"https://api.github.com/repos/WweiL/oss-spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/WweiL/oss-spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/WweiL/oss-spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/WweiL/oss-spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/WweiL/oss-spark/contents/{+path}","compare_url":"https://api.github.com/repos/WweiL/oss-spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/WweiL/oss-spark/merges","archive_url":"https://api.github.com/repos/WweiL/oss-spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/WweiL/oss-spark/downloads","issues_url":"https://api.github.com/repos/WweiL/oss-spark/issues{/number}","pulls_url":"https://api.github.com/repos/WweiL/oss-spark/pulls{/number}","milestones_url":"https://api.github.com/repos/WweiL/oss-spark/milestones{/number}","notifications_url":"https://api.github.com/repos/WweiL/oss-spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/WweiL/oss-spark/labels{/name}","releases_url":"https://api.github.com/repos/WweiL/oss-spark/releases{/id}","deployments_url":"https://api.github.com/repos/WweiL/oss-spark/deployments","created_at":"2022-09-19T19:05:16Z","updated_at":"2022-09-19T22:58:14Z","pushed_at":"2025-02-05T00:30:37Z","git_url":"git://github.com/WweiL/oss-spark.git","ssh_url":"git@github.com:WweiL/oss-spark.git","clone_url":"https://github.com/WweiL/oss-spark.git","svn_url":"https://github.com/WweiL/oss-spark","homepage":"https://spark.apache.org/","size":431552,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"640ed4fad32f1042d564166ddca2609190fb6a96","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45444"},"html":{"href":"https://github.com/apache/spark/pull/45444"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45444"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45444/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45444/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45444/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9dc2294e3f5eafdd3ce9183aba8738b1da4ce33a"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45443","id":1763428141,"node_id":"PR_kwDOAQXtWs5pG8ct","html_url":"https://github.com/apache/spark/pull/45443","diff_url":"https://github.com/apache/spark/pull/45443.diff","patch_url":"https://github.com/apache/spark/pull/45443.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45443","number":45443,"state":"closed","locked":false,"title":"[SPARK-44115][BUILD] Upgrade Apache ORC to 2.0.0","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR aims to Upgrade Apache ORC to 2.0.0 for Apache Spark 4.0.0.\r\n\r\nApache ORC community has 3-year support policy which is longer than Apache Spark. It's aligned like the following.\r\n- Apache ORC 2.0.x <-> Apache Spark 4.0.x\r\n- Apache ORC 1.9.x <-> Apache Spark 3.5.x\r\n- Apache ORC 1.8.x <-> Apache Spark 3.4.x\r\n- Apache ORC 1.7.x (Supported) <-> Apache Spark 3.3.x (End-Of-Support)\r\n\r\n### Why are the changes needed?\r\n\r\n**Release Note**\r\n- https://github.com/apache/orc/releases/tag/v2.0.0\r\n- https://orc.apache.org/news/2024/03/08/ORC-2.0.0/\r\n\r\n**Milestone**\r\n- https://github.com/apache/orc/milestone/20?closed=1\r\n  - https://github.com/apache/orc/pull/1728\r\n  - https://github.com/apache/orc/issues/1801\r\n  - https://github.com/apache/orc/issues/1498\r\n  - https://github.com/apache/orc/pull/1627\r\n  - https://github.com/apache/orc/issues/1497\r\n  - https://github.com/apache/orc/pull/1509\r\n  - https://github.com/apache/orc/pull/1554\r\n  - https://github.com/apache/orc/pull/1708\r\n  - https://github.com/apache/orc/pull/1733\r\n  - https://github.com/apache/orc/pull/1760\r\n  - https://github.com/apache/orc/pull/1743\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nPass the CIs.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.","created_at":"2024-03-08T18:08:51Z","updated_at":"2024-03-11T02:13:46Z","closed_at":"2024-03-08T21:31:14Z","merged_at":null,"merge_commit_sha":"e91d0290f258982431d8b3fab78953e8f28edff8","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45443/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45443/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45443/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/75fd75e5f25068491d1e52868b52a4358b5bdd0d","head":{"label":"dongjoon-hyun:SPARK-44115","ref":"SPARK-44115","sha":"75fd75e5f25068491d1e52868b52a4358b5bdd0d","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":677218341,"node_id":"R_kgDOKF2IJQ","name":"spark","full_name":"dongjoon-hyun/spark","private":false,"owner":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dongjoon-hyun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/dongjoon-hyun/spark","forks_url":"https://api.github.com/repos/dongjoon-hyun/spark/forks","keys_url":"https://api.github.com/repos/dongjoon-hyun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dongjoon-hyun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dongjoon-hyun/spark/teams","hooks_url":"https://api.github.com/repos/dongjoon-hyun/spark/hooks","issue_events_url":"https://api.github.com/repos/dongjoon-hyun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/dongjoon-hyun/spark/events","assignees_url":"https://api.github.com/repos/dongjoon-hyun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/dongjoon-hyun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/dongjoon-hyun/spark/tags","blobs_url":"https://api.github.com/repos/dongjoon-hyun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dongjoon-hyun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dongjoon-hyun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/dongjoon-hyun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dongjoon-hyun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/dongjoon-hyun/spark/languages","stargazers_url":"https://api.github.com/repos/dongjoon-hyun/spark/stargazers","contributors_url":"https://api.github.com/repos/dongjoon-hyun/spark/contributors","subscribers_url":"https://api.github.com/repos/dongjoon-hyun/spark/subscribers","subscription_url":"https://api.github.com/repos/dongjoon-hyun/spark/subscription","commits_url":"https://api.github.com/repos/dongjoon-hyun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/dongjoon-hyun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/dongjoon-hyun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/dongjoon-hyun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/dongjoon-hyun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/dongjoon-hyun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dongjoon-hyun/spark/merges","archive_url":"https://api.github.com/repos/dongjoon-hyun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dongjoon-hyun/spark/downloads","issues_url":"https://api.github.com/repos/dongjoon-hyun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/dongjoon-hyun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/dongjoon-hyun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/dongjoon-hyun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dongjoon-hyun/spark/labels{/name}","releases_url":"https://api.github.com/repos/dongjoon-hyun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/dongjoon-hyun/spark/deployments","created_at":"2023-08-11T03:10:46Z","updated_at":"2025-01-30T21:57:04Z","pushed_at":"2025-02-04T17:36:52Z","git_url":"git://github.com/dongjoon-hyun/spark.git","ssh_url":"git@github.com:dongjoon-hyun/spark.git","clone_url":"https://github.com/dongjoon-hyun/spark.git","svn_url":"https://github.com/dongjoon-hyun/spark","homepage":"https://spark.apache.org/","size":485728,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"640ed4fad32f1042d564166ddca2609190fb6a96","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45443"},"html":{"href":"https://github.com/apache/spark/pull/45443"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45443"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45443/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45443/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45443/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/75fd75e5f25068491d1e52868b52a4358b5bdd0d"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45442","id":1763410134,"node_id":"PR_kwDOAQXtWs5pG4DW","html_url":"https://github.com/apache/spark/pull/45442","diff_url":"https://github.com/apache/spark/pull/45442.diff","patch_url":"https://github.com/apache/spark/pull/45442.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45442","number":45442,"state":"closed","locked":false,"title":"[SPARK-47328][SQL] Rename UCS_BASIC collation to UTF8_BINARY","user":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nChange utf8 collation names from 'UCS_BASIC' to 'UTF8_BINARY'.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nTo have the name better describe the actual meaning of the default collation.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes, now we have different names for utf8 collation\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nWith existing unit tests.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo.","created_at":"2024-03-08T17:54:26Z","updated_at":"2024-03-11T12:41:30Z","closed_at":"2024-03-11T12:41:30Z","merged_at":null,"merge_commit_sha":"3e427922f33bd5b1cbce29c7c4c4bbcae9fc0738","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45442/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45442/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45442/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/48403e1826c1c1969cad47465f0b7d1fbb0ed019","head":{"label":"stefankandic:renameUCS","ref":"renameUCS","sha":"48403e1826c1c1969cad47465f0b7d1fbb0ed019","user":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":734708961,"node_id":"R_kgDOK8rE4Q","name":"spark","full_name":"stefankandic/spark","private":false,"owner":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/stefankandic/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/stefankandic/spark","forks_url":"https://api.github.com/repos/stefankandic/spark/forks","keys_url":"https://api.github.com/repos/stefankandic/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/stefankandic/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/stefankandic/spark/teams","hooks_url":"https://api.github.com/repos/stefankandic/spark/hooks","issue_events_url":"https://api.github.com/repos/stefankandic/spark/issues/events{/number}","events_url":"https://api.github.com/repos/stefankandic/spark/events","assignees_url":"https://api.github.com/repos/stefankandic/spark/assignees{/user}","branches_url":"https://api.github.com/repos/stefankandic/spark/branches{/branch}","tags_url":"https://api.github.com/repos/stefankandic/spark/tags","blobs_url":"https://api.github.com/repos/stefankandic/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/stefankandic/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/stefankandic/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/stefankandic/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/stefankandic/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/stefankandic/spark/languages","stargazers_url":"https://api.github.com/repos/stefankandic/spark/stargazers","contributors_url":"https://api.github.com/repos/stefankandic/spark/contributors","subscribers_url":"https://api.github.com/repos/stefankandic/spark/subscribers","subscription_url":"https://api.github.com/repos/stefankandic/spark/subscription","commits_url":"https://api.github.com/repos/stefankandic/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/stefankandic/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/stefankandic/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/stefankandic/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/stefankandic/spark/contents/{+path}","compare_url":"https://api.github.com/repos/stefankandic/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/stefankandic/spark/merges","archive_url":"https://api.github.com/repos/stefankandic/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/stefankandic/spark/downloads","issues_url":"https://api.github.com/repos/stefankandic/spark/issues{/number}","pulls_url":"https://api.github.com/repos/stefankandic/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/stefankandic/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/stefankandic/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/stefankandic/spark/labels{/name}","releases_url":"https://api.github.com/repos/stefankandic/spark/releases{/id}","deployments_url":"https://api.github.com/repos/stefankandic/spark/deployments","created_at":"2023-12-22T11:54:18Z","updated_at":"2024-10-23T17:40:10Z","pushed_at":"2025-02-04T22:21:43Z","git_url":"git://github.com/stefankandic/spark.git","ssh_url":"git@github.com:stefankandic/spark.git","clone_url":"https://github.com/stefankandic/spark.git","svn_url":"https://github.com/stefankandic/spark","homepage":"https://spark.apache.org/","size":434684,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"640ed4fad32f1042d564166ddca2609190fb6a96","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45442"},"html":{"href":"https://github.com/apache/spark/pull/45442"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45442"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45442/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45442/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45442/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/48403e1826c1c1969cad47465f0b7d1fbb0ed019"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45441","id":1763231612,"node_id":"PR_kwDOAQXtWs5pGMd8","html_url":"https://github.com/apache/spark/pull/45441","diff_url":"https://github.com/apache/spark/pull/45441.diff","patch_url":"https://github.com/apache/spark/pull/45441.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45441","number":45441,"state":"closed","locked":false,"title":"Allow spark-class script to be ran in an environment where /dev/fd is unavailable (AWS Lambda)","user":{"login":"wesmcouch","id":10132997,"node_id":"MDQ6VXNlcjEwMTMyOTk3","avatar_url":"https://avatars.githubusercontent.com/u/10132997?v=4","gravatar_id":"","url":"https://api.github.com/users/wesmcouch","html_url":"https://github.com/wesmcouch","followers_url":"https://api.github.com/users/wesmcouch/followers","following_url":"https://api.github.com/users/wesmcouch/following{/other_user}","gists_url":"https://api.github.com/users/wesmcouch/gists{/gist_id}","starred_url":"https://api.github.com/users/wesmcouch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wesmcouch/subscriptions","organizations_url":"https://api.github.com/users/wesmcouch/orgs","repos_url":"https://api.github.com/users/wesmcouch/repos","events_url":"https://api.github.com/users/wesmcouch/events{/privacy}","received_events_url":"https://api.github.com/users/wesmcouch/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### Why are the changes needed?\r\n* Running pyspark in an environment like AWS Lambda where /dev/fd is unavailable throws an error because /dev/fd does not exist\r\n```\r\n/var/lang/lib/python3.11/site-packages/pyspark/bin/spark-class: line 93: /dev/fd/62: No such file or directory\r\n/var/lang/lib/python3.11/site-packages/pyspark/bin/spark-class: line 97: CMD: bad array subscript\r\n```\r\n\r\n### What changes were proposed in this pull request?\r\nUsing a temporary file to run the command instead of process substitution allows the code to be ran in environments where /dev/fd does not exist.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n### How was this patch tested?\r\n* Tested in AWS Lambda Python 3.11 Container based image using pyspark\r\n* Tested in Mac Python 3.11 environment using pyspark\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo","created_at":"2024-03-08T15:55:12Z","updated_at":"2024-06-30T00:22:39Z","closed_at":"2024-06-30T00:22:39Z","merged_at":null,"merge_commit_sha":"87438af1b0f5823345d008718699570ba060feff","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45441/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45441/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45441/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/37abf578b78c14eb062f0326d353905d10124026","head":{"label":"wesmcouch:no-fd-usage","ref":"no-fd-usage","sha":"37abf578b78c14eb062f0326d353905d10124026","user":{"login":"wesmcouch","id":10132997,"node_id":"MDQ6VXNlcjEwMTMyOTk3","avatar_url":"https://avatars.githubusercontent.com/u/10132997?v=4","gravatar_id":"","url":"https://api.github.com/users/wesmcouch","html_url":"https://github.com/wesmcouch","followers_url":"https://api.github.com/users/wesmcouch/followers","following_url":"https://api.github.com/users/wesmcouch/following{/other_user}","gists_url":"https://api.github.com/users/wesmcouch/gists{/gist_id}","starred_url":"https://api.github.com/users/wesmcouch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wesmcouch/subscriptions","organizations_url":"https://api.github.com/users/wesmcouch/orgs","repos_url":"https://api.github.com/users/wesmcouch/repos","events_url":"https://api.github.com/users/wesmcouch/events{/privacy}","received_events_url":"https://api.github.com/users/wesmcouch/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":769223972,"node_id":"R_kgDOLdltJA","name":"spark","full_name":"wesmcouch/spark","private":false,"owner":{"login":"wesmcouch","id":10132997,"node_id":"MDQ6VXNlcjEwMTMyOTk3","avatar_url":"https://avatars.githubusercontent.com/u/10132997?v=4","gravatar_id":"","url":"https://api.github.com/users/wesmcouch","html_url":"https://github.com/wesmcouch","followers_url":"https://api.github.com/users/wesmcouch/followers","following_url":"https://api.github.com/users/wesmcouch/following{/other_user}","gists_url":"https://api.github.com/users/wesmcouch/gists{/gist_id}","starred_url":"https://api.github.com/users/wesmcouch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wesmcouch/subscriptions","organizations_url":"https://api.github.com/users/wesmcouch/orgs","repos_url":"https://api.github.com/users/wesmcouch/repos","events_url":"https://api.github.com/users/wesmcouch/events{/privacy}","received_events_url":"https://api.github.com/users/wesmcouch/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/wesmcouch/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/wesmcouch/spark","forks_url":"https://api.github.com/repos/wesmcouch/spark/forks","keys_url":"https://api.github.com/repos/wesmcouch/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/wesmcouch/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/wesmcouch/spark/teams","hooks_url":"https://api.github.com/repos/wesmcouch/spark/hooks","issue_events_url":"https://api.github.com/repos/wesmcouch/spark/issues/events{/number}","events_url":"https://api.github.com/repos/wesmcouch/spark/events","assignees_url":"https://api.github.com/repos/wesmcouch/spark/assignees{/user}","branches_url":"https://api.github.com/repos/wesmcouch/spark/branches{/branch}","tags_url":"https://api.github.com/repos/wesmcouch/spark/tags","blobs_url":"https://api.github.com/repos/wesmcouch/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/wesmcouch/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/wesmcouch/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/wesmcouch/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/wesmcouch/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/wesmcouch/spark/languages","stargazers_url":"https://api.github.com/repos/wesmcouch/spark/stargazers","contributors_url":"https://api.github.com/repos/wesmcouch/spark/contributors","subscribers_url":"https://api.github.com/repos/wesmcouch/spark/subscribers","subscription_url":"https://api.github.com/repos/wesmcouch/spark/subscription","commits_url":"https://api.github.com/repos/wesmcouch/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/wesmcouch/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/wesmcouch/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/wesmcouch/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/wesmcouch/spark/contents/{+path}","compare_url":"https://api.github.com/repos/wesmcouch/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/wesmcouch/spark/merges","archive_url":"https://api.github.com/repos/wesmcouch/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/wesmcouch/spark/downloads","issues_url":"https://api.github.com/repos/wesmcouch/spark/issues{/number}","pulls_url":"https://api.github.com/repos/wesmcouch/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/wesmcouch/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/wesmcouch/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/wesmcouch/spark/labels{/name}","releases_url":"https://api.github.com/repos/wesmcouch/spark/releases{/id}","deployments_url":"https://api.github.com/repos/wesmcouch/spark/deployments","created_at":"2024-03-08T15:44:26Z","updated_at":"2024-03-08T15:44:26Z","pushed_at":"2024-03-08T15:58:00Z","git_url":"git://github.com/wesmcouch/spark.git","ssh_url":"git@github.com:wesmcouch/spark.git","clone_url":"https://github.com/wesmcouch/spark.git","svn_url":"https://github.com/wesmcouch/spark","homepage":"https://spark.apache.org/","size":366413,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"640ed4fad32f1042d564166ddca2609190fb6a96","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45441"},"html":{"href":"https://github.com/apache/spark/pull/45441"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45441"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45441/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45441/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45441/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/37abf578b78c14eb062f0326d353905d10124026"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45440","id":1763132338,"node_id":"PR_kwDOAQXtWs5pF0Oy","html_url":"https://github.com/apache/spark/pull/45440","diff_url":"https://github.com/apache/spark/pull/45440.diff","patch_url":"https://github.com/apache/spark/pull/45440.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45440","number":45440,"state":"closed","locked":false,"title":"[SPARK-46043][SQL][FOLLOWUP] do not resolve v2 table provider with custom session catalog","user":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis is a follow-up of https://github.com/apache/spark/pull/43949 to fix a breaking change. Spark allows people to provide a custom session catalog, which may return custom v2 tables based on the table provider. #43949 resolves the table provider earlier than the custom session catalog, and may break custom session catalogs. This PR fixes it by not resolving table provider if custom session catalog is present.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\navoid breaking custom session catalogs\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nno, #43949 is not released yet.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nexisting tests\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nno","created_at":"2024-03-08T14:53:25Z","updated_at":"2024-03-12T02:58:10Z","closed_at":"2024-03-12T02:57:14Z","merged_at":null,"merge_commit_sha":"5bd45ffebdb0cfa308bec60380f9d726d963421b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45440/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45440/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45440/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/c4b1e883327bc47c7a4d8d0927b708d492e0fee3","head":{"label":"cloud-fan:fix","ref":"fix","sha":"c4b1e883327bc47c7a4d8d0927b708d492e0fee3","user":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":19689699,"node_id":"MDEwOlJlcG9zaXRvcnkxOTY4OTY5OQ==","name":"spark","full_name":"cloud-fan/spark","private":false,"owner":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/cloud-fan/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/cloud-fan/spark","forks_url":"https://api.github.com/repos/cloud-fan/spark/forks","keys_url":"https://api.github.com/repos/cloud-fan/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cloud-fan/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cloud-fan/spark/teams","hooks_url":"https://api.github.com/repos/cloud-fan/spark/hooks","issue_events_url":"https://api.github.com/repos/cloud-fan/spark/issues/events{/number}","events_url":"https://api.github.com/repos/cloud-fan/spark/events","assignees_url":"https://api.github.com/repos/cloud-fan/spark/assignees{/user}","branches_url":"https://api.github.com/repos/cloud-fan/spark/branches{/branch}","tags_url":"https://api.github.com/repos/cloud-fan/spark/tags","blobs_url":"https://api.github.com/repos/cloud-fan/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cloud-fan/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cloud-fan/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/cloud-fan/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cloud-fan/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/cloud-fan/spark/languages","stargazers_url":"https://api.github.com/repos/cloud-fan/spark/stargazers","contributors_url":"https://api.github.com/repos/cloud-fan/spark/contributors","subscribers_url":"https://api.github.com/repos/cloud-fan/spark/subscribers","subscription_url":"https://api.github.com/repos/cloud-fan/spark/subscription","commits_url":"https://api.github.com/repos/cloud-fan/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/cloud-fan/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/cloud-fan/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/cloud-fan/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/cloud-fan/spark/contents/{+path}","compare_url":"https://api.github.com/repos/cloud-fan/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cloud-fan/spark/merges","archive_url":"https://api.github.com/repos/cloud-fan/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cloud-fan/spark/downloads","issues_url":"https://api.github.com/repos/cloud-fan/spark/issues{/number}","pulls_url":"https://api.github.com/repos/cloud-fan/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/cloud-fan/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/cloud-fan/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cloud-fan/spark/labels{/name}","releases_url":"https://api.github.com/repos/cloud-fan/spark/releases{/id}","deployments_url":"https://api.github.com/repos/cloud-fan/spark/deployments","created_at":"2014-05-12T07:32:26Z","updated_at":"2022-06-21T07:59:41Z","pushed_at":"2025-02-07T13:15:09Z","git_url":"git://github.com/cloud-fan/spark.git","ssh_url":"git@github.com:cloud-fan/spark.git","clone_url":"https://github.com/cloud-fan/spark.git","svn_url":"https://github.com/cloud-fan/spark","homepage":null,"size":467110,"stargazers_count":3,"watchers_count":3,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":3,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"66d6a23dc3b71dbeb2f474e9c375ddd2dc55e382","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45440"},"html":{"href":"https://github.com/apache/spark/pull/45440"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45440"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45440/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45440/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45440/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/c4b1e883327bc47c7a4d8d0927b708d492e0fee3"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45439","id":1763046853,"node_id":"PR_kwDOAQXtWs5pFfXF","html_url":"https://github.com/apache/spark/pull/45439","diff_url":"https://github.com/apache/spark/pull/45439.diff","patch_url":"https://github.com/apache/spark/pull/45439.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45439","number":45439,"state":"closed","locked":false,"title":"[MINOR][SQL][TEST] Moving tests to related suites","user":{"login":"mihailom-db","id":159067682,"node_id":"U_kgDOCXsuIg","avatar_url":"https://avatars.githubusercontent.com/u/159067682?v=4","gravatar_id":"","url":"https://api.github.com/users/mihailom-db","html_url":"https://github.com/mihailom-db","followers_url":"https://api.github.com/users/mihailom-db/followers","following_url":"https://api.github.com/users/mihailom-db/following{/other_user}","gists_url":"https://api.github.com/users/mihailom-db/gists{/gist_id}","starred_url":"https://api.github.com/users/mihailom-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihailom-db/subscriptions","organizations_url":"https://api.github.com/users/mihailom-db/orgs","repos_url":"https://api.github.com/users/mihailom-db/repos","events_url":"https://api.github.com/users/mihailom-db/events{/privacy}","received_events_url":"https://api.github.com/users/mihailom-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nTests from `QueryCompilationErrorsSuite` were moved to `DDLSuite` and `JDBCTableCatalogSuite`.\r\n\r\n### Why are the changes needed?\r\nWe should move tests to related test suites in order to improve testing.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n### How was this patch tested?\r\nCorresponding Suites succeed.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.","created_at":"2024-03-08T14:02:29Z","updated_at":"2024-03-10T19:26:03Z","closed_at":"2024-03-10T19:26:03Z","merged_at":null,"merge_commit_sha":"5ad7369d842509392b5a04395914e33eea2c71ac","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45439/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45439/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45439/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/4f9eaa34190c517c5700e814a2102efe916bd28b","head":{"label":"mihailom-db:SPARK-47326","ref":"SPARK-47326","sha":"4f9eaa34190c517c5700e814a2102efe916bd28b","user":{"login":"mihailom-db","id":159067682,"node_id":"U_kgDOCXsuIg","avatar_url":"https://avatars.githubusercontent.com/u/159067682?v=4","gravatar_id":"","url":"https://api.github.com/users/mihailom-db","html_url":"https://github.com/mihailom-db","followers_url":"https://api.github.com/users/mihailom-db/followers","following_url":"https://api.github.com/users/mihailom-db/following{/other_user}","gists_url":"https://api.github.com/users/mihailom-db/gists{/gist_id}","starred_url":"https://api.github.com/users/mihailom-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihailom-db/subscriptions","organizations_url":"https://api.github.com/users/mihailom-db/orgs","repos_url":"https://api.github.com/users/mihailom-db/repos","events_url":"https://api.github.com/users/mihailom-db/events{/privacy}","received_events_url":"https://api.github.com/users/mihailom-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":756245919,"node_id":"R_kgDOLRNlnw","name":"spark","full_name":"mihailom-db/spark","private":false,"owner":{"login":"mihailom-db","id":159067682,"node_id":"U_kgDOCXsuIg","avatar_url":"https://avatars.githubusercontent.com/u/159067682?v=4","gravatar_id":"","url":"https://api.github.com/users/mihailom-db","html_url":"https://github.com/mihailom-db","followers_url":"https://api.github.com/users/mihailom-db/followers","following_url":"https://api.github.com/users/mihailom-db/following{/other_user}","gists_url":"https://api.github.com/users/mihailom-db/gists{/gist_id}","starred_url":"https://api.github.com/users/mihailom-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihailom-db/subscriptions","organizations_url":"https://api.github.com/users/mihailom-db/orgs","repos_url":"https://api.github.com/users/mihailom-db/repos","events_url":"https://api.github.com/users/mihailom-db/events{/privacy}","received_events_url":"https://api.github.com/users/mihailom-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mihailom-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/mihailom-db/spark","forks_url":"https://api.github.com/repos/mihailom-db/spark/forks","keys_url":"https://api.github.com/repos/mihailom-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mihailom-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mihailom-db/spark/teams","hooks_url":"https://api.github.com/repos/mihailom-db/spark/hooks","issue_events_url":"https://api.github.com/repos/mihailom-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/mihailom-db/spark/events","assignees_url":"https://api.github.com/repos/mihailom-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/mihailom-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/mihailom-db/spark/tags","blobs_url":"https://api.github.com/repos/mihailom-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mihailom-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mihailom-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/mihailom-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mihailom-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/mihailom-db/spark/languages","stargazers_url":"https://api.github.com/repos/mihailom-db/spark/stargazers","contributors_url":"https://api.github.com/repos/mihailom-db/spark/contributors","subscribers_url":"https://api.github.com/repos/mihailom-db/spark/subscribers","subscription_url":"https://api.github.com/repos/mihailom-db/spark/subscription","commits_url":"https://api.github.com/repos/mihailom-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/mihailom-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/mihailom-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/mihailom-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/mihailom-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/mihailom-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mihailom-db/spark/merges","archive_url":"https://api.github.com/repos/mihailom-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mihailom-db/spark/downloads","issues_url":"https://api.github.com/repos/mihailom-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/mihailom-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/mihailom-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/mihailom-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mihailom-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/mihailom-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/mihailom-db/spark/deployments","created_at":"2024-02-12T09:25:57Z","updated_at":"2024-08-05T08:15:59Z","pushed_at":"2024-12-25T11:37:24Z","git_url":"git://github.com/mihailom-db/spark.git","ssh_url":"git@github.com:mihailom-db/spark.git","clone_url":"https://github.com/mihailom-db/spark.git","svn_url":"https://github.com/mihailom-db/spark","homepage":"https://spark.apache.org/","size":480966,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"640ed4fad32f1042d564166ddca2609190fb6a96","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45439"},"html":{"href":"https://github.com/apache/spark/pull/45439"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45439"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45439/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45439/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45439/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/4f9eaa34190c517c5700e814a2102efe916bd28b"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45438","id":1763020400,"node_id":"PR_kwDOAQXtWs5pFY5w","html_url":"https://github.com/apache/spark/pull/45438","diff_url":"https://github.com/apache/spark/pull/45438.diff","patch_url":"https://github.com/apache/spark/pull/45438.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45438","number":45438,"state":"closed","locked":false,"title":"[SPARK-47313][SQL] Added scala.MatchError handling inside QueryExecution.toInternalError","user":{"login":"stevomitric","id":16582560,"node_id":"MDQ6VXNlcjE2NTgyNTYw","avatar_url":"https://avatars.githubusercontent.com/u/16582560?v=4","gravatar_id":"","url":"https://api.github.com/users/stevomitric","html_url":"https://github.com/stevomitric","followers_url":"https://api.github.com/users/stevomitric/followers","following_url":"https://api.github.com/users/stevomitric/following{/other_user}","gists_url":"https://api.github.com/users/stevomitric/gists{/gist_id}","starred_url":"https://api.github.com/users/stevomitric/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevomitric/subscriptions","organizations_url":"https://api.github.com/users/stevomitric/orgs","repos_url":"https://api.github.com/users/stevomitric/repos","events_url":"https://api.github.com/users/stevomitric/events{/privacy}","received_events_url":"https://api.github.com/users/stevomitric/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nCreated `isInternalError` function that marks `java.lang.NullPointerException`, `java.lang.AssertionError` and newly added `scala.MatchError` as internal errors.\r\n\r\n\r\n### Why are the changes needed?\r\nAdditional error coverage and code refactoring.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo\r\n","created_at":"2024-03-08T13:45:01Z","updated_at":"2024-03-11T14:26:47Z","closed_at":"2024-03-11T14:18:47Z","merged_at":null,"merge_commit_sha":"cac0711150279a111ce842780a71f21a3a012563","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45438/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45438/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45438/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/bebc6f8e076672a214afd8fe465a85348a814ae4","head":{"label":"stevomitric:stevomitric/match-error-handling","ref":"stevomitric/match-error-handling","sha":"bebc6f8e076672a214afd8fe465a85348a814ae4","user":{"login":"stevomitric","id":16582560,"node_id":"MDQ6VXNlcjE2NTgyNTYw","avatar_url":"https://avatars.githubusercontent.com/u/16582560?v=4","gravatar_id":"","url":"https://api.github.com/users/stevomitric","html_url":"https://github.com/stevomitric","followers_url":"https://api.github.com/users/stevomitric/followers","following_url":"https://api.github.com/users/stevomitric/following{/other_user}","gists_url":"https://api.github.com/users/stevomitric/gists{/gist_id}","starred_url":"https://api.github.com/users/stevomitric/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevomitric/subscriptions","organizations_url":"https://api.github.com/users/stevomitric/orgs","repos_url":"https://api.github.com/users/stevomitric/repos","events_url":"https://api.github.com/users/stevomitric/events{/privacy}","received_events_url":"https://api.github.com/users/stevomitric/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":768027483,"node_id":"R_kgDOLccrWw","name":"spark","full_name":"stevomitric/spark","private":false,"owner":{"login":"stevomitric","id":16582560,"node_id":"MDQ6VXNlcjE2NTgyNTYw","avatar_url":"https://avatars.githubusercontent.com/u/16582560?v=4","gravatar_id":"","url":"https://api.github.com/users/stevomitric","html_url":"https://github.com/stevomitric","followers_url":"https://api.github.com/users/stevomitric/followers","following_url":"https://api.github.com/users/stevomitric/following{/other_user}","gists_url":"https://api.github.com/users/stevomitric/gists{/gist_id}","starred_url":"https://api.github.com/users/stevomitric/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevomitric/subscriptions","organizations_url":"https://api.github.com/users/stevomitric/orgs","repos_url":"https://api.github.com/users/stevomitric/repos","events_url":"https://api.github.com/users/stevomitric/events{/privacy}","received_events_url":"https://api.github.com/users/stevomitric/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/stevomitric/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/stevomitric/spark","forks_url":"https://api.github.com/repos/stevomitric/spark/forks","keys_url":"https://api.github.com/repos/stevomitric/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/stevomitric/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/stevomitric/spark/teams","hooks_url":"https://api.github.com/repos/stevomitric/spark/hooks","issue_events_url":"https://api.github.com/repos/stevomitric/spark/issues/events{/number}","events_url":"https://api.github.com/repos/stevomitric/spark/events","assignees_url":"https://api.github.com/repos/stevomitric/spark/assignees{/user}","branches_url":"https://api.github.com/repos/stevomitric/spark/branches{/branch}","tags_url":"https://api.github.com/repos/stevomitric/spark/tags","blobs_url":"https://api.github.com/repos/stevomitric/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/stevomitric/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/stevomitric/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/stevomitric/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/stevomitric/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/stevomitric/spark/languages","stargazers_url":"https://api.github.com/repos/stevomitric/spark/stargazers","contributors_url":"https://api.github.com/repos/stevomitric/spark/contributors","subscribers_url":"https://api.github.com/repos/stevomitric/spark/subscribers","subscription_url":"https://api.github.com/repos/stevomitric/spark/subscription","commits_url":"https://api.github.com/repos/stevomitric/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/stevomitric/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/stevomitric/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/stevomitric/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/stevomitric/spark/contents/{+path}","compare_url":"https://api.github.com/repos/stevomitric/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/stevomitric/spark/merges","archive_url":"https://api.github.com/repos/stevomitric/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/stevomitric/spark/downloads","issues_url":"https://api.github.com/repos/stevomitric/spark/issues{/number}","pulls_url":"https://api.github.com/repos/stevomitric/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/stevomitric/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/stevomitric/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/stevomitric/spark/labels{/name}","releases_url":"https://api.github.com/repos/stevomitric/spark/releases{/id}","deployments_url":"https://api.github.com/repos/stevomitric/spark/deployments","created_at":"2024-03-06T10:37:34Z","updated_at":"2025-01-15T16:32:49Z","pushed_at":"2025-01-20T12:09:34Z","git_url":"git://github.com/stevomitric/spark.git","ssh_url":"git@github.com:stevomitric/spark.git","clone_url":"https://github.com/stevomitric/spark.git","svn_url":"https://github.com/stevomitric/spark","homepage":"https://spark.apache.org/","size":420092,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"640ed4fad32f1042d564166ddca2609190fb6a96","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45438"},"html":{"href":"https://github.com/apache/spark/pull/45438"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45438"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45438/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45438/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45438/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/bebc6f8e076672a214afd8fe465a85348a814ae4"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45437","id":1763010979,"node_id":"PR_kwDOAQXtWs5pFWmj","html_url":"https://github.com/apache/spark/pull/45437","diff_url":"https://github.com/apache/spark/pull/45437.diff","patch_url":"https://github.com/apache/spark/pull/45437.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45437","number":45437,"state":"closed","locked":false,"title":" [MINOR][DOCS][SQL] Fix doc comment for coalescePartitions.parallelismFirst","user":{"login":"eejbyfeldt","id":73838248,"node_id":"MDQ6VXNlcjczODM4MjQ4","avatar_url":"https://avatars.githubusercontent.com/u/73838248?v=4","gravatar_id":"","url":"https://api.github.com/users/eejbyfeldt","html_url":"https://github.com/eejbyfeldt","followers_url":"https://api.github.com/users/eejbyfeldt/followers","following_url":"https://api.github.com/users/eejbyfeldt/following{/other_user}","gists_url":"https://api.github.com/users/eejbyfeldt/gists{/gist_id}","starred_url":"https://api.github.com/users/eejbyfeldt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eejbyfeldt/subscriptions","organizations_url":"https://api.github.com/users/eejbyfeldt/orgs","repos_url":"https://api.github.com/users/eejbyfeldt/repos","events_url":"https://api.github.com/users/eejbyfeldt/events{/privacy}","received_events_url":"https://api.github.com/users/eejbyfeldt/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"This changes the second `true` to `false` to make the doc comment correct. A setting of false will mean to not prioritize parallism and that will lead to less small tasks. Seems like it incorrectness was introduced here: https://github.com/apache/spark/pull/44787\r\n\r\n<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nDocumentation fix.\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nCurrent doc is wrong.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nN/A\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo.","created_at":"2024-03-08T13:38:20Z","updated_at":"2024-03-11T08:34:07Z","closed_at":"2024-03-11T00:20:40Z","merged_at":null,"merge_commit_sha":"32814de445c346c82d6788dbc3af8be9a5e1f288","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45437/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45437/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45437/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/c603103bfc0d72a2c3958fae1db868fdd7bd5822","head":{"label":"eejbyfeldt:fix-minor-doc-comment-on-parallism-first","ref":"fix-minor-doc-comment-on-parallism-first","sha":"c603103bfc0d72a2c3958fae1db868fdd7bd5822","user":{"login":"eejbyfeldt","id":73838248,"node_id":"MDQ6VXNlcjczODM4MjQ4","avatar_url":"https://avatars.githubusercontent.com/u/73838248?v=4","gravatar_id":"","url":"https://api.github.com/users/eejbyfeldt","html_url":"https://github.com/eejbyfeldt","followers_url":"https://api.github.com/users/eejbyfeldt/followers","following_url":"https://api.github.com/users/eejbyfeldt/following{/other_user}","gists_url":"https://api.github.com/users/eejbyfeldt/gists{/gist_id}","starred_url":"https://api.github.com/users/eejbyfeldt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eejbyfeldt/subscriptions","organizations_url":"https://api.github.com/users/eejbyfeldt/orgs","repos_url":"https://api.github.com/users/eejbyfeldt/repos","events_url":"https://api.github.com/users/eejbyfeldt/events{/privacy}","received_events_url":"https://api.github.com/users/eejbyfeldt/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":373800628,"node_id":"MDEwOlJlcG9zaXRvcnkzNzM4MDA2Mjg=","name":"spark","full_name":"eejbyfeldt/spark","private":false,"owner":{"login":"eejbyfeldt","id":73838248,"node_id":"MDQ6VXNlcjczODM4MjQ4","avatar_url":"https://avatars.githubusercontent.com/u/73838248?v=4","gravatar_id":"","url":"https://api.github.com/users/eejbyfeldt","html_url":"https://github.com/eejbyfeldt","followers_url":"https://api.github.com/users/eejbyfeldt/followers","following_url":"https://api.github.com/users/eejbyfeldt/following{/other_user}","gists_url":"https://api.github.com/users/eejbyfeldt/gists{/gist_id}","starred_url":"https://api.github.com/users/eejbyfeldt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eejbyfeldt/subscriptions","organizations_url":"https://api.github.com/users/eejbyfeldt/orgs","repos_url":"https://api.github.com/users/eejbyfeldt/repos","events_url":"https://api.github.com/users/eejbyfeldt/events{/privacy}","received_events_url":"https://api.github.com/users/eejbyfeldt/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/eejbyfeldt/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/eejbyfeldt/spark","forks_url":"https://api.github.com/repos/eejbyfeldt/spark/forks","keys_url":"https://api.github.com/repos/eejbyfeldt/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/eejbyfeldt/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/eejbyfeldt/spark/teams","hooks_url":"https://api.github.com/repos/eejbyfeldt/spark/hooks","issue_events_url":"https://api.github.com/repos/eejbyfeldt/spark/issues/events{/number}","events_url":"https://api.github.com/repos/eejbyfeldt/spark/events","assignees_url":"https://api.github.com/repos/eejbyfeldt/spark/assignees{/user}","branches_url":"https://api.github.com/repos/eejbyfeldt/spark/branches{/branch}","tags_url":"https://api.github.com/repos/eejbyfeldt/spark/tags","blobs_url":"https://api.github.com/repos/eejbyfeldt/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/eejbyfeldt/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/eejbyfeldt/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/eejbyfeldt/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/eejbyfeldt/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/eejbyfeldt/spark/languages","stargazers_url":"https://api.github.com/repos/eejbyfeldt/spark/stargazers","contributors_url":"https://api.github.com/repos/eejbyfeldt/spark/contributors","subscribers_url":"https://api.github.com/repos/eejbyfeldt/spark/subscribers","subscription_url":"https://api.github.com/repos/eejbyfeldt/spark/subscription","commits_url":"https://api.github.com/repos/eejbyfeldt/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/eejbyfeldt/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/eejbyfeldt/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/eejbyfeldt/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/eejbyfeldt/spark/contents/{+path}","compare_url":"https://api.github.com/repos/eejbyfeldt/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/eejbyfeldt/spark/merges","archive_url":"https://api.github.com/repos/eejbyfeldt/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/eejbyfeldt/spark/downloads","issues_url":"https://api.github.com/repos/eejbyfeldt/spark/issues{/number}","pulls_url":"https://api.github.com/repos/eejbyfeldt/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/eejbyfeldt/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/eejbyfeldt/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/eejbyfeldt/spark/labels{/name}","releases_url":"https://api.github.com/repos/eejbyfeldt/spark/releases{/id}","deployments_url":"https://api.github.com/repos/eejbyfeldt/spark/deployments","created_at":"2021-06-04T10:07:59Z","updated_at":"2024-07-01T13:03:49Z","pushed_at":"2024-12-16T08:54:17Z","git_url":"git://github.com/eejbyfeldt/spark.git","ssh_url":"git@github.com:eejbyfeldt/spark.git","clone_url":"https://github.com/eejbyfeldt/spark.git","svn_url":"https://github.com/eejbyfeldt/spark","homepage":"https://spark.apache.org/","size":460540,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"640ed4fad32f1042d564166ddca2609190fb6a96","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45437"},"html":{"href":"https://github.com/apache/spark/pull/45437"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45437"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45437/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45437/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45437/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/c603103bfc0d72a2c3958fae1db868fdd7bd5822"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45436","id":1763009826,"node_id":"PR_kwDOAQXtWs5pFWUi","html_url":"https://github.com/apache/spark/pull/45436","diff_url":"https://github.com/apache/spark/pull/45436.diff","patch_url":"https://github.com/apache/spark/pull/45436.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45436","number":45436,"state":"closed","locked":false,"title":"[SPARK-47327][SQL] Fix thread safety issue in ICU Collator","user":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nFreezing the ICU collator upon creation.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nIn order to avoid multiple threads writing to the collation buffer during the generation of collation sort keys which then results in data corruption and an internal error.\r\nYou can read more about collator thread safety [here](https://unicode-org.github.io/icu/userguide/icu/design.html#icu-threading-model-and-open-and-close-model)\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nNew unti test\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nno","created_at":"2024-03-08T13:37:31Z","updated_at":"2024-03-11T23:47:12Z","closed_at":"2024-03-11T23:47:12Z","merged_at":null,"merge_commit_sha":"0fe0a07df38dcf54b9888d98d6dc02e073ddd22d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45436/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45436/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45436/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/8ec9efde0040da93254092b1f200168f489df01f","head":{"label":"stefankandic:icuConcurrencyIssue","ref":"icuConcurrencyIssue","sha":"8ec9efde0040da93254092b1f200168f489df01f","user":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":734708961,"node_id":"R_kgDOK8rE4Q","name":"spark","full_name":"stefankandic/spark","private":false,"owner":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/stefankandic/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/stefankandic/spark","forks_url":"https://api.github.com/repos/stefankandic/spark/forks","keys_url":"https://api.github.com/repos/stefankandic/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/stefankandic/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/stefankandic/spark/teams","hooks_url":"https://api.github.com/repos/stefankandic/spark/hooks","issue_events_url":"https://api.github.com/repos/stefankandic/spark/issues/events{/number}","events_url":"https://api.github.com/repos/stefankandic/spark/events","assignees_url":"https://api.github.com/repos/stefankandic/spark/assignees{/user}","branches_url":"https://api.github.com/repos/stefankandic/spark/branches{/branch}","tags_url":"https://api.github.com/repos/stefankandic/spark/tags","blobs_url":"https://api.github.com/repos/stefankandic/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/stefankandic/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/stefankandic/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/stefankandic/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/stefankandic/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/stefankandic/spark/languages","stargazers_url":"https://api.github.com/repos/stefankandic/spark/stargazers","contributors_url":"https://api.github.com/repos/stefankandic/spark/contributors","subscribers_url":"https://api.github.com/repos/stefankandic/spark/subscribers","subscription_url":"https://api.github.com/repos/stefankandic/spark/subscription","commits_url":"https://api.github.com/repos/stefankandic/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/stefankandic/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/stefankandic/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/stefankandic/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/stefankandic/spark/contents/{+path}","compare_url":"https://api.github.com/repos/stefankandic/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/stefankandic/spark/merges","archive_url":"https://api.github.com/repos/stefankandic/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/stefankandic/spark/downloads","issues_url":"https://api.github.com/repos/stefankandic/spark/issues{/number}","pulls_url":"https://api.github.com/repos/stefankandic/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/stefankandic/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/stefankandic/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/stefankandic/spark/labels{/name}","releases_url":"https://api.github.com/repos/stefankandic/spark/releases{/id}","deployments_url":"https://api.github.com/repos/stefankandic/spark/deployments","created_at":"2023-12-22T11:54:18Z","updated_at":"2024-10-23T17:40:10Z","pushed_at":"2025-02-04T22:21:43Z","git_url":"git://github.com/stefankandic/spark.git","ssh_url":"git@github.com:stefankandic/spark.git","clone_url":"https://github.com/stefankandic/spark.git","svn_url":"https://github.com/stefankandic/spark","homepage":"https://spark.apache.org/","size":434684,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"640ed4fad32f1042d564166ddca2609190fb6a96","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45436"},"html":{"href":"https://github.com/apache/spark/pull/45436"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45436"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45436/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45436/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45436/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/8ec9efde0040da93254092b1f200168f489df01f"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45435","id":1762863544,"node_id":"PR_kwDOAQXtWs5pEym4","html_url":"https://github.com/apache/spark/pull/45435","diff_url":"https://github.com/apache/spark/pull/45435.diff","patch_url":"https://github.com/apache/spark/pull/45435.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45435","number":45435,"state":"closed","locked":false,"title":"[SPARK-47324][SQL] Add missing timestamp conversion for JDBC nested types","user":{"login":"yaooqinn","id":8326978,"node_id":"MDQ6VXNlcjgzMjY5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/8326978?v=4","gravatar_id":"","url":"https://api.github.com/users/yaooqinn","html_url":"https://github.com/yaooqinn","followers_url":"https://api.github.com/users/yaooqinn/followers","following_url":"https://api.github.com/users/yaooqinn/following{/other_user}","gists_url":"https://api.github.com/users/yaooqinn/gists{/gist_id}","starred_url":"https://api.github.com/users/yaooqinn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yaooqinn/subscriptions","organizations_url":"https://api.github.com/users/yaooqinn/orgs","repos_url":"https://api.github.com/users/yaooqinn/repos","events_url":"https://api.github.com/users/yaooqinn/events{/privacy}","received_events_url":"https://api.github.com/users/yaooqinn/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n[SPARK-44280](https://issues.apache.org/jira/browse/SPARK-44280) added a new API convertJavaTimestampToTimestamp which is called only for plain timestamps.\r\n\r\nThis PR makes it work for timestamps in arrays\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\ndata consistency/correctness\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->no\r\n\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nnew tests\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nno","created_at":"2024-03-08T11:59:53Z","updated_at":"2024-03-11T03:56:39Z","closed_at":"2024-03-11T00:34:16Z","merged_at":null,"merge_commit_sha":"9eb1e9734126d5c0f50689f377c6779d43acc14b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45435/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45435/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45435/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/6ed77af518cce34d976f212077d9e5e4abd127ba","head":{"label":"yaooqinn:SPARK-47324","ref":"SPARK-47324","sha":"6ed77af518cce34d976f212077d9e5e4abd127ba","user":{"login":"yaooqinn","id":8326978,"node_id":"MDQ6VXNlcjgzMjY5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/8326978?v=4","gravatar_id":"","url":"https://api.github.com/users/yaooqinn","html_url":"https://github.com/yaooqinn","followers_url":"https://api.github.com/users/yaooqinn/followers","following_url":"https://api.github.com/users/yaooqinn/following{/other_user}","gists_url":"https://api.github.com/users/yaooqinn/gists{/gist_id}","starred_url":"https://api.github.com/users/yaooqinn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yaooqinn/subscriptions","organizations_url":"https://api.github.com/users/yaooqinn/orgs","repos_url":"https://api.github.com/users/yaooqinn/repos","events_url":"https://api.github.com/users/yaooqinn/events{/privacy}","received_events_url":"https://api.github.com/users/yaooqinn/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":357976080,"node_id":"MDEwOlJlcG9zaXRvcnkzNTc5NzYwODA=","name":"spark","full_name":"yaooqinn/spark","private":false,"owner":{"login":"yaooqinn","id":8326978,"node_id":"MDQ6VXNlcjgzMjY5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/8326978?v=4","gravatar_id":"","url":"https://api.github.com/users/yaooqinn","html_url":"https://github.com/yaooqinn","followers_url":"https://api.github.com/users/yaooqinn/followers","following_url":"https://api.github.com/users/yaooqinn/following{/other_user}","gists_url":"https://api.github.com/users/yaooqinn/gists{/gist_id}","starred_url":"https://api.github.com/users/yaooqinn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yaooqinn/subscriptions","organizations_url":"https://api.github.com/users/yaooqinn/orgs","repos_url":"https://api.github.com/users/yaooqinn/repos","events_url":"https://api.github.com/users/yaooqinn/events{/privacy}","received_events_url":"https://api.github.com/users/yaooqinn/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/yaooqinn/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/yaooqinn/spark","forks_url":"https://api.github.com/repos/yaooqinn/spark/forks","keys_url":"https://api.github.com/repos/yaooqinn/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/yaooqinn/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/yaooqinn/spark/teams","hooks_url":"https://api.github.com/repos/yaooqinn/spark/hooks","issue_events_url":"https://api.github.com/repos/yaooqinn/spark/issues/events{/number}","events_url":"https://api.github.com/repos/yaooqinn/spark/events","assignees_url":"https://api.github.com/repos/yaooqinn/spark/assignees{/user}","branches_url":"https://api.github.com/repos/yaooqinn/spark/branches{/branch}","tags_url":"https://api.github.com/repos/yaooqinn/spark/tags","blobs_url":"https://api.github.com/repos/yaooqinn/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/yaooqinn/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/yaooqinn/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/yaooqinn/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/yaooqinn/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/yaooqinn/spark/languages","stargazers_url":"https://api.github.com/repos/yaooqinn/spark/stargazers","contributors_url":"https://api.github.com/repos/yaooqinn/spark/contributors","subscribers_url":"https://api.github.com/repos/yaooqinn/spark/subscribers","subscription_url":"https://api.github.com/repos/yaooqinn/spark/subscription","commits_url":"https://api.github.com/repos/yaooqinn/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/yaooqinn/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/yaooqinn/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/yaooqinn/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/yaooqinn/spark/contents/{+path}","compare_url":"https://api.github.com/repos/yaooqinn/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/yaooqinn/spark/merges","archive_url":"https://api.github.com/repos/yaooqinn/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/yaooqinn/spark/downloads","issues_url":"https://api.github.com/repos/yaooqinn/spark/issues{/number}","pulls_url":"https://api.github.com/repos/yaooqinn/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/yaooqinn/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/yaooqinn/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/yaooqinn/spark/labels{/name}","releases_url":"https://api.github.com/repos/yaooqinn/spark/releases{/id}","deployments_url":"https://api.github.com/repos/yaooqinn/spark/deployments","created_at":"2021-04-14T16:44:36Z","updated_at":"2024-11-05T08:03:33Z","pushed_at":"2025-01-24T02:12:30Z","git_url":"git://github.com/yaooqinn/spark.git","ssh_url":"git@github.com:yaooqinn/spark.git","clone_url":"https://github.com/yaooqinn/spark.git","svn_url":"https://github.com/yaooqinn/spark","homepage":"https://spark.apache.org/","size":468287,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"640ed4fad32f1042d564166ddca2609190fb6a96","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45435"},"html":{"href":"https://github.com/apache/spark/pull/45435"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45435"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45435/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45435/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45435/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/6ed77af518cce34d976f212077d9e5e4abd127ba"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45434","id":1762526573,"node_id":"PR_kwDOAQXtWs5pDgVt","html_url":"https://github.com/apache/spark/pull/45434","diff_url":"https://github.com/apache/spark/pull/45434.diff","patch_url":"https://github.com/apache/spark/pull/45434.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45434","number":45434,"state":"closed","locked":false,"title":"[MINOR][DOCS] Fix the doc for Integral types","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nFix the doc for Integral types\r\n\r\n\r\n### Why are the changes needed?\r\nit seems the description of integral type are not correctly rendered\r\n\r\nbefore:\r\nhttps://spark.apache.org/docs/latest/api/python/reference/pyspark.sql/data_types.html\r\n\r\n![image](https://github.com/apache/spark/assets/7322292/edf1061e-fea4-427d-ae72-010b180a2cd3)\r\n\r\n\r\n\r\nafter:\r\n![image](https://github.com/apache/spark/assets/7322292/cf53494e-f4b1-4c86-83b2-ecf8cad806c7)\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nyes, doc\r\n\r\n\r\n### How was this patch tested?\r\nmanually check\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nno\r\n","created_at":"2024-03-08T08:21:41Z","updated_at":"2024-03-08T09:21:34Z","closed_at":"2024-03-08T09:21:11Z","merged_at":null,"merge_commit_sha":"5d4b318526d3272cc1cb02eb745ea9f5a213dd77","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45434/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45434/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45434/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/15d34c1a2fe2857dd6d31ddb3eb7cb0669d6883b","head":{"label":"zhengruifeng:nit_py_datatype_doc","ref":"nit_py_datatype_doc","sha":"15d34c1a2fe2857dd6d31ddb3eb7cb0669d6883b","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":51584791,"node_id":"MDEwOlJlcG9zaXRvcnk1MTU4NDc5MQ==","name":"spark","full_name":"zhengruifeng/spark","private":false,"owner":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhengruifeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zhengruifeng/spark","forks_url":"https://api.github.com/repos/zhengruifeng/spark/forks","keys_url":"https://api.github.com/repos/zhengruifeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhengruifeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhengruifeng/spark/teams","hooks_url":"https://api.github.com/repos/zhengruifeng/spark/hooks","issue_events_url":"https://api.github.com/repos/zhengruifeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhengruifeng/spark/events","assignees_url":"https://api.github.com/repos/zhengruifeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhengruifeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhengruifeng/spark/tags","blobs_url":"https://api.github.com/repos/zhengruifeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhengruifeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhengruifeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhengruifeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhengruifeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhengruifeng/spark/languages","stargazers_url":"https://api.github.com/repos/zhengruifeng/spark/stargazers","contributors_url":"https://api.github.com/repos/zhengruifeng/spark/contributors","subscribers_url":"https://api.github.com/repos/zhengruifeng/spark/subscribers","subscription_url":"https://api.github.com/repos/zhengruifeng/spark/subscription","commits_url":"https://api.github.com/repos/zhengruifeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhengruifeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhengruifeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhengruifeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhengruifeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhengruifeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhengruifeng/spark/merges","archive_url":"https://api.github.com/repos/zhengruifeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhengruifeng/spark/downloads","issues_url":"https://api.github.com/repos/zhengruifeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhengruifeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhengruifeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhengruifeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhengruifeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhengruifeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhengruifeng/spark/deployments","created_at":"2016-02-12T11:58:00Z","updated_at":"2025-02-09T01:55:22Z","pushed_at":"2025-02-09T01:55:17Z","git_url":"git://github.com/zhengruifeng/spark.git","ssh_url":"git@github.com:zhengruifeng/spark.git","clone_url":"https://github.com/zhengruifeng/spark.git","svn_url":"https://github.com/zhengruifeng/spark","homepage":null,"size":434785,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c0a8cf9cca08b278b41c2149d8067debe98c56e9","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45434"},"html":{"href":"https://github.com/apache/spark/pull/45434"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45434"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45434/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45434/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45434/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/15d34c1a2fe2857dd6d31ddb3eb7cb0669d6883b"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45433","id":1762515516,"node_id":"PR_kwDOAQXtWs5pDdo8","html_url":"https://github.com/apache/spark/pull/45433","diff_url":"https://github.com/apache/spark/pull/45433.diff","patch_url":"https://github.com/apache/spark/pull/45433.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45433","number":45433,"state":"closed","locked":false,"title":"[SPARK-47325][INFRA] Use the latest `buf-setup-action` in github workflow","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to `unpin` specific version `buf-setup-action` in github workflow building.\r\n\r\n### Why are the changes needed?\r\n- [The last](https://github.com/apache/spark/pull/45205) `pin` to a `specific version` was due to a bug in the version `v1.29.0-1`.  The latest version has been upgraded to `v1.30.0`, and testing has found that this version is ok.\r\n\r\n- This latest version `v1.30.0` has a `change` regarding the upgrade from `node16` to `node20`.\r\n  https://github.com/bufbuild/buf-setup-action/compare/v1.29.0...v1.30.0\r\n  <img width=\"1257\" alt=\"image\" src=\"https://github.com/apache/spark/assets/15246973/8277ac62-dc36-4237-8dc0-1522f5f248b8\">\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nPass GA.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-03-08T08:12:49Z","updated_at":"2024-03-10T23:53:41Z","closed_at":"2024-03-10T23:53:40Z","merged_at":null,"merge_commit_sha":"5dd5b60b2840750ce6603b38c92043134f26e2a9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1982110661,"node_id":"MDU6TGFiZWwxOTgyMTEwNjYx","url":"https://api.github.com/repos/apache/spark/labels/INFRA","name":"INFRA","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45433/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45433/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45433/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/970f83d4899597b04fc3e1820d3646cbed402e98","head":{"label":"panbingkun:test_buf-setup-action_1_30_0","ref":"test_buf-setup-action_1_30_0","sha":"970f83d4899597b04fc3e1820d3646cbed402e98","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c0a8cf9cca08b278b41c2149d8067debe98c56e9","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45433"},"html":{"href":"https://github.com/apache/spark/pull/45433"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45433"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45433/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45433/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45433/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/970f83d4899597b04fc3e1820d3646cbed402e98"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45432","id":1762467273,"node_id":"PR_kwDOAQXtWs5pDR3J","html_url":"https://github.com/apache/spark/pull/45432","diff_url":"https://github.com/apache/spark/pull/45432.diff","patch_url":"https://github.com/apache/spark/pull/45432.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45432","number":45432,"state":"closed","locked":false,"title":"[SPARK-47329][SS][DOCS] Add note to persist dataframe while using foreachbatch and stateful streaming query to prevent state from being re-loaded in each batch","user":{"login":"anishshri-db","id":100322362,"node_id":"U_kgDOBfrMOg","avatar_url":"https://avatars.githubusercontent.com/u/100322362?v=4","gravatar_id":"","url":"https://api.github.com/users/anishshri-db","html_url":"https://github.com/anishshri-db","followers_url":"https://api.github.com/users/anishshri-db/followers","following_url":"https://api.github.com/users/anishshri-db/following{/other_user}","gists_url":"https://api.github.com/users/anishshri-db/gists{/gist_id}","starred_url":"https://api.github.com/users/anishshri-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anishshri-db/subscriptions","organizations_url":"https://api.github.com/users/anishshri-db/orgs","repos_url":"https://api.github.com/users/anishshri-db/repos","events_url":"https://api.github.com/users/anishshri-db/events{/privacy}","received_events_url":"https://api.github.com/users/anishshri-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nAdd note to persist dataframe while using foreachbatch and stateful streaming query to prevent state from being re-loaded in each batch\r\n\r\n### Why are the changes needed?\r\nWithout this recommendation, if the user did not persist the dataframe in their UDF and multiple actions are called on the dataframe, the query is evaluated multiple times within the same batch leading to the state store invalidating the loaded version and reloading from cloud each time, which leads to severely degraded performance.\r\n\r\nFor eg -\r\nWithout the change, we see the same state instance loaded and committed multiple times\r\n```\r\nsql/core/target/unit-tests.log:596:10:17:17.090 Executor task launch worker for task 2.0 in stage 8.0 (TID 20) INFO HDFSBackedStateStoreProvider: Committed version 2 for HDFSStateStore[id=(op=0,part=2),dir=file:/Users/anish.shrigondekar/spark/spark/target/tmp/temporary-1ff51b75-034b-496d-8fc9-81df5ba78725/state/0/2] to file file:/Users/anish.shrigondekar/spark/spark/target/tmp/temporary-1ff51b75-034b-496d-8fc9-81df5ba78725/state/0/2/2.delta\r\nsql/core/target/unit-tests.log:710:10:17:17.612 Executor task launch worker for task 2.0 in stage 11.0 (TID 26) INFO HDFSBackedStateStoreProvider: Committed version 2 for HDFSStateStore[id=(op=0,part=2),dir=file:/Users/anish.shrigondekar/spark/spark/target/tmp/temporary-1ff51b75-034b-496d-8fc9-81df5ba78725/state/0/2] to file file:/Users/anish.shrigondekar/spark/spark/target/tmp/temporary-1ff51b75-034b-496d-8fc9-81df5ba78725/state/0/2/2.delta\r\nsql/core/target/unit-tests.log:813:10:17:18.123 Executor task launch worker for task 2.0 in stage 13.0 (TID 31) INFO HDFSBackedStateStoreProvider: Committed version 2 for HDFSStateStore[id=(op=0,part=2),dir=file:/Users/anish.shrigondekar/spark/spark/target/tmp/temporary-1ff51b75-034b-496d-8fc9-81df5ba78725/state/0/2] to file file:/Users/anish.shrigondekar/spark/spark/target/tmp/temporary-1ff51b75-034b-496d-8fc9-81df5ba78725/state/0/2/2.delta\r\n```\r\n\r\nWith the change, we see the same state instance loaded and committed only once\r\n```\r\nsql/core/target/unit-tests.log:516:10:22:47.150 Executor task launch worker for task 2.0 in stage 8.0 (TID 20) INFO HDFSBackedStateStoreProvider: Committed version 2 for HDFSStateStore[id=(op=0,part=2),dir=file:/Users/anish.shrigondekar/spark/spark/target/tmp/temporary-870e4666-52dc-471e-bb19-e6c8f372d0ca/state/0/2] to file file:/Users/anish.shrigondekar/spark/spark/target/tmp/temporary-870e4666-52dc-471e-bb19-e6c8f372d0ca/state/0/2/2.delta\r\n```\r\n\r\nNote that we cannot always call `persist` before the `foreachbatch` function because it might lead to increased cache memory usage, possible disk writes (with the `MEMORY_AND_DISK` default level) and also trigger unwanted eviction of other critical cache blocks. Hence, we leave this responsibility to the caller.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nExisting unit tests\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo","created_at":"2024-03-08T07:34:06Z","updated_at":"2024-03-19T02:15:24Z","closed_at":"2024-03-19T02:15:24Z","merged_at":null,"merge_commit_sha":"eb32ee1677d62e1f0fde4a22655e58888bbc7141","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45432/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45432/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45432/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/d3fd1554db0b037ea38e30ddb0025fafee0934cf","head":{"label":"anishshri-db:task/feb_persist_issue","ref":"task/feb_persist_issue","sha":"d3fd1554db0b037ea38e30ddb0025fafee0934cf","user":{"login":"anishshri-db","id":100322362,"node_id":"U_kgDOBfrMOg","avatar_url":"https://avatars.githubusercontent.com/u/100322362?v=4","gravatar_id":"","url":"https://api.github.com/users/anishshri-db","html_url":"https://github.com/anishshri-db","followers_url":"https://api.github.com/users/anishshri-db/followers","following_url":"https://api.github.com/users/anishshri-db/following{/other_user}","gists_url":"https://api.github.com/users/anishshri-db/gists{/gist_id}","starred_url":"https://api.github.com/users/anishshri-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anishshri-db/subscriptions","organizations_url":"https://api.github.com/users/anishshri-db/orgs","repos_url":"https://api.github.com/users/anishshri-db/repos","events_url":"https://api.github.com/users/anishshri-db/events{/privacy}","received_events_url":"https://api.github.com/users/anishshri-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":477925242,"node_id":"R_kgDOHHyPeg","name":"spark","full_name":"anishshri-db/spark","private":false,"owner":{"login":"anishshri-db","id":100322362,"node_id":"U_kgDOBfrMOg","avatar_url":"https://avatars.githubusercontent.com/u/100322362?v=4","gravatar_id":"","url":"https://api.github.com/users/anishshri-db","html_url":"https://github.com/anishshri-db","followers_url":"https://api.github.com/users/anishshri-db/followers","following_url":"https://api.github.com/users/anishshri-db/following{/other_user}","gists_url":"https://api.github.com/users/anishshri-db/gists{/gist_id}","starred_url":"https://api.github.com/users/anishshri-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anishshri-db/subscriptions","organizations_url":"https://api.github.com/users/anishshri-db/orgs","repos_url":"https://api.github.com/users/anishshri-db/repos","events_url":"https://api.github.com/users/anishshri-db/events{/privacy}","received_events_url":"https://api.github.com/users/anishshri-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/anishshri-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/anishshri-db/spark","forks_url":"https://api.github.com/repos/anishshri-db/spark/forks","keys_url":"https://api.github.com/repos/anishshri-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/anishshri-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/anishshri-db/spark/teams","hooks_url":"https://api.github.com/repos/anishshri-db/spark/hooks","issue_events_url":"https://api.github.com/repos/anishshri-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/anishshri-db/spark/events","assignees_url":"https://api.github.com/repos/anishshri-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/anishshri-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/anishshri-db/spark/tags","blobs_url":"https://api.github.com/repos/anishshri-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/anishshri-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/anishshri-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/anishshri-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/anishshri-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/anishshri-db/spark/languages","stargazers_url":"https://api.github.com/repos/anishshri-db/spark/stargazers","contributors_url":"https://api.github.com/repos/anishshri-db/spark/contributors","subscribers_url":"https://api.github.com/repos/anishshri-db/spark/subscribers","subscription_url":"https://api.github.com/repos/anishshri-db/spark/subscription","commits_url":"https://api.github.com/repos/anishshri-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/anishshri-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/anishshri-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/anishshri-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/anishshri-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/anishshri-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/anishshri-db/spark/merges","archive_url":"https://api.github.com/repos/anishshri-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/anishshri-db/spark/downloads","issues_url":"https://api.github.com/repos/anishshri-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/anishshri-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/anishshri-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/anishshri-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/anishshri-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/anishshri-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/anishshri-db/spark/deployments","created_at":"2022-04-05T00:49:09Z","updated_at":"2025-02-07T06:48:07Z","pushed_at":"2025-02-08T01:18:11Z","git_url":"git://github.com/anishshri-db/spark.git","ssh_url":"git@github.com:anishshri-db/spark.git","clone_url":"https://github.com/anishshri-db/spark.git","svn_url":"https://github.com/anishshri-db/spark","homepage":"https://spark.apache.org/","size":468506,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"29e91d0e48a342ceae1259a9b0d10cb27244a14a","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45432"},"html":{"href":"https://github.com/apache/spark/pull/45432"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45432"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45432/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45432/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45432/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/d3fd1554db0b037ea38e30ddb0025fafee0934cf"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45431","id":1762439926,"node_id":"PR_kwDOAQXtWs5pDLL2","html_url":"https://github.com/apache/spark/pull/45431","diff_url":"https://github.com/apache/spark/pull/45431.diff","patch_url":"https://github.com/apache/spark/pull/45431.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45431","number":45431,"state":"closed","locked":false,"title":"[SPARK-47322][PYTHON][CONNECT] Make `withColumnsRenamed` column names duplication handling consistent with `withColumnRenamed`","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nMake `withColumnsRenamed` duplicated column name handling consistent with `withColumnRenamed`\r\n\r\n\r\n### Why are the changes needed?\r\n`withColumnsRenamed` checks the column names duplication of output dataframe, this is not consistent with `withColumnRenamed`:\r\n1, `withColumnRenamed` doesn't do this check, and support output a dataframe with duplicated column names;\r\n2, when the input dataframe has duplicated column names, `withColumnsRenamed` always fail, even if the columns with the same name are not touched at all:\r\n\r\n\r\n```\r\nIn [8]: df1 = spark.createDataFrame([(1, \"id2\"),], [\"id\", \"value\"])\r\n   ...: df2 = spark.createDataFrame([(1, 'x', 'id1'), ], [\"id\", 'a', \"value\"])\r\n   ...: join = df2.join(df1, on=['id'], how='left')\r\n   ...: join\r\nOut[8]: DataFrame[id: bigint, a: string, value: string, value: string]\r\n\r\nIn [9]: join.withColumnRenamed('id', 'value')\r\nOut[9]: DataFrame[value: bigint, a: string, value: string, value: string]\r\n\r\nIn [10]: join.withColumnsRenamed({'id' : 'value'})\r\n...\r\nAnalysisException: [COLUMN_ALREADY_EXISTS] The column `value` already exists. Choose another name or rename the existing column. SQLSTATE: 42711\r\n\r\nIn [11]: join.withColumnRenamed('a', 'b')\r\nOut[11]: DataFrame[id: bigint, b: string, value: string, value: string]\r\n\r\nIn [12]: join.withColumnsRenamed({'a' : 'b'})\r\n...\r\nAnalysisException: [COLUMN_ALREADY_EXISTS] The column `value` already exists. Choose another name or rename the existing column. SQLSTATE: 42711\r\n\r\nIn [13]: join.withColumnRenamed('x', 'y')\r\nOut[13]: DataFrame[id: bigint, a: string, value: string, value: string]\r\n\r\nIn [14]: join.withColumnsRenamed({'x' : 'y'})\r\nAnalysisException: [COLUMN_ALREADY_EXISTS] The column `value` already exists. Choose another name or rename the existing column. SQLSTATE: 42711\r\n\r\nIn [15]: join.withColumnRenamed('value', 'new_value')\r\nOut[15]: DataFrame[id: bigint, a: string, new_value: string, new_value: string]\r\n\r\nIn [16]: join.withColumnsRenamed({'value' : 'new_value'})\r\nAnalysisException: [COLUMN_ALREADY_EXISTS] The column `new_value` already exists. Choose another name or rename the existing column. SQLSTATE: 42711\r\n```\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nyes\r\n\r\n\r\n\r\n\r\n### How was this patch tested?\r\nupdated tests\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nno","created_at":"2024-03-08T07:16:25Z","updated_at":"2024-03-08T12:49:00Z","closed_at":"2024-03-08T11:52:26Z","merged_at":null,"merge_commit_sha":"ac16bd77b6a0542ca0a3e6217a0972b0385132a4","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45431/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45431/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45431/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/2eaabd8d8d9348a9584ccef9298b6ddf6c5fe8c7","head":{"label":"zhengruifeng:connect_renames","ref":"connect_renames","sha":"2eaabd8d8d9348a9584ccef9298b6ddf6c5fe8c7","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":51584791,"node_id":"MDEwOlJlcG9zaXRvcnk1MTU4NDc5MQ==","name":"spark","full_name":"zhengruifeng/spark","private":false,"owner":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhengruifeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zhengruifeng/spark","forks_url":"https://api.github.com/repos/zhengruifeng/spark/forks","keys_url":"https://api.github.com/repos/zhengruifeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhengruifeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhengruifeng/spark/teams","hooks_url":"https://api.github.com/repos/zhengruifeng/spark/hooks","issue_events_url":"https://api.github.com/repos/zhengruifeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhengruifeng/spark/events","assignees_url":"https://api.github.com/repos/zhengruifeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhengruifeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhengruifeng/spark/tags","blobs_url":"https://api.github.com/repos/zhengruifeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhengruifeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhengruifeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhengruifeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhengruifeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhengruifeng/spark/languages","stargazers_url":"https://api.github.com/repos/zhengruifeng/spark/stargazers","contributors_url":"https://api.github.com/repos/zhengruifeng/spark/contributors","subscribers_url":"https://api.github.com/repos/zhengruifeng/spark/subscribers","subscription_url":"https://api.github.com/repos/zhengruifeng/spark/subscription","commits_url":"https://api.github.com/repos/zhengruifeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhengruifeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhengruifeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhengruifeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhengruifeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhengruifeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhengruifeng/spark/merges","archive_url":"https://api.github.com/repos/zhengruifeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhengruifeng/spark/downloads","issues_url":"https://api.github.com/repos/zhengruifeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhengruifeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhengruifeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhengruifeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhengruifeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhengruifeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhengruifeng/spark/deployments","created_at":"2016-02-12T11:58:00Z","updated_at":"2025-02-09T01:55:22Z","pushed_at":"2025-02-09T01:55:17Z","git_url":"git://github.com/zhengruifeng/spark.git","ssh_url":"git@github.com:zhengruifeng/spark.git","clone_url":"https://github.com/zhengruifeng/spark.git","svn_url":"https://github.com/zhengruifeng/spark","homepage":null,"size":434785,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c0a8cf9cca08b278b41c2149d8067debe98c56e9","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45431"},"html":{"href":"https://github.com/apache/spark/pull/45431"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45431"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45431/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45431/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45431/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/2eaabd8d8d9348a9584ccef9298b6ddf6c5fe8c7"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45430","id":1762438888,"node_id":"PR_kwDOAQXtWs5pDK7o","html_url":"https://github.com/apache/spark/pull/45430","diff_url":"https://github.com/apache/spark/pull/45430.diff","patch_url":"https://github.com/apache/spark/pull/45430.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45430","number":45430,"state":"closed","locked":false,"title":"[WIP][SPARK-47321][INFRA] Upgrade `dawidd6/action-download-artifact` to v4 and `scacap/action-surefire-report` to latest","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to upgrade\r\n- `dawidd6/action-download-artifact` from `09385b76de790122f4da9c82b17bccf858b9557c` to `v3.1.2`\r\n- `scacap/action-surefire-report` from `482f012643ed0560e23ef605a79e8e87ca081648` to `v1.8.0`.\r\n\r\n### Why are the changes needed?\r\n- Eliminate warning messages about the workflow `test_report` running, especially the deprecated issue regarding `node16`.\r\n  https://github.com/apache/spark/actions/runs/8184857052\r\n  <img width=\"1017\" alt=\"image\" src=\"https://github.com/apache/spark/assets/15246973/a49249ee-3ae4-406f-beb1-b3c374248903\">\r\n\r\n- dawidd6/action-download-artifact\r\n  https://github.com/dawidd6/action-download-artifact/releases/tag/v3.0.0\r\n  <img width=\"797\" alt=\"image\" src=\"https://github.com/apache/spark/assets/15246973/7fe3a137-13af-409c-a196-966c1edf5d7d\">\r\n\r\n- scacap/action-surefire-report\r\n  https://github.com/ScaCap/action-surefire-report/releases/tag/v1.8.0\r\n  <img width=\"773\" alt=\"image\" src=\"https://github.com/apache/spark/assets/15246973/182c935e-6328-4411-8645-8ac8c7473156\">\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nObserve the running status of the workflow `test_report` in github.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-03-08T07:15:46Z","updated_at":"2024-06-18T00:20:39Z","closed_at":"2024-06-18T00:20:38Z","merged_at":null,"merge_commit_sha":"bc592868a9d0c71711b33b41a8469369b0500bda","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null},{"id":1982110661,"node_id":"MDU6TGFiZWwxOTgyMTEwNjYx","url":"https://api.github.com/repos/apache/spark/labels/INFRA","name":"INFRA","color":"ededed","default":false,"description":null}],"milestone":null,"draft":true,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45430/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45430/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45430/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/a9f4fc31f495a626d1ffa2a14c6198e484db048c","head":{"label":"panbingkun:upgrade_test_report_action","ref":"upgrade_test_report_action","sha":"a9f4fc31f495a626d1ffa2a14c6198e484db048c","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c0a8cf9cca08b278b41c2149d8067debe98c56e9","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45430"},"html":{"href":"https://github.com/apache/spark/pull/45430"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45430"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45430/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45430/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45430/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/a9f4fc31f495a626d1ffa2a14c6198e484db048c"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45429","id":1762395569,"node_id":"PR_kwDOAQXtWs5pDAWx","html_url":"https://github.com/apache/spark/pull/45429","diff_url":"https://github.com/apache/spark/pull/45429.diff","patch_url":"https://github.com/apache/spark/pull/45429.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45429","number":45429,"state":"closed","locked":false,"title":"[SPARK-47079][PYTHON][DOCS][FOLLOWUP] Add `VariantType` to API references","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nAdd `VariantType` to API references\r\n\r\n\r\n### Why are the changes needed?\r\n`VariantType` has been added in `__all__` in `types`\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nyes\r\n\r\n### How was this patch tested?\r\nci\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nno","created_at":"2024-03-08T06:44:06Z","updated_at":"2024-03-08T07:19:03Z","closed_at":"2024-03-08T07:13:08Z","merged_at":null,"merge_commit_sha":"6ffe8d0b4f0f19b5bcdfdbea0547692384949577","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45429/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45429/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45429/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/d1bdabd8d4e170354814d5a038f8c1e867b3673e","head":{"label":"zhengruifeng:doc_variant_type","ref":"doc_variant_type","sha":"d1bdabd8d4e170354814d5a038f8c1e867b3673e","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":51584791,"node_id":"MDEwOlJlcG9zaXRvcnk1MTU4NDc5MQ==","name":"spark","full_name":"zhengruifeng/spark","private":false,"owner":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhengruifeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zhengruifeng/spark","forks_url":"https://api.github.com/repos/zhengruifeng/spark/forks","keys_url":"https://api.github.com/repos/zhengruifeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhengruifeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhengruifeng/spark/teams","hooks_url":"https://api.github.com/repos/zhengruifeng/spark/hooks","issue_events_url":"https://api.github.com/repos/zhengruifeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhengruifeng/spark/events","assignees_url":"https://api.github.com/repos/zhengruifeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhengruifeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhengruifeng/spark/tags","blobs_url":"https://api.github.com/repos/zhengruifeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhengruifeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhengruifeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhengruifeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhengruifeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhengruifeng/spark/languages","stargazers_url":"https://api.github.com/repos/zhengruifeng/spark/stargazers","contributors_url":"https://api.github.com/repos/zhengruifeng/spark/contributors","subscribers_url":"https://api.github.com/repos/zhengruifeng/spark/subscribers","subscription_url":"https://api.github.com/repos/zhengruifeng/spark/subscription","commits_url":"https://api.github.com/repos/zhengruifeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhengruifeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhengruifeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhengruifeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhengruifeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhengruifeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhengruifeng/spark/merges","archive_url":"https://api.github.com/repos/zhengruifeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhengruifeng/spark/downloads","issues_url":"https://api.github.com/repos/zhengruifeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhengruifeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhengruifeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhengruifeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhengruifeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhengruifeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhengruifeng/spark/deployments","created_at":"2016-02-12T11:58:00Z","updated_at":"2025-02-09T01:55:22Z","pushed_at":"2025-02-09T01:55:17Z","git_url":"git://github.com/zhengruifeng/spark.git","ssh_url":"git@github.com:zhengruifeng/spark.git","clone_url":"https://github.com/zhengruifeng/spark.git","svn_url":"https://github.com/zhengruifeng/spark","homepage":null,"size":434785,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"f659f8d1b019385ad95673205386b6cbe8f89a49","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45429"},"html":{"href":"https://github.com/apache/spark/pull/45429"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45429"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45429/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45429/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45429/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/d1bdabd8d4e170354814d5a038f8c1e867b3673e"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45428","id":1762355238,"node_id":"PR_kwDOAQXtWs5pC2gm","html_url":"https://github.com/apache/spark/pull/45428","diff_url":"https://github.com/apache/spark/pull/45428.diff","patch_url":"https://github.com/apache/spark/pull/45428.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45428","number":45428,"state":"closed","locked":false,"title":"[SPARK-47305][SQL][TESTS][FOLLOWUP][3.4] Fix the compilation error related to `PropagateEmptyRelationSuite` ","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nhttps://github.com/apache/spark/pull/45406 has been backported to branch-3.4, where the newly added test case in `PropagateEmptyRelationSuite` uses `DataTypeUtils`, but `DataTypeUtils` is a utility class added in Apache Spark 3.5(SPARK-44475), so this triggered a compilation failure in branch-3.4:\r\n\r\n- https://github.com/apache/spark/actions/runs/8183755511/job/22377119069\r\n\r\n```\r\n[error] /home/runner/work/spark/spark/sql/catalyst/src/test/scala/org/apache/spark/sql/catalyst/optimizer/PropagateEmptyRelationSuite.scala:229:27: not found: value DataTypeUtils\r\n[error]     val schemaForStream = DataTypeUtils.fromAttributes(outputForStream)\r\n[error]                           ^\r\n[error] /home/runner/work/spark/spark/sql/catalyst/src/test/scala/org/apache/spark/sql/catalyst/optimizer/PropagateEmptyRelationSuite.scala:233:26: not found: value DataTypeUtils\r\n[error]     val schemaForBatch = DataTypeUtils.fromAttributes(outputForBatch)\r\n[error]                          ^\r\n[info] done compiling\r\n[info] compiling 1 Scala source to /home/runner/work/spark/spark/connector/connect/common/target/scala-2.12/test-classes ...\r\n[info] compiling 25 Scala sources and 1 Java source to /home/runner/work/spark/spark/connector/connect/client/jvm/target/scala-2.12/classes ...\r\n[info] done compiling\r\n[error] two errors found\r\n```\r\n\r\nTherefore, this PR changes to use the `StructType.fromAttributes` function to fix the compilation failure.\"\r\n\r\n### Why are the changes needed?\r\nFix the compilation failure in branch-3.4\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nPass Github Actions\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo","created_at":"2024-03-08T05:58:51Z","updated_at":"2024-03-19T07:36:11Z","closed_at":"2024-03-08T08:46:03Z","merged_at":null,"merge_commit_sha":"4e2d7f6d07dbd8e7909eaded3660724b01e7f66b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45428/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45428/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45428/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/7e565de89ed781080610b026bd36cba8b9d95969","head":{"label":"LuciferYang:SPARK-47305-FOLLOWUP-34","ref":"SPARK-47305-FOLLOWUP-34","sha":"7e565de89ed781080610b026bd36cba8b9d95969","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:branch-3.4","ref":"branch-3.4","sha":"ddb112da518ee5dcfd627ae9f9eb46017432a798","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45428"},"html":{"href":"https://github.com/apache/spark/pull/45428"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45428"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45428/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45428/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45428/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/7e565de89ed781080610b026bd36cba8b9d95969"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45427","id":1762133003,"node_id":"PR_kwDOAQXtWs5pCAQL","html_url":"https://github.com/apache/spark/pull/45427","diff_url":"https://github.com/apache/spark/pull/45427.diff","patch_url":"https://github.com/apache/spark/pull/45427.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45427","number":45427,"state":"closed","locked":false,"title":"[MINOR][INFRA] Make \"y/n\" consistent within merge script","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR changes the y/n message and condition consistent within merging script.\r\n\r\n### Why are the changes needed?\r\n\r\nFor consistency.\r\n\r\n```\r\nWould you like to use the modified body? (y/N): y\r\n...\r\nProceed with merging pull request #45426? (y/N): y\r\n...\r\nMerge complete (local ref PR_TOOL_MERGE_PR_45426_MASTER). Push to apache? (y/N): y\r\n...\r\nWould you like to pick 9cac2bb6 into another branch? (y/N): n\r\n...\r\nWould you like to update an associated JIRA? (y/N): y\r\n...\r\nCheck if the JIRA information is as expected (Y/n): y  # <-- Inconsistent.\r\n```\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo, dev-only.\r\n\r\n### How was this patch tested?\r\n\r\nManually tested.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.","created_at":"2024-03-08T00:53:19Z","updated_at":"2024-03-08T02:03:31Z","closed_at":"2024-03-08T01:55:09Z","merged_at":null,"merge_commit_sha":"1f44d3cf1af79b4d98feb332acb6217902471d89","assignee":null,"assignees":[],"requested_reviewers":[{"login":"yaooqinn","id":8326978,"node_id":"MDQ6VXNlcjgzMjY5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/8326978?v=4","gravatar_id":"","url":"https://api.github.com/users/yaooqinn","html_url":"https://github.com/yaooqinn","followers_url":"https://api.github.com/users/yaooqinn/followers","following_url":"https://api.github.com/users/yaooqinn/following{/other_user}","gists_url":"https://api.github.com/users/yaooqinn/gists{/gist_id}","starred_url":"https://api.github.com/users/yaooqinn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yaooqinn/subscriptions","organizations_url":"https://api.github.com/users/yaooqinn/orgs","repos_url":"https://api.github.com/users/yaooqinn/repos","events_url":"https://api.github.com/users/yaooqinn/events{/privacy}","received_events_url":"https://api.github.com/users/yaooqinn/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1982110661,"node_id":"MDU6TGFiZWwxOTgyMTEwNjYx","url":"https://api.github.com/repos/apache/spark/labels/INFRA","name":"INFRA","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45427/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45427/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45427/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/f2b4718d512b726bf15daa1a98799d2d1ff8b9ae","head":{"label":"HyukjinKwon:minor-script","ref":"minor-script","sha":"f2b4718d512b726bf15daa1a98799d2d1ff8b9ae","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"9cac2bb608c65f7fec19927711aff6dd1c54005a","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45427"},"html":{"href":"https://github.com/apache/spark/pull/45427"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45427"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45427/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45427/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45427/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/f2b4718d512b726bf15daa1a98799d2d1ff8b9ae"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45426","id":1761914957,"node_id":"PR_kwDOAQXtWs5pBLBN","html_url":"https://github.com/apache/spark/pull/45426","diff_url":"https://github.com/apache/spark/pull/45426.diff","patch_url":"https://github.com/apache/spark/pull/45426.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45426","number":45426,"state":"closed","locked":false,"title":"[SPARK-47309][SQL][XML] Fix schema inference issues in XML","user":{"login":"shujingyang-db","id":135740748,"node_id":"U_kgDOCBc9TA","avatar_url":"https://avatars.githubusercontent.com/u/135740748?v=4","gravatar_id":"","url":"https://api.github.com/users/shujingyang-db","html_url":"https://github.com/shujingyang-db","followers_url":"https://api.github.com/users/shujingyang-db/followers","following_url":"https://api.github.com/users/shujingyang-db/following{/other_user}","gists_url":"https://api.github.com/users/shujingyang-db/gists{/gist_id}","starred_url":"https://api.github.com/users/shujingyang-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shujingyang-db/subscriptions","organizations_url":"https://api.github.com/users/shujingyang-db/orgs","repos_url":"https://api.github.com/users/shujingyang-db/repos","events_url":"https://api.github.com/users/shujingyang-db/events{/privacy}","received_events_url":"https://api.github.com/users/shujingyang-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis PR fixes XML schema inference issues:\r\n\r\n1. when there's an empty tag\r\n\r\n2. when merging schema for NullType\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nFix a bug\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUnit tests. There's a follow-up [PR](https://github.com/apache/spark/pull/45411) that introduces comprehensive tests for schema inference.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo","created_at":"2024-03-07T21:30:01Z","updated_at":"2024-03-08T00:44:16Z","closed_at":"2024-03-08T00:44:16Z","merged_at":null,"merge_commit_sha":"656dcd107218c0f9889e11e1d7b9adb84254f71c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45426/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45426/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45426/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/301c6a99657a2ef50cc6fcd596d04e6da5d49c76","head":{"label":"shujingyang-db:fix-xml-schema-inference","ref":"fix-xml-schema-inference","sha":"301c6a99657a2ef50cc6fcd596d04e6da5d49c76","user":{"login":"shujingyang-db","id":135740748,"node_id":"U_kgDOCBc9TA","avatar_url":"https://avatars.githubusercontent.com/u/135740748?v=4","gravatar_id":"","url":"https://api.github.com/users/shujingyang-db","html_url":"https://github.com/shujingyang-db","followers_url":"https://api.github.com/users/shujingyang-db/followers","following_url":"https://api.github.com/users/shujingyang-db/following{/other_user}","gists_url":"https://api.github.com/users/shujingyang-db/gists{/gist_id}","starred_url":"https://api.github.com/users/shujingyang-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shujingyang-db/subscriptions","organizations_url":"https://api.github.com/users/shujingyang-db/orgs","repos_url":"https://api.github.com/users/shujingyang-db/repos","events_url":"https://api.github.com/users/shujingyang-db/events{/privacy}","received_events_url":"https://api.github.com/users/shujingyang-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":695990001,"node_id":"R_kgDOKXv28Q","name":"spark","full_name":"shujingyang-db/spark","private":false,"owner":{"login":"shujingyang-db","id":135740748,"node_id":"U_kgDOCBc9TA","avatar_url":"https://avatars.githubusercontent.com/u/135740748?v=4","gravatar_id":"","url":"https://api.github.com/users/shujingyang-db","html_url":"https://github.com/shujingyang-db","followers_url":"https://api.github.com/users/shujingyang-db/followers","following_url":"https://api.github.com/users/shujingyang-db/following{/other_user}","gists_url":"https://api.github.com/users/shujingyang-db/gists{/gist_id}","starred_url":"https://api.github.com/users/shujingyang-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shujingyang-db/subscriptions","organizations_url":"https://api.github.com/users/shujingyang-db/orgs","repos_url":"https://api.github.com/users/shujingyang-db/repos","events_url":"https://api.github.com/users/shujingyang-db/events{/privacy}","received_events_url":"https://api.github.com/users/shujingyang-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/shujingyang-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/shujingyang-db/spark","forks_url":"https://api.github.com/repos/shujingyang-db/spark/forks","keys_url":"https://api.github.com/repos/shujingyang-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/shujingyang-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/shujingyang-db/spark/teams","hooks_url":"https://api.github.com/repos/shujingyang-db/spark/hooks","issue_events_url":"https://api.github.com/repos/shujingyang-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/shujingyang-db/spark/events","assignees_url":"https://api.github.com/repos/shujingyang-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/shujingyang-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/shujingyang-db/spark/tags","blobs_url":"https://api.github.com/repos/shujingyang-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/shujingyang-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/shujingyang-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/shujingyang-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/shujingyang-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/shujingyang-db/spark/languages","stargazers_url":"https://api.github.com/repos/shujingyang-db/spark/stargazers","contributors_url":"https://api.github.com/repos/shujingyang-db/spark/contributors","subscribers_url":"https://api.github.com/repos/shujingyang-db/spark/subscribers","subscription_url":"https://api.github.com/repos/shujingyang-db/spark/subscription","commits_url":"https://api.github.com/repos/shujingyang-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/shujingyang-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/shujingyang-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/shujingyang-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/shujingyang-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/shujingyang-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/shujingyang-db/spark/merges","archive_url":"https://api.github.com/repos/shujingyang-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/shujingyang-db/spark/downloads","issues_url":"https://api.github.com/repos/shujingyang-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/shujingyang-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/shujingyang-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/shujingyang-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/shujingyang-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/shujingyang-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/shujingyang-db/spark/deployments","created_at":"2023-09-24T20:15:33Z","updated_at":"2023-10-10T18:47:51Z","pushed_at":"2024-07-26T20:25:58Z","git_url":"git://github.com/shujingyang-db/spark.git","ssh_url":"git@github.com:shujingyang-db/spark.git","clone_url":"https://github.com/shujingyang-db/spark.git","svn_url":"https://github.com/shujingyang-db/spark","homepage":"https://spark.apache.org/","size":393603,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"501999a834ea7761a792b823c543e40fba84231d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45426"},"html":{"href":"https://github.com/apache/spark/pull/45426"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45426"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45426/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45426/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45426/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/301c6a99657a2ef50cc6fcd596d04e6da5d49c76"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45425","id":1761675511,"node_id":"PR_kwDOAQXtWs5pAQj3","html_url":"https://github.com/apache/spark/pull/45425","diff_url":"https://github.com/apache/spark/pull/45425.diff","patch_url":"https://github.com/apache/spark/pull/45425.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45425","number":45425,"state":"closed","locked":false,"title":"[SPARK-47318][CORE] Adds HKDF round to AuthEngine key derivation to follow standard KEX practices","user":{"login":"sweisdb","id":60895808,"node_id":"MDQ6VXNlcjYwODk1ODA4","avatar_url":"https://avatars.githubusercontent.com/u/60895808?v=4","gravatar_id":"","url":"https://api.github.com/users/sweisdb","html_url":"https://github.com/sweisdb","followers_url":"https://api.github.com/users/sweisdb/followers","following_url":"https://api.github.com/users/sweisdb/following{/other_user}","gists_url":"https://api.github.com/users/sweisdb/gists{/gist_id}","starred_url":"https://api.github.com/users/sweisdb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweisdb/subscriptions","organizations_url":"https://api.github.com/users/sweisdb/orgs","repos_url":"https://api.github.com/users/sweisdb/repos","events_url":"https://api.github.com/users/sweisdb/events{/privacy}","received_events_url":"https://api.github.com/users/sweisdb/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis change adds an additional pass through a key derivation function (KDF) to the key exchange protocol in `AuthEngine`. Currently, it uses the shared secret from a bespoke key negotiation protocol directly. This is an encoded X coordinate on the X25519 curve. It is atypical and not recommended to use that coordinate directly as a key, but rather to pass it to an KDF.\r\n\r\nNote, Spark now supports TLS for RPC calls. It is preferable to use that rather than the bespoke AES RPC encryption implemented by `AuthEngine` and `TransportCipher`.\r\n\r\n### Why are the changes needed?\r\n\r\nThis follows best practices of key negotiation protocols. The encoded X coordinate is not guaranteed to be uniformly distributed over the 32-byte key space. Rather, we pass it through a HKDF function to map it uniformly to a 16-byte key space.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nExiting tests under:\r\n`build/sbt \"network-common/test:testOnly\"`\r\n\r\nSpecifically:\r\n`build/sbt \"network-common/test:testOnly org.apache.spark.network.crypto.AuthEngineSuite\"`\r\n`build/sbt \"network-common/test:testOnly org.apache.spark.network.crypto.AuthIntegrationSuite\"`\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.","created_at":"2024-03-07T19:03:27Z","updated_at":"2024-04-14T00:47:47Z","closed_at":"2024-04-11T19:40:14Z","merged_at":null,"merge_commit_sha":"5978b54f77c29207afa793f41df510ee574edeec","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45425/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45425/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45425/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/21f8f2d5b1080e0e81d754d6b242272ba0102c38","head":{"label":"sweisdb:SPARK-47318","ref":"SPARK-47318","sha":"21f8f2d5b1080e0e81d754d6b242272ba0102c38","user":{"login":"sweisdb","id":60895808,"node_id":"MDQ6VXNlcjYwODk1ODA4","avatar_url":"https://avatars.githubusercontent.com/u/60895808?v=4","gravatar_id":"","url":"https://api.github.com/users/sweisdb","html_url":"https://github.com/sweisdb","followers_url":"https://api.github.com/users/sweisdb/followers","following_url":"https://api.github.com/users/sweisdb/following{/other_user}","gists_url":"https://api.github.com/users/sweisdb/gists{/gist_id}","starred_url":"https://api.github.com/users/sweisdb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweisdb/subscriptions","organizations_url":"https://api.github.com/users/sweisdb/orgs","repos_url":"https://api.github.com/users/sweisdb/repos","events_url":"https://api.github.com/users/sweisdb/events{/privacy}","received_events_url":"https://api.github.com/users/sweisdb/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":630130506,"node_id":"R_kgDOJY8HSg","name":"spark","full_name":"sweisdb/spark","private":false,"owner":{"login":"sweisdb","id":60895808,"node_id":"MDQ6VXNlcjYwODk1ODA4","avatar_url":"https://avatars.githubusercontent.com/u/60895808?v=4","gravatar_id":"","url":"https://api.github.com/users/sweisdb","html_url":"https://github.com/sweisdb","followers_url":"https://api.github.com/users/sweisdb/followers","following_url":"https://api.github.com/users/sweisdb/following{/other_user}","gists_url":"https://api.github.com/users/sweisdb/gists{/gist_id}","starred_url":"https://api.github.com/users/sweisdb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweisdb/subscriptions","organizations_url":"https://api.github.com/users/sweisdb/orgs","repos_url":"https://api.github.com/users/sweisdb/repos","events_url":"https://api.github.com/users/sweisdb/events{/privacy}","received_events_url":"https://api.github.com/users/sweisdb/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sweisdb/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/sweisdb/spark","forks_url":"https://api.github.com/repos/sweisdb/spark/forks","keys_url":"https://api.github.com/repos/sweisdb/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sweisdb/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sweisdb/spark/teams","hooks_url":"https://api.github.com/repos/sweisdb/spark/hooks","issue_events_url":"https://api.github.com/repos/sweisdb/spark/issues/events{/number}","events_url":"https://api.github.com/repos/sweisdb/spark/events","assignees_url":"https://api.github.com/repos/sweisdb/spark/assignees{/user}","branches_url":"https://api.github.com/repos/sweisdb/spark/branches{/branch}","tags_url":"https://api.github.com/repos/sweisdb/spark/tags","blobs_url":"https://api.github.com/repos/sweisdb/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sweisdb/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sweisdb/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/sweisdb/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sweisdb/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/sweisdb/spark/languages","stargazers_url":"https://api.github.com/repos/sweisdb/spark/stargazers","contributors_url":"https://api.github.com/repos/sweisdb/spark/contributors","subscribers_url":"https://api.github.com/repos/sweisdb/spark/subscribers","subscription_url":"https://api.github.com/repos/sweisdb/spark/subscription","commits_url":"https://api.github.com/repos/sweisdb/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/sweisdb/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/sweisdb/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/sweisdb/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/sweisdb/spark/contents/{+path}","compare_url":"https://api.github.com/repos/sweisdb/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sweisdb/spark/merges","archive_url":"https://api.github.com/repos/sweisdb/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sweisdb/spark/downloads","issues_url":"https://api.github.com/repos/sweisdb/spark/issues{/number}","pulls_url":"https://api.github.com/repos/sweisdb/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/sweisdb/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/sweisdb/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sweisdb/spark/labels{/name}","releases_url":"https://api.github.com/repos/sweisdb/spark/releases{/id}","deployments_url":"https://api.github.com/repos/sweisdb/spark/deployments","created_at":"2023-04-19T18:24:09Z","updated_at":"2024-06-21T17:19:56Z","pushed_at":"2024-06-25T04:12:08Z","git_url":"git://github.com/sweisdb/spark.git","ssh_url":"git@github.com:sweisdb/spark.git","clone_url":"https://github.com/sweisdb/spark.git","svn_url":"https://github.com/sweisdb/spark","homepage":"https://spark.apache.org/","size":408869,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"72fe58d716d4a113f82a005c2c926970d14fe6b9","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45425"},"html":{"href":"https://github.com/apache/spark/pull/45425"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45425"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45425/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45425/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45425/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/21f8f2d5b1080e0e81d754d6b242272ba0102c38"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45424","id":1761511810,"node_id":"PR_kwDOAQXtWs5o_omC","html_url":"https://github.com/apache/spark/pull/45424","diff_url":"https://github.com/apache/spark/pull/45424.diff","patch_url":"https://github.com/apache/spark/pull/45424.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45424","number":45424,"state":"closed","locked":false,"title":"[SPARK-47319][SQL] Improve missingInput calculation","user":{"login":"peter-toth","id":7253827,"node_id":"MDQ6VXNlcjcyNTM4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/7253827?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-toth","html_url":"https://github.com/peter-toth","followers_url":"https://api.github.com/users/peter-toth/followers","following_url":"https://api.github.com/users/peter-toth/following{/other_user}","gists_url":"https://api.github.com/users/peter-toth/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-toth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-toth/subscriptions","organizations_url":"https://api.github.com/users/peter-toth/orgs","repos_url":"https://api.github.com/users/peter-toth/repos","events_url":"https://api.github.com/users/peter-toth/events{/privacy}","received_events_url":"https://api.github.com/users/peter-toth/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis PR improves `QueryPlan.missingInput()` calculation.\r\n\r\n\r\n### Why are the changes needed?\r\nThis seems to be the root cause of `DeduplicateRelations` slowness in some cases.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nExisting UTs.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-03-07T17:33:33Z","updated_at":"2024-03-08T08:50:52Z","closed_at":"2024-03-08T05:15:43Z","merged_at":null,"merge_commit_sha":"de0c2b432650f7f6dad1f0450ec42f3976f975af","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45424/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45424/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45424/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/015369919f51a9a39effb34fb947916aadd3a61e","head":{"label":"peter-toth:fix-missinginput","ref":"fix-missinginput","sha":"015369919f51a9a39effb34fb947916aadd3a61e","user":{"login":"peter-toth","id":7253827,"node_id":"MDQ6VXNlcjcyNTM4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/7253827?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-toth","html_url":"https://github.com/peter-toth","followers_url":"https://api.github.com/users/peter-toth/followers","following_url":"https://api.github.com/users/peter-toth/following{/other_user}","gists_url":"https://api.github.com/users/peter-toth/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-toth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-toth/subscriptions","organizations_url":"https://api.github.com/users/peter-toth/orgs","repos_url":"https://api.github.com/users/peter-toth/repos","events_url":"https://api.github.com/users/peter-toth/events{/privacy}","received_events_url":"https://api.github.com/users/peter-toth/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":130546049,"node_id":"MDEwOlJlcG9zaXRvcnkxMzA1NDYwNDk=","name":"spark","full_name":"peter-toth/spark","private":false,"owner":{"login":"peter-toth","id":7253827,"node_id":"MDQ6VXNlcjcyNTM4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/7253827?v=4","gravatar_id":"","url":"https://api.github.com/users/peter-toth","html_url":"https://github.com/peter-toth","followers_url":"https://api.github.com/users/peter-toth/followers","following_url":"https://api.github.com/users/peter-toth/following{/other_user}","gists_url":"https://api.github.com/users/peter-toth/gists{/gist_id}","starred_url":"https://api.github.com/users/peter-toth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peter-toth/subscriptions","organizations_url":"https://api.github.com/users/peter-toth/orgs","repos_url":"https://api.github.com/users/peter-toth/repos","events_url":"https://api.github.com/users/peter-toth/events{/privacy}","received_events_url":"https://api.github.com/users/peter-toth/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/peter-toth/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/peter-toth/spark","forks_url":"https://api.github.com/repos/peter-toth/spark/forks","keys_url":"https://api.github.com/repos/peter-toth/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/peter-toth/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/peter-toth/spark/teams","hooks_url":"https://api.github.com/repos/peter-toth/spark/hooks","issue_events_url":"https://api.github.com/repos/peter-toth/spark/issues/events{/number}","events_url":"https://api.github.com/repos/peter-toth/spark/events","assignees_url":"https://api.github.com/repos/peter-toth/spark/assignees{/user}","branches_url":"https://api.github.com/repos/peter-toth/spark/branches{/branch}","tags_url":"https://api.github.com/repos/peter-toth/spark/tags","blobs_url":"https://api.github.com/repos/peter-toth/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/peter-toth/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/peter-toth/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/peter-toth/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/peter-toth/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/peter-toth/spark/languages","stargazers_url":"https://api.github.com/repos/peter-toth/spark/stargazers","contributors_url":"https://api.github.com/repos/peter-toth/spark/contributors","subscribers_url":"https://api.github.com/repos/peter-toth/spark/subscribers","subscription_url":"https://api.github.com/repos/peter-toth/spark/subscription","commits_url":"https://api.github.com/repos/peter-toth/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/peter-toth/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/peter-toth/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/peter-toth/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/peter-toth/spark/contents/{+path}","compare_url":"https://api.github.com/repos/peter-toth/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/peter-toth/spark/merges","archive_url":"https://api.github.com/repos/peter-toth/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/peter-toth/spark/downloads","issues_url":"https://api.github.com/repos/peter-toth/spark/issues{/number}","pulls_url":"https://api.github.com/repos/peter-toth/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/peter-toth/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/peter-toth/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/peter-toth/spark/labels{/name}","releases_url":"https://api.github.com/repos/peter-toth/spark/releases{/id}","deployments_url":"https://api.github.com/repos/peter-toth/spark/deployments","created_at":"2018-04-22T07:43:37Z","updated_at":"2025-01-06T11:44:37Z","pushed_at":"2025-01-07T12:36:36Z","git_url":"git://github.com/peter-toth/spark.git","ssh_url":"git@github.com:peter-toth/spark.git","clone_url":"https://github.com/peter-toth/spark.git","svn_url":"https://github.com/peter-toth/spark","homepage":null,"size":498613,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"0f9164201ff0713bd09d758f89de619820f8c0e5","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45424"},"html":{"href":"https://github.com/apache/spark/pull/45424"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45424"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45424/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45424/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45424/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/015369919f51a9a39effb34fb947916aadd3a61e"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45423","id":1761462523,"node_id":"PR_kwDOAQXtWs5o_cj7","html_url":"https://github.com/apache/spark/pull/45423","diff_url":"https://github.com/apache/spark/pull/45423.diff","patch_url":"https://github.com/apache/spark/pull/45423.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45423","number":45423,"state":"closed","locked":false,"title":"[SPARK-47255][SQL] Assign names to the error classes _LEGACY_ERROR_TEMP_323[6-7] and _LEGACY_ERROR_TEMP_324[7-9]","user":{"login":"miland-db","id":162123620,"node_id":"U_kgDOCanPZA","avatar_url":"https://avatars.githubusercontent.com/u/162123620?v=4","gravatar_id":"","url":"https://api.github.com/users/miland-db","html_url":"https://github.com/miland-db","followers_url":"https://api.github.com/users/miland-db/followers","following_url":"https://api.github.com/users/miland-db/following{/other_user}","gists_url":"https://api.github.com/users/miland-db/gists{/gist_id}","starred_url":"https://api.github.com/users/miland-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/miland-db/subscriptions","organizations_url":"https://api.github.com/users/miland-db/orgs","repos_url":"https://api.github.com/users/miland-db/repos","events_url":"https://api.github.com/users/miland-db/events{/privacy}","received_events_url":"https://api.github.com/users/miland-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nIn the PR, I propose to assign the proper names to the legacy error classes _LEGACY_ERROR_TEMP_323[6-7] and _LEGACY_ERROR_TEMP_324[7-9], and modify tests in testing suites to reflect these changes and use checkError() function. Also this PR improves the error messages.\r\n\r\n### Why are the changes needed?\r\nProper name improves user experience w/ Spark SQL.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, the PR changes an user-facing error message.\r\n\r\n### How was this patch tested?\r\nError  _LEGACY_ERROR_TEMP_3249 is tested by running the modified test suite:\r\n`$ build/sbt  \"catalyst/testOnly *RowJsonSuite\"`\r\n\r\nErrors _LEGACY_ERROR_TEMP_323[6-7] and _LEGACY_ERROR_TEMP_324[7-8] are tested by running the modified test suite:\r\n`$ build/sbt  \"catalyst/testOnly *CSVExprUtilsSuite\"`\r\n\r\nGolden files are regenerated using the:\r\n`$ SPARK_GENERATE_GOLDEN_FILES=1`\r\n`$ build/sbt \"core/testOnly *SparkThrowableSuite\"`\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo","created_at":"2024-03-07T17:02:12Z","updated_at":"2024-03-11T15:49:43Z","closed_at":"2024-03-11T14:33:15Z","merged_at":null,"merge_commit_sha":"434cc9961a8de5b915ae2c836e0a9bdc728c71f5","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45423/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45423/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45423/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/44ab7e52632767480b7bf656b4c0187ee66fd715","head":{"label":"miland-db:miland-db/miland-legacy-error-class","ref":"miland-db/miland-legacy-error-class","sha":"44ab7e52632767480b7bf656b4c0187ee66fd715","user":{"login":"miland-db","id":162123620,"node_id":"U_kgDOCanPZA","avatar_url":"https://avatars.githubusercontent.com/u/162123620?v=4","gravatar_id":"","url":"https://api.github.com/users/miland-db","html_url":"https://github.com/miland-db","followers_url":"https://api.github.com/users/miland-db/followers","following_url":"https://api.github.com/users/miland-db/following{/other_user}","gists_url":"https://api.github.com/users/miland-db/gists{/gist_id}","starred_url":"https://api.github.com/users/miland-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/miland-db/subscriptions","organizations_url":"https://api.github.com/users/miland-db/orgs","repos_url":"https://api.github.com/users/miland-db/repos","events_url":"https://api.github.com/users/miland-db/events{/privacy}","received_events_url":"https://api.github.com/users/miland-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":768539955,"node_id":"R_kgDOLc79Mw","name":"spark","full_name":"miland-db/spark","private":false,"owner":{"login":"miland-db","id":162123620,"node_id":"U_kgDOCanPZA","avatar_url":"https://avatars.githubusercontent.com/u/162123620?v=4","gravatar_id":"","url":"https://api.github.com/users/miland-db","html_url":"https://github.com/miland-db","followers_url":"https://api.github.com/users/miland-db/followers","following_url":"https://api.github.com/users/miland-db/following{/other_user}","gists_url":"https://api.github.com/users/miland-db/gists{/gist_id}","starred_url":"https://api.github.com/users/miland-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/miland-db/subscriptions","organizations_url":"https://api.github.com/users/miland-db/orgs","repos_url":"https://api.github.com/users/miland-db/repos","events_url":"https://api.github.com/users/miland-db/events{/privacy}","received_events_url":"https://api.github.com/users/miland-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/miland-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/miland-db/spark","forks_url":"https://api.github.com/repos/miland-db/spark/forks","keys_url":"https://api.github.com/repos/miland-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/miland-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/miland-db/spark/teams","hooks_url":"https://api.github.com/repos/miland-db/spark/hooks","issue_events_url":"https://api.github.com/repos/miland-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/miland-db/spark/events","assignees_url":"https://api.github.com/repos/miland-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/miland-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/miland-db/spark/tags","blobs_url":"https://api.github.com/repos/miland-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/miland-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/miland-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/miland-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/miland-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/miland-db/spark/languages","stargazers_url":"https://api.github.com/repos/miland-db/spark/stargazers","contributors_url":"https://api.github.com/repos/miland-db/spark/contributors","subscribers_url":"https://api.github.com/repos/miland-db/spark/subscribers","subscription_url":"https://api.github.com/repos/miland-db/spark/subscription","commits_url":"https://api.github.com/repos/miland-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/miland-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/miland-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/miland-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/miland-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/miland-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/miland-db/spark/merges","archive_url":"https://api.github.com/repos/miland-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/miland-db/spark/downloads","issues_url":"https://api.github.com/repos/miland-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/miland-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/miland-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/miland-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/miland-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/miland-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/miland-db/spark/deployments","created_at":"2024-03-07T09:19:26Z","updated_at":"2025-02-07T11:32:31Z","pushed_at":"2025-02-07T17:48:00Z","git_url":"git://github.com/miland-db/spark.git","ssh_url":"git@github.com:miland-db/spark.git","clone_url":"https://github.com/miland-db/spark.git","svn_url":"https://github.com/miland-db/spark","homepage":"https://spark.apache.org/","size":424801,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"0f9164201ff0713bd09d758f89de619820f8c0e5","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45423"},"html":{"href":"https://github.com/apache/spark/pull/45423"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45423"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45423/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45423/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45423/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/44ab7e52632767480b7bf656b4c0187ee66fd715"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45422","id":1761420047,"node_id":"PR_kwDOAQXtWs5o_SMP","html_url":"https://github.com/apache/spark/pull/45422","diff_url":"https://github.com/apache/spark/pull/45422.diff","patch_url":"https://github.com/apache/spark/pull/45422.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45422","number":45422,"state":"closed","locked":false,"title":"[SPARK-47296][SQL][COLLATION] Fail unsupported functions for non-binary collations","user":{"login":"uros-db","id":157381213,"node_id":"U_kgDOCWFyXQ","avatar_url":"https://avatars.githubusercontent.com/u/157381213?v=4","gravatar_id":"","url":"https://api.github.com/users/uros-db","html_url":"https://github.com/uros-db","followers_url":"https://api.github.com/users/uros-db/followers","following_url":"https://api.github.com/users/uros-db/following{/other_user}","gists_url":"https://api.github.com/users/uros-db/gists{/gist_id}","starred_url":"https://api.github.com/users/uros-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uros-db/subscriptions","organizations_url":"https://api.github.com/users/uros-db/orgs","repos_url":"https://api.github.com/users/uros-db/repos","events_url":"https://api.github.com/users/uros-db/events{/privacy}","received_events_url":"https://api.github.com/users/uros-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\n\r\n### Why are the changes needed?\r\nCurrently, all `StringType` arguments passed to built-in string functions in Spark SQL get treated as binary strings. This behaviour is incorrect for almost all collationIds except the default (0), and we should instead warn the user if they try to use an unsupported collation for the given function. Over time, we should implement the appropriate support for these (function, collation) pairs, but until then - we should have a way to fail unsupported statements in query analysis.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, users will now get appropriate errors when they try to use an unsupported collation with a given string function.\r\n\r\n\r\n### How was this patch tested?\r\nTests in CollationSuite to check if these functions work for binary collations and throw exceptions for others.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nYes.","created_at":"2024-03-07T16:36:21Z","updated_at":"2024-03-20T14:57:44Z","closed_at":"2024-03-20T14:57:43Z","merged_at":null,"merge_commit_sha":"b904a1664dba08e5650ce9eb4f267b61c307e494","assignee":null,"assignees":[],"requested_reviewers":[{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45422/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45422/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45422/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/6986b8b144fc590361e38ed0a54d2b2537f402dd","head":{"label":"uros-db:regexp-functions","ref":"regexp-functions","sha":"6986b8b144fc590361e38ed0a54d2b2537f402dd","user":{"login":"uros-db","id":157381213,"node_id":"U_kgDOCWFyXQ","avatar_url":"https://avatars.githubusercontent.com/u/157381213?v=4","gravatar_id":"","url":"https://api.github.com/users/uros-db","html_url":"https://github.com/uros-db","followers_url":"https://api.github.com/users/uros-db/followers","following_url":"https://api.github.com/users/uros-db/following{/other_user}","gists_url":"https://api.github.com/users/uros-db/gists{/gist_id}","starred_url":"https://api.github.com/users/uros-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uros-db/subscriptions","organizations_url":"https://api.github.com/users/uros-db/orgs","repos_url":"https://api.github.com/users/uros-db/repos","events_url":"https://api.github.com/users/uros-db/events{/privacy}","received_events_url":"https://api.github.com/users/uros-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":755209418,"node_id":"R_kgDOLQOUyg","name":"spark","full_name":"uros-db/spark","private":false,"owner":{"login":"uros-db","id":157381213,"node_id":"U_kgDOCWFyXQ","avatar_url":"https://avatars.githubusercontent.com/u/157381213?v=4","gravatar_id":"","url":"https://api.github.com/users/uros-db","html_url":"https://github.com/uros-db","followers_url":"https://api.github.com/users/uros-db/followers","following_url":"https://api.github.com/users/uros-db/following{/other_user}","gists_url":"https://api.github.com/users/uros-db/gists{/gist_id}","starred_url":"https://api.github.com/users/uros-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uros-db/subscriptions","organizations_url":"https://api.github.com/users/uros-db/orgs","repos_url":"https://api.github.com/users/uros-db/repos","events_url":"https://api.github.com/users/uros-db/events{/privacy}","received_events_url":"https://api.github.com/users/uros-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/uros-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/uros-db/spark","forks_url":"https://api.github.com/repos/uros-db/spark/forks","keys_url":"https://api.github.com/repos/uros-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/uros-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/uros-db/spark/teams","hooks_url":"https://api.github.com/repos/uros-db/spark/hooks","issue_events_url":"https://api.github.com/repos/uros-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/uros-db/spark/events","assignees_url":"https://api.github.com/repos/uros-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/uros-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/uros-db/spark/tags","blobs_url":"https://api.github.com/repos/uros-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/uros-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/uros-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/uros-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/uros-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/uros-db/spark/languages","stargazers_url":"https://api.github.com/repos/uros-db/spark/stargazers","contributors_url":"https://api.github.com/repos/uros-db/spark/contributors","subscribers_url":"https://api.github.com/repos/uros-db/spark/subscribers","subscription_url":"https://api.github.com/repos/uros-db/spark/subscription","commits_url":"https://api.github.com/repos/uros-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/uros-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/uros-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/uros-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/uros-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/uros-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/uros-db/spark/merges","archive_url":"https://api.github.com/repos/uros-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/uros-db/spark/downloads","issues_url":"https://api.github.com/repos/uros-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/uros-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/uros-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/uros-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/uros-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/uros-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/uros-db/spark/deployments","created_at":"2024-02-09T16:48:55Z","updated_at":"2024-12-23T11:11:13Z","pushed_at":"2024-12-23T11:08:59Z","git_url":"git://github.com/uros-db/spark.git","ssh_url":"git@github.com:uros-db/spark.git","clone_url":"https://github.com/uros-db/spark.git","svn_url":"https://github.com/uros-db/spark","homepage":"https://spark.apache.org/","size":430948,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"85bf7615f85eea3e9192a7684ef711cf44042e05","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45422"},"html":{"href":"https://github.com/apache/spark/pull/45422"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45422"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45422/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45422/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45422/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/6986b8b144fc590361e38ed0a54d2b2537f402dd"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45421","id":1761296014,"node_id":"PR_kwDOAQXtWs5o-z6O","html_url":"https://github.com/apache/spark/pull/45421","diff_url":"https://github.com/apache/spark/pull/45421.diff","patch_url":"https://github.com/apache/spark/pull/45421.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45421","number":45421,"state":"closed","locked":false,"title":"[SPARK-47295][SQL] Added ICU StringSearch for the `startsWith` and `endsWith` functions","user":{"login":"stevomitric","id":16582560,"node_id":"MDQ6VXNlcjE2NTgyNTYw","avatar_url":"https://avatars.githubusercontent.com/u/16582560?v=4","gravatar_id":"","url":"https://api.github.com/users/stevomitric","html_url":"https://github.com/stevomitric","followers_url":"https://api.github.com/users/stevomitric/followers","following_url":"https://api.github.com/users/stevomitric/following{/other_user}","gists_url":"https://api.github.com/users/stevomitric/gists{/gist_id}","starred_url":"https://api.github.com/users/stevomitric/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevomitric/subscriptions","organizations_url":"https://api.github.com/users/stevomitric/orgs","repos_url":"https://api.github.com/users/stevomitric/repos","events_url":"https://api.github.com/users/stevomitric/events{/privacy}","received_events_url":"https://api.github.com/users/stevomitric/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nModified `startsWith` and `endsWith` functions by including `StringSearch` ICU service for non-binary collations.\r\n\r\n\r\n### Why are the changes needed?\r\nUpdate functions to match the implementation for contains [in this PR](https://github.com/apache/spark/pull/45382)\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nUsed already built `CollationSuite` tests.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo","created_at":"2024-03-07T15:36:22Z","updated_at":"2024-03-12T11:21:26Z","closed_at":"2024-03-12T11:21:26Z","merged_at":null,"merge_commit_sha":"ee6b8f938836bcd943aa4f9757b904712a4e2ac1","assignee":null,"assignees":[],"requested_reviewers":[{"login":"dbatomic","id":150942779,"node_id":"U_kgDOCP80Ow","avatar_url":"https://avatars.githubusercontent.com/u/150942779?v=4","gravatar_id":"","url":"https://api.github.com/users/dbatomic","html_url":"https://github.com/dbatomic","followers_url":"https://api.github.com/users/dbatomic/followers","following_url":"https://api.github.com/users/dbatomic/following{/other_user}","gists_url":"https://api.github.com/users/dbatomic/gists{/gist_id}","starred_url":"https://api.github.com/users/dbatomic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbatomic/subscriptions","organizations_url":"https://api.github.com/users/dbatomic/orgs","repos_url":"https://api.github.com/users/dbatomic/repos","events_url":"https://api.github.com/users/dbatomic/events{/privacy}","received_events_url":"https://api.github.com/users/dbatomic/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45421/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45421/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45421/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/21f0f3917407d68808c51331f067e9689d88c54d","head":{"label":"stevomitric:stevomitric/string-functions","ref":"stevomitric/string-functions","sha":"21f0f3917407d68808c51331f067e9689d88c54d","user":{"login":"stevomitric","id":16582560,"node_id":"MDQ6VXNlcjE2NTgyNTYw","avatar_url":"https://avatars.githubusercontent.com/u/16582560?v=4","gravatar_id":"","url":"https://api.github.com/users/stevomitric","html_url":"https://github.com/stevomitric","followers_url":"https://api.github.com/users/stevomitric/followers","following_url":"https://api.github.com/users/stevomitric/following{/other_user}","gists_url":"https://api.github.com/users/stevomitric/gists{/gist_id}","starred_url":"https://api.github.com/users/stevomitric/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevomitric/subscriptions","organizations_url":"https://api.github.com/users/stevomitric/orgs","repos_url":"https://api.github.com/users/stevomitric/repos","events_url":"https://api.github.com/users/stevomitric/events{/privacy}","received_events_url":"https://api.github.com/users/stevomitric/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":768027483,"node_id":"R_kgDOLccrWw","name":"spark","full_name":"stevomitric/spark","private":false,"owner":{"login":"stevomitric","id":16582560,"node_id":"MDQ6VXNlcjE2NTgyNTYw","avatar_url":"https://avatars.githubusercontent.com/u/16582560?v=4","gravatar_id":"","url":"https://api.github.com/users/stevomitric","html_url":"https://github.com/stevomitric","followers_url":"https://api.github.com/users/stevomitric/followers","following_url":"https://api.github.com/users/stevomitric/following{/other_user}","gists_url":"https://api.github.com/users/stevomitric/gists{/gist_id}","starred_url":"https://api.github.com/users/stevomitric/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevomitric/subscriptions","organizations_url":"https://api.github.com/users/stevomitric/orgs","repos_url":"https://api.github.com/users/stevomitric/repos","events_url":"https://api.github.com/users/stevomitric/events{/privacy}","received_events_url":"https://api.github.com/users/stevomitric/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/stevomitric/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/stevomitric/spark","forks_url":"https://api.github.com/repos/stevomitric/spark/forks","keys_url":"https://api.github.com/repos/stevomitric/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/stevomitric/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/stevomitric/spark/teams","hooks_url":"https://api.github.com/repos/stevomitric/spark/hooks","issue_events_url":"https://api.github.com/repos/stevomitric/spark/issues/events{/number}","events_url":"https://api.github.com/repos/stevomitric/spark/events","assignees_url":"https://api.github.com/repos/stevomitric/spark/assignees{/user}","branches_url":"https://api.github.com/repos/stevomitric/spark/branches{/branch}","tags_url":"https://api.github.com/repos/stevomitric/spark/tags","blobs_url":"https://api.github.com/repos/stevomitric/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/stevomitric/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/stevomitric/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/stevomitric/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/stevomitric/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/stevomitric/spark/languages","stargazers_url":"https://api.github.com/repos/stevomitric/spark/stargazers","contributors_url":"https://api.github.com/repos/stevomitric/spark/contributors","subscribers_url":"https://api.github.com/repos/stevomitric/spark/subscribers","subscription_url":"https://api.github.com/repos/stevomitric/spark/subscription","commits_url":"https://api.github.com/repos/stevomitric/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/stevomitric/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/stevomitric/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/stevomitric/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/stevomitric/spark/contents/{+path}","compare_url":"https://api.github.com/repos/stevomitric/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/stevomitric/spark/merges","archive_url":"https://api.github.com/repos/stevomitric/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/stevomitric/spark/downloads","issues_url":"https://api.github.com/repos/stevomitric/spark/issues{/number}","pulls_url":"https://api.github.com/repos/stevomitric/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/stevomitric/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/stevomitric/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/stevomitric/spark/labels{/name}","releases_url":"https://api.github.com/repos/stevomitric/spark/releases{/id}","deployments_url":"https://api.github.com/repos/stevomitric/spark/deployments","created_at":"2024-03-06T10:37:34Z","updated_at":"2025-01-15T16:32:49Z","pushed_at":"2025-01-20T12:09:34Z","git_url":"git://github.com/stevomitric/spark.git","ssh_url":"git@github.com:stevomitric/spark.git","clone_url":"https://github.com/stevomitric/spark.git","svn_url":"https://github.com/stevomitric/spark","homepage":"https://spark.apache.org/","size":420092,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"456d246badb87048e43f906f538730eb3870232f","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45421"},"html":{"href":"https://github.com/apache/spark/pull/45421"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45421"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45421/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45421/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45421/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/21f0f3917407d68808c51331f067e9689d88c54d"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45420","id":1760964803,"node_id":"PR_kwDOAQXtWs5o9jDD","html_url":"https://github.com/apache/spark/pull/45420","diff_url":"https://github.com/apache/spark/pull/45420.diff","patch_url":"https://github.com/apache/spark/pull/45420.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45420","number":45420,"state":"closed","locked":false,"title":"[SPARK-46761][SQL] Quoted strings in a JSON path should support ? characters","user":{"login":"planga82","id":12819544,"node_id":"MDQ6VXNlcjEyODE5NTQ0","avatar_url":"https://avatars.githubusercontent.com/u/12819544?v=4","gravatar_id":"","url":"https://api.github.com/users/planga82","html_url":"https://github.com/planga82","followers_url":"https://api.github.com/users/planga82/followers","following_url":"https://api.github.com/users/planga82/following{/other_user}","gists_url":"https://api.github.com/users/planga82/gists{/gist_id}","starred_url":"https://api.github.com/users/planga82/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/planga82/subscriptions","organizations_url":"https://api.github.com/users/planga82/orgs","repos_url":"https://api.github.com/users/planga82/repos","events_url":"https://api.github.com/users/planga82/events{/privacy}","received_events_url":"https://api.github.com/users/planga82/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nIf there is a JSON with a ? character in the key like\r\n```\r\n{\"?\":\"QUESTION\"}\r\n```\r\n\r\nThis PR allow to add this character in the JSON path\r\n```\r\nget_json_object(json, '$['?']')\r\n```\r\n\r\nThis character is now explicitly avoided in the regular expression but there seem to be no restrictions on this in the specification (https://goessner.net/articles/JsonPath/) and no tests fail with this change.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nImprove the support of ? character in json parh\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUnit testing\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo","created_at":"2024-03-07T12:44:05Z","updated_at":"2024-03-13T07:17:07Z","closed_at":"2024-03-13T07:17:07Z","merged_at":null,"merge_commit_sha":"b60e9c2f28a2415881dccce734657c686c321cc7","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45420/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45420/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45420/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/426427961430f62c5dc0d99223a66631e610c634","head":{"label":"planga82:bugfix/spark46761_json_path_question_mark","ref":"bugfix/spark46761_json_path_question_mark","sha":"426427961430f62c5dc0d99223a66631e610c634","user":{"login":"planga82","id":12819544,"node_id":"MDQ6VXNlcjEyODE5NTQ0","avatar_url":"https://avatars.githubusercontent.com/u/12819544?v=4","gravatar_id":"","url":"https://api.github.com/users/planga82","html_url":"https://github.com/planga82","followers_url":"https://api.github.com/users/planga82/followers","following_url":"https://api.github.com/users/planga82/following{/other_user}","gists_url":"https://api.github.com/users/planga82/gists{/gist_id}","starred_url":"https://api.github.com/users/planga82/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/planga82/subscriptions","organizations_url":"https://api.github.com/users/planga82/orgs","repos_url":"https://api.github.com/users/planga82/repos","events_url":"https://api.github.com/users/planga82/events{/privacy}","received_events_url":"https://api.github.com/users/planga82/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":182507758,"node_id":"MDEwOlJlcG9zaXRvcnkxODI1MDc3NTg=","name":"sparkFork","full_name":"planga82/sparkFork","private":false,"owner":{"login":"planga82","id":12819544,"node_id":"MDQ6VXNlcjEyODE5NTQ0","avatar_url":"https://avatars.githubusercontent.com/u/12819544?v=4","gravatar_id":"","url":"https://api.github.com/users/planga82","html_url":"https://github.com/planga82","followers_url":"https://api.github.com/users/planga82/followers","following_url":"https://api.github.com/users/planga82/following{/other_user}","gists_url":"https://api.github.com/users/planga82/gists{/gist_id}","starred_url":"https://api.github.com/users/planga82/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/planga82/subscriptions","organizations_url":"https://api.github.com/users/planga82/orgs","repos_url":"https://api.github.com/users/planga82/repos","events_url":"https://api.github.com/users/planga82/events{/privacy}","received_events_url":"https://api.github.com/users/planga82/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/planga82/sparkFork","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/planga82/sparkFork","forks_url":"https://api.github.com/repos/planga82/sparkFork/forks","keys_url":"https://api.github.com/repos/planga82/sparkFork/keys{/key_id}","collaborators_url":"https://api.github.com/repos/planga82/sparkFork/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/planga82/sparkFork/teams","hooks_url":"https://api.github.com/repos/planga82/sparkFork/hooks","issue_events_url":"https://api.github.com/repos/planga82/sparkFork/issues/events{/number}","events_url":"https://api.github.com/repos/planga82/sparkFork/events","assignees_url":"https://api.github.com/repos/planga82/sparkFork/assignees{/user}","branches_url":"https://api.github.com/repos/planga82/sparkFork/branches{/branch}","tags_url":"https://api.github.com/repos/planga82/sparkFork/tags","blobs_url":"https://api.github.com/repos/planga82/sparkFork/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/planga82/sparkFork/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/planga82/sparkFork/git/refs{/sha}","trees_url":"https://api.github.com/repos/planga82/sparkFork/git/trees{/sha}","statuses_url":"https://api.github.com/repos/planga82/sparkFork/statuses/{sha}","languages_url":"https://api.github.com/repos/planga82/sparkFork/languages","stargazers_url":"https://api.github.com/repos/planga82/sparkFork/stargazers","contributors_url":"https://api.github.com/repos/planga82/sparkFork/contributors","subscribers_url":"https://api.github.com/repos/planga82/sparkFork/subscribers","subscription_url":"https://api.github.com/repos/planga82/sparkFork/subscription","commits_url":"https://api.github.com/repos/planga82/sparkFork/commits{/sha}","git_commits_url":"https://api.github.com/repos/planga82/sparkFork/git/commits{/sha}","comments_url":"https://api.github.com/repos/planga82/sparkFork/comments{/number}","issue_comment_url":"https://api.github.com/repos/planga82/sparkFork/issues/comments{/number}","contents_url":"https://api.github.com/repos/planga82/sparkFork/contents/{+path}","compare_url":"https://api.github.com/repos/planga82/sparkFork/compare/{base}...{head}","merges_url":"https://api.github.com/repos/planga82/sparkFork/merges","archive_url":"https://api.github.com/repos/planga82/sparkFork/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/planga82/sparkFork/downloads","issues_url":"https://api.github.com/repos/planga82/sparkFork/issues{/number}","pulls_url":"https://api.github.com/repos/planga82/sparkFork/pulls{/number}","milestones_url":"https://api.github.com/repos/planga82/sparkFork/milestones{/number}","notifications_url":"https://api.github.com/repos/planga82/sparkFork/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/planga82/sparkFork/labels{/name}","releases_url":"https://api.github.com/repos/planga82/sparkFork/releases{/id}","deployments_url":"https://api.github.com/repos/planga82/sparkFork/deployments","created_at":"2019-04-21T08:17:09Z","updated_at":"2024-02-27T14:46:13Z","pushed_at":"2024-04-03T22:22:30Z","git_url":"git://github.com/planga82/sparkFork.git","ssh_url":"git@github.com:planga82/sparkFork.git","clone_url":"https://github.com/planga82/sparkFork.git","svn_url":"https://github.com/planga82/sparkFork","homepage":"","size":396605,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"7a429aa84a5ed2c4b6448d43e88c475919ea2210","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45420"},"html":{"href":"https://github.com/apache/spark/pull/45420"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45420"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45420/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45420/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45420/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/426427961430f62c5dc0d99223a66631e610c634"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45419","id":1760734878,"node_id":"PR_kwDOAQXtWs5o8q6e","html_url":"https://github.com/apache/spark/pull/45419","diff_url":"https://github.com/apache/spark/pull/45419.diff","patch_url":"https://github.com/apache/spark/pull/45419.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45419","number":45419,"state":"closed","locked":false,"title":"[MINOR][DOCS][PYTHON] Fix documentation typo in takeSample method","user":{"login":"kimborowicz","id":101516926,"node_id":"U_kgDOBg0Gfg","avatar_url":"https://avatars.githubusercontent.com/u/101516926?v=4","gravatar_id":"","url":"https://api.github.com/users/kimborowicz","html_url":"https://github.com/kimborowicz","followers_url":"https://api.github.com/users/kimborowicz/followers","following_url":"https://api.github.com/users/kimborowicz/following{/other_user}","gists_url":"https://api.github.com/users/kimborowicz/gists{/gist_id}","starred_url":"https://api.github.com/users/kimborowicz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimborowicz/subscriptions","organizations_url":"https://api.github.com/users/kimborowicz/orgs","repos_url":"https://api.github.com/users/kimborowicz/repos","events_url":"https://api.github.com/users/kimborowicz/events{/privacy}","received_events_url":"https://api.github.com/users/kimborowicz/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\nFixed an error in the docstring documentation for the parameter `withReplacement` of `takeSample` method in `pyspark.RDD`, should be of type `bool`, but is `list` instead.\r\nhttps://spark.apache.org/docs/latest/api/python/reference/api/pyspark.RDD.takeSample.html\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\n\r\n### Why are the changes needed?\r\nThey correct a mistake in the documentation.\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\n\r\n### How was this patch tested?\r\n\\-\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\n","created_at":"2024-03-07T10:31:03Z","updated_at":"2024-03-07T11:35:31Z","closed_at":"2024-03-07T11:34:28Z","merged_at":null,"merge_commit_sha":"b8aa6edc8fee81fd099814eafeabd090c6a6018e","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45419/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45419/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45419/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/7f680b20c289a74ae78c7941797e709488bd13ce","head":{"label":"kimborowicz:master","ref":"master","sha":"7f680b20c289a74ae78c7941797e709488bd13ce","user":{"login":"kimborowicz","id":101516926,"node_id":"U_kgDOBg0Gfg","avatar_url":"https://avatars.githubusercontent.com/u/101516926?v=4","gravatar_id":"","url":"https://api.github.com/users/kimborowicz","html_url":"https://github.com/kimborowicz","followers_url":"https://api.github.com/users/kimborowicz/followers","following_url":"https://api.github.com/users/kimborowicz/following{/other_user}","gists_url":"https://api.github.com/users/kimborowicz/gists{/gist_id}","starred_url":"https://api.github.com/users/kimborowicz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimborowicz/subscriptions","organizations_url":"https://api.github.com/users/kimborowicz/orgs","repos_url":"https://api.github.com/users/kimborowicz/repos","events_url":"https://api.github.com/users/kimborowicz/events{/privacy}","received_events_url":"https://api.github.com/users/kimborowicz/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":768551098,"node_id":"R_kgDOLc8oug","name":"spark","full_name":"kimborowicz/spark","private":false,"owner":{"login":"kimborowicz","id":101516926,"node_id":"U_kgDOBg0Gfg","avatar_url":"https://avatars.githubusercontent.com/u/101516926?v=4","gravatar_id":"","url":"https://api.github.com/users/kimborowicz","html_url":"https://github.com/kimborowicz","followers_url":"https://api.github.com/users/kimborowicz/followers","following_url":"https://api.github.com/users/kimborowicz/following{/other_user}","gists_url":"https://api.github.com/users/kimborowicz/gists{/gist_id}","starred_url":"https://api.github.com/users/kimborowicz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimborowicz/subscriptions","organizations_url":"https://api.github.com/users/kimborowicz/orgs","repos_url":"https://api.github.com/users/kimborowicz/repos","events_url":"https://api.github.com/users/kimborowicz/events{/privacy}","received_events_url":"https://api.github.com/users/kimborowicz/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/kimborowicz/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/kimborowicz/spark","forks_url":"https://api.github.com/repos/kimborowicz/spark/forks","keys_url":"https://api.github.com/repos/kimborowicz/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/kimborowicz/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/kimborowicz/spark/teams","hooks_url":"https://api.github.com/repos/kimborowicz/spark/hooks","issue_events_url":"https://api.github.com/repos/kimborowicz/spark/issues/events{/number}","events_url":"https://api.github.com/repos/kimborowicz/spark/events","assignees_url":"https://api.github.com/repos/kimborowicz/spark/assignees{/user}","branches_url":"https://api.github.com/repos/kimborowicz/spark/branches{/branch}","tags_url":"https://api.github.com/repos/kimborowicz/spark/tags","blobs_url":"https://api.github.com/repos/kimborowicz/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/kimborowicz/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/kimborowicz/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/kimborowicz/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/kimborowicz/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/kimborowicz/spark/languages","stargazers_url":"https://api.github.com/repos/kimborowicz/spark/stargazers","contributors_url":"https://api.github.com/repos/kimborowicz/spark/contributors","subscribers_url":"https://api.github.com/repos/kimborowicz/spark/subscribers","subscription_url":"https://api.github.com/repos/kimborowicz/spark/subscription","commits_url":"https://api.github.com/repos/kimborowicz/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/kimborowicz/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/kimborowicz/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/kimborowicz/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/kimborowicz/spark/contents/{+path}","compare_url":"https://api.github.com/repos/kimborowicz/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/kimborowicz/spark/merges","archive_url":"https://api.github.com/repos/kimborowicz/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/kimborowicz/spark/downloads","issues_url":"https://api.github.com/repos/kimborowicz/spark/issues{/number}","pulls_url":"https://api.github.com/repos/kimborowicz/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/kimborowicz/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/kimborowicz/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/kimborowicz/spark/labels{/name}","releases_url":"https://api.github.com/repos/kimborowicz/spark/releases{/id}","deployments_url":"https://api.github.com/repos/kimborowicz/spark/deployments","created_at":"2024-03-07T09:44:56Z","updated_at":"2024-03-07T10:11:52Z","pushed_at":"2024-03-07T10:11:06Z","git_url":"git://github.com/kimborowicz/spark.git","ssh_url":"git@github.com:kimborowicz/spark.git","clone_url":"https://github.com/kimborowicz/spark.git","svn_url":"https://github.com/kimborowicz/spark","homepage":"https://spark.apache.org/","size":366173,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"0ff22b0019f130635c54db34f7bf06bc48fb5f27","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45419"},"html":{"href":"https://github.com/apache/spark/pull/45419"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45419"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45419/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45419/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45419/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/7f680b20c289a74ae78c7941797e709488bd13ce"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45418","id":1760492496,"node_id":"PR_kwDOAQXtWs5o7vvQ","html_url":"https://github.com/apache/spark/pull/45418","diff_url":"https://github.com/apache/spark/pull/45418.diff","patch_url":"https://github.com/apache/spark/pull/45418.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45418","number":45418,"state":"closed","locked":false,"title":"[SPARK-47316][SQL] Fix TimestampNTZ in Postgres Array","user":{"login":"yaooqinn","id":8326978,"node_id":"MDQ6VXNlcjgzMjY5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/8326978?v=4","gravatar_id":"","url":"https://api.github.com/users/yaooqinn","html_url":"https://github.com/yaooqinn","followers_url":"https://api.github.com/users/yaooqinn/followers","following_url":"https://api.github.com/users/yaooqinn/following{/other_user}","gists_url":"https://api.github.com/users/yaooqinn/gists{/gist_id}","starred_url":"https://api.github.com/users/yaooqinn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yaooqinn/subscriptions","organizations_url":"https://api.github.com/users/yaooqinn/orgs","repos_url":"https://api.github.com/users/yaooqinn/repos","events_url":"https://api.github.com/users/yaooqinn/events{/privacy}","received_events_url":"https://api.github.com/users/yaooqinn/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nFor Postgres, TimestampNTZ works well for plain TimestampNTZ types but not for nested ones, typically for now: array.\r\n\r\nThis PR makes it work.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n\r\nfeature and data consistency \r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\npreferTimestampNTZ jdbc option now works for array([timestamp|time|...]) in postgres \r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nnew tests\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->no\r\n","created_at":"2024-03-07T08:18:57Z","updated_at":"2024-03-08T10:11:44Z","closed_at":"2024-03-08T10:11:21Z","merged_at":null,"merge_commit_sha":"e9cbf3fd5e533f1b140dd3aa6afbd7395024a30d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45418/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45418/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45418/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/d667ab3889fbb9a79f133fdba201526953b91e6b","head":{"label":"yaooqinn:SPARK-47316","ref":"SPARK-47316","sha":"d667ab3889fbb9a79f133fdba201526953b91e6b","user":{"login":"yaooqinn","id":8326978,"node_id":"MDQ6VXNlcjgzMjY5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/8326978?v=4","gravatar_id":"","url":"https://api.github.com/users/yaooqinn","html_url":"https://github.com/yaooqinn","followers_url":"https://api.github.com/users/yaooqinn/followers","following_url":"https://api.github.com/users/yaooqinn/following{/other_user}","gists_url":"https://api.github.com/users/yaooqinn/gists{/gist_id}","starred_url":"https://api.github.com/users/yaooqinn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yaooqinn/subscriptions","organizations_url":"https://api.github.com/users/yaooqinn/orgs","repos_url":"https://api.github.com/users/yaooqinn/repos","events_url":"https://api.github.com/users/yaooqinn/events{/privacy}","received_events_url":"https://api.github.com/users/yaooqinn/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":357976080,"node_id":"MDEwOlJlcG9zaXRvcnkzNTc5NzYwODA=","name":"spark","full_name":"yaooqinn/spark","private":false,"owner":{"login":"yaooqinn","id":8326978,"node_id":"MDQ6VXNlcjgzMjY5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/8326978?v=4","gravatar_id":"","url":"https://api.github.com/users/yaooqinn","html_url":"https://github.com/yaooqinn","followers_url":"https://api.github.com/users/yaooqinn/followers","following_url":"https://api.github.com/users/yaooqinn/following{/other_user}","gists_url":"https://api.github.com/users/yaooqinn/gists{/gist_id}","starred_url":"https://api.github.com/users/yaooqinn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yaooqinn/subscriptions","organizations_url":"https://api.github.com/users/yaooqinn/orgs","repos_url":"https://api.github.com/users/yaooqinn/repos","events_url":"https://api.github.com/users/yaooqinn/events{/privacy}","received_events_url":"https://api.github.com/users/yaooqinn/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/yaooqinn/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/yaooqinn/spark","forks_url":"https://api.github.com/repos/yaooqinn/spark/forks","keys_url":"https://api.github.com/repos/yaooqinn/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/yaooqinn/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/yaooqinn/spark/teams","hooks_url":"https://api.github.com/repos/yaooqinn/spark/hooks","issue_events_url":"https://api.github.com/repos/yaooqinn/spark/issues/events{/number}","events_url":"https://api.github.com/repos/yaooqinn/spark/events","assignees_url":"https://api.github.com/repos/yaooqinn/spark/assignees{/user}","branches_url":"https://api.github.com/repos/yaooqinn/spark/branches{/branch}","tags_url":"https://api.github.com/repos/yaooqinn/spark/tags","blobs_url":"https://api.github.com/repos/yaooqinn/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/yaooqinn/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/yaooqinn/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/yaooqinn/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/yaooqinn/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/yaooqinn/spark/languages","stargazers_url":"https://api.github.com/repos/yaooqinn/spark/stargazers","contributors_url":"https://api.github.com/repos/yaooqinn/spark/contributors","subscribers_url":"https://api.github.com/repos/yaooqinn/spark/subscribers","subscription_url":"https://api.github.com/repos/yaooqinn/spark/subscription","commits_url":"https://api.github.com/repos/yaooqinn/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/yaooqinn/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/yaooqinn/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/yaooqinn/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/yaooqinn/spark/contents/{+path}","compare_url":"https://api.github.com/repos/yaooqinn/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/yaooqinn/spark/merges","archive_url":"https://api.github.com/repos/yaooqinn/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/yaooqinn/spark/downloads","issues_url":"https://api.github.com/repos/yaooqinn/spark/issues{/number}","pulls_url":"https://api.github.com/repos/yaooqinn/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/yaooqinn/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/yaooqinn/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/yaooqinn/spark/labels{/name}","releases_url":"https://api.github.com/repos/yaooqinn/spark/releases{/id}","deployments_url":"https://api.github.com/repos/yaooqinn/spark/deployments","created_at":"2021-04-14T16:44:36Z","updated_at":"2024-11-05T08:03:33Z","pushed_at":"2025-01-24T02:12:30Z","git_url":"git://github.com/yaooqinn/spark.git","ssh_url":"git@github.com:yaooqinn/spark.git","clone_url":"https://github.com/yaooqinn/spark.git","svn_url":"https://github.com/yaooqinn/spark","homepage":"https://spark.apache.org/","size":468287,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"15d7755fd1cb75c28ee97832dbb141b7e0701704","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45418"},"html":{"href":"https://github.com/apache/spark/pull/45418"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45418"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45418/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45418/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45418/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/d667ab3889fbb9a79f133fdba201526953b91e6b"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45417","id":1760258682,"node_id":"PR_kwDOAQXtWs5o62p6","html_url":"https://github.com/apache/spark/pull/45417","diff_url":"https://github.com/apache/spark/pull/45417.diff","patch_url":"https://github.com/apache/spark/pull/45417.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45417","number":45417,"state":"closed","locked":false,"title":"[SPARK-47315][SQL][TEST] Clean up tempView for `createTempView` UT","user":{"login":"wForget","id":17894939,"node_id":"MDQ6VXNlcjE3ODk0OTM5","avatar_url":"https://avatars.githubusercontent.com/u/17894939?v=4","gravatar_id":"","url":"https://api.github.com/users/wForget","html_url":"https://github.com/wForget","followers_url":"https://api.github.com/users/wForget/followers","following_url":"https://api.github.com/users/wForget/following{/other_user}","gists_url":"https://api.github.com/users/wForget/gists{/gist_id}","starred_url":"https://api.github.com/users/wForget/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wForget/subscriptions","organizations_url":"https://api.github.com/users/wForget/orgs","repos_url":"https://api.github.com/users/wForget/repos","events_url":"https://api.github.com/users/wForget/events{/privacy}","received_events_url":"https://api.github.com/users/wForget/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nClean up `tempView` for `createTempView` UT\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n`tempView` created in `createTempView` UT is not cleaned up.\r\n\r\nhttps://github.com/apache/spark/blob/3ec79a9df06f3b5bd28347238a8dfad616ce42d9/sql/core/src/test/scala/org/apache/spark/sql/DatasetSuite.scala#L1433\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nno need\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo","created_at":"2024-03-07T05:35:42Z","updated_at":"2024-03-07T08:53:45Z","closed_at":"2024-03-07T08:53:21Z","merged_at":null,"merge_commit_sha":"608e74596c1b1d7bd0d8d986fe676af52ec1b8bf","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45417/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45417/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45417/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/e01630e768a778fec90eb8068a1836779c8e4c4d","head":{"label":"wForget:hotfix","ref":"hotfix","sha":"e01630e768a778fec90eb8068a1836779c8e4c4d","user":{"login":"wForget","id":17894939,"node_id":"MDQ6VXNlcjE3ODk0OTM5","avatar_url":"https://avatars.githubusercontent.com/u/17894939?v=4","gravatar_id":"","url":"https://api.github.com/users/wForget","html_url":"https://github.com/wForget","followers_url":"https://api.github.com/users/wForget/followers","following_url":"https://api.github.com/users/wForget/following{/other_user}","gists_url":"https://api.github.com/users/wForget/gists{/gist_id}","starred_url":"https://api.github.com/users/wForget/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wForget/subscriptions","organizations_url":"https://api.github.com/users/wForget/orgs","repos_url":"https://api.github.com/users/wForget/repos","events_url":"https://api.github.com/users/wForget/events{/privacy}","received_events_url":"https://api.github.com/users/wForget/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":362712307,"node_id":"MDEwOlJlcG9zaXRvcnkzNjI3MTIzMDc=","name":"spark","full_name":"wForget/spark","private":false,"owner":{"login":"wForget","id":17894939,"node_id":"MDQ6VXNlcjE3ODk0OTM5","avatar_url":"https://avatars.githubusercontent.com/u/17894939?v=4","gravatar_id":"","url":"https://api.github.com/users/wForget","html_url":"https://github.com/wForget","followers_url":"https://api.github.com/users/wForget/followers","following_url":"https://api.github.com/users/wForget/following{/other_user}","gists_url":"https://api.github.com/users/wForget/gists{/gist_id}","starred_url":"https://api.github.com/users/wForget/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wForget/subscriptions","organizations_url":"https://api.github.com/users/wForget/orgs","repos_url":"https://api.github.com/users/wForget/repos","events_url":"https://api.github.com/users/wForget/events{/privacy}","received_events_url":"https://api.github.com/users/wForget/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/wForget/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/wForget/spark","forks_url":"https://api.github.com/repos/wForget/spark/forks","keys_url":"https://api.github.com/repos/wForget/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/wForget/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/wForget/spark/teams","hooks_url":"https://api.github.com/repos/wForget/spark/hooks","issue_events_url":"https://api.github.com/repos/wForget/spark/issues/events{/number}","events_url":"https://api.github.com/repos/wForget/spark/events","assignees_url":"https://api.github.com/repos/wForget/spark/assignees{/user}","branches_url":"https://api.github.com/repos/wForget/spark/branches{/branch}","tags_url":"https://api.github.com/repos/wForget/spark/tags","blobs_url":"https://api.github.com/repos/wForget/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/wForget/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/wForget/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/wForget/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/wForget/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/wForget/spark/languages","stargazers_url":"https://api.github.com/repos/wForget/spark/stargazers","contributors_url":"https://api.github.com/repos/wForget/spark/contributors","subscribers_url":"https://api.github.com/repos/wForget/spark/subscribers","subscription_url":"https://api.github.com/repos/wForget/spark/subscription","commits_url":"https://api.github.com/repos/wForget/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/wForget/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/wForget/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/wForget/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/wForget/spark/contents/{+path}","compare_url":"https://api.github.com/repos/wForget/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/wForget/spark/merges","archive_url":"https://api.github.com/repos/wForget/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/wForget/spark/downloads","issues_url":"https://api.github.com/repos/wForget/spark/issues{/number}","pulls_url":"https://api.github.com/repos/wForget/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/wForget/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/wForget/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/wForget/spark/labels{/name}","releases_url":"https://api.github.com/repos/wForget/spark/releases{/id}","deployments_url":"https://api.github.com/repos/wForget/spark/deployments","created_at":"2021-04-29T06:25:04Z","updated_at":"2024-03-28T10:35:46Z","pushed_at":"2024-07-31T02:49:44Z","git_url":"git://github.com/wForget/spark.git","ssh_url":"git@github.com:wForget/spark.git","clone_url":"https://github.com/wForget/spark.git","svn_url":"https://github.com/wForget/spark","homepage":"https://spark.apache.org/","size":445315,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"3ec79a9df06f3b5bd28347238a8dfad616ce42d9","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45417"},"html":{"href":"https://github.com/apache/spark/pull/45417"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45417"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45417/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45417/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45417/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/e01630e768a778fec90eb8068a1836779c8e4c4d"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45416","id":1760142326,"node_id":"PR_kwDOAQXtWs5o6aP2","html_url":"https://github.com/apache/spark/pull/45416","diff_url":"https://github.com/apache/spark/pull/45416.diff","patch_url":"https://github.com/apache/spark/pull/45416.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45416","number":45416,"state":"closed","locked":false,"title":"[SPARK-47348][INFRA] Align the version of the ubuntu host machine where the GitHub workflow runs on","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n- The pr aims to align `the version` of the ubuntu host machine where the GitHub workflow runs on.\r\n- In all the `YML` files in the workflow, only `two` place `retains` the Ubuntu version of `20.04`, because `databricks/tpcds-kit` depends on it.\r\nhttps://github.com/apache/spark/blob/6c30525e0d71c707aaaed1be49600b866bced49b/.github/workflows/build_and_test.yml#L857-L858\r\nhttps://github.com/apache/spark/blob/6c30525e0d71c707aaaed1be49600b866bced49b/.github/workflows/benchmark.yml#L63\r\n\r\n\r\n### Why are the changes needed?\r\nI found that some workflow run on `ubuntu-latest` (`ubuntu-22.04`), while others run on `ubuntu-20.04`.\r\nMake the testing environment more consistent.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nPass GA.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-03-07T03:26:40Z","updated_at":"2024-03-18T03:06:23Z","closed_at":"2024-03-13T01:17:57Z","merged_at":null,"merge_commit_sha":"9d68926338b36dcff015942b53707b0ec3ec78ef","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1982110661,"node_id":"MDU6TGFiZWwxOTgyMTEwNjYx","url":"https://api.github.com/repos/apache/spark/labels/INFRA","name":"INFRA","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45416/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45416/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45416/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/1a75728d0516350b1a6377fc2676786eae1470a4","head":{"label":"panbingkun:align_run_on_ubuntu_version","ref":"align_run_on_ubuntu_version","sha":"1a75728d0516350b1a6377fc2676786eae1470a4","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"427f74066d57cfeba2429b01bbe7ee7d5bb7ad12","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45416"},"html":{"href":"https://github.com/apache/spark/pull/45416"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45416"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45416/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45416/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45416/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/1a75728d0516350b1a6377fc2676786eae1470a4"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45415","id":1760116966,"node_id":"PR_kwDOAQXtWs5o6UDm","html_url":"https://github.com/apache/spark/pull/45415","diff_url":"https://github.com/apache/spark/pull/45415.diff","patch_url":"https://github.com/apache/spark/pull/45415.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45415","number":45415,"state":"closed","locked":false,"title":"[SPARK-47314][DOC] Remove the  wrong comment line of `ExternalSorter#writePartitionedMapOutput` method","user":{"login":"zwangsheng","id":52876270,"node_id":"MDQ6VXNlcjUyODc2Mjcw","avatar_url":"https://avatars.githubusercontent.com/u/52876270?v=4","gravatar_id":"","url":"https://api.github.com/users/zwangsheng","html_url":"https://github.com/zwangsheng","followers_url":"https://api.github.com/users/zwangsheng/followers","following_url":"https://api.github.com/users/zwangsheng/following{/other_user}","gists_url":"https://api.github.com/users/zwangsheng/gists{/gist_id}","starred_url":"https://api.github.com/users/zwangsheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zwangsheng/subscriptions","organizations_url":"https://api.github.com/users/zwangsheng/orgs","repos_url":"https://api.github.com/users/zwangsheng/repos","events_url":"https://api.github.com/users/zwangsheng/events{/privacy}","received_events_url":"https://api.github.com/users/zwangsheng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nCorrect the comment of `ExternalSorter#writePartitionedMapOutput`.\r\n\r\n`ExternalSorter#writePartitionedMapOutput` return nothing, and will update the partition's length when call partition pair writer to close.\r\n\r\n### Why are the changes needed?\r\n\r\nCorrect comment.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo, developers will meet this change in source code.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nNo need.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo\r\n","created_at":"2024-03-07T02:57:45Z","updated_at":"2024-03-08T02:05:30Z","closed_at":"2024-03-08T02:04:45Z","merged_at":null,"merge_commit_sha":"caca77bf2435722f29a6d9b6cb69f6e0cd368d82","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45415/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45415/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45415/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/8de1f77e88c3e9bfa2c67aa10f631252b03fb236","head":{"label":"zwangsheng:SPARK-47314","ref":"SPARK-47314","sha":"8de1f77e88c3e9bfa2c67aa10f631252b03fb236","user":{"login":"zwangsheng","id":52876270,"node_id":"MDQ6VXNlcjUyODc2Mjcw","avatar_url":"https://avatars.githubusercontent.com/u/52876270?v=4","gravatar_id":"","url":"https://api.github.com/users/zwangsheng","html_url":"https://github.com/zwangsheng","followers_url":"https://api.github.com/users/zwangsheng/followers","following_url":"https://api.github.com/users/zwangsheng/following{/other_user}","gists_url":"https://api.github.com/users/zwangsheng/gists{/gist_id}","starred_url":"https://api.github.com/users/zwangsheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zwangsheng/subscriptions","organizations_url":"https://api.github.com/users/zwangsheng/orgs","repos_url":"https://api.github.com/users/zwangsheng/repos","events_url":"https://api.github.com/users/zwangsheng/events{/privacy}","received_events_url":"https://api.github.com/users/zwangsheng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":724580093,"node_id":"R_kgDOKzA2_Q","name":"spark","full_name":"zwangsheng/spark","private":false,"owner":{"login":"zwangsheng","id":52876270,"node_id":"MDQ6VXNlcjUyODc2Mjcw","avatar_url":"https://avatars.githubusercontent.com/u/52876270?v=4","gravatar_id":"","url":"https://api.github.com/users/zwangsheng","html_url":"https://github.com/zwangsheng","followers_url":"https://api.github.com/users/zwangsheng/followers","following_url":"https://api.github.com/users/zwangsheng/following{/other_user}","gists_url":"https://api.github.com/users/zwangsheng/gists{/gist_id}","starred_url":"https://api.github.com/users/zwangsheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zwangsheng/subscriptions","organizations_url":"https://api.github.com/users/zwangsheng/orgs","repos_url":"https://api.github.com/users/zwangsheng/repos","events_url":"https://api.github.com/users/zwangsheng/events{/privacy}","received_events_url":"https://api.github.com/users/zwangsheng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zwangsheng/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/zwangsheng/spark","forks_url":"https://api.github.com/repos/zwangsheng/spark/forks","keys_url":"https://api.github.com/repos/zwangsheng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zwangsheng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zwangsheng/spark/teams","hooks_url":"https://api.github.com/repos/zwangsheng/spark/hooks","issue_events_url":"https://api.github.com/repos/zwangsheng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zwangsheng/spark/events","assignees_url":"https://api.github.com/repos/zwangsheng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zwangsheng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zwangsheng/spark/tags","blobs_url":"https://api.github.com/repos/zwangsheng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zwangsheng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zwangsheng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zwangsheng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zwangsheng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zwangsheng/spark/languages","stargazers_url":"https://api.github.com/repos/zwangsheng/spark/stargazers","contributors_url":"https://api.github.com/repos/zwangsheng/spark/contributors","subscribers_url":"https://api.github.com/repos/zwangsheng/spark/subscribers","subscription_url":"https://api.github.com/repos/zwangsheng/spark/subscription","commits_url":"https://api.github.com/repos/zwangsheng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zwangsheng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zwangsheng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zwangsheng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zwangsheng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zwangsheng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zwangsheng/spark/merges","archive_url":"https://api.github.com/repos/zwangsheng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zwangsheng/spark/downloads","issues_url":"https://api.github.com/repos/zwangsheng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zwangsheng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zwangsheng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zwangsheng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zwangsheng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zwangsheng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zwangsheng/spark/deployments","created_at":"2023-11-28T11:22:20Z","updated_at":"2024-02-28T01:56:19Z","pushed_at":"2024-04-26T02:03:10Z","git_url":"git://github.com/zwangsheng/spark.git","ssh_url":"git@github.com:zwangsheng/spark.git","clone_url":"https://github.com/zwangsheng/spark.git","svn_url":"https://github.com/zwangsheng/spark","homepage":"https://spark.apache.org/","size":380344,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c6538301c0a8f82991acb01c684d15ba25b7c377","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45415"},"html":{"href":"https://github.com/apache/spark/pull/45415"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45415"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45415/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45415/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45415/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/8de1f77e88c3e9bfa2c67aa10f631252b03fb236"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45414","id":1760066129,"node_id":"PR_kwDOAQXtWs5o6HpR","html_url":"https://github.com/apache/spark/pull/45414","diff_url":"https://github.com/apache/spark/pull/45414.diff","patch_url":"https://github.com/apache/spark/pull/45414.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45414","number":45414,"state":"closed","locked":false,"title":"[SPARK-47311][SQL][PYTHON] Suppress Python exceptions where PySpark is not in the Python path","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR proposes to suppress Python exceptions where PySpark is not in the Python path\r\n\r\n### Why are the changes needed?\r\n\r\n`pyspark` library itself might be missing when users run Scala/Java and R Spark applications. In that case, this warning messages might too nosiy.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nYes, it will hide the warning message when a user meet all conditions below:\r\n- Use Scala or R only Spark application\r\n- Have a Python, but the Python does not have have PySpark in their Python path\r\n  - Either because `SPARK_HOME` is undefined for some reasons,\r\n  - Or, by other environment problems.\r\n\r\n### How was this patch tested?\r\n\r\nManually tested.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.\r\n","created_at":"2024-03-07T01:47:13Z","updated_at":"2024-03-07T20:33:32Z","closed_at":"2024-03-07T04:09:27Z","merged_at":null,"merge_commit_sha":"5abe65334f0dd1677a84d825fbc10adcbf806d84","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45414/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45414/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45414/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/8ba9bef8413865ec6d8ecf3ccaf7026cf8f01d78","head":{"label":"HyukjinKwon:SPARK-47311","ref":"SPARK-47311","sha":"8ba9bef8413865ec6d8ecf3ccaf7026cf8f01d78","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d9881bd59d05a0c5587056ff23f982f2ee9db677","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45414"},"html":{"href":"https://github.com/apache/spark/pull/45414"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45414"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45414/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45414/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45414/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/8ba9bef8413865ec6d8ecf3ccaf7026cf8f01d78"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45413","id":1760049908,"node_id":"PR_kwDOAQXtWs5o6Dr0","html_url":"https://github.com/apache/spark/pull/45413","diff_url":"https://github.com/apache/spark/pull/45413.diff","patch_url":"https://github.com/apache/spark/pull/45413.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45413","number":45413,"state":"closed","locked":false,"title":"[SPARK-46988][CONNECT][TESTS] Add tests for `map` type in `ProtoUtils.abbreviate`","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nAdd tests for map types in `ProtoUtils.abbreviate`\r\n\r\n\r\n### Why are the changes needed?\r\nwhen I started working on `SPARK-46988` to make `ProtoUtils.abbreviate` support `map` type, I just found that it had already been supported when we supported `repeated Message`.\r\n\r\nA `map` field internally is also a `repeated` field, and each element is a `Message`.\r\n\r\nsee https://cloud.google.com/java/docs/reference/protobuf/latest/com.google.protobuf.MapEntry\r\n\r\n> In reflection API, map fields will be treated as repeated message fields and each map entry is accessed as a message. This MapEntry class is used to represent these map entry messages in reflection API.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nno, test-only\r\n\r\n\r\n### How was this patch tested?\r\nadded tests\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nno","created_at":"2024-03-07T01:23:45Z","updated_at":"2024-03-07T03:42:15Z","closed_at":"2024-03-07T03:41:50Z","merged_at":null,"merge_commit_sha":"02c3aec417625dce7a4e3e5685e11026e0239b46","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45413/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45413/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45413/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/cabc240ac15f11379b84bd6dda6a3c5e2d069d0b","head":{"label":"zhengruifeng:connect_truncate_map","ref":"connect_truncate_map","sha":"cabc240ac15f11379b84bd6dda6a3c5e2d069d0b","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":51584791,"node_id":"MDEwOlJlcG9zaXRvcnk1MTU4NDc5MQ==","name":"spark","full_name":"zhengruifeng/spark","private":false,"owner":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhengruifeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zhengruifeng/spark","forks_url":"https://api.github.com/repos/zhengruifeng/spark/forks","keys_url":"https://api.github.com/repos/zhengruifeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhengruifeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhengruifeng/spark/teams","hooks_url":"https://api.github.com/repos/zhengruifeng/spark/hooks","issue_events_url":"https://api.github.com/repos/zhengruifeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhengruifeng/spark/events","assignees_url":"https://api.github.com/repos/zhengruifeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhengruifeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhengruifeng/spark/tags","blobs_url":"https://api.github.com/repos/zhengruifeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhengruifeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhengruifeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhengruifeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhengruifeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhengruifeng/spark/languages","stargazers_url":"https://api.github.com/repos/zhengruifeng/spark/stargazers","contributors_url":"https://api.github.com/repos/zhengruifeng/spark/contributors","subscribers_url":"https://api.github.com/repos/zhengruifeng/spark/subscribers","subscription_url":"https://api.github.com/repos/zhengruifeng/spark/subscription","commits_url":"https://api.github.com/repos/zhengruifeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhengruifeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhengruifeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhengruifeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhengruifeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhengruifeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhengruifeng/spark/merges","archive_url":"https://api.github.com/repos/zhengruifeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhengruifeng/spark/downloads","issues_url":"https://api.github.com/repos/zhengruifeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhengruifeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhengruifeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhengruifeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhengruifeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhengruifeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhengruifeng/spark/deployments","created_at":"2016-02-12T11:58:00Z","updated_at":"2025-02-09T01:55:22Z","pushed_at":"2025-02-09T01:55:17Z","git_url":"git://github.com/zhengruifeng/spark.git","ssh_url":"git@github.com:zhengruifeng/spark.git","clone_url":"https://github.com/zhengruifeng/spark.git","svn_url":"https://github.com/zhengruifeng/spark","homepage":null,"size":434785,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d9881bd59d05a0c5587056ff23f982f2ee9db677","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45413"},"html":{"href":"https://github.com/apache/spark/pull/45413"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45413"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45413/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45413/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45413/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/cabc240ac15f11379b84bd6dda6a3c5e2d069d0b"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45412","id":1759764285,"node_id":"PR_kwDOAQXtWs5o4989","html_url":"https://github.com/apache/spark/pull/45412","diff_url":"https://github.com/apache/spark/pull/45412.diff","patch_url":"https://github.com/apache/spark/pull/45412.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45412","number":45412,"state":"closed","locked":false,"title":"[SPARK-47070][SQL][FOLLOW-UP] Add a flag guarding a subquery in aggregate rewrite","user":{"login":"anton5798","id":25360033,"node_id":"MDQ6VXNlcjI1MzYwMDMz","avatar_url":"https://avatars.githubusercontent.com/u/25360033?v=4","gravatar_id":"","url":"https://api.github.com/users/anton5798","html_url":"https://github.com/anton5798","followers_url":"https://api.github.com/users/anton5798/followers","following_url":"https://api.github.com/users/anton5798/following{/other_user}","gists_url":"https://api.github.com/users/anton5798/gists{/gist_id}","starred_url":"https://api.github.com/users/anton5798/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anton5798/subscriptions","organizations_url":"https://api.github.com/users/anton5798/orgs","repos_url":"https://api.github.com/users/anton5798/repos","events_url":"https://api.github.com/users/anton5798/events{/privacy}","received_events_url":"https://api.github.com/users/anton5798/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nAdd a flag that guards a recently introduced new codepath inside optimizer that wraps `exists` variables into an agg function. See [#45133](https://github.com/apache/spark/pull/45133) for details.\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nGuarding a new QO codepath with a flag.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo; only a new internal conf.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nNo additional tests.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo\r\n\r\n","created_at":"2024-03-06T21:18:45Z","updated_at":"2024-03-07T01:56:12Z","closed_at":"2024-03-07T01:56:12Z","merged_at":null,"merge_commit_sha":"73bec6cb9827c8d51b42ab6463bef12183362332","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45412/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45412/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45412/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/1f3fd42a09b1d07ee48e3a476c75ee4d0e848215","head":{"label":"anton5798:agg-subquery-fup","ref":"agg-subquery-fup","sha":"1f3fd42a09b1d07ee48e3a476c75ee4d0e848215","user":{"login":"anton5798","id":25360033,"node_id":"MDQ6VXNlcjI1MzYwMDMz","avatar_url":"https://avatars.githubusercontent.com/u/25360033?v=4","gravatar_id":"","url":"https://api.github.com/users/anton5798","html_url":"https://github.com/anton5798","followers_url":"https://api.github.com/users/anton5798/followers","following_url":"https://api.github.com/users/anton5798/following{/other_user}","gists_url":"https://api.github.com/users/anton5798/gists{/gist_id}","starred_url":"https://api.github.com/users/anton5798/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anton5798/subscriptions","organizations_url":"https://api.github.com/users/anton5798/orgs","repos_url":"https://api.github.com/users/anton5798/repos","events_url":"https://api.github.com/users/anton5798/events{/privacy}","received_events_url":"https://api.github.com/users/anton5798/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":758259327,"node_id":"R_kgDOLTIefw","name":"spark","full_name":"anton5798/spark","private":false,"owner":{"login":"anton5798","id":25360033,"node_id":"MDQ6VXNlcjI1MzYwMDMz","avatar_url":"https://avatars.githubusercontent.com/u/25360033?v=4","gravatar_id":"","url":"https://api.github.com/users/anton5798","html_url":"https://github.com/anton5798","followers_url":"https://api.github.com/users/anton5798/followers","following_url":"https://api.github.com/users/anton5798/following{/other_user}","gists_url":"https://api.github.com/users/anton5798/gists{/gist_id}","starred_url":"https://api.github.com/users/anton5798/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anton5798/subscriptions","organizations_url":"https://api.github.com/users/anton5798/orgs","repos_url":"https://api.github.com/users/anton5798/repos","events_url":"https://api.github.com/users/anton5798/events{/privacy}","received_events_url":"https://api.github.com/users/anton5798/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/anton5798/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/anton5798/spark","forks_url":"https://api.github.com/repos/anton5798/spark/forks","keys_url":"https://api.github.com/repos/anton5798/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/anton5798/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/anton5798/spark/teams","hooks_url":"https://api.github.com/repos/anton5798/spark/hooks","issue_events_url":"https://api.github.com/repos/anton5798/spark/issues/events{/number}","events_url":"https://api.github.com/repos/anton5798/spark/events","assignees_url":"https://api.github.com/repos/anton5798/spark/assignees{/user}","branches_url":"https://api.github.com/repos/anton5798/spark/branches{/branch}","tags_url":"https://api.github.com/repos/anton5798/spark/tags","blobs_url":"https://api.github.com/repos/anton5798/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/anton5798/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/anton5798/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/anton5798/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/anton5798/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/anton5798/spark/languages","stargazers_url":"https://api.github.com/repos/anton5798/spark/stargazers","contributors_url":"https://api.github.com/repos/anton5798/spark/contributors","subscribers_url":"https://api.github.com/repos/anton5798/spark/subscribers","subscription_url":"https://api.github.com/repos/anton5798/spark/subscription","commits_url":"https://api.github.com/repos/anton5798/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/anton5798/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/anton5798/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/anton5798/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/anton5798/spark/contents/{+path}","compare_url":"https://api.github.com/repos/anton5798/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/anton5798/spark/merges","archive_url":"https://api.github.com/repos/anton5798/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/anton5798/spark/downloads","issues_url":"https://api.github.com/repos/anton5798/spark/issues{/number}","pulls_url":"https://api.github.com/repos/anton5798/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/anton5798/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/anton5798/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/anton5798/spark/labels{/name}","releases_url":"https://api.github.com/repos/anton5798/spark/releases{/id}","deployments_url":"https://api.github.com/repos/anton5798/spark/deployments","created_at":"2024-02-15T23:47:29Z","updated_at":"2024-12-16T13:53:05Z","pushed_at":"2024-12-17T10:05:09Z","git_url":"git://github.com/anton5798/spark.git","ssh_url":"git@github.com:anton5798/spark.git","clone_url":"https://github.com/anton5798/spark.git","svn_url":"https://github.com/anton5798/spark","homepage":"https://spark.apache.org/","size":416800,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d705d868aaaac6343d2089d0b56ec70ab6a458f3","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45412"},"html":{"href":"https://github.com/apache/spark/pull/45412"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45412"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45412/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45412/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45412/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/1f3fd42a09b1d07ee48e3a476c75ee4d0e848215"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45411","id":1759762372,"node_id":"PR_kwDOAQXtWs5o49fE","html_url":"https://github.com/apache/spark/pull/45411","diff_url":"https://github.com/apache/spark/pull/45411.diff","patch_url":"https://github.com/apache/spark/pull/45411.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45411","number":45411,"state":"closed","locked":false,"title":"[SPARK-47309][SQL][XML] Add schema inference unit tests","user":{"login":"shujingyang-db","id":135740748,"node_id":"U_kgDOCBc9TA","avatar_url":"https://avatars.githubusercontent.com/u/135740748?v=4","gravatar_id":"","url":"https://api.github.com/users/shujingyang-db","html_url":"https://github.com/shujingyang-db","followers_url":"https://api.github.com/users/shujingyang-db/followers","following_url":"https://api.github.com/users/shujingyang-db/following{/other_user}","gists_url":"https://api.github.com/users/shujingyang-db/gists{/gist_id}","starred_url":"https://api.github.com/users/shujingyang-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shujingyang-db/subscriptions","organizations_url":"https://api.github.com/users/shujingyang-db/orgs","repos_url":"https://api.github.com/users/shujingyang-db/repos","events_url":"https://api.github.com/users/shujingyang-db/events{/privacy}","received_events_url":"https://api.github.com/users/shujingyang-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nAs titled.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nFix a bug.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUnit tests\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo","created_at":"2024-03-06T21:17:07Z","updated_at":"2024-03-12T00:24:40Z","closed_at":"2024-03-12T00:24:40Z","merged_at":null,"merge_commit_sha":"6f46ee2a55b756774ede2d09f0b03cff4535b5b0","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45411/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45411/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45411/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/11869af982371bf6bd3c8662439c9ffb50d1bffa","head":{"label":"shujingyang-db:xml-inference-check","ref":"xml-inference-check","sha":"11869af982371bf6bd3c8662439c9ffb50d1bffa","user":{"login":"shujingyang-db","id":135740748,"node_id":"U_kgDOCBc9TA","avatar_url":"https://avatars.githubusercontent.com/u/135740748?v=4","gravatar_id":"","url":"https://api.github.com/users/shujingyang-db","html_url":"https://github.com/shujingyang-db","followers_url":"https://api.github.com/users/shujingyang-db/followers","following_url":"https://api.github.com/users/shujingyang-db/following{/other_user}","gists_url":"https://api.github.com/users/shujingyang-db/gists{/gist_id}","starred_url":"https://api.github.com/users/shujingyang-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shujingyang-db/subscriptions","organizations_url":"https://api.github.com/users/shujingyang-db/orgs","repos_url":"https://api.github.com/users/shujingyang-db/repos","events_url":"https://api.github.com/users/shujingyang-db/events{/privacy}","received_events_url":"https://api.github.com/users/shujingyang-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":695990001,"node_id":"R_kgDOKXv28Q","name":"spark","full_name":"shujingyang-db/spark","private":false,"owner":{"login":"shujingyang-db","id":135740748,"node_id":"U_kgDOCBc9TA","avatar_url":"https://avatars.githubusercontent.com/u/135740748?v=4","gravatar_id":"","url":"https://api.github.com/users/shujingyang-db","html_url":"https://github.com/shujingyang-db","followers_url":"https://api.github.com/users/shujingyang-db/followers","following_url":"https://api.github.com/users/shujingyang-db/following{/other_user}","gists_url":"https://api.github.com/users/shujingyang-db/gists{/gist_id}","starred_url":"https://api.github.com/users/shujingyang-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shujingyang-db/subscriptions","organizations_url":"https://api.github.com/users/shujingyang-db/orgs","repos_url":"https://api.github.com/users/shujingyang-db/repos","events_url":"https://api.github.com/users/shujingyang-db/events{/privacy}","received_events_url":"https://api.github.com/users/shujingyang-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/shujingyang-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/shujingyang-db/spark","forks_url":"https://api.github.com/repos/shujingyang-db/spark/forks","keys_url":"https://api.github.com/repos/shujingyang-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/shujingyang-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/shujingyang-db/spark/teams","hooks_url":"https://api.github.com/repos/shujingyang-db/spark/hooks","issue_events_url":"https://api.github.com/repos/shujingyang-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/shujingyang-db/spark/events","assignees_url":"https://api.github.com/repos/shujingyang-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/shujingyang-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/shujingyang-db/spark/tags","blobs_url":"https://api.github.com/repos/shujingyang-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/shujingyang-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/shujingyang-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/shujingyang-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/shujingyang-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/shujingyang-db/spark/languages","stargazers_url":"https://api.github.com/repos/shujingyang-db/spark/stargazers","contributors_url":"https://api.github.com/repos/shujingyang-db/spark/contributors","subscribers_url":"https://api.github.com/repos/shujingyang-db/spark/subscribers","subscription_url":"https://api.github.com/repos/shujingyang-db/spark/subscription","commits_url":"https://api.github.com/repos/shujingyang-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/shujingyang-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/shujingyang-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/shujingyang-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/shujingyang-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/shujingyang-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/shujingyang-db/spark/merges","archive_url":"https://api.github.com/repos/shujingyang-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/shujingyang-db/spark/downloads","issues_url":"https://api.github.com/repos/shujingyang-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/shujingyang-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/shujingyang-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/shujingyang-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/shujingyang-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/shujingyang-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/shujingyang-db/spark/deployments","created_at":"2023-09-24T20:15:33Z","updated_at":"2023-10-10T18:47:51Z","pushed_at":"2024-07-26T20:25:58Z","git_url":"git://github.com/shujingyang-db/spark.git","ssh_url":"git@github.com:shujingyang-db/spark.git","clone_url":"https://github.com/shujingyang-db/spark.git","svn_url":"https://github.com/shujingyang-db/spark","homepage":"https://spark.apache.org/","size":393603,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d705d868aaaac6343d2089d0b56ec70ab6a458f3","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45411"},"html":{"href":"https://github.com/apache/spark/pull/45411"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45411"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45411/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45411/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45411/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/11869af982371bf6bd3c8662439c9ffb50d1bffa"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45410","id":1759553470,"node_id":"PR_kwDOAQXtWs5o4Ke-","html_url":"https://github.com/apache/spark/pull/45410","diff_url":"https://github.com/apache/spark/pull/45410.diff","patch_url":"https://github.com/apache/spark/pull/45410.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45410","number":45410,"state":"closed","locked":false,"title":"[SPARK-49321][SQL] Bind JDBC dialect to JDBCRDD at construction","user":{"login":"johnnywalker","id":748017,"node_id":"MDQ6VXNlcjc0ODAxNw==","avatar_url":"https://avatars.githubusercontent.com/u/748017?v=4","gravatar_id":"","url":"https://api.github.com/users/johnnywalker","html_url":"https://github.com/johnnywalker","followers_url":"https://api.github.com/users/johnnywalker/followers","following_url":"https://api.github.com/users/johnnywalker/following{/other_user}","gists_url":"https://api.github.com/users/johnnywalker/gists{/gist_id}","starred_url":"https://api.github.com/users/johnnywalker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnnywalker/subscriptions","organizations_url":"https://api.github.com/users/johnnywalker/orgs","repos_url":"https://api.github.com/users/johnnywalker/repos","events_url":"https://api.github.com/users/johnnywalker/events{/privacy}","received_events_url":"https://api.github.com/users/johnnywalker/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"Registered dialects may differ between driver and executors. Bind dialect to the RDD on creation to use the same dialect regardless of JVM state.\r\n\r\n<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n\r\nBind the resolved JDBC dialect to the `JDBCRDD` instance during construction.\r\n\r\n### Why are the changes needed?\r\n\r\nWhile working on a Spark application, I created a custom JDBC dialect and registered before creating a `SparkSession`. Spark did not use the dialect's `JdbcSQLQueryBuilder`, however, so I investigated further. I discovered that `JDBCRDD` [repeats the dialect resolution](https://github.com/apache/spark/blame/fe2174d8caaf6f9474319a8d729a2f537038b4c1/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/jdbc/JDBCRDD.scala#L177), and this runs on the executor. \r\n\r\nFrom what I can understand, additional dialects registered by the driver will not be available in the executor when running in cluster mode. Consequently, I propose binding the resolved dialect to the `JDBCRDD` instance to produce deterministic behavior.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo aside from resolving a bug that some users may have encountered.\r\n\r\n### How was this patch tested?\r\n\r\nI have not written tests, but I have manually tested the fix on a local 3.5.1 cluster. Applying this change produced the desired behavior (i.e. the custom dialect's `JdbcSQLQueryBuilder` was used to generate queries from executors).\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo\r\n","created_at":"2024-03-06T18:59:45Z","updated_at":"2024-11-30T00:25:04Z","closed_at":"2024-11-30T00:25:04Z","merged_at":null,"merge_commit_sha":"21f7c3a461c2b5a8b11193fb1d81f65f26e42601","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45410/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45410/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45410/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/dc00f8c3f1d5518801b95f90da4a8d47cfddba9e","head":{"label":"johnnywalker:jdbc-rdd-bind-dialect","ref":"jdbc-rdd-bind-dialect","sha":"dc00f8c3f1d5518801b95f90da4a8d47cfddba9e","user":{"login":"johnnywalker","id":748017,"node_id":"MDQ6VXNlcjc0ODAxNw==","avatar_url":"https://avatars.githubusercontent.com/u/748017?v=4","gravatar_id":"","url":"https://api.github.com/users/johnnywalker","html_url":"https://github.com/johnnywalker","followers_url":"https://api.github.com/users/johnnywalker/followers","following_url":"https://api.github.com/users/johnnywalker/following{/other_user}","gists_url":"https://api.github.com/users/johnnywalker/gists{/gist_id}","starred_url":"https://api.github.com/users/johnnywalker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnnywalker/subscriptions","organizations_url":"https://api.github.com/users/johnnywalker/orgs","repos_url":"https://api.github.com/users/johnnywalker/repos","events_url":"https://api.github.com/users/johnnywalker/events{/privacy}","received_events_url":"https://api.github.com/users/johnnywalker/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":768240212,"node_id":"R_kgDOLcpqVA","name":"spark","full_name":"johnnywalker/spark","private":false,"owner":{"login":"johnnywalker","id":748017,"node_id":"MDQ6VXNlcjc0ODAxNw==","avatar_url":"https://avatars.githubusercontent.com/u/748017?v=4","gravatar_id":"","url":"https://api.github.com/users/johnnywalker","html_url":"https://github.com/johnnywalker","followers_url":"https://api.github.com/users/johnnywalker/followers","following_url":"https://api.github.com/users/johnnywalker/following{/other_user}","gists_url":"https://api.github.com/users/johnnywalker/gists{/gist_id}","starred_url":"https://api.github.com/users/johnnywalker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnnywalker/subscriptions","organizations_url":"https://api.github.com/users/johnnywalker/orgs","repos_url":"https://api.github.com/users/johnnywalker/repos","events_url":"https://api.github.com/users/johnnywalker/events{/privacy}","received_events_url":"https://api.github.com/users/johnnywalker/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/johnnywalker/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/johnnywalker/spark","forks_url":"https://api.github.com/repos/johnnywalker/spark/forks","keys_url":"https://api.github.com/repos/johnnywalker/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/johnnywalker/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/johnnywalker/spark/teams","hooks_url":"https://api.github.com/repos/johnnywalker/spark/hooks","issue_events_url":"https://api.github.com/repos/johnnywalker/spark/issues/events{/number}","events_url":"https://api.github.com/repos/johnnywalker/spark/events","assignees_url":"https://api.github.com/repos/johnnywalker/spark/assignees{/user}","branches_url":"https://api.github.com/repos/johnnywalker/spark/branches{/branch}","tags_url":"https://api.github.com/repos/johnnywalker/spark/tags","blobs_url":"https://api.github.com/repos/johnnywalker/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/johnnywalker/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/johnnywalker/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/johnnywalker/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/johnnywalker/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/johnnywalker/spark/languages","stargazers_url":"https://api.github.com/repos/johnnywalker/spark/stargazers","contributors_url":"https://api.github.com/repos/johnnywalker/spark/contributors","subscribers_url":"https://api.github.com/repos/johnnywalker/spark/subscribers","subscription_url":"https://api.github.com/repos/johnnywalker/spark/subscription","commits_url":"https://api.github.com/repos/johnnywalker/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/johnnywalker/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/johnnywalker/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/johnnywalker/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/johnnywalker/spark/contents/{+path}","compare_url":"https://api.github.com/repos/johnnywalker/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/johnnywalker/spark/merges","archive_url":"https://api.github.com/repos/johnnywalker/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/johnnywalker/spark/downloads","issues_url":"https://api.github.com/repos/johnnywalker/spark/issues{/number}","pulls_url":"https://api.github.com/repos/johnnywalker/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/johnnywalker/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/johnnywalker/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/johnnywalker/spark/labels{/name}","releases_url":"https://api.github.com/repos/johnnywalker/spark/releases{/id}","deployments_url":"https://api.github.com/repos/johnnywalker/spark/deployments","created_at":"2024-03-06T18:10:32Z","updated_at":"2024-03-06T18:10:32Z","pushed_at":"2024-08-18T02:03:00Z","git_url":"git://github.com/johnnywalker/spark.git","ssh_url":"git@github.com:johnnywalker/spark.git","clone_url":"https://github.com/johnnywalker/spark.git","svn_url":"https://github.com/johnnywalker/spark","homepage":"https://spark.apache.org/","size":369142,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"e341e26330bac1495029e41e4ac2282329a84d57","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45410"},"html":{"href":"https://github.com/apache/spark/pull/45410"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45410"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45410/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45410/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45410/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/dc00f8c3f1d5518801b95f90da4a8d47cfddba9e"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45409","id":1759518420,"node_id":"PR_kwDOAQXtWs5o4B7U","html_url":"https://github.com/apache/spark/pull/45409","diff_url":"https://github.com/apache/spark/pull/45409.diff","patch_url":"https://github.com/apache/spark/pull/45409.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45409","number":45409,"state":"closed","locked":false,"title":"[SPARK-45827][SQL] Move data type checks to CreatableRelationProvider","user":{"login":"cashmand","id":54722026,"node_id":"MDQ6VXNlcjU0NzIyMDI2","avatar_url":"https://avatars.githubusercontent.com/u/54722026?v=4","gravatar_id":"","url":"https://api.github.com/users/cashmand","html_url":"https://github.com/cashmand","followers_url":"https://api.github.com/users/cashmand/followers","following_url":"https://api.github.com/users/cashmand/following{/other_user}","gists_url":"https://api.github.com/users/cashmand/gists{/gist_id}","starred_url":"https://api.github.com/users/cashmand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cashmand/subscriptions","organizations_url":"https://api.github.com/users/cashmand/orgs","repos_url":"https://api.github.com/users/cashmand/repos","events_url":"https://api.github.com/users/cashmand/events{/privacy}","received_events_url":"https://api.github.com/users/cashmand/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n\r\nIn DataSource.scala, there are checks to prevent writing Variant and Interval types to a `CreatableRelationalProvider`. This PR unifies the checks in a method on `CreatableRelationalProvider` so that data sources can override in order to specify a different set of supported data types.\r\n\r\n### Why are the changes needed?\r\n\r\nAllows data sources to specify what types they support, while providing a sensible default for most data sources.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nThe error message for Variant and Interval are now shared, and are a bit more generic. The intent is to otherwise not have any user-facing change.\r\n\r\n### How was this patch tested?\r\n\r\nUnit tests added.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.","created_at":"2024-03-06T18:34:43Z","updated_at":"2024-03-07T16:43:37Z","closed_at":"2024-03-07T16:43:37Z","merged_at":null,"merge_commit_sha":"2c86cf7fe18dc919a65bd2d83dece4fbbc0c74d5","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45409/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45409/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45409/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/a04142b879d98ddc2a998a13dcfaceed1b1a1455","head":{"label":"cashmand:SPARK-45827-CreatableRelationProvider","ref":"SPARK-45827-CreatableRelationProvider","sha":"a04142b879d98ddc2a998a13dcfaceed1b1a1455","user":{"login":"cashmand","id":54722026,"node_id":"MDQ6VXNlcjU0NzIyMDI2","avatar_url":"https://avatars.githubusercontent.com/u/54722026?v=4","gravatar_id":"","url":"https://api.github.com/users/cashmand","html_url":"https://github.com/cashmand","followers_url":"https://api.github.com/users/cashmand/followers","following_url":"https://api.github.com/users/cashmand/following{/other_user}","gists_url":"https://api.github.com/users/cashmand/gists{/gist_id}","starred_url":"https://api.github.com/users/cashmand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cashmand/subscriptions","organizations_url":"https://api.github.com/users/cashmand/orgs","repos_url":"https://api.github.com/users/cashmand/repos","events_url":"https://api.github.com/users/cashmand/events{/privacy}","received_events_url":"https://api.github.com/users/cashmand/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":469837514,"node_id":"R_kgDOHAEmyg","name":"spark","full_name":"cashmand/spark","private":false,"owner":{"login":"cashmand","id":54722026,"node_id":"MDQ6VXNlcjU0NzIyMDI2","avatar_url":"https://avatars.githubusercontent.com/u/54722026?v=4","gravatar_id":"","url":"https://api.github.com/users/cashmand","html_url":"https://github.com/cashmand","followers_url":"https://api.github.com/users/cashmand/followers","following_url":"https://api.github.com/users/cashmand/following{/other_user}","gists_url":"https://api.github.com/users/cashmand/gists{/gist_id}","starred_url":"https://api.github.com/users/cashmand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cashmand/subscriptions","organizations_url":"https://api.github.com/users/cashmand/orgs","repos_url":"https://api.github.com/users/cashmand/repos","events_url":"https://api.github.com/users/cashmand/events{/privacy}","received_events_url":"https://api.github.com/users/cashmand/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/cashmand/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/cashmand/spark","forks_url":"https://api.github.com/repos/cashmand/spark/forks","keys_url":"https://api.github.com/repos/cashmand/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cashmand/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cashmand/spark/teams","hooks_url":"https://api.github.com/repos/cashmand/spark/hooks","issue_events_url":"https://api.github.com/repos/cashmand/spark/issues/events{/number}","events_url":"https://api.github.com/repos/cashmand/spark/events","assignees_url":"https://api.github.com/repos/cashmand/spark/assignees{/user}","branches_url":"https://api.github.com/repos/cashmand/spark/branches{/branch}","tags_url":"https://api.github.com/repos/cashmand/spark/tags","blobs_url":"https://api.github.com/repos/cashmand/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cashmand/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cashmand/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/cashmand/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cashmand/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/cashmand/spark/languages","stargazers_url":"https://api.github.com/repos/cashmand/spark/stargazers","contributors_url":"https://api.github.com/repos/cashmand/spark/contributors","subscribers_url":"https://api.github.com/repos/cashmand/spark/subscribers","subscription_url":"https://api.github.com/repos/cashmand/spark/subscription","commits_url":"https://api.github.com/repos/cashmand/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/cashmand/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/cashmand/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/cashmand/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/cashmand/spark/contents/{+path}","compare_url":"https://api.github.com/repos/cashmand/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cashmand/spark/merges","archive_url":"https://api.github.com/repos/cashmand/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cashmand/spark/downloads","issues_url":"https://api.github.com/repos/cashmand/spark/issues{/number}","pulls_url":"https://api.github.com/repos/cashmand/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/cashmand/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/cashmand/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cashmand/spark/labels{/name}","releases_url":"https://api.github.com/repos/cashmand/spark/releases{/id}","deployments_url":"https://api.github.com/repos/cashmand/spark/deployments","created_at":"2022-03-14T17:28:00Z","updated_at":"2023-01-23T21:24:49Z","pushed_at":"2025-01-03T18:17:55Z","git_url":"git://github.com/cashmand/spark.git","ssh_url":"git@github.com:cashmand/spark.git","clone_url":"https://github.com/cashmand/spark.git","svn_url":"https://github.com/cashmand/spark","homepage":"https://spark.apache.org/","size":461006,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"fe2174d8caaf6f9474319a8d729a2f537038b4c1","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45409"},"html":{"href":"https://github.com/apache/spark/pull/45409"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45409"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45409/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45409/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45409/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/a04142b879d98ddc2a998a13dcfaceed1b1a1455"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45408","id":1759508097,"node_id":"PR_kwDOAQXtWs5o3_aB","html_url":"https://github.com/apache/spark/pull/45408","diff_url":"https://github.com/apache/spark/pull/45408.diff","patch_url":"https://github.com/apache/spark/pull/45408.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45408","number":45408,"state":"closed","locked":false,"title":"[SPARK-47307][SQL] Add a config to optionally chunk base64 strings","user":{"login":"ted-jenks","id":77486246,"node_id":"MDQ6VXNlcjc3NDg2MjQ2","avatar_url":"https://avatars.githubusercontent.com/u/77486246?v=4","gravatar_id":"","url":"https://api.github.com/users/ted-jenks","html_url":"https://github.com/ted-jenks","followers_url":"https://api.github.com/users/ted-jenks/followers","following_url":"https://api.github.com/users/ted-jenks/following{/other_user}","gists_url":"https://api.github.com/users/ted-jenks/gists{/gist_id}","starred_url":"https://api.github.com/users/ted-jenks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ted-jenks/subscriptions","organizations_url":"https://api.github.com/users/ted-jenks/orgs","repos_url":"https://api.github.com/users/ted-jenks/repos","events_url":"https://api.github.com/users/ted-jenks/events{/privacy}","received_events_url":"https://api.github.com/users/ted-jenks/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n[SPARK-47307] Add a config to optionally chunk base64 strings\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nIn https://github.com/apache/spark/pull/35110, it was incorrectly asserted that:\r\n> ApacheCommonBase64 obeys http://www.ietf.org/rfc/rfc2045.txt\r\n\r\nThis is not true as the previous code called:\r\n```java\r\npublic static byte[] encodeBase64(byte[] binaryData)\r\n```\r\nWhich states:\r\n> Encodes binary data using the base64 algorithm but does not chunk the output.\r\n\r\nHowever, the RFC 2045 (MIME) base64 encoder does chunk by default. This now means that any Spark encoded base64 strings cannot be decoded by encoders that do not implement RFC 2045. The docs state RFC 4648.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nExisting test suite.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo","created_at":"2024-03-06T18:27:13Z","updated_at":"2024-07-12T10:41:38Z","closed_at":"2024-07-12T10:41:38Z","merged_at":null,"merge_commit_sha":"dcc0970b6f243fa3725db8473bb82d4cbf254518","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45408/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45408/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45408/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/5435698a526f28d8615b289f6734742ca2960579","head":{"label":"ted-jenks:tedcj/not-mime","ref":"tedcj/not-mime","sha":"5435698a526f28d8615b289f6734742ca2960579","user":{"login":"ted-jenks","id":77486246,"node_id":"MDQ6VXNlcjc3NDg2MjQ2","avatar_url":"https://avatars.githubusercontent.com/u/77486246?v=4","gravatar_id":"","url":"https://api.github.com/users/ted-jenks","html_url":"https://github.com/ted-jenks","followers_url":"https://api.github.com/users/ted-jenks/followers","following_url":"https://api.github.com/users/ted-jenks/following{/other_user}","gists_url":"https://api.github.com/users/ted-jenks/gists{/gist_id}","starred_url":"https://api.github.com/users/ted-jenks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ted-jenks/subscriptions","organizations_url":"https://api.github.com/users/ted-jenks/orgs","repos_url":"https://api.github.com/users/ted-jenks/repos","events_url":"https://api.github.com/users/ted-jenks/events{/privacy}","received_events_url":"https://api.github.com/users/ted-jenks/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":576309126,"node_id":"R_kgDOIlnHhg","name":"spark","full_name":"ted-jenks/spark","private":false,"owner":{"login":"ted-jenks","id":77486246,"node_id":"MDQ6VXNlcjc3NDg2MjQ2","avatar_url":"https://avatars.githubusercontent.com/u/77486246?v=4","gravatar_id":"","url":"https://api.github.com/users/ted-jenks","html_url":"https://github.com/ted-jenks","followers_url":"https://api.github.com/users/ted-jenks/followers","following_url":"https://api.github.com/users/ted-jenks/following{/other_user}","gists_url":"https://api.github.com/users/ted-jenks/gists{/gist_id}","starred_url":"https://api.github.com/users/ted-jenks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ted-jenks/subscriptions","organizations_url":"https://api.github.com/users/ted-jenks/orgs","repos_url":"https://api.github.com/users/ted-jenks/repos","events_url":"https://api.github.com/users/ted-jenks/events{/privacy}","received_events_url":"https://api.github.com/users/ted-jenks/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ted-jenks/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/ted-jenks/spark","forks_url":"https://api.github.com/repos/ted-jenks/spark/forks","keys_url":"https://api.github.com/repos/ted-jenks/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ted-jenks/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ted-jenks/spark/teams","hooks_url":"https://api.github.com/repos/ted-jenks/spark/hooks","issue_events_url":"https://api.github.com/repos/ted-jenks/spark/issues/events{/number}","events_url":"https://api.github.com/repos/ted-jenks/spark/events","assignees_url":"https://api.github.com/repos/ted-jenks/spark/assignees{/user}","branches_url":"https://api.github.com/repos/ted-jenks/spark/branches{/branch}","tags_url":"https://api.github.com/repos/ted-jenks/spark/tags","blobs_url":"https://api.github.com/repos/ted-jenks/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ted-jenks/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ted-jenks/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/ted-jenks/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ted-jenks/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/ted-jenks/spark/languages","stargazers_url":"https://api.github.com/repos/ted-jenks/spark/stargazers","contributors_url":"https://api.github.com/repos/ted-jenks/spark/contributors","subscribers_url":"https://api.github.com/repos/ted-jenks/spark/subscribers","subscription_url":"https://api.github.com/repos/ted-jenks/spark/subscription","commits_url":"https://api.github.com/repos/ted-jenks/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/ted-jenks/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/ted-jenks/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/ted-jenks/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/ted-jenks/spark/contents/{+path}","compare_url":"https://api.github.com/repos/ted-jenks/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ted-jenks/spark/merges","archive_url":"https://api.github.com/repos/ted-jenks/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ted-jenks/spark/downloads","issues_url":"https://api.github.com/repos/ted-jenks/spark/issues{/number}","pulls_url":"https://api.github.com/repos/ted-jenks/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/ted-jenks/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/ted-jenks/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ted-jenks/spark/labels{/name}","releases_url":"https://api.github.com/repos/ted-jenks/spark/releases{/id}","deployments_url":"https://api.github.com/repos/ted-jenks/spark/deployments","created_at":"2022-12-09T14:17:53Z","updated_at":"2022-12-09T08:58:57Z","pushed_at":"2024-03-12T13:48:17Z","git_url":"git://github.com/ted-jenks/spark.git","ssh_url":"git@github.com:ted-jenks/spark.git","clone_url":"https://github.com/ted-jenks/spark.git","svn_url":"https://github.com/ted-jenks/spark","homepage":"https://spark.apache.org/","size":410714,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"fe2174d8caaf6f9474319a8d729a2f537038b4c1","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45408"},"html":{"href":"https://github.com/apache/spark/pull/45408"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45408"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45408/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45408/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45408/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/5435698a526f28d8615b289f6734742ca2960579"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45407","id":1759325901,"node_id":"PR_kwDOAQXtWs5o3S7N","html_url":"https://github.com/apache/spark/pull/45407","diff_url":"https://github.com/apache/spark/pull/45407.diff","patch_url":"https://github.com/apache/spark/pull/45407.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45407","number":45407,"state":"closed","locked":false,"title":"[SPARK-47254][SQL] Assign names to the error classes _LEGACY_ERROR_TEMP_325[1-9]","user":{"login":"stefanbuk-db","id":161319309,"node_id":"U_kgDOCZ2JjQ","avatar_url":"https://avatars.githubusercontent.com/u/161319309?v=4","gravatar_id":"","url":"https://api.github.com/users/stefanbuk-db","html_url":"https://github.com/stefanbuk-db","followers_url":"https://api.github.com/users/stefanbuk-db/followers","following_url":"https://api.github.com/users/stefanbuk-db/following{/other_user}","gists_url":"https://api.github.com/users/stefanbuk-db/gists{/gist_id}","starred_url":"https://api.github.com/users/stefanbuk-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefanbuk-db/subscriptions","organizations_url":"https://api.github.com/users/stefanbuk-db/orgs","repos_url":"https://api.github.com/users/stefanbuk-db/repos","events_url":"https://api.github.com/users/stefanbuk-db/events{/privacy}","received_events_url":"https://api.github.com/users/stefanbuk-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nIn the PR, I propose to assign the proper names to the legacy error classes _LEGACY_ERROR_TEMP_325[1-9], and modify tests in testing suites to reflect these changes and use checkError() function. Also this PR improves the error messages.\r\n\r\n\r\n### Why are the changes needed?\r\nProper name improves user experience w/ Spark SQL.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, the PR changes an user-facing error message.\r\n\r\n\r\n### How was this patch tested?\r\nBy running modified test suits: \r\n`build/sbt \"test:testOnly *DateTimeFormatterHelperSuite\"`\r\n`build/sbt \"test:testOnly *IntervalUtilsSuite\"`\r\n`build/sbt \"test:testOnly *DataTypeSuite\"`\r\n`build/sbt \"test:testOnly *StructTypeSuite\"`\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo\r\n","created_at":"2024-03-06T16:40:27Z","updated_at":"2024-03-12T09:51:06Z","closed_at":"2024-03-12T09:50:10Z","merged_at":null,"merge_commit_sha":"4431e24c80d6d0d9364b04e96be41b0ee070ec0d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""},{"id":1984361638,"node_id":"MDU6TGFiZWwxOTg0MzYxNjM4","url":"https://api.github.com/repos/apache/spark/labels/R","name":"R","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45407/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45407/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45407/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/0d6700d9b0707cf56373eb04c78f048df2104187","head":{"label":"stefanbuk-db:parsing_fields_legacy_errors","ref":"parsing_fields_legacy_errors","sha":"0d6700d9b0707cf56373eb04c78f048df2104187","user":{"login":"stefanbuk-db","id":161319309,"node_id":"U_kgDOCZ2JjQ","avatar_url":"https://avatars.githubusercontent.com/u/161319309?v=4","gravatar_id":"","url":"https://api.github.com/users/stefanbuk-db","html_url":"https://github.com/stefanbuk-db","followers_url":"https://api.github.com/users/stefanbuk-db/followers","following_url":"https://api.github.com/users/stefanbuk-db/following{/other_user}","gists_url":"https://api.github.com/users/stefanbuk-db/gists{/gist_id}","starred_url":"https://api.github.com/users/stefanbuk-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefanbuk-db/subscriptions","organizations_url":"https://api.github.com/users/stefanbuk-db/orgs","repos_url":"https://api.github.com/users/stefanbuk-db/repos","events_url":"https://api.github.com/users/stefanbuk-db/events{/privacy}","received_events_url":"https://api.github.com/users/stefanbuk-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":765608789,"node_id":"R_kgDOLaJDVQ","name":"spark","full_name":"stefanbuk-db/spark","private":false,"owner":{"login":"stefanbuk-db","id":161319309,"node_id":"U_kgDOCZ2JjQ","avatar_url":"https://avatars.githubusercontent.com/u/161319309?v=4","gravatar_id":"","url":"https://api.github.com/users/stefanbuk-db","html_url":"https://github.com/stefanbuk-db","followers_url":"https://api.github.com/users/stefanbuk-db/followers","following_url":"https://api.github.com/users/stefanbuk-db/following{/other_user}","gists_url":"https://api.github.com/users/stefanbuk-db/gists{/gist_id}","starred_url":"https://api.github.com/users/stefanbuk-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefanbuk-db/subscriptions","organizations_url":"https://api.github.com/users/stefanbuk-db/orgs","repos_url":"https://api.github.com/users/stefanbuk-db/repos","events_url":"https://api.github.com/users/stefanbuk-db/events{/privacy}","received_events_url":"https://api.github.com/users/stefanbuk-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/stefanbuk-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/stefanbuk-db/spark","forks_url":"https://api.github.com/repos/stefanbuk-db/spark/forks","keys_url":"https://api.github.com/repos/stefanbuk-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/stefanbuk-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/stefanbuk-db/spark/teams","hooks_url":"https://api.github.com/repos/stefanbuk-db/spark/hooks","issue_events_url":"https://api.github.com/repos/stefanbuk-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/stefanbuk-db/spark/events","assignees_url":"https://api.github.com/repos/stefanbuk-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/stefanbuk-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/stefanbuk-db/spark/tags","blobs_url":"https://api.github.com/repos/stefanbuk-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/stefanbuk-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/stefanbuk-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/stefanbuk-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/stefanbuk-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/stefanbuk-db/spark/languages","stargazers_url":"https://api.github.com/repos/stefanbuk-db/spark/stargazers","contributors_url":"https://api.github.com/repos/stefanbuk-db/spark/contributors","subscribers_url":"https://api.github.com/repos/stefanbuk-db/spark/subscribers","subscription_url":"https://api.github.com/repos/stefanbuk-db/spark/subscription","commits_url":"https://api.github.com/repos/stefanbuk-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/stefanbuk-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/stefanbuk-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/stefanbuk-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/stefanbuk-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/stefanbuk-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/stefanbuk-db/spark/merges","archive_url":"https://api.github.com/repos/stefanbuk-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/stefanbuk-db/spark/downloads","issues_url":"https://api.github.com/repos/stefanbuk-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/stefanbuk-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/stefanbuk-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/stefanbuk-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/stefanbuk-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/stefanbuk-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/stefanbuk-db/spark/deployments","created_at":"2024-03-01T09:05:31Z","updated_at":"2024-05-31T12:14:00Z","pushed_at":"2024-05-31T15:22:53Z","git_url":"git://github.com/stefanbuk-db/spark.git","ssh_url":"git@github.com:stefanbuk-db/spark.git","clone_url":"https://github.com/stefanbuk-db/spark.git","svn_url":"https://github.com/stefanbuk-db/spark","homepage":"https://spark.apache.org/","size":456094,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"fe2174d8caaf6f9474319a8d729a2f537038b4c1","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45407"},"html":{"href":"https://github.com/apache/spark/pull/45407"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45407"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45407/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45407/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45407/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/0d6700d9b0707cf56373eb04c78f048df2104187"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45406","id":1758885514,"node_id":"PR_kwDOAQXtWs5o1naK","html_url":"https://github.com/apache/spark/pull/45406","diff_url":"https://github.com/apache/spark/pull/45406.diff","patch_url":"https://github.com/apache/spark/pull/45406.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45406","number":45406,"state":"closed","locked":false,"title":"[SPARK-47305][SQL] Fix PruneFilters to tag the isStreaming flag of LocalRelation correctly when the plan has both batch and streaming","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR proposes to fix PruneFilters to tag the isStreaming flag of LocalRelation correctly when the plan has both batch and streaming.\r\n\r\n### Why are the changes needed?\r\n\r\nWhen filter is evaluated to be always false, PruneFilters replaces the filter with empty LocalRelation, which effectively prunes filter. The logic cares about migration of the isStreaming flag, but incorrectly migrated in some case, via picking up the value of isStreaming flag from root node rather than filter (or child).\r\n\r\nisStreaming flag is true if the value of isStreaming flag from any of children is true. Flipping the coin, some children might have isStreaming flag as \"false\". If the filter being pruned is a descendant to such children (in other word, ancestor of streaming node), LocalRelation is incorrectly tagged as streaming where it should be batch.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nNew UT verifying the fix. The new UT fails without this PR and passes with this PR.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.","created_at":"2024-03-06T13:05:51Z","updated_at":"2024-03-07T06:11:22Z","closed_at":"2024-03-07T06:11:22Z","merged_at":null,"merge_commit_sha":"b1088ace31e5c4b8a2685dacdf9b1bbe0e51cb6b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45406/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45406/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45406/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/5f1676b11d9a0145893bcb65eff699d228e6282e","head":{"label":"HeartSaVioR:SPARK-47305","ref":"SPARK-47305","sha":"5f1676b11d9a0145893bcb65eff699d228e6282e","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":27994296,"node_id":"MDEwOlJlcG9zaXRvcnkyNzk5NDI5Ng==","name":"spark","full_name":"HeartSaVioR/spark","private":false,"owner":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HeartSaVioR/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HeartSaVioR/spark","forks_url":"https://api.github.com/repos/HeartSaVioR/spark/forks","keys_url":"https://api.github.com/repos/HeartSaVioR/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HeartSaVioR/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HeartSaVioR/spark/teams","hooks_url":"https://api.github.com/repos/HeartSaVioR/spark/hooks","issue_events_url":"https://api.github.com/repos/HeartSaVioR/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HeartSaVioR/spark/events","assignees_url":"https://api.github.com/repos/HeartSaVioR/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HeartSaVioR/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HeartSaVioR/spark/tags","blobs_url":"https://api.github.com/repos/HeartSaVioR/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HeartSaVioR/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HeartSaVioR/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HeartSaVioR/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HeartSaVioR/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HeartSaVioR/spark/languages","stargazers_url":"https://api.github.com/repos/HeartSaVioR/spark/stargazers","contributors_url":"https://api.github.com/repos/HeartSaVioR/spark/contributors","subscribers_url":"https://api.github.com/repos/HeartSaVioR/spark/subscribers","subscription_url":"https://api.github.com/repos/HeartSaVioR/spark/subscription","commits_url":"https://api.github.com/repos/HeartSaVioR/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HeartSaVioR/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HeartSaVioR/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HeartSaVioR/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HeartSaVioR/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HeartSaVioR/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HeartSaVioR/spark/merges","archive_url":"https://api.github.com/repos/HeartSaVioR/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HeartSaVioR/spark/downloads","issues_url":"https://api.github.com/repos/HeartSaVioR/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HeartSaVioR/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HeartSaVioR/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HeartSaVioR/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HeartSaVioR/spark/labels{/name}","releases_url":"https://api.github.com/repos/HeartSaVioR/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HeartSaVioR/spark/deployments","created_at":"2014-12-14T12:56:04Z","updated_at":"2024-10-21T04:36:36Z","pushed_at":"2025-01-08T06:13:27Z","git_url":"git://github.com/HeartSaVioR/spark.git","ssh_url":"git@github.com:HeartSaVioR/spark.git","clone_url":"https://github.com/HeartSaVioR/spark.git","svn_url":"https://github.com/HeartSaVioR/spark","homepage":null,"size":456164,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":1,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"5089140e2e6a43ffef584b42aed5cd9bc11268b6","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45406"},"html":{"href":"https://github.com/apache/spark/pull/45406"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45406"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45406/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45406/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45406/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/5f1676b11d9a0145893bcb65eff699d228e6282e"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45405","id":1758734301,"node_id":"PR_kwDOAQXtWs5o1Cfd","html_url":"https://github.com/apache/spark/pull/45405","diff_url":"https://github.com/apache/spark/pull/45405.diff","patch_url":"https://github.com/apache/spark/pull/45405.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45405","number":45405,"state":"closed","locked":false,"title":"[SPARK-47302][SQL] Collate keyword as identifier","user":{"login":"dbatomic","id":150942779,"node_id":"U_kgDOCP80Ow","avatar_url":"https://avatars.githubusercontent.com/u/150942779?v=4","gravatar_id":"","url":"https://api.github.com/users/dbatomic","html_url":"https://github.com/dbatomic","followers_url":"https://api.github.com/users/dbatomic/followers","following_url":"https://api.github.com/users/dbatomic/following{/other_user}","gists_url":"https://api.github.com/users/dbatomic/gists{/gist_id}","starred_url":"https://api.github.com/users/dbatomic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbatomic/subscriptions","organizations_url":"https://api.github.com/users/dbatomic/orgs","repos_url":"https://api.github.com/users/dbatomic/repos","events_url":"https://api.github.com/users/dbatomic/events{/privacy}","received_events_url":"https://api.github.com/users/dbatomic/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nWith this change we move away from using collation names as string literals and start treating them as identifiers, since that is the part of sql standard.\r\n\r\nCollation names are marked as multi part identifiers, since, in future, we will want to introduce user defined collations which can be part of nested namespaces in catalog.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nAligning with sql standard on collation syntax.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes. Collations are still not a released feature.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nExisting tests are used.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\n","created_at":"2024-03-06T11:38:39Z","updated_at":"2024-03-08T15:00:03Z","closed_at":"2024-03-08T10:33:30Z","merged_at":null,"merge_commit_sha":"ab4523a2215ebc9eaee6ff335fe0e8bcf93e0156","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45405/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45405/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45405/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/794895e5efedb9bb18355762c3af2ea51e76e792","head":{"label":"dbatomic:collate_key_word_as_identifier","ref":"collate_key_word_as_identifier","sha":"794895e5efedb9bb18355762c3af2ea51e76e792","user":{"login":"dbatomic","id":150942779,"node_id":"U_kgDOCP80Ow","avatar_url":"https://avatars.githubusercontent.com/u/150942779?v=4","gravatar_id":"","url":"https://api.github.com/users/dbatomic","html_url":"https://github.com/dbatomic","followers_url":"https://api.github.com/users/dbatomic/followers","following_url":"https://api.github.com/users/dbatomic/following{/other_user}","gists_url":"https://api.github.com/users/dbatomic/gists{/gist_id}","starred_url":"https://api.github.com/users/dbatomic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbatomic/subscriptions","organizations_url":"https://api.github.com/users/dbatomic/orgs","repos_url":"https://api.github.com/users/dbatomic/repos","events_url":"https://api.github.com/users/dbatomic/events{/privacy}","received_events_url":"https://api.github.com/users/dbatomic/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":722092520,"node_id":"R_kgDOKwpB6A","name":"spark","full_name":"dbatomic/spark","private":false,"owner":{"login":"dbatomic","id":150942779,"node_id":"U_kgDOCP80Ow","avatar_url":"https://avatars.githubusercontent.com/u/150942779?v=4","gravatar_id":"","url":"https://api.github.com/users/dbatomic","html_url":"https://github.com/dbatomic","followers_url":"https://api.github.com/users/dbatomic/followers","following_url":"https://api.github.com/users/dbatomic/following{/other_user}","gists_url":"https://api.github.com/users/dbatomic/gists{/gist_id}","starred_url":"https://api.github.com/users/dbatomic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbatomic/subscriptions","organizations_url":"https://api.github.com/users/dbatomic/orgs","repos_url":"https://api.github.com/users/dbatomic/repos","events_url":"https://api.github.com/users/dbatomic/events{/privacy}","received_events_url":"https://api.github.com/users/dbatomic/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dbatomic/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/dbatomic/spark","forks_url":"https://api.github.com/repos/dbatomic/spark/forks","keys_url":"https://api.github.com/repos/dbatomic/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dbatomic/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dbatomic/spark/teams","hooks_url":"https://api.github.com/repos/dbatomic/spark/hooks","issue_events_url":"https://api.github.com/repos/dbatomic/spark/issues/events{/number}","events_url":"https://api.github.com/repos/dbatomic/spark/events","assignees_url":"https://api.github.com/repos/dbatomic/spark/assignees{/user}","branches_url":"https://api.github.com/repos/dbatomic/spark/branches{/branch}","tags_url":"https://api.github.com/repos/dbatomic/spark/tags","blobs_url":"https://api.github.com/repos/dbatomic/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dbatomic/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dbatomic/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/dbatomic/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dbatomic/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/dbatomic/spark/languages","stargazers_url":"https://api.github.com/repos/dbatomic/spark/stargazers","contributors_url":"https://api.github.com/repos/dbatomic/spark/contributors","subscribers_url":"https://api.github.com/repos/dbatomic/spark/subscribers","subscription_url":"https://api.github.com/repos/dbatomic/spark/subscription","commits_url":"https://api.github.com/repos/dbatomic/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/dbatomic/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/dbatomic/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/dbatomic/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/dbatomic/spark/contents/{+path}","compare_url":"https://api.github.com/repos/dbatomic/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dbatomic/spark/merges","archive_url":"https://api.github.com/repos/dbatomic/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dbatomic/spark/downloads","issues_url":"https://api.github.com/repos/dbatomic/spark/issues{/number}","pulls_url":"https://api.github.com/repos/dbatomic/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/dbatomic/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/dbatomic/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dbatomic/spark/labels{/name}","releases_url":"https://api.github.com/repos/dbatomic/spark/releases{/id}","deployments_url":"https://api.github.com/repos/dbatomic/spark/deployments","created_at":"2023-11-22T12:21:34Z","updated_at":"2024-10-07T11:24:03Z","pushed_at":"2024-10-07T11:21:46Z","git_url":"git://github.com/dbatomic/spark.git","ssh_url":"git@github.com:dbatomic/spark.git","clone_url":"https://github.com/dbatomic/spark.git","svn_url":"https://github.com/dbatomic/spark","homepage":"https://spark.apache.org/","size":410921,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":3,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"0f9164201ff0713bd09d758f89de619820f8c0e5","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45405"},"html":{"href":"https://github.com/apache/spark/pull/45405"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45405"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45405/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45405/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45405/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/794895e5efedb9bb18355762c3af2ea51e76e792"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45404","id":1758574936,"node_id":"PR_kwDOAQXtWs5o0blY","html_url":"https://github.com/apache/spark/pull/45404","diff_url":"https://github.com/apache/spark/pull/45404.diff","patch_url":"https://github.com/apache/spark/pull/45404.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45404","number":45404,"state":"closed","locked":false,"title":" [SPARK-47146][CORE][FOLLOWUP]Rename incorrect logger name","user":{"login":"JacobZheng0927","id":29793663,"node_id":"MDQ6VXNlcjI5NzkzNjYz","avatar_url":"https://avatars.githubusercontent.com/u/29793663?v=4","gravatar_id":"","url":"https://api.github.com/users/JacobZheng0927","html_url":"https://github.com/JacobZheng0927","followers_url":"https://api.github.com/users/JacobZheng0927/followers","following_url":"https://api.github.com/users/JacobZheng0927/following{/other_user}","gists_url":"https://api.github.com/users/JacobZheng0927/gists{/gist_id}","starred_url":"https://api.github.com/users/JacobZheng0927/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JacobZheng0927/subscriptions","organizations_url":"https://api.github.com/users/JacobZheng0927/orgs","repos_url":"https://api.github.com/users/JacobZheng0927/repos","events_url":"https://api.github.com/users/JacobZheng0927/events{/privacy}","received_events_url":"https://api.github.com/users/JacobZheng0927/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nRename incorrect logger name in `UnsafeSorterSpillReader`.\r\n\r\n### Why are the changes needed?\r\nThe logger name in UnsafeSorterSpillReader is incorrect.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n### How was this patch tested?\r\nNo\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo\r\n","created_at":"2024-03-06T10:11:58Z","updated_at":"2024-03-06T12:59:56Z","closed_at":"2024-03-06T12:59:56Z","merged_at":null,"merge_commit_sha":"19f99726cb6110be55aaf116be32c33511d4e0f8","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45404/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45404/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45404/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3b3da0a276ec28ac1bb24f57f94123fc699e0d8c","head":{"label":"JacobZheng0927:loggerNameFix","ref":"loggerNameFix","sha":"3b3da0a276ec28ac1bb24f57f94123fc699e0d8c","user":{"login":"JacobZheng0927","id":29793663,"node_id":"MDQ6VXNlcjI5NzkzNjYz","avatar_url":"https://avatars.githubusercontent.com/u/29793663?v=4","gravatar_id":"","url":"https://api.github.com/users/JacobZheng0927","html_url":"https://github.com/JacobZheng0927","followers_url":"https://api.github.com/users/JacobZheng0927/followers","following_url":"https://api.github.com/users/JacobZheng0927/following{/other_user}","gists_url":"https://api.github.com/users/JacobZheng0927/gists{/gist_id}","starred_url":"https://api.github.com/users/JacobZheng0927/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JacobZheng0927/subscriptions","organizations_url":"https://api.github.com/users/JacobZheng0927/orgs","repos_url":"https://api.github.com/users/JacobZheng0927/repos","events_url":"https://api.github.com/users/JacobZheng0927/events{/privacy}","received_events_url":"https://api.github.com/users/JacobZheng0927/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":684980567,"node_id":"R_kgDOKNP5Vw","name":"spark","full_name":"JacobZheng0927/spark","private":false,"owner":{"login":"JacobZheng0927","id":29793663,"node_id":"MDQ6VXNlcjI5NzkzNjYz","avatar_url":"https://avatars.githubusercontent.com/u/29793663?v=4","gravatar_id":"","url":"https://api.github.com/users/JacobZheng0927","html_url":"https://github.com/JacobZheng0927","followers_url":"https://api.github.com/users/JacobZheng0927/followers","following_url":"https://api.github.com/users/JacobZheng0927/following{/other_user}","gists_url":"https://api.github.com/users/JacobZheng0927/gists{/gist_id}","starred_url":"https://api.github.com/users/JacobZheng0927/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JacobZheng0927/subscriptions","organizations_url":"https://api.github.com/users/JacobZheng0927/orgs","repos_url":"https://api.github.com/users/JacobZheng0927/repos","events_url":"https://api.github.com/users/JacobZheng0927/events{/privacy}","received_events_url":"https://api.github.com/users/JacobZheng0927/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/JacobZheng0927/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/JacobZheng0927/spark","forks_url":"https://api.github.com/repos/JacobZheng0927/spark/forks","keys_url":"https://api.github.com/repos/JacobZheng0927/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/JacobZheng0927/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/JacobZheng0927/spark/teams","hooks_url":"https://api.github.com/repos/JacobZheng0927/spark/hooks","issue_events_url":"https://api.github.com/repos/JacobZheng0927/spark/issues/events{/number}","events_url":"https://api.github.com/repos/JacobZheng0927/spark/events","assignees_url":"https://api.github.com/repos/JacobZheng0927/spark/assignees{/user}","branches_url":"https://api.github.com/repos/JacobZheng0927/spark/branches{/branch}","tags_url":"https://api.github.com/repos/JacobZheng0927/spark/tags","blobs_url":"https://api.github.com/repos/JacobZheng0927/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/JacobZheng0927/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/JacobZheng0927/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/JacobZheng0927/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/JacobZheng0927/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/JacobZheng0927/spark/languages","stargazers_url":"https://api.github.com/repos/JacobZheng0927/spark/stargazers","contributors_url":"https://api.github.com/repos/JacobZheng0927/spark/contributors","subscribers_url":"https://api.github.com/repos/JacobZheng0927/spark/subscribers","subscription_url":"https://api.github.com/repos/JacobZheng0927/spark/subscription","commits_url":"https://api.github.com/repos/JacobZheng0927/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/JacobZheng0927/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/JacobZheng0927/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/JacobZheng0927/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/JacobZheng0927/spark/contents/{+path}","compare_url":"https://api.github.com/repos/JacobZheng0927/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/JacobZheng0927/spark/merges","archive_url":"https://api.github.com/repos/JacobZheng0927/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/JacobZheng0927/spark/downloads","issues_url":"https://api.github.com/repos/JacobZheng0927/spark/issues{/number}","pulls_url":"https://api.github.com/repos/JacobZheng0927/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/JacobZheng0927/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/JacobZheng0927/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/JacobZheng0927/spark/labels{/name}","releases_url":"https://api.github.com/repos/JacobZheng0927/spark/releases{/id}","deployments_url":"https://api.github.com/repos/JacobZheng0927/spark/deployments","created_at":"2023-08-30T08:55:02Z","updated_at":"2024-06-19T05:45:38Z","pushed_at":"2024-06-19T06:07:41Z","git_url":"git://github.com/JacobZheng0927/spark.git","ssh_url":"git@github.com:JacobZheng0927/spark.git","clone_url":"https://github.com/JacobZheng0927/spark.git","svn_url":"https://github.com/JacobZheng0927/spark","homepage":"https://spark.apache.org/","size":403908,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"58761623dcdd6438a76a13d9b52afeeba92147a0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45404"},"html":{"href":"https://github.com/apache/spark/pull/45404"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45404"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45404/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45404/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45404/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3b3da0a276ec28ac1bb24f57f94123fc699e0d8c"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45403","id":1758445433,"node_id":"PR_kwDOAQXtWs5oz795","html_url":"https://github.com/apache/spark/pull/45403","diff_url":"https://github.com/apache/spark/pull/45403.diff","patch_url":"https://github.com/apache/spark/pull/45403.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45403","number":45403,"state":"closed","locked":false,"title":"[SPARK-47301][SQL][TESTS] Fix flaky ParquetIOSuite","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to fix flaky `ParquetIOSuite`, as follows:\r\nhttps://github.com/panbingkun/spark/actions/runs/8167992505/job/22329299706\r\n<img width=\"998\" alt=\"image\" src=\"https://github.com/apache/spark/assets/15246973/7b447c98-877f-4804-a131-071d002fbac2\">\r\n\r\n\r\n### Why are the changes needed?\r\nOnly fix flaky UT `ParquetIOSuite`.\r\n\r\nThrough log analysis, the logic has reached the following point (possibly due to the timing of event processing):\r\nhttps://github.com/apache/spark/blob/58761623dcdd6438a76a13d9b52afeeba92147a0/core/src/main/scala/org/apache/spark/scheduler/OutputCommitCoordinator.scala#L161-L164\r\n\r\nhttps://github.com/apache/spark/blob/58761623dcdd6438a76a13d9b52afeeba92147a0/core/src/main/scala/org/apache/spark/scheduler/DAGScheduler.scala#L2841\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\n- Manually test.\r\n- Pass GA.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-03-06T09:02:28Z","updated_at":"2024-05-14T11:17:43Z","closed_at":"2024-03-07T09:21:33Z","merged_at":null,"merge_commit_sha":"6c01b07f546b1bc7c33f61879877fcf8d28fa9f8","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45403/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45403/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45403/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/f461324e67ed54026613fdc5af913b914bb2f3de","head":{"label":"panbingkun:SPARK-47301","ref":"SPARK-47301","sha":"f461324e67ed54026613fdc5af913b914bb2f3de","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"58761623dcdd6438a76a13d9b52afeeba92147a0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45403"},"html":{"href":"https://github.com/apache/spark/pull/45403"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45403"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45403/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45403/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45403/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/f461324e67ed54026613fdc5af913b914bb2f3de"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45402","id":1758440691,"node_id":"PR_kwDOAQXtWs5oz6zz","html_url":"https://github.com/apache/spark/pull/45402","diff_url":"https://github.com/apache/spark/pull/45402.diff","patch_url":"https://github.com/apache/spark/pull/45402.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45402","number":45402,"state":"closed","locked":false,"title":"Spark 47301","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\n","created_at":"2024-03-06T08:59:32Z","updated_at":"2024-03-06T09:00:46Z","closed_at":"2024-03-06T08:59:42Z","merged_at":null,"merge_commit_sha":"d873301d94f869518c2d6c14b42c4d7d3525d827","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":true,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45402/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45402/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45402/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/a9b5ced625d10b4ce61c97387668b9d5ed3c2ef6","head":{"label":"panbingkun:SPARK-47301","ref":"SPARK-47301","sha":"a9b5ced625d10b4ce61c97387668b9d5ed3c2ef6","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"58761623dcdd6438a76a13d9b52afeeba92147a0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45402"},"html":{"href":"https://github.com/apache/spark/pull/45402"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45402"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45402/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45402/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45402/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/a9b5ced625d10b4ce61c97387668b9d5ed3c2ef6"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45401","id":1758371059,"node_id":"PR_kwDOAQXtWs5ozpzz","html_url":"https://github.com/apache/spark/pull/45401","diff_url":"https://github.com/apache/spark/pull/45401.diff","patch_url":"https://github.com/apache/spark/pull/45401.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45401","number":45401,"state":"closed","locked":false,"title":"[SPARK-47300][SQL] `quoteIfNeeded` should quote identifier starts with digits","user":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n`quoteIfNeeded` is used to generate pretty strings of identifiers in error message, EXPLAIN result, etc. It's mostly for humans to read but sometimes people may copy-paste the identifier string and put it in a SQL. There is a small issue in `quoteIfNeeded`: it does not quote number literals like `0d`, and people will get parse exception if they directly put the identifier string in SQL.\r\n\r\nThis PR fixes the issue by always quoting the identifier if it does not start with alphabet or underscore. Note, there might be program trying to parse the identifier string, but this change is safe as these programs should already handle quoting and it's ok to quote more.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nmake identifier string parsable is more user-friendly.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nyes, the identifier string in the error message and EXPLAIN result will be properly quoted.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nnew test suite\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nno","created_at":"2024-03-06T08:16:33Z","updated_at":"2024-03-07T11:06:33Z","closed_at":"2024-03-07T11:05:51Z","merged_at":null,"merge_commit_sha":"8cf00f79daafc4e2c1c99fc66dce4aa1332c0d87","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45401/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45401/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45401/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/afd405bcb038f8a6843ded403019d2abcb450859","head":{"label":"cloud-fan:quote","ref":"quote","sha":"afd405bcb038f8a6843ded403019d2abcb450859","user":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":19689699,"node_id":"MDEwOlJlcG9zaXRvcnkxOTY4OTY5OQ==","name":"spark","full_name":"cloud-fan/spark","private":false,"owner":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/cloud-fan/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/cloud-fan/spark","forks_url":"https://api.github.com/repos/cloud-fan/spark/forks","keys_url":"https://api.github.com/repos/cloud-fan/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cloud-fan/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cloud-fan/spark/teams","hooks_url":"https://api.github.com/repos/cloud-fan/spark/hooks","issue_events_url":"https://api.github.com/repos/cloud-fan/spark/issues/events{/number}","events_url":"https://api.github.com/repos/cloud-fan/spark/events","assignees_url":"https://api.github.com/repos/cloud-fan/spark/assignees{/user}","branches_url":"https://api.github.com/repos/cloud-fan/spark/branches{/branch}","tags_url":"https://api.github.com/repos/cloud-fan/spark/tags","blobs_url":"https://api.github.com/repos/cloud-fan/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cloud-fan/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cloud-fan/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/cloud-fan/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cloud-fan/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/cloud-fan/spark/languages","stargazers_url":"https://api.github.com/repos/cloud-fan/spark/stargazers","contributors_url":"https://api.github.com/repos/cloud-fan/spark/contributors","subscribers_url":"https://api.github.com/repos/cloud-fan/spark/subscribers","subscription_url":"https://api.github.com/repos/cloud-fan/spark/subscription","commits_url":"https://api.github.com/repos/cloud-fan/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/cloud-fan/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/cloud-fan/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/cloud-fan/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/cloud-fan/spark/contents/{+path}","compare_url":"https://api.github.com/repos/cloud-fan/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cloud-fan/spark/merges","archive_url":"https://api.github.com/repos/cloud-fan/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cloud-fan/spark/downloads","issues_url":"https://api.github.com/repos/cloud-fan/spark/issues{/number}","pulls_url":"https://api.github.com/repos/cloud-fan/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/cloud-fan/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/cloud-fan/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cloud-fan/spark/labels{/name}","releases_url":"https://api.github.com/repos/cloud-fan/spark/releases{/id}","deployments_url":"https://api.github.com/repos/cloud-fan/spark/deployments","created_at":"2014-05-12T07:32:26Z","updated_at":"2022-06-21T07:59:41Z","pushed_at":"2025-02-07T13:15:09Z","git_url":"git://github.com/cloud-fan/spark.git","ssh_url":"git@github.com:cloud-fan/spark.git","clone_url":"https://github.com/cloud-fan/spark.git","svn_url":"https://github.com/cloud-fan/spark","homepage":null,"size":467110,"stargazers_count":3,"watchers_count":3,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":3,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"5089140e2e6a43ffef584b42aed5cd9bc11268b6","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45401"},"html":{"href":"https://github.com/apache/spark/pull/45401"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45401"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45401/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45401/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45401/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/afd405bcb038f8a6843ded403019d2abcb450859"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45400","id":1758325550,"node_id":"PR_kwDOAQXtWs5ozesu","html_url":"https://github.com/apache/spark/pull/45400","diff_url":"https://github.com/apache/spark/pull/45400.diff","patch_url":"https://github.com/apache/spark/pull/45400.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45400","number":45400,"state":"closed","locked":false,"title":"[SPARK-47299][PYTHON][DOCS] Use the same `versions.json` in the dropdown of different versions of PySpark documents","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to use the same `versions.json` in the dropdown of `different versions` of PySpark documents.\r\n\r\n\r\n### Why are the changes needed?\r\nAs discussed in the email group, using this approach can avoid `maintenance difficulties` and `inconsistencies` that may arise when `multi active release version lines` are released in the future.\r\n<img width=\"798\" alt=\"image\" src=\"https://github.com/apache/spark/assets/15246973/8a08a4fe-e1fb-4334-a3f9-c6dffb01cbd6\">\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, only for pyspark docs.\r\n\r\n\r\n### How was this patch tested?\r\n- Manually test.\r\n- Pass GA.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-03-06T07:42:26Z","updated_at":"2024-04-08T01:19:33Z","closed_at":"2024-04-08T01:19:33Z","merged_at":null,"merge_commit_sha":"3c32cac95283ca6d3594f18ea33aaabec251a5b4","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45400/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45400/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45400/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/e268799fa0c3e35047e02cec3f39ea5cf29caa0b","head":{"label":"panbingkun:SPARK-47299","ref":"SPARK-47299","sha":"e268799fa0c3e35047e02cec3f39ea5cf29caa0b","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"0c992b205946b17a052f1c31b09d976dee187b3e","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45400"},"html":{"href":"https://github.com/apache/spark/pull/45400"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45400"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45400/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45400/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45400/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/e268799fa0c3e35047e02cec3f39ea5cf29caa0b"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45399","id":1758302586,"node_id":"PR_kwDOAQXtWs5ozZF6","html_url":"https://github.com/apache/spark/pull/45399","diff_url":"https://github.com/apache/spark/pull/45399.diff","patch_url":"https://github.com/apache/spark/pull/45399.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45399","number":45399,"state":"closed","locked":false,"title":"[SPARK-47298][BUILD] Upgrade `mysql-connector-j` to `8.3.0` and `mariadb-java-client` to `2.7.12`","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to:\r\n- upgrade `mysql-connector-j` from `8.2.0` to `8.3.0`.\r\n- upgrade `mariadb-java-client` from `2.7.11` to `2.7.12`.\r\n\r\n\r\n### Why are the changes needed?\r\nRoutine upgrade.\r\n\r\n- com.mysql:mysql-connector-j, release notes:\r\nhttps://dev.mysql.com/doc/relnotes/connector-j/en/news-8-3-0.html\r\nBugs Fixed, eg:\r\n1.Setting a very large value for query timeout caused an IllegalArgumentException when a query was executed. It was due to an integer overflow, which is now avoided by changing the timeout value's data type from Integer to Long. (Bug #112884, Bug #36043166)\r\n2.Calling PreparedStatement.executeUpdate() on a query that was only a comment caused a SQLException to be thrown, with the complaint that executeUpdate() \"cannot issue statements that produce result sets.\" It was because the check on whether the query would produce results sets was faulty, and it has now been fixed. (Bug #109546, Bug #34958912)\r\n\r\n- org.mariadb.jdbc:mariadb-java-client, release notes:\r\nhttps://mariadb.com/kb/en/mariadb-connector-j-2-7-12-release-notes/\r\nBugs Fixed, eg:\r\n[CONJ-1145](https://jira.mariadb.org/browse/CONJ-1145) Wrong sequence number of sub header with compressing procotol active\r\n[CONJ-1151](https://jira.mariadb.org/browse/CONJ-1151) Wrong debug trace when using compression protocol\r\n[CONJ-1152](https://jira.mariadb.org/browse/CONJ-1152) Improve message when reaching socket timeout during connection initial commands\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\nPass GA.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-03-06T07:23:46Z","updated_at":"2024-03-07T11:15:06Z","closed_at":"2024-03-07T11:14:28Z","merged_at":null,"merge_commit_sha":"6df29546c5ea8e4638bd56cb460caa2261a08e75","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45399/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45399/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45399/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/8bd6eb4779617d6d2f4f410ce5850851639f8276","head":{"label":"panbingkun:SPARK-47298","ref":"SPARK-47298","sha":"8bd6eb4779617d6d2f4f410ce5850851639f8276","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"58761623dcdd6438a76a13d9b52afeeba92147a0","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45399"},"html":{"href":"https://github.com/apache/spark/pull/45399"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45399"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45399/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45399/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45399/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/8bd6eb4779617d6d2f4f410ce5850851639f8276"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45398","id":1758104535,"node_id":"PR_kwDOAQXtWs5oyovX","html_url":"https://github.com/apache/spark/pull/45398","diff_url":"https://github.com/apache/spark/pull/45398.diff","patch_url":"https://github.com/apache/spark/pull/45398.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45398","number":45398,"state":"closed","locked":false,"title":"[SPARK-47294][SQL] OptimizeSkewInRebalanceRepartitions should support ProjectExec(_,ShuffleQueryStageExec)","user":{"login":"AngersZhuuuu","id":46485123,"node_id":"MDQ6VXNlcjQ2NDg1MTIz","avatar_url":"https://avatars.githubusercontent.com/u/46485123?v=4","gravatar_id":"","url":"https://api.github.com/users/AngersZhuuuu","html_url":"https://github.com/AngersZhuuuu","followers_url":"https://api.github.com/users/AngersZhuuuu/followers","following_url":"https://api.github.com/users/AngersZhuuuu/following{/other_user}","gists_url":"https://api.github.com/users/AngersZhuuuu/gists{/gist_id}","starred_url":"https://api.github.com/users/AngersZhuuuu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AngersZhuuuu/subscriptions","organizations_url":"https://api.github.com/users/AngersZhuuuu/orgs","repos_url":"https://api.github.com/users/AngersZhuuuu/repos","events_url":"https://api.github.com/users/AngersZhuuuu/events{/privacy}","received_events_url":"https://api.github.com/users/AngersZhuuuu/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nCurrent OptimizeSkewInRebalanceRepartitions only support match case ShuffleQueryStageExec\r\n```\r\n    plan transformUp {\r\n      case stage: ShuffleQueryStageExec if isSupported(stage.shuffle) =>\r\n        tryOptimizeSkewedPartitions(stage)\r\n    }\r\n```\r\n\r\nThis only can work when we write a query with rebalance hint\r\n```\r\nSELECT /*+ REBALANCE(col) */ * FROM table\r\n```\r\n\r\nThis won't work when we are writing to a table \r\n```\r\nINSERT INTO t1\r\nSELECT  /*+ REBALANCE(key1) */\r\n*\r\nFROM skewData1\r\n```\r\nThis pr support this.\r\n\r\n### Why are the changes needed?\r\nSupport more case since this can avoid skew when we are writing to a table with `REBALANCE` hint\r\n\r\n\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nMT\r\n\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nBefore \r\n![image](https://github.com/apache/spark/assets/46485123/cde10d04-8cc0-427a-bc83-c4c51929e0bc)\r\n\r\nAfter\r\n![image](https://github.com/apache/spark/assets/46485123/8d1c8a18-77f2-48a2-b388-b9939dd644e0)\r\n\r\n","created_at":"2024-03-06T04:11:39Z","updated_at":"2024-03-06T06:03:40Z","closed_at":"2024-03-06T06:03:40Z","merged_at":null,"merge_commit_sha":"53455b026b6b8367d2f82f0d90444cb667f1f36d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45398/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45398/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45398/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/6aa6411bb263ad48908d7397098660ef3c4b6354","head":{"label":"AngersZhuuuu:SPARK-47294","ref":"SPARK-47294","sha":"6aa6411bb263ad48908d7397098660ef3c4b6354","user":{"login":"AngersZhuuuu","id":46485123,"node_id":"MDQ6VXNlcjQ2NDg1MTIz","avatar_url":"https://avatars.githubusercontent.com/u/46485123?v=4","gravatar_id":"","url":"https://api.github.com/users/AngersZhuuuu","html_url":"https://github.com/AngersZhuuuu","followers_url":"https://api.github.com/users/AngersZhuuuu/followers","following_url":"https://api.github.com/users/AngersZhuuuu/following{/other_user}","gists_url":"https://api.github.com/users/AngersZhuuuu/gists{/gist_id}","starred_url":"https://api.github.com/users/AngersZhuuuu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AngersZhuuuu/subscriptions","organizations_url":"https://api.github.com/users/AngersZhuuuu/orgs","repos_url":"https://api.github.com/users/AngersZhuuuu/repos","events_url":"https://api.github.com/users/AngersZhuuuu/events{/privacy}","received_events_url":"https://api.github.com/users/AngersZhuuuu/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":176224753,"node_id":"MDEwOlJlcG9zaXRvcnkxNzYyMjQ3NTM=","name":"spark","full_name":"AngersZhuuuu/spark","private":false,"owner":{"login":"AngersZhuuuu","id":46485123,"node_id":"MDQ6VXNlcjQ2NDg1MTIz","avatar_url":"https://avatars.githubusercontent.com/u/46485123?v=4","gravatar_id":"","url":"https://api.github.com/users/AngersZhuuuu","html_url":"https://github.com/AngersZhuuuu","followers_url":"https://api.github.com/users/AngersZhuuuu/followers","following_url":"https://api.github.com/users/AngersZhuuuu/following{/other_user}","gists_url":"https://api.github.com/users/AngersZhuuuu/gists{/gist_id}","starred_url":"https://api.github.com/users/AngersZhuuuu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AngersZhuuuu/subscriptions","organizations_url":"https://api.github.com/users/AngersZhuuuu/orgs","repos_url":"https://api.github.com/users/AngersZhuuuu/repos","events_url":"https://api.github.com/users/AngersZhuuuu/events{/privacy}","received_events_url":"https://api.github.com/users/AngersZhuuuu/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/AngersZhuuuu/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/AngersZhuuuu/spark","forks_url":"https://api.github.com/repos/AngersZhuuuu/spark/forks","keys_url":"https://api.github.com/repos/AngersZhuuuu/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/AngersZhuuuu/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/AngersZhuuuu/spark/teams","hooks_url":"https://api.github.com/repos/AngersZhuuuu/spark/hooks","issue_events_url":"https://api.github.com/repos/AngersZhuuuu/spark/issues/events{/number}","events_url":"https://api.github.com/repos/AngersZhuuuu/spark/events","assignees_url":"https://api.github.com/repos/AngersZhuuuu/spark/assignees{/user}","branches_url":"https://api.github.com/repos/AngersZhuuuu/spark/branches{/branch}","tags_url":"https://api.github.com/repos/AngersZhuuuu/spark/tags","blobs_url":"https://api.github.com/repos/AngersZhuuuu/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/AngersZhuuuu/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/AngersZhuuuu/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/AngersZhuuuu/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/AngersZhuuuu/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/AngersZhuuuu/spark/languages","stargazers_url":"https://api.github.com/repos/AngersZhuuuu/spark/stargazers","contributors_url":"https://api.github.com/repos/AngersZhuuuu/spark/contributors","subscribers_url":"https://api.github.com/repos/AngersZhuuuu/spark/subscribers","subscription_url":"https://api.github.com/repos/AngersZhuuuu/spark/subscription","commits_url":"https://api.github.com/repos/AngersZhuuuu/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/AngersZhuuuu/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/AngersZhuuuu/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/AngersZhuuuu/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/AngersZhuuuu/spark/contents/{+path}","compare_url":"https://api.github.com/repos/AngersZhuuuu/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/AngersZhuuuu/spark/merges","archive_url":"https://api.github.com/repos/AngersZhuuuu/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/AngersZhuuuu/spark/downloads","issues_url":"https://api.github.com/repos/AngersZhuuuu/spark/issues{/number}","pulls_url":"https://api.github.com/repos/AngersZhuuuu/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/AngersZhuuuu/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/AngersZhuuuu/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/AngersZhuuuu/spark/labels{/name}","releases_url":"https://api.github.com/repos/AngersZhuuuu/spark/releases{/id}","deployments_url":"https://api.github.com/repos/AngersZhuuuu/spark/deployments","created_at":"2019-03-18T07:13:25Z","updated_at":"2024-12-31T06:48:27Z","pushed_at":"2024-12-31T06:45:23Z","git_url":"git://github.com/AngersZhuuuu/spark.git","ssh_url":"git@github.com:AngersZhuuuu/spark.git","clone_url":"https://github.com/AngersZhuuuu/spark.git","svn_url":"https://github.com/AngersZhuuuu/spark","homepage":"","size":446399,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d7cc708e1e0dbda93f07832ae5e18cbc075f6431","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45398"},"html":{"href":"https://github.com/apache/spark/pull/45398"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45398"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45398/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45398/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45398/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/6aa6411bb263ad48908d7397098660ef3c4b6354"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45397","id":1758094092,"node_id":"PR_kwDOAQXtWs5oymMM","html_url":"https://github.com/apache/spark/pull/45397","diff_url":"https://github.com/apache/spark/pull/45397.diff","patch_url":"https://github.com/apache/spark/pull/45397.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45397","number":45397,"state":"closed","locked":false,"title":"[SPARK-43124][SQL] Add ConvertCommandResultToLocalRelation rule","user":{"login":"wForget","id":17894939,"node_id":"MDQ6VXNlcjE3ODk0OTM5","avatar_url":"https://avatars.githubusercontent.com/u/17894939?v=4","gravatar_id":"","url":"https://api.github.com/users/wForget","html_url":"https://github.com/wForget","followers_url":"https://api.github.com/users/wForget/followers","following_url":"https://api.github.com/users/wForget/following{/other_user}","gists_url":"https://api.github.com/users/wForget/gists{/gist_id}","starred_url":"https://api.github.com/users/wForget/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wForget/subscriptions","organizations_url":"https://api.github.com/users/wForget/orgs","repos_url":"https://api.github.com/users/wForget/repos","events_url":"https://api.github.com/users/wForget/events{/privacy}","received_events_url":"https://api.github.com/users/wForget/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nAdd `ConvertCommandResultToLocalRelation` optimizer to convert CommandResult to LocalRelation.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\naddress comment: https://github.com/apache/spark/pull/45373#discussion_r1513713801\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nAdded new UT.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo","created_at":"2024-03-06T03:57:08Z","updated_at":"2024-03-07T09:49:15Z","closed_at":"2024-03-07T09:49:15Z","merged_at":null,"merge_commit_sha":"95672e8bd1e976f6366614ad8c8af7ff5d03af04","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45397/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45397/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45397/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/c7cca131d39680099538dbe73cc6ccab726009cd","head":{"label":"wForget:SPARK-47270-2","ref":"SPARK-47270-2","sha":"c7cca131d39680099538dbe73cc6ccab726009cd","user":{"login":"wForget","id":17894939,"node_id":"MDQ6VXNlcjE3ODk0OTM5","avatar_url":"https://avatars.githubusercontent.com/u/17894939?v=4","gravatar_id":"","url":"https://api.github.com/users/wForget","html_url":"https://github.com/wForget","followers_url":"https://api.github.com/users/wForget/followers","following_url":"https://api.github.com/users/wForget/following{/other_user}","gists_url":"https://api.github.com/users/wForget/gists{/gist_id}","starred_url":"https://api.github.com/users/wForget/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wForget/subscriptions","organizations_url":"https://api.github.com/users/wForget/orgs","repos_url":"https://api.github.com/users/wForget/repos","events_url":"https://api.github.com/users/wForget/events{/privacy}","received_events_url":"https://api.github.com/users/wForget/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":362712307,"node_id":"MDEwOlJlcG9zaXRvcnkzNjI3MTIzMDc=","name":"spark","full_name":"wForget/spark","private":false,"owner":{"login":"wForget","id":17894939,"node_id":"MDQ6VXNlcjE3ODk0OTM5","avatar_url":"https://avatars.githubusercontent.com/u/17894939?v=4","gravatar_id":"","url":"https://api.github.com/users/wForget","html_url":"https://github.com/wForget","followers_url":"https://api.github.com/users/wForget/followers","following_url":"https://api.github.com/users/wForget/following{/other_user}","gists_url":"https://api.github.com/users/wForget/gists{/gist_id}","starred_url":"https://api.github.com/users/wForget/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wForget/subscriptions","organizations_url":"https://api.github.com/users/wForget/orgs","repos_url":"https://api.github.com/users/wForget/repos","events_url":"https://api.github.com/users/wForget/events{/privacy}","received_events_url":"https://api.github.com/users/wForget/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/wForget/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/wForget/spark","forks_url":"https://api.github.com/repos/wForget/spark/forks","keys_url":"https://api.github.com/repos/wForget/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/wForget/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/wForget/spark/teams","hooks_url":"https://api.github.com/repos/wForget/spark/hooks","issue_events_url":"https://api.github.com/repos/wForget/spark/issues/events{/number}","events_url":"https://api.github.com/repos/wForget/spark/events","assignees_url":"https://api.github.com/repos/wForget/spark/assignees{/user}","branches_url":"https://api.github.com/repos/wForget/spark/branches{/branch}","tags_url":"https://api.github.com/repos/wForget/spark/tags","blobs_url":"https://api.github.com/repos/wForget/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/wForget/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/wForget/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/wForget/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/wForget/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/wForget/spark/languages","stargazers_url":"https://api.github.com/repos/wForget/spark/stargazers","contributors_url":"https://api.github.com/repos/wForget/spark/contributors","subscribers_url":"https://api.github.com/repos/wForget/spark/subscribers","subscription_url":"https://api.github.com/repos/wForget/spark/subscription","commits_url":"https://api.github.com/repos/wForget/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/wForget/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/wForget/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/wForget/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/wForget/spark/contents/{+path}","compare_url":"https://api.github.com/repos/wForget/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/wForget/spark/merges","archive_url":"https://api.github.com/repos/wForget/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/wForget/spark/downloads","issues_url":"https://api.github.com/repos/wForget/spark/issues{/number}","pulls_url":"https://api.github.com/repos/wForget/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/wForget/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/wForget/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/wForget/spark/labels{/name}","releases_url":"https://api.github.com/repos/wForget/spark/releases{/id}","deployments_url":"https://api.github.com/repos/wForget/spark/deployments","created_at":"2021-04-29T06:25:04Z","updated_at":"2024-03-28T10:35:46Z","pushed_at":"2024-07-31T02:49:44Z","git_url":"git://github.com/wForget/spark.git","ssh_url":"git@github.com:wForget/spark.git","clone_url":"https://github.com/wForget/spark.git","svn_url":"https://github.com/wForget/spark","homepage":"https://spark.apache.org/","size":445315,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d7cc708e1e0dbda93f07832ae5e18cbc075f6431","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45397"},"html":{"href":"https://github.com/apache/spark/pull/45397"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45397"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45397/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45397/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45397/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/c7cca131d39680099538dbe73cc6ccab726009cd"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45396","id":1758092998,"node_id":"PR_kwDOAQXtWs5oyl7G","html_url":"https://github.com/apache/spark/pull/45396","diff_url":"https://github.com/apache/spark/pull/45396.diff","patch_url":"https://github.com/apache/spark/pull/45396.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45396","number":45396,"state":"closed","locked":false,"title":"[SPARK-47293][CORE] Build batchSchema with sparkSchema instead of append one by one","user":{"login":"zwangsheng","id":52876270,"node_id":"MDQ6VXNlcjUyODc2Mjcw","avatar_url":"https://avatars.githubusercontent.com/u/52876270?v=4","gravatar_id":"","url":"https://api.github.com/users/zwangsheng","html_url":"https://github.com/zwangsheng","followers_url":"https://api.github.com/users/zwangsheng/followers","following_url":"https://api.github.com/users/zwangsheng/following{/other_user}","gists_url":"https://api.github.com/users/zwangsheng/gists{/gist_id}","starred_url":"https://api.github.com/users/zwangsheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zwangsheng/subscriptions","organizations_url":"https://api.github.com/users/zwangsheng/orgs","repos_url":"https://api.github.com/users/zwangsheng/repos","events_url":"https://api.github.com/users/zwangsheng/events{/privacy}","received_events_url":"https://api.github.com/users/zwangsheng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nSimplify the building process of `batchSchema` by passing  `sparkSchema.fields` instead of call `add` function one by one. \r\n\r\nAdditional resource overhead is avoided\r\n\r\nhttps://github.com/apache/spark/blob/d7cc708e1e0dbda93f07832ae5e18cbc075f6431/sql/api/src/main/scala/org/apache/spark/sql/types/StructType.scala#L150-L152\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nAs the above said.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nExists unit test.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo","created_at":"2024-03-06T03:55:21Z","updated_at":"2024-03-06T08:28:44Z","closed_at":"2024-03-06T06:57:30Z","merged_at":null,"merge_commit_sha":"cf934fe2f8603090e48241582f43d485ca462daa","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45396/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45396/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45396/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/27b19f09d10fda2c11b6dd4efb258ce179e9e5b9","head":{"label":"zwangsheng:SPARK-47293","ref":"SPARK-47293","sha":"27b19f09d10fda2c11b6dd4efb258ce179e9e5b9","user":{"login":"zwangsheng","id":52876270,"node_id":"MDQ6VXNlcjUyODc2Mjcw","avatar_url":"https://avatars.githubusercontent.com/u/52876270?v=4","gravatar_id":"","url":"https://api.github.com/users/zwangsheng","html_url":"https://github.com/zwangsheng","followers_url":"https://api.github.com/users/zwangsheng/followers","following_url":"https://api.github.com/users/zwangsheng/following{/other_user}","gists_url":"https://api.github.com/users/zwangsheng/gists{/gist_id}","starred_url":"https://api.github.com/users/zwangsheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zwangsheng/subscriptions","organizations_url":"https://api.github.com/users/zwangsheng/orgs","repos_url":"https://api.github.com/users/zwangsheng/repos","events_url":"https://api.github.com/users/zwangsheng/events{/privacy}","received_events_url":"https://api.github.com/users/zwangsheng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":724580093,"node_id":"R_kgDOKzA2_Q","name":"spark","full_name":"zwangsheng/spark","private":false,"owner":{"login":"zwangsheng","id":52876270,"node_id":"MDQ6VXNlcjUyODc2Mjcw","avatar_url":"https://avatars.githubusercontent.com/u/52876270?v=4","gravatar_id":"","url":"https://api.github.com/users/zwangsheng","html_url":"https://github.com/zwangsheng","followers_url":"https://api.github.com/users/zwangsheng/followers","following_url":"https://api.github.com/users/zwangsheng/following{/other_user}","gists_url":"https://api.github.com/users/zwangsheng/gists{/gist_id}","starred_url":"https://api.github.com/users/zwangsheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zwangsheng/subscriptions","organizations_url":"https://api.github.com/users/zwangsheng/orgs","repos_url":"https://api.github.com/users/zwangsheng/repos","events_url":"https://api.github.com/users/zwangsheng/events{/privacy}","received_events_url":"https://api.github.com/users/zwangsheng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zwangsheng/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/zwangsheng/spark","forks_url":"https://api.github.com/repos/zwangsheng/spark/forks","keys_url":"https://api.github.com/repos/zwangsheng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zwangsheng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zwangsheng/spark/teams","hooks_url":"https://api.github.com/repos/zwangsheng/spark/hooks","issue_events_url":"https://api.github.com/repos/zwangsheng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zwangsheng/spark/events","assignees_url":"https://api.github.com/repos/zwangsheng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zwangsheng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zwangsheng/spark/tags","blobs_url":"https://api.github.com/repos/zwangsheng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zwangsheng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zwangsheng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zwangsheng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zwangsheng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zwangsheng/spark/languages","stargazers_url":"https://api.github.com/repos/zwangsheng/spark/stargazers","contributors_url":"https://api.github.com/repos/zwangsheng/spark/contributors","subscribers_url":"https://api.github.com/repos/zwangsheng/spark/subscribers","subscription_url":"https://api.github.com/repos/zwangsheng/spark/subscription","commits_url":"https://api.github.com/repos/zwangsheng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zwangsheng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zwangsheng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zwangsheng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zwangsheng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zwangsheng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zwangsheng/spark/merges","archive_url":"https://api.github.com/repos/zwangsheng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zwangsheng/spark/downloads","issues_url":"https://api.github.com/repos/zwangsheng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zwangsheng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zwangsheng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zwangsheng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zwangsheng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zwangsheng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zwangsheng/spark/deployments","created_at":"2023-11-28T11:22:20Z","updated_at":"2024-02-28T01:56:19Z","pushed_at":"2024-04-26T02:03:10Z","git_url":"git://github.com/zwangsheng/spark.git","ssh_url":"git@github.com:zwangsheng/spark.git","clone_url":"https://github.com/zwangsheng/spark.git","svn_url":"https://github.com/zwangsheng/spark","homepage":"https://spark.apache.org/","size":380344,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"d7cc708e1e0dbda93f07832ae5e18cbc075f6431","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45396"},"html":{"href":"https://github.com/apache/spark/pull/45396"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45396"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45396/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45396/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45396/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/27b19f09d10fda2c11b6dd4efb258ce179e9e5b9"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45395","id":1757929180,"node_id":"PR_kwDOAQXtWs5ox97c","html_url":"https://github.com/apache/spark/pull/45395","diff_url":"https://github.com/apache/spark/pull/45395.diff","patch_url":"https://github.com/apache/spark/pull/45395.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45395","number":45395,"state":"closed","locked":false,"title":"[SPARK-47277][3.5] PySpark util function assertDataFrameEqual should not support streaming DF","user":{"login":"WweiL","id":10248890,"node_id":"MDQ6VXNlcjEwMjQ4ODkw","avatar_url":"https://avatars.githubusercontent.com/u/10248890?v=4","gravatar_id":"","url":"https://api.github.com/users/WweiL","html_url":"https://github.com/WweiL","followers_url":"https://api.github.com/users/WweiL/followers","following_url":"https://api.github.com/users/WweiL/following{/other_user}","gists_url":"https://api.github.com/users/WweiL/gists{/gist_id}","starred_url":"https://api.github.com/users/WweiL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WweiL/subscriptions","organizations_url":"https://api.github.com/users/WweiL/orgs","repos_url":"https://api.github.com/users/WweiL/repos","events_url":"https://api.github.com/users/WweiL/events{/privacy}","received_events_url":"https://api.github.com/users/WweiL/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nBackport https://github.com/apache/spark/pull/45380 to branch-3.5\r\n\r\nThe handy util function should not support streaming dataframes, currently if you call it upon streaming queries, it throws a relatively hard-to-understand error:\r\n```\r\n>>> df1 = spark.readStream.format(\"rate\").load()\r\n>>> df2 = spark.readStream.format(\"rate\").load()\r\n>>> from pyspark.testing.utils import QuietTest, assertDataFrameEqual\r\n>>> assertDataFrameEqual(df1, df2)\r\n/Users/wei.liu/oss-spark/python/pyspark/pandas/__init__.py:43: UserWarning: 'PYARROW_IGNORE_TIMEZONE' environment variable was not set. It is required to set this environment variable to '1' in both driver and executor sides if you use pyarrow>=2.0.0. pandas-on-Spark will set it for you but it does not work if there is a Spark context already launched.\r\n  warnings.warn(\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/wei.liu/oss-spark/python/pyspark/testing/utils.py\", line 936, in assertDataFrameEqual\r\n    actual_list = actual.collect()\r\n  File \"/Users/wei.liu/oss-spark/python/pyspark/sql/dataframe.py\", line 1453, in collect\r\n    sock_info = self._jdf.collectToPython()\r\n  File \"/Users/wei.liu/oss-spark/python/lib/py4j-0.10.9.7-src.zip/py4j/java_gateway.py\", line 1322, in __call__\r\n  File \"/Users/wei.liu/oss-spark/python/pyspark/errors/exceptions/captured.py\", line 221, in deco\r\n    raise converted from None\r\npyspark.errors.exceptions.captured.AnalysisException: Queries with streaming sources must be executed with writeStream.start();\r\nrate\r\n```\r\nBecause the function calls `collect` which is not supported on streaming dataframes. It'd be good if we can catch this earlier.\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nImprove usability\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUnit test\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nGenerated-by: Github Copilot\r\nIt helped me to pick the error class UNSUPPORTED_OPERATION","created_at":"2024-03-06T00:30:29Z","updated_at":"2024-03-06T03:25:49Z","closed_at":"2024-03-06T03:25:49Z","merged_at":null,"merge_commit_sha":"a865744fe5e935a37176b868d0079bb4fc4e60b6","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45395/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45395/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45395/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b0de917f05ca5877bea8acf26b10eef9714baf66","head":{"label":"WweiL:assertDFEqual-3.5","ref":"assertDFEqual-3.5","sha":"b0de917f05ca5877bea8acf26b10eef9714baf66","user":{"login":"WweiL","id":10248890,"node_id":"MDQ6VXNlcjEwMjQ4ODkw","avatar_url":"https://avatars.githubusercontent.com/u/10248890?v=4","gravatar_id":"","url":"https://api.github.com/users/WweiL","html_url":"https://github.com/WweiL","followers_url":"https://api.github.com/users/WweiL/followers","following_url":"https://api.github.com/users/WweiL/following{/other_user}","gists_url":"https://api.github.com/users/WweiL/gists{/gist_id}","starred_url":"https://api.github.com/users/WweiL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WweiL/subscriptions","organizations_url":"https://api.github.com/users/WweiL/orgs","repos_url":"https://api.github.com/users/WweiL/repos","events_url":"https://api.github.com/users/WweiL/events{/privacy}","received_events_url":"https://api.github.com/users/WweiL/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":538656848,"node_id":"R_kgDOIBtAUA","name":"oss-spark","full_name":"WweiL/oss-spark","private":false,"owner":{"login":"WweiL","id":10248890,"node_id":"MDQ6VXNlcjEwMjQ4ODkw","avatar_url":"https://avatars.githubusercontent.com/u/10248890?v=4","gravatar_id":"","url":"https://api.github.com/users/WweiL","html_url":"https://github.com/WweiL","followers_url":"https://api.github.com/users/WweiL/followers","following_url":"https://api.github.com/users/WweiL/following{/other_user}","gists_url":"https://api.github.com/users/WweiL/gists{/gist_id}","starred_url":"https://api.github.com/users/WweiL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WweiL/subscriptions","organizations_url":"https://api.github.com/users/WweiL/orgs","repos_url":"https://api.github.com/users/WweiL/repos","events_url":"https://api.github.com/users/WweiL/events{/privacy}","received_events_url":"https://api.github.com/users/WweiL/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/WweiL/oss-spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/WweiL/oss-spark","forks_url":"https://api.github.com/repos/WweiL/oss-spark/forks","keys_url":"https://api.github.com/repos/WweiL/oss-spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/WweiL/oss-spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/WweiL/oss-spark/teams","hooks_url":"https://api.github.com/repos/WweiL/oss-spark/hooks","issue_events_url":"https://api.github.com/repos/WweiL/oss-spark/issues/events{/number}","events_url":"https://api.github.com/repos/WweiL/oss-spark/events","assignees_url":"https://api.github.com/repos/WweiL/oss-spark/assignees{/user}","branches_url":"https://api.github.com/repos/WweiL/oss-spark/branches{/branch}","tags_url":"https://api.github.com/repos/WweiL/oss-spark/tags","blobs_url":"https://api.github.com/repos/WweiL/oss-spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/WweiL/oss-spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/WweiL/oss-spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/WweiL/oss-spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/WweiL/oss-spark/statuses/{sha}","languages_url":"https://api.github.com/repos/WweiL/oss-spark/languages","stargazers_url":"https://api.github.com/repos/WweiL/oss-spark/stargazers","contributors_url":"https://api.github.com/repos/WweiL/oss-spark/contributors","subscribers_url":"https://api.github.com/repos/WweiL/oss-spark/subscribers","subscription_url":"https://api.github.com/repos/WweiL/oss-spark/subscription","commits_url":"https://api.github.com/repos/WweiL/oss-spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/WweiL/oss-spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/WweiL/oss-spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/WweiL/oss-spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/WweiL/oss-spark/contents/{+path}","compare_url":"https://api.github.com/repos/WweiL/oss-spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/WweiL/oss-spark/merges","archive_url":"https://api.github.com/repos/WweiL/oss-spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/WweiL/oss-spark/downloads","issues_url":"https://api.github.com/repos/WweiL/oss-spark/issues{/number}","pulls_url":"https://api.github.com/repos/WweiL/oss-spark/pulls{/number}","milestones_url":"https://api.github.com/repos/WweiL/oss-spark/milestones{/number}","notifications_url":"https://api.github.com/repos/WweiL/oss-spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/WweiL/oss-spark/labels{/name}","releases_url":"https://api.github.com/repos/WweiL/oss-spark/releases{/id}","deployments_url":"https://api.github.com/repos/WweiL/oss-spark/deployments","created_at":"2022-09-19T19:05:16Z","updated_at":"2022-09-19T22:58:14Z","pushed_at":"2025-02-05T00:30:37Z","git_url":"git://github.com/WweiL/oss-spark.git","ssh_url":"git@github.com:WweiL/oss-spark.git","clone_url":"https://github.com/WweiL/oss-spark.git","svn_url":"https://github.com/WweiL/oss-spark","homepage":"https://spark.apache.org/","size":431552,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:branch-3.5","ref":"branch-3.5","sha":"14762b372dd623179aa2c985c44cd49048660dda","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45395"},"html":{"href":"https://github.com/apache/spark/pull/45395"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45395"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45395/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45395/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45395/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b0de917f05ca5877bea8acf26b10eef9714baf66"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45394","id":1757923509,"node_id":"PR_kwDOAQXtWs5ox8i1","html_url":"https://github.com/apache/spark/pull/45394","diff_url":"https://github.com/apache/spark/pull/45394.diff","patch_url":"https://github.com/apache/spark/pull/45394.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45394","number":45394,"state":"closed","locked":false,"title":"[Work in Progress] Experimenting to move TransportCipher to GCM based on Google Tink","user":{"login":"sweisdb","id":60895808,"node_id":"MDQ6VXNlcjYwODk1ODA4","avatar_url":"https://avatars.githubusercontent.com/u/60895808?v=4","gravatar_id":"","url":"https://api.github.com/users/sweisdb","html_url":"https://github.com/sweisdb","followers_url":"https://api.github.com/users/sweisdb/followers","following_url":"https://api.github.com/users/sweisdb/following{/other_user}","gists_url":"https://api.github.com/users/sweisdb/gists{/gist_id}","starred_url":"https://api.github.com/users/sweisdb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweisdb/subscriptions","organizations_url":"https://api.github.com/users/sweisdb/orgs","repos_url":"https://api.github.com/users/sweisdb/repos","events_url":"https://api.github.com/users/sweisdb/events{/privacy}","received_events_url":"https://api.github.com/users/sweisdb/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe high level issue is that Apache Spark's RPC encryption is using unauthenticated CTR. We want to switch to GCM.\r\n\r\nThe complication is Spark currently uses Apache Commons' CryptoInputStream and CryptoOutputStream, which do not support GCM. GCM also increases the ciphertext size by prepending an IV and adding an authentication tag.\r\n\r\nSo far, this is requiring a larger rewrite to work with Spark's ByteBufs and FileRegions. This diff is currently a Work in Progress\r\n\r\n\r\n### Why are the changes needed?\r\n\r\nAES CTR mode with no authentication is vulnerable to someone modifying ciphertexts. That would allow them to change RPC call contents.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo\r\n\r\n### How was this patch tested?\r\n\r\nExisting unit tests\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.","created_at":"2024-03-06T00:22:36Z","updated_at":"2024-03-08T21:35:14Z","closed_at":"2024-03-08T21:35:13Z","merged_at":null,"merge_commit_sha":"e21433b23d8edcfc8d4f64c3cca3dca53d54ff28","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45394/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45394/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45394/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/48ade7352f59533bc6b79090740160fc5c027177","head":{"label":"sweisdb:SPARK-47172","ref":"SPARK-47172","sha":"48ade7352f59533bc6b79090740160fc5c027177","user":{"login":"sweisdb","id":60895808,"node_id":"MDQ6VXNlcjYwODk1ODA4","avatar_url":"https://avatars.githubusercontent.com/u/60895808?v=4","gravatar_id":"","url":"https://api.github.com/users/sweisdb","html_url":"https://github.com/sweisdb","followers_url":"https://api.github.com/users/sweisdb/followers","following_url":"https://api.github.com/users/sweisdb/following{/other_user}","gists_url":"https://api.github.com/users/sweisdb/gists{/gist_id}","starred_url":"https://api.github.com/users/sweisdb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweisdb/subscriptions","organizations_url":"https://api.github.com/users/sweisdb/orgs","repos_url":"https://api.github.com/users/sweisdb/repos","events_url":"https://api.github.com/users/sweisdb/events{/privacy}","received_events_url":"https://api.github.com/users/sweisdb/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":630130506,"node_id":"R_kgDOJY8HSg","name":"spark","full_name":"sweisdb/spark","private":false,"owner":{"login":"sweisdb","id":60895808,"node_id":"MDQ6VXNlcjYwODk1ODA4","avatar_url":"https://avatars.githubusercontent.com/u/60895808?v=4","gravatar_id":"","url":"https://api.github.com/users/sweisdb","html_url":"https://github.com/sweisdb","followers_url":"https://api.github.com/users/sweisdb/followers","following_url":"https://api.github.com/users/sweisdb/following{/other_user}","gists_url":"https://api.github.com/users/sweisdb/gists{/gist_id}","starred_url":"https://api.github.com/users/sweisdb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweisdb/subscriptions","organizations_url":"https://api.github.com/users/sweisdb/orgs","repos_url":"https://api.github.com/users/sweisdb/repos","events_url":"https://api.github.com/users/sweisdb/events{/privacy}","received_events_url":"https://api.github.com/users/sweisdb/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sweisdb/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/sweisdb/spark","forks_url":"https://api.github.com/repos/sweisdb/spark/forks","keys_url":"https://api.github.com/repos/sweisdb/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sweisdb/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sweisdb/spark/teams","hooks_url":"https://api.github.com/repos/sweisdb/spark/hooks","issue_events_url":"https://api.github.com/repos/sweisdb/spark/issues/events{/number}","events_url":"https://api.github.com/repos/sweisdb/spark/events","assignees_url":"https://api.github.com/repos/sweisdb/spark/assignees{/user}","branches_url":"https://api.github.com/repos/sweisdb/spark/branches{/branch}","tags_url":"https://api.github.com/repos/sweisdb/spark/tags","blobs_url":"https://api.github.com/repos/sweisdb/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sweisdb/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sweisdb/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/sweisdb/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sweisdb/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/sweisdb/spark/languages","stargazers_url":"https://api.github.com/repos/sweisdb/spark/stargazers","contributors_url":"https://api.github.com/repos/sweisdb/spark/contributors","subscribers_url":"https://api.github.com/repos/sweisdb/spark/subscribers","subscription_url":"https://api.github.com/repos/sweisdb/spark/subscription","commits_url":"https://api.github.com/repos/sweisdb/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/sweisdb/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/sweisdb/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/sweisdb/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/sweisdb/spark/contents/{+path}","compare_url":"https://api.github.com/repos/sweisdb/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sweisdb/spark/merges","archive_url":"https://api.github.com/repos/sweisdb/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sweisdb/spark/downloads","issues_url":"https://api.github.com/repos/sweisdb/spark/issues{/number}","pulls_url":"https://api.github.com/repos/sweisdb/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/sweisdb/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/sweisdb/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sweisdb/spark/labels{/name}","releases_url":"https://api.github.com/repos/sweisdb/spark/releases{/id}","deployments_url":"https://api.github.com/repos/sweisdb/spark/deployments","created_at":"2023-04-19T18:24:09Z","updated_at":"2024-06-21T17:19:56Z","pushed_at":"2024-06-25T04:12:08Z","git_url":"git://github.com/sweisdb/spark.git","ssh_url":"git@github.com:sweisdb/spark.git","clone_url":"https://github.com/sweisdb/spark.git","svn_url":"https://github.com/sweisdb/spark","homepage":"https://spark.apache.org/","size":408869,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"0f9164201ff0713bd09d758f89de619820f8c0e5","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45394"},"html":{"href":"https://github.com/apache/spark/pull/45394"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45394"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45394/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45394/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45394/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/48ade7352f59533bc6b79090740160fc5c027177"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45393","id":1757736178,"node_id":"PR_kwDOAQXtWs5oxOzy","html_url":"https://github.com/apache/spark/pull/45393","diff_url":"https://github.com/apache/spark/pull/45393.diff","patch_url":"https://github.com/apache/spark/pull/45393.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45393","number":45393,"state":"closed","locked":false,"title":"[SPARK-47251][PYTHON][FOLLOWUP] Use __name__ instead of string representation","user":{"login":"ueshin","id":506656,"node_id":"MDQ6VXNlcjUwNjY1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/506656?v=4","gravatar_id":"","url":"https://api.github.com/users/ueshin","html_url":"https://github.com/ueshin","followers_url":"https://api.github.com/users/ueshin/followers","following_url":"https://api.github.com/users/ueshin/following{/other_user}","gists_url":"https://api.github.com/users/ueshin/gists{/gist_id}","starred_url":"https://api.github.com/users/ueshin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ueshin/subscriptions","organizations_url":"https://api.github.com/users/ueshin/orgs","repos_url":"https://api.github.com/users/ueshin/repos","events_url":"https://api.github.com/users/ueshin/events{/privacy}","received_events_url":"https://api.github.com/users/ueshin/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis is a follow-up of apache/spark#45361.\r\n\r\nUse `__name__` instead of string representation for the error parameter.\r\n\r\n### Why are the changes needed?\r\n\r\nTo be consistent with other places.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo.\r\n\r\n### How was this patch tested?\r\n\r\nUpdated the related tests.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.","created_at":"2024-03-05T21:39:32Z","updated_at":"2024-03-05T23:41:04Z","closed_at":"2024-03-05T23:41:04Z","merged_at":null,"merge_commit_sha":"d2eecf2cbe14209d74c690eedd900701d81332ef","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45393/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45393/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45393/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/9fe7f0ab40ffd18a7e429579dfbdd2dd608a99ed","head":{"label":"ueshin:issues/SPARK-47251/fup","ref":"issues/SPARK-47251/fup","sha":"9fe7f0ab40ffd18a7e429579dfbdd2dd608a99ed","user":{"login":"ueshin","id":506656,"node_id":"MDQ6VXNlcjUwNjY1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/506656?v=4","gravatar_id":"","url":"https://api.github.com/users/ueshin","html_url":"https://github.com/ueshin","followers_url":"https://api.github.com/users/ueshin/followers","following_url":"https://api.github.com/users/ueshin/following{/other_user}","gists_url":"https://api.github.com/users/ueshin/gists{/gist_id}","starred_url":"https://api.github.com/users/ueshin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ueshin/subscriptions","organizations_url":"https://api.github.com/users/ueshin/orgs","repos_url":"https://api.github.com/users/ueshin/repos","events_url":"https://api.github.com/users/ueshin/events{/privacy}","received_events_url":"https://api.github.com/users/ueshin/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":17234665,"node_id":"MDEwOlJlcG9zaXRvcnkxNzIzNDY2NQ==","name":"apache-spark","full_name":"ueshin/apache-spark","private":false,"owner":{"login":"ueshin","id":506656,"node_id":"MDQ6VXNlcjUwNjY1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/506656?v=4","gravatar_id":"","url":"https://api.github.com/users/ueshin","html_url":"https://github.com/ueshin","followers_url":"https://api.github.com/users/ueshin/followers","following_url":"https://api.github.com/users/ueshin/following{/other_user}","gists_url":"https://api.github.com/users/ueshin/gists{/gist_id}","starred_url":"https://api.github.com/users/ueshin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ueshin/subscriptions","organizations_url":"https://api.github.com/users/ueshin/orgs","repos_url":"https://api.github.com/users/ueshin/repos","events_url":"https://api.github.com/users/ueshin/events{/privacy}","received_events_url":"https://api.github.com/users/ueshin/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ueshin/apache-spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/ueshin/apache-spark","forks_url":"https://api.github.com/repos/ueshin/apache-spark/forks","keys_url":"https://api.github.com/repos/ueshin/apache-spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ueshin/apache-spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ueshin/apache-spark/teams","hooks_url":"https://api.github.com/repos/ueshin/apache-spark/hooks","issue_events_url":"https://api.github.com/repos/ueshin/apache-spark/issues/events{/number}","events_url":"https://api.github.com/repos/ueshin/apache-spark/events","assignees_url":"https://api.github.com/repos/ueshin/apache-spark/assignees{/user}","branches_url":"https://api.github.com/repos/ueshin/apache-spark/branches{/branch}","tags_url":"https://api.github.com/repos/ueshin/apache-spark/tags","blobs_url":"https://api.github.com/repos/ueshin/apache-spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ueshin/apache-spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ueshin/apache-spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/ueshin/apache-spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ueshin/apache-spark/statuses/{sha}","languages_url":"https://api.github.com/repos/ueshin/apache-spark/languages","stargazers_url":"https://api.github.com/repos/ueshin/apache-spark/stargazers","contributors_url":"https://api.github.com/repos/ueshin/apache-spark/contributors","subscribers_url":"https://api.github.com/repos/ueshin/apache-spark/subscribers","subscription_url":"https://api.github.com/repos/ueshin/apache-spark/subscription","commits_url":"https://api.github.com/repos/ueshin/apache-spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/ueshin/apache-spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/ueshin/apache-spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/ueshin/apache-spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/ueshin/apache-spark/contents/{+path}","compare_url":"https://api.github.com/repos/ueshin/apache-spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ueshin/apache-spark/merges","archive_url":"https://api.github.com/repos/ueshin/apache-spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ueshin/apache-spark/downloads","issues_url":"https://api.github.com/repos/ueshin/apache-spark/issues{/number}","pulls_url":"https://api.github.com/repos/ueshin/apache-spark/pulls{/number}","milestones_url":"https://api.github.com/repos/ueshin/apache-spark/milestones{/number}","notifications_url":"https://api.github.com/repos/ueshin/apache-spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ueshin/apache-spark/labels{/name}","releases_url":"https://api.github.com/repos/ueshin/apache-spark/releases{/id}","deployments_url":"https://api.github.com/repos/ueshin/apache-spark/deployments","created_at":"2014-02-27T03:10:47Z","updated_at":"2025-02-07T02:07:18Z","pushed_at":"2025-02-07T19:29:05Z","git_url":"git://github.com/ueshin/apache-spark.git","ssh_url":"git@github.com:ueshin/apache-spark.git","clone_url":"https://github.com/ueshin/apache-spark.git","svn_url":"https://github.com/ueshin/apache-spark","homepage":null,"size":484941,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":8,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":8,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c417c757907e262f78af5a84b8358e253d0d0954","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45393"},"html":{"href":"https://github.com/apache/spark/pull/45393"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45393"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45393/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45393/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45393/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/9fe7f0ab40ffd18a7e429579dfbdd2dd608a99ed"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45392","id":1757635824,"node_id":"PR_kwDOAQXtWs5ow2Tw","html_url":"https://github.com/apache/spark/pull/45392","diff_url":"https://github.com/apache/spark/pull/45392.diff","patch_url":"https://github.com/apache/spark/pull/45392.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45392","number":45392,"state":"closed","locked":false,"title":"[SPARK-47304][SQL][TESTS] Distribute tests from `DataFrameSuite` to more specific suites","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nIn the PR, I propose to move some tests from `DataFrameSuite` out, and distribute them across more specific tests suites and new one `DataFrameShowSuite`.\r\n\r\n### Why are the changes needed?\r\n1. Improve maintainability of `DataFrameSuite`\r\n2. Speed up execution of the test suite. Execution time dropped to < 1min.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n### How was this patch tested?\r\nBy running the modified test suites.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.","created_at":"2024-03-05T20:18:48Z","updated_at":"2024-03-06T15:45:41Z","closed_at":"2024-03-06T15:45:41Z","merged_at":null,"merge_commit_sha":"cbf1ee7e954850783501eb7bae646af3f1ca7264","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45392/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45392/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45392/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/cacb83de0e07b9b082c0a31a762db6c70d02c30a","head":{"label":"MaxGekk:split-DataFrameSuite","ref":"split-DataFrameSuite","sha":"cacb83de0e07b9b082c0a31a762db6c70d02c30a","user":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":123690489,"node_id":"MDEwOlJlcG9zaXRvcnkxMjM2OTA0ODk=","name":"spark","full_name":"MaxGekk/spark","private":false,"owner":{"login":"MaxGekk","id":1580697,"node_id":"MDQ6VXNlcjE1ODA2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1580697?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxGekk","html_url":"https://github.com/MaxGekk","followers_url":"https://api.github.com/users/MaxGekk/followers","following_url":"https://api.github.com/users/MaxGekk/following{/other_user}","gists_url":"https://api.github.com/users/MaxGekk/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxGekk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxGekk/subscriptions","organizations_url":"https://api.github.com/users/MaxGekk/orgs","repos_url":"https://api.github.com/users/MaxGekk/repos","events_url":"https://api.github.com/users/MaxGekk/events{/privacy}","received_events_url":"https://api.github.com/users/MaxGekk/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/MaxGekk/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/MaxGekk/spark","forks_url":"https://api.github.com/repos/MaxGekk/spark/forks","keys_url":"https://api.github.com/repos/MaxGekk/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/MaxGekk/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/MaxGekk/spark/teams","hooks_url":"https://api.github.com/repos/MaxGekk/spark/hooks","issue_events_url":"https://api.github.com/repos/MaxGekk/spark/issues/events{/number}","events_url":"https://api.github.com/repos/MaxGekk/spark/events","assignees_url":"https://api.github.com/repos/MaxGekk/spark/assignees{/user}","branches_url":"https://api.github.com/repos/MaxGekk/spark/branches{/branch}","tags_url":"https://api.github.com/repos/MaxGekk/spark/tags","blobs_url":"https://api.github.com/repos/MaxGekk/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/MaxGekk/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/MaxGekk/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/MaxGekk/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/MaxGekk/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/MaxGekk/spark/languages","stargazers_url":"https://api.github.com/repos/MaxGekk/spark/stargazers","contributors_url":"https://api.github.com/repos/MaxGekk/spark/contributors","subscribers_url":"https://api.github.com/repos/MaxGekk/spark/subscribers","subscription_url":"https://api.github.com/repos/MaxGekk/spark/subscription","commits_url":"https://api.github.com/repos/MaxGekk/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/MaxGekk/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/MaxGekk/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/MaxGekk/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/MaxGekk/spark/contents/{+path}","compare_url":"https://api.github.com/repos/MaxGekk/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/MaxGekk/spark/merges","archive_url":"https://api.github.com/repos/MaxGekk/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/MaxGekk/spark/downloads","issues_url":"https://api.github.com/repos/MaxGekk/spark/issues{/number}","pulls_url":"https://api.github.com/repos/MaxGekk/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/MaxGekk/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/MaxGekk/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/MaxGekk/spark/labels{/name}","releases_url":"https://api.github.com/repos/MaxGekk/spark/releases{/id}","deployments_url":"https://api.github.com/repos/MaxGekk/spark/deployments","created_at":"2018-03-03T12:37:00Z","updated_at":"2025-02-07T09:44:52Z","pushed_at":"2025-02-07T09:44:24Z","git_url":"git://github.com/MaxGekk/spark.git","ssh_url":"git@github.com:MaxGekk/spark.git","clone_url":"https://github.com/MaxGekk/spark.git","svn_url":"https://github.com/MaxGekk/spark","homepage":null,"size":486456,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c417c757907e262f78af5a84b8358e253d0d0954","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45392"},"html":{"href":"https://github.com/apache/spark/pull/45392"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45392"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45392/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45392/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45392/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/cacb83de0e07b9b082c0a31a762db6c70d02c30a"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45391","id":1757389453,"node_id":"PR_kwDOAQXtWs5ov6KN","html_url":"https://github.com/apache/spark/pull/45391","diff_url":"https://github.com/apache/spark/pull/45391.diff","patch_url":"https://github.com/apache/spark/pull/45391.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45391","number":45391,"state":"closed","locked":false,"title":"[WIP][BUILD] Upgrade RocksDB version to 8.11.3","user":{"login":"neilramaswamy","id":33679306,"node_id":"MDQ6VXNlcjMzNjc5MzA2","avatar_url":"https://avatars.githubusercontent.com/u/33679306?v=4","gravatar_id":"","url":"https://api.github.com/users/neilramaswamy","html_url":"https://github.com/neilramaswamy","followers_url":"https://api.github.com/users/neilramaswamy/followers","following_url":"https://api.github.com/users/neilramaswamy/following{/other_user}","gists_url":"https://api.github.com/users/neilramaswamy/gists{/gist_id}","starred_url":"https://api.github.com/users/neilramaswamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neilramaswamy/subscriptions","organizations_url":"https://api.github.com/users/neilramaswamy/orgs","repos_url":"https://api.github.com/users/neilramaswamy/repos","events_url":"https://api.github.com/users/neilramaswamy/events{/privacy}","received_events_url":"https://api.github.com/users/neilramaswamy/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\n","created_at":"2024-03-05T17:43:21Z","updated_at":"2024-03-06T00:58:05Z","closed_at":"2024-03-06T00:58:05Z","merged_at":null,"merge_commit_sha":"872a68ff91b7290e144595a366405a05ddd55212","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45391/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45391/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45391/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/a0c6bdc8431b5f19d157947cf9db96835ce93929","head":{"label":"neilramaswamy:nr/rocksdb-8.11.3","ref":"nr/rocksdb-8.11.3","sha":"a0c6bdc8431b5f19d157947cf9db96835ce93929","user":{"login":"neilramaswamy","id":33679306,"node_id":"MDQ6VXNlcjMzNjc5MzA2","avatar_url":"https://avatars.githubusercontent.com/u/33679306?v=4","gravatar_id":"","url":"https://api.github.com/users/neilramaswamy","html_url":"https://github.com/neilramaswamy","followers_url":"https://api.github.com/users/neilramaswamy/followers","following_url":"https://api.github.com/users/neilramaswamy/following{/other_user}","gists_url":"https://api.github.com/users/neilramaswamy/gists{/gist_id}","starred_url":"https://api.github.com/users/neilramaswamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neilramaswamy/subscriptions","organizations_url":"https://api.github.com/users/neilramaswamy/orgs","repos_url":"https://api.github.com/users/neilramaswamy/repos","events_url":"https://api.github.com/users/neilramaswamy/events{/privacy}","received_events_url":"https://api.github.com/users/neilramaswamy/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":688675173,"node_id":"R_kgDOKQxZZQ","name":"nr-spark","full_name":"neilramaswamy/nr-spark","private":false,"owner":{"login":"neilramaswamy","id":33679306,"node_id":"MDQ6VXNlcjMzNjc5MzA2","avatar_url":"https://avatars.githubusercontent.com/u/33679306?v=4","gravatar_id":"","url":"https://api.github.com/users/neilramaswamy","html_url":"https://github.com/neilramaswamy","followers_url":"https://api.github.com/users/neilramaswamy/followers","following_url":"https://api.github.com/users/neilramaswamy/following{/other_user}","gists_url":"https://api.github.com/users/neilramaswamy/gists{/gist_id}","starred_url":"https://api.github.com/users/neilramaswamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neilramaswamy/subscriptions","organizations_url":"https://api.github.com/users/neilramaswamy/orgs","repos_url":"https://api.github.com/users/neilramaswamy/repos","events_url":"https://api.github.com/users/neilramaswamy/events{/privacy}","received_events_url":"https://api.github.com/users/neilramaswamy/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/neilramaswamy/nr-spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/neilramaswamy/nr-spark","forks_url":"https://api.github.com/repos/neilramaswamy/nr-spark/forks","keys_url":"https://api.github.com/repos/neilramaswamy/nr-spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/neilramaswamy/nr-spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/neilramaswamy/nr-spark/teams","hooks_url":"https://api.github.com/repos/neilramaswamy/nr-spark/hooks","issue_events_url":"https://api.github.com/repos/neilramaswamy/nr-spark/issues/events{/number}","events_url":"https://api.github.com/repos/neilramaswamy/nr-spark/events","assignees_url":"https://api.github.com/repos/neilramaswamy/nr-spark/assignees{/user}","branches_url":"https://api.github.com/repos/neilramaswamy/nr-spark/branches{/branch}","tags_url":"https://api.github.com/repos/neilramaswamy/nr-spark/tags","blobs_url":"https://api.github.com/repos/neilramaswamy/nr-spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/neilramaswamy/nr-spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/neilramaswamy/nr-spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/neilramaswamy/nr-spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/neilramaswamy/nr-spark/statuses/{sha}","languages_url":"https://api.github.com/repos/neilramaswamy/nr-spark/languages","stargazers_url":"https://api.github.com/repos/neilramaswamy/nr-spark/stargazers","contributors_url":"https://api.github.com/repos/neilramaswamy/nr-spark/contributors","subscribers_url":"https://api.github.com/repos/neilramaswamy/nr-spark/subscribers","subscription_url":"https://api.github.com/repos/neilramaswamy/nr-spark/subscription","commits_url":"https://api.github.com/repos/neilramaswamy/nr-spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/neilramaswamy/nr-spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/neilramaswamy/nr-spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/neilramaswamy/nr-spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/neilramaswamy/nr-spark/contents/{+path}","compare_url":"https://api.github.com/repos/neilramaswamy/nr-spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/neilramaswamy/nr-spark/merges","archive_url":"https://api.github.com/repos/neilramaswamy/nr-spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/neilramaswamy/nr-spark/downloads","issues_url":"https://api.github.com/repos/neilramaswamy/nr-spark/issues{/number}","pulls_url":"https://api.github.com/repos/neilramaswamy/nr-spark/pulls{/number}","milestones_url":"https://api.github.com/repos/neilramaswamy/nr-spark/milestones{/number}","notifications_url":"https://api.github.com/repos/neilramaswamy/nr-spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/neilramaswamy/nr-spark/labels{/name}","releases_url":"https://api.github.com/repos/neilramaswamy/nr-spark/releases{/id}","deployments_url":"https://api.github.com/repos/neilramaswamy/nr-spark/deployments","created_at":"2023-09-07T21:27:59Z","updated_at":"2024-11-16T00:36:11Z","pushed_at":"2025-02-05T15:05:46Z","git_url":"git://github.com/neilramaswamy/nr-spark.git","ssh_url":"git@github.com:neilramaswamy/nr-spark.git","clone_url":"https://github.com/neilramaswamy/nr-spark.git","svn_url":"https://github.com/neilramaswamy/nr-spark","homepage":"https://spark.apache.org/","size":423017,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":4,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":4,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"502fa8070c654c8c21d5491f9c1b8ad0aabbd666","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45391"},"html":{"href":"https://github.com/apache/spark/pull/45391"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45391"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45391/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45391/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45391/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/a0c6bdc8431b5f19d157947cf9db96835ce93929"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45390","id":1756690953,"node_id":"PR_kwDOAQXtWs5otPoJ","html_url":"https://github.com/apache/spark/pull/45390","diff_url":"https://github.com/apache/spark/pull/45390.diff","patch_url":"https://github.com/apache/spark/pull/45390.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45390","number":45390,"state":"closed","locked":false,"title":"[SPARK-47146][CORE][3.5] Possible thread leak when doing sort merge join","user":{"login":"JacobZheng0927","id":29793663,"node_id":"MDQ6VXNlcjI5NzkzNjYz","avatar_url":"https://avatars.githubusercontent.com/u/29793663?v=4","gravatar_id":"","url":"https://api.github.com/users/JacobZheng0927","html_url":"https://github.com/JacobZheng0927","followers_url":"https://api.github.com/users/JacobZheng0927/followers","following_url":"https://api.github.com/users/JacobZheng0927/following{/other_user}","gists_url":"https://api.github.com/users/JacobZheng0927/gists{/gist_id}","starred_url":"https://api.github.com/users/JacobZheng0927/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JacobZheng0927/subscriptions","organizations_url":"https://api.github.com/users/JacobZheng0927/orgs","repos_url":"https://api.github.com/users/JacobZheng0927/repos","events_url":"https://api.github.com/users/JacobZheng0927/events{/privacy}","received_events_url":"https://api.github.com/users/JacobZheng0927/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"This pr backport https://github.com/apache/spark/pull/45327 to branch-3.5\r\n\r\n### What changes were proposed in this pull request? Add TaskCompletionListener to close inputStream to avoid thread leakage caused by unclosed ReadAheadInputStream.\r\n\r\n### Why are the changes needed?\r\nTo fix the issue SPARK-47146\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n### How was this patch tested?\r\nUnit test\r\n\r\n### Was this patch authored or co-authored using generative AI tooling? \r\nNo\r\n","created_at":"2024-03-05T12:06:02Z","updated_at":"2024-03-06T02:38:13Z","closed_at":"2024-03-06T02:38:12Z","merged_at":null,"merge_commit_sha":"610d859341359c140d52222e265bacf1e5b2fe0f","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45390/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45390/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45390/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/97d38bdeba72d017e46b2343d01ddb5bd552de0e","head":{"label":"JacobZheng0927:SPARK-47146-3.5","ref":"SPARK-47146-3.5","sha":"97d38bdeba72d017e46b2343d01ddb5bd552de0e","user":{"login":"JacobZheng0927","id":29793663,"node_id":"MDQ6VXNlcjI5NzkzNjYz","avatar_url":"https://avatars.githubusercontent.com/u/29793663?v=4","gravatar_id":"","url":"https://api.github.com/users/JacobZheng0927","html_url":"https://github.com/JacobZheng0927","followers_url":"https://api.github.com/users/JacobZheng0927/followers","following_url":"https://api.github.com/users/JacobZheng0927/following{/other_user}","gists_url":"https://api.github.com/users/JacobZheng0927/gists{/gist_id}","starred_url":"https://api.github.com/users/JacobZheng0927/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JacobZheng0927/subscriptions","organizations_url":"https://api.github.com/users/JacobZheng0927/orgs","repos_url":"https://api.github.com/users/JacobZheng0927/repos","events_url":"https://api.github.com/users/JacobZheng0927/events{/privacy}","received_events_url":"https://api.github.com/users/JacobZheng0927/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":684980567,"node_id":"R_kgDOKNP5Vw","name":"spark","full_name":"JacobZheng0927/spark","private":false,"owner":{"login":"JacobZheng0927","id":29793663,"node_id":"MDQ6VXNlcjI5NzkzNjYz","avatar_url":"https://avatars.githubusercontent.com/u/29793663?v=4","gravatar_id":"","url":"https://api.github.com/users/JacobZheng0927","html_url":"https://github.com/JacobZheng0927","followers_url":"https://api.github.com/users/JacobZheng0927/followers","following_url":"https://api.github.com/users/JacobZheng0927/following{/other_user}","gists_url":"https://api.github.com/users/JacobZheng0927/gists{/gist_id}","starred_url":"https://api.github.com/users/JacobZheng0927/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JacobZheng0927/subscriptions","organizations_url":"https://api.github.com/users/JacobZheng0927/orgs","repos_url":"https://api.github.com/users/JacobZheng0927/repos","events_url":"https://api.github.com/users/JacobZheng0927/events{/privacy}","received_events_url":"https://api.github.com/users/JacobZheng0927/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/JacobZheng0927/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/JacobZheng0927/spark","forks_url":"https://api.github.com/repos/JacobZheng0927/spark/forks","keys_url":"https://api.github.com/repos/JacobZheng0927/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/JacobZheng0927/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/JacobZheng0927/spark/teams","hooks_url":"https://api.github.com/repos/JacobZheng0927/spark/hooks","issue_events_url":"https://api.github.com/repos/JacobZheng0927/spark/issues/events{/number}","events_url":"https://api.github.com/repos/JacobZheng0927/spark/events","assignees_url":"https://api.github.com/repos/JacobZheng0927/spark/assignees{/user}","branches_url":"https://api.github.com/repos/JacobZheng0927/spark/branches{/branch}","tags_url":"https://api.github.com/repos/JacobZheng0927/spark/tags","blobs_url":"https://api.github.com/repos/JacobZheng0927/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/JacobZheng0927/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/JacobZheng0927/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/JacobZheng0927/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/JacobZheng0927/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/JacobZheng0927/spark/languages","stargazers_url":"https://api.github.com/repos/JacobZheng0927/spark/stargazers","contributors_url":"https://api.github.com/repos/JacobZheng0927/spark/contributors","subscribers_url":"https://api.github.com/repos/JacobZheng0927/spark/subscribers","subscription_url":"https://api.github.com/repos/JacobZheng0927/spark/subscription","commits_url":"https://api.github.com/repos/JacobZheng0927/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/JacobZheng0927/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/JacobZheng0927/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/JacobZheng0927/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/JacobZheng0927/spark/contents/{+path}","compare_url":"https://api.github.com/repos/JacobZheng0927/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/JacobZheng0927/spark/merges","archive_url":"https://api.github.com/repos/JacobZheng0927/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/JacobZheng0927/spark/downloads","issues_url":"https://api.github.com/repos/JacobZheng0927/spark/issues{/number}","pulls_url":"https://api.github.com/repos/JacobZheng0927/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/JacobZheng0927/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/JacobZheng0927/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/JacobZheng0927/spark/labels{/name}","releases_url":"https://api.github.com/repos/JacobZheng0927/spark/releases{/id}","deployments_url":"https://api.github.com/repos/JacobZheng0927/spark/deployments","created_at":"2023-08-30T08:55:02Z","updated_at":"2024-06-19T05:45:38Z","pushed_at":"2024-06-19T06:07:41Z","git_url":"git://github.com/JacobZheng0927/spark.git","ssh_url":"git@github.com:JacobZheng0927/spark.git","clone_url":"https://github.com/JacobZheng0927/spark.git","svn_url":"https://github.com/JacobZheng0927/spark","homepage":"https://spark.apache.org/","size":403908,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:branch-3.5","ref":"branch-3.5","sha":"14762b372dd623179aa2c985c44cd49048660dda","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45390"},"html":{"href":"https://github.com/apache/spark/pull/45390"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45390"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45390/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45390/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45390/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/97d38bdeba72d017e46b2343d01ddb5bd552de0e"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45389","id":1756595481,"node_id":"PR_kwDOAQXtWs5os4UZ","html_url":"https://github.com/apache/spark/pull/45389","diff_url":"https://github.com/apache/spark/pull/45389.diff","patch_url":"https://github.com/apache/spark/pull/45389.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45389","number":45389,"state":"closed","locked":false,"title":"[SPARK-46835][SQL][Collations] Join support for non-binary collations","user":{"login":"dbatomic","id":150942779,"node_id":"U_kgDOCP80Ow","avatar_url":"https://avatars.githubusercontent.com/u/150942779?v=4","gravatar_id":"","url":"https://api.github.com/users/dbatomic","html_url":"https://github.com/dbatomic","followers_url":"https://api.github.com/users/dbatomic/followers","following_url":"https://api.github.com/users/dbatomic/following{/other_user}","gists_url":"https://api.github.com/users/dbatomic/gists{/gist_id}","starred_url":"https://api.github.com/users/dbatomic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbatomic/subscriptions","organizations_url":"https://api.github.com/users/dbatomic/orgs","repos_url":"https://api.github.com/users/dbatomic/repos","events_url":"https://api.github.com/users/dbatomic/events{/privacy}","received_events_url":"https://api.github.com/users/dbatomic/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis change introduces support for JOINs for StringType that doesn't follow binary collations (e.g. *LCASE collations).\r\n\r\nFor intro into collation track please refer to root JIRA.\r\n\r\nWith this change we add new check that verifies whether hash based aggregations are supported (i.e. `HashBroadcastJoin` and `ShuffleHashJoin`). The check is based on existing `isBinaryStable` logic. If result of hash support is false logic will fallback to merge based join which works properly with non-binary collations.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nJOINs are not working properly with StringType with non default collation at this point.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes - change fixes join behaviour.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nTests in `CollationSuite` plus extending `collations.sql` golden files.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo","created_at":"2024-03-05T11:08:56Z","updated_at":"2024-03-06T06:22:31Z","closed_at":"2024-03-06T06:22:31Z","merged_at":null,"merge_commit_sha":"6fcdabb96c05f15d002b5223548c17dad0b7fd8e","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45389/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45389/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45389/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/ea39a77d60f4f17fd6f15869b217754160714b8a","head":{"label":"dbatomic:join_and_collations","ref":"join_and_collations","sha":"ea39a77d60f4f17fd6f15869b217754160714b8a","user":{"login":"dbatomic","id":150942779,"node_id":"U_kgDOCP80Ow","avatar_url":"https://avatars.githubusercontent.com/u/150942779?v=4","gravatar_id":"","url":"https://api.github.com/users/dbatomic","html_url":"https://github.com/dbatomic","followers_url":"https://api.github.com/users/dbatomic/followers","following_url":"https://api.github.com/users/dbatomic/following{/other_user}","gists_url":"https://api.github.com/users/dbatomic/gists{/gist_id}","starred_url":"https://api.github.com/users/dbatomic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbatomic/subscriptions","organizations_url":"https://api.github.com/users/dbatomic/orgs","repos_url":"https://api.github.com/users/dbatomic/repos","events_url":"https://api.github.com/users/dbatomic/events{/privacy}","received_events_url":"https://api.github.com/users/dbatomic/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":722092520,"node_id":"R_kgDOKwpB6A","name":"spark","full_name":"dbatomic/spark","private":false,"owner":{"login":"dbatomic","id":150942779,"node_id":"U_kgDOCP80Ow","avatar_url":"https://avatars.githubusercontent.com/u/150942779?v=4","gravatar_id":"","url":"https://api.github.com/users/dbatomic","html_url":"https://github.com/dbatomic","followers_url":"https://api.github.com/users/dbatomic/followers","following_url":"https://api.github.com/users/dbatomic/following{/other_user}","gists_url":"https://api.github.com/users/dbatomic/gists{/gist_id}","starred_url":"https://api.github.com/users/dbatomic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbatomic/subscriptions","organizations_url":"https://api.github.com/users/dbatomic/orgs","repos_url":"https://api.github.com/users/dbatomic/repos","events_url":"https://api.github.com/users/dbatomic/events{/privacy}","received_events_url":"https://api.github.com/users/dbatomic/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dbatomic/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/dbatomic/spark","forks_url":"https://api.github.com/repos/dbatomic/spark/forks","keys_url":"https://api.github.com/repos/dbatomic/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dbatomic/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dbatomic/spark/teams","hooks_url":"https://api.github.com/repos/dbatomic/spark/hooks","issue_events_url":"https://api.github.com/repos/dbatomic/spark/issues/events{/number}","events_url":"https://api.github.com/repos/dbatomic/spark/events","assignees_url":"https://api.github.com/repos/dbatomic/spark/assignees{/user}","branches_url":"https://api.github.com/repos/dbatomic/spark/branches{/branch}","tags_url":"https://api.github.com/repos/dbatomic/spark/tags","blobs_url":"https://api.github.com/repos/dbatomic/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dbatomic/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dbatomic/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/dbatomic/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dbatomic/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/dbatomic/spark/languages","stargazers_url":"https://api.github.com/repos/dbatomic/spark/stargazers","contributors_url":"https://api.github.com/repos/dbatomic/spark/contributors","subscribers_url":"https://api.github.com/repos/dbatomic/spark/subscribers","subscription_url":"https://api.github.com/repos/dbatomic/spark/subscription","commits_url":"https://api.github.com/repos/dbatomic/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/dbatomic/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/dbatomic/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/dbatomic/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/dbatomic/spark/contents/{+path}","compare_url":"https://api.github.com/repos/dbatomic/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dbatomic/spark/merges","archive_url":"https://api.github.com/repos/dbatomic/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dbatomic/spark/downloads","issues_url":"https://api.github.com/repos/dbatomic/spark/issues{/number}","pulls_url":"https://api.github.com/repos/dbatomic/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/dbatomic/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/dbatomic/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dbatomic/spark/labels{/name}","releases_url":"https://api.github.com/repos/dbatomic/spark/releases{/id}","deployments_url":"https://api.github.com/repos/dbatomic/spark/deployments","created_at":"2023-11-22T12:21:34Z","updated_at":"2024-10-07T11:24:03Z","pushed_at":"2024-10-07T11:21:46Z","git_url":"git://github.com/dbatomic/spark.git","ssh_url":"git@github.com:dbatomic/spark.git","clone_url":"https://github.com/dbatomic/spark.git","svn_url":"https://github.com/dbatomic/spark","homepage":"https://spark.apache.org/","size":410921,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":3,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c9435b8b4864cc175ec8a0182abeff16c55fc23e","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45389"},"html":{"href":"https://github.com/apache/spark/pull/45389"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45389"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45389/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45389/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45389/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/ea39a77d60f4f17fd6f15869b217754160714b8a"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45388","id":1756514542,"node_id":"PR_kwDOAQXtWs5oskju","html_url":"https://github.com/apache/spark/pull/45388","diff_url":"https://github.com/apache/spark/pull/45388.diff","patch_url":"https://github.com/apache/spark/pull/45388.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45388","number":45388,"state":"closed","locked":false,"title":"[SPARK-47285][SQL] AdaptiveSparkPlanExec should always use the context.session","user":{"login":"ulysses-you","id":12025282,"node_id":"MDQ6VXNlcjEyMDI1Mjgy","avatar_url":"https://avatars.githubusercontent.com/u/12025282?v=4","gravatar_id":"","url":"https://api.github.com/users/ulysses-you","html_url":"https://github.com/ulysses-you","followers_url":"https://api.github.com/users/ulysses-you/followers","following_url":"https://api.github.com/users/ulysses-you/following{/other_user}","gists_url":"https://api.github.com/users/ulysses-you/gists{/gist_id}","starred_url":"https://api.github.com/users/ulysses-you/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulysses-you/subscriptions","organizations_url":"https://api.github.com/users/ulysses-you/orgs","repos_url":"https://api.github.com/users/ulysses-you/repos","events_url":"https://api.github.com/users/ulysses-you/events{/privacy}","received_events_url":"https://api.github.com/users/ulysses-you/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nUse `context.session` instead of `session` to avoid potential issue. For example, a cached plan may re-instance `AdaptiveSparkPlanExec` with a different active session.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\navoid potential issue\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\navoid potential issue\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\navoid potential issue\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nno","created_at":"2024-03-05T10:25:02Z","updated_at":"2024-03-06T02:00:41Z","closed_at":"2024-03-06T01:54:00Z","merged_at":null,"merge_commit_sha":"b8d3abf349723ceee5becd20b4e2110a72e813ce","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45388/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45388/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45388/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/d43c668efb04686da4fa7f83a021cd1bbf816080","head":{"label":"ulysses-you:aqe","ref":"aqe","sha":"d43c668efb04686da4fa7f83a021cd1bbf816080","user":{"login":"ulysses-you","id":12025282,"node_id":"MDQ6VXNlcjEyMDI1Mjgy","avatar_url":"https://avatars.githubusercontent.com/u/12025282?v=4","gravatar_id":"","url":"https://api.github.com/users/ulysses-you","html_url":"https://github.com/ulysses-you","followers_url":"https://api.github.com/users/ulysses-you/followers","following_url":"https://api.github.com/users/ulysses-you/following{/other_user}","gists_url":"https://api.github.com/users/ulysses-you/gists{/gist_id}","starred_url":"https://api.github.com/users/ulysses-you/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulysses-you/subscriptions","organizations_url":"https://api.github.com/users/ulysses-you/orgs","repos_url":"https://api.github.com/users/ulysses-you/repos","events_url":"https://api.github.com/users/ulysses-you/events{/privacy}","received_events_url":"https://api.github.com/users/ulysses-you/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":195747855,"node_id":"MDEwOlJlcG9zaXRvcnkxOTU3NDc4NTU=","name":"spark","full_name":"ulysses-you/spark","private":false,"owner":{"login":"ulysses-you","id":12025282,"node_id":"MDQ6VXNlcjEyMDI1Mjgy","avatar_url":"https://avatars.githubusercontent.com/u/12025282?v=4","gravatar_id":"","url":"https://api.github.com/users/ulysses-you","html_url":"https://github.com/ulysses-you","followers_url":"https://api.github.com/users/ulysses-you/followers","following_url":"https://api.github.com/users/ulysses-you/following{/other_user}","gists_url":"https://api.github.com/users/ulysses-you/gists{/gist_id}","starred_url":"https://api.github.com/users/ulysses-you/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulysses-you/subscriptions","organizations_url":"https://api.github.com/users/ulysses-you/orgs","repos_url":"https://api.github.com/users/ulysses-you/repos","events_url":"https://api.github.com/users/ulysses-you/events{/privacy}","received_events_url":"https://api.github.com/users/ulysses-you/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ulysses-you/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/ulysses-you/spark","forks_url":"https://api.github.com/repos/ulysses-you/spark/forks","keys_url":"https://api.github.com/repos/ulysses-you/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ulysses-you/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ulysses-you/spark/teams","hooks_url":"https://api.github.com/repos/ulysses-you/spark/hooks","issue_events_url":"https://api.github.com/repos/ulysses-you/spark/issues/events{/number}","events_url":"https://api.github.com/repos/ulysses-you/spark/events","assignees_url":"https://api.github.com/repos/ulysses-you/spark/assignees{/user}","branches_url":"https://api.github.com/repos/ulysses-you/spark/branches{/branch}","tags_url":"https://api.github.com/repos/ulysses-you/spark/tags","blobs_url":"https://api.github.com/repos/ulysses-you/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ulysses-you/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ulysses-you/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/ulysses-you/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ulysses-you/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/ulysses-you/spark/languages","stargazers_url":"https://api.github.com/repos/ulysses-you/spark/stargazers","contributors_url":"https://api.github.com/repos/ulysses-you/spark/contributors","subscribers_url":"https://api.github.com/repos/ulysses-you/spark/subscribers","subscription_url":"https://api.github.com/repos/ulysses-you/spark/subscription","commits_url":"https://api.github.com/repos/ulysses-you/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/ulysses-you/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/ulysses-you/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/ulysses-you/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/ulysses-you/spark/contents/{+path}","compare_url":"https://api.github.com/repos/ulysses-you/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ulysses-you/spark/merges","archive_url":"https://api.github.com/repos/ulysses-you/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ulysses-you/spark/downloads","issues_url":"https://api.github.com/repos/ulysses-you/spark/issues{/number}","pulls_url":"https://api.github.com/repos/ulysses-you/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/ulysses-you/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/ulysses-you/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ulysses-you/spark/labels{/name}","releases_url":"https://api.github.com/repos/ulysses-you/spark/releases{/id}","deployments_url":"https://api.github.com/repos/ulysses-you/spark/deployments","created_at":"2019-07-08T06:11:57Z","updated_at":"2022-01-10T01:34:59Z","pushed_at":"2024-08-13T23:12:37Z","git_url":"git://github.com/ulysses-you/spark.git","ssh_url":"git@github.com:ulysses-you/spark.git","clone_url":"https://github.com/ulysses-you/spark.git","svn_url":"https://github.com/ulysses-you/spark","homepage":"","size":399300,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c9435b8b4864cc175ec8a0182abeff16c55fc23e","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45388"},"html":{"href":"https://github.com/apache/spark/pull/45388"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45388"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45388/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45388/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45388/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/d43c668efb04686da4fa7f83a021cd1bbf816080"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45387","id":1756389317,"node_id":"PR_kwDOAQXtWs5osF_F","html_url":"https://github.com/apache/spark/pull/45387","diff_url":"https://github.com/apache/spark/pull/45387.diff","patch_url":"https://github.com/apache/spark/pull/45387.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45387","number":45387,"state":"closed","locked":false,"title":"[SPARK-47283][PYSPARK][DOCS] Remove Spark version drop down to the PySpark doc site","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to `remove` Spark version drop down to the PySpark doc site.\r\n\r\n### Why are the changes needed?\r\nMake the pyspark document display correctly.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, only for pyspark docs.\r\n\r\n\r\n### How was this patch tested?\r\nManually test.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-03-05T09:17:48Z","updated_at":"2024-03-06T02:22:40Z","closed_at":"2024-03-06T02:22:40Z","merged_at":null,"merge_commit_sha":"568d52231d7b8604b796693fd529204c5883cc12","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":true,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45387/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45387/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45387/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/71ead38b4f61b2c0f672155e5f0ffd405a27fe25","head":{"label":"panbingkun:remove_version","ref":"remove_version","sha":"71ead38b4f61b2c0f672155e5f0ffd405a27fe25","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c9435b8b4864cc175ec8a0182abeff16c55fc23e","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45387"},"html":{"href":"https://github.com/apache/spark/pull/45387"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45387"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45387/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45387/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45387/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/71ead38b4f61b2c0f672155e5f0ffd405a27fe25"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45386","id":1756325667,"node_id":"PR_kwDOAQXtWs5or2cj","html_url":"https://github.com/apache/spark/pull/45386","diff_url":"https://github.com/apache/spark/pull/45386.diff","patch_url":"https://github.com/apache/spark/pull/45386.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45386","number":45386,"state":"closed","locked":false,"title":"[SPARK-47281][PYTHON][DOCS] Update the `versions.json` file for the already released spark version","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to update the `versions. json` file for the already released spark version.\r\n\r\n### Why are the changes needed?\r\nMake the pyspark document display correctly.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, only for pyspark docs.\r\n\r\n\r\n### How was this patch tested?\r\nManually test.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-03-05T08:38:55Z","updated_at":"2024-03-06T11:27:31Z","closed_at":"2024-03-06T11:27:31Z","merged_at":null,"merge_commit_sha":"a845a4abaa3b754c431391018bcc0aac27c1b009","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":true,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45386/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45386/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45386/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/c084ab8be47a36531234718c3451f24199ff243a","head":{"label":"panbingkun:update_versions","ref":"update_versions","sha":"c084ab8be47a36531234718c3451f24199ff243a","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c9435b8b4864cc175ec8a0182abeff16c55fc23e","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45386"},"html":{"href":"https://github.com/apache/spark/pull/45386"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45386"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45386/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45386/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45386/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/c084ab8be47a36531234718c3451f24199ff243a"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45385","id":1756323712,"node_id":"PR_kwDOAQXtWs5or1-A","html_url":"https://github.com/apache/spark/pull/45385","diff_url":"https://github.com/apache/spark/pull/45385.diff","patch_url":"https://github.com/apache/spark/pull/45385.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45385","number":45385,"state":"closed","locked":false,"title":"[SPARK-47279][CORE]When the messageLoop encounter a fatal exception, such as oom, exit the JVM to avoid the driver hanging forever","user":{"login":"lastbus","id":12373096,"node_id":"MDQ6VXNlcjEyMzczMDk2","avatar_url":"https://avatars.githubusercontent.com/u/12373096?v=4","gravatar_id":"","url":"https://api.github.com/users/lastbus","html_url":"https://github.com/lastbus","followers_url":"https://api.github.com/users/lastbus/followers","following_url":"https://api.github.com/users/lastbus/following{/other_user}","gists_url":"https://api.github.com/users/lastbus/gists{/gist_id}","starred_url":"https://api.github.com/users/lastbus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lastbus/subscriptions","organizations_url":"https://api.github.com/users/lastbus/orgs","repos_url":"https://api.github.com/users/lastbus/repos","events_url":"https://api.github.com/users/lastbus/events{/privacy}","received_events_url":"https://api.github.com/users/lastbus/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nWhen a task has finished and sent messages back to the driver, but the driver cannot create new thread because of insufficient memory, then the driver will hangs indefinitely. In this situation, we choose to exit JVM.\r\n\r\nIn my opinion, the root cause is that the `OutOfMemoryError` is not being caught properly by the driver. The driver do not \r\n have `Thread.setDefaultUncaughtExceptionHandler`, so the `oom` thrown by the `MessageLoop` is not being handled.\r\n\r\n### Why are the changes needed?\r\nFatal exception may cause the driver hangs indefinitely.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n### How was this patch tested?\r\nN/A\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo\r\n","created_at":"2024-03-05T08:37:49Z","updated_at":"2024-07-27T00:20:29Z","closed_at":"2024-07-27T00:20:29Z","merged_at":null,"merge_commit_sha":"00d33458d3e0e9b3b65243c5903d153166ef2555","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1753478521,"node_id":"MDU6TGFiZWwxNzUzNDc4NTIx","url":"https://api.github.com/repos/apache/spark/labels/Stale","name":"Stale","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45385/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45385/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45385/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/cdc8a7a387423e38b9dfd4874bf4e9eec8c4babb","head":{"label":"lastbus:branch-3.5","ref":"branch-3.5","sha":"cdc8a7a387423e38b9dfd4874bf4e9eec8c4babb","user":{"login":"lastbus","id":12373096,"node_id":"MDQ6VXNlcjEyMzczMDk2","avatar_url":"https://avatars.githubusercontent.com/u/12373096?v=4","gravatar_id":"","url":"https://api.github.com/users/lastbus","html_url":"https://github.com/lastbus","followers_url":"https://api.github.com/users/lastbus/followers","following_url":"https://api.github.com/users/lastbus/following{/other_user}","gists_url":"https://api.github.com/users/lastbus/gists{/gist_id}","starred_url":"https://api.github.com/users/lastbus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lastbus/subscriptions","organizations_url":"https://api.github.com/users/lastbus/orgs","repos_url":"https://api.github.com/users/lastbus/repos","events_url":"https://api.github.com/users/lastbus/events{/privacy}","received_events_url":"https://api.github.com/users/lastbus/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":52968045,"node_id":"MDEwOlJlcG9zaXRvcnk1Mjk2ODA0NQ==","name":"spark","full_name":"lastbus/spark","private":false,"owner":{"login":"lastbus","id":12373096,"node_id":"MDQ6VXNlcjEyMzczMDk2","avatar_url":"https://avatars.githubusercontent.com/u/12373096?v=4","gravatar_id":"","url":"https://api.github.com/users/lastbus","html_url":"https://github.com/lastbus","followers_url":"https://api.github.com/users/lastbus/followers","following_url":"https://api.github.com/users/lastbus/following{/other_user}","gists_url":"https://api.github.com/users/lastbus/gists{/gist_id}","starred_url":"https://api.github.com/users/lastbus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lastbus/subscriptions","organizations_url":"https://api.github.com/users/lastbus/orgs","repos_url":"https://api.github.com/users/lastbus/repos","events_url":"https://api.github.com/users/lastbus/events{/privacy}","received_events_url":"https://api.github.com/users/lastbus/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/lastbus/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/lastbus/spark","forks_url":"https://api.github.com/repos/lastbus/spark/forks","keys_url":"https://api.github.com/repos/lastbus/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/lastbus/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/lastbus/spark/teams","hooks_url":"https://api.github.com/repos/lastbus/spark/hooks","issue_events_url":"https://api.github.com/repos/lastbus/spark/issues/events{/number}","events_url":"https://api.github.com/repos/lastbus/spark/events","assignees_url":"https://api.github.com/repos/lastbus/spark/assignees{/user}","branches_url":"https://api.github.com/repos/lastbus/spark/branches{/branch}","tags_url":"https://api.github.com/repos/lastbus/spark/tags","blobs_url":"https://api.github.com/repos/lastbus/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/lastbus/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/lastbus/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/lastbus/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/lastbus/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/lastbus/spark/languages","stargazers_url":"https://api.github.com/repos/lastbus/spark/stargazers","contributors_url":"https://api.github.com/repos/lastbus/spark/contributors","subscribers_url":"https://api.github.com/repos/lastbus/spark/subscribers","subscription_url":"https://api.github.com/repos/lastbus/spark/subscription","commits_url":"https://api.github.com/repos/lastbus/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/lastbus/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/lastbus/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/lastbus/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/lastbus/spark/contents/{+path}","compare_url":"https://api.github.com/repos/lastbus/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/lastbus/spark/merges","archive_url":"https://api.github.com/repos/lastbus/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/lastbus/spark/downloads","issues_url":"https://api.github.com/repos/lastbus/spark/issues{/number}","pulls_url":"https://api.github.com/repos/lastbus/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/lastbus/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/lastbus/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/lastbus/spark/labels{/name}","releases_url":"https://api.github.com/repos/lastbus/spark/releases{/id}","deployments_url":"https://api.github.com/repos/lastbus/spark/deployments","created_at":"2016-03-02T14:15:01Z","updated_at":"2024-03-05T07:21:57Z","pushed_at":"2024-04-24T10:50:16Z","git_url":"git://github.com/lastbus/spark.git","ssh_url":"git@github.com:lastbus/spark.git","clone_url":"https://github.com/lastbus/spark.git","svn_url":"https://github.com/lastbus/spark","homepage":null,"size":402392,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:branch-3.5","ref":"branch-3.5","sha":"3b3903dda363826cecea43cafabd63397b9deb9b","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45385"},"html":{"href":"https://github.com/apache/spark/pull/45385"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45385"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45385/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45385/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45385/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/cdc8a7a387423e38b9dfd4874bf4e9eec8c4babb"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45384","id":1756291168,"node_id":"PR_kwDOAQXtWs5oruBg","html_url":"https://github.com/apache/spark/pull/45384","diff_url":"https://github.com/apache/spark/pull/45384.diff","patch_url":"https://github.com/apache/spark/pull/45384.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45384","number":45384,"state":"closed","locked":false,"title":"[SPARK-47280][SQL] Remove timezone limitation for ORACLE TIMESTAMP WITH TIMEZONE","user":{"login":"yaooqinn","id":8326978,"node_id":"MDQ6VXNlcjgzMjY5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/8326978?v=4","gravatar_id":"","url":"https://api.github.com/users/yaooqinn","html_url":"https://github.com/yaooqinn","followers_url":"https://api.github.com/users/yaooqinn/followers","following_url":"https://api.github.com/users/yaooqinn/following{/other_user}","gists_url":"https://api.github.com/users/yaooqinn/gists{/gist_id}","starred_url":"https://api.github.com/users/yaooqinn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yaooqinn/subscriptions","organizations_url":"https://api.github.com/users/yaooqinn/orgs","repos_url":"https://api.github.com/users/yaooqinn/repos","events_url":"https://api.github.com/users/yaooqinn/events{/privacy}","received_events_url":"https://api.github.com/users/yaooqinn/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\n\r\nAs illustrated by the Oracle [Documentation](https://docs.oracle.com/en/database/oracle/oracle-database/23/jjdbc/Oracle-extensions.html#GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53):\r\n\r\n> TIMESTAMP WITH TIME ZONE and TIMESTAMP WITH LOCAL TIME ZONE types can be represented\r\nas standard java.sql.Timestamp type.\r\nThe byte representation of TIMESTAMP WITH TIME ZONE and TIMESTAMP WITH LOCAL TIME ZONE\r\ntypes to java.sql.Timestamp is straight forward.\r\nThis is because the internal format of TIMESTAMP WITH TIME ZONE and TIMESTAMP WITH LOCAL\r\nTIME ZONE data types is GMT, and java.sql.Timestamp type objects internally use a\r\nmilliseconds time value that is the number of milliseconds since EPOCH.\r\n\r\nAs we use `rs.getTimestamp` instead of `rs.getString` or `rs.getTIMESTAMPTZ` to retrieve the timestamp value, it's safe to remove the `spark.sql.session.timeZone` guard when mapping catalyst type to oracle/jdbc types.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nImprove the functionality of the Oracle connector\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nWhen reading Oracle TIMESTAMP WITH TIMEZONE, the `spark.sql.session.timeZone` can be changed without restriction for equivalence of JVM default.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nnew unit tests added\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->no\r\n","created_at":"2024-03-05T08:16:00Z","updated_at":"2024-03-06T05:32:42Z","closed_at":"2024-03-06T03:22:28Z","merged_at":null,"merge_commit_sha":"930ab215100f45ef799263af2e6acdb79aa66ee0","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45384/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45384/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45384/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/19a13043e7e0dfc49ee40a4b1d424238d6323b77","head":{"label":"yaooqinn:SPARK-47280","ref":"SPARK-47280","sha":"19a13043e7e0dfc49ee40a4b1d424238d6323b77","user":{"login":"yaooqinn","id":8326978,"node_id":"MDQ6VXNlcjgzMjY5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/8326978?v=4","gravatar_id":"","url":"https://api.github.com/users/yaooqinn","html_url":"https://github.com/yaooqinn","followers_url":"https://api.github.com/users/yaooqinn/followers","following_url":"https://api.github.com/users/yaooqinn/following{/other_user}","gists_url":"https://api.github.com/users/yaooqinn/gists{/gist_id}","starred_url":"https://api.github.com/users/yaooqinn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yaooqinn/subscriptions","organizations_url":"https://api.github.com/users/yaooqinn/orgs","repos_url":"https://api.github.com/users/yaooqinn/repos","events_url":"https://api.github.com/users/yaooqinn/events{/privacy}","received_events_url":"https://api.github.com/users/yaooqinn/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":357976080,"node_id":"MDEwOlJlcG9zaXRvcnkzNTc5NzYwODA=","name":"spark","full_name":"yaooqinn/spark","private":false,"owner":{"login":"yaooqinn","id":8326978,"node_id":"MDQ6VXNlcjgzMjY5Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/8326978?v=4","gravatar_id":"","url":"https://api.github.com/users/yaooqinn","html_url":"https://github.com/yaooqinn","followers_url":"https://api.github.com/users/yaooqinn/followers","following_url":"https://api.github.com/users/yaooqinn/following{/other_user}","gists_url":"https://api.github.com/users/yaooqinn/gists{/gist_id}","starred_url":"https://api.github.com/users/yaooqinn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yaooqinn/subscriptions","organizations_url":"https://api.github.com/users/yaooqinn/orgs","repos_url":"https://api.github.com/users/yaooqinn/repos","events_url":"https://api.github.com/users/yaooqinn/events{/privacy}","received_events_url":"https://api.github.com/users/yaooqinn/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/yaooqinn/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/yaooqinn/spark","forks_url":"https://api.github.com/repos/yaooqinn/spark/forks","keys_url":"https://api.github.com/repos/yaooqinn/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/yaooqinn/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/yaooqinn/spark/teams","hooks_url":"https://api.github.com/repos/yaooqinn/spark/hooks","issue_events_url":"https://api.github.com/repos/yaooqinn/spark/issues/events{/number}","events_url":"https://api.github.com/repos/yaooqinn/spark/events","assignees_url":"https://api.github.com/repos/yaooqinn/spark/assignees{/user}","branches_url":"https://api.github.com/repos/yaooqinn/spark/branches{/branch}","tags_url":"https://api.github.com/repos/yaooqinn/spark/tags","blobs_url":"https://api.github.com/repos/yaooqinn/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/yaooqinn/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/yaooqinn/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/yaooqinn/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/yaooqinn/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/yaooqinn/spark/languages","stargazers_url":"https://api.github.com/repos/yaooqinn/spark/stargazers","contributors_url":"https://api.github.com/repos/yaooqinn/spark/contributors","subscribers_url":"https://api.github.com/repos/yaooqinn/spark/subscribers","subscription_url":"https://api.github.com/repos/yaooqinn/spark/subscription","commits_url":"https://api.github.com/repos/yaooqinn/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/yaooqinn/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/yaooqinn/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/yaooqinn/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/yaooqinn/spark/contents/{+path}","compare_url":"https://api.github.com/repos/yaooqinn/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/yaooqinn/spark/merges","archive_url":"https://api.github.com/repos/yaooqinn/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/yaooqinn/spark/downloads","issues_url":"https://api.github.com/repos/yaooqinn/spark/issues{/number}","pulls_url":"https://api.github.com/repos/yaooqinn/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/yaooqinn/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/yaooqinn/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/yaooqinn/spark/labels{/name}","releases_url":"https://api.github.com/repos/yaooqinn/spark/releases{/id}","deployments_url":"https://api.github.com/repos/yaooqinn/spark/deployments","created_at":"2021-04-14T16:44:36Z","updated_at":"2024-11-05T08:03:33Z","pushed_at":"2025-01-24T02:12:30Z","git_url":"git://github.com/yaooqinn/spark.git","ssh_url":"git@github.com:yaooqinn/spark.git","clone_url":"https://github.com/yaooqinn/spark.git","svn_url":"https://github.com/yaooqinn/spark","homepage":"https://spark.apache.org/","size":468287,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"c9435b8b4864cc175ec8a0182abeff16c55fc23e","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45384"},"html":{"href":"https://github.com/apache/spark/pull/45384"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45384"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45384/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45384/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45384/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/19a13043e7e0dfc49ee40a4b1d424238d6323b77"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45383","id":1756274108,"node_id":"PR_kwDOAQXtWs5orp28","html_url":"https://github.com/apache/spark/pull/45383","diff_url":"https://github.com/apache/spark/pull/45383.diff","patch_url":"https://github.com/apache/spark/pull/45383.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45383","number":45383,"state":"closed","locked":false,"title":"[SPARK-47210][SQL] Addition of implicit casting without indeterminate support","user":{"login":"mihailom-db","id":159067682,"node_id":"U_kgDOCXsuIg","avatar_url":"https://avatars.githubusercontent.com/u/159067682?v=4","gravatar_id":"","url":"https://api.github.com/users/mihailom-db","html_url":"https://github.com/mihailom-db","followers_url":"https://api.github.com/users/mihailom-db/followers","following_url":"https://api.github.com/users/mihailom-db/following{/other_user}","gists_url":"https://api.github.com/users/mihailom-db/gists{/gist_id}","starred_url":"https://api.github.com/users/mihailom-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihailom-db/subscriptions","organizations_url":"https://api.github.com/users/mihailom-db/orgs","repos_url":"https://api.github.com/users/mihailom-db/repos","events_url":"https://api.github.com/users/mihailom-db/events{/privacy}","received_events_url":"https://api.github.com/users/mihailom-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis PR adds automatic casting and collations resolution as per `PGSQL` behaviour:\r\n\r\n1. Collations set on the metadata level are implicit\r\n2. Collations set using the `COLLATE` expression are explicit\r\n3. When there is a combination of expressions of multiple collations the output will be:\r\n- if there are explicit collations and all of them are equal then that collation will be the output\r\n- if there are multiple different explicit collations `COLLATION_MISMATCH.EXPLICIT` will be thrown\r\n- if there are no explicit collations and only a single type of non default collation, that one will be used\r\n- if there are no explicit collations and multiple non-default implicit ones `COLLATION_MISMATCH.IMPLICIT` will be thrown\r\n\r\n\r\nINDETERMINATE_COLLATION should only be thrown on comparison operations and memory storing of data, and we should be able to combine different implicit collations for certain operations like concat and possible others in the future.\r\nThis is why we have to add another predefined collation id named INDETERMINATE_COLLATION_ID which means that the result is a combination of conflicting non-default implicit collations. Right now it would an id of -1 so it fail if it ever goes to the CollatorFactory.\r\n\r\n\r\n### Why are the changes needed?\r\nWe need to be able to compare columns and values with different collations and set a way of explicitly changing the collation we want to use.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes. We add 3 new errors and enable collation casting.\r\n\r\n\r\n### How was this patch tested?\r\nTests in `CollationSuite` were done to check code validity.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-03-05T08:04:06Z","updated_at":"2024-08-14T07:06:37Z","closed_at":"2024-04-03T23:50:08Z","merged_at":null,"merge_commit_sha":"b12dc05064a6dd505ec10ec6e8c6b632b727a381","assignee":null,"assignees":[],"requested_reviewers":[{"login":"dbatomic","id":150942779,"node_id":"U_kgDOCP80Ow","avatar_url":"https://avatars.githubusercontent.com/u/150942779?v=4","gravatar_id":"","url":"https://api.github.com/users/dbatomic","html_url":"https://github.com/dbatomic","followers_url":"https://api.github.com/users/dbatomic/followers","following_url":"https://api.github.com/users/dbatomic/following{/other_user}","gists_url":"https://api.github.com/users/dbatomic/gists{/gist_id}","starred_url":"https://api.github.com/users/dbatomic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbatomic/subscriptions","organizations_url":"https://api.github.com/users/dbatomic/orgs","repos_url":"https://api.github.com/users/dbatomic/repos","events_url":"https://api.github.com/users/dbatomic/events{/privacy}","received_events_url":"https://api.github.com/users/dbatomic/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45383/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45383/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45383/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/e1e0cf41222b4f59a0f7c497fe3e4e21ea842fee","head":{"label":"mihailom-db:SPARK-47210","ref":"SPARK-47210","sha":"e1e0cf41222b4f59a0f7c497fe3e4e21ea842fee","user":{"login":"mihailom-db","id":159067682,"node_id":"U_kgDOCXsuIg","avatar_url":"https://avatars.githubusercontent.com/u/159067682?v=4","gravatar_id":"","url":"https://api.github.com/users/mihailom-db","html_url":"https://github.com/mihailom-db","followers_url":"https://api.github.com/users/mihailom-db/followers","following_url":"https://api.github.com/users/mihailom-db/following{/other_user}","gists_url":"https://api.github.com/users/mihailom-db/gists{/gist_id}","starred_url":"https://api.github.com/users/mihailom-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihailom-db/subscriptions","organizations_url":"https://api.github.com/users/mihailom-db/orgs","repos_url":"https://api.github.com/users/mihailom-db/repos","events_url":"https://api.github.com/users/mihailom-db/events{/privacy}","received_events_url":"https://api.github.com/users/mihailom-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":756245919,"node_id":"R_kgDOLRNlnw","name":"spark","full_name":"mihailom-db/spark","private":false,"owner":{"login":"mihailom-db","id":159067682,"node_id":"U_kgDOCXsuIg","avatar_url":"https://avatars.githubusercontent.com/u/159067682?v=4","gravatar_id":"","url":"https://api.github.com/users/mihailom-db","html_url":"https://github.com/mihailom-db","followers_url":"https://api.github.com/users/mihailom-db/followers","following_url":"https://api.github.com/users/mihailom-db/following{/other_user}","gists_url":"https://api.github.com/users/mihailom-db/gists{/gist_id}","starred_url":"https://api.github.com/users/mihailom-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihailom-db/subscriptions","organizations_url":"https://api.github.com/users/mihailom-db/orgs","repos_url":"https://api.github.com/users/mihailom-db/repos","events_url":"https://api.github.com/users/mihailom-db/events{/privacy}","received_events_url":"https://api.github.com/users/mihailom-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mihailom-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/mihailom-db/spark","forks_url":"https://api.github.com/repos/mihailom-db/spark/forks","keys_url":"https://api.github.com/repos/mihailom-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mihailom-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mihailom-db/spark/teams","hooks_url":"https://api.github.com/repos/mihailom-db/spark/hooks","issue_events_url":"https://api.github.com/repos/mihailom-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/mihailom-db/spark/events","assignees_url":"https://api.github.com/repos/mihailom-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/mihailom-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/mihailom-db/spark/tags","blobs_url":"https://api.github.com/repos/mihailom-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mihailom-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mihailom-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/mihailom-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mihailom-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/mihailom-db/spark/languages","stargazers_url":"https://api.github.com/repos/mihailom-db/spark/stargazers","contributors_url":"https://api.github.com/repos/mihailom-db/spark/contributors","subscribers_url":"https://api.github.com/repos/mihailom-db/spark/subscribers","subscription_url":"https://api.github.com/repos/mihailom-db/spark/subscription","commits_url":"https://api.github.com/repos/mihailom-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/mihailom-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/mihailom-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/mihailom-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/mihailom-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/mihailom-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mihailom-db/spark/merges","archive_url":"https://api.github.com/repos/mihailom-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mihailom-db/spark/downloads","issues_url":"https://api.github.com/repos/mihailom-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/mihailom-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/mihailom-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/mihailom-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mihailom-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/mihailom-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/mihailom-db/spark/deployments","created_at":"2024-02-12T09:25:57Z","updated_at":"2024-08-05T08:15:59Z","pushed_at":"2024-12-25T11:37:24Z","git_url":"git://github.com/mihailom-db/spark.git","ssh_url":"git@github.com:mihailom-db/spark.git","clone_url":"https://github.com/mihailom-db/spark.git","svn_url":"https://github.com/mihailom-db/spark","homepage":"https://spark.apache.org/","size":480966,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"7dec5eb14644aee6c0562bad1d14421d9fa07f17","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45383"},"html":{"href":"https://github.com/apache/spark/pull/45383"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45383"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45383/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45383/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45383/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/e1e0cf41222b4f59a0f7c497fe3e4e21ea842fee"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45382","id":1756238838,"node_id":"PR_kwDOAQXtWs5orhP2","html_url":"https://github.com/apache/spark/pull/45382","diff_url":"https://github.com/apache/spark/pull/45382.diff","patch_url":"https://github.com/apache/spark/pull/45382.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45382","number":45382,"state":"closed","locked":false,"title":"[SPARK-47248][SQL][COLLATION] Improved string function support: contains","user":{"login":"uros-db","id":157381213,"node_id":"U_kgDOCWFyXQ","avatar_url":"https://avatars.githubusercontent.com/u/157381213?v=4","gravatar_id":"","url":"https://api.github.com/users/uros-db","html_url":"https://github.com/uros-db","followers_url":"https://api.github.com/users/uros-db/followers","following_url":"https://api.github.com/users/uros-db/following{/other_user}","gists_url":"https://api.github.com/users/uros-db/gists{/gist_id}","starred_url":"https://api.github.com/users/uros-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uros-db/subscriptions","organizations_url":"https://api.github.com/users/uros-db/orgs","repos_url":"https://api.github.com/users/uros-db/repos","events_url":"https://api.github.com/users/uros-db/events{/privacy}","received_events_url":"https://api.github.com/users/uros-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nExtend built-in string functions to support non-binary, non-lowercase collation for: contains.\r\n\r\n\r\n### Why are the changes needed?\r\nUpdate collation support for built-in string functions in Spark.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, users should now be able to use COLLATE within arguments for built-in string function CONTAINS in Spark SQL queries, using non-binary collations such as UNICODE_CI.\r\n\r\n\r\n### How was this patch tested?\r\nUnit tests for queries using \"collate\" (CollationSuite).\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nYes.","created_at":"2024-03-05T07:47:55Z","updated_at":"2024-03-07T15:29:33Z","closed_at":"2024-03-07T15:29:33Z","merged_at":null,"merge_commit_sha":"262dce3a3d23ca60a880e969f242e37847501137","assignee":null,"assignees":[],"requested_reviewers":[{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"dbatomic","id":150942779,"node_id":"U_kgDOCP80Ow","avatar_url":"https://avatars.githubusercontent.com/u/150942779?v=4","gravatar_id":"","url":"https://api.github.com/users/dbatomic","html_url":"https://github.com/dbatomic","followers_url":"https://api.github.com/users/dbatomic/followers","following_url":"https://api.github.com/users/dbatomic/following{/other_user}","gists_url":"https://api.github.com/users/dbatomic/gists{/gist_id}","starred_url":"https://api.github.com/users/dbatomic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbatomic/subscriptions","organizations_url":"https://api.github.com/users/dbatomic/orgs","repos_url":"https://api.github.com/users/dbatomic/repos","events_url":"https://api.github.com/users/dbatomic/events{/privacy}","received_events_url":"https://api.github.com/users/dbatomic/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45382/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45382/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45382/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/5f2c58c56b9c7ae002de672e9ce4c9b70abd4728","head":{"label":"uros-db:contains--update","ref":"contains--update","sha":"5f2c58c56b9c7ae002de672e9ce4c9b70abd4728","user":{"login":"uros-db","id":157381213,"node_id":"U_kgDOCWFyXQ","avatar_url":"https://avatars.githubusercontent.com/u/157381213?v=4","gravatar_id":"","url":"https://api.github.com/users/uros-db","html_url":"https://github.com/uros-db","followers_url":"https://api.github.com/users/uros-db/followers","following_url":"https://api.github.com/users/uros-db/following{/other_user}","gists_url":"https://api.github.com/users/uros-db/gists{/gist_id}","starred_url":"https://api.github.com/users/uros-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uros-db/subscriptions","organizations_url":"https://api.github.com/users/uros-db/orgs","repos_url":"https://api.github.com/users/uros-db/repos","events_url":"https://api.github.com/users/uros-db/events{/privacy}","received_events_url":"https://api.github.com/users/uros-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":755209418,"node_id":"R_kgDOLQOUyg","name":"spark","full_name":"uros-db/spark","private":false,"owner":{"login":"uros-db","id":157381213,"node_id":"U_kgDOCWFyXQ","avatar_url":"https://avatars.githubusercontent.com/u/157381213?v=4","gravatar_id":"","url":"https://api.github.com/users/uros-db","html_url":"https://github.com/uros-db","followers_url":"https://api.github.com/users/uros-db/followers","following_url":"https://api.github.com/users/uros-db/following{/other_user}","gists_url":"https://api.github.com/users/uros-db/gists{/gist_id}","starred_url":"https://api.github.com/users/uros-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uros-db/subscriptions","organizations_url":"https://api.github.com/users/uros-db/orgs","repos_url":"https://api.github.com/users/uros-db/repos","events_url":"https://api.github.com/users/uros-db/events{/privacy}","received_events_url":"https://api.github.com/users/uros-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/uros-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/uros-db/spark","forks_url":"https://api.github.com/repos/uros-db/spark/forks","keys_url":"https://api.github.com/repos/uros-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/uros-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/uros-db/spark/teams","hooks_url":"https://api.github.com/repos/uros-db/spark/hooks","issue_events_url":"https://api.github.com/repos/uros-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/uros-db/spark/events","assignees_url":"https://api.github.com/repos/uros-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/uros-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/uros-db/spark/tags","blobs_url":"https://api.github.com/repos/uros-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/uros-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/uros-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/uros-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/uros-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/uros-db/spark/languages","stargazers_url":"https://api.github.com/repos/uros-db/spark/stargazers","contributors_url":"https://api.github.com/repos/uros-db/spark/contributors","subscribers_url":"https://api.github.com/repos/uros-db/spark/subscribers","subscription_url":"https://api.github.com/repos/uros-db/spark/subscription","commits_url":"https://api.github.com/repos/uros-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/uros-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/uros-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/uros-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/uros-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/uros-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/uros-db/spark/merges","archive_url":"https://api.github.com/repos/uros-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/uros-db/spark/downloads","issues_url":"https://api.github.com/repos/uros-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/uros-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/uros-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/uros-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/uros-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/uros-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/uros-db/spark/deployments","created_at":"2024-02-09T16:48:55Z","updated_at":"2024-12-23T11:11:13Z","pushed_at":"2024-12-23T11:08:59Z","git_url":"git://github.com/uros-db/spark.git","ssh_url":"git@github.com:uros-db/spark.git","clone_url":"https://github.com/uros-db/spark.git","svn_url":"https://github.com/uros-db/spark","homepage":"https://spark.apache.org/","size":430948,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"0ff22b0019f130635c54db34f7bf06bc48fb5f27","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45382"},"html":{"href":"https://github.com/apache/spark/pull/45382"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45382"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45382/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45382/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45382/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/5f2c58c56b9c7ae002de672e9ce4c9b70abd4728"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45381","id":1755906274,"node_id":"PR_kwDOAQXtWs5oqQDi","html_url":"https://github.com/apache/spark/pull/45381","diff_url":"https://github.com/apache/spark/pull/45381.diff","patch_url":"https://github.com/apache/spark/pull/45381.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45381","number":45381,"state":"closed","locked":false,"title":"[SPARK-47177][SQL][3.4] Cached SQL plan do not display final AQE plan in explain string","user":{"login":"ulysses-you","id":12025282,"node_id":"MDQ6VXNlcjEyMDI1Mjgy","avatar_url":"https://avatars.githubusercontent.com/u/12025282?v=4","gravatar_id":"","url":"https://api.github.com/users/ulysses-you","html_url":"https://github.com/ulysses-you","followers_url":"https://api.github.com/users/ulysses-you/followers","following_url":"https://api.github.com/users/ulysses-you/following{/other_user}","gists_url":"https://api.github.com/users/ulysses-you/gists{/gist_id}","starred_url":"https://api.github.com/users/ulysses-you/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulysses-you/subscriptions","organizations_url":"https://api.github.com/users/ulysses-you/orgs","repos_url":"https://api.github.com/users/ulysses-you/repos","events_url":"https://api.github.com/users/ulysses-you/events{/privacy}","received_events_url":"https://api.github.com/users/ulysses-you/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"This pr backport https://github.com/apache/spark/pull/45282 to branch-3.4\r\n\r\n<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis pr adds lock for ExplainUtils.processPlan to avoid tag race condition.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nTo fix the issue [SPARK-47177](https://issues.apache.org/jira/browse/SPARK-47177)\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nyes, affect plan explain\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nadd test\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\n\r\nno\r\n","created_at":"2024-03-05T02:31:26Z","updated_at":"2024-03-05T08:50:54Z","closed_at":"2024-03-05T08:50:52Z","merged_at":null,"merge_commit_sha":"a1fa708e05fb2dcc534a950abc978ac0fbc34648","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45381/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45381/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45381/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/e76ee83b01baee91617bbb58f062971d0dc006f5","head":{"label":"ulysses-you:SPARK-47177-3.4","ref":"SPARK-47177-3.4","sha":"e76ee83b01baee91617bbb58f062971d0dc006f5","user":{"login":"ulysses-you","id":12025282,"node_id":"MDQ6VXNlcjEyMDI1Mjgy","avatar_url":"https://avatars.githubusercontent.com/u/12025282?v=4","gravatar_id":"","url":"https://api.github.com/users/ulysses-you","html_url":"https://github.com/ulysses-you","followers_url":"https://api.github.com/users/ulysses-you/followers","following_url":"https://api.github.com/users/ulysses-you/following{/other_user}","gists_url":"https://api.github.com/users/ulysses-you/gists{/gist_id}","starred_url":"https://api.github.com/users/ulysses-you/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulysses-you/subscriptions","organizations_url":"https://api.github.com/users/ulysses-you/orgs","repos_url":"https://api.github.com/users/ulysses-you/repos","events_url":"https://api.github.com/users/ulysses-you/events{/privacy}","received_events_url":"https://api.github.com/users/ulysses-you/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":195747855,"node_id":"MDEwOlJlcG9zaXRvcnkxOTU3NDc4NTU=","name":"spark","full_name":"ulysses-you/spark","private":false,"owner":{"login":"ulysses-you","id":12025282,"node_id":"MDQ6VXNlcjEyMDI1Mjgy","avatar_url":"https://avatars.githubusercontent.com/u/12025282?v=4","gravatar_id":"","url":"https://api.github.com/users/ulysses-you","html_url":"https://github.com/ulysses-you","followers_url":"https://api.github.com/users/ulysses-you/followers","following_url":"https://api.github.com/users/ulysses-you/following{/other_user}","gists_url":"https://api.github.com/users/ulysses-you/gists{/gist_id}","starred_url":"https://api.github.com/users/ulysses-you/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulysses-you/subscriptions","organizations_url":"https://api.github.com/users/ulysses-you/orgs","repos_url":"https://api.github.com/users/ulysses-you/repos","events_url":"https://api.github.com/users/ulysses-you/events{/privacy}","received_events_url":"https://api.github.com/users/ulysses-you/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ulysses-you/spark","description":"Apache Spark","fork":true,"url":"https://api.github.com/repos/ulysses-you/spark","forks_url":"https://api.github.com/repos/ulysses-you/spark/forks","keys_url":"https://api.github.com/repos/ulysses-you/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ulysses-you/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ulysses-you/spark/teams","hooks_url":"https://api.github.com/repos/ulysses-you/spark/hooks","issue_events_url":"https://api.github.com/repos/ulysses-you/spark/issues/events{/number}","events_url":"https://api.github.com/repos/ulysses-you/spark/events","assignees_url":"https://api.github.com/repos/ulysses-you/spark/assignees{/user}","branches_url":"https://api.github.com/repos/ulysses-you/spark/branches{/branch}","tags_url":"https://api.github.com/repos/ulysses-you/spark/tags","blobs_url":"https://api.github.com/repos/ulysses-you/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ulysses-you/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ulysses-you/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/ulysses-you/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ulysses-you/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/ulysses-you/spark/languages","stargazers_url":"https://api.github.com/repos/ulysses-you/spark/stargazers","contributors_url":"https://api.github.com/repos/ulysses-you/spark/contributors","subscribers_url":"https://api.github.com/repos/ulysses-you/spark/subscribers","subscription_url":"https://api.github.com/repos/ulysses-you/spark/subscription","commits_url":"https://api.github.com/repos/ulysses-you/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/ulysses-you/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/ulysses-you/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/ulysses-you/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/ulysses-you/spark/contents/{+path}","compare_url":"https://api.github.com/repos/ulysses-you/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ulysses-you/spark/merges","archive_url":"https://api.github.com/repos/ulysses-you/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ulysses-you/spark/downloads","issues_url":"https://api.github.com/repos/ulysses-you/spark/issues{/number}","pulls_url":"https://api.github.com/repos/ulysses-you/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/ulysses-you/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/ulysses-you/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ulysses-you/spark/labels{/name}","releases_url":"https://api.github.com/repos/ulysses-you/spark/releases{/id}","deployments_url":"https://api.github.com/repos/ulysses-you/spark/deployments","created_at":"2019-07-08T06:11:57Z","updated_at":"2022-01-10T01:34:59Z","pushed_at":"2024-08-13T23:12:37Z","git_url":"git://github.com/ulysses-you/spark.git","ssh_url":"git@github.com:ulysses-you/spark.git","clone_url":"https://github.com/ulysses-you/spark.git","svn_url":"https://github.com/ulysses-you/spark","homepage":"","size":399300,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:branch-3.4","ref":"branch-3.4","sha":"58a4a49389a5f9979f7dabc5320116a212eb4bdb","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45381"},"html":{"href":"https://github.com/apache/spark/pull/45381"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45381"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45381/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45381/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45381/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/e76ee83b01baee91617bbb58f062971d0dc006f5"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45380","id":1755892057,"node_id":"PR_kwDOAQXtWs5oqMlZ","html_url":"https://github.com/apache/spark/pull/45380","diff_url":"https://github.com/apache/spark/pull/45380.diff","patch_url":"https://github.com/apache/spark/pull/45380.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45380","number":45380,"state":"closed","locked":false,"title":"[SPARK-47277] PySpark util function assertDataFrameEqual should not support streaming DF","user":{"login":"WweiL","id":10248890,"node_id":"MDQ6VXNlcjEwMjQ4ODkw","avatar_url":"https://avatars.githubusercontent.com/u/10248890?v=4","gravatar_id":"","url":"https://api.github.com/users/WweiL","html_url":"https://github.com/WweiL","followers_url":"https://api.github.com/users/WweiL/followers","following_url":"https://api.github.com/users/WweiL/following{/other_user}","gists_url":"https://api.github.com/users/WweiL/gists{/gist_id}","starred_url":"https://api.github.com/users/WweiL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WweiL/subscriptions","organizations_url":"https://api.github.com/users/WweiL/orgs","repos_url":"https://api.github.com/users/WweiL/repos","events_url":"https://api.github.com/users/WweiL/events{/privacy}","received_events_url":"https://api.github.com/users/WweiL/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThe handy util function should not support streaming dataframes, currently if you call it upon streaming queries, it throws a relatively hard-to-understand error:\r\n```\r\n>>> df1 = spark.readStream.format(\"rate\").load()\r\n>>> df2 = spark.readStream.format(\"rate\").load()\r\n>>> from pyspark.testing.utils import QuietTest, assertDataFrameEqual\r\n>>> assertDataFrameEqual(df1, df2)\r\n/Users/wei.liu/oss-spark/python/pyspark/pandas/__init__.py:43: UserWarning: 'PYARROW_IGNORE_TIMEZONE' environment variable was not set. It is required to set this environment variable to '1' in both driver and executor sides if you use pyarrow>=2.0.0. pandas-on-Spark will set it for you but it does not work if there is a Spark context already launched.\r\n  warnings.warn(\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/wei.liu/oss-spark/python/pyspark/testing/utils.py\", line 936, in assertDataFrameEqual\r\n    actual_list = actual.collect()\r\n  File \"/Users/wei.liu/oss-spark/python/pyspark/sql/dataframe.py\", line 1453, in collect\r\n    sock_info = self._jdf.collectToPython()\r\n  File \"/Users/wei.liu/oss-spark/python/lib/py4j-0.10.9.7-src.zip/py4j/java_gateway.py\", line 1322, in __call__\r\n  File \"/Users/wei.liu/oss-spark/python/pyspark/errors/exceptions/captured.py\", line 221, in deco\r\n    raise converted from None\r\npyspark.errors.exceptions.captured.AnalysisException: Queries with streaming sources must be executed with writeStream.start();\r\nrate\r\n```\r\nBecause the function calls `collect` which is not supported on streaming dataframes. It'd be good if we can catch this earlier.\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nImprove usability\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUnit test\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nGenerated-by: Github Copilot\r\nIt helped me to pick the error class UNSUPPORTED_OPERATION","created_at":"2024-03-05T02:13:20Z","updated_at":"2024-03-06T00:14:26Z","closed_at":"2024-03-05T23:53:22Z","merged_at":null,"merge_commit_sha":"4074971f8d6529d7d15b319e81387eec0e89b8b9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45380/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45380/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45380/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/d939fc632e22890d89955c858cae0369bbe706ba","head":{"label":"WweiL:assertDataFrameEqual-should-not-support-streaming-dfs","ref":"assertDataFrameEqual-should-not-support-streaming-dfs","sha":"d939fc632e22890d89955c858cae0369bbe706ba","user":{"login":"WweiL","id":10248890,"node_id":"MDQ6VXNlcjEwMjQ4ODkw","avatar_url":"https://avatars.githubusercontent.com/u/10248890?v=4","gravatar_id":"","url":"https://api.github.com/users/WweiL","html_url":"https://github.com/WweiL","followers_url":"https://api.github.com/users/WweiL/followers","following_url":"https://api.github.com/users/WweiL/following{/other_user}","gists_url":"https://api.github.com/users/WweiL/gists{/gist_id}","starred_url":"https://api.github.com/users/WweiL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WweiL/subscriptions","organizations_url":"https://api.github.com/users/WweiL/orgs","repos_url":"https://api.github.com/users/WweiL/repos","events_url":"https://api.github.com/users/WweiL/events{/privacy}","received_events_url":"https://api.github.com/users/WweiL/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":538656848,"node_id":"R_kgDOIBtAUA","name":"oss-spark","full_name":"WweiL/oss-spark","private":false,"owner":{"login":"WweiL","id":10248890,"node_id":"MDQ6VXNlcjEwMjQ4ODkw","avatar_url":"https://avatars.githubusercontent.com/u/10248890?v=4","gravatar_id":"","url":"https://api.github.com/users/WweiL","html_url":"https://github.com/WweiL","followers_url":"https://api.github.com/users/WweiL/followers","following_url":"https://api.github.com/users/WweiL/following{/other_user}","gists_url":"https://api.github.com/users/WweiL/gists{/gist_id}","starred_url":"https://api.github.com/users/WweiL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WweiL/subscriptions","organizations_url":"https://api.github.com/users/WweiL/orgs","repos_url":"https://api.github.com/users/WweiL/repos","events_url":"https://api.github.com/users/WweiL/events{/privacy}","received_events_url":"https://api.github.com/users/WweiL/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/WweiL/oss-spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/WweiL/oss-spark","forks_url":"https://api.github.com/repos/WweiL/oss-spark/forks","keys_url":"https://api.github.com/repos/WweiL/oss-spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/WweiL/oss-spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/WweiL/oss-spark/teams","hooks_url":"https://api.github.com/repos/WweiL/oss-spark/hooks","issue_events_url":"https://api.github.com/repos/WweiL/oss-spark/issues/events{/number}","events_url":"https://api.github.com/repos/WweiL/oss-spark/events","assignees_url":"https://api.github.com/repos/WweiL/oss-spark/assignees{/user}","branches_url":"https://api.github.com/repos/WweiL/oss-spark/branches{/branch}","tags_url":"https://api.github.com/repos/WweiL/oss-spark/tags","blobs_url":"https://api.github.com/repos/WweiL/oss-spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/WweiL/oss-spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/WweiL/oss-spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/WweiL/oss-spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/WweiL/oss-spark/statuses/{sha}","languages_url":"https://api.github.com/repos/WweiL/oss-spark/languages","stargazers_url":"https://api.github.com/repos/WweiL/oss-spark/stargazers","contributors_url":"https://api.github.com/repos/WweiL/oss-spark/contributors","subscribers_url":"https://api.github.com/repos/WweiL/oss-spark/subscribers","subscription_url":"https://api.github.com/repos/WweiL/oss-spark/subscription","commits_url":"https://api.github.com/repos/WweiL/oss-spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/WweiL/oss-spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/WweiL/oss-spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/WweiL/oss-spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/WweiL/oss-spark/contents/{+path}","compare_url":"https://api.github.com/repos/WweiL/oss-spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/WweiL/oss-spark/merges","archive_url":"https://api.github.com/repos/WweiL/oss-spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/WweiL/oss-spark/downloads","issues_url":"https://api.github.com/repos/WweiL/oss-spark/issues{/number}","pulls_url":"https://api.github.com/repos/WweiL/oss-spark/pulls{/number}","milestones_url":"https://api.github.com/repos/WweiL/oss-spark/milestones{/number}","notifications_url":"https://api.github.com/repos/WweiL/oss-spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/WweiL/oss-spark/labels{/name}","releases_url":"https://api.github.com/repos/WweiL/oss-spark/releases{/id}","deployments_url":"https://api.github.com/repos/WweiL/oss-spark/deployments","created_at":"2022-09-19T19:05:16Z","updated_at":"2022-09-19T22:58:14Z","pushed_at":"2025-02-05T00:30:37Z","git_url":"git://github.com/WweiL/oss-spark.git","ssh_url":"git@github.com:WweiL/oss-spark.git","clone_url":"https://github.com/WweiL/oss-spark.git","svn_url":"https://github.com/WweiL/oss-spark","homepage":"https://spark.apache.org/","size":431552,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"73aa144666834c4fc2af29a57149afe36be08fcc","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45380"},"html":{"href":"https://github.com/apache/spark/pull/45380"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45380"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45380/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45380/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45380/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/d939fc632e22890d89955c858cae0369bbe706ba"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45379","id":1755852496,"node_id":"PR_kwDOAQXtWs5oqC7Q","html_url":"https://github.com/apache/spark/pull/45379","diff_url":"https://github.com/apache/spark/pull/45379.diff","patch_url":"https://github.com/apache/spark/pull/45379.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45379","number":45379,"state":"closed","locked":false,"title":"[SPARK-47218] [SQL] XML: Changed SchemaOfXml to fail on DROPMALFORMED mode","user":{"login":"yhosny","id":132951652,"node_id":"U_kgDOB-yuZA","avatar_url":"https://avatars.githubusercontent.com/u/132951652?v=4","gravatar_id":"","url":"https://api.github.com/users/yhosny","html_url":"https://github.com/yhosny","followers_url":"https://api.github.com/users/yhosny/followers","following_url":"https://api.github.com/users/yhosny/following{/other_user}","gists_url":"https://api.github.com/users/yhosny/gists{/gist_id}","starred_url":"https://api.github.com/users/yhosny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yhosny/subscriptions","organizations_url":"https://api.github.com/users/yhosny/orgs","repos_url":"https://api.github.com/users/yhosny/repos","events_url":"https://api.github.com/users/yhosny/events{/privacy}","received_events_url":"https://api.github.com/users/yhosny/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nChanged schema_of_xml should fail with an error on DROPMALFORMED mode to avoid creating schemas out of invalid XML.\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nDROPMALFORMED parse mode imply silently dropping the malformed record. But SchemaOfXml is expected to return a schema and may not have a valid schema to return for a malformed record. So DROPMALFORMED cannot be supported..\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUnit test.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo.","created_at":"2024-03-05T01:22:13Z","updated_at":"2024-03-10T23:40:51Z","closed_at":"2024-03-10T23:40:24Z","merged_at":null,"merge_commit_sha":"22a5167b9faa68e821391966e6f66ad3263870e9","assignee":null,"assignees":[],"requested_reviewers":[{"login":"sandip-db","id":131817656,"node_id":"U_kgDOB9tguA","avatar_url":"https://avatars.githubusercontent.com/u/131817656?v=4","gravatar_id":"","url":"https://api.github.com/users/sandip-db","html_url":"https://github.com/sandip-db","followers_url":"https://api.github.com/users/sandip-db/followers","following_url":"https://api.github.com/users/sandip-db/following{/other_user}","gists_url":"https://api.github.com/users/sandip-db/gists{/gist_id}","starred_url":"https://api.github.com/users/sandip-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sandip-db/subscriptions","organizations_url":"https://api.github.com/users/sandip-db/orgs","repos_url":"https://api.github.com/users/sandip-db/repos","events_url":"https://api.github.com/users/sandip-db/events{/privacy}","received_events_url":"https://api.github.com/users/sandip-db/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45379/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45379/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45379/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/cb419e555c71ff1c8f35bad07679ef38148624ba","head":{"label":"yhosny:xml-parsemode-error","ref":"xml-parsemode-error","sha":"cb419e555c71ff1c8f35bad07679ef38148624ba","user":{"login":"yhosny","id":132951652,"node_id":"U_kgDOB-yuZA","avatar_url":"https://avatars.githubusercontent.com/u/132951652?v=4","gravatar_id":"","url":"https://api.github.com/users/yhosny","html_url":"https://github.com/yhosny","followers_url":"https://api.github.com/users/yhosny/followers","following_url":"https://api.github.com/users/yhosny/following{/other_user}","gists_url":"https://api.github.com/users/yhosny/gists{/gist_id}","starred_url":"https://api.github.com/users/yhosny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yhosny/subscriptions","organizations_url":"https://api.github.com/users/yhosny/orgs","repos_url":"https://api.github.com/users/yhosny/repos","events_url":"https://api.github.com/users/yhosny/events{/privacy}","received_events_url":"https://api.github.com/users/yhosny/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":764889667,"node_id":"R_kgDOLZdKQw","name":"spark","full_name":"yhosny/spark","private":false,"owner":{"login":"yhosny","id":132951652,"node_id":"U_kgDOB-yuZA","avatar_url":"https://avatars.githubusercontent.com/u/132951652?v=4","gravatar_id":"","url":"https://api.github.com/users/yhosny","html_url":"https://github.com/yhosny","followers_url":"https://api.github.com/users/yhosny/followers","following_url":"https://api.github.com/users/yhosny/following{/other_user}","gists_url":"https://api.github.com/users/yhosny/gists{/gist_id}","starred_url":"https://api.github.com/users/yhosny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yhosny/subscriptions","organizations_url":"https://api.github.com/users/yhosny/orgs","repos_url":"https://api.github.com/users/yhosny/repos","events_url":"https://api.github.com/users/yhosny/events{/privacy}","received_events_url":"https://api.github.com/users/yhosny/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/yhosny/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/yhosny/spark","forks_url":"https://api.github.com/repos/yhosny/spark/forks","keys_url":"https://api.github.com/repos/yhosny/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/yhosny/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/yhosny/spark/teams","hooks_url":"https://api.github.com/repos/yhosny/spark/hooks","issue_events_url":"https://api.github.com/repos/yhosny/spark/issues/events{/number}","events_url":"https://api.github.com/repos/yhosny/spark/events","assignees_url":"https://api.github.com/repos/yhosny/spark/assignees{/user}","branches_url":"https://api.github.com/repos/yhosny/spark/branches{/branch}","tags_url":"https://api.github.com/repos/yhosny/spark/tags","blobs_url":"https://api.github.com/repos/yhosny/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/yhosny/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/yhosny/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/yhosny/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/yhosny/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/yhosny/spark/languages","stargazers_url":"https://api.github.com/repos/yhosny/spark/stargazers","contributors_url":"https://api.github.com/repos/yhosny/spark/contributors","subscribers_url":"https://api.github.com/repos/yhosny/spark/subscribers","subscription_url":"https://api.github.com/repos/yhosny/spark/subscription","commits_url":"https://api.github.com/repos/yhosny/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/yhosny/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/yhosny/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/yhosny/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/yhosny/spark/contents/{+path}","compare_url":"https://api.github.com/repos/yhosny/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/yhosny/spark/merges","archive_url":"https://api.github.com/repos/yhosny/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/yhosny/spark/downloads","issues_url":"https://api.github.com/repos/yhosny/spark/issues{/number}","pulls_url":"https://api.github.com/repos/yhosny/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/yhosny/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/yhosny/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/yhosny/spark/labels{/name}","releases_url":"https://api.github.com/repos/yhosny/spark/releases{/id}","deployments_url":"https://api.github.com/repos/yhosny/spark/deployments","created_at":"2024-02-28T22:26:53Z","updated_at":"2024-09-11T23:45:14Z","pushed_at":"2024-09-11T23:42:03Z","git_url":"git://github.com/yhosny/spark.git","ssh_url":"git@github.com:yhosny/spark.git","clone_url":"https://github.com/yhosny/spark.git","svn_url":"https://github.com/yhosny/spark","homepage":"https://spark.apache.org/","size":407607,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"73aa144666834c4fc2af29a57149afe36be08fcc","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45379"},"html":{"href":"https://github.com/apache/spark/pull/45379"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45379"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45379/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45379/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45379/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/cb419e555c71ff1c8f35bad07679ef38148624ba"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45378","id":1755849259,"node_id":"PR_kwDOAQXtWs5oqCIr","html_url":"https://github.com/apache/spark/pull/45378","diff_url":"https://github.com/apache/spark/pull/45378.diff","patch_url":"https://github.com/apache/spark/pull/45378.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45378","number":45378,"state":"closed","locked":false,"title":"[SPARK-47276][PYTHON][CONNECT] Introduce `spark.profile.clear` for SparkSession-based profiling","user":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nIntroduce `spark.profile.clear` for SparkSession-based profiling.\r\n\r\n### Why are the changes needed?\r\nA straightforward and unified interface for managing and resetting profiling results for SparkSession-based profilers.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes. `spark.profile.clear` is supported as shown below.\r\n\r\nPreparation:\r\n```py\r\n>>> from pyspark.sql.functions import pandas_udf\r\n>>> df = spark.range(3)\r\n>>> @pandas_udf(\"long\")\r\n... def add1(x):\r\n...   return x + 1\r\n... \r\n>>> added = df.select(add1(\"id\"))\r\n>>> spark.conf.set(\"spark.sql.pyspark.udf.profiler\", \"perf\")\r\n>>> added.show()\r\n+--------+                                                                      \r\n|add1(id)|\r\n+--------+\r\n...\r\n+--------+\r\n>>> spark.profile.show()\r\n============================================================\r\nProfile of UDF<id=2>\r\n============================================================\r\n         1410 function calls (1374 primitive calls) in 0.004 seconds\r\n...\r\n```\r\n\r\nExample usage:\r\n```py\r\n>>> spark.profile.profiler_collector._profile_results\r\n{2: (<pstats.Stats object at 0x7ff6484d22e0>, None)}\r\n\r\n>>> spark.profile.clear(1)  # id mismatch\r\n>>> spark.profile.profiler_collector._profile_results\r\n{2: (<pstats.Stats object at 0x7ff6484d22e0>, None)}\r\n\r\n>>> spark.profile.clear(type=\"memory\")  # type mismatch\r\n>>> spark.profile.profiler_collector._profile_results\r\n{2: (<pstats.Stats object at 0x7ff6484d22e0>, None)}\r\n\r\n>>> spark.profile.clear()  # clear all\r\n>>> spark.profile.profiler_collector._profile_results\r\n{}\r\n>>> spark.profile.show()\r\n>>> \r\n```\r\n\r\n### How was this patch tested?\r\nUnit tests.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-03-05T01:17:43Z","updated_at":"2024-03-07T21:22:08Z","closed_at":"2024-03-07T21:20:50Z","merged_at":null,"merge_commit_sha":"006fcf39b8bcaabe697cf56c7484169f1d63f714","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45378/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45378/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45378/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3de5afbb4fa7d6f1793b65c47983c70c52b8c9d2","head":{"label":"xinrong-meng:profile_clear","ref":"profile_clear","sha":"3de5afbb4fa7d6f1793b65c47983c70c52b8c9d2","user":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":335786381,"node_id":"MDEwOlJlcG9zaXRvcnkzMzU3ODYzODE=","name":"spark","full_name":"xinrong-meng/spark","private":false,"owner":{"login":"xinrong-meng","id":47337188,"node_id":"MDQ6VXNlcjQ3MzM3MTg4","avatar_url":"https://avatars.githubusercontent.com/u/47337188?v=4","gravatar_id":"","url":"https://api.github.com/users/xinrong-meng","html_url":"https://github.com/xinrong-meng","followers_url":"https://api.github.com/users/xinrong-meng/followers","following_url":"https://api.github.com/users/xinrong-meng/following{/other_user}","gists_url":"https://api.github.com/users/xinrong-meng/gists{/gist_id}","starred_url":"https://api.github.com/users/xinrong-meng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinrong-meng/subscriptions","organizations_url":"https://api.github.com/users/xinrong-meng/orgs","repos_url":"https://api.github.com/users/xinrong-meng/repos","events_url":"https://api.github.com/users/xinrong-meng/events{/privacy}","received_events_url":"https://api.github.com/users/xinrong-meng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/xinrong-meng/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/xinrong-meng/spark","forks_url":"https://api.github.com/repos/xinrong-meng/spark/forks","keys_url":"https://api.github.com/repos/xinrong-meng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xinrong-meng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xinrong-meng/spark/teams","hooks_url":"https://api.github.com/repos/xinrong-meng/spark/hooks","issue_events_url":"https://api.github.com/repos/xinrong-meng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/xinrong-meng/spark/events","assignees_url":"https://api.github.com/repos/xinrong-meng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/xinrong-meng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/xinrong-meng/spark/tags","blobs_url":"https://api.github.com/repos/xinrong-meng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xinrong-meng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xinrong-meng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/xinrong-meng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xinrong-meng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/xinrong-meng/spark/languages","stargazers_url":"https://api.github.com/repos/xinrong-meng/spark/stargazers","contributors_url":"https://api.github.com/repos/xinrong-meng/spark/contributors","subscribers_url":"https://api.github.com/repos/xinrong-meng/spark/subscribers","subscription_url":"https://api.github.com/repos/xinrong-meng/spark/subscription","commits_url":"https://api.github.com/repos/xinrong-meng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/xinrong-meng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/xinrong-meng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/xinrong-meng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/xinrong-meng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/xinrong-meng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xinrong-meng/spark/merges","archive_url":"https://api.github.com/repos/xinrong-meng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xinrong-meng/spark/downloads","issues_url":"https://api.github.com/repos/xinrong-meng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/xinrong-meng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/xinrong-meng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/xinrong-meng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xinrong-meng/spark/labels{/name}","releases_url":"https://api.github.com/repos/xinrong-meng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/xinrong-meng/spark/deployments","created_at":"2021-02-03T23:47:29Z","updated_at":"2024-09-27T08:09:06Z","pushed_at":"2025-02-08T02:14:33Z","git_url":"git://github.com/xinrong-meng/spark.git","ssh_url":"git@github.com:xinrong-meng/spark.git","clone_url":"https://github.com/xinrong-meng/spark.git","svn_url":"https://github.com/xinrong-meng/spark","homepage":"https://spark.apache.org/","size":469811,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":2,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"73aa144666834c4fc2af29a57149afe36be08fcc","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45378"},"html":{"href":"https://github.com/apache/spark/pull/45378"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45378"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45378/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45378/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45378/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3de5afbb4fa7d6f1793b65c47983c70c52b8c9d2"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45377","id":1755820371,"node_id":"PR_kwDOAQXtWs5op7FT","html_url":"https://github.com/apache/spark/pull/45377","diff_url":"https://github.com/apache/spark/pull/45377.diff","patch_url":"https://github.com/apache/spark/pull/45377.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45377","number":45377,"state":"closed","locked":false,"title":"[SPARK-47274][PYTHON][SQL] Provide more useful context for PySpark DataFrame API errors","user":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR introduces an enhancement to the error messages generated by PySpark's DataFrame API, adding detailed context about the location within the user's PySpark code where the error occurred.\r\n\r\nThis directly adds a PySpark user call site information into `DataFrameQueryContext` added from https://github.com/apache/spark/pull/43334, aiming to provide PySpark users with the same level of detailed error context for better usability and debugging efficiency for DataFrame APIs.\r\n\r\nThis PR also introduces `QueryContext.pysparkCallSite` and `QueryContext.pysparkFragment` to get a PySpark information from the query context easily.\r\n\r\nThis PR also enhances the functionality of `check_error` so that it can test the query context if it exists.\r\n\r\n### Why are the changes needed?\r\n\r\nTo improve a debuggability. Errors originating from PySpark operations can be difficult to debug with limited context in the error messages. While improvements on the JVM side have been made to offer detailed error contexts, PySpark errors often lack this level of detail. \r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo API changes, but error messages will include a reference to the exact line of user code that triggered the error, in addition to the existing descriptive error message.\r\n\r\nFor example, consider the following PySpark code snippet that triggers a `DIVIDE_BY_ZERO` error:\r\n\r\n```python\r\n1  spark.conf.set(\"spark.sql.ansi.enabled\", True)\r\n2  \r\n3  df = spark.range(10)\r\n4  df.select(df.id / 0).show()\r\n```\r\n\r\n**Before:**\r\n```\r\npyspark.errors.exceptions.captured.ArithmeticException: [DIVIDE_BY_ZERO] Division by zero. Use `try_divide` to tolerate divisor being 0 and return NULL instead. If necessary set \"spark.sql.ansi.enabled\" to \"false\" to bypass this error. SQLSTATE: 22012\r\n== DataFrame ==\r\n\"divide\" was called from\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n```\r\n\r\n**After:**\r\n```\r\npyspark.errors.exceptions.captured.ArithmeticException: [DIVIDE_BY_ZERO] Division by zero. Use `try_divide` to tolerate divisor being 0 and return NULL instead. If necessary set \"spark.sql.ansi.enabled\" to \"false\" to bypass this error. SQLSTATE: 22012\r\n== DataFrame ==\r\n\"divide\" was called from\r\n/.../spark/python/test_pyspark_error.py:4\r\n```\r\n\r\nNow the error message points out the exact problematic code path with file name and line number that user writes.\r\n\r\n## Points to the actual problem site instead of the site where the action was called\r\n\r\nEven when action calling after multiple transform operations are mixed, the exact problematic site can be provided to the user:\r\n\r\n**In:**\r\n\r\n```python\r\n  1 spark.conf.set(\"spark.sql.ansi.enabled\", True)\r\n  2 df = spark.range(10)\r\n  3\r\n  4 df1 = df.withColumn(\"div_ten\", df.id / 10)\r\n  5 df2 = df1.withColumn(\"plus_four\", df.id + 4)\r\n  6\r\n  7 # This is problematic divide operation that occurs DIVIDE_BY_ZERO.\r\n  8 df3 = df2.withColumn(\"div_zero\", df.id / 0)\r\n  9 df4 = df3.withColumn(\"minus_five\", df.id / 5)\r\n 10\r\n 11 df4.collect()\r\n```\r\n\r\n**Out:**\r\n\r\n```\r\npyspark.errors.exceptions.captured.ArithmeticException: [DIVIDE_BY_ZERO] Division by zero. Use `try_divide` to tolerate divisor being 0 and return NULL instead. If necessary set \"spark.sql.ansi.enabled\" to \"false\" to bypass this error. SQLSTATE: 22012\r\n== DataFrame ==\r\n\"divide\" was called from\r\n/.../spark/python/test_pyspark_error.py:8\r\n```\r\n\r\n\r\n### How was this patch tested?\r\n\r\nAdded UTs.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.\r\n","created_at":"2024-03-05T00:37:46Z","updated_at":"2024-08-08T18:09:14Z","closed_at":"2024-04-11T01:41:36Z","merged_at":null,"merge_commit_sha":"51d410c63187746d721bf0def3861f5edcc58d59","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45377/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45377/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45377/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/1dd53ed7d0104f3ad67453c48b8a8d6b557fb6e3","head":{"label":"itholic:error_context_for_dataframe_api","ref":"error_context_for_dataframe_api","sha":"1dd53ed7d0104f3ad67453c48b8a8d6b557fb6e3","user":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":445423122,"node_id":"R_kgDOGoyeEg","name":"spark","full_name":"itholic/spark","private":false,"owner":{"login":"itholic","id":44108233,"node_id":"MDQ6VXNlcjQ0MTA4MjMz","avatar_url":"https://avatars.githubusercontent.com/u/44108233?v=4","gravatar_id":"","url":"https://api.github.com/users/itholic","html_url":"https://github.com/itholic","followers_url":"https://api.github.com/users/itholic/followers","following_url":"https://api.github.com/users/itholic/following{/other_user}","gists_url":"https://api.github.com/users/itholic/gists{/gist_id}","starred_url":"https://api.github.com/users/itholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itholic/subscriptions","organizations_url":"https://api.github.com/users/itholic/orgs","repos_url":"https://api.github.com/users/itholic/repos","events_url":"https://api.github.com/users/itholic/events{/privacy}","received_events_url":"https://api.github.com/users/itholic/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/itholic/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/itholic/spark","forks_url":"https://api.github.com/repos/itholic/spark/forks","keys_url":"https://api.github.com/repos/itholic/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/itholic/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/itholic/spark/teams","hooks_url":"https://api.github.com/repos/itholic/spark/hooks","issue_events_url":"https://api.github.com/repos/itholic/spark/issues/events{/number}","events_url":"https://api.github.com/repos/itholic/spark/events","assignees_url":"https://api.github.com/repos/itholic/spark/assignees{/user}","branches_url":"https://api.github.com/repos/itholic/spark/branches{/branch}","tags_url":"https://api.github.com/repos/itholic/spark/tags","blobs_url":"https://api.github.com/repos/itholic/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/itholic/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/itholic/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/itholic/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/itholic/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/itholic/spark/languages","stargazers_url":"https://api.github.com/repos/itholic/spark/stargazers","contributors_url":"https://api.github.com/repos/itholic/spark/contributors","subscribers_url":"https://api.github.com/repos/itholic/spark/subscribers","subscription_url":"https://api.github.com/repos/itholic/spark/subscription","commits_url":"https://api.github.com/repos/itholic/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/itholic/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/itholic/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/itholic/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/itholic/spark/contents/{+path}","compare_url":"https://api.github.com/repos/itholic/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/itholic/spark/merges","archive_url":"https://api.github.com/repos/itholic/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/itholic/spark/downloads","issues_url":"https://api.github.com/repos/itholic/spark/issues{/number}","pulls_url":"https://api.github.com/repos/itholic/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/itholic/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/itholic/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/itholic/spark/labels{/name}","releases_url":"https://api.github.com/repos/itholic/spark/releases{/id}","deployments_url":"https://api.github.com/repos/itholic/spark/deployments","created_at":"2022-01-07T06:35:10Z","updated_at":"2025-01-23T06:13:52Z","pushed_at":"2025-01-23T06:47:35Z","git_url":"git://github.com/itholic/spark.git","ssh_url":"git@github.com:itholic/spark.git","clone_url":"https://github.com/itholic/spark.git","svn_url":"https://github.com/itholic/spark","homepage":"https://spark.apache.org/","size":459393,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ec509b49dcaa21d6dcdf18c1b40ac9d6df1827d7","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45377"},"html":{"href":"https://github.com/apache/spark/pull/45377"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45377"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45377/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45377/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45377/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/1dd53ed7d0104f3ad67453c48b8a8d6b557fb6e3"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45376","id":1755789098,"node_id":"PR_kwDOAQXtWs5opzcq","html_url":"https://github.com/apache/spark/pull/45376","diff_url":"https://github.com/apache/spark/pull/45376.diff","patch_url":"https://github.com/apache/spark/pull/45376.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45376","number":45376,"state":"closed","locked":false,"title":"[SPARK-47960][SS] Allow chaining other stateful operators after transformWithState operator.","user":{"login":"sahnib","id":4942359,"node_id":"MDQ6VXNlcjQ5NDIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/4942359?v=4","gravatar_id":"","url":"https://api.github.com/users/sahnib","html_url":"https://github.com/sahnib","followers_url":"https://api.github.com/users/sahnib/followers","following_url":"https://api.github.com/users/sahnib/following{/other_user}","gists_url":"https://api.github.com/users/sahnib/gists{/gist_id}","starred_url":"https://api.github.com/users/sahnib/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sahnib/subscriptions","organizations_url":"https://api.github.com/users/sahnib/orgs","repos_url":"https://api.github.com/users/sahnib/repos","events_url":"https://api.github.com/users/sahnib/events{/privacy}","received_events_url":"https://api.github.com/users/sahnib/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis PR adds support to define event time column in the output dataset of `TransformWithState` operator. The new event time column will be used to evaluate watermark expressions in downstream operators. \r\n\r\n1. Note that the transformWithState operator does not enforce that values generated by user's computation adhere to the watermark semantics. (no output rows are generated which have event time less than watermark). \r\n2. Updated the watermark value passed in TimerInfo as evictionWatermark, rather than lateEventsWatermark. \r\n3. Ensure that event time column can only be defined in output if a watermark has been defined previously. \r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  5. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nThis change is required to support chaining of stateful operators after `transformWithState`. Event time column is required to evaluate watermark expressions in downstream stateful operators. \r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes. Adds a new version of transformWithState API which allows redefining the event time column. \r\n\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nAdded unit test cases. \r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo\r\n","created_at":"2024-03-04T23:59:44Z","updated_at":"2024-05-08T15:05:33Z","closed_at":"2024-05-08T00:20:08Z","merged_at":null,"merge_commit_sha":"7edbbb6948d48bcc5c7029716f93fd4ceb9a03b3","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45376/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45376/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45376/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/f64e3921f3480a9bd5b9930859e910c5cbb39b8b","head":{"label":"sahnib:tws-chaining-stateful-operators","ref":"tws-chaining-stateful-operators","sha":"f64e3921f3480a9bd5b9930859e910c5cbb39b8b","user":{"login":"sahnib","id":4942359,"node_id":"MDQ6VXNlcjQ5NDIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/4942359?v=4","gravatar_id":"","url":"https://api.github.com/users/sahnib","html_url":"https://github.com/sahnib","followers_url":"https://api.github.com/users/sahnib/followers","following_url":"https://api.github.com/users/sahnib/following{/other_user}","gists_url":"https://api.github.com/users/sahnib/gists{/gist_id}","starred_url":"https://api.github.com/users/sahnib/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sahnib/subscriptions","organizations_url":"https://api.github.com/users/sahnib/orgs","repos_url":"https://api.github.com/users/sahnib/repos","events_url":"https://api.github.com/users/sahnib/events{/privacy}","received_events_url":"https://api.github.com/users/sahnib/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":709074165,"node_id":"R_kgDOKkOc9Q","name":"spark","full_name":"sahnib/spark","private":false,"owner":{"login":"sahnib","id":4942359,"node_id":"MDQ6VXNlcjQ5NDIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/4942359?v=4","gravatar_id":"","url":"https://api.github.com/users/sahnib","html_url":"https://github.com/sahnib","followers_url":"https://api.github.com/users/sahnib/followers","following_url":"https://api.github.com/users/sahnib/following{/other_user}","gists_url":"https://api.github.com/users/sahnib/gists{/gist_id}","starred_url":"https://api.github.com/users/sahnib/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sahnib/subscriptions","organizations_url":"https://api.github.com/users/sahnib/orgs","repos_url":"https://api.github.com/users/sahnib/repos","events_url":"https://api.github.com/users/sahnib/events{/privacy}","received_events_url":"https://api.github.com/users/sahnib/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sahnib/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/sahnib/spark","forks_url":"https://api.github.com/repos/sahnib/spark/forks","keys_url":"https://api.github.com/repos/sahnib/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sahnib/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sahnib/spark/teams","hooks_url":"https://api.github.com/repos/sahnib/spark/hooks","issue_events_url":"https://api.github.com/repos/sahnib/spark/issues/events{/number}","events_url":"https://api.github.com/repos/sahnib/spark/events","assignees_url":"https://api.github.com/repos/sahnib/spark/assignees{/user}","branches_url":"https://api.github.com/repos/sahnib/spark/branches{/branch}","tags_url":"https://api.github.com/repos/sahnib/spark/tags","blobs_url":"https://api.github.com/repos/sahnib/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sahnib/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sahnib/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/sahnib/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sahnib/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/sahnib/spark/languages","stargazers_url":"https://api.github.com/repos/sahnib/spark/stargazers","contributors_url":"https://api.github.com/repos/sahnib/spark/contributors","subscribers_url":"https://api.github.com/repos/sahnib/spark/subscribers","subscription_url":"https://api.github.com/repos/sahnib/spark/subscription","commits_url":"https://api.github.com/repos/sahnib/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/sahnib/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/sahnib/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/sahnib/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/sahnib/spark/contents/{+path}","compare_url":"https://api.github.com/repos/sahnib/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sahnib/spark/merges","archive_url":"https://api.github.com/repos/sahnib/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sahnib/spark/downloads","issues_url":"https://api.github.com/repos/sahnib/spark/issues{/number}","pulls_url":"https://api.github.com/repos/sahnib/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/sahnib/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/sahnib/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sahnib/spark/labels{/name}","releases_url":"https://api.github.com/repos/sahnib/spark/releases{/id}","deployments_url":"https://api.github.com/repos/sahnib/spark/deployments","created_at":"2023-10-24T00:44:23Z","updated_at":"2024-10-17T04:06:25Z","pushed_at":"2024-10-17T04:06:19Z","git_url":"git://github.com/sahnib/spark.git","ssh_url":"git@github.com:sahnib/spark.git","clone_url":"https://github.com/sahnib/spark.git","svn_url":"https://github.com/sahnib/spark","homepage":"https://spark.apache.org/","size":413390,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"526e4141457d45e1c0d75b9cdfb1072a32a44d70","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45376"},"html":{"href":"https://github.com/apache/spark/pull/45376"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45376"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45376/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45376/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45376/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/f64e3921f3480a9bd5b9930859e910c5cbb39b8b"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45375","id":1755539012,"node_id":"PR_kwDOAQXtWs5oo2ZE","html_url":"https://github.com/apache/spark/pull/45375","diff_url":"https://github.com/apache/spark/pull/45375.diff","patch_url":"https://github.com/apache/spark/pull/45375.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45375","number":45375,"state":"closed","locked":false,"title":"[SPARK-44746][PYTHON] Add more Python UDTF documentation for functions that accept input tables","user":{"login":"dtenedor","id":99207096,"node_id":"U_kgDOBenHuA","avatar_url":"https://avatars.githubusercontent.com/u/99207096?v=4","gravatar_id":"","url":"https://api.github.com/users/dtenedor","html_url":"https://github.com/dtenedor","followers_url":"https://api.github.com/users/dtenedor/followers","following_url":"https://api.github.com/users/dtenedor/following{/other_user}","gists_url":"https://api.github.com/users/dtenedor/gists{/gist_id}","starred_url":"https://api.github.com/users/dtenedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dtenedor/subscriptions","organizations_url":"https://api.github.com/users/dtenedor/orgs","repos_url":"https://api.github.com/users/dtenedor/repos","events_url":"https://api.github.com/users/dtenedor/events{/privacy}","received_events_url":"https://api.github.com/users/dtenedor/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR adds more Python UDTF documentation for functions that accept input tables.\r\n\r\n### Why are the changes needed?\r\n\r\nThis functionality was added recently but not covered in docs yet.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo, it's a documentation-only change.\r\n\r\n### How was this patch tested?\r\n\r\nN/A\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo","created_at":"2024-03-04T20:58:18Z","updated_at":"2024-03-06T00:09:02Z","closed_at":"2024-03-06T00:09:02Z","merged_at":null,"merge_commit_sha":"e3811371d1040d90e7acd382a2121d3956744a4c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1496047285,"node_id":"MDU6TGFiZWwxNDk2MDQ3Mjg1","url":"https://api.github.com/repos/apache/spark/labels/EXAMPLES","name":"EXAMPLES","color":"ededed","default":false,"description":""},{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45375/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45375/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45375/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/70fc86478fc4d9a5a94e9338c9e9420279b57d45","head":{"label":"dtenedor:update-udtf-docs","ref":"update-udtf-docs","sha":"70fc86478fc4d9a5a94e9338c9e9420279b57d45","user":{"login":"dtenedor","id":99207096,"node_id":"U_kgDOBenHuA","avatar_url":"https://avatars.githubusercontent.com/u/99207096?v=4","gravatar_id":"","url":"https://api.github.com/users/dtenedor","html_url":"https://github.com/dtenedor","followers_url":"https://api.github.com/users/dtenedor/followers","following_url":"https://api.github.com/users/dtenedor/following{/other_user}","gists_url":"https://api.github.com/users/dtenedor/gists{/gist_id}","starred_url":"https://api.github.com/users/dtenedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dtenedor/subscriptions","organizations_url":"https://api.github.com/users/dtenedor/orgs","repos_url":"https://api.github.com/users/dtenedor/repos","events_url":"https://api.github.com/users/dtenedor/events{/privacy}","received_events_url":"https://api.github.com/users/dtenedor/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":592933002,"node_id":"R_kgDOI1dwig","name":"spark","full_name":"dtenedor/spark","private":false,"owner":{"login":"dtenedor","id":99207096,"node_id":"U_kgDOBenHuA","avatar_url":"https://avatars.githubusercontent.com/u/99207096?v=4","gravatar_id":"","url":"https://api.github.com/users/dtenedor","html_url":"https://github.com/dtenedor","followers_url":"https://api.github.com/users/dtenedor/followers","following_url":"https://api.github.com/users/dtenedor/following{/other_user}","gists_url":"https://api.github.com/users/dtenedor/gists{/gist_id}","starred_url":"https://api.github.com/users/dtenedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dtenedor/subscriptions","organizations_url":"https://api.github.com/users/dtenedor/orgs","repos_url":"https://api.github.com/users/dtenedor/repos","events_url":"https://api.github.com/users/dtenedor/events{/privacy}","received_events_url":"https://api.github.com/users/dtenedor/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dtenedor/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/dtenedor/spark","forks_url":"https://api.github.com/repos/dtenedor/spark/forks","keys_url":"https://api.github.com/repos/dtenedor/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dtenedor/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dtenedor/spark/teams","hooks_url":"https://api.github.com/repos/dtenedor/spark/hooks","issue_events_url":"https://api.github.com/repos/dtenedor/spark/issues/events{/number}","events_url":"https://api.github.com/repos/dtenedor/spark/events","assignees_url":"https://api.github.com/repos/dtenedor/spark/assignees{/user}","branches_url":"https://api.github.com/repos/dtenedor/spark/branches{/branch}","tags_url":"https://api.github.com/repos/dtenedor/spark/tags","blobs_url":"https://api.github.com/repos/dtenedor/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dtenedor/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dtenedor/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/dtenedor/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dtenedor/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/dtenedor/spark/languages","stargazers_url":"https://api.github.com/repos/dtenedor/spark/stargazers","contributors_url":"https://api.github.com/repos/dtenedor/spark/contributors","subscribers_url":"https://api.github.com/repos/dtenedor/spark/subscribers","subscription_url":"https://api.github.com/repos/dtenedor/spark/subscription","commits_url":"https://api.github.com/repos/dtenedor/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/dtenedor/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/dtenedor/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/dtenedor/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/dtenedor/spark/contents/{+path}","compare_url":"https://api.github.com/repos/dtenedor/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dtenedor/spark/merges","archive_url":"https://api.github.com/repos/dtenedor/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dtenedor/spark/downloads","issues_url":"https://api.github.com/repos/dtenedor/spark/issues{/number}","pulls_url":"https://api.github.com/repos/dtenedor/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/dtenedor/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/dtenedor/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dtenedor/spark/labels{/name}","releases_url":"https://api.github.com/repos/dtenedor/spark/releases{/id}","deployments_url":"https://api.github.com/repos/dtenedor/spark/deployments","created_at":"2023-01-24T21:00:57Z","updated_at":"2025-01-17T22:49:32Z","pushed_at":"2025-01-17T22:48:49Z","git_url":"git://github.com/dtenedor/spark.git","ssh_url":"git@github.com:dtenedor/spark.git","clone_url":"https://github.com/dtenedor/spark.git","svn_url":"https://github.com/dtenedor/spark","homepage":"https://spark.apache.org/","size":423104,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"35bced42474e3221cf61d13a142c3c5470df1f22","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45375"},"html":{"href":"https://github.com/apache/spark/pull/45375"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45375"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45375/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45375/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45375/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/70fc86478fc4d9a5a94e9338c9e9420279b57d45"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45374","id":1755038598,"node_id":"PR_kwDOAQXtWs5om8OG","html_url":"https://github.com/apache/spark/pull/45374","diff_url":"https://github.com/apache/spark/pull/45374.diff","patch_url":"https://github.com/apache/spark/pull/45374.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45374","number":45374,"state":"closed","locked":false,"title":"[SPARK-47271][DOCS] Explain importance of statistics on SQL performance tuning page","user":{"login":"nchammas","id":1039369,"node_id":"MDQ6VXNlcjEwMzkzNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1039369?v=4","gravatar_id":"","url":"https://api.github.com/users/nchammas","html_url":"https://github.com/nchammas","followers_url":"https://api.github.com/users/nchammas/followers","following_url":"https://api.github.com/users/nchammas/following{/other_user}","gists_url":"https://api.github.com/users/nchammas/gists{/gist_id}","starred_url":"https://api.github.com/users/nchammas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nchammas/subscriptions","organizations_url":"https://api.github.com/users/nchammas/orgs","repos_url":"https://api.github.com/users/nchammas/repos","events_url":"https://api.github.com/users/nchammas/events{/privacy}","received_events_url":"https://api.github.com/users/nchammas/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nAdd a new section to the SQL performance tuning page on statistics.\r\n\r\nTweak some related documentation relevant to this new section.\r\n\r\n### Why are the changes needed?\r\n\r\nStatistics are a basic and critical part of how Spark optimizes queries and achieves high performance. Yet, they receive no discussion in our performance tuning guide.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nYes, new user-facing documentation.\r\n\r\n<img width=\"500\" src=\"https://github.com/apache/spark/assets/1039369/a5fef3dd-1015-41c6-9dd7-b9f2952b32ef\" />\r\n\r\n### How was this patch tested?\r\n\r\nBuilt and reviewed the docs locally.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.","created_at":"2024-03-04T15:59:14Z","updated_at":"2024-03-07T01:12:37Z","closed_at":"2024-03-06T23:51:43Z","merged_at":null,"merge_commit_sha":"9b77f871853a2c4a0f287592ea64e7b6334ca2c3","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45374/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45374/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45374/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/7ddd0d8ff424feb1985e358e67b0687418080956","head":{"label":"nchammas:SPARK-47271-perf-stats","ref":"SPARK-47271-perf-stats","sha":"7ddd0d8ff424feb1985e358e67b0687418080956","user":{"login":"nchammas","id":1039369,"node_id":"MDQ6VXNlcjEwMzkzNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1039369?v=4","gravatar_id":"","url":"https://api.github.com/users/nchammas","html_url":"https://github.com/nchammas","followers_url":"https://api.github.com/users/nchammas/followers","following_url":"https://api.github.com/users/nchammas/following{/other_user}","gists_url":"https://api.github.com/users/nchammas/gists{/gist_id}","starred_url":"https://api.github.com/users/nchammas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nchammas/subscriptions","organizations_url":"https://api.github.com/users/nchammas/orgs","repos_url":"https://api.github.com/users/nchammas/repos","events_url":"https://api.github.com/users/nchammas/events{/privacy}","received_events_url":"https://api.github.com/users/nchammas/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":23797421,"node_id":"MDEwOlJlcG9zaXRvcnkyMzc5NzQyMQ==","name":"spark","full_name":"nchammas/spark","private":false,"owner":{"login":"nchammas","id":1039369,"node_id":"MDQ6VXNlcjEwMzkzNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1039369?v=4","gravatar_id":"","url":"https://api.github.com/users/nchammas","html_url":"https://github.com/nchammas","followers_url":"https://api.github.com/users/nchammas/followers","following_url":"https://api.github.com/users/nchammas/following{/other_user}","gists_url":"https://api.github.com/users/nchammas/gists{/gist_id}","starred_url":"https://api.github.com/users/nchammas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nchammas/subscriptions","organizations_url":"https://api.github.com/users/nchammas/orgs","repos_url":"https://api.github.com/users/nchammas/repos","events_url":"https://api.github.com/users/nchammas/events{/privacy}","received_events_url":"https://api.github.com/users/nchammas/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/nchammas/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/nchammas/spark","forks_url":"https://api.github.com/repos/nchammas/spark/forks","keys_url":"https://api.github.com/repos/nchammas/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/nchammas/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/nchammas/spark/teams","hooks_url":"https://api.github.com/repos/nchammas/spark/hooks","issue_events_url":"https://api.github.com/repos/nchammas/spark/issues/events{/number}","events_url":"https://api.github.com/repos/nchammas/spark/events","assignees_url":"https://api.github.com/repos/nchammas/spark/assignees{/user}","branches_url":"https://api.github.com/repos/nchammas/spark/branches{/branch}","tags_url":"https://api.github.com/repos/nchammas/spark/tags","blobs_url":"https://api.github.com/repos/nchammas/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/nchammas/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/nchammas/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/nchammas/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/nchammas/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/nchammas/spark/languages","stargazers_url":"https://api.github.com/repos/nchammas/spark/stargazers","contributors_url":"https://api.github.com/repos/nchammas/spark/contributors","subscribers_url":"https://api.github.com/repos/nchammas/spark/subscribers","subscription_url":"https://api.github.com/repos/nchammas/spark/subscription","commits_url":"https://api.github.com/repos/nchammas/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/nchammas/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/nchammas/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/nchammas/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/nchammas/spark/contents/{+path}","compare_url":"https://api.github.com/repos/nchammas/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/nchammas/spark/merges","archive_url":"https://api.github.com/repos/nchammas/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/nchammas/spark/downloads","issues_url":"https://api.github.com/repos/nchammas/spark/issues{/number}","pulls_url":"https://api.github.com/repos/nchammas/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/nchammas/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/nchammas/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/nchammas/spark/labels{/name}","releases_url":"https://api.github.com/repos/nchammas/spark/releases{/id}","deployments_url":"https://api.github.com/repos/nchammas/spark/deployments","created_at":"2014-09-08T15:54:13Z","updated_at":"2025-02-05T15:21:28Z","pushed_at":"2025-02-06T16:36:27Z","git_url":"git://github.com/nchammas/spark.git","ssh_url":"git@github.com:nchammas/spark.git","clone_url":"https://github.com/nchammas/spark.git","svn_url":"https://github.com/nchammas/spark","homepage":null,"size":427630,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ca7c60b49988b62c9b614967047a00f256097e5c","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45374"},"html":{"href":"https://github.com/apache/spark/pull/45374"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45374"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45374/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45374/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45374/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/7ddd0d8ff424feb1985e358e67b0687418080956"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45373","id":1754580156,"node_id":"PR_kwDOAQXtWs5olMS8","html_url":"https://github.com/apache/spark/pull/45373","diff_url":"https://github.com/apache/spark/pull/45373.diff","patch_url":"https://github.com/apache/spark/pull/45373.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45373","number":45373,"state":"closed","locked":false,"title":"[SPARK-47270][SQL] Dataset.isEmpty projects CommandResults locally","user":{"login":"wForget","id":17894939,"node_id":"MDQ6VXNlcjE3ODk0OTM5","avatar_url":"https://avatars.githubusercontent.com/u/17894939?v=4","gravatar_id":"","url":"https://api.github.com/users/wForget","html_url":"https://github.com/wForget","followers_url":"https://api.github.com/users/wForget/followers","following_url":"https://api.github.com/users/wForget/following{/other_user}","gists_url":"https://api.github.com/users/wForget/gists{/gist_id}","starred_url":"https://api.github.com/users/wForget/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wForget/subscriptions","organizations_url":"https://api.github.com/users/wForget/orgs","repos_url":"https://api.github.com/users/wForget/repos","events_url":"https://api.github.com/users/wForget/events{/privacy}","received_events_url":"https://api.github.com/users/wForget/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nSimilar to #40779, `Dataset.isEmpty` should also not trigger job execution on CommandResults.\r\n\r\nThis PR converts `CommandResult` to `LocalRelation` in `Dataset.isEmpty` method.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n\r\nA simple `spark.sql(\"show tables\").isEmpty` shouldn not require an executor.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\n\r\nNo\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\n\r\nAdded new UT.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo","created_at":"2024-03-04T12:01:58Z","updated_at":"2024-03-11T11:33:49Z","closed_at":"2024-03-11T11:33:49Z","merged_at":null,"merge_commit_sha":"e188c513e92589ae634b6c7848f9938a1dc56262","assignee":null,"assignees":[],"requested_reviewers":[{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45373/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45373/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45373/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/6b5210440a8a27601c155f91d17f135dcf96ed0d","head":{"label":"wForget:SPARK-47270","ref":"SPARK-47270","sha":"6b5210440a8a27601c155f91d17f135dcf96ed0d","user":{"login":"wForget","id":17894939,"node_id":"MDQ6VXNlcjE3ODk0OTM5","avatar_url":"https://avatars.githubusercontent.com/u/17894939?v=4","gravatar_id":"","url":"https://api.github.com/users/wForget","html_url":"https://github.com/wForget","followers_url":"https://api.github.com/users/wForget/followers","following_url":"https://api.github.com/users/wForget/following{/other_user}","gists_url":"https://api.github.com/users/wForget/gists{/gist_id}","starred_url":"https://api.github.com/users/wForget/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wForget/subscriptions","organizations_url":"https://api.github.com/users/wForget/orgs","repos_url":"https://api.github.com/users/wForget/repos","events_url":"https://api.github.com/users/wForget/events{/privacy}","received_events_url":"https://api.github.com/users/wForget/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":362712307,"node_id":"MDEwOlJlcG9zaXRvcnkzNjI3MTIzMDc=","name":"spark","full_name":"wForget/spark","private":false,"owner":{"login":"wForget","id":17894939,"node_id":"MDQ6VXNlcjE3ODk0OTM5","avatar_url":"https://avatars.githubusercontent.com/u/17894939?v=4","gravatar_id":"","url":"https://api.github.com/users/wForget","html_url":"https://github.com/wForget","followers_url":"https://api.github.com/users/wForget/followers","following_url":"https://api.github.com/users/wForget/following{/other_user}","gists_url":"https://api.github.com/users/wForget/gists{/gist_id}","starred_url":"https://api.github.com/users/wForget/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wForget/subscriptions","organizations_url":"https://api.github.com/users/wForget/orgs","repos_url":"https://api.github.com/users/wForget/repos","events_url":"https://api.github.com/users/wForget/events{/privacy}","received_events_url":"https://api.github.com/users/wForget/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/wForget/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/wForget/spark","forks_url":"https://api.github.com/repos/wForget/spark/forks","keys_url":"https://api.github.com/repos/wForget/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/wForget/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/wForget/spark/teams","hooks_url":"https://api.github.com/repos/wForget/spark/hooks","issue_events_url":"https://api.github.com/repos/wForget/spark/issues/events{/number}","events_url":"https://api.github.com/repos/wForget/spark/events","assignees_url":"https://api.github.com/repos/wForget/spark/assignees{/user}","branches_url":"https://api.github.com/repos/wForget/spark/branches{/branch}","tags_url":"https://api.github.com/repos/wForget/spark/tags","blobs_url":"https://api.github.com/repos/wForget/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/wForget/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/wForget/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/wForget/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/wForget/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/wForget/spark/languages","stargazers_url":"https://api.github.com/repos/wForget/spark/stargazers","contributors_url":"https://api.github.com/repos/wForget/spark/contributors","subscribers_url":"https://api.github.com/repos/wForget/spark/subscribers","subscription_url":"https://api.github.com/repos/wForget/spark/subscription","commits_url":"https://api.github.com/repos/wForget/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/wForget/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/wForget/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/wForget/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/wForget/spark/contents/{+path}","compare_url":"https://api.github.com/repos/wForget/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/wForget/spark/merges","archive_url":"https://api.github.com/repos/wForget/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/wForget/spark/downloads","issues_url":"https://api.github.com/repos/wForget/spark/issues{/number}","pulls_url":"https://api.github.com/repos/wForget/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/wForget/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/wForget/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/wForget/spark/labels{/name}","releases_url":"https://api.github.com/repos/wForget/spark/releases{/id}","deployments_url":"https://api.github.com/repos/wForget/spark/deployments","created_at":"2021-04-29T06:25:04Z","updated_at":"2024-03-28T10:35:46Z","pushed_at":"2024-07-31T02:49:44Z","git_url":"git://github.com/wForget/spark.git","ssh_url":"git@github.com:wForget/spark.git","clone_url":"https://github.com/wForget/spark.git","svn_url":"https://github.com/wForget/spark","homepage":"https://spark.apache.org/","size":445315,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"b711efd6671a4b55cb123f351840ddefc3aca5aa","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45373"},"html":{"href":"https://github.com/apache/spark/pull/45373"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45373"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45373/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45373/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45373/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/6b5210440a8a27601c155f91d17f135dcf96ed0d"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45372","id":1754566284,"node_id":"PR_kwDOAQXtWs5olI6M","html_url":"https://github.com/apache/spark/pull/45372","diff_url":"https://github.com/apache/spark/pull/45372.diff","patch_url":"https://github.com/apache/spark/pull/45372.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45372","number":45372,"state":"closed","locked":false,"title":"[DRAFT][BUILD] Test upgrading built-in Hive to 2.3.10","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nThis PR aims to do a pre-test before the Apache Hive 2.3.10 official release, it includes\r\n\r\n- [x] it should unblock Spark to upgrade to Guava 32+\r\n- [x] it should unblock Spark to upgrade to Thrift 0.16+\r\n- [x] it should allow Spark to drop Jackson 1.x while Hive UDF still works well\r\n- [x] it should allow Spark to drop `javax.servlet`(https://github.com/apache/hive/pull/5114)\r\n- [x] it should allow Spark to get rid of the low version of jodd which is affected by CVEs (https://github.com/apache/hive/pull/5151)\r\n- [x] it should allow Spark to drop `commons-lang:2.6`\r\n\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nIntegration test of Hive 2.3.10 RC1 https://lists.apache.org/thread/3ton9oxlkkb1v7tbqqw1rhjpz9y8ymv5\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nNo.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nPass GA.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo","created_at":"2024-03-04T11:54:27Z","updated_at":"2024-05-10T04:31:53Z","closed_at":"2024-05-10T04:31:53Z","merged_at":null,"merge_commit_sha":"9c2e95b8adfeab8fa13af94af48b67ef2a9199f1","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1984378631,"node_id":"MDU6TGFiZWwxOTg0Mzc4NjMx","url":"https://api.github.com/repos/apache/spark/labels/DSTREAM","name":"DSTREAM","color":"ededed","default":false,"description":null},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":true,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45372/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45372/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45372/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/0a149942e709f03cd7e6bce55058de11e7663dfa","head":{"label":"pan3793:hive-2310","ref":"hive-2310","sha":"0a149942e709f03cd7e6bce55058de11e7663dfa","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":275650396,"node_id":"MDEwOlJlcG9zaXRvcnkyNzU2NTAzOTY=","name":"spark","full_name":"pan3793/spark","private":false,"owner":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pan3793/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/pan3793/spark","forks_url":"https://api.github.com/repos/pan3793/spark/forks","keys_url":"https://api.github.com/repos/pan3793/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pan3793/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pan3793/spark/teams","hooks_url":"https://api.github.com/repos/pan3793/spark/hooks","issue_events_url":"https://api.github.com/repos/pan3793/spark/issues/events{/number}","events_url":"https://api.github.com/repos/pan3793/spark/events","assignees_url":"https://api.github.com/repos/pan3793/spark/assignees{/user}","branches_url":"https://api.github.com/repos/pan3793/spark/branches{/branch}","tags_url":"https://api.github.com/repos/pan3793/spark/tags","blobs_url":"https://api.github.com/repos/pan3793/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pan3793/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pan3793/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/pan3793/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pan3793/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/pan3793/spark/languages","stargazers_url":"https://api.github.com/repos/pan3793/spark/stargazers","contributors_url":"https://api.github.com/repos/pan3793/spark/contributors","subscribers_url":"https://api.github.com/repos/pan3793/spark/subscribers","subscription_url":"https://api.github.com/repos/pan3793/spark/subscription","commits_url":"https://api.github.com/repos/pan3793/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/pan3793/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/pan3793/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/pan3793/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/pan3793/spark/contents/{+path}","compare_url":"https://api.github.com/repos/pan3793/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pan3793/spark/merges","archive_url":"https://api.github.com/repos/pan3793/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pan3793/spark/downloads","issues_url":"https://api.github.com/repos/pan3793/spark/issues{/number}","pulls_url":"https://api.github.com/repos/pan3793/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/pan3793/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/pan3793/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pan3793/spark/labels{/name}","releases_url":"https://api.github.com/repos/pan3793/spark/releases{/id}","deployments_url":"https://api.github.com/repos/pan3793/spark/deployments","created_at":"2020-06-28T19:04:17Z","updated_at":"2024-06-11T02:32:11Z","pushed_at":"2025-01-16T02:34:50Z","git_url":"git://github.com/pan3793/spark.git","ssh_url":"git@github.com:pan3793/spark.git","clone_url":"https://github.com/pan3793/spark.git","svn_url":"https://github.com/pan3793/spark","homepage":"https://spark.apache.org/","size":473459,"stargazers_count":4,"watchers_count":4,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":3,"open_issues":0,"watchers":4,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"7c728b2c2d6cbe2b8310cd8cf8aa4c2528b489c8","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45372"},"html":{"href":"https://github.com/apache/spark/pull/45372"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45372"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45372/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45372/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45372/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/0a149942e709f03cd7e6bce55058de11e7663dfa"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45371","id":1754532615,"node_id":"PR_kwDOAQXtWs5olAsH","html_url":"https://github.com/apache/spark/pull/45371","diff_url":"https://github.com/apache/spark/pull/45371.diff","patch_url":"https://github.com/apache/spark/pull/45371.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45371","number":45371,"state":"closed","locked":false,"title":"[SPARK-47269][BUILD] Upgrade jetty to 11.0.20","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis pr aims to upgrade jetty from 11.0.19 to 11.0.20.\r\n\r\n### Why are the changes needed?\r\nThe new version brings a security update:\r\n- [CVE-2024-22201](https://github.com/advisories/GHSA-rggv-cv7r-mw98) - HTTP/2 connection not closed after idle timeout when TCP congested\r\n\r\nThe full release notes as follows:\r\n- https://github.com/jetty/jetty.project/releases/tag/jetty-11.0.20\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nPass GitHub  Actions\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo","created_at":"2024-03-04T11:34:13Z","updated_at":"2024-03-04T18:48:06Z","closed_at":"2024-03-04T18:48:06Z","merged_at":null,"merge_commit_sha":"1b9804a35c7694ed76d34c693869c354d471fef3","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45371/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45371/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45371/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/46bf138caf0bb5deea329195cafd97c264580165","head":{"label":"LuciferYang:SPARK-47269","ref":"SPARK-47269","sha":"46bf138caf0bb5deea329195cafd97c264580165","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"b711efd6671a4b55cb123f351840ddefc3aca5aa","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45371"},"html":{"href":"https://github.com/apache/spark/pull/45371"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45371"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45371/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45371/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45371/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/46bf138caf0bb5deea329195cafd97c264580165"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45370","id":1754515904,"node_id":"PR_kwDOAQXtWs5ok8nA","html_url":"https://github.com/apache/spark/pull/45370","diff_url":"https://github.com/apache/spark/pull/45370.diff","patch_url":"https://github.com/apache/spark/pull/45370.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45370","number":45370,"state":"closed","locked":false,"title":"[SPARK-47268][SQL][Collations] Support for repartition with collations","user":{"login":"dbatomic","id":150942779,"node_id":"U_kgDOCP80Ow","avatar_url":"https://avatars.githubusercontent.com/u/150942779?v=4","gravatar_id":"","url":"https://api.github.com/users/dbatomic","html_url":"https://github.com/dbatomic","followers_url":"https://api.github.com/users/dbatomic/followers","following_url":"https://api.github.com/users/dbatomic/following{/other_user}","gists_url":"https://api.github.com/users/dbatomic/gists{/gist_id}","starred_url":"https://api.github.com/users/dbatomic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbatomic/subscriptions","organizations_url":"https://api.github.com/users/dbatomic/orgs","repos_url":"https://api.github.com/users/dbatomic/repos","events_url":"https://api.github.com/users/dbatomic/events{/privacy}","received_events_url":"https://api.github.com/users/dbatomic/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\n\r\nWith this change we add support for spark partitioning (and inherently shuffle) for columns that are collated with non-binary collations.\r\n\r\nFor overview of collation effort please refer to the parent JIRA ticket.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nWithout this change, partitioning/shuffle operator will not respect collation of `StringType`. In other words, rows that are considered to be equal under provided collation can end up in different partitions.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes - PR fixes partitioning behaviour.\r\n\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nAdditional test is added to collation suite.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo.","created_at":"2024-03-04T11:24:20Z","updated_at":"2024-03-04T15:49:21Z","closed_at":"2024-03-04T15:49:21Z","merged_at":null,"merge_commit_sha":"c37920adce2b9b066ce92228790d892c8ffded2b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45370/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45370/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45370/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/57e43eabd5e1757e7ef33084fede33af5ffbb466","head":{"label":"dbatomic:shuffle_and_collations","ref":"shuffle_and_collations","sha":"57e43eabd5e1757e7ef33084fede33af5ffbb466","user":{"login":"dbatomic","id":150942779,"node_id":"U_kgDOCP80Ow","avatar_url":"https://avatars.githubusercontent.com/u/150942779?v=4","gravatar_id":"","url":"https://api.github.com/users/dbatomic","html_url":"https://github.com/dbatomic","followers_url":"https://api.github.com/users/dbatomic/followers","following_url":"https://api.github.com/users/dbatomic/following{/other_user}","gists_url":"https://api.github.com/users/dbatomic/gists{/gist_id}","starred_url":"https://api.github.com/users/dbatomic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbatomic/subscriptions","organizations_url":"https://api.github.com/users/dbatomic/orgs","repos_url":"https://api.github.com/users/dbatomic/repos","events_url":"https://api.github.com/users/dbatomic/events{/privacy}","received_events_url":"https://api.github.com/users/dbatomic/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":722092520,"node_id":"R_kgDOKwpB6A","name":"spark","full_name":"dbatomic/spark","private":false,"owner":{"login":"dbatomic","id":150942779,"node_id":"U_kgDOCP80Ow","avatar_url":"https://avatars.githubusercontent.com/u/150942779?v=4","gravatar_id":"","url":"https://api.github.com/users/dbatomic","html_url":"https://github.com/dbatomic","followers_url":"https://api.github.com/users/dbatomic/followers","following_url":"https://api.github.com/users/dbatomic/following{/other_user}","gists_url":"https://api.github.com/users/dbatomic/gists{/gist_id}","starred_url":"https://api.github.com/users/dbatomic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbatomic/subscriptions","organizations_url":"https://api.github.com/users/dbatomic/orgs","repos_url":"https://api.github.com/users/dbatomic/repos","events_url":"https://api.github.com/users/dbatomic/events{/privacy}","received_events_url":"https://api.github.com/users/dbatomic/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/dbatomic/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/dbatomic/spark","forks_url":"https://api.github.com/repos/dbatomic/spark/forks","keys_url":"https://api.github.com/repos/dbatomic/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/dbatomic/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/dbatomic/spark/teams","hooks_url":"https://api.github.com/repos/dbatomic/spark/hooks","issue_events_url":"https://api.github.com/repos/dbatomic/spark/issues/events{/number}","events_url":"https://api.github.com/repos/dbatomic/spark/events","assignees_url":"https://api.github.com/repos/dbatomic/spark/assignees{/user}","branches_url":"https://api.github.com/repos/dbatomic/spark/branches{/branch}","tags_url":"https://api.github.com/repos/dbatomic/spark/tags","blobs_url":"https://api.github.com/repos/dbatomic/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/dbatomic/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/dbatomic/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/dbatomic/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/dbatomic/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/dbatomic/spark/languages","stargazers_url":"https://api.github.com/repos/dbatomic/spark/stargazers","contributors_url":"https://api.github.com/repos/dbatomic/spark/contributors","subscribers_url":"https://api.github.com/repos/dbatomic/spark/subscribers","subscription_url":"https://api.github.com/repos/dbatomic/spark/subscription","commits_url":"https://api.github.com/repos/dbatomic/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/dbatomic/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/dbatomic/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/dbatomic/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/dbatomic/spark/contents/{+path}","compare_url":"https://api.github.com/repos/dbatomic/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/dbatomic/spark/merges","archive_url":"https://api.github.com/repos/dbatomic/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/dbatomic/spark/downloads","issues_url":"https://api.github.com/repos/dbatomic/spark/issues{/number}","pulls_url":"https://api.github.com/repos/dbatomic/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/dbatomic/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/dbatomic/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/dbatomic/spark/labels{/name}","releases_url":"https://api.github.com/repos/dbatomic/spark/releases{/id}","deployments_url":"https://api.github.com/repos/dbatomic/spark/deployments","created_at":"2023-11-22T12:21:34Z","updated_at":"2024-10-07T11:24:03Z","pushed_at":"2024-10-07T11:21:46Z","git_url":"git://github.com/dbatomic/spark.git","ssh_url":"git@github.com:dbatomic/spark.git","clone_url":"https://github.com/dbatomic/spark.git","svn_url":"https://github.com/dbatomic/spark","homepage":"https://spark.apache.org/","size":410921,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":3,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"b711efd6671a4b55cb123f351840ddefc3aca5aa","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45370"},"html":{"href":"https://github.com/apache/spark/pull/45370"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45370"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45370/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45370/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45370/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/57e43eabd5e1757e7ef33084fede33af5ffbb466"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45369","id":1754149470,"node_id":"PR_kwDOAQXtWs5ojjJe","html_url":"https://github.com/apache/spark/pull/45369","diff_url":"https://github.com/apache/spark/pull/45369.diff","patch_url":"https://github.com/apache/spark/pull/45369.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45369","number":45369,"state":"closed","locked":false,"title":"[SPARK-47266][CONNECT] Make `ProtoUtils.abbreviate` return the same type as the input","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nMake `ProtoUtils.abbreviate` return the same type as the input\r\n\r\n\r\n### Why are the changes needed?\r\nexisting implementation always return the superclass `Message` (e.g. `proto.Relation` -> `Message`),\r\nwhile this method actually can return the same type (e.g. `proto.Relation` -> `proto.Relation`).\r\n \r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nno\r\n\r\n\r\n### How was this patch tested?\r\nupdated tests\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nno","created_at":"2024-03-04T08:08:12Z","updated_at":"2024-03-04T09:40:18Z","closed_at":"2024-03-04T09:00:53Z","merged_at":null,"merge_commit_sha":"28fcace24d5b1b0f5745e4f76a5e296f0d016e4a","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45369/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45369/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45369/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/023fd4baca60710dc47522ff7317c16a0411012d","head":{"label":"zhengruifeng:connect_proto_return_type","ref":"connect_proto_return_type","sha":"023fd4baca60710dc47522ff7317c16a0411012d","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":51584791,"node_id":"MDEwOlJlcG9zaXRvcnk1MTU4NDc5MQ==","name":"spark","full_name":"zhengruifeng/spark","private":false,"owner":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhengruifeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zhengruifeng/spark","forks_url":"https://api.github.com/repos/zhengruifeng/spark/forks","keys_url":"https://api.github.com/repos/zhengruifeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhengruifeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhengruifeng/spark/teams","hooks_url":"https://api.github.com/repos/zhengruifeng/spark/hooks","issue_events_url":"https://api.github.com/repos/zhengruifeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhengruifeng/spark/events","assignees_url":"https://api.github.com/repos/zhengruifeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhengruifeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhengruifeng/spark/tags","blobs_url":"https://api.github.com/repos/zhengruifeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhengruifeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhengruifeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhengruifeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhengruifeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhengruifeng/spark/languages","stargazers_url":"https://api.github.com/repos/zhengruifeng/spark/stargazers","contributors_url":"https://api.github.com/repos/zhengruifeng/spark/contributors","subscribers_url":"https://api.github.com/repos/zhengruifeng/spark/subscribers","subscription_url":"https://api.github.com/repos/zhengruifeng/spark/subscription","commits_url":"https://api.github.com/repos/zhengruifeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhengruifeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhengruifeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhengruifeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhengruifeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhengruifeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhengruifeng/spark/merges","archive_url":"https://api.github.com/repos/zhengruifeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhengruifeng/spark/downloads","issues_url":"https://api.github.com/repos/zhengruifeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhengruifeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhengruifeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhengruifeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhengruifeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhengruifeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhengruifeng/spark/deployments","created_at":"2016-02-12T11:58:00Z","updated_at":"2025-02-09T01:55:22Z","pushed_at":"2025-02-09T01:55:17Z","git_url":"git://github.com/zhengruifeng/spark.git","ssh_url":"git@github.com:zhengruifeng/spark.git","clone_url":"https://github.com/zhengruifeng/spark.git","svn_url":"https://github.com/zhengruifeng/spark","homepage":null,"size":434785,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"69743ad98f34682fb771b5dc8d6d749dd0595edb","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45369"},"html":{"href":"https://github.com/apache/spark/pull/45369"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45369"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45369/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45369/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45369/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/023fd4baca60710dc47522ff7317c16a0411012d"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45368","id":1753817221,"node_id":"PR_kwDOAQXtWs5oiSCF","html_url":"https://github.com/apache/spark/pull/45368","diff_url":"https://github.com/apache/spark/pull/45368.diff","patch_url":"https://github.com/apache/spark/pull/45368.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45368","number":45368,"state":"closed","locked":false,"title":"[SPARK-47265][SQL][TESTS] Replace `createTable(..., schema: StructType, ...)` with `createTable(..., columns: Array[Column], ...)` in UT","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThe pr aims to use `createTable(..., schema: StructType, ...)` instead of `createTable(..., columns: Array[Column], ...)` in UT.\r\n\r\n### Why are the changes needed?\r\nBecause the `TableCatalog#createTable(..., schema: StructType, ...)` method has been marked as `deprecated` after version `3.4.0`.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n\r\n### How was this patch tested?\r\n- Pass GA.\r\n- Update existed UT.\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo.\r\n","created_at":"2024-03-04T03:09:56Z","updated_at":"2024-03-08T08:49:35Z","closed_at":"2024-03-08T08:49:35Z","merged_at":null,"merge_commit_sha":"ecd97cfd30450d34615fdb5a858915da443a5c4c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45368/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45368/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45368/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/649254cf7192bfe56dc7b788a27256feb9d05d90","head":{"label":"panbingkun:SPARK-47265","ref":"SPARK-47265","sha":"649254cf7192bfe56dc7b788a27256feb9d05d90","user":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":481429011,"node_id":"R_kgDOHLIGEw","name":"spark","full_name":"panbingkun/spark","private":false,"owner":{"login":"panbingkun","id":15246973,"node_id":"MDQ6VXNlcjE1MjQ2OTcz","avatar_url":"https://avatars.githubusercontent.com/u/15246973?v=4","gravatar_id":"","url":"https://api.github.com/users/panbingkun","html_url":"https://github.com/panbingkun","followers_url":"https://api.github.com/users/panbingkun/followers","following_url":"https://api.github.com/users/panbingkun/following{/other_user}","gists_url":"https://api.github.com/users/panbingkun/gists{/gist_id}","starred_url":"https://api.github.com/users/panbingkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panbingkun/subscriptions","organizations_url":"https://api.github.com/users/panbingkun/orgs","repos_url":"https://api.github.com/users/panbingkun/repos","events_url":"https://api.github.com/users/panbingkun/events{/privacy}","received_events_url":"https://api.github.com/users/panbingkun/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/panbingkun/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/panbingkun/spark","forks_url":"https://api.github.com/repos/panbingkun/spark/forks","keys_url":"https://api.github.com/repos/panbingkun/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/panbingkun/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/panbingkun/spark/teams","hooks_url":"https://api.github.com/repos/panbingkun/spark/hooks","issue_events_url":"https://api.github.com/repos/panbingkun/spark/issues/events{/number}","events_url":"https://api.github.com/repos/panbingkun/spark/events","assignees_url":"https://api.github.com/repos/panbingkun/spark/assignees{/user}","branches_url":"https://api.github.com/repos/panbingkun/spark/branches{/branch}","tags_url":"https://api.github.com/repos/panbingkun/spark/tags","blobs_url":"https://api.github.com/repos/panbingkun/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/panbingkun/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/panbingkun/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/panbingkun/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/panbingkun/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/panbingkun/spark/languages","stargazers_url":"https://api.github.com/repos/panbingkun/spark/stargazers","contributors_url":"https://api.github.com/repos/panbingkun/spark/contributors","subscribers_url":"https://api.github.com/repos/panbingkun/spark/subscribers","subscription_url":"https://api.github.com/repos/panbingkun/spark/subscription","commits_url":"https://api.github.com/repos/panbingkun/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/panbingkun/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/panbingkun/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/panbingkun/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/panbingkun/spark/contents/{+path}","compare_url":"https://api.github.com/repos/panbingkun/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/panbingkun/spark/merges","archive_url":"https://api.github.com/repos/panbingkun/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/panbingkun/spark/downloads","issues_url":"https://api.github.com/repos/panbingkun/spark/issues{/number}","pulls_url":"https://api.github.com/repos/panbingkun/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/panbingkun/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/panbingkun/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/panbingkun/spark/labels{/name}","releases_url":"https://api.github.com/repos/panbingkun/spark/releases{/id}","deployments_url":"https://api.github.com/repos/panbingkun/spark/deployments","created_at":"2022-04-14T01:38:25Z","updated_at":"2025-02-05T01:36:40Z","pushed_at":"2025-02-05T01:36:19Z","git_url":"git://github.com/panbingkun/spark.git","ssh_url":"git@github.com:panbingkun/spark.git","clone_url":"https://github.com/panbingkun/spark.git","svn_url":"https://github.com/panbingkun/spark","homepage":"https://spark.apache.org/","size":497912,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"f659f8d1b019385ad95673205386b6cbe8f89a49","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45368"},"html":{"href":"https://github.com/apache/spark/pull/45368"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45368"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45368/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45368/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45368/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/649254cf7192bfe56dc7b788a27256feb9d05d90"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45367","id":1753747695,"node_id":"PR_kwDOAQXtWs5oiBDv","html_url":"https://github.com/apache/spark/pull/45367","diff_url":"https://github.com/apache/spark/pull/45367.diff","patch_url":"https://github.com/apache/spark/pull/45367.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45367","number":45367,"state":"closed","locked":false,"title":"[SPARK-47253][CORE] Allow LiveEventBus to stop without the completely draining of event queue","user":{"login":"TakawaAkirayo","id":153728772,"node_id":"U_kgDOCSm3BA","avatar_url":"https://avatars.githubusercontent.com/u/153728772?v=4","gravatar_id":"","url":"https://api.github.com/users/TakawaAkirayo","html_url":"https://github.com/TakawaAkirayo","followers_url":"https://api.github.com/users/TakawaAkirayo/followers","following_url":"https://api.github.com/users/TakawaAkirayo/following{/other_user}","gists_url":"https://api.github.com/users/TakawaAkirayo/gists{/gist_id}","starred_url":"https://api.github.com/users/TakawaAkirayo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TakawaAkirayo/subscriptions","organizations_url":"https://api.github.com/users/TakawaAkirayo/orgs","repos_url":"https://api.github.com/users/TakawaAkirayo/repos","events_url":"https://api.github.com/users/TakawaAkirayo/events{/privacy}","received_events_url":"https://api.github.com/users/TakawaAkirayo/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\nAdd config spark.scheduler.listenerbus.exitTimeout(default 0, wait until dispatch thread exist).\r\nBefore this PR: The event queue will wait for the event to drain completely on stop.\r\nAfter this PR: Allow user to control this behavior(wait for completely drain or not) by spark config.\r\n\r\n\r\n### Why are the changes needed?\r\n####Problem statement:\r\nThe SparkContext.stop() hung a long time on LiveEventBus.stop() when listeners slow\r\n\r\n####User scenarios:\r\nWe have a centralized service with multiple instances to regularly execute user's scheduled tasks.\r\nFor each user task within one service instance, the process is as follows:\r\n\r\n1.Create a Spark session directly within the service process with an account defined in the task.\r\n2.Instantiate listeners by class names and register them with the SparkContext. The JARs containing the listener classes are uploaded to the service by the user.\r\n3.Prepare resources.\r\n4.Run user logic (Spark SQL).\r\n5.Stop the Spark session by invoking SparkSession.stop().\r\n\r\nIn step 5, it will wait for the LiveEventBus to stop, which requires the remaining events to be completely drained by each listener.\r\n\r\nSince the listener is implemented by users and we cannot prevent some heavy stuffs within the listener on each event, there are cases where a single heavy job has over 30,000 tasks,\r\nand it could take 30 minutes for the listener to process all the remaining events, because within the listener, it requires a coarse-grained global lock and update the internal status to the remote database.\r\n\r\nThis kind of delay affects other user tasks in the queue. Therefore, from the server side perspective, we need the guarantee that the stop operation finishes quickly.\r\n\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nAdd cofig spark.scheduler.listenerbus.exitTimeout.\r\nDefault is `0`, it will wait for the event to drain completely. If set to a non negative integer, the LivenEventBus will wait for atleast that duration (in ms) before it stops irrespective of whether the events are drained or not.\r\n\r\n\r\n### How was this patch tested?\r\nBy UT and verified the feature in out production environment\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo","created_at":"2024-03-04T01:56:02Z","updated_at":"2024-04-14T00:07:05Z","closed_at":"2024-04-13T05:05:12Z","merged_at":null,"merge_commit_sha":"4af274a5241bd5176ab97ccd21dd02b70dd949e9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45367/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45367/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45367/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/36bb48a7f4a0c2a92dec09918a329ad897a64557","head":{"label":"TakawaAkirayo:SPARK-47253","ref":"SPARK-47253","sha":"36bb48a7f4a0c2a92dec09918a329ad897a64557","user":{"login":"TakawaAkirayo","id":153728772,"node_id":"U_kgDOCSm3BA","avatar_url":"https://avatars.githubusercontent.com/u/153728772?v=4","gravatar_id":"","url":"https://api.github.com/users/TakawaAkirayo","html_url":"https://github.com/TakawaAkirayo","followers_url":"https://api.github.com/users/TakawaAkirayo/followers","following_url":"https://api.github.com/users/TakawaAkirayo/following{/other_user}","gists_url":"https://api.github.com/users/TakawaAkirayo/gists{/gist_id}","starred_url":"https://api.github.com/users/TakawaAkirayo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TakawaAkirayo/subscriptions","organizations_url":"https://api.github.com/users/TakawaAkirayo/orgs","repos_url":"https://api.github.com/users/TakawaAkirayo/repos","events_url":"https://api.github.com/users/TakawaAkirayo/events{/privacy}","received_events_url":"https://api.github.com/users/TakawaAkirayo/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":763432293,"node_id":"R_kgDOLYENZQ","name":"spark","full_name":"TakawaAkirayo/spark","private":false,"owner":{"login":"TakawaAkirayo","id":153728772,"node_id":"U_kgDOCSm3BA","avatar_url":"https://avatars.githubusercontent.com/u/153728772?v=4","gravatar_id":"","url":"https://api.github.com/users/TakawaAkirayo","html_url":"https://github.com/TakawaAkirayo","followers_url":"https://api.github.com/users/TakawaAkirayo/followers","following_url":"https://api.github.com/users/TakawaAkirayo/following{/other_user}","gists_url":"https://api.github.com/users/TakawaAkirayo/gists{/gist_id}","starred_url":"https://api.github.com/users/TakawaAkirayo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TakawaAkirayo/subscriptions","organizations_url":"https://api.github.com/users/TakawaAkirayo/orgs","repos_url":"https://api.github.com/users/TakawaAkirayo/repos","events_url":"https://api.github.com/users/TakawaAkirayo/events{/privacy}","received_events_url":"https://api.github.com/users/TakawaAkirayo/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/TakawaAkirayo/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/TakawaAkirayo/spark","forks_url":"https://api.github.com/repos/TakawaAkirayo/spark/forks","keys_url":"https://api.github.com/repos/TakawaAkirayo/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/TakawaAkirayo/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/TakawaAkirayo/spark/teams","hooks_url":"https://api.github.com/repos/TakawaAkirayo/spark/hooks","issue_events_url":"https://api.github.com/repos/TakawaAkirayo/spark/issues/events{/number}","events_url":"https://api.github.com/repos/TakawaAkirayo/spark/events","assignees_url":"https://api.github.com/repos/TakawaAkirayo/spark/assignees{/user}","branches_url":"https://api.github.com/repos/TakawaAkirayo/spark/branches{/branch}","tags_url":"https://api.github.com/repos/TakawaAkirayo/spark/tags","blobs_url":"https://api.github.com/repos/TakawaAkirayo/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/TakawaAkirayo/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/TakawaAkirayo/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/TakawaAkirayo/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/TakawaAkirayo/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/TakawaAkirayo/spark/languages","stargazers_url":"https://api.github.com/repos/TakawaAkirayo/spark/stargazers","contributors_url":"https://api.github.com/repos/TakawaAkirayo/spark/contributors","subscribers_url":"https://api.github.com/repos/TakawaAkirayo/spark/subscribers","subscription_url":"https://api.github.com/repos/TakawaAkirayo/spark/subscription","commits_url":"https://api.github.com/repos/TakawaAkirayo/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/TakawaAkirayo/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/TakawaAkirayo/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/TakawaAkirayo/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/TakawaAkirayo/spark/contents/{+path}","compare_url":"https://api.github.com/repos/TakawaAkirayo/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/TakawaAkirayo/spark/merges","archive_url":"https://api.github.com/repos/TakawaAkirayo/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/TakawaAkirayo/spark/downloads","issues_url":"https://api.github.com/repos/TakawaAkirayo/spark/issues{/number}","pulls_url":"https://api.github.com/repos/TakawaAkirayo/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/TakawaAkirayo/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/TakawaAkirayo/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/TakawaAkirayo/spark/labels{/name}","releases_url":"https://api.github.com/repos/TakawaAkirayo/spark/releases{/id}","deployments_url":"https://api.github.com/repos/TakawaAkirayo/spark/deployments","created_at":"2024-02-26T09:33:19Z","updated_at":"2024-04-23T07:12:06Z","pushed_at":"2024-06-06T06:47:07Z","git_url":"git://github.com/TakawaAkirayo/spark.git","ssh_url":"git@github.com:TakawaAkirayo/spark.git","clone_url":"https://github.com/TakawaAkirayo/spark.git","svn_url":"https://github.com/TakawaAkirayo/spark","homepage":"https://spark.apache.org/","size":397357,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"3aa16e8193cf59379c4ad78c5f0a7b6490aec4b8","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45367"},"html":{"href":"https://github.com/apache/spark/pull/45367"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45367"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45367/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45367/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45367/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/36bb48a7f4a0c2a92dec09918a329ad897a64557"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45366","id":1753657571,"node_id":"PR_kwDOAQXtWs5ohrDj","html_url":"https://github.com/apache/spark/pull/45366","diff_url":"https://github.com/apache/spark/pull/45366.diff","patch_url":"https://github.com/apache/spark/pull/45366.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45366","number":45366,"state":"closed","locked":false,"title":"[SPARK-47303][CORE][TESTS] Restructure MasterSuite","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nThis PR proposes to split `MasterSuite` as below:\r\n\r\n```\r\nmaster\r\n├── MasterSuite.scala\r\n├── MasterSuiteBase.scala\r\n├── MasterWorkerUISuite.scala\r\n├── RecoverySuite.scala\r\n├── ResourceProfilesSuite.scala\r\n└── WorkerSelectionSuite.scala\r\n```\r\n\r\nIn addition, I reduced the memory and core specification in the tests below:\r\n\r\n- Reduced the local cluster's work memory at `WorkerDecommissionExtendedSuite`\r\n- Reduced memory at resource profiles at `ResourceProfilesSuite` and `ResourceProfilesMaxCoresSuite`\r\n- Reduced the number of workers and cores at `ResourceProfilesMaxCoresSuite`\r\n\r\n### Why are the changes needed?\r\n\r\nMasterSuite takes too much resources, and it makes some tests fail with OOM with Mac OS: https://github.com/apache/spark/actions/runs/8162270810\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nNo, test-only.\r\n\r\n### How was this patch tested?\r\n\r\nhttps://github.com/HyukjinKwon/spark/actions/runs/8170727017/job/22337438942\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.\r\n","created_at":"2024-03-04T00:18:57Z","updated_at":"2024-03-07T06:43:10Z","closed_at":"2024-03-06T22:34:08Z","merged_at":null,"merge_commit_sha":"eeb42980de9f43a8c8d83eb4bcd3f7e784f1f12a","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45366/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45366/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45366/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/0a872e5e2455b7d6198a1adfb048800df812e7dc","head":{"label":"HyukjinKwon:test-macos","ref":"test-macos","sha":"0a872e5e2455b7d6198a1adfb048800df812e7dc","user":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":42300713,"node_id":"MDEwOlJlcG9zaXRvcnk0MjMwMDcxMw==","name":"spark","full_name":"HyukjinKwon/spark","private":false,"owner":{"login":"HyukjinKwon","id":6477701,"node_id":"MDQ6VXNlcjY0Nzc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6477701?v=4","gravatar_id":"","url":"https://api.github.com/users/HyukjinKwon","html_url":"https://github.com/HyukjinKwon","followers_url":"https://api.github.com/users/HyukjinKwon/followers","following_url":"https://api.github.com/users/HyukjinKwon/following{/other_user}","gists_url":"https://api.github.com/users/HyukjinKwon/gists{/gist_id}","starred_url":"https://api.github.com/users/HyukjinKwon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HyukjinKwon/subscriptions","organizations_url":"https://api.github.com/users/HyukjinKwon/orgs","repos_url":"https://api.github.com/users/HyukjinKwon/repos","events_url":"https://api.github.com/users/HyukjinKwon/events{/privacy}","received_events_url":"https://api.github.com/users/HyukjinKwon/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/HyukjinKwon/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/HyukjinKwon/spark","forks_url":"https://api.github.com/repos/HyukjinKwon/spark/forks","keys_url":"https://api.github.com/repos/HyukjinKwon/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/HyukjinKwon/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/HyukjinKwon/spark/teams","hooks_url":"https://api.github.com/repos/HyukjinKwon/spark/hooks","issue_events_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/events{/number}","events_url":"https://api.github.com/repos/HyukjinKwon/spark/events","assignees_url":"https://api.github.com/repos/HyukjinKwon/spark/assignees{/user}","branches_url":"https://api.github.com/repos/HyukjinKwon/spark/branches{/branch}","tags_url":"https://api.github.com/repos/HyukjinKwon/spark/tags","blobs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/HyukjinKwon/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/HyukjinKwon/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/HyukjinKwon/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/HyukjinKwon/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/HyukjinKwon/spark/languages","stargazers_url":"https://api.github.com/repos/HyukjinKwon/spark/stargazers","contributors_url":"https://api.github.com/repos/HyukjinKwon/spark/contributors","subscribers_url":"https://api.github.com/repos/HyukjinKwon/spark/subscribers","subscription_url":"https://api.github.com/repos/HyukjinKwon/spark/subscription","commits_url":"https://api.github.com/repos/HyukjinKwon/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/HyukjinKwon/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/HyukjinKwon/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/HyukjinKwon/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/HyukjinKwon/spark/contents/{+path}","compare_url":"https://api.github.com/repos/HyukjinKwon/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/HyukjinKwon/spark/merges","archive_url":"https://api.github.com/repos/HyukjinKwon/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/HyukjinKwon/spark/downloads","issues_url":"https://api.github.com/repos/HyukjinKwon/spark/issues{/number}","pulls_url":"https://api.github.com/repos/HyukjinKwon/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/HyukjinKwon/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/HyukjinKwon/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/HyukjinKwon/spark/labels{/name}","releases_url":"https://api.github.com/repos/HyukjinKwon/spark/releases{/id}","deployments_url":"https://api.github.com/repos/HyukjinKwon/spark/deployments","created_at":"2015-09-11T09:47:43Z","updated_at":"2025-02-08T05:04:02Z","pushed_at":"2025-02-08T05:03:28Z","git_url":"git://github.com/HyukjinKwon/spark.git","ssh_url":"git@github.com:HyukjinKwon/spark.git","clone_url":"https://github.com/HyukjinKwon/spark.git","svn_url":"https://github.com/HyukjinKwon/spark","homepage":null,"size":441550,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"36299f1b2bff8c892624bc5c0e4c00ea3f261532","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45366"},"html":{"href":"https://github.com/apache/spark/pull/45366"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45366"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45366/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45366/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45366/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/0a872e5e2455b7d6198a1adfb048800df812e7dc"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45365","id":1753327344,"node_id":"PR_kwDOAQXtWs5ogabw","html_url":"https://github.com/apache/spark/pull/45365","diff_url":"https://github.com/apache/spark/pull/45365.diff","patch_url":"https://github.com/apache/spark/pull/45365.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45365","number":45365,"state":"closed","locked":false,"title":"[SPARK-47278][BUILD] Upgrade rocksdbjni to 8.11.3","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis pr aims to upgrade rocksdbjni from 8.8.1 to 8.11.3.\r\n\r\n\r\n### Why are the changes needed?\r\nThe new version bring some bug fixes:\r\n\r\n- Fix a corner case with auto_readahead_size where Prev Operation returns NOT SUPPORTED error when scans direction is changed from forward to backward.\r\n- Avoid destroying the periodic task scheduler's default timer in order to prevent static destruction order issues.\r\n- Fix double counting of BYTES_WRITTEN ticker when doing writes with transactions.\r\n- Fix a WRITE_STALL counter that was reporting wrong value in few cases.\r\n- A lookup by MultiGet in a TieredCache that goes to the local flash cache and finishes with very low latency, i.e before the subsequent call to WaitAll, is ignored, resulting in a false negative and a memory leak.\r\n- Fix bug in auto_readahead_size that combined with IndexType::kBinarySearchWithFirstKey + fails or iterator lands at a wrong key\r\n- Fixed some cases in which DB file corruption was detected but ignored on creating a backup with BackupEngine.\r\n- Fix bugs where rocksdb.blobdb.blob.file.synced includes blob files failed to get synced and rocksdb.blobdb.blob.file.bytes.written includes blob bytes failed to get written.\r\n- Fixed a possible memory leak or crash on a failure (such as I/O error) in automatic atomic flush of multiple column families.\r\n- Fixed some cases of in-memory data corruption using mmap reads with BackupEngine, sst_dump, or ldb.\r\n- Fixed issues with experimental preclude_last_level_data_seconds option that could interfere with expected data tiering.\r\n- Fixed the handling of the edge case when all existing blob files become unreferenced. Such files are now correctly deleted.\r\n\r\n\r\nThe full release notes as follows:\r\n\r\n- https://github.com/facebook/rocksdb/releases/tag/v8.9.1\r\n- https://github.com/facebook/rocksdb/releases/tag/v8.10.0\r\n- https://github.com/facebook/rocksdb/releases/tag/v8.11.3\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n### How was this patch tested?\r\nPass GitHub Actions\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo","created_at":"2024-03-03T09:00:54Z","updated_at":"2024-03-19T07:35:51Z","closed_at":"2024-03-07T11:17:46Z","merged_at":null,"merge_commit_sha":"91e7d3bdc8172d95a39cd06e7dda6414dd8ccf0b","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45365/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45365/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45365/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/f10f184f339727fd05bb02eaf9bbd99b38d49d23","head":{"label":"LuciferYang:rocksdbjni-8.11.3","ref":"rocksdbjni-8.11.3","sha":"f10f184f339727fd05bb02eaf9bbd99b38d49d23","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"8d6bd9bbd29da6023e5740b622e12c7e1f8581ce","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45365"},"html":{"href":"https://github.com/apache/spark/pull/45365"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45365"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45365/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45365/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45365/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/f10f184f339727fd05bb02eaf9bbd99b38d49d23"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45364","id":1753232989,"node_id":"PR_kwDOAQXtWs5ogDZd","html_url":"https://github.com/apache/spark/pull/45364","diff_url":"https://github.com/apache/spark/pull/45364.diff","patch_url":"https://github.com/apache/spark/pull/45364.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45364","number":45364,"state":"closed","locked":false,"title":"[SPARK-47253][CORE][3.5] Allow LiveEventBus to stop without the completely draining of event queue","user":{"login":"TakawaAkirayo","id":153728772,"node_id":"U_kgDOCSm3BA","avatar_url":"https://avatars.githubusercontent.com/u/153728772?v=4","gravatar_id":"","url":"https://api.github.com/users/TakawaAkirayo","html_url":"https://github.com/TakawaAkirayo","followers_url":"https://api.github.com/users/TakawaAkirayo/followers","following_url":"https://api.github.com/users/TakawaAkirayo/following{/other_user}","gists_url":"https://api.github.com/users/TakawaAkirayo/gists{/gist_id}","starred_url":"https://api.github.com/users/TakawaAkirayo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TakawaAkirayo/subscriptions","organizations_url":"https://api.github.com/users/TakawaAkirayo/orgs","repos_url":"https://api.github.com/users/TakawaAkirayo/repos","events_url":"https://api.github.com/users/TakawaAkirayo/events{/privacy}","received_events_url":"https://api.github.com/users/TakawaAkirayo/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\nAdd config spark.scheduler.listenerbus.eventqueue.waitForEventDispatchExitOnStop(default true).\r\nBefore this PR: The event queue will wait for the event to drain completely on stop.\r\nAfter this PR: Allow user to control this behavior(wait for event completely drained or not) by spark config.\r\n\r\n\r\n### Why are the changes needed?\r\n####Problem statement:\r\nThe SparkContext.stop() hung a long time on LiveEventBus.stop() when listeners slow\r\n\r\n####User scenarios:\r\nWe have a centralized service with multiple instances to regularly execute user's scheduled tasks.\r\nFor each user task within one service instance, the process is as follows:\r\n\r\n1.Create a Spark session directly within the service process with an account defined in the task.\r\n2.Instantiate listeners by class names and register them with the SparkContext. The JARs containing the listener classes are uploaded to the service by the user.\r\n3.Prepare resources.\r\n4.Run user logic (Spark SQL).\r\n5.Stop the Spark session by invoking SparkSession.stop().\r\n\r\nIn step 5, it will wait for the LiveEventBus to stop, which requires the remaining events to be completely drained by each listener.\r\n\r\nSince the listener is implemented by users and we cannot prevent some heavy stuffs within the listener on each event, there are cases where a single heavy job has over 30,000 tasks,\r\nand it could take 30 minutes for the listener to process all the remaining events, because within the listener, it requires a coarse-grained global lock and update the internal status to the remote database.\r\n\r\nThis kind of delay affects other user tasks in the queue. Therefore, from the server side perspective, we need the guarantee that the stop operation finishes quickly.\r\n\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nAdd config spark.scheduler.listenerbus.eventqueue.waitForEventDispatchExitOnStop.\r\nDefault is true, it will wait for the event to drain completely. If set to false, the LivenEventBus will stop without waitting for the event to drain on each queue.\r\n\r\n\r\n### How was this patch tested?\r\nBy UT and verified the feature in out production environment\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo","created_at":"2024-03-03T05:06:24Z","updated_at":"2024-03-04T01:47:19Z","closed_at":"2024-03-04T01:46:11Z","merged_at":null,"merge_commit_sha":"846f03f71fa608440ae8e3120ccc7534489aa523","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1405801475,"node_id":"MDU6TGFiZWwxNDA1ODAxNDc1","url":"https://api.github.com/repos/apache/spark/labels/ML","name":"ML","color":"ededed","default":false,"description":null},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1406605079,"node_id":"MDU6TGFiZWwxNDA2NjA1MDc5","url":"https://api.github.com/repos/apache/spark/labels/WEB%20UI","name":"WEB UI","color":"ededed","default":false,"description":null},{"id":1406627200,"node_id":"MDU6TGFiZWwxNDA2NjI3MjAw","url":"https://api.github.com/repos/apache/spark/labels/BUILD","name":"BUILD","color":"ededed","default":false,"description":null},{"id":1427970157,"node_id":"MDU6TGFiZWwxNDI3OTcwMTU3","url":"https://api.github.com/repos/apache/spark/labels/YARN","name":"YARN","color":"ededed","default":false,"description":null},{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""},{"id":1981527456,"node_id":"MDU6TGFiZWwxOTgxNTI3NDU2","url":"https://api.github.com/repos/apache/spark/labels/CORE","name":"CORE","color":"0E8A16","default":false,"description":""},{"id":1982110661,"node_id":"MDU6TGFiZWwxOTgyMTEwNjYx","url":"https://api.github.com/repos/apache/spark/labels/INFRA","name":"INFRA","color":"ededed","default":false,"description":null},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4138679613,"node_id":"LA_kwDOAQXtWs72rz09","url":"https://api.github.com/repos/apache/spark/labels/PANDAS%20API%20ON%20SPARK","name":"PANDAS API ON SPARK","color":"ededed","default":false,"description":null},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""},{"id":4654282764,"node_id":"LA_kwDOAQXtWs8AAAABFWq4DA","url":"https://api.github.com/repos/apache/spark/labels/PROTOBUF","name":"PROTOBUF","color":"ededed","default":false,"description":null}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45364/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45364/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45364/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/3fce6dc9fbc3f3bbd22189260c968f990c668dba","head":{"label":"TakawaAkirayo:SPARK-47253","ref":"SPARK-47253","sha":"3fce6dc9fbc3f3bbd22189260c968f990c668dba","user":{"login":"TakawaAkirayo","id":153728772,"node_id":"U_kgDOCSm3BA","avatar_url":"https://avatars.githubusercontent.com/u/153728772?v=4","gravatar_id":"","url":"https://api.github.com/users/TakawaAkirayo","html_url":"https://github.com/TakawaAkirayo","followers_url":"https://api.github.com/users/TakawaAkirayo/followers","following_url":"https://api.github.com/users/TakawaAkirayo/following{/other_user}","gists_url":"https://api.github.com/users/TakawaAkirayo/gists{/gist_id}","starred_url":"https://api.github.com/users/TakawaAkirayo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TakawaAkirayo/subscriptions","organizations_url":"https://api.github.com/users/TakawaAkirayo/orgs","repos_url":"https://api.github.com/users/TakawaAkirayo/repos","events_url":"https://api.github.com/users/TakawaAkirayo/events{/privacy}","received_events_url":"https://api.github.com/users/TakawaAkirayo/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":763432293,"node_id":"R_kgDOLYENZQ","name":"spark","full_name":"TakawaAkirayo/spark","private":false,"owner":{"login":"TakawaAkirayo","id":153728772,"node_id":"U_kgDOCSm3BA","avatar_url":"https://avatars.githubusercontent.com/u/153728772?v=4","gravatar_id":"","url":"https://api.github.com/users/TakawaAkirayo","html_url":"https://github.com/TakawaAkirayo","followers_url":"https://api.github.com/users/TakawaAkirayo/followers","following_url":"https://api.github.com/users/TakawaAkirayo/following{/other_user}","gists_url":"https://api.github.com/users/TakawaAkirayo/gists{/gist_id}","starred_url":"https://api.github.com/users/TakawaAkirayo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TakawaAkirayo/subscriptions","organizations_url":"https://api.github.com/users/TakawaAkirayo/orgs","repos_url":"https://api.github.com/users/TakawaAkirayo/repos","events_url":"https://api.github.com/users/TakawaAkirayo/events{/privacy}","received_events_url":"https://api.github.com/users/TakawaAkirayo/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/TakawaAkirayo/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/TakawaAkirayo/spark","forks_url":"https://api.github.com/repos/TakawaAkirayo/spark/forks","keys_url":"https://api.github.com/repos/TakawaAkirayo/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/TakawaAkirayo/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/TakawaAkirayo/spark/teams","hooks_url":"https://api.github.com/repos/TakawaAkirayo/spark/hooks","issue_events_url":"https://api.github.com/repos/TakawaAkirayo/spark/issues/events{/number}","events_url":"https://api.github.com/repos/TakawaAkirayo/spark/events","assignees_url":"https://api.github.com/repos/TakawaAkirayo/spark/assignees{/user}","branches_url":"https://api.github.com/repos/TakawaAkirayo/spark/branches{/branch}","tags_url":"https://api.github.com/repos/TakawaAkirayo/spark/tags","blobs_url":"https://api.github.com/repos/TakawaAkirayo/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/TakawaAkirayo/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/TakawaAkirayo/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/TakawaAkirayo/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/TakawaAkirayo/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/TakawaAkirayo/spark/languages","stargazers_url":"https://api.github.com/repos/TakawaAkirayo/spark/stargazers","contributors_url":"https://api.github.com/repos/TakawaAkirayo/spark/contributors","subscribers_url":"https://api.github.com/repos/TakawaAkirayo/spark/subscribers","subscription_url":"https://api.github.com/repos/TakawaAkirayo/spark/subscription","commits_url":"https://api.github.com/repos/TakawaAkirayo/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/TakawaAkirayo/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/TakawaAkirayo/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/TakawaAkirayo/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/TakawaAkirayo/spark/contents/{+path}","compare_url":"https://api.github.com/repos/TakawaAkirayo/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/TakawaAkirayo/spark/merges","archive_url":"https://api.github.com/repos/TakawaAkirayo/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/TakawaAkirayo/spark/downloads","issues_url":"https://api.github.com/repos/TakawaAkirayo/spark/issues{/number}","pulls_url":"https://api.github.com/repos/TakawaAkirayo/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/TakawaAkirayo/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/TakawaAkirayo/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/TakawaAkirayo/spark/labels{/name}","releases_url":"https://api.github.com/repos/TakawaAkirayo/spark/releases{/id}","deployments_url":"https://api.github.com/repos/TakawaAkirayo/spark/deployments","created_at":"2024-02-26T09:33:19Z","updated_at":"2024-04-23T07:12:06Z","pushed_at":"2024-06-06T06:47:07Z","git_url":"git://github.com/TakawaAkirayo/spark.git","ssh_url":"git@github.com:TakawaAkirayo/spark.git","clone_url":"https://github.com/TakawaAkirayo/spark.git","svn_url":"https://github.com/TakawaAkirayo/spark","homepage":"https://spark.apache.org/","size":397357,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ee15cbd3ac3cc98ae262834b4f16e74fe54d82c3","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45364"},"html":{"href":"https://github.com/apache/spark/pull/45364"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45364"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45364/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45364/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45364/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/3fce6dc9fbc3f3bbd22189260c968f990c668dba"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45363","id":1753111489,"node_id":"PR_kwDOAQXtWs5oflvB","html_url":"https://github.com/apache/spark/pull/45363","diff_url":"https://github.com/apache/spark/pull/45363.diff","patch_url":"https://github.com/apache/spark/pull/45363.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45363","number":45363,"state":"closed","locked":false,"title":"[SPARK-47252][DOCS] Clarify that pivot may trigger an eager computation","user":{"login":"nchammas","id":1039369,"node_id":"MDQ6VXNlcjEwMzkzNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1039369?v=4","gravatar_id":"","url":"https://api.github.com/users/nchammas","html_url":"https://github.com/nchammas","followers_url":"https://api.github.com/users/nchammas/followers","following_url":"https://api.github.com/users/nchammas/following{/other_user}","gists_url":"https://api.github.com/users/nchammas/gists{/gist_id}","starred_url":"https://api.github.com/users/nchammas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nchammas/subscriptions","organizations_url":"https://api.github.com/users/nchammas/orgs","repos_url":"https://api.github.com/users/nchammas/repos","events_url":"https://api.github.com/users/nchammas/events{/privacy}","received_events_url":"https://api.github.com/users/nchammas/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nClarify that, if explicit pivot values are not provided, Spark will eagerly compute them.\r\n\r\n### Why are the changes needed?\r\n\r\nThe current wording on `master` is misleading. To say that one version of pivot is more or less \"efficient\" than the other glosses over the fact that one is lazy and the other is not. Spark users are trained from early on that transformations are generally lazy; exceptions to this rule should be more clearly highlighted.\r\n\r\nI experienced this personally when I called pivot on a DataFrame without providing explicit values, and Spark took around 20 minutes to compute the distinct pivot values. Looking at the docs, I felt that \"less efficient\" didn't accurately represent this behavior.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nYes, updated user docs.\r\n\r\n### How was this patch tested?\r\n\r\nI built and reviewed the docs locally.\r\n\r\n<img width=\"300\" src=\"https://github.com/apache/spark/assets/1039369/532d935b-b8f4-49be-b999-366acfbca7d8\" />\r\n<img width=\"400\" src=\"https://github.com/apache/spark/assets/1039369/77dde43e-a217-4a30-8ce3-727f2060e54a\" />\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.","created_at":"2024-03-02T22:47:19Z","updated_at":"2024-03-05T15:11:21Z","closed_at":"2024-03-05T00:51:38Z","merged_at":null,"merge_commit_sha":"aba00fdf7017dc9906c442b721e00eeae6059dc0","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45363/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45363/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45363/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/f1c9ef9dd487a75cdd61508c9eb42b90ab448164","head":{"label":"nchammas:pivot-eager","ref":"pivot-eager","sha":"f1c9ef9dd487a75cdd61508c9eb42b90ab448164","user":{"login":"nchammas","id":1039369,"node_id":"MDQ6VXNlcjEwMzkzNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1039369?v=4","gravatar_id":"","url":"https://api.github.com/users/nchammas","html_url":"https://github.com/nchammas","followers_url":"https://api.github.com/users/nchammas/followers","following_url":"https://api.github.com/users/nchammas/following{/other_user}","gists_url":"https://api.github.com/users/nchammas/gists{/gist_id}","starred_url":"https://api.github.com/users/nchammas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nchammas/subscriptions","organizations_url":"https://api.github.com/users/nchammas/orgs","repos_url":"https://api.github.com/users/nchammas/repos","events_url":"https://api.github.com/users/nchammas/events{/privacy}","received_events_url":"https://api.github.com/users/nchammas/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":23797421,"node_id":"MDEwOlJlcG9zaXRvcnkyMzc5NzQyMQ==","name":"spark","full_name":"nchammas/spark","private":false,"owner":{"login":"nchammas","id":1039369,"node_id":"MDQ6VXNlcjEwMzkzNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1039369?v=4","gravatar_id":"","url":"https://api.github.com/users/nchammas","html_url":"https://github.com/nchammas","followers_url":"https://api.github.com/users/nchammas/followers","following_url":"https://api.github.com/users/nchammas/following{/other_user}","gists_url":"https://api.github.com/users/nchammas/gists{/gist_id}","starred_url":"https://api.github.com/users/nchammas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nchammas/subscriptions","organizations_url":"https://api.github.com/users/nchammas/orgs","repos_url":"https://api.github.com/users/nchammas/repos","events_url":"https://api.github.com/users/nchammas/events{/privacy}","received_events_url":"https://api.github.com/users/nchammas/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/nchammas/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/nchammas/spark","forks_url":"https://api.github.com/repos/nchammas/spark/forks","keys_url":"https://api.github.com/repos/nchammas/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/nchammas/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/nchammas/spark/teams","hooks_url":"https://api.github.com/repos/nchammas/spark/hooks","issue_events_url":"https://api.github.com/repos/nchammas/spark/issues/events{/number}","events_url":"https://api.github.com/repos/nchammas/spark/events","assignees_url":"https://api.github.com/repos/nchammas/spark/assignees{/user}","branches_url":"https://api.github.com/repos/nchammas/spark/branches{/branch}","tags_url":"https://api.github.com/repos/nchammas/spark/tags","blobs_url":"https://api.github.com/repos/nchammas/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/nchammas/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/nchammas/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/nchammas/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/nchammas/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/nchammas/spark/languages","stargazers_url":"https://api.github.com/repos/nchammas/spark/stargazers","contributors_url":"https://api.github.com/repos/nchammas/spark/contributors","subscribers_url":"https://api.github.com/repos/nchammas/spark/subscribers","subscription_url":"https://api.github.com/repos/nchammas/spark/subscription","commits_url":"https://api.github.com/repos/nchammas/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/nchammas/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/nchammas/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/nchammas/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/nchammas/spark/contents/{+path}","compare_url":"https://api.github.com/repos/nchammas/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/nchammas/spark/merges","archive_url":"https://api.github.com/repos/nchammas/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/nchammas/spark/downloads","issues_url":"https://api.github.com/repos/nchammas/spark/issues{/number}","pulls_url":"https://api.github.com/repos/nchammas/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/nchammas/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/nchammas/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/nchammas/spark/labels{/name}","releases_url":"https://api.github.com/repos/nchammas/spark/releases{/id}","deployments_url":"https://api.github.com/repos/nchammas/spark/deployments","created_at":"2014-09-08T15:54:13Z","updated_at":"2025-02-05T15:21:28Z","pushed_at":"2025-02-06T16:36:27Z","git_url":"git://github.com/nchammas/spark.git","ssh_url":"git@github.com:nchammas/spark.git","clone_url":"https://github.com/nchammas/spark.git","svn_url":"https://github.com/nchammas/spark","homepage":null,"size":427630,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ee15cbd3ac3cc98ae262834b4f16e74fe54d82c3","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45363"},"html":{"href":"https://github.com/apache/spark/pull/45363"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45363"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45363/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45363/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45363/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/f1c9ef9dd487a75cdd61508c9eb42b90ab448164"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45362","id":1753074671,"node_id":"PR_kwDOAQXtWs5ofcvv","html_url":"https://github.com/apache/spark/pull/45362","diff_url":"https://github.com/apache/spark/pull/45362.diff","patch_url":"https://github.com/apache/spark/pull/45362.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45362","number":45362,"state":"closed","locked":false,"title":"[SPARK-44924][SS] Add config for FileStreamSource cached files","user":{"login":"ragnarok56","id":1396398,"node_id":"MDQ6VXNlcjEzOTYzOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1396398?v=4","gravatar_id":"","url":"https://api.github.com/users/ragnarok56","html_url":"https://github.com/ragnarok56","followers_url":"https://api.github.com/users/ragnarok56/followers","following_url":"https://api.github.com/users/ragnarok56/following{/other_user}","gists_url":"https://api.github.com/users/ragnarok56/gists{/gist_id}","starred_url":"https://api.github.com/users/ragnarok56/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ragnarok56/subscriptions","organizations_url":"https://api.github.com/users/ragnarok56/orgs","repos_url":"https://api.github.com/users/ragnarok56/repos","events_url":"https://api.github.com/users/ragnarok56/events{/privacy}","received_events_url":"https://api.github.com/users/ragnarok56/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis change adds configuration options for the streaming input File Source for `maxCachedFiles` and `discardCachedInputRatio`.  These values were originally introduced with https://github.com/apache/spark/pull/27620 but were hardcoded to 10,000 and 0.2, respectively.\r\n\r\n### Why are the changes needed?\r\nUnder certain workloads with large `maxFilesPerTrigger` settings, the performance gain from caching the input files capped at 10,000 can cause a cluster to be underutilized and jobs to take longer to finish if each batch takes a while to finish.  For example, a job with `maxFilesPerTrigger` set to 100,000 would do all 100k in batch 1, then only 10k in batch 2, but both batches could take just as long since some of the files cause skewed processing times.  This results in a cluster spending nearly the same amount of time while processing only 1/10 of the files it could have.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nUpdated documentation for structured streaming sources to describe new configurations options\r\n\r\n### How was this patch tested?\r\nNew and existing unit tests. \r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo\r\n","created_at":"2024-03-02T20:25:45Z","updated_at":"2024-05-20T01:51:08Z","closed_at":"2024-05-20T01:51:08Z","merged_at":null,"merge_commit_sha":"8c00d5d3245fd2c29ca08b3ae3f3a00a9c0d4059","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45362/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45362/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45362/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/473cd39b079196056df8d9fe5cc84d02c84cd40f","head":{"label":"ragnarok56:filestream-cached-files-config","ref":"filestream-cached-files-config","sha":"473cd39b079196056df8d9fe5cc84d02c84cd40f","user":{"login":"ragnarok56","id":1396398,"node_id":"MDQ6VXNlcjEzOTYzOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1396398?v=4","gravatar_id":"","url":"https://api.github.com/users/ragnarok56","html_url":"https://github.com/ragnarok56","followers_url":"https://api.github.com/users/ragnarok56/followers","following_url":"https://api.github.com/users/ragnarok56/following{/other_user}","gists_url":"https://api.github.com/users/ragnarok56/gists{/gist_id}","starred_url":"https://api.github.com/users/ragnarok56/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ragnarok56/subscriptions","organizations_url":"https://api.github.com/users/ragnarok56/orgs","repos_url":"https://api.github.com/users/ragnarok56/repos","events_url":"https://api.github.com/users/ragnarok56/events{/privacy}","received_events_url":"https://api.github.com/users/ragnarok56/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":662177296,"node_id":"R_kgDOJ3gGEA","name":"spark","full_name":"ragnarok56/spark","private":false,"owner":{"login":"ragnarok56","id":1396398,"node_id":"MDQ6VXNlcjEzOTYzOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1396398?v=4","gravatar_id":"","url":"https://api.github.com/users/ragnarok56","html_url":"https://github.com/ragnarok56","followers_url":"https://api.github.com/users/ragnarok56/followers","following_url":"https://api.github.com/users/ragnarok56/following{/other_user}","gists_url":"https://api.github.com/users/ragnarok56/gists{/gist_id}","starred_url":"https://api.github.com/users/ragnarok56/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ragnarok56/subscriptions","organizations_url":"https://api.github.com/users/ragnarok56/orgs","repos_url":"https://api.github.com/users/ragnarok56/repos","events_url":"https://api.github.com/users/ragnarok56/events{/privacy}","received_events_url":"https://api.github.com/users/ragnarok56/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ragnarok56/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/ragnarok56/spark","forks_url":"https://api.github.com/repos/ragnarok56/spark/forks","keys_url":"https://api.github.com/repos/ragnarok56/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ragnarok56/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ragnarok56/spark/teams","hooks_url":"https://api.github.com/repos/ragnarok56/spark/hooks","issue_events_url":"https://api.github.com/repos/ragnarok56/spark/issues/events{/number}","events_url":"https://api.github.com/repos/ragnarok56/spark/events","assignees_url":"https://api.github.com/repos/ragnarok56/spark/assignees{/user}","branches_url":"https://api.github.com/repos/ragnarok56/spark/branches{/branch}","tags_url":"https://api.github.com/repos/ragnarok56/spark/tags","blobs_url":"https://api.github.com/repos/ragnarok56/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ragnarok56/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ragnarok56/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/ragnarok56/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ragnarok56/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/ragnarok56/spark/languages","stargazers_url":"https://api.github.com/repos/ragnarok56/spark/stargazers","contributors_url":"https://api.github.com/repos/ragnarok56/spark/contributors","subscribers_url":"https://api.github.com/repos/ragnarok56/spark/subscribers","subscription_url":"https://api.github.com/repos/ragnarok56/spark/subscription","commits_url":"https://api.github.com/repos/ragnarok56/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/ragnarok56/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/ragnarok56/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/ragnarok56/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/ragnarok56/spark/contents/{+path}","compare_url":"https://api.github.com/repos/ragnarok56/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ragnarok56/spark/merges","archive_url":"https://api.github.com/repos/ragnarok56/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ragnarok56/spark/downloads","issues_url":"https://api.github.com/repos/ragnarok56/spark/issues{/number}","pulls_url":"https://api.github.com/repos/ragnarok56/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/ragnarok56/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/ragnarok56/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ragnarok56/spark/labels{/name}","releases_url":"https://api.github.com/repos/ragnarok56/spark/releases{/id}","deployments_url":"https://api.github.com/repos/ragnarok56/spark/deployments","created_at":"2023-07-04T14:17:02Z","updated_at":"2024-06-24T00:17:32Z","pushed_at":"2024-07-04T01:52:37Z","git_url":"git://github.com/ragnarok56/spark.git","ssh_url":"git@github.com:ragnarok56/spark.git","clone_url":"https://github.com/ragnarok56/spark.git","svn_url":"https://github.com/ragnarok56/spark","homepage":"https://spark.apache.org/","size":398121,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"012d19d8e9b28f7ce266753bcfff4a76c9510245","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45362"},"html":{"href":"https://github.com/apache/spark/pull/45362"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45362"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45362/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45362/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45362/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/473cd39b079196056df8d9fe5cc84d02c84cd40f"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45361","id":1752323236,"node_id":"PR_kwDOAQXtWs5oclSk","html_url":"https://github.com/apache/spark/pull/45361","diff_url":"https://github.com/apache/spark/pull/45361.diff","patch_url":"https://github.com/apache/spark/pull/45361.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45361","number":45361,"state":"closed","locked":false,"title":"[SPARK-47251][PYTHON] Block invalid types from the `args` argument for `sql` command","user":{"login":"ueshin","id":506656,"node_id":"MDQ6VXNlcjUwNjY1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/506656?v=4","gravatar_id":"","url":"https://api.github.com/users/ueshin","html_url":"https://github.com/ueshin","followers_url":"https://api.github.com/users/ueshin/followers","following_url":"https://api.github.com/users/ueshin/following{/other_user}","gists_url":"https://api.github.com/users/ueshin/gists{/gist_id}","starred_url":"https://api.github.com/users/ueshin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ueshin/subscriptions","organizations_url":"https://api.github.com/users/ueshin/orgs","repos_url":"https://api.github.com/users/ueshin/repos","events_url":"https://api.github.com/users/ueshin/events{/privacy}","received_events_url":"https://api.github.com/users/ueshin/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n\r\nBlocks invalid types from the `args` argument for `sql` command.\r\n\r\nAdditionally, uses a `PySparkValueError` instead of assertions in Spark Connect.\r\n\r\n### Why are the changes needed?\r\n\r\nCurrently the vanilla PySpark accepts any value, even `set`, which could cause unexpected results because `set` won't guarantee the item order.\r\n\r\n```py\r\n>>> spark.sql(\"select ?, ?, ?\", args={2,1,3}).show()\r\n+---+---+---+\r\n|  1|  2|  3|\r\n+---+---+---+\r\n|  1|  2|  3|\r\n+---+---+---+\r\n```\r\n\r\nwhereas with list:\r\n\r\n```py\r\n>>> spark.sql(\"select ?, ?, ?\", args=[2,1,3]).show()\r\n+---+---+---+\r\n|  2|  1|  3|\r\n+---+---+---+\r\n|  2|  1|  3|\r\n+---+---+---+\r\n```\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n\r\nYes, the `args` argument for `sql` command will only accept `None`, `dict`, or `list`.\r\n\r\n### How was this patch tested?\r\n\r\nAdded the related tests.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n\r\nNo.","created_at":"2024-03-01T20:06:49Z","updated_at":"2024-03-02T08:25:19Z","closed_at":"2024-03-02T08:25:19Z","merged_at":null,"merge_commit_sha":"da8f84a6c61a2b69942591502c698deec52f2077","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1982260031,"node_id":"MDU6TGFiZWwxOTgyMjYwMDMx","url":"https://api.github.com/repos/apache/spark/labels/PYTHON","name":"PYTHON","color":"FBCA04","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45361/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45361/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45361/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/41d74a881202b479ebde0930ff60c0be1a4d5973","head":{"label":"ueshin:issues/SPARK-47251/args","ref":"issues/SPARK-47251/args","sha":"41d74a881202b479ebde0930ff60c0be1a4d5973","user":{"login":"ueshin","id":506656,"node_id":"MDQ6VXNlcjUwNjY1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/506656?v=4","gravatar_id":"","url":"https://api.github.com/users/ueshin","html_url":"https://github.com/ueshin","followers_url":"https://api.github.com/users/ueshin/followers","following_url":"https://api.github.com/users/ueshin/following{/other_user}","gists_url":"https://api.github.com/users/ueshin/gists{/gist_id}","starred_url":"https://api.github.com/users/ueshin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ueshin/subscriptions","organizations_url":"https://api.github.com/users/ueshin/orgs","repos_url":"https://api.github.com/users/ueshin/repos","events_url":"https://api.github.com/users/ueshin/events{/privacy}","received_events_url":"https://api.github.com/users/ueshin/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":17234665,"node_id":"MDEwOlJlcG9zaXRvcnkxNzIzNDY2NQ==","name":"apache-spark","full_name":"ueshin/apache-spark","private":false,"owner":{"login":"ueshin","id":506656,"node_id":"MDQ6VXNlcjUwNjY1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/506656?v=4","gravatar_id":"","url":"https://api.github.com/users/ueshin","html_url":"https://github.com/ueshin","followers_url":"https://api.github.com/users/ueshin/followers","following_url":"https://api.github.com/users/ueshin/following{/other_user}","gists_url":"https://api.github.com/users/ueshin/gists{/gist_id}","starred_url":"https://api.github.com/users/ueshin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ueshin/subscriptions","organizations_url":"https://api.github.com/users/ueshin/orgs","repos_url":"https://api.github.com/users/ueshin/repos","events_url":"https://api.github.com/users/ueshin/events{/privacy}","received_events_url":"https://api.github.com/users/ueshin/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ueshin/apache-spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/ueshin/apache-spark","forks_url":"https://api.github.com/repos/ueshin/apache-spark/forks","keys_url":"https://api.github.com/repos/ueshin/apache-spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ueshin/apache-spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ueshin/apache-spark/teams","hooks_url":"https://api.github.com/repos/ueshin/apache-spark/hooks","issue_events_url":"https://api.github.com/repos/ueshin/apache-spark/issues/events{/number}","events_url":"https://api.github.com/repos/ueshin/apache-spark/events","assignees_url":"https://api.github.com/repos/ueshin/apache-spark/assignees{/user}","branches_url":"https://api.github.com/repos/ueshin/apache-spark/branches{/branch}","tags_url":"https://api.github.com/repos/ueshin/apache-spark/tags","blobs_url":"https://api.github.com/repos/ueshin/apache-spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ueshin/apache-spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ueshin/apache-spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/ueshin/apache-spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ueshin/apache-spark/statuses/{sha}","languages_url":"https://api.github.com/repos/ueshin/apache-spark/languages","stargazers_url":"https://api.github.com/repos/ueshin/apache-spark/stargazers","contributors_url":"https://api.github.com/repos/ueshin/apache-spark/contributors","subscribers_url":"https://api.github.com/repos/ueshin/apache-spark/subscribers","subscription_url":"https://api.github.com/repos/ueshin/apache-spark/subscription","commits_url":"https://api.github.com/repos/ueshin/apache-spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/ueshin/apache-spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/ueshin/apache-spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/ueshin/apache-spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/ueshin/apache-spark/contents/{+path}","compare_url":"https://api.github.com/repos/ueshin/apache-spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ueshin/apache-spark/merges","archive_url":"https://api.github.com/repos/ueshin/apache-spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ueshin/apache-spark/downloads","issues_url":"https://api.github.com/repos/ueshin/apache-spark/issues{/number}","pulls_url":"https://api.github.com/repos/ueshin/apache-spark/pulls{/number}","milestones_url":"https://api.github.com/repos/ueshin/apache-spark/milestones{/number}","notifications_url":"https://api.github.com/repos/ueshin/apache-spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ueshin/apache-spark/labels{/name}","releases_url":"https://api.github.com/repos/ueshin/apache-spark/releases{/id}","deployments_url":"https://api.github.com/repos/ueshin/apache-spark/deployments","created_at":"2014-02-27T03:10:47Z","updated_at":"2025-02-07T02:07:18Z","pushed_at":"2025-02-07T19:29:05Z","git_url":"git://github.com/ueshin/apache-spark.git","ssh_url":"git@github.com:ueshin/apache-spark.git","clone_url":"https://github.com/ueshin/apache-spark.git","svn_url":"https://github.com/ueshin/apache-spark","homepage":null,"size":484941,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":8,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":8,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"e46d7d1c60ab82a734bb5c40229d5e72a47dd932","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45361"},"html":{"href":"https://github.com/apache/spark/pull/45361"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45361"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45361/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45361/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45361/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/41d74a881202b479ebde0930ff60c0be1a4d5973"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45360","id":1752284564,"node_id":"PR_kwDOAQXtWs5ocb2U","html_url":"https://github.com/apache/spark/pull/45360","diff_url":"https://github.com/apache/spark/pull/45360.diff","patch_url":"https://github.com/apache/spark/pull/45360.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45360","number":45360,"state":"closed","locked":false,"title":"[SPARK-47250][SS] Add additional validations and NERF changes for RocksDB state provider and use of column families","user":{"login":"anishshri-db","id":100322362,"node_id":"U_kgDOBfrMOg","avatar_url":"https://avatars.githubusercontent.com/u/100322362?v=4","gravatar_id":"","url":"https://api.github.com/users/anishshri-db","html_url":"https://github.com/anishshri-db","followers_url":"https://api.github.com/users/anishshri-db/followers","following_url":"https://api.github.com/users/anishshri-db/following{/other_user}","gists_url":"https://api.github.com/users/anishshri-db/gists{/gist_id}","starred_url":"https://api.github.com/users/anishshri-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anishshri-db/subscriptions","organizations_url":"https://api.github.com/users/anishshri-db/orgs","repos_url":"https://api.github.com/users/anishshri-db/repos","events_url":"https://api.github.com/users/anishshri-db/events{/privacy}","received_events_url":"https://api.github.com/users/anishshri-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nAdd additional validations and NERF changes for RocksDB state provider and use of col families\r\n\r\n\r\n### Why are the changes needed?\r\nImprove error handling and migrating errors to NERF. \r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nAdded new unit tests\r\nStateStoreSuite\r\n```\r\n===== POSSIBLE THREAD LEAK IN SUITE o.a.s.sql.execution.streaming.state.StateStoreSuite, threads: shuffle-boss-36-1 (daemon=true), ForkJoinPool.commonPool-worker-1 (daemon=true), ForkJoinPool.commonPool-worker-3 (daemon=true), rpc-boss-33-1 (daemon=true), ForkJoinPool.commonPool-worker-2 (daemon=true) =====\r\n[info] Run completed in 2 minutes, 57 seconds.\r\n[info] Total number of tests run: 151\r\n[info] Suites: completed 1, aborted 0\r\n[info] Tests: succeeded 151, failed 0, canceled 0, ignored 0, pending 0\r\n[info] All tests passed.\r\n```\r\n\r\nRocksDBSuite\r\n```\r\n[info] Run completed in 4 minutes, 54 seconds.\r\n[info] Total number of tests run: 188\r\n[info] Suites: completed 1, aborted 0\r\n[info] Tests: succeeded 188, failed 0, canceled 0, ignored 0, pending 0\r\n[info] All tests passed.\r\n```\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo\r\n","created_at":"2024-03-01T19:34:37Z","updated_at":"2024-03-12T05:27:56Z","closed_at":"2024-03-12T05:27:56Z","merged_at":null,"merge_commit_sha":"258c871707b45665338d7da46c7bb2a0722833d3","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45360/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45360/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45360/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/8da5937f258b08b0b87828d923fffc08b0010227","head":{"label":"anishshri-db:task/SPARK-47250","ref":"task/SPARK-47250","sha":"8da5937f258b08b0b87828d923fffc08b0010227","user":{"login":"anishshri-db","id":100322362,"node_id":"U_kgDOBfrMOg","avatar_url":"https://avatars.githubusercontent.com/u/100322362?v=4","gravatar_id":"","url":"https://api.github.com/users/anishshri-db","html_url":"https://github.com/anishshri-db","followers_url":"https://api.github.com/users/anishshri-db/followers","following_url":"https://api.github.com/users/anishshri-db/following{/other_user}","gists_url":"https://api.github.com/users/anishshri-db/gists{/gist_id}","starred_url":"https://api.github.com/users/anishshri-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anishshri-db/subscriptions","organizations_url":"https://api.github.com/users/anishshri-db/orgs","repos_url":"https://api.github.com/users/anishshri-db/repos","events_url":"https://api.github.com/users/anishshri-db/events{/privacy}","received_events_url":"https://api.github.com/users/anishshri-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":477925242,"node_id":"R_kgDOHHyPeg","name":"spark","full_name":"anishshri-db/spark","private":false,"owner":{"login":"anishshri-db","id":100322362,"node_id":"U_kgDOBfrMOg","avatar_url":"https://avatars.githubusercontent.com/u/100322362?v=4","gravatar_id":"","url":"https://api.github.com/users/anishshri-db","html_url":"https://github.com/anishshri-db","followers_url":"https://api.github.com/users/anishshri-db/followers","following_url":"https://api.github.com/users/anishshri-db/following{/other_user}","gists_url":"https://api.github.com/users/anishshri-db/gists{/gist_id}","starred_url":"https://api.github.com/users/anishshri-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anishshri-db/subscriptions","organizations_url":"https://api.github.com/users/anishshri-db/orgs","repos_url":"https://api.github.com/users/anishshri-db/repos","events_url":"https://api.github.com/users/anishshri-db/events{/privacy}","received_events_url":"https://api.github.com/users/anishshri-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/anishshri-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/anishshri-db/spark","forks_url":"https://api.github.com/repos/anishshri-db/spark/forks","keys_url":"https://api.github.com/repos/anishshri-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/anishshri-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/anishshri-db/spark/teams","hooks_url":"https://api.github.com/repos/anishshri-db/spark/hooks","issue_events_url":"https://api.github.com/repos/anishshri-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/anishshri-db/spark/events","assignees_url":"https://api.github.com/repos/anishshri-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/anishshri-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/anishshri-db/spark/tags","blobs_url":"https://api.github.com/repos/anishshri-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/anishshri-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/anishshri-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/anishshri-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/anishshri-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/anishshri-db/spark/languages","stargazers_url":"https://api.github.com/repos/anishshri-db/spark/stargazers","contributors_url":"https://api.github.com/repos/anishshri-db/spark/contributors","subscribers_url":"https://api.github.com/repos/anishshri-db/spark/subscribers","subscription_url":"https://api.github.com/repos/anishshri-db/spark/subscription","commits_url":"https://api.github.com/repos/anishshri-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/anishshri-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/anishshri-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/anishshri-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/anishshri-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/anishshri-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/anishshri-db/spark/merges","archive_url":"https://api.github.com/repos/anishshri-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/anishshri-db/spark/downloads","issues_url":"https://api.github.com/repos/anishshri-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/anishshri-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/anishshri-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/anishshri-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/anishshri-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/anishshri-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/anishshri-db/spark/deployments","created_at":"2022-04-05T00:49:09Z","updated_at":"2025-02-07T06:48:07Z","pushed_at":"2025-02-08T01:18:11Z","git_url":"git://github.com/anishshri-db/spark.git","ssh_url":"git@github.com:anishshri-db/spark.git","clone_url":"https://github.com/anishshri-db/spark.git","svn_url":"https://github.com/anishshri-db/spark","homepage":"https://spark.apache.org/","size":468506,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"72a95bcad7f1906c97fb0971ed6338374ec3009d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45360"},"html":{"href":"https://github.com/apache/spark/pull/45360"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45360"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45360/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45360/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45360/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/8da5937f258b08b0b87828d923fffc08b0010227"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45359","id":1752189963,"node_id":"PR_kwDOAQXtWs5ocEwL","html_url":"https://github.com/apache/spark/pull/45359","diff_url":"https://github.com/apache/spark/pull/45359.diff","patch_url":"https://github.com/apache/spark/pull/45359.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45359","number":45359,"state":"closed","locked":false,"title":"[SPARK-46961][SS] Using ProcessorContext to store and retrieve handle ","user":{"login":"ericm-db","id":132308037,"node_id":"U_kgDOB-LcRQ","avatar_url":"https://avatars.githubusercontent.com/u/132308037?v=4","gravatar_id":"","url":"https://api.github.com/users/ericm-db","html_url":"https://github.com/ericm-db","followers_url":"https://api.github.com/users/ericm-db/followers","following_url":"https://api.github.com/users/ericm-db/following{/other_user}","gists_url":"https://api.github.com/users/ericm-db/gists{/gist_id}","starred_url":"https://api.github.com/users/ericm-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ericm-db/subscriptions","organizations_url":"https://api.github.com/users/ericm-db/orgs","repos_url":"https://api.github.com/users/ericm-db/repos","events_url":"https://api.github.com/users/ericm-db/events{/privacy}","received_events_url":"https://api.github.com/users/ericm-db/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nSetting the processorHandle as a part of the statefulProcessor, so that the user doesn't have to explicitly keep track of it, and can instead simply call `getStatefulProcessorHandle`\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nThis enhances the usability of the State API\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes, this is an API change. This enhances usability of the StatefulProcessorHandle and the TransformWithState operator.\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nExisting unit tests are sufficient\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo","created_at":"2024-03-01T18:17:33Z","updated_at":"2024-03-04T18:20:29Z","closed_at":"2024-03-04T18:20:29Z","merged_at":null,"merge_commit_sha":"3e3a1e3b193a2eec15fc1058304c2517f510e542","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":1406587328,"node_id":"MDU6TGFiZWwxNDA2NTg3MzI4","url":"https://api.github.com/repos/apache/spark/labels/STRUCTURED%20STREAMING","name":"STRUCTURED STREAMING","color":"ededed","default":false,"description":null},{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45359/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45359/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45359/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/312e2a56e0c22d3ea904ec1d79538423407988af","head":{"label":"ericm-db:handle-context","ref":"handle-context","sha":"312e2a56e0c22d3ea904ec1d79538423407988af","user":{"login":"ericm-db","id":132308037,"node_id":"U_kgDOB-LcRQ","avatar_url":"https://avatars.githubusercontent.com/u/132308037?v=4","gravatar_id":"","url":"https://api.github.com/users/ericm-db","html_url":"https://github.com/ericm-db","followers_url":"https://api.github.com/users/ericm-db/followers","following_url":"https://api.github.com/users/ericm-db/following{/other_user}","gists_url":"https://api.github.com/users/ericm-db/gists{/gist_id}","starred_url":"https://api.github.com/users/ericm-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ericm-db/subscriptions","organizations_url":"https://api.github.com/users/ericm-db/orgs","repos_url":"https://api.github.com/users/ericm-db/repos","events_url":"https://api.github.com/users/ericm-db/events{/privacy}","received_events_url":"https://api.github.com/users/ericm-db/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":642041202,"node_id":"R_kgDOJkTFcg","name":"spark","full_name":"ericm-db/spark","private":false,"owner":{"login":"ericm-db","id":132308037,"node_id":"U_kgDOB-LcRQ","avatar_url":"https://avatars.githubusercontent.com/u/132308037?v=4","gravatar_id":"","url":"https://api.github.com/users/ericm-db","html_url":"https://github.com/ericm-db","followers_url":"https://api.github.com/users/ericm-db/followers","following_url":"https://api.github.com/users/ericm-db/following{/other_user}","gists_url":"https://api.github.com/users/ericm-db/gists{/gist_id}","starred_url":"https://api.github.com/users/ericm-db/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ericm-db/subscriptions","organizations_url":"https://api.github.com/users/ericm-db/orgs","repos_url":"https://api.github.com/users/ericm-db/repos","events_url":"https://api.github.com/users/ericm-db/events{/privacy}","received_events_url":"https://api.github.com/users/ericm-db/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/ericm-db/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/ericm-db/spark","forks_url":"https://api.github.com/repos/ericm-db/spark/forks","keys_url":"https://api.github.com/repos/ericm-db/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/ericm-db/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/ericm-db/spark/teams","hooks_url":"https://api.github.com/repos/ericm-db/spark/hooks","issue_events_url":"https://api.github.com/repos/ericm-db/spark/issues/events{/number}","events_url":"https://api.github.com/repos/ericm-db/spark/events","assignees_url":"https://api.github.com/repos/ericm-db/spark/assignees{/user}","branches_url":"https://api.github.com/repos/ericm-db/spark/branches{/branch}","tags_url":"https://api.github.com/repos/ericm-db/spark/tags","blobs_url":"https://api.github.com/repos/ericm-db/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/ericm-db/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/ericm-db/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/ericm-db/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/ericm-db/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/ericm-db/spark/languages","stargazers_url":"https://api.github.com/repos/ericm-db/spark/stargazers","contributors_url":"https://api.github.com/repos/ericm-db/spark/contributors","subscribers_url":"https://api.github.com/repos/ericm-db/spark/subscribers","subscription_url":"https://api.github.com/repos/ericm-db/spark/subscription","commits_url":"https://api.github.com/repos/ericm-db/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/ericm-db/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/ericm-db/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/ericm-db/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/ericm-db/spark/contents/{+path}","compare_url":"https://api.github.com/repos/ericm-db/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/ericm-db/spark/merges","archive_url":"https://api.github.com/repos/ericm-db/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/ericm-db/spark/downloads","issues_url":"https://api.github.com/repos/ericm-db/spark/issues{/number}","pulls_url":"https://api.github.com/repos/ericm-db/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/ericm-db/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/ericm-db/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/ericm-db/spark/labels{/name}","releases_url":"https://api.github.com/repos/ericm-db/spark/releases{/id}","deployments_url":"https://api.github.com/repos/ericm-db/spark/deployments","created_at":"2023-05-17T17:32:51Z","updated_at":"2024-10-22T17:11:59Z","pushed_at":"2025-02-07T20:14:46Z","git_url":"git://github.com/ericm-db/spark.git","ssh_url":"git@github.com:ericm-db/spark.git","clone_url":"https://github.com/ericm-db/spark.git","svn_url":"https://github.com/ericm-db/spark","homepage":"https://spark.apache.org/","size":426711,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"2981618d5aadc90c371f00a84a0bac8dcf5ad6e5","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45359"},"html":{"href":"https://github.com/apache/spark/pull/45359"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45359"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45359/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45359/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45359/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/312e2a56e0c22d3ea904ec1d79538423407988af"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45358","id":1752044621,"node_id":"PR_kwDOAQXtWs5obhRN","html_url":"https://github.com/apache/spark/pull/45358","diff_url":"https://github.com/apache/spark/pull/45358.diff","patch_url":"https://github.com/apache/spark/pull/45358.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45358","number":45358,"state":"closed","locked":false,"title":"[SPARK-47249][CONNECT] Fix bug where all connect executions are considered abandoned regardless of their actual status  ","user":{"login":"vicennial","id":21010250,"node_id":"MDQ6VXNlcjIxMDEwMjUw","avatar_url":"https://avatars.githubusercontent.com/u/21010250?v=4","gravatar_id":"","url":"https://api.github.com/users/vicennial","html_url":"https://github.com/vicennial","followers_url":"https://api.github.com/users/vicennial/followers","following_url":"https://api.github.com/users/vicennial/following{/other_user}","gists_url":"https://api.github.com/users/vicennial/gists{/gist_id}","starred_url":"https://api.github.com/users/vicennial/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vicennial/subscriptions","organizations_url":"https://api.github.com/users/vicennial/orgs","repos_url":"https://api.github.com/users/vicennial/repos","events_url":"https://api.github.com/users/vicennial/events{/privacy}","received_events_url":"https://api.github.com/users/vicennial/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nAdds a guard to check if the execution was abandoned before putting it into the `abandonedTombstones` cache\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nFixes a bug where all connect executions end up in the `abandonedTombstones` cache due to a missing `if` guard.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes, it fixes previously incorrect behaviour. A user would hit an `OPERATION_ABANDONED` error if they attempted to reattach to an operation that has already been completed (for some particular reason) when it should not error out (or at least, with the mentioned error). \r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nNew unit test.\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo.","created_at":"2024-03-01T16:46:00Z","updated_at":"2024-03-04T00:42:21Z","closed_at":"2024-03-04T00:42:21Z","merged_at":null,"merge_commit_sha":"8eb0bc505db36f7499bc80940f485e1b756ec598","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45358/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45358/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45358/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b7791d7f9966b5533b4e7a774fd3a3d6696ac4f6","head":{"label":"vicennial:SPARK-47249","ref":"SPARK-47249","sha":"b7791d7f9966b5533b4e7a774fd3a3d6696ac4f6","user":{"login":"vicennial","id":21010250,"node_id":"MDQ6VXNlcjIxMDEwMjUw","avatar_url":"https://avatars.githubusercontent.com/u/21010250?v=4","gravatar_id":"","url":"https://api.github.com/users/vicennial","html_url":"https://github.com/vicennial","followers_url":"https://api.github.com/users/vicennial/followers","following_url":"https://api.github.com/users/vicennial/following{/other_user}","gists_url":"https://api.github.com/users/vicennial/gists{/gist_id}","starred_url":"https://api.github.com/users/vicennial/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vicennial/subscriptions","organizations_url":"https://api.github.com/users/vicennial/orgs","repos_url":"https://api.github.com/users/vicennial/repos","events_url":"https://api.github.com/users/vicennial/events{/privacy}","received_events_url":"https://api.github.com/users/vicennial/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":402021456,"node_id":"MDEwOlJlcG9zaXRvcnk0MDIwMjE0NTY=","name":"spark","full_name":"vicennial/spark","private":false,"owner":{"login":"vicennial","id":21010250,"node_id":"MDQ6VXNlcjIxMDEwMjUw","avatar_url":"https://avatars.githubusercontent.com/u/21010250?v=4","gravatar_id":"","url":"https://api.github.com/users/vicennial","html_url":"https://github.com/vicennial","followers_url":"https://api.github.com/users/vicennial/followers","following_url":"https://api.github.com/users/vicennial/following{/other_user}","gists_url":"https://api.github.com/users/vicennial/gists{/gist_id}","starred_url":"https://api.github.com/users/vicennial/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vicennial/subscriptions","organizations_url":"https://api.github.com/users/vicennial/orgs","repos_url":"https://api.github.com/users/vicennial/repos","events_url":"https://api.github.com/users/vicennial/events{/privacy}","received_events_url":"https://api.github.com/users/vicennial/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/vicennial/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/vicennial/spark","forks_url":"https://api.github.com/repos/vicennial/spark/forks","keys_url":"https://api.github.com/repos/vicennial/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/vicennial/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/vicennial/spark/teams","hooks_url":"https://api.github.com/repos/vicennial/spark/hooks","issue_events_url":"https://api.github.com/repos/vicennial/spark/issues/events{/number}","events_url":"https://api.github.com/repos/vicennial/spark/events","assignees_url":"https://api.github.com/repos/vicennial/spark/assignees{/user}","branches_url":"https://api.github.com/repos/vicennial/spark/branches{/branch}","tags_url":"https://api.github.com/repos/vicennial/spark/tags","blobs_url":"https://api.github.com/repos/vicennial/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/vicennial/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/vicennial/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/vicennial/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/vicennial/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/vicennial/spark/languages","stargazers_url":"https://api.github.com/repos/vicennial/spark/stargazers","contributors_url":"https://api.github.com/repos/vicennial/spark/contributors","subscribers_url":"https://api.github.com/repos/vicennial/spark/subscribers","subscription_url":"https://api.github.com/repos/vicennial/spark/subscription","commits_url":"https://api.github.com/repos/vicennial/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/vicennial/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/vicennial/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/vicennial/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/vicennial/spark/contents/{+path}","compare_url":"https://api.github.com/repos/vicennial/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/vicennial/spark/merges","archive_url":"https://api.github.com/repos/vicennial/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/vicennial/spark/downloads","issues_url":"https://api.github.com/repos/vicennial/spark/issues{/number}","pulls_url":"https://api.github.com/repos/vicennial/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/vicennial/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/vicennial/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/vicennial/spark/labels{/name}","releases_url":"https://api.github.com/repos/vicennial/spark/releases{/id}","deployments_url":"https://api.github.com/repos/vicennial/spark/deployments","created_at":"2021-09-01T10:32:35Z","updated_at":"2022-11-28T12:17:58Z","pushed_at":"2025-02-07T09:29:37Z","git_url":"git://github.com/vicennial/spark.git","ssh_url":"git@github.com:vicennial/spark.git","clone_url":"https://github.com/vicennial/spark.git","svn_url":"https://github.com/vicennial/spark","homepage":"https://spark.apache.org/","size":466428,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"2981618d5aadc90c371f00a84a0bac8dcf5ad6e5","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45358"},"html":{"href":"https://github.com/apache/spark/pull/45358"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45358"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45358/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45358/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45358/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b7791d7f9966b5533b4e7a774fd3a3d6696ac4f6"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45357","id":1751433946,"node_id":"PR_kwDOAQXtWs5oZMLa","html_url":"https://github.com/apache/spark/pull/45357","diff_url":"https://github.com/apache/spark/pull/45357.diff","patch_url":"https://github.com/apache/spark/pull/45357.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45357","number":45357,"state":"closed","locked":false,"title":"[SPARK-47247][SQL] Use smaller target size when coalescing partitions with exploding joins","user":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nThis PR changes the target partition size of AQE partition coalescing from `spark.sql.adaptive.advisoryPartitionSizeInBytes` (default 64MB) to `spark.sql.adaptive.coalescePartitions.minPartitionSize` (default 1MB) for non-equi joins, namely, broadcast nested loop join and cartesian product join, in order to minimize OOM risks as these join operators tend to be exploding joins and usually work better with smaller partitions compared to other operators.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\nreduce the OOM risk, as after data exploding, 64mb input can become super large\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nno\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nnew test\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nno","created_at":"2024-03-01T10:36:18Z","updated_at":"2024-03-06T02:57:14Z","closed_at":"2024-03-06T02:57:14Z","merged_at":null,"merge_commit_sha":"6e20f24cb5a6e8708f5bb354fb8c777fec19170d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45357/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45357/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45357/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/4c544ac23c7c1a93dd7832d8011513fadffc0e7a","head":{"label":"cloud-fan:coalesce","ref":"coalesce","sha":"4c544ac23c7c1a93dd7832d8011513fadffc0e7a","user":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":19689699,"node_id":"MDEwOlJlcG9zaXRvcnkxOTY4OTY5OQ==","name":"spark","full_name":"cloud-fan/spark","private":false,"owner":{"login":"cloud-fan","id":3182036,"node_id":"MDQ6VXNlcjMxODIwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/3182036?v=4","gravatar_id":"","url":"https://api.github.com/users/cloud-fan","html_url":"https://github.com/cloud-fan","followers_url":"https://api.github.com/users/cloud-fan/followers","following_url":"https://api.github.com/users/cloud-fan/following{/other_user}","gists_url":"https://api.github.com/users/cloud-fan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloud-fan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloud-fan/subscriptions","organizations_url":"https://api.github.com/users/cloud-fan/orgs","repos_url":"https://api.github.com/users/cloud-fan/repos","events_url":"https://api.github.com/users/cloud-fan/events{/privacy}","received_events_url":"https://api.github.com/users/cloud-fan/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/cloud-fan/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/cloud-fan/spark","forks_url":"https://api.github.com/repos/cloud-fan/spark/forks","keys_url":"https://api.github.com/repos/cloud-fan/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cloud-fan/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cloud-fan/spark/teams","hooks_url":"https://api.github.com/repos/cloud-fan/spark/hooks","issue_events_url":"https://api.github.com/repos/cloud-fan/spark/issues/events{/number}","events_url":"https://api.github.com/repos/cloud-fan/spark/events","assignees_url":"https://api.github.com/repos/cloud-fan/spark/assignees{/user}","branches_url":"https://api.github.com/repos/cloud-fan/spark/branches{/branch}","tags_url":"https://api.github.com/repos/cloud-fan/spark/tags","blobs_url":"https://api.github.com/repos/cloud-fan/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cloud-fan/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cloud-fan/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/cloud-fan/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cloud-fan/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/cloud-fan/spark/languages","stargazers_url":"https://api.github.com/repos/cloud-fan/spark/stargazers","contributors_url":"https://api.github.com/repos/cloud-fan/spark/contributors","subscribers_url":"https://api.github.com/repos/cloud-fan/spark/subscribers","subscription_url":"https://api.github.com/repos/cloud-fan/spark/subscription","commits_url":"https://api.github.com/repos/cloud-fan/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/cloud-fan/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/cloud-fan/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/cloud-fan/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/cloud-fan/spark/contents/{+path}","compare_url":"https://api.github.com/repos/cloud-fan/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cloud-fan/spark/merges","archive_url":"https://api.github.com/repos/cloud-fan/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cloud-fan/spark/downloads","issues_url":"https://api.github.com/repos/cloud-fan/spark/issues{/number}","pulls_url":"https://api.github.com/repos/cloud-fan/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/cloud-fan/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/cloud-fan/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cloud-fan/spark/labels{/name}","releases_url":"https://api.github.com/repos/cloud-fan/spark/releases{/id}","deployments_url":"https://api.github.com/repos/cloud-fan/spark/deployments","created_at":"2014-05-12T07:32:26Z","updated_at":"2022-06-21T07:59:41Z","pushed_at":"2025-02-07T13:15:09Z","git_url":"git://github.com/cloud-fan/spark.git","ssh_url":"git@github.com:cloud-fan/spark.git","clone_url":"https://github.com/cloud-fan/spark.git","svn_url":"https://github.com/cloud-fan/spark","homepage":null,"size":467110,"stargazers_count":3,"watchers_count":3,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":0,"watchers":3,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"a5a282234295467a2bf4a13eb25f51a971bd1a05","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45357"},"html":{"href":"https://github.com/apache/spark/pull/45357"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45357"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45357/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45357/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45357/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/4c544ac23c7c1a93dd7832d8011513fadffc0e7a"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45356","id":1751324748,"node_id":"PR_kwDOAQXtWs5oYxhM","html_url":"https://github.com/apache/spark/pull/45356","diff_url":"https://github.com/apache/spark/pull/45356.diff","patch_url":"https://github.com/apache/spark/pull/45356.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45356","number":45356,"state":"closed","locked":false,"title":"[SPARK-47246][SQL] Replace `InternalRow.fromSeq` with `new GenericInternalRow` to save a collection conversion","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\nThis PR changes the use of `InternalRow.fromSeq` in the following scenarios to directly construct `GenericInternalRow` to save a collection conversion:\r\n\r\n1. The input is a locally constructed `Array`, such as:\r\n\r\nhttps://github.com/apache/spark/blob/a5a282234295467a2bf4a13eb25f51a971bd1a05/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/expressions/literals.scala#L204-L206\r\n\r\nhttps://github.com/apache/spark/blob/a5a282234295467a2bf4a13eb25f51a971bd1a05/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/expressions/objects/objects.scala#L1517\r\n\r\nhttps://github.com/apache/spark/blob/a5a282234295467a2bf4a13eb25f51a971bd1a05/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/xml/StaxXmlParser.scala#L332\r\n\r\nhttps://github.com/apache/spark/blob/a5a282234295467a2bf4a13eb25f51a971bd1a05/sql/core/src/main/scala/org/apache/spark/sql/execution/columnar/InMemoryRelation.scala#L114-L115\r\n\r\nand so on.\r\n\r\n2. The input is a manually constructed `Seq`, which can be changed to manually construct an `Array`, such as:\r\n\r\nhttps://github.com/apache/spark/blob/a5a282234295467a2bf4a13eb25f51a971bd1a05/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/v2/state/metadata/StateMetadataSource.scala#L61-L69\r\n\r\nhttps://github.com/apache/spark/blob/a5a282234295467a2bf4a13eb25f51a971bd1a05/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/xml/StaxXmlParser.scala#L330\r\n\r\n3. The input can be directly converted to an `Array`, without the need to first convert to `Seq` and then call `InternalRow.fromSeq` to convert to `Array`, such as:\r\n\r\nhttps://github.com/apache/spark/blob/a5a282234295467a2bf4a13eb25f51a971bd1a05/sql/hive/src/main/scala/org/apache/spark/sql/hive/HiveInspectors.scala#L747\r\n\r\nhttps://github.com/apache/spark/blob/a5a282234295467a2bf4a13eb25f51a971bd1a05/sql/hive/src/main/scala/org/apache/spark/sql/hive/execution/HiveTableScanExec.scala#L162\r\n\r\nThis PR only modifies parts under `src`, and does not modify cases in the test.\r\n\r\n### Why are the changes needed?\r\nAvoid some unnecessary collection conversions\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n\r\n### How was this patch tested?\r\nPass Github Actions\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nNo","created_at":"2024-03-01T09:35:45Z","updated_at":"2024-03-04T11:27:11Z","closed_at":"2024-03-04T02:13:16Z","merged_at":null,"merge_commit_sha":"f6ee446897d032de9388c5eefddc75507c3dfe2d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45356/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45356/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45356/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/b86a1a41a1d165b50957ac7e25f072ec7c403673","head":{"label":"LuciferYang:fromSeq","ref":"fromSeq","sha":"b86a1a41a1d165b50957ac7e25f072ec7c403673","user":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":104327447,"node_id":"MDEwOlJlcG9zaXRvcnkxMDQzMjc0NDc=","name":"spark","full_name":"LuciferYang/spark","private":false,"owner":{"login":"LuciferYang","id":1475305,"node_id":"MDQ6VXNlcjE0NzUzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/1475305?v=4","gravatar_id":"","url":"https://api.github.com/users/LuciferYang","html_url":"https://github.com/LuciferYang","followers_url":"https://api.github.com/users/LuciferYang/followers","following_url":"https://api.github.com/users/LuciferYang/following{/other_user}","gists_url":"https://api.github.com/users/LuciferYang/gists{/gist_id}","starred_url":"https://api.github.com/users/LuciferYang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuciferYang/subscriptions","organizations_url":"https://api.github.com/users/LuciferYang/orgs","repos_url":"https://api.github.com/users/LuciferYang/repos","events_url":"https://api.github.com/users/LuciferYang/events{/privacy}","received_events_url":"https://api.github.com/users/LuciferYang/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/LuciferYang/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/LuciferYang/spark","forks_url":"https://api.github.com/repos/LuciferYang/spark/forks","keys_url":"https://api.github.com/repos/LuciferYang/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/LuciferYang/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/LuciferYang/spark/teams","hooks_url":"https://api.github.com/repos/LuciferYang/spark/hooks","issue_events_url":"https://api.github.com/repos/LuciferYang/spark/issues/events{/number}","events_url":"https://api.github.com/repos/LuciferYang/spark/events","assignees_url":"https://api.github.com/repos/LuciferYang/spark/assignees{/user}","branches_url":"https://api.github.com/repos/LuciferYang/spark/branches{/branch}","tags_url":"https://api.github.com/repos/LuciferYang/spark/tags","blobs_url":"https://api.github.com/repos/LuciferYang/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/LuciferYang/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/LuciferYang/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/LuciferYang/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/LuciferYang/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/LuciferYang/spark/languages","stargazers_url":"https://api.github.com/repos/LuciferYang/spark/stargazers","contributors_url":"https://api.github.com/repos/LuciferYang/spark/contributors","subscribers_url":"https://api.github.com/repos/LuciferYang/spark/subscribers","subscription_url":"https://api.github.com/repos/LuciferYang/spark/subscription","commits_url":"https://api.github.com/repos/LuciferYang/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/LuciferYang/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/LuciferYang/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/LuciferYang/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/LuciferYang/spark/contents/{+path}","compare_url":"https://api.github.com/repos/LuciferYang/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/LuciferYang/spark/merges","archive_url":"https://api.github.com/repos/LuciferYang/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/LuciferYang/spark/downloads","issues_url":"https://api.github.com/repos/LuciferYang/spark/issues{/number}","pulls_url":"https://api.github.com/repos/LuciferYang/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/LuciferYang/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/LuciferYang/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/LuciferYang/spark/labels{/name}","releases_url":"https://api.github.com/repos/LuciferYang/spark/releases{/id}","deployments_url":"https://api.github.com/repos/LuciferYang/spark/deployments","created_at":"2017-09-21T09:20:50Z","updated_at":"2025-01-28T10:58:52Z","pushed_at":"2025-02-07T09:06:28Z","git_url":"git://github.com/LuciferYang/spark.git","ssh_url":"git@github.com:LuciferYang/spark.git","clone_url":"https://github.com/LuciferYang/spark.git","svn_url":"https://github.com/LuciferYang/spark","homepage":null,"size":478124,"stargazers_count":1,"watchers_count":1,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":4,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":4,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"ee15cbd3ac3cc98ae262834b4f16e74fe54d82c3","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45356"},"html":{"href":"https://github.com/apache/spark/pull/45356"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45356"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45356/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45356/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45356/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/b86a1a41a1d165b50957ac7e25f072ec7c403673"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45355","id":1751259085,"node_id":"PR_kwDOAQXtWs5oYhfN","html_url":"https://github.com/apache/spark/pull/45355","diff_url":"https://github.com/apache/spark/pull/45355.diff","patch_url":"https://github.com/apache/spark/pull/45355.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45355","number":45355,"state":"closed","locked":false,"title":"[SPARK-47245][SQL] Improve error code for INVALID_PARTITION_COLUMN_DATA_TYPE","user":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"<!--\r\nThanks for sending a pull request!  Here are some tips for you:\r\n  1. If this is your first time, please read our contributor guidelines: https://spark.apache.org/contributing.html\r\n  2. Ensure you have added or run the appropriate tests for your PR: https://spark.apache.org/developer-tools.html\r\n  3. If the PR is unfinished, add '[WIP]' in your PR title, e.g., '[WIP][SPARK-XXXX] Your PR title ...'.\r\n  4. Be sure to keep the PR description updated to reflect all changes.\r\n  5. Please write your PR title to summarize what this PR proposes.\r\n  6. If possible, provide a concise example to reproduce the issue for a faster review.\r\n  7. If you want to add a new configuration, please read the guideline first for naming configurations in\r\n     'core/src/main/scala/org/apache/spark/internal/config/ConfigEntry.scala'.\r\n  8. If you want to add or modify an error type or message, please read the guideline first in\r\n     'common/utils/src/main/resources/error/README.md'.\r\n-->\r\n\r\n### What changes were proposed in this pull request?\r\n<!--\r\nPlease clarify what changes you are proposing. The purpose of this section is to outline the changes and how this PR fixes the issue. \r\nIf possible, please consider writing useful notes for better and faster reviews in your PR. See the examples below.\r\n  1. If you refactor some codes with changing classes, showing the class hierarchy will help reviewers.\r\n  2. If you fix some SQL features, you can provide some references of other DBMSes.\r\n  3. If there is design documentation, please add the link.\r\n  4. If there is a discussion in the mailing list, please add the link.\r\n-->\r\nImproving the error code for error class `INVALID_PARTITION_COLUMN_DATA_TYPE`.\r\n\r\n### Why are the changes needed?\r\n<!--\r\nPlease clarify why the changes are needed. For instance,\r\n  1. If you propose a new API, clarify the use case for a new API.\r\n  2. If you fix a bug, you can clarify why it is a bug.\r\n-->\r\n`0A000` means a feature is not supported, It implies that in some future it may be and the user hit a limit rather than just writing something inherently wrong.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\n<!--\r\nNote that it means *any* user-facing change including all aspects such as the documentation fix.\r\nIf yes, please clarify the previous behavior and the change this PR proposes - provide the console output, description and/or an example to show the behavior difference if possible.\r\nIf possible, please also clarify if this is a user-facing change compared to the released Spark versions or within the unreleased branches such as master.\r\nIf no, write 'No'.\r\n-->\r\nYes, new sql error code\r\n\r\n### How was this patch tested?\r\n<!--\r\nIf tests were added, say they were added here. Please make sure to add some test cases that check the changes thoroughly including negative and positive cases if possible.\r\nIf it was tested in a way different from regular unit tests, please clarify how you tested step by step, ideally copy and paste-able, so that other reviewers can test and check, and descendants can verify in the future.\r\nIf tests were not added, please describe why they were not added and/or why it was difficult to add.\r\nIf benchmark tests were added, please run the benchmarks in GitHub Actions for the consistent environment, and the instructions could accord to: https://spark.apache.org/developer-tools.html#github-workflow-benchmarks.\r\n-->\r\nUTs\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\n<!--\r\nIf generative AI tooling has been used in the process of authoring this patch, please include the\r\nphrase: 'Generated-by: ' followed by the name of the tool and its version.\r\nIf no, write 'No'.\r\nPlease refer to the [ASF Generative Tooling Guidance](https://www.apache.org/legal/generative-tooling.html) for details.\r\n-->\r\nNo","created_at":"2024-03-01T08:54:11Z","updated_at":"2024-03-04T16:59:00Z","closed_at":"2024-03-04T16:59:00Z","merged_at":null,"merge_commit_sha":"752afa574496953e0899e2e5789d5ea35ac02de1","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1981471081,"node_id":"MDU6TGFiZWwxOTgxNDcxMDgx","url":"https://api.github.com/repos/apache/spark/labels/DOCS","name":"DOCS","color":"79CE54","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45355/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45355/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45355/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/1d56bab68bbc6360dfc3da2588950c291381ac63","head":{"label":"stefankandic:SPARK-47245-improveErrorCode","ref":"SPARK-47245-improveErrorCode","sha":"1d56bab68bbc6360dfc3da2588950c291381ac63","user":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":734708961,"node_id":"R_kgDOK8rE4Q","name":"spark","full_name":"stefankandic/spark","private":false,"owner":{"login":"stefankandic","id":154237371,"node_id":"U_kgDOCTF5uw","avatar_url":"https://avatars.githubusercontent.com/u/154237371?v=4","gravatar_id":"","url":"https://api.github.com/users/stefankandic","html_url":"https://github.com/stefankandic","followers_url":"https://api.github.com/users/stefankandic/followers","following_url":"https://api.github.com/users/stefankandic/following{/other_user}","gists_url":"https://api.github.com/users/stefankandic/gists{/gist_id}","starred_url":"https://api.github.com/users/stefankandic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefankandic/subscriptions","organizations_url":"https://api.github.com/users/stefankandic/orgs","repos_url":"https://api.github.com/users/stefankandic/repos","events_url":"https://api.github.com/users/stefankandic/events{/privacy}","received_events_url":"https://api.github.com/users/stefankandic/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/stefankandic/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":true,"url":"https://api.github.com/repos/stefankandic/spark","forks_url":"https://api.github.com/repos/stefankandic/spark/forks","keys_url":"https://api.github.com/repos/stefankandic/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/stefankandic/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/stefankandic/spark/teams","hooks_url":"https://api.github.com/repos/stefankandic/spark/hooks","issue_events_url":"https://api.github.com/repos/stefankandic/spark/issues/events{/number}","events_url":"https://api.github.com/repos/stefankandic/spark/events","assignees_url":"https://api.github.com/repos/stefankandic/spark/assignees{/user}","branches_url":"https://api.github.com/repos/stefankandic/spark/branches{/branch}","tags_url":"https://api.github.com/repos/stefankandic/spark/tags","blobs_url":"https://api.github.com/repos/stefankandic/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/stefankandic/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/stefankandic/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/stefankandic/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/stefankandic/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/stefankandic/spark/languages","stargazers_url":"https://api.github.com/repos/stefankandic/spark/stargazers","contributors_url":"https://api.github.com/repos/stefankandic/spark/contributors","subscribers_url":"https://api.github.com/repos/stefankandic/spark/subscribers","subscription_url":"https://api.github.com/repos/stefankandic/spark/subscription","commits_url":"https://api.github.com/repos/stefankandic/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/stefankandic/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/stefankandic/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/stefankandic/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/stefankandic/spark/contents/{+path}","compare_url":"https://api.github.com/repos/stefankandic/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/stefankandic/spark/merges","archive_url":"https://api.github.com/repos/stefankandic/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/stefankandic/spark/downloads","issues_url":"https://api.github.com/repos/stefankandic/spark/issues{/number}","pulls_url":"https://api.github.com/repos/stefankandic/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/stefankandic/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/stefankandic/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/stefankandic/spark/labels{/name}","releases_url":"https://api.github.com/repos/stefankandic/spark/releases{/id}","deployments_url":"https://api.github.com/repos/stefankandic/spark/deployments","created_at":"2023-12-22T11:54:18Z","updated_at":"2024-10-23T17:40:10Z","pushed_at":"2025-02-04T22:21:43Z","git_url":"git://github.com/stefankandic/spark.git","ssh_url":"git@github.com:stefankandic/spark.git","clone_url":"https://github.com/stefankandic/spark.git","svn_url":"https://github.com/stefankandic/spark","homepage":"https://spark.apache.org/","size":434684,"stargazers_count":0,"watchers_count":0,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"a993f9dcd56f399867fecf42e2a8ec50f6d2415d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45355"},"html":{"href":"https://github.com/apache/spark/pull/45355"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45355"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45355/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45355/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45355/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/1d56bab68bbc6360dfc3da2588950c291381ac63"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null},{"url":"https://api.github.com/repos/apache/spark/pulls/45354","id":1751215913,"node_id":"PR_kwDOAQXtWs5oYW8p","html_url":"https://github.com/apache/spark/pull/45354","diff_url":"https://github.com/apache/spark/pull/45354.diff","patch_url":"https://github.com/apache/spark/pull/45354.patch","issue_url":"https://api.github.com/repos/apache/spark/issues/45354","number":45354,"state":"closed","locked":false,"title":"[SPARK-47244][CONNECT] `SparkConnectPlanner` make internal functions private","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"### What changes were proposed in this pull request?\r\n`SparkConnectPlanner` make internal functions private\r\n\r\n\r\n\r\n### Why are the changes needed?\r\nthey are internal functions, should not be exposed to users\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nno\r\n\r\n\r\n### How was this patch tested?\r\nci\r\n\r\n\r\n### Was this patch authored or co-authored using generative AI tooling?\r\nno","created_at":"2024-03-01T08:23:13Z","updated_at":"2024-03-04T01:22:56Z","closed_at":"2024-03-02T08:28:04Z","merged_at":null,"merge_commit_sha":"442200fb92eec47ea690cb8a2240b6c8dfba7b8d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":1405794576,"node_id":"MDU6TGFiZWwxNDA1Nzk0NTc2","url":"https://api.github.com/repos/apache/spark/labels/SQL","name":"SQL","color":"E99695","default":false,"description":""},{"id":4556440342,"node_id":"LA_kwDOAQXtWs8AAAABD5XDFg","url":"https://api.github.com/repos/apache/spark/labels/CONNECT","name":"CONNECT","color":"1D76DB","default":false,"description":""}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/apache/spark/pulls/45354/commits","review_comments_url":"https://api.github.com/repos/apache/spark/pulls/45354/comments","review_comment_url":"https://api.github.com/repos/apache/spark/pulls/comments{/number}","comments_url":"https://api.github.com/repos/apache/spark/issues/45354/comments","statuses_url":"https://api.github.com/repos/apache/spark/statuses/dcfb934f95c435f7043578cccae357d0b498f16b","head":{"label":"zhengruifeng:connect_planner_private_methods","ref":"connect_planner_private_methods","sha":"dcfb934f95c435f7043578cccae357d0b498f16b","user":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"repo":{"id":51584791,"node_id":"MDEwOlJlcG9zaXRvcnk1MTU4NDc5MQ==","name":"spark","full_name":"zhengruifeng/spark","private":false,"owner":{"login":"zhengruifeng","id":7322292,"node_id":"MDQ6VXNlcjczMjIyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/7322292?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengruifeng","html_url":"https://github.com/zhengruifeng","followers_url":"https://api.github.com/users/zhengruifeng/followers","following_url":"https://api.github.com/users/zhengruifeng/following{/other_user}","gists_url":"https://api.github.com/users/zhengruifeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengruifeng/subscriptions","organizations_url":"https://api.github.com/users/zhengruifeng/orgs","repos_url":"https://api.github.com/users/zhengruifeng/repos","events_url":"https://api.github.com/users/zhengruifeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhengruifeng/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/zhengruifeng/spark","description":"Mirror of Apache Spark","fork":true,"url":"https://api.github.com/repos/zhengruifeng/spark","forks_url":"https://api.github.com/repos/zhengruifeng/spark/forks","keys_url":"https://api.github.com/repos/zhengruifeng/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/zhengruifeng/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/zhengruifeng/spark/teams","hooks_url":"https://api.github.com/repos/zhengruifeng/spark/hooks","issue_events_url":"https://api.github.com/repos/zhengruifeng/spark/issues/events{/number}","events_url":"https://api.github.com/repos/zhengruifeng/spark/events","assignees_url":"https://api.github.com/repos/zhengruifeng/spark/assignees{/user}","branches_url":"https://api.github.com/repos/zhengruifeng/spark/branches{/branch}","tags_url":"https://api.github.com/repos/zhengruifeng/spark/tags","blobs_url":"https://api.github.com/repos/zhengruifeng/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/zhengruifeng/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/zhengruifeng/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/zhengruifeng/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/zhengruifeng/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/zhengruifeng/spark/languages","stargazers_url":"https://api.github.com/repos/zhengruifeng/spark/stargazers","contributors_url":"https://api.github.com/repos/zhengruifeng/spark/contributors","subscribers_url":"https://api.github.com/repos/zhengruifeng/spark/subscribers","subscription_url":"https://api.github.com/repos/zhengruifeng/spark/subscription","commits_url":"https://api.github.com/repos/zhengruifeng/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/zhengruifeng/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/zhengruifeng/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/zhengruifeng/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/zhengruifeng/spark/contents/{+path}","compare_url":"https://api.github.com/repos/zhengruifeng/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/zhengruifeng/spark/merges","archive_url":"https://api.github.com/repos/zhengruifeng/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/zhengruifeng/spark/downloads","issues_url":"https://api.github.com/repos/zhengruifeng/spark/issues{/number}","pulls_url":"https://api.github.com/repos/zhengruifeng/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/zhengruifeng/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/zhengruifeng/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/zhengruifeng/spark/labels{/name}","releases_url":"https://api.github.com/repos/zhengruifeng/spark/releases{/id}","deployments_url":"https://api.github.com/repos/zhengruifeng/spark/deployments","created_at":"2016-02-12T11:58:00Z","updated_at":"2025-02-09T01:55:22Z","pushed_at":"2025-02-09T01:55:17Z","git_url":"git://github.com/zhengruifeng/spark.git","ssh_url":"git@github.com:zhengruifeng/spark.git","clone_url":"https://github.com/zhengruifeng/spark.git","svn_url":"https://github.com/zhengruifeng/spark","homepage":null,"size":434785,"stargazers_count":2,"watchers_count":2,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":6,"open_issues":0,"watchers":2,"default_branch":"master"}},"base":{"label":"apache:master","ref":"master","sha":"a993f9dcd56f399867fecf42e2a8ec50f6d2415d","user":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":17165658,"node_id":"MDEwOlJlcG9zaXRvcnkxNzE2NTY1OA==","name":"spark","full_name":"apache/spark","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/spark","description":"Apache Spark - A unified analytics engine for large-scale data processing","fork":false,"url":"https://api.github.com/repos/apache/spark","forks_url":"https://api.github.com/repos/apache/spark/forks","keys_url":"https://api.github.com/repos/apache/spark/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/spark/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/spark/teams","hooks_url":"https://api.github.com/repos/apache/spark/hooks","issue_events_url":"https://api.github.com/repos/apache/spark/issues/events{/number}","events_url":"https://api.github.com/repos/apache/spark/events","assignees_url":"https://api.github.com/repos/apache/spark/assignees{/user}","branches_url":"https://api.github.com/repos/apache/spark/branches{/branch}","tags_url":"https://api.github.com/repos/apache/spark/tags","blobs_url":"https://api.github.com/repos/apache/spark/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/spark/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/spark/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/spark/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/spark/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/spark/languages","stargazers_url":"https://api.github.com/repos/apache/spark/stargazers","contributors_url":"https://api.github.com/repos/apache/spark/contributors","subscribers_url":"https://api.github.com/repos/apache/spark/subscribers","subscription_url":"https://api.github.com/repos/apache/spark/subscription","commits_url":"https://api.github.com/repos/apache/spark/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/spark/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/spark/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/spark/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/spark/contents/{+path}","compare_url":"https://api.github.com/repos/apache/spark/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/spark/merges","archive_url":"https://api.github.com/repos/apache/spark/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/spark/downloads","issues_url":"https://api.github.com/repos/apache/spark/issues{/number}","pulls_url":"https://api.github.com/repos/apache/spark/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/spark/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/spark/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/spark/labels{/name}","releases_url":"https://api.github.com/repos/apache/spark/releases{/id}","deployments_url":"https://api.github.com/repos/apache/spark/deployments","created_at":"2014-02-25T08:00:08Z","updated_at":"2025-02-09T19:59:16Z","pushed_at":"2025-02-09T04:19:30Z","git_url":"git://github.com/apache/spark.git","ssh_url":"git@github.com:apache/spark.git","clone_url":"https://github.com/apache/spark.git","svn_url":"https://github.com/apache/spark","homepage":"https://spark.apache.org/","size":488549,"stargazers_count":40497,"watchers_count":40497,"language":"Scala","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":28484,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":198,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["big-data","java","jdbc","python","r","scala","spark","sql"],"visibility":"public","forks":28484,"open_issues":198,"watchers":40497,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/apache/spark/pulls/45354"},"html":{"href":"https://github.com/apache/spark/pull/45354"},"issue":{"href":"https://api.github.com/repos/apache/spark/issues/45354"},"comments":{"href":"https://api.github.com/repos/apache/spark/issues/45354/comments"},"review_comments":{"href":"https://api.github.com/repos/apache/spark/pulls/45354/comments"},"review_comment":{"href":"https://api.github.com/repos/apache/spark/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/apache/spark/pulls/45354/commits"},"statuses":{"href":"https://api.github.com/repos/apache/spark/statuses/dcfb934f95c435f7043578cccae357d0b498f16b"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null}]