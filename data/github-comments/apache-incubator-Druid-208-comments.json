[{"url":"https://api.github.com/repos/apache/druid/issues/comments/433845734","html_url":"https://github.com/apache/druid/issues/3851#issuecomment-433845734","issue_url":"https://api.github.com/repos/apache/druid/issues/3851","id":433845734,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMzg0NTczNA==","user":{"login":"iteacood","id":14873806,"node_id":"MDQ6VXNlcjE0ODczODA2","avatar_url":"https://avatars.githubusercontent.com/u/14873806?v=4","gravatar_id":"","url":"https://api.github.com/users/iteacood","html_url":"https://github.com/iteacood","followers_url":"https://api.github.com/users/iteacood/followers","following_url":"https://api.github.com/users/iteacood/following{/other_user}","gists_url":"https://api.github.com/users/iteacood/gists{/gist_id}","starred_url":"https://api.github.com/users/iteacood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iteacood/subscriptions","organizations_url":"https://api.github.com/users/iteacood/orgs","repos_url":"https://api.github.com/users/iteacood/repos","events_url":"https://api.github.com/users/iteacood/events{/privacy}","received_events_url":"https://api.github.com/users/iteacood/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-29T09:40:40Z","updated_at":"2018-10-29T09:40:40Z","author_association":"NONE","body":"I also  meet this issue\r\n\r\n`\r\n2018-10-29 09:35:15,235 Thread-3 ERROR Unable to register shutdown hook because JVM is shutting down. java.lang.IllegalStateException: Not started\r\n\tat io.druid.common.config.Log4jShutdown.addShutdownCallback(Log4jShutdown.java:47)\r\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.addShutdownCallback(Log4jContextFactory.java:273)\r\n\tat org.apache.logging.log4j.core.LoggerContext.setUpShutdownHook(LoggerContext.java:256)\r\n\tat org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:216)\r\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:145)\r\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:41)\r\n\tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:182)\r\n\tat org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:103)\r\n\tat org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:43)\r\n\tat org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:42)\r\n\tat org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:29)\r\n\tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:253)\r\n\tat org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:155)\r\n\tat org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:132)\r\n\tat org.apache.commons.logging.LogFactory.getLog(LogFactory.java:685)\r\n\tat org.apache.hadoop.hdfs.LeaseRenewer.<clinit>(LeaseRenewer.java:72)\r\n\tat org.apache.hadoop.hdfs.DFSClient.getLeaseRenewer(DFSClient.java:818)\r\n\tat org.apache.hadoop.hdfs.DFSClient.close(DFSClient.java:956)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.close(DistributedFileSystem.java:1079)\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.closeAll(FileSystem.java:2760)\r\n\tat org.apache.hadoop.fs.FileSystem$Cache$ClientFinalizer.run(FileSystem.java:2777)\r\n\tat org.apache.hadoop.util.ShutdownHookManager$1.run(ShutdownHookManager.java:54)\r\n`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/433845734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/433864132","html_url":"https://github.com/apache/druid/issues/6539#issuecomment-433864132","issue_url":"https://api.github.com/repos/apache/druid/issues/6539","id":433864132,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMzg2NDEzMg==","user":{"login":"Sinmes","id":15372584,"node_id":"MDQ6VXNlcjE1MzcyNTg0","avatar_url":"https://avatars.githubusercontent.com/u/15372584?v=4","gravatar_id":"","url":"https://api.github.com/users/Sinmes","html_url":"https://github.com/Sinmes","followers_url":"https://api.github.com/users/Sinmes/followers","following_url":"https://api.github.com/users/Sinmes/following{/other_user}","gists_url":"https://api.github.com/users/Sinmes/gists{/gist_id}","starred_url":"https://api.github.com/users/Sinmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sinmes/subscriptions","organizations_url":"https://api.github.com/users/Sinmes/orgs","repos_url":"https://api.github.com/users/Sinmes/repos","events_url":"https://api.github.com/users/Sinmes/events{/privacy}","received_events_url":"https://api.github.com/users/Sinmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-29T10:42:04Z","updated_at":"2018-10-29T10:42:04Z","author_association":"NONE","body":"> Maybe it just have been killed by overlord, you should check your overlord logs.\r\n\r\n\r\nthe overlord logs contans a warning and an error\r\n[WARN.log](https://github.com/apache/incubator-druid/files/2524874/WARN.log)\r\n\r\n[ERROR.log](https://github.com/apache/incubator-druid/files/2524877/ERROR.log)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/433864132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/433928408","html_url":"https://github.com/apache/druid/issues/6499#issuecomment-433928408","issue_url":"https://api.github.com/repos/apache/druid/issues/6499","id":433928408,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMzkyODQwOA==","user":{"login":"a2l007","id":4603202,"node_id":"MDQ6VXNlcjQ2MDMyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/4603202?v=4","gravatar_id":"","url":"https://api.github.com/users/a2l007","html_url":"https://github.com/a2l007","followers_url":"https://api.github.com/users/a2l007/followers","following_url":"https://api.github.com/users/a2l007/following{/other_user}","gists_url":"https://api.github.com/users/a2l007/gists{/gist_id}","starred_url":"https://api.github.com/users/a2l007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2l007/subscriptions","organizations_url":"https://api.github.com/users/a2l007/orgs","repos_url":"https://api.github.com/users/a2l007/repos","events_url":"https://api.github.com/users/a2l007/events{/privacy}","received_events_url":"https://api.github.com/users/a2l007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-29T14:22:07Z","updated_at":"2018-10-29T14:22:07Z","author_association":"CONTRIBUTOR","body":"The root cause is that since an explicit log4j2.xml was not provided, the StatusLogger was throwing an exception and this must have caused a problem in the Lifecycle execution. The issue was resolved once the log4j2.xml was explicitly specified using `-Dlog4j.configurationFile`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/433928408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/433998311","html_url":"https://github.com/apache/druid/issues/6541#issuecomment-433998311","issue_url":"https://api.github.com/repos/apache/druid/issues/6541","id":433998311,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMzk5ODMxMQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-29T17:17:36Z","updated_at":"2018-10-29T17:17:36Z","author_association":"CONTRIBUTOR","body":"Hi @QiuMM, yeah that should be the next step for compactionTask. The compactionTask should be able to support various indexing task types like native parallel index task or hadoop index task. But you can still do compaction in parallel by running multiple compactionTasks per segment granularity.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/433998311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434008775","html_url":"https://github.com/apache/druid/issues/6541#issuecomment-434008775","issue_url":"https://api.github.com/repos/apache/druid/issues/6541","id":434008775,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDAwODc3NQ==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-29T17:43:35Z","updated_at":"2018-10-29T17:43:35Z","author_association":"MEMBER","body":"In my use case, the interval `2018-10-25T03:00:00+00:00/2018-10-25T04:00:00+00:00` overlaps one hour which equals to the segment granularity, so I can use only one compactionTasks, no way to run in parallel. Is there any plan to support hadoop compaction task?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434008775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434011352","html_url":"https://github.com/apache/druid/issues/6541#issuecomment-434011352","issue_url":"https://api.github.com/repos/apache/druid/issues/6541","id":434011352,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDAxMTM1Mg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-29T17:50:03Z","updated_at":"2018-10-29T17:50:03Z","author_association":"CONTRIBUTOR","body":"Oh, got it. Yes, I have a plan to support the hadoop task. \r\n\r\nIn your case, I think it's better to use hadoopTask with `dataSource` inputSpec for reindexing (http://druid.io/docs/latest/ingestion/update-existing-data.html). ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434011352/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434013361","html_url":"https://github.com/apache/druid/issues/6541#issuecomment-434013361","issue_url":"https://api.github.com/repos/apache/druid/issues/6541","id":434013361,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDAxMzM2MQ==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-29T17:54:57Z","updated_at":"2018-10-29T17:59:21Z","author_association":"MEMBER","body":"Hmm, I have changed to use hadoop batch task to reindex the data. And looking forward to the hadoop compaction task.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434013361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434092397","html_url":"https://github.com/apache/druid/issues/6442#issuecomment-434092397","issue_url":"https://api.github.com/repos/apache/druid/issues/6442","id":434092397,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDA5MjM5Nw==","user":{"login":"glasser","id":16724,"node_id":"MDQ6VXNlcjE2NzI0","avatar_url":"https://avatars.githubusercontent.com/u/16724?v=4","gravatar_id":"","url":"https://api.github.com/users/glasser","html_url":"https://github.com/glasser","followers_url":"https://api.github.com/users/glasser/followers","following_url":"https://api.github.com/users/glasser/following{/other_user}","gists_url":"https://api.github.com/users/glasser/gists{/gist_id}","starred_url":"https://api.github.com/users/glasser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glasser/subscriptions","organizations_url":"https://api.github.com/users/glasser/orgs","repos_url":"https://api.github.com/users/glasser/repos","events_url":"https://api.github.com/users/glasser/events{/privacy}","received_events_url":"https://api.github.com/users/glasser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-29T21:44:32Z","updated_at":"2018-10-29T21:44:32Z","author_association":"CONTRIBUTOR","body":"@dclim I see on the dev@ list that you've proposed a release candidate! Exciting!\r\n\r\nHas the RC been published to any maven repository so we could test it directly, or are there just the binary tarballs?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434092397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434101637","html_url":"https://github.com/apache/druid/issues/6442#issuecomment-434101637","issue_url":"https://api.github.com/repos/apache/druid/issues/6442","id":434101637,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDEwMTYzNw==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-29T22:17:25Z","updated_at":"2018-10-29T22:17:25Z","author_association":"CONTRIBUTOR","body":"@glasser I'm working on getting the RC published to Apache Nexus and will let you know when this is done. There will definitely be an RC2 coming as well (with some bugfixes + some changes to conform to Apache's licensing policy) ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434101637/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434146743","html_url":"https://github.com/apache/druid/issues/6542#issuecomment-434146743","issue_url":"https://api.github.com/repos/apache/druid/issues/6542","id":434146743,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDE0Njc0Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-30T02:14:14Z","updated_at":"2018-10-30T02:14:14Z","author_association":"CONTRIBUTOR","body":"This looks like #5012. If so, it would be fixed in 0.11.0+.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434146743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434181749","html_url":"https://github.com/apache/druid/issues/6542#issuecomment-434181749","issue_url":"https://api.github.com/repos/apache/druid/issues/6542","id":434181749,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDE4MTc0OQ==","user":{"login":"erankor","id":4777488,"node_id":"MDQ6VXNlcjQ3Nzc0ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4777488?v=4","gravatar_id":"","url":"https://api.github.com/users/erankor","html_url":"https://github.com/erankor","followers_url":"https://api.github.com/users/erankor/followers","following_url":"https://api.github.com/users/erankor/following{/other_user}","gists_url":"https://api.github.com/users/erankor/gists{/gist_id}","starred_url":"https://api.github.com/users/erankor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erankor/subscriptions","organizations_url":"https://api.github.com/users/erankor/orgs","repos_url":"https://api.github.com/users/erankor/repos","events_url":"https://api.github.com/users/erankor/events{/privacy}","received_events_url":"https://api.github.com/users/erankor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-30T06:00:34Z","updated_at":"2018-10-30T06:00:34Z","author_association":"NONE","body":"Thanks @gianm! \r\nIs there a workaround for this in 0.10.0? If I will use null instead of [], will it work correctly?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434181749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434201511","html_url":"https://github.com/apache/druid/issues/5705#issuecomment-434201511","issue_url":"https://api.github.com/repos/apache/druid/issues/5705","id":434201511,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDIwMTUxMQ==","user":{"login":"iteacood","id":14873806,"node_id":"MDQ6VXNlcjE0ODczODA2","avatar_url":"https://avatars.githubusercontent.com/u/14873806?v=4","gravatar_id":"","url":"https://api.github.com/users/iteacood","html_url":"https://github.com/iteacood","followers_url":"https://api.github.com/users/iteacood/followers","following_url":"https://api.github.com/users/iteacood/following{/other_user}","gists_url":"https://api.github.com/users/iteacood/gists{/gist_id}","starred_url":"https://api.github.com/users/iteacood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iteacood/subscriptions","organizations_url":"https://api.github.com/users/iteacood/orgs","repos_url":"https://api.github.com/users/iteacood/repos","events_url":"https://api.github.com/users/iteacood/events{/privacy}","received_events_url":"https://api.github.com/users/iteacood/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-30T07:43:37Z","updated_at":"2018-10-30T07:43:37Z","author_association":"NONE","body":"@chimmy869  @licl2014  Hi, I also meet this issue, have you resolved this problem?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434201511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434233419","html_url":"https://github.com/apache/druid/pull/6547#issuecomment-434233419","issue_url":"https://api.github.com/repos/apache/druid/issues/6547","id":434233419,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDIzMzQxOQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-30T09:40:52Z","updated_at":"2018-10-30T09:40:52Z","author_association":"CONTRIBUTOR","body":"@nishantmonu51 - as the original author of #6222, does this change still work for you?\r\n\r\nAlso, tagging as 0.13.0, since the thread-safety bug should be resolved one way or the other before bloom filter filters are released.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434233419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434458143","html_url":"https://github.com/apache/druid/pull/6510#issuecomment-434458143","issue_url":"https://api.github.com/repos/apache/druid/issues/6510","id":434458143,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDQ1ODE0Mw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-30T20:30:54Z","updated_at":"2018-10-30T20:30:54Z","author_association":"CONTRIBUTOR","body":"Hi @Guadrado thank you for the contribution!\r\n\r\nEven though the javadoc of `getRecentlyFinishedTaskInfoSince` is saying `No particular standard of \"recent\" is guaranteed`, I think it makes sense to use the current behavior of `MetadataTaskStorage` since it's being used as the standard metadata storage in productions and we want to make all implementations of `TaskStorage` consistent.\r\n\r\nIn `MetadataTaskStorage`, `getRecentlyFinishedTaskInfoSince` returns the finished tasks which are created after the given time. `HeapMemoryTaskStorage` can also do this by comparing `TaskStuff.createdDate` with the given time. What do you think?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434458143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434459409","html_url":"https://github.com/apache/druid/issues/6553#issuecomment-434459409","issue_url":"https://api.github.com/repos/apache/druid/issues/6553","id":434459409,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDQ1OTQwOQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-30T20:34:28Z","updated_at":"2018-10-30T20:34:28Z","author_association":"CONTRIBUTOR","body":"closing because it works in master","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434459409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434466791","html_url":"https://github.com/apache/druid/pull/6554#issuecomment-434466791","issue_url":"https://api.github.com/repos/apache/druid/issues/6554","id":434466791,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDQ2Njc5MQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-30T20:57:35Z","updated_at":"2018-10-30T20:57:35Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434466791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434469463","html_url":"https://github.com/apache/druid/pull/6535#issuecomment-434469463","issue_url":"https://api.github.com/repos/apache/druid/issues/6535","id":434469463,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDQ2OTQ2Mw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-30T21:05:49Z","updated_at":"2018-10-30T21:05:49Z","author_association":"CONTRIBUTOR","body":"The Travis fail looks legit.\r\n\r\n```\r\ntestTimeseriesCaching[4](org.apache.druid.client.CachingClusteredClientTest)  Time elapsed: 0.001 sec  <<< FAILURE!\r\njava.lang.AssertionError: : map keys expected:<[rows, imps, impers, avg_imps_per_row, avg_imps_per_row_half, avg_imps_per_row_double]> but was:<[rows, imps, impers]>\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434469463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434470083","html_url":"https://github.com/apache/druid/pull/6503#issuecomment-434470083","issue_url":"https://api.github.com/repos/apache/druid/issues/6503","id":434470083,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDQ3MDA4Mw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-30T21:07:54Z","updated_at":"2018-10-30T21:07:54Z","author_association":"CONTRIBUTOR","body":"Hi @elloooooo, I wonder there's any production use case where `RandomBalancerStrategy` is used. Are you using it? If so, would you please give us some context why it's better than others like `CostBalancerStrategy` in your use case?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434470083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434493157","html_url":"https://github.com/apache/druid/issues/1977#issuecomment-434493157","issue_url":"https://api.github.com/repos/apache/druid/issues/1977","id":434493157,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDQ5MzE1Nw==","user":{"login":"tispratik","id":80631,"node_id":"MDQ6VXNlcjgwNjMx","avatar_url":"https://avatars.githubusercontent.com/u/80631?v=4","gravatar_id":"","url":"https://api.github.com/users/tispratik","html_url":"https://github.com/tispratik","followers_url":"https://api.github.com/users/tispratik/followers","following_url":"https://api.github.com/users/tispratik/following{/other_user}","gists_url":"https://api.github.com/users/tispratik/gists{/gist_id}","starred_url":"https://api.github.com/users/tispratik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tispratik/subscriptions","organizations_url":"https://api.github.com/users/tispratik/orgs","repos_url":"https://api.github.com/users/tispratik/repos","events_url":"https://api.github.com/users/tispratik/events{/privacy}","received_events_url":"https://api.github.com/users/tispratik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-30T22:28:38Z","updated_at":"2018-10-30T22:28:38Z","author_association":"NONE","body":"Why are `int`'s not part of the numeric dimensions?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434493157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434494399","html_url":"https://github.com/apache/druid/pull/6555#issuecomment-434494399","issue_url":"https://api.github.com/repos/apache/druid/issues/6555","id":434494399,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDQ5NDM5OQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-30T22:34:14Z","updated_at":"2018-10-30T22:34:14Z","author_association":"CONTRIBUTOR","body":"Hmm will fix some kafka-specific documents.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434494399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434501567","html_url":"https://github.com/apache/druid/issues/5796#issuecomment-434501567","issue_url":"https://api.github.com/repos/apache/druid/issues/5796","id":434501567,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDUwMTU2Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-30T23:02:48Z","updated_at":"2018-10-30T23:02:48Z","author_association":"CONTRIBUTOR","body":"Related: #4947","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434501567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434502625","html_url":"https://github.com/apache/druid/pull/6555#issuecomment-434502625","issue_url":"https://api.github.com/repos/apache/druid/issues/6555","id":434502625,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDUwMjYyNQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-30T23:07:19Z","updated_at":"2018-10-30T23:07:19Z","author_association":"CONTRIBUTOR","body":"Fixed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434502625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434529737","html_url":"https://github.com/apache/druid/pull/6503#issuecomment-434529737","issue_url":"https://api.github.com/repos/apache/druid/issues/6503","id":434529737,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDUyOTczNw==","user":{"login":"elloooooo","id":4433949,"node_id":"MDQ6VXNlcjQ0MzM5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4433949?v=4","gravatar_id":"","url":"https://api.github.com/users/elloooooo","html_url":"https://github.com/elloooooo","followers_url":"https://api.github.com/users/elloooooo/followers","following_url":"https://api.github.com/users/elloooooo/following{/other_user}","gists_url":"https://api.github.com/users/elloooooo/gists{/gist_id}","starred_url":"https://api.github.com/users/elloooooo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elloooooo/subscriptions","organizations_url":"https://api.github.com/users/elloooooo/orgs","repos_url":"https://api.github.com/users/elloooooo/repos","events_url":"https://api.github.com/users/elloooooo/events{/privacy}","received_events_url":"https://api.github.com/users/elloooooo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T01:32:46Z","updated_at":"2018-10-31T01:32:46Z","author_association":"CONTRIBUTOR","body":"@jihoonson The main reason for using `RandomBalancerStrategy` is the performance \r\n of `CostBalancerStrategy` or `CachedCostBalancerStrategy` is not good enough when we now have 1,500,000+ segments. They take too much time for calculating the cost of every two segments and lead handoff stuck.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434529737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434572435","html_url":"https://github.com/apache/druid/pull/6503#issuecomment-434572435","issue_url":"https://api.github.com/repos/apache/druid/issues/6503","id":434572435,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDU3MjQzNQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T06:08:55Z","updated_at":"2018-10-31T06:08:55Z","author_association":"MEMBER","body":"Hmm, I think at least `CachedCostBalancerStrategy` should be able to handle that many segments and many more, however it I know it is possible to make this not true via coordinator configuration. I would be interested in how your coordinator is tuned in the case where it is causing stuck handoff, like what are settings for max segments to move, etc? Additional cluster details such as number of historical nodes, type of deep storage, type of segment loading, etc, would be interesting as well if you're willing to share.\r\n\r\nUsing the `CostBalancerStrategy` or some variant of it should provide for much higher query performance because it takes into account segment sizes, datasources, intervals and space on historical servers and tries to maximize query fan out opportunity at an datasource/interval local scale. This is definitely expensive to compute, and it is i think biased, in large clusters at least, towards having smallish values of max segments to move in order to slowly converge the cluster to a balanced and reasonably query optimized state, but should minimize the amount of queries that get bottlenecked because of segments not being adequately spread out across the cluster.\r\n\r\nThat said, if for some reason `CachingCostBalancerStrategy` doesn't fit your use case, I don't think these changes are quite appropriate to add to `RandomBalancerStrategy`. I believe these changes make it behave much less randomly as it would now balance on storage capacity usage,  as far as I understand this PR. Rather, I think it would be more sensible to add a new balancer strategy that implements this functionality instead, maybe call it `DiskThresholdBalancerStrategy`. However, I think on the query side balancing like this is not going to be a great experience in terms of query speed, since nothing will prevent or actively try to avoid load being concentrated in hot spots.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434572435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434618432","html_url":"https://github.com/apache/druid/pull/5099#issuecomment-434618432","issue_url":"https://api.github.com/repos/apache/druid/issues/5099","id":434618432,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDYxODQzMg==","user":{"login":"zhouyuanchao","id":38806828,"node_id":"MDQ6VXNlcjM4ODA2ODI4","avatar_url":"https://avatars.githubusercontent.com/u/38806828?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouyuanchao","html_url":"https://github.com/zhouyuanchao","followers_url":"https://api.github.com/users/zhouyuanchao/followers","following_url":"https://api.github.com/users/zhouyuanchao/following{/other_user}","gists_url":"https://api.github.com/users/zhouyuanchao/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouyuanchao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouyuanchao/subscriptions","organizations_url":"https://api.github.com/users/zhouyuanchao/orgs","repos_url":"https://api.github.com/users/zhouyuanchao/repos","events_url":"https://api.github.com/users/zhouyuanchao/events{/privacy}","received_events_url":"https://api.github.com/users/zhouyuanchao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T09:29:24Z","updated_at":"2018-10-31T09:29:24Z","author_association":"NONE","body":"Why basic security can't use EnvironmentVariablePasswordProvider, such as initialAdminPassword?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434618432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434634454","html_url":"https://github.com/apache/druid/pull/6510#issuecomment-434634454","issue_url":"https://api.github.com/repos/apache/druid/issues/6510","id":434634454,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDYzNDQ1NA==","user":{"login":"Guadrado","id":11554068,"node_id":"MDQ6VXNlcjExNTU0MDY4","avatar_url":"https://avatars.githubusercontent.com/u/11554068?v=4","gravatar_id":"","url":"https://api.github.com/users/Guadrado","html_url":"https://github.com/Guadrado","followers_url":"https://api.github.com/users/Guadrado/followers","following_url":"https://api.github.com/users/Guadrado/following{/other_user}","gists_url":"https://api.github.com/users/Guadrado/gists{/gist_id}","starred_url":"https://api.github.com/users/Guadrado/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Guadrado/subscriptions","organizations_url":"https://api.github.com/users/Guadrado/orgs","repos_url":"https://api.github.com/users/Guadrado/repos","events_url":"https://api.github.com/users/Guadrado/events{/privacy}","received_events_url":"https://api.github.com/users/Guadrado/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T10:21:47Z","updated_at":"2018-10-31T10:21:47Z","author_association":"CONTRIBUTOR","body":"Hi @jihoonson! Thank you for comment!\r\n\r\nI completely agree with you, that all implementations of `TaskStorage` must be consistent.\r\nBut if we imagine a developer, who knows nothing about the internal implementation of `OverlordResource `API, he call public API method `OverlordResource.getTasks` (which internally call `storage.getRecentlyFinishedTaskInfo`) with `state` \"complete\" and `interval` parameters, \r\nhe would expect, that method would return the list of tasks, which _date of completion_ , not `createdDate`, belongs to the `interval`.\r\n\r\nNow i see two ways:\r\n\r\n1. If this behavior of API method is legal and tasks must be filtered by `TaskStuff.createdDate`, \r\nI propose to change names like that: \r\nin public API method `OverlordResource.getTasks` parameter `interval` -> `createdTimeInterval`\r\n`TaskStorageQueryAdapter.getRecentlyCompletedTaskInfo`-> `TaskStorageQueryAdapter.getCompletedTaskInfoByCreatedTimeDuration`\r\n`TaskStorage.getRecentlyFinishedTaskInfo` -> `TaskStorage.getFinishedTaskInfoByCreatedTimeDuration`\r\nThis will avoid misunderstanding. \r\nIn this case `HeapMemoryTaskStorage` can return the finished tasks by comparing `TaskStuff.createdDate` with the given time. \r\n\r\n2. If there is a need for an API method, that will return a list of tasks filtered by the date, when the required state was established, for example, filtered by the _date of completion_ for the status \"complete\", I suggest, in addition to the first way, to implement the following:\r\nadd parameters `statusedDateInterval` to public API method `OverlordResource.getTasks`,\r\nadd method `TaskStorageQueryAdapter.getCompletedTaskInfoByFinishedTimeDuration`,\r\nadd method `TaskStorage.getFinishedTaskInfoByFinishedTimeDuration`,\r\nand make the appropriate changes to `MetadataTaskStorage` and `HeapMemoryTaskStorage`. \r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434634454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434748621","html_url":"https://github.com/apache/druid/pull/6505#issuecomment-434748621","issue_url":"https://api.github.com/repos/apache/druid/issues/6505","id":434748621,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDc0ODYyMQ==","user":{"login":"a2l007","id":4603202,"node_id":"MDQ6VXNlcjQ2MDMyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/4603202?v=4","gravatar_id":"","url":"https://api.github.com/users/a2l007","html_url":"https://github.com/a2l007","followers_url":"https://api.github.com/users/a2l007/followers","following_url":"https://api.github.com/users/a2l007/following{/other_user}","gists_url":"https://api.github.com/users/a2l007/gists{/gist_id}","starred_url":"https://api.github.com/users/a2l007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2l007/subscriptions","organizations_url":"https://api.github.com/users/a2l007/orgs","repos_url":"https://api.github.com/users/a2l007/repos","events_url":"https://api.github.com/users/a2l007/events{/privacy}","received_events_url":"https://api.github.com/users/a2l007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T16:11:17Z","updated_at":"2018-10-31T16:11:17Z","author_association":"CONTRIBUTOR","body":"@gianm That sounds like a better approach. I have updated the PR accordingly. Could you take a look? @jihoonson ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434748621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434758600","html_url":"https://github.com/apache/druid/issues/6498#issuecomment-434758600","issue_url":"https://api.github.com/repos/apache/druid/issues/6498","id":434758600,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDc1ODYwMA==","user":{"login":"slatteryjim","id":514782,"node_id":"MDQ6VXNlcjUxNDc4Mg==","avatar_url":"https://avatars.githubusercontent.com/u/514782?v=4","gravatar_id":"","url":"https://api.github.com/users/slatteryjim","html_url":"https://github.com/slatteryjim","followers_url":"https://api.github.com/users/slatteryjim/followers","following_url":"https://api.github.com/users/slatteryjim/following{/other_user}","gists_url":"https://api.github.com/users/slatteryjim/gists{/gist_id}","starred_url":"https://api.github.com/users/slatteryjim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/slatteryjim/subscriptions","organizations_url":"https://api.github.com/users/slatteryjim/orgs","repos_url":"https://api.github.com/users/slatteryjim/repos","events_url":"https://api.github.com/users/slatteryjim/events{/privacy}","received_events_url":"https://api.github.com/users/slatteryjim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T16:37:43Z","updated_at":"2018-10-31T16:37:43Z","author_association":"NONE","body":"Note, I tried to put a small reverse proxy in front of the historical node so that queries would only be passed through to it when it was actually ready.\r\nBut ran into https://github.com/apache/incubator-druid/issues/1253 which meant there was no way for the historical node to run on one port while advertising the port of the proxy.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434758600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434770642","html_url":"https://github.com/apache/druid/pull/5099#issuecomment-434770642","issue_url":"https://api.github.com/repos/apache/druid/issues/5099","id":434770642,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDc3MDY0Mg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T17:10:37Z","updated_at":"2018-10-31T17:10:37Z","author_association":"CONTRIBUTOR","body":"@zhouyuanchao It can, check the master branch ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434770642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434785147","html_url":"https://github.com/apache/druid/issues/6559#issuecomment-434785147","issue_url":"https://api.github.com/repos/apache/druid/issues/6559","id":434785147,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDc4NTE0Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T17:50:41Z","updated_at":"2018-10-31T17:50:41Z","author_association":"CONTRIBUTOR","body":"I don't agree.\r\n\r\nIt is not fair to ask Druid users (who are often not developers in their own right) to write their own custom extension just to get basic metrics to be emitted. I think it's fair for \"advanced\" or \"developer-oriented\" metrics to require a QueryMetrics extension, but it's not fair for \"user-oriented\" metrics to require one. Furthermore, the metric, as designed in #6335, is not emitted unless you've actually enabled backpressure.\r\n\r\nIf we want to limit the number of metrics that are emitted by default, even when some of them would be useful to a user, it should be done via configuration, not by asking end users to write a custom extension.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434785147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434788151","html_url":"https://github.com/apache/druid/issues/6559#issuecomment-434788151","issue_url":"https://api.github.com/repos/apache/druid/issues/6559","id":434788151,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDc4ODE1MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T17:59:16Z","updated_at":"2018-10-31T17:59:16Z","author_association":"CONTRIBUTOR","body":"I guess I don't understand the intended purpose of the QueryMetrics system. I thought it was to give 'advanced' cluster operations control over the nitty gritty of how metrics are emitted. I didn't think the intent was to require all end users to use it in order to configure which metrics get emitted and which don't.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434788151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434790285","html_url":"https://github.com/apache/druid/pull/6477#issuecomment-434790285","issue_url":"https://api.github.com/repos/apache/druid/issues/6477","id":434790285,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDc5MDI4NQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T18:05:32Z","updated_at":"2018-10-31T18:05:32Z","author_association":"CONTRIBUTOR","body":"LGTM after travis.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434790285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434793307","html_url":"https://github.com/apache/druid/issues/6559#issuecomment-434793307","issue_url":"https://api.github.com/repos/apache/druid/issues/6559","id":434793307,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDc5MzMwNw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T18:14:43Z","updated_at":"2018-10-31T18:24:16Z","author_association":"MEMBER","body":"The requirement of writing a custom extension ensures one important thing (this is reflected in the QueryMetrics javadoc): it allows \"safe\" backwards-incompatible changes, by means of breaking compilation of the custom QueryMetrics implementation via method addition, removal or rename. Currently, if some metric is added and emitted by default, it's existence, it's name and the output unit (time unit, for example) becomes irreversible liability forever.\r\n\r\nActually, this is the second \"problem\" noted here: https://github.com/apache/incubator-druid/pull/3954#issue-107111826, see also the section \"evolution of metrics\" below.\r\n\r\nConfiguration path is suggested here: https://github.com/apache/incubator-druid/pull/4570#issuecomment-321026206 (except I revoke the promise of doing that myself). That type of configuration even could become the default, if new metrics are still not emitted by default, and in order of emitting them, the user *must* specify the name and the unit for them explicitly, a-la:\r\n```\r\ndruid.query.queryMetrics.default.metrics.nodeBackPressureTime.name=query/node/backpressure\r\ndruid.query.queryMetrics.default.metrics.nodeBackPressureTime.unit=nanoseconds\r\n```\r\n\r\nDuring initialization of configuration, we could check that the metric \"nodeBackPressureTime\" still exists, and fail the app if it doesn't. It would also allow to evolve the metrics over time, if needed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434793307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434810295","html_url":"https://github.com/apache/druid/pull/6510#issuecomment-434810295","issue_url":"https://api.github.com/repos/apache/druid/issues/6510","id":434810295,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDgxMDI5NQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T19:06:07Z","updated_at":"2018-10-31T19:06:07Z","author_association":"CONTRIBUTOR","body":"@Guadrado thanks for the detailed comment! I think `1.` would be better because `2.` would cause the incompatibility issue in both metadata storage and overlord API because we don't store other times like complete time in metadata store and apps based on the overlord API is assuming the result is filtered by the creation time.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434810295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434837620","html_url":"https://github.com/apache/druid/pull/6512#issuecomment-434837620","issue_url":"https://api.github.com/repos/apache/druid/issues/6512","id":434837620,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDgzNzYyMA==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T20:33:04Z","updated_at":"2018-10-31T20:33:04Z","author_association":"CONTRIBUTOR","body":"@clintropolis could you backport this to 0.13.0-incubating?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434837620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434837730","html_url":"https://github.com/apache/druid/pull/6516#issuecomment-434837730","issue_url":"https://api.github.com/repos/apache/druid/issues/6516","id":434837730,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDgzNzczMA==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T20:33:20Z","updated_at":"2018-10-31T20:33:20Z","author_association":"CONTRIBUTOR","body":"@clintropolis could you backport this to 0.13.0-incubating?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434837730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434837852","html_url":"https://github.com/apache/druid/pull/6520#issuecomment-434837852","issue_url":"https://api.github.com/repos/apache/druid/issues/6520","id":434837852,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDgzNzg1Mg==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T20:33:45Z","updated_at":"2018-10-31T20:33:45Z","author_association":"CONTRIBUTOR","body":"@jon-wei could you backport this to 0.13.0-incubating?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434837852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434851149","html_url":"https://github.com/apache/druid/pull/6561#issuecomment-434851149","issue_url":"https://api.github.com/repos/apache/druid/issues/6561","id":434851149,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDg1MTE0OQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T21:17:49Z","updated_at":"2018-10-31T21:17:49Z","author_association":"CONTRIBUTOR","body":"Oh I've just noticed that the configuration is already documented. I removed the existing one because the new one looks better to me.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434851149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434875870","html_url":"https://github.com/apache/druid/pull/6560#issuecomment-434875870","issue_url":"https://api.github.com/repos/apache/druid/issues/6560","id":434875870,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDg3NTg3MA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T22:57:53Z","updated_at":"2018-10-31T22:57:53Z","author_association":"CONTRIBUTOR","body":"merging since travis passed and changes are to files not checked by TeamCity","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434875870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434921576","html_url":"https://github.com/apache/druid/pull/6016#issuecomment-434921576","issue_url":"https://api.github.com/repos/apache/druid/issues/6016","id":434921576,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDkyMTU3Ng==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T03:45:46Z","updated_at":"2018-11-01T03:45:46Z","author_association":"MEMBER","body":"Apologies for the lack of activity on this branch, I just wanted to give an update that it is not in fact dead (and I'm still hyped about these changes), I just got a bit side tracked with a ton of other things and will be resuming work very soon as well as addressing segment format discussion, etc.\r\n\r\nAdditionally, I discussed [the implications of Java and C++ version of FastPFOR not being compatible](https://github.com/lemire/FastPFor/issues/42) with @gianm, and based off of that, I think we've decided that FastPFOR is more of a strategy at this point in time than a well defined codec so it is in our interest to bring the relevant algorithm implementation(s) into Druid rather than use the library, and just own it like we have done with a handful of other things, like concise. Given this, I am going to attempt to put together a Java implementation that _is_ compatible with the C++ implementation so we can still have the opportunity to take advantage of native code. \r\n\r\nI will also be repeating all benchmarks to take the [performance enhancements in the LZ4 update into account](https://github.com/apache/incubator-druid/pull/6478).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434921576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434929584","html_url":"https://github.com/apache/druid/pull/6563#issuecomment-434929584","issue_url":"https://api.github.com/repos/apache/druid/issues/6563","id":434929584,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDkyOTU4NA==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T04:48:05Z","updated_at":"2018-11-01T04:48:05Z","author_association":"CONTRIBUTOR","body":"@clintropolis ugh, thanks for catching those; script fail","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434929584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/434962850","html_url":"https://github.com/apache/druid/pull/6510#issuecomment-434962850","issue_url":"https://api.github.com/repos/apache/druid/issues/6510","id":434962850,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDk2Mjg1MA==","user":{"login":"Guadrado","id":11554068,"node_id":"MDQ6VXNlcjExNTU0MDY4","avatar_url":"https://avatars.githubusercontent.com/u/11554068?v=4","gravatar_id":"","url":"https://api.github.com/users/Guadrado","html_url":"https://github.com/Guadrado","followers_url":"https://api.github.com/users/Guadrado/followers","following_url":"https://api.github.com/users/Guadrado/following{/other_user}","gists_url":"https://api.github.com/users/Guadrado/gists{/gist_id}","starred_url":"https://api.github.com/users/Guadrado/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Guadrado/subscriptions","organizations_url":"https://api.github.com/users/Guadrado/orgs","repos_url":"https://api.github.com/users/Guadrado/repos","events_url":"https://api.github.com/users/Guadrado/events{/privacy}","received_events_url":"https://api.github.com/users/Guadrado/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T07:58:57Z","updated_at":"2018-11-01T07:58:57Z","author_association":"CONTRIBUTOR","body":"@jihoonson OK. Thank you for response!  Could you tell me how I can add appropriate changes of `1.`? Should I close this pull request and open new one?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/434962850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435078840","html_url":"https://github.com/apache/druid/pull/6566#issuecomment-435078840","issue_url":"https://api.github.com/repos/apache/druid/issues/6566","id":435078840,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTA3ODg0MA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T15:30:28Z","updated_at":"2018-11-01T15:30:28Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435078840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435100240","html_url":"https://github.com/apache/druid/pull/6510#issuecomment-435100240","issue_url":"https://api.github.com/repos/apache/druid/issues/6510","id":435100240,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTEwMDI0MA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T16:32:11Z","updated_at":"2018-11-01T16:32:11Z","author_association":"CONTRIBUTOR","body":"@Guadrado I think it's fine to update this PR. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435100240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435154488","html_url":"https://github.com/apache/druid/issues/2725#issuecomment-435154488","issue_url":"https://api.github.com/repos/apache/druid/issues/2725","id":435154488,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTE1NDQ4OA==","user":{"login":"AbhinavPhutela","id":40171175,"node_id":"MDQ6VXNlcjQwMTcxMTc1","avatar_url":"https://avatars.githubusercontent.com/u/40171175?v=4","gravatar_id":"","url":"https://api.github.com/users/AbhinavPhutela","html_url":"https://github.com/AbhinavPhutela","followers_url":"https://api.github.com/users/AbhinavPhutela/followers","following_url":"https://api.github.com/users/AbhinavPhutela/following{/other_user}","gists_url":"https://api.github.com/users/AbhinavPhutela/gists{/gist_id}","starred_url":"https://api.github.com/users/AbhinavPhutela/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AbhinavPhutela/subscriptions","organizations_url":"https://api.github.com/users/AbhinavPhutela/orgs","repos_url":"https://api.github.com/users/AbhinavPhutela/repos","events_url":"https://api.github.com/users/AbhinavPhutela/events{/privacy}","received_events_url":"https://api.github.com/users/AbhinavPhutela/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T19:17:36Z","updated_at":"2018-11-01T19:17:36Z","author_association":"NONE","body":"Can someone help me resolve this issue:\r\n\r\nERROR [main] io.druid.cli.CliPeon - Error when starting up.  Failing.\r\njava.lang.OutOfMemoryError: unable to create new native thread","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435154488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435177368","html_url":"https://github.com/apache/druid/issues/1977#issuecomment-435177368","issue_url":"https://api.github.com/repos/apache/druid/issues/1977","id":435177368,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTE3NzM2OA==","user":{"login":"KenjiTakahashi","id":431488,"node_id":"MDQ6VXNlcjQzMTQ4OA==","avatar_url":"https://avatars.githubusercontent.com/u/431488?v=4","gravatar_id":"","url":"https://api.github.com/users/KenjiTakahashi","html_url":"https://github.com/KenjiTakahashi","followers_url":"https://api.github.com/users/KenjiTakahashi/followers","following_url":"https://api.github.com/users/KenjiTakahashi/following{/other_user}","gists_url":"https://api.github.com/users/KenjiTakahashi/gists{/gist_id}","starred_url":"https://api.github.com/users/KenjiTakahashi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KenjiTakahashi/subscriptions","organizations_url":"https://api.github.com/users/KenjiTakahashi/orgs","repos_url":"https://api.github.com/users/KenjiTakahashi/repos","events_url":"https://api.github.com/users/KenjiTakahashi/events{/privacy}","received_events_url":"https://api.github.com/users/KenjiTakahashi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T20:33:21Z","updated_at":"2018-11-01T20:33:21Z","author_association":"CONTRIBUTOR","body":"BTW: I completely forgot about this issue, sorry. But with the inclusion of numeric dimensions, it can be closed, as far as I'm concerned.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435177368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435198393","html_url":"https://github.com/apache/druid/pull/6360#issuecomment-435198393","issue_url":"https://api.github.com/repos/apache/druid/issues/6360","id":435198393,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTE5ODM5Mw==","user":{"login":"amalakar","id":65202,"node_id":"MDQ6VXNlcjY1MjAy","avatar_url":"https://avatars.githubusercontent.com/u/65202?v=4","gravatar_id":"","url":"https://api.github.com/users/amalakar","html_url":"https://github.com/amalakar","followers_url":"https://api.github.com/users/amalakar/followers","following_url":"https://api.github.com/users/amalakar/following{/other_user}","gists_url":"https://api.github.com/users/amalakar/gists{/gist_id}","starred_url":"https://api.github.com/users/amalakar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amalakar/subscriptions","organizations_url":"https://api.github.com/users/amalakar/orgs","repos_url":"https://api.github.com/users/amalakar/repos","events_url":"https://api.github.com/users/amalakar/events{/privacy}","received_events_url":"https://api.github.com/users/amalakar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T21:46:23Z","updated_at":"2018-11-01T21:46:23Z","author_association":"CONTRIBUTOR","body":"Is this PR going to be merged soon? Would love to try it out.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435198393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435217010","html_url":"https://github.com/apache/druid/pull/6490#issuecomment-435217010","issue_url":"https://api.github.com/repos/apache/druid/issues/6490","id":435217010,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTIxNzAxMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T23:09:37Z","updated_at":"2018-11-01T23:09:37Z","author_association":"CONTRIBUTOR","body":"@leventov can you please separate the bug-fixes into their own PRs if this is going to be slated for 0.13.0? Would rather keep the changes to a minimum after the first RC has gone out.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435217010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435218392","html_url":"https://github.com/apache/druid/pull/6547#issuecomment-435218392","issue_url":"https://api.github.com/repos/apache/druid/issues/6547","id":435218392,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTIxODM5Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T23:16:29Z","updated_at":"2018-11-01T23:16:29Z","author_association":"CONTRIBUTOR","body":"@nishantmonu51 any thoughts on this one?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435218392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435219294","html_url":"https://github.com/apache/druid/pull/6565#issuecomment-435219294","issue_url":"https://api.github.com/repos/apache/druid/issues/6565","id":435219294,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTIxOTI5NA==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T23:21:07Z","updated_at":"2018-11-01T23:21:07Z","author_association":"CONTRIBUTOR","body":"@clintropolis can you take a look at the inspection failures?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435219294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435221242","html_url":"https://github.com/apache/druid/pull/5871#issuecomment-435221242","issue_url":"https://api.github.com/repos/apache/druid/issues/5871","id":435221242,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTIyMTI0Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T23:31:00Z","updated_at":"2018-11-01T23:31:00Z","author_association":"CONTRIBUTOR","body":"Hi @hellobabygogo - do you have any thoughts on Jihoon's comment?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435221242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435223145","html_url":"https://github.com/apache/druid/pull/6552#issuecomment-435223145","issue_url":"https://api.github.com/repos/apache/druid/issues/6552","id":435223145,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTIyMzE0NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T23:41:10Z","updated_at":"2018-11-01T23:41:10Z","author_association":"CONTRIBUTOR","body":"Marking this as 0.13.0 because it seems like a legitimate bug that affects 0.13.0. Please correct me if I am wrong.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435223145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435223264","html_url":"https://github.com/apache/druid/pull/6552#issuecomment-435223264","issue_url":"https://api.github.com/repos/apache/druid/issues/6552","id":435223264,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTIyMzI2NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T23:41:44Z","updated_at":"2018-11-01T23:41:44Z","author_association":"CONTRIBUTOR","body":"I mean, it's a bug that affects a new feature (system tables) that we want to be launched as bug-free as possible.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435223264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435224421","html_url":"https://github.com/apache/druid/pull/6538#issuecomment-435224421","issue_url":"https://api.github.com/repos/apache/druid/issues/6538","id":435224421,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTIyNDQyMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T23:47:06Z","updated_at":"2018-11-01T23:47:06Z","author_association":"CONTRIBUTOR","body":"The idea behind using the temporary name is that if writing fails halfway through, we don't create the final file name as a partial file.\r\n\r\nWhat do you think about adding a retry to the rename instead? Do you know why it is failing?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435224421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435224781","html_url":"https://github.com/apache/druid/pull/6543#issuecomment-435224781","issue_url":"https://api.github.com/repos/apache/druid/issues/6543","id":435224781,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTIyNDc4MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T23:48:49Z","updated_at":"2018-11-01T23:48:49Z","author_association":"CONTRIBUTOR","body":"Are the new checkstyle rules something that the IntelliJ codestyle in the Druid repo can apply automatically? (I feel this is an important question to ask for any new checkstyle rules)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435224781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435225862","html_url":"https://github.com/apache/druid/pull/6490#issuecomment-435225862","issue_url":"https://api.github.com/repos/apache/druid/issues/6490","id":435225862,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTIyNTg2Mg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T23:54:39Z","updated_at":"2018-11-01T23:54:39Z","author_association":"MEMBER","body":"I don't see the point of doing that in upstream. Backport could be a different commit with just those bugs cherry picked","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435225862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435226631","html_url":"https://github.com/apache/druid/pull/6567#issuecomment-435226631","issue_url":"https://api.github.com/repos/apache/druid/issues/6567","id":435226631,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTIyNjYzMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T23:59:24Z","updated_at":"2018-11-01T23:59:24Z","author_association":"CONTRIBUTOR","body":"This is a cool feature, but, I don't think we can accept the security risk of enabling CORS by default. How about adding an endpoint on the overlord that proxies this request to the worker?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435226631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435228351","html_url":"https://github.com/apache/druid/pull/6568#issuecomment-435228351","issue_url":"https://api.github.com/repos/apache/druid/issues/6568","id":435228351,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTIyODM1MQ==","user":{"login":"Caroline1000","id":6364806,"node_id":"MDQ6VXNlcjYzNjQ4MDY=","avatar_url":"https://avatars.githubusercontent.com/u/6364806?v=4","gravatar_id":"","url":"https://api.github.com/users/Caroline1000","html_url":"https://github.com/Caroline1000","followers_url":"https://api.github.com/users/Caroline1000/followers","following_url":"https://api.github.com/users/Caroline1000/following{/other_user}","gists_url":"https://api.github.com/users/Caroline1000/gists{/gist_id}","starred_url":"https://api.github.com/users/Caroline1000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Caroline1000/subscriptions","organizations_url":"https://api.github.com/users/Caroline1000/orgs","repos_url":"https://api.github.com/users/Caroline1000/repos","events_url":"https://api.github.com/users/Caroline1000/events{/privacy}","received_events_url":"https://api.github.com/users/Caroline1000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T00:08:52Z","updated_at":"2018-11-02T00:08:52Z","author_association":"CONTRIBUTOR","body":"not if I'm reading the code correctly? From Druid.Server.java:\r\n`public static final String DEFAULT_TIER = \"_default_tier\";`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435228351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435235610","html_url":"https://github.com/apache/druid/pull/6568#issuecomment-435235610","issue_url":"https://api.github.com/repos/apache/druid/issues/6568","id":435235610,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTIzNTYxMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T00:51:05Z","updated_at":"2018-11-02T00:51:05Z","author_association":"CONTRIBUTOR","body":"Oh, it looks like it's a different kind of default tier. Ouch. Okay, thanks.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435235610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435238082","html_url":"https://github.com/apache/druid/issues/6559#issuecomment-435238082","issue_url":"https://api.github.com/repos/apache/druid/issues/6559","id":435238082,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTIzODA4Mg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T01:06:14Z","updated_at":"2018-11-02T06:36:26Z","author_association":"CONTRIBUTOR","body":"Some thoughts:\r\n- Setting aside the issue of how to control whether a metric is emitted: for whether a new metric should be emitted by default or not, we should evaluate the new metric case-by-case, I don't think a blanket policy of \"no new default metrics\" is appropriate. This backpressure metric seems reasonable to emit by default to me.\r\n- I agree with @gianm, I think it's excessive to require cluster operators to write an extension to control what metrics are emitted, this should be handled with configuration. A cluster operator is not necessarily a developer, and may not even have access to someone who could write such an extension. Control over what metrics are emitted seems like a fairly \"shallow\" interaction with the system that shouldn't require custom code.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435238082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435238721","html_url":"https://github.com/apache/druid/pull/6502#issuecomment-435238721","issue_url":"https://api.github.com/repos/apache/druid/issues/6502","id":435238721,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTIzODcyMQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T01:09:55Z","updated_at":"2018-11-02T01:09:55Z","author_association":"MEMBER","body":"BTW, this PR should not be merged until #6546 is resolved since it may need to be modified, pending how it is resolved.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435238721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435238868","html_url":"https://github.com/apache/druid/pull/6397#issuecomment-435238868","issue_url":"https://api.github.com/repos/apache/druid/issues/6397","id":435238868,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTIzODg2OA==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T01:10:48Z","updated_at":"2018-11-02T01:10:48Z","author_association":"MEMBER","body":"This PR is dependent on #6546 being resolved.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435238868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435241281","html_url":"https://github.com/apache/druid/pull/6547#issuecomment-435241281","issue_url":"https://api.github.com/repos/apache/druid/issues/6547","id":435241281,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTI0MTI4MQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T01:24:55Z","updated_at":"2018-11-02T03:37:16Z","author_association":"MEMBER","body":"An alternative to using `BloomFilter` instead of `BloomKFilter` is to maybe bring `BloomKFilter` into Druid and make the [mask be thread local](https://github.com/apache/hive/blob/master/storage-api/src/java/org/apache/hive/common/util/BloomKFilter.java#L210). I'm less into doing that for a backport though maybe.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435241281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435251287","html_url":"https://github.com/apache/druid/issues/6549#issuecomment-435251287","issue_url":"https://api.github.com/repos/apache/druid/issues/6549","id":435251287,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTI1MTI4Nw==","user":{"login":"manishmalhotrawork","id":22434010,"node_id":"MDQ6VXNlcjIyNDM0MDEw","avatar_url":"https://avatars.githubusercontent.com/u/22434010?v=4","gravatar_id":"","url":"https://api.github.com/users/manishmalhotrawork","html_url":"https://github.com/manishmalhotrawork","followers_url":"https://api.github.com/users/manishmalhotrawork/followers","following_url":"https://api.github.com/users/manishmalhotrawork/following{/other_user}","gists_url":"https://api.github.com/users/manishmalhotrawork/gists{/gist_id}","starred_url":"https://api.github.com/users/manishmalhotrawork/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manishmalhotrawork/subscriptions","organizations_url":"https://api.github.com/users/manishmalhotrawork/orgs","repos_url":"https://api.github.com/users/manishmalhotrawork/repos","events_url":"https://api.github.com/users/manishmalhotrawork/events{/privacy}","received_events_url":"https://api.github.com/users/manishmalhotrawork/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T02:27:52Z","updated_at":"2018-11-02T02:27:52Z","author_association":"NONE","body":"@leventov that would be a good idea.\r\n@gianm do you have any thoughts on that, as that can have impact while searching that dimension?\r\nPlus I can take this task, but needs to dig bit more, as right now getting more familiarized with the code.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435251287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435251822","html_url":"https://github.com/apache/druid/issues/6513#issuecomment-435251822","issue_url":"https://api.github.com/repos/apache/druid/issues/6513","id":435251822,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTI1MTgyMg==","user":{"login":"manishmalhotrawork","id":22434010,"node_id":"MDQ6VXNlcjIyNDM0MDEw","avatar_url":"https://avatars.githubusercontent.com/u/22434010?v=4","gravatar_id":"","url":"https://api.github.com/users/manishmalhotrawork","html_url":"https://github.com/manishmalhotrawork","followers_url":"https://api.github.com/users/manishmalhotrawork/followers","following_url":"https://api.github.com/users/manishmalhotrawork/following{/other_user}","gists_url":"https://api.github.com/users/manishmalhotrawork/gists{/gist_id}","starred_url":"https://api.github.com/users/manishmalhotrawork/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manishmalhotrawork/subscriptions","organizations_url":"https://api.github.com/users/manishmalhotrawork/orgs","repos_url":"https://api.github.com/users/manishmalhotrawork/repos","events_url":"https://api.github.com/users/manishmalhotrawork/events{/privacy}","received_events_url":"https://api.github.com/users/manishmalhotrawork/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T02:31:07Z","updated_at":"2018-11-02T02:31:07Z","author_association":"NONE","body":"@bhrgv-bolla Can you please add more details to it?\r\nAre we saying, add System.nano/milli to each event if user says use ingestion time or user has not defined a timestamp column? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435251822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435261020","html_url":"https://github.com/apache/druid/issues/6549#issuecomment-435261020","issue_url":"https://api.github.com/repos/apache/druid/issues/6549","id":435261020,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTI2MTAyMA==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T03:34:46Z","updated_at":"2018-11-02T03:34:46Z","author_association":"MEMBER","body":"@leventov do you have something in mind like adding a new 'version' to the dictionary column part header to indicate a constant null dimension if we notice that the dictionary only has null at serialization time, so that way the header of the part is still written, just not the sub parts in order to be able to still distinguish an all null dimension from a dimension that doesn't exist?\r\n\r\nWith regards to constant elimination (all-zero columns), #6016, does this at the \"column chunk scale\", by collecting statistics within the chunk in a class called [`IntFormMetrics`](https://github.com/apache/incubator-druid/pull/6016/files#diff-638f4e499d0412cbf444dcc71a2b34aaR34) which [is passed row values as they are sent to the serializer](https://github.com/apache/incubator-druid/pull/6016/files#diff-13c325751ca6de8ad95767e679d37d7eR193).\r\n\r\nThese statistics are discarded after the chunk is encoded, but longer term, I was considering saving until all chunks were processed, and making additional optimizations to eliminate constant columns almost entirely by encoding that information in the int column header, allowing the column supplier to return specialized/optimized implementations for these situations. I would imagine all null columns would also be relatively cheap represented in this manner, but would have more overhead in the form of a few function calls, since we could i think we could just push all of this up into a specialized selector that always returns nulls and wouldn't have to call into dictionaries/columns/indexes if we have a specialized dictionary column part for nulls like you are suggesting?\r\n\r\nAdditionally, I was planning to explore if that same information could be used beyond serialization of the int column to advise on index creation, e.g. whether to use concise or roaring (i need to do some experimentation here to see if any patterns pop up that would be good indicators to decide one way or another), or if we add any additional types of indexes in the future.\r\n\r\nI think maybe also would be worthwhile to continue the discussion of #5347 since this relates to segment format perhaps? I plan on weighing in on that issue based on my experiences working on that branch in the very near future.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435261020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435265766","html_url":"https://github.com/apache/druid/issues/5754#issuecomment-435265766","issue_url":"https://api.github.com/repos/apache/druid/issues/5754","id":435265766,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTI2NTc2Ng==","user":{"login":"terry19850829","id":13132142,"node_id":"MDQ6VXNlcjEzMTMyMTQy","avatar_url":"https://avatars.githubusercontent.com/u/13132142?v=4","gravatar_id":"","url":"https://api.github.com/users/terry19850829","html_url":"https://github.com/terry19850829","followers_url":"https://api.github.com/users/terry19850829/followers","following_url":"https://api.github.com/users/terry19850829/following{/other_user}","gists_url":"https://api.github.com/users/terry19850829/gists{/gist_id}","starred_url":"https://api.github.com/users/terry19850829/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/terry19850829/subscriptions","organizations_url":"https://api.github.com/users/terry19850829/orgs","repos_url":"https://api.github.com/users/terry19850829/repos","events_url":"https://api.github.com/users/terry19850829/events{/privacy}","received_events_url":"https://api.github.com/users/terry19850829/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T04:11:55Z","updated_at":"2018-11-02T04:11:55Z","author_association":"NONE","body":"It's a kafka OOM issue","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435265766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435270069","html_url":"https://github.com/apache/druid/pull/6570#issuecomment-435270069","issue_url":"https://api.github.com/repos/apache/druid/issues/6570","id":435270069,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTI3MDA2OQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T04:47:24Z","updated_at":"2018-11-02T04:47:24Z","author_association":"CONTRIBUTOR","body":"skipping CI for doc fix","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435270069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435351264","html_url":"https://github.com/apache/druid/issues/6549#issuecomment-435351264","issue_url":"https://api.github.com/repos/apache/druid/issues/6549","id":435351264,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTM1MTI2NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T11:35:11Z","updated_at":"2018-11-02T11:35:11Z","author_association":"MEMBER","body":"I don't think this particular thing requires any format change.\r\n\r\n> in order to be able to still distinguish an all null dimension from a dimension that doesn't exist?\r\n\r\nI think you don't need to be able to distinguish them.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435351264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435351465","html_url":"https://github.com/apache/druid/pull/6480#issuecomment-435351465","issue_url":"https://api.github.com/repos/apache/druid/issues/6480","id":435351465,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTM1MTQ2NQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T11:36:09Z","updated_at":"2018-11-02T11:36:09Z","author_association":"MEMBER","body":"@jihoonson could you please merge?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435351465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435353510","html_url":"https://github.com/apache/druid/issues/6559#issuecomment-435353510","issue_url":"https://api.github.com/repos/apache/druid/issues/6559","id":435353510,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTM1MzUxMA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T11:46:04Z","updated_at":"2018-11-02T11:46:04Z","author_association":"MEMBER","body":"@jon-wei\r\n\r\n1) I strongly feel that no, no new per-*query* metric should be emitted by default whatsoever, and if we didn't have backwards compatibility constraints already, they should *all* have been opt-in. Explained why in #3954 and #4570. BTW interesting that right now, if somebody doesn't want the new metric, eg because their metric accepting system doesn't have extra capacity, there is no path to disable it other than writing a private extension.\r\n2) Above I suggested the schema where no private extension needed, only 2 extra config lines.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435353510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435353795","html_url":"https://github.com/apache/druid/pull/6480#issuecomment-435353795","issue_url":"https://api.github.com/repos/apache/druid/issues/6480","id":435353795,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTM1Mzc5NQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T11:47:21Z","updated_at":"2018-11-02T11:47:21Z","author_association":"MEMBER","body":"Thanks for review","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435353795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435375589","html_url":"https://github.com/apache/druid/pull/6543#issuecomment-435375589","issue_url":"https://api.github.com/repos/apache/druid/issues/6543","id":435375589,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTM3NTU4OQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T13:12:32Z","updated_at":"2018-11-02T13:12:32Z","author_association":"MEMBER","body":"Druid's code style is mostly not described anywhere and is largely defined by the IntelliJ's defaults. However, I updated Eclipse import order (but didn't test it), thanks for note.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435375589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435380745","html_url":"https://github.com/apache/druid/issues/5373#issuecomment-435380745","issue_url":"https://api.github.com/repos/apache/druid/issues/5373","id":435380745,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTM4MDc0NQ==","user":{"login":"kiran-jagtap","id":1370049,"node_id":"MDQ6VXNlcjEzNzAwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/1370049?v=4","gravatar_id":"","url":"https://api.github.com/users/kiran-jagtap","html_url":"https://github.com/kiran-jagtap","followers_url":"https://api.github.com/users/kiran-jagtap/followers","following_url":"https://api.github.com/users/kiran-jagtap/following{/other_user}","gists_url":"https://api.github.com/users/kiran-jagtap/gists{/gist_id}","starred_url":"https://api.github.com/users/kiran-jagtap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kiran-jagtap/subscriptions","organizations_url":"https://api.github.com/users/kiran-jagtap/orgs","repos_url":"https://api.github.com/users/kiran-jagtap/repos","events_url":"https://api.github.com/users/kiran-jagtap/events{/privacy}","received_events_url":"https://api.github.com/users/kiran-jagtap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T13:30:45Z","updated_at":"2018-11-02T14:08:23Z","author_association":"NONE","body":"Hi Team,\r\nI'm using druid 0.12.3 in cluster mode with three node cluster, I'm getting same error of \r\n\r\n\"java.lang.IllegalStateException: Failed to create directory within 10000 attempts (tried 1541165112739-0 to 1541165112739-9999)\"\r\n\r\nI have setup \"-Djava.io.tmpdir=tmp\" and given 777 permissions still error present no luck to get data ingestion working ...\r\n\r\nAny help would be greatly appreciated..\r\n\r\nThanks,\r\nKiran","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435380745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435405263","html_url":"https://github.com/apache/druid/pull/4944#issuecomment-435405263","issue_url":"https://api.github.com/repos/apache/druid/issues/4944","id":435405263,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTQwNTI2Mw==","user":{"login":"hellobabygogo","id":8693129,"node_id":"MDQ6VXNlcjg2OTMxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/8693129?v=4","gravatar_id":"","url":"https://api.github.com/users/hellobabygogo","html_url":"https://github.com/hellobabygogo","followers_url":"https://api.github.com/users/hellobabygogo/followers","following_url":"https://api.github.com/users/hellobabygogo/following{/other_user}","gists_url":"https://api.github.com/users/hellobabygogo/gists{/gist_id}","starred_url":"https://api.github.com/users/hellobabygogo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hellobabygogo/subscriptions","organizations_url":"https://api.github.com/users/hellobabygogo/orgs","repos_url":"https://api.github.com/users/hellobabygogo/repos","events_url":"https://api.github.com/users/hellobabygogo/events{/privacy}","received_events_url":"https://api.github.com/users/hellobabygogo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T14:51:06Z","updated_at":"2018-11-02T14:51:06Z","author_association":"NONE","body":"@b-slim hi , why this feature not supported in index_hadoop task? I found when i used doubleSum in index_hadoop task is not effevtive.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435405263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435457747","html_url":"https://github.com/apache/druid/issues/6559#issuecomment-435457747","issue_url":"https://api.github.com/repos/apache/druid/issues/6559","id":435457747,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTQ1Nzc0Nw==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T17:47:00Z","updated_at":"2018-11-02T17:47:00Z","author_association":"CONTRIBUTOR","body":"Hi,\r\n\r\nI also feel that requiring end-users to write a custom extension to be able to receive helpful metrics is too high of a barrier for usage and I would favor a configuration-based approach. I'm okay with having the custom extension mechanism be available for advanced users to fine-tune what is emitted, but expect that most Druid users would be happier with and would have an easier time understanding a configuration-based system.\r\n\r\nI also don't feel that this issue should be a blocker to 0.13.0, since this additional metric is only emitted if `druid.broker.http.maxQueuedBytes` is set to a non-default value. Likely if a user is having an issue with backpressure, they would also welcome visibility into how the backpressure system is operating (via this metric). However I agree that it would be good to have the ability to enable/disable individual metrics by configuration.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435457747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435460269","html_url":"https://github.com/apache/druid/issues/6513#issuecomment-435460269","issue_url":"https://api.github.com/repos/apache/druid/issues/6513","id":435460269,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTQ2MDI2OQ==","user":{"login":"bhrgv-bolla","id":24613688,"node_id":"MDQ6VXNlcjI0NjEzNjg4","avatar_url":"https://avatars.githubusercontent.com/u/24613688?v=4","gravatar_id":"","url":"https://api.github.com/users/bhrgv-bolla","html_url":"https://github.com/bhrgv-bolla","followers_url":"https://api.github.com/users/bhrgv-bolla/followers","following_url":"https://api.github.com/users/bhrgv-bolla/following{/other_user}","gists_url":"https://api.github.com/users/bhrgv-bolla/gists{/gist_id}","starred_url":"https://api.github.com/users/bhrgv-bolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhrgv-bolla/subscriptions","organizations_url":"https://api.github.com/users/bhrgv-bolla/orgs","repos_url":"https://api.github.com/users/bhrgv-bolla/repos","events_url":"https://api.github.com/users/bhrgv-bolla/events{/privacy}","received_events_url":"https://api.github.com/users/bhrgv-bolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T17:56:25Z","updated_at":"2018-11-02T17:56:25Z","author_association":"NONE","body":"Yes, timestamp on ingestion. I made a hack for our use case. \r\n\r\nThis is a slightly modified string input row parser.\r\n\r\n```java\r\n\r\n/*\r\n * Licensed to Metamarkets Group Inc. (Metamarkets) under one\r\n * or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership. Metamarkets licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License. You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied. See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\npackage com.example.druid.parsers;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.google.common.base.Charsets;\r\nimport com.google.common.base.Preconditions;\r\nimport com.google.common.base.Strings;\r\nimport com.google.common.collect.Iterators;\r\nimport com.google.common.collect.Maps;\r\nimport io.druid.data.input.ByteBufferInputRowParser;\r\nimport io.druid.data.input.InputRow;\r\nimport io.druid.data.input.impl.MapInputRowParser;\r\nimport io.druid.data.input.impl.ParseSpec;\r\nimport io.druid.java.util.common.collect.Utils;\r\nimport io.druid.java.util.common.parsers.ParseException;\r\nimport io.druid.java.util.common.parsers.Parser;\r\nimport org.joda.time.DateTime;\r\n\r\nimport javax.annotation.Nullable;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.CharBuffer;\r\nimport java.nio.charset.Charset;\r\nimport java.nio.charset.CoderResult;\r\nimport java.nio.charset.CodingErrorAction;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n/**\r\n * Adds a timestamp column to the current time.\r\n * User needs to specify timestamp column in timestamp spec.\r\n */\r\npublic class ManagedStringInputRowParser implements ByteBufferInputRowParser {\r\n    private static final Charset DEFAULT_CHARSET = Charsets.UTF_8;\r\n\r\n    private final ParseSpec parseSpec;\r\n    private final MapInputRowParser mapParser;\r\n    private final Charset charset;\r\n\r\n    private Parser<String, Object> parser;\r\n    private CharBuffer chars;\r\n    private final Boolean autoTimeStamp;\r\n\r\n    @JsonProperty\r\n    public String getType() {\r\n        return \"managed\";\r\n    }\r\n\r\n    @JsonCreator\r\n    public ManagedStringInputRowParser(\r\n            @JsonProperty(\"parseSpec\") ParseSpec parseSpec,\r\n            @JsonProperty(\"encoding\") String encoding,\r\n            @JsonProperty(\"autoTimestamp\") Boolean autoTimeStamp\r\n    ) {\r\n        this.parseSpec = Preconditions.checkNotNull(parseSpec, \"parseSpec\");\r\n        this.mapParser = new MapInputRowParser(parseSpec);\r\n\r\n        //Enabled by default.\r\n        if(autoTimeStamp == null) this.autoTimeStamp = true;\r\n        else this.autoTimeStamp = autoTimeStamp;\r\n\r\n        if (encoding != null) {\r\n            this.charset = Charset.forName(encoding);\r\n        } else {\r\n            this.charset = DEFAULT_CHARSET;\r\n        }\r\n    }\r\n\r\n    @Deprecated\r\n    public ManagedStringInputRowParser(ParseSpec parseSpec) {\r\n        this(parseSpec, null, false);\r\n    }\r\n\r\n    public List<InputRow> parseBatch(ByteBuffer input) {\r\n        return Utils.nullableListOf(parseMap(buildStringKeyMap(input)));\r\n    }\r\n\r\n    @JsonProperty\r\n    public ParseSpec getParseSpec() {\r\n        return parseSpec;\r\n    }\r\n\r\n    @JsonProperty\r\n    public String getEncoding() {\r\n        return charset.name();\r\n    }\r\n\r\n    public ManagedStringInputRowParser withParseSpec(ParseSpec parseSpec) {\r\n        return new ManagedStringInputRowParser(parseSpec, getEncoding(), true);\r\n    }\r\n\r\n    private Map<String, Object> buildStringKeyMap(ByteBuffer input) {\r\n        int payloadSize = input.remaining();\r\n\r\n        if (chars == null || chars.remaining() < payloadSize) {\r\n            chars = CharBuffer.allocate(payloadSize);\r\n        }\r\n\r\n        final CoderResult coderResult = charset.newDecoder()\r\n                .onMalformedInput(CodingErrorAction.REPLACE)\r\n                .onUnmappableCharacter(CodingErrorAction.REPLACE)\r\n                .decode(input, chars, true);\r\n\r\n        Map<String, Object> theMap;\r\n        if (coderResult.isUnderflow()) {\r\n            chars.flip();\r\n            try {\r\n                theMap = parseString(chars.toString());\r\n                theMap = Maps.newHashMap(theMap); //ObjectFlatnner causing issues.\r\n                //Always a timestamp column need to exist\r\n                if(getParseSpec() == null || getParseSpec().getTimestampSpec() == null || Strings.isNullOrEmpty(getParseSpec().getTimestampSpec().getTimestampColumn())) {\r\n                    throw new IllegalStateException(\"Couldn't find the timestamp column name : \"+ getParseSpec());\r\n                }\r\n                String timestampColumn = getParseSpec().getTimestampSpec().getTimestampColumn();\r\n                if(theMap != null && this.autoTimeStamp) theMap.put(timestampColumn, DateTime.now().toDateTimeISO().toString()); //TODO review Managed timestamp.\r\n            } finally {\r\n                chars.clear();\r\n            }\r\n        } else {\r\n            throw new ParseException(\"Failed with CoderResult[%s]\", coderResult);\r\n        }\r\n        return theMap;\r\n    }\r\n\r\n    public void initializeParser() {\r\n        if (parser == null) {\r\n            // parser should be created when it is really used to avoid unnecessary initialization of the underlying\r\n            // parseSpec.\r\n            parser = parseSpec.makeParser();\r\n        }\r\n    }\r\n\r\n    public void startFileFromBeginning() {\r\n        initializeParser();\r\n        parser.startFileFromBeginning();\r\n    }\r\n\r\n    @Nullable\r\n    public InputRow parse(@Nullable String input) {\r\n        return parseMap(parseString(input));\r\n    }\r\n\r\n    @Nullable\r\n    private Map<String, Object> parseString(@Nullable String inputString) {\r\n        initializeParser();\r\n        return parser.parseToMap(inputString);\r\n    }\r\n\r\n    @Nullable\r\n    private InputRow parseMap(@Nullable Map<String, Object> theMap) {\r\n        // If a header is present in the data (and with proper configurations), a null is returned\r\n        if (theMap == null) {\r\n            return null;\r\n        }\r\n        return Iterators.getOnlyElement(mapParser.parseBatch(theMap).iterator());\r\n    }\r\n}\r\n\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435460269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435478758","html_url":"https://github.com/apache/druid/issues/6559#issuecomment-435478758","issue_url":"https://api.github.com/repos/apache/druid/issues/6559","id":435478758,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTQ3ODc1OA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T19:06:16Z","updated_at":"2018-11-02T19:07:13Z","author_association":"MEMBER","body":"@dclim your message has the same arguments as @gianm's and @jon-wei's, and still don't answer to my points:\r\n- I DON'T suggest users to write custom extensions to enable the metric\r\n- there are multiple issues with emitting query metrics by default, and the fact that it won't be emitted unless some other non-default configuration is set doesn't really void any of them.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435478758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435498748","html_url":"https://github.com/apache/druid/issues/6559#issuecomment-435498748","issue_url":"https://api.github.com/repos/apache/druid/issues/6559","id":435498748,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTQ5ODc0OA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T20:26:25Z","updated_at":"2018-11-03T02:23:43Z","author_association":"CONTRIBUTOR","body":"My view is that just by defining a metric as something that can be emitted under certain conditions, with a value representing some concept, we are left with backwards compatibility concerns. Even if a new metric is not emitted by default, some fraction of the userbase will enable and use it, and will be affected by compatibility breaking changes.\r\n\r\nSo my main concern with adding a new a metric as a default would be cost of emission/storage vs. the usefulness of the metric. In this case, the backpressure metric is extremely useful if you have the feature enabled, so I don't see an issue with enabling it by default. There is some context dependence and subjectivity to this tradeoff, so I do think we need an easy way to control what metrics are emitted.\r\n\r\n> BTW interesting that right now, if somebody doesn't want the new metric, eg because their metric accepting system doesn't have extra capacity, there is no path to disable it other than writing a private extension.\r\n\r\nAn easy means for controlling what metrics can be emitted through configuration sounds great to me, but I'm also not convinced that we should block the 0.13.0 release on adding a configuration property to control this specific metric. \r\n\r\nI think that should be better done as part of a general patch that covers all metrics in a later release. Adding a property now that may or may not fit in with the design of a larger system also imposes backwards compatibility concerns. It's also a bit strange from a user experience perspective to have a single config like this that doesn't have any counterpart for other metrics. \r\n\r\nThe new metric is only emitted when the user upgrades and explicitly enables a new feature, so I'm not too concerned that people's metrics collection will suddenly be overwhelmed by using 0.13.0, if we make it clear in the release notes that this new per-query metric would be emitted. Depending on collector as well, there may be the option of filtering out specific metrics if you don't want them (though there will still be the network load). I would also expect \"I want backpressure, but I don't want the backpressure metric\" to be a less common case. \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435498748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435522519","html_url":"https://github.com/apache/druid/pull/6552#issuecomment-435522519","issue_url":"https://api.github.com/repos/apache/druid/issues/6552","id":435522519,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTUyMjUxOQ==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T22:03:01Z","updated_at":"2018-11-02T22:03:01Z","author_association":"NONE","body":"I am testing the `BytesAccumulatingResponseHandler` status/description check, will update the PR soon.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435522519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435528085","html_url":"https://github.com/apache/druid/pull/5693#issuecomment-435528085","issue_url":"https://api.github.com/repos/apache/druid/issues/5693","id":435528085,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTUyODA4NQ==","user":{"login":"ankujain","id":2434666,"node_id":"MDQ6VXNlcjI0MzQ2NjY=","avatar_url":"https://avatars.githubusercontent.com/u/2434666?v=4","gravatar_id":"","url":"https://api.github.com/users/ankujain","html_url":"https://github.com/ankujain","followers_url":"https://api.github.com/users/ankujain/followers","following_url":"https://api.github.com/users/ankujain/following{/other_user}","gists_url":"https://api.github.com/users/ankujain/gists{/gist_id}","starred_url":"https://api.github.com/users/ankujain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankujain/subscriptions","organizations_url":"https://api.github.com/users/ankujain/orgs","repos_url":"https://api.github.com/users/ankujain/repos","events_url":"https://api.github.com/users/ankujain/events{/privacy}","received_events_url":"https://api.github.com/users/ankujain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T22:30:39Z","updated_at":"2018-11-02T22:30:39Z","author_association":"NONE","body":"@kaijianding Is the dedup feature only supported for stream pull ingestion? or I can use it with stream push/tranquility as well?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435528085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435619085","html_url":"https://github.com/apache/druid/issues/3562#issuecomment-435619085","issue_url":"https://api.github.com/repos/apache/druid/issues/3562","id":435619085,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTYxOTA4NQ==","user":{"login":"Shimi","id":218553,"node_id":"MDQ6VXNlcjIxODU1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/218553?v=4","gravatar_id":"","url":"https://api.github.com/users/Shimi","html_url":"https://github.com/Shimi","followers_url":"https://api.github.com/users/Shimi/followers","following_url":"https://api.github.com/users/Shimi/following{/other_user}","gists_url":"https://api.github.com/users/Shimi/gists{/gist_id}","starred_url":"https://api.github.com/users/Shimi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shimi/subscriptions","organizations_url":"https://api.github.com/users/Shimi/orgs","repos_url":"https://api.github.com/users/Shimi/repos","events_url":"https://api.github.com/users/Shimi/events{/privacy}","received_events_url":"https://api.github.com/users/Shimi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-03T20:39:10Z","updated_at":"2018-11-03T20:39:10Z","author_association":"CONTRIBUTOR","body":"@leventov Is this ticket still relevant?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435619085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435666898","html_url":"https://github.com/apache/druid/pull/5693#issuecomment-435666898","issue_url":"https://api.github.com/repos/apache/druid/issues/5693","id":435666898,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTY2Njg5OA==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-04T12:49:19Z","updated_at":"2018-11-04T12:49:19Z","author_association":"CONTRIBUTOR","body":"@ankujain this feature is implemented in RealtimePlumber and sink, so it should not care about how firehose is implemented, pull or push","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435666898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435727424","html_url":"https://github.com/apache/druid/issues/2330#issuecomment-435727424","issue_url":"https://api.github.com/repos/apache/druid/issues/2330","id":435727424,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTcyNzQyNA==","user":{"login":"dkhwangbo","id":13585249,"node_id":"MDQ6VXNlcjEzNTg1MjQ5","avatar_url":"https://avatars.githubusercontent.com/u/13585249?v=4","gravatar_id":"","url":"https://api.github.com/users/dkhwangbo","html_url":"https://github.com/dkhwangbo","followers_url":"https://api.github.com/users/dkhwangbo/followers","following_url":"https://api.github.com/users/dkhwangbo/following{/other_user}","gists_url":"https://api.github.com/users/dkhwangbo/gists{/gist_id}","starred_url":"https://api.github.com/users/dkhwangbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkhwangbo/subscriptions","organizations_url":"https://api.github.com/users/dkhwangbo/orgs","repos_url":"https://api.github.com/users/dkhwangbo/repos","events_url":"https://api.github.com/users/dkhwangbo/events{/privacy}","received_events_url":"https://api.github.com/users/dkhwangbo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T01:11:43Z","updated_at":"2018-11-05T01:11:43Z","author_association":"CONTRIBUTOR","body":"@jisookim0513 @navis @yaochitc \r\nHi. Any updates? Is your work open publicly?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435727424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435736786","html_url":"https://github.com/apache/druid/pull/6503#issuecomment-435736786","issue_url":"https://api.github.com/repos/apache/druid/issues/6503","id":435736786,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTczNjc4Ng==","user":{"login":"elloooooo","id":4433949,"node_id":"MDQ6VXNlcjQ0MzM5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4433949?v=4","gravatar_id":"","url":"https://api.github.com/users/elloooooo","html_url":"https://github.com/elloooooo","followers_url":"https://api.github.com/users/elloooooo/followers","following_url":"https://api.github.com/users/elloooooo/following{/other_user}","gists_url":"https://api.github.com/users/elloooooo/gists{/gist_id}","starred_url":"https://api.github.com/users/elloooooo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elloooooo/subscriptions","organizations_url":"https://api.github.com/users/elloooooo/orgs","repos_url":"https://api.github.com/users/elloooooo/repos","events_url":"https://api.github.com/users/elloooooo/events{/privacy}","received_events_url":"https://api.github.com/users/elloooooo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T02:27:43Z","updated_at":"2018-11-05T02:27:43Z","author_association":"CONTRIBUTOR","body":"@clintropolis Thank you for your patient explaination.\r\n\r\n> Hmm, I think at least `CachedCostBalancerStrategy` should be able to handle that many segments and many more, however it I know it is possible to make this not true via coordinator configuration. I would be interested in how your coordinator is tuned in the case where it is causing stuck handoff, like what are settings for max segments to move, etc? Additional cluster details such as number of historical nodes, type of deep storage, type of segment loading, etc, would be interesting as well if you're willing to share.\r\n\r\nI will try more harder to tune the `CachedCostBalancerStrategy` later as you mentioned its performance should be better. \r\n\r\n> That said, if for some reason `CachingCostBalancerStrategy` doesn't fit your use case, I don't think these changes are quite appropriate to add to `RandomBalancerStrategy`. I believe these changes make it behave much less randomly as it would now balance on storage capacity usage, as far as I understand this PR. Rather, I think it would be more sensible to add a new balancer strategy that implements this functionality instead, maybe call it `DiskThresholdBalancerStrategy`. However, I think on the query side balancing like this is not going to be a great experience in terms of query speed, since nothing will prevent or actively try to avoid load being concentrated in hot spots.\r\n\r\nI think every `XXXBalancerStrategy` concludes two roles. One is to distribute new segments and the other is to rebalance the existed segments. The basic reason I add this changes here is the principle to pick server or segment is totally random, I think. The concern for the disk used percentage is just for rebalance the segments, but not change the principle of randomly pick.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435736786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435760091","html_url":"https://github.com/apache/druid/pull/6575#issuecomment-435760091","issue_url":"https://api.github.com/repos/apache/druid/issues/6575","id":435760091,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTc2MDA5MQ==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T05:34:12Z","updated_at":"2018-11-05T05:34:12Z","author_association":"CONTRIBUTOR","body":"@zhaojiandong what behavior do you expect during warm up? I think messageGap should be a huge number when messageMaxTimestamp is zero, instead of messageGap=0","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435760091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435776450","html_url":"https://github.com/apache/druid/pull/6575#issuecomment-435776450","issue_url":"https://api.github.com/repos/apache/druid/issues/6575","id":435776450,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTc3NjQ1MA==","user":{"login":"zhaojiandong","id":5977839,"node_id":"MDQ6VXNlcjU5Nzc4Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/5977839?v=4","gravatar_id":"","url":"https://api.github.com/users/zhaojiandong","html_url":"https://github.com/zhaojiandong","followers_url":"https://api.github.com/users/zhaojiandong/followers","following_url":"https://api.github.com/users/zhaojiandong/following{/other_user}","gists_url":"https://api.github.com/users/zhaojiandong/gists{/gist_id}","starred_url":"https://api.github.com/users/zhaojiandong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhaojiandong/subscriptions","organizations_url":"https://api.github.com/users/zhaojiandong/orgs","repos_url":"https://api.github.com/users/zhaojiandong/repos","events_url":"https://api.github.com/users/zhaojiandong/events{/privacy}","received_events_url":"https://api.github.com/users/zhaojiandong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T07:18:44Z","updated_at":"2018-11-05T07:18:44Z","author_association":"CONTRIBUTOR","body":"> @zhaojiandong what behavior do you expect during warm up? I think messageGap should be a huge number when messageMaxTimestamp is zero, instead of messageGap=0\r\n\r\nWe will get System.currentTimeMillis()，this number do not indicate the real messageGap. In most situation,  we will care about the max message gap. But a big number will be confused. @kaijianding","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435776450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435778003","html_url":"https://github.com/apache/druid/pull/6575#issuecomment-435778003","issue_url":"https://api.github.com/repos/apache/druid/issues/6575","id":435778003,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTc3ODAwMw==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T07:27:19Z","updated_at":"2018-11-05T07:27:19Z","author_association":"CONTRIBUTOR","body":"@zhaojiandong but 0 is not a good number for messageGap, a big number indicates that there is no data yet","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435778003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435782541","html_url":"https://github.com/apache/druid/pull/6575#issuecomment-435782541","issue_url":"https://api.github.com/repos/apache/druid/issues/6575","id":435782541,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTc4MjU0MQ==","user":{"login":"zhaojiandong","id":5977839,"node_id":"MDQ6VXNlcjU5Nzc4Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/5977839?v=4","gravatar_id":"","url":"https://api.github.com/users/zhaojiandong","html_url":"https://github.com/zhaojiandong","followers_url":"https://api.github.com/users/zhaojiandong/followers","following_url":"https://api.github.com/users/zhaojiandong/following{/other_user}","gists_url":"https://api.github.com/users/zhaojiandong/gists{/gist_id}","starred_url":"https://api.github.com/users/zhaojiandong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhaojiandong/subscriptions","organizations_url":"https://api.github.com/users/zhaojiandong/orgs","repos_url":"https://api.github.com/users/zhaojiandong/repos","events_url":"https://api.github.com/users/zhaojiandong/events{/privacy}","received_events_url":"https://api.github.com/users/zhaojiandong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T07:50:06Z","updated_at":"2018-11-05T07:50:06Z","author_association":"CONTRIBUTOR","body":"> @zhaojiandong but 0 is not a good number for messageGap, a big number indicates that there is no data yet\r\n\r\nA big number will be confused, and so this will be change with time？Actual we do not care the min gap, we care max gap. \r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435782541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435784217","html_url":"https://github.com/apache/druid/pull/6575#issuecomment-435784217","issue_url":"https://api.github.com/repos/apache/druid/issues/6575","id":435784217,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTc4NDIxNw==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T07:57:53Z","updated_at":"2018-11-05T07:57:53Z","author_association":"CONTRIBUTOR","body":"@zhaojiandong I think you can report your own metric to meet your need or modify this behavior in your own build since this change may break some other's need who cares min gap","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435784217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435787661","html_url":"https://github.com/apache/druid/pull/6575#issuecomment-435787661","issue_url":"https://api.github.com/repos/apache/druid/issues/6575","id":435787661,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTc4NzY2MQ==","user":{"login":"zhaojiandong","id":5977839,"node_id":"MDQ6VXNlcjU5Nzc4Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/5977839?v=4","gravatar_id":"","url":"https://api.github.com/users/zhaojiandong","html_url":"https://github.com/zhaojiandong","followers_url":"https://api.github.com/users/zhaojiandong/followers","following_url":"https://api.github.com/users/zhaojiandong/following{/other_user}","gists_url":"https://api.github.com/users/zhaojiandong/gists{/gist_id}","starred_url":"https://api.github.com/users/zhaojiandong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhaojiandong/subscriptions","organizations_url":"https://api.github.com/users/zhaojiandong/orgs","repos_url":"https://api.github.com/users/zhaojiandong/repos","events_url":"https://api.github.com/users/zhaojiandong/events{/privacy}","received_events_url":"https://api.github.com/users/zhaojiandong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T08:13:33Z","updated_at":"2018-11-05T08:13:33Z","author_association":"CONTRIBUTOR","body":"> @zhaojiandong I think you can report your own metric to meet your need or modify this behavior in your own build since this change may break some other's need who cares min gap\r\n\r\nI think we should optimize this metric, messageGap = CurrentTimestamp can not indicate the real gap  @gianm \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435787661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435809327","html_url":"https://github.com/apache/druid/pull/6575#issuecomment-435809327","issue_url":"https://api.github.com/repos/apache/druid/issues/6575","id":435809327,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTgwOTMyNw==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T09:30:43Z","updated_at":"2018-11-05T09:30:43Z","author_association":"CONTRIBUTOR","body":"@zhaojiandong I don't think no data mean 0 message gap","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435809327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/435812670","html_url":"https://github.com/apache/druid/pull/6575#issuecomment-435812670","issue_url":"https://api.github.com/repos/apache/druid/issues/6575","id":435812670,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTgxMjY3MA==","user":{"login":"zhaojiandong","id":5977839,"node_id":"MDQ6VXNlcjU5Nzc4Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/5977839?v=4","gravatar_id":"","url":"https://api.github.com/users/zhaojiandong","html_url":"https://github.com/zhaojiandong","followers_url":"https://api.github.com/users/zhaojiandong/followers","following_url":"https://api.github.com/users/zhaojiandong/following{/other_user}","gists_url":"https://api.github.com/users/zhaojiandong/gists{/gist_id}","starred_url":"https://api.github.com/users/zhaojiandong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhaojiandong/subscriptions","organizations_url":"https://api.github.com/users/zhaojiandong/orgs","repos_url":"https://api.github.com/users/zhaojiandong/repos","events_url":"https://api.github.com/users/zhaojiandong/events{/privacy}","received_events_url":"https://api.github.com/users/zhaojiandong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T09:41:37Z","updated_at":"2018-11-05T09:41:37Z","author_association":"CONTRIBUTOR","body":"> @zhaojiandong I don't think no data mean 0 message gap\r\n\r\nAccording to your opinion, a big number does not mean the real gap either. \r\nBut a variable number will be confused, users care more about max gap rather than min gap","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/435812670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436032127","html_url":"https://github.com/apache/druid/pull/6567#issuecomment-436032127","issue_url":"https://api.github.com/repos/apache/druid/issues/6567","id":436032127,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjAzMjEyNw==","user":{"login":"blugowski","id":22055014,"node_id":"MDQ6VXNlcjIyMDU1MDE0","avatar_url":"https://avatars.githubusercontent.com/u/22055014?v=4","gravatar_id":"","url":"https://api.github.com/users/blugowski","html_url":"https://github.com/blugowski","followers_url":"https://api.github.com/users/blugowski/followers","following_url":"https://api.github.com/users/blugowski/following{/other_user}","gists_url":"https://api.github.com/users/blugowski/gists{/gist_id}","starred_url":"https://api.github.com/users/blugowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blugowski/subscriptions","organizations_url":"https://api.github.com/users/blugowski/orgs","repos_url":"https://api.github.com/users/blugowski/repos","events_url":"https://api.github.com/users/blugowski/events{/privacy}","received_events_url":"https://api.github.com/users/blugowski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T20:57:58Z","updated_at":"2018-11-05T20:57:58Z","author_association":"CONTRIBUTOR","body":"@gianm thanks for review. You're right, that was not good solution, I have added proxy as you suggested.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436032127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436069228","html_url":"https://github.com/apache/druid/issues/5236#issuecomment-436069228","issue_url":"https://api.github.com/repos/apache/druid/issues/5236","id":436069228,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjA2OTIyOA==","user":{"login":"glasser","id":16724,"node_id":"MDQ6VXNlcjE2NzI0","avatar_url":"https://avatars.githubusercontent.com/u/16724?v=4","gravatar_id":"","url":"https://api.github.com/users/glasser","html_url":"https://github.com/glasser","followers_url":"https://api.github.com/users/glasser/followers","following_url":"https://api.github.com/users/glasser/following{/other_user}","gists_url":"https://api.github.com/users/glasser/gists{/gist_id}","starred_url":"https://api.github.com/users/glasser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glasser/subscriptions","organizations_url":"https://api.github.com/users/glasser/orgs","repos_url":"https://api.github.com/users/glasser/repos","events_url":"https://api.github.com/users/glasser/events{/privacy}","received_events_url":"https://api.github.com/users/glasser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T23:04:55Z","updated_at":"2018-11-05T23:04:55Z","author_association":"CONTRIBUTOR","body":"@pjain1 your comment https://github.com/apache/incubator-druid/issues/5236#issuecomment-357088879 is incredibly helpful, and belongs in the manual!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436069228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436073949","html_url":"https://github.com/apache/druid/pull/6431#issuecomment-436073949","issue_url":"https://api.github.com/repos/apache/druid/issues/6431","id":436073949,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjA3Mzk0OQ==","user":{"login":"jsun98","id":11185501,"node_id":"MDQ6VXNlcjExMTg1NTAx","avatar_url":"https://avatars.githubusercontent.com/u/11185501?v=4","gravatar_id":"","url":"https://api.github.com/users/jsun98","html_url":"https://github.com/jsun98","followers_url":"https://api.github.com/users/jsun98/followers","following_url":"https://api.github.com/users/jsun98/following{/other_user}","gists_url":"https://api.github.com/users/jsun98/gists{/gist_id}","starred_url":"https://api.github.com/users/jsun98/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsun98/subscriptions","organizations_url":"https://api.github.com/users/jsun98/orgs","repos_url":"https://api.github.com/users/jsun98/repos","events_url":"https://api.github.com/users/jsun98/events{/privacy}","received_events_url":"https://api.github.com/users/jsun98/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T23:25:10Z","updated_at":"2018-11-05T23:25:10Z","author_association":"CONTRIBUTOR","body":"@dclim addressed the comments. Please take a look.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436073949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436315896","html_url":"https://github.com/apache/druid/issues/6579#issuecomment-436315896","issue_url":"https://api.github.com/repos/apache/druid/issues/6579","id":436315896,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjMxNTg5Ng==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-06T16:27:21Z","updated_at":"2018-11-06T16:27:21Z","author_association":"MEMBER","body":"You mean the  *druid_tasks* and *druid_tasklogs* tables' data size keep growing? It seems current kill functions do not clean up old data in tasks table and tasklogs table. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436315896/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436319429","html_url":"https://github.com/apache/druid/issues/6579#issuecomment-436319429","issue_url":"https://api.github.com/repos/apache/druid/issues/6579","id":436319429,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjMxOTQyOQ==","user":{"login":"QiuMM","id":15156517,"node_id":"MDQ6VXNlcjE1MTU2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/15156517?v=4","gravatar_id":"","url":"https://api.github.com/users/QiuMM","html_url":"https://github.com/QiuMM","followers_url":"https://api.github.com/users/QiuMM/followers","following_url":"https://api.github.com/users/QiuMM/following{/other_user}","gists_url":"https://api.github.com/users/QiuMM/gists{/gist_id}","starred_url":"https://api.github.com/users/QiuMM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QiuMM/subscriptions","organizations_url":"https://api.github.com/users/QiuMM/orgs","repos_url":"https://api.github.com/users/QiuMM/repos","events_url":"https://api.github.com/users/QiuMM/events{/privacy}","received_events_url":"https://api.github.com/users/QiuMM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-06T16:36:40Z","updated_at":"2018-11-06T16:36:40Z","author_association":"MEMBER","body":"I have checked the code and found the automatic log file deletion function does not clean up old entries in metadata store.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436319429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436426774","html_url":"https://github.com/apache/druid/pull/6490#issuecomment-436426774","issue_url":"https://api.github.com/repos/apache/druid/issues/6490","id":436426774,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjQyNjc3NA==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-06T22:08:50Z","updated_at":"2018-11-06T22:08:50Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436426774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/436449187","html_url":"https://github.com/apache/druid/pull/6581#issuecomment-436449187","issue_url":"https://api.github.com/repos/apache/druid/issues/6581","id":436449187,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjQ0OTE4Nw==","user":{"login":"edgan8","id":2577963,"node_id":"MDQ6VXNlcjI1Nzc5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2577963?v=4","gravatar_id":"","url":"https://api.github.com/users/edgan8","html_url":"https://github.com/edgan8","followers_url":"https://api.github.com/users/edgan8/followers","following_url":"https://api.github.com/users/edgan8/following{/other_user}","gists_url":"https://api.github.com/users/edgan8/gists{/gist_id}","starred_url":"https://api.github.com/users/edgan8/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgan8/subscriptions","organizations_url":"https://api.github.com/users/edgan8/orgs","repos_url":"https://api.github.com/users/edgan8/repos","events_url":"https://api.github.com/users/edgan8/events{/privacy}","received_events_url":"https://api.github.com/users/edgan8/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-06T23:36:57Z","updated_at":"2018-11-06T23:36:57Z","author_association":"CONTRIBUTOR","body":"@gianm @fjy I am not familiar with the best practices so let me know if you need more information. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/436449187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]