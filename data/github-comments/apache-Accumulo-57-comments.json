[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/741549088","html_url":"https://github.com/apache/accumulo/pull/1830#issuecomment-741549088","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1830","id":741549088,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTU0OTA4OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T05:56:22Z","updated_at":"2020-12-09T05:59:17Z","author_association":"MEMBER","body":"@Manno15 You may want to check that AuditMessageIT passes for you on this branch, because it failed in the main branch until I fixed it in 3b23f6af17ddc0da76fd4756a4c45c72aea50730 (also, that might be a good test to update to increase our code coverage for these permissions denials for the flush command, and maybe the set/remove system property commands as well).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/741549088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/741730925","html_url":"https://github.com/apache/accumulo/pull/1830#issuecomment-741730925","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1830","id":741730925,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTczMDkyNQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T12:09:35Z","updated_at":"2020-12-09T12:09:35Z","author_association":"CONTRIBUTOR","body":"@ctubbsii I made the changes to `AuditMessageIT` to get it to run. I will take a look at to see if this is the best spot for the permission denials. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/741730925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/741787609","html_url":"https://github.com/apache/accumulo/pull/1830#issuecomment-741787609","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1830","id":741787609,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTc4NzYwOQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T13:57:57Z","updated_at":"2020-12-09T13:57:57Z","author_association":"CONTRIBUTOR","body":"Thanks for the quick fix @Manno15 !  Feel free to add the changes to the IT this PR or as a separate PR, whatever is easier. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/741787609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/741814385","html_url":"https://github.com/apache/accumulo/pull/1830#issuecomment-741814385","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1830","id":741814385,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTgxNDM4NQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T14:39:51Z","updated_at":"2020-12-09T14:39:51Z","author_association":"CONTRIBUTOR","body":"I plan on doing it in a separate pr, I am still debugging some things on it. Is this good to merge? @milleruntime ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/741814385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/741905611","html_url":"https://github.com/apache/accumulo/issues/1760#issuecomment-741905611","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1760","id":741905611,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTkwNTYxMQ==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T16:58:38Z","updated_at":"2020-12-09T17:00:09Z","author_association":"MEMBER","body":"I was able to change the checkState version to include a more helpful message which now reads: `mytserveraddress ERROR The given address does not include a port`. \r\n\r\n> Based on this, it looks like most possibilities already have meaningful messages. So it may be only the missing port case that needs a better message. I don't think we need to keep the stack traces visible if that case is addressed. However, it may still be useful to log the exception at DEBUG anyway, when it is caught.\r\n\r\n@ctubbsii, by stack trace in this situation, do you mean the exceptions (e.g. `org.apache.thrift.transport.TTransportException: java.net.ConnectException: Connection refused`) included in the message, or were you referring to the full stack trace that I had included (and have since removed) in the initial revision of the print out when no port is passed? If its the prior, I can work to remove those from the error messages if that would be helpful and have the exceptions logged at DEBUG instead.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/741905611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/741927634","html_url":"https://github.com/apache/accumulo/issues/1760#issuecomment-741927634","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1760","id":741927634,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTkyNzYzNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T17:34:45Z","updated_at":"2020-12-09T17:34:45Z","author_association":"MEMBER","body":"@DomGarguilo I mean we don't need the full stack trace you had included. If you have already removed it, then we're on the same page. For the exceptions logged at DEBUG, I was thinking we could do that in addition. If you open a PR with your fix for this issue, I can make more specific suggestions in a code review, if necessary.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/741927634/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/741959478","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-741959478","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":741959478,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTk1OTQ3OA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T18:20:45Z","updated_at":"2020-12-09T18:20:45Z","author_association":"CONTRIBUTOR","body":"I'll take a look at permissionsIT, I can probably just add those to this PR","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/741959478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/741999962","html_url":"https://github.com/apache/accumulo/pull/1831#issuecomment-741999962","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1831","id":741999962,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTk5OTk2Mg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T19:34:00Z","updated_at":"2020-12-09T19:34:00Z","author_association":"CONTRIBUTOR","body":"Should this be back-ported to 1.10?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/741999962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/742077901","html_url":"https://github.com/apache/accumulo/pull/1831#issuecomment-742077901","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1831","id":742077901,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjA3NzkwMQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T21:35:56Z","updated_at":"2020-12-09T21:35:56Z","author_association":"MEMBER","body":"> Should this be back-ported to 1.10?\r\n\r\nI don't think so. It's not that important. It's just an extra log message that doesn't matter.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/742077901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/742519280","html_url":"https://github.com/apache/accumulo/pull/1834#issuecomment-742519280","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1834","id":742519280,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjUxOTI4MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T13:25:07Z","updated_at":"2020-12-10T13:25:07Z","author_association":"MEMBER","body":"All ITs passed. Some ITs unrelated to these changes were flaky initially, but passed on subsequent runs.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/742519280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/742521904","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-742521904","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":742521904,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjUyMTkwNA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T13:30:02Z","updated_at":"2020-12-10T13:30:02Z","author_association":"CONTRIBUTOR","body":"@ctubbsii As it stands currently, you only need write permissions to flush a table. Do you think I should add separate permissions for Flush specifically (not fully sure how to do this and make it functional. I did add the permission option though), piggyback off the write permission check to also do a flush of the table, or leave as is and assume that permission is checked correctly since they share permissions? \r\n\r\nI also noticed that in `PermissionsIT` that the test case for system permissions isn't actually there and is left as a to-do I assume. Not sure if there was a good reason why that was left undone.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/742521904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/742524904","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-742524904","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":742524904,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjUyNDkwNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T13:35:55Z","updated_at":"2020-12-10T13:35:55Z","author_association":"MEMBER","body":"> @ctubbsii As it stands currently, you only need write permissions to flush a table. Do you think I should add separate permissions for Flush specifically (not fully sure how to do this and make it functional. I did add the permission option though), piggyback off the write permission check to also do a flush of the table, or leave as is and assume that permission is checked correctly since they share permissions?\r\n> \r\n\r\nThere's no need to change any permissions. The test can simply add a user that lacks the appropriate permission, and can verify that the appropriate AccumuloSecurityException denial is thrown if a flush is attempted.\r\n\r\n> I also noticed that in `PermissionsIT` that the test case for system permissions isn't actually there and is left as a to-do I assume. Not sure if there was a good reason why that was left undone.\r\n\r\nIt probably just wasn't in scope of the original issue. Maybe there's another test that checks those? It can be added to this one, if not.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/742524904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/742533150","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-742533150","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":742533150,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjUzMzE1MA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T13:51:19Z","updated_at":"2020-12-10T13:51:19Z","author_association":"CONTRIBUTOR","body":"> There's no need to change any permissions. The test can simply add a user that lacks the appropriate permission and can verify that the appropriate AccumuloSecurityException denial is thrown if a flush is attempted.\r\n\r\nThat's what the test does overall, was more of a question on where to place it. In its own case, or in the Write case. I decided to go with the latter because the former would require adding its own permission.   ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/742533150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/742555044","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-742555044","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":742555044,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjU1NTA0NA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T14:28:26Z","updated_at":"2020-12-10T14:28:26Z","author_association":"CONTRIBUTOR","body":"Whenever I try to grant a system permission on the shell I get: `[shell.Shell] ERROR: org.apache.accumulo.core.util.BadArgumentException: Unrecognized permission near index 6\r\ngrant System.SYSTEM -u test_user\r\n`\r\nAm I doing something wrong or is that a bug? This is on 1.10. I am trying to test out the permission for changing system properties. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/742555044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/742811570","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-742811570","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":742811570,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjgxMTU3MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T21:29:24Z","updated_at":"2020-12-10T21:29:24Z","author_association":"MEMBER","body":"> Whenever I try to grant a system permission on the shell I get: `[shell.Shell] ERROR: org.apache.accumulo.core.util.BadArgumentException: Unrecognized permission near index 6 grant System.SYSTEM -u test_user `\r\n> Am I doing something wrong or is that a bug? This is on 1.10. I am trying to test out the permission for changing system properties.\r\n\r\nWhat command are you running? Compare what you are entering with the help information for the command you are running (`<command> --help`).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/742811570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/742816050","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-742816050","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":742816050,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjgxNjA1MA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T21:37:31Z","updated_at":"2020-12-10T21:37:31Z","author_association":"CONTRIBUTOR","body":"Just the Grant command. `grant <perm> -u <user>`. Every other perm works as expected, none of the System ones do for me. It fails on the first S in System. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/742816050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/742817682","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-742817682","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":742817682,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjgxNzY4Mg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T21:40:45Z","updated_at":"2020-12-10T21:40:45Z","author_association":"MEMBER","body":"> Just the Grant command. `grant <perm> -u <user>`. Every other perm works as expected, none of the System ones do for me. It fails on the first S in System.\r\n\r\nThe help documentation for the grant command says to use `-s`. So, `grant -s <systemPerm> -u <user>` should work.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/742817682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/742818339","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-742818339","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":742818339,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjgxODMzOQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T21:42:09Z","updated_at":"2020-12-10T21:42:28Z","author_association":"CONTRIBUTOR","body":"I'll try it tomorrow, but I don't recall seeing that. Maybe I am blind. Thanks for the help. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/742818339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743171010","html_url":"https://github.com/apache/accumulo/issues/1836#issuecomment-743171010","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1836","id":743171010,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzE3MTAxMA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T12:41:18Z","updated_at":"2020-12-11T12:41:18Z","author_association":"MEMBER","body":"Hi @metsy . Based on the exception, it seems you are missing commons-configuration on your class path. Without a full stack trace, it will be hard to determine which specific part of our code was looking for commons-configuration. However, if you put that on your class path, it should solve your problem. The tool.sh script was written to help add some things to your local class path, as well as the class path for the submitted MapReduce job. Perhaps it isn't picking up your commons-configuration jar? Or perhaps there's a conflict with the version that ships with Hadoop or ZooKeeper?\r\n\r\nIt looks like Accumulo 1.9.3 was built with commons-configuration 1.6, based on what we had in our pom.xml, but please note that 1.9.3 has been superseded by 1.10.0, and is no longer supported.\r\n\r\nI hope this response helps answer your question. If you have any further questions, please consider subscribing to our user list and asking on that forum, as this issue tracker is primarily for tracking issues during development. Other users may have experienced similar issues, and solved them already, and may be able to help you further on the user list. See https://accumulo.apache.org/contact-us/ for more information about subscribing to our mailing lists.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743171010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743183369","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-743183369","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":743183369,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzE4MzM2OQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T13:08:59Z","updated_at":"2020-12-11T13:08:59Z","author_association":"CONTRIBUTOR","body":"@ctubbsii It appears I was blind. The `-s` makes the command work, can't believe is missed it. Any thoughts on my most recent commits and anything else I should add? ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743183369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743317874","html_url":"https://github.com/apache/accumulo/issues/1837#issuecomment-743317874","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1837","id":743317874,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzMxNzg3NA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T17:14:03Z","updated_at":"2020-12-11T17:14:03Z","author_association":"CONTRIBUTOR","body":"`table.custom.balancer.host.regex.accumulo.metadata` should only be set once. I realize that the table properties can be specified per-table, but that's not how the code uses the properties. See the test[1] for an example. Maybe the properties should be renamed.\r\n\r\n\r\n[1] https://github.com/apache/accumulo/blob/main/server/base/src/test/java/org/apache/accumulo/server/master/balancer/HostRegexTableLoadBalancerTest.java","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743317874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743318211","html_url":"https://github.com/apache/accumulo/pull/1824#issuecomment-743318211","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1824","id":743318211,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzMxODIxMQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T17:14:41Z","updated_at":"2020-12-11T17:14:41Z","author_association":"CONTRIBUTOR","body":"This is getting close to being finished. Some issues I am facing are history file incompatibilities from previous versions (I believe jline3 requires timestamps in their history file) and hitting `'q'` while in the help command doesn't exit out of the command until you hit `enter` after the `'q'`. \r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743318211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743323844","html_url":"https://github.com/apache/accumulo/issues/1837#issuecomment-743323844","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1837","id":743323844,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzMyMzg0NA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T17:26:05Z","updated_at":"2020-12-11T17:26:05Z","author_association":"CONTRIBUTOR","body":"Specifically, these examples:\r\n\r\nhttps://github.com/apache/accumulo/blob/12395eeec06bc88d9a530ccc9927d924eb8108e8/server/base/src/test/java/org/apache/accumulo/server/master/balancer/BaseHostRegexTableLoadBalancerTest.java#L78\r\n\r\nhttps://github.com/apache/accumulo/blob/12395eeec06bc88d9a530ccc9927d924eb8108e8/server/base/src/test/java/org/apache/accumulo/server/master/balancer/HostRegexTableLoadBalancerTest.java#L190\r\n\r\nhttps://github.com/apache/accumulo/blob/12395eeec06bc88d9a530ccc9927d924eb8108e8/server/base/src/test/java/org/apache/accumulo/server/master/balancer/HostRegexTableLoadBalancerTest.java#L246\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743323844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743334743","html_url":"https://github.com/apache/accumulo/issues/1837#issuecomment-743334743","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1837","id":743334743,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzMzNDc0Mw==","user":{"login":"hlgp","id":31748527,"node_id":"MDQ6VXNlcjMxNzQ4NTI3","avatar_url":"https://avatars.githubusercontent.com/u/31748527?v=4","gravatar_id":"","url":"https://api.github.com/users/hlgp","html_url":"https://github.com/hlgp","followers_url":"https://api.github.com/users/hlgp/followers","following_url":"https://api.github.com/users/hlgp/following{/other_user}","gists_url":"https://api.github.com/users/hlgp/gists{/gist_id}","starred_url":"https://api.github.com/users/hlgp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hlgp/subscriptions","organizations_url":"https://api.github.com/users/hlgp/orgs","repos_url":"https://api.github.com/users/hlgp/repos","events_url":"https://api.github.com/users/hlgp/events{/privacy}","received_events_url":"https://api.github.com/users/hlgp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T17:48:29Z","updated_at":"2020-12-11T17:48:29Z","author_association":"NONE","body":"Yes, I recognize how the code is using the properties and I'm saying from a design standpoint it's too prone to error.  If a property is meant to be set only once, the product should do something to enforce that or warn about it.  In this case renaming the properties to omit the tablenames and simply defining it under the table context would work.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743334743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743340192","html_url":"https://github.com/apache/accumulo/issues/1837#issuecomment-743340192","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1837","id":743340192,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzM0MDE5Mg==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T17:59:47Z","updated_at":"2020-12-11T17:59:47Z","author_association":"CONTRIBUTOR","body":"Understood. I didn't know if you were having an operational problem and I wanted to provide some feedback that might help you resolve the issue. I agree that a change may be needed here.\r\n\r\n>  In this case renaming the properties to omit the tablenames and simply defining it under the table context would work.\r\n\r\nSince the HostRegexTableLoadBalancer is meant to be configured as the master balancer, it might make more sense to create `master.balancer.*` prefix property and add them there.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743340192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743342044","html_url":"https://github.com/apache/accumulo/issues/1837#issuecomment-743342044","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1837","id":743342044,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzM0MjA0NA==","user":{"login":"hlgp","id":31748527,"node_id":"MDQ6VXNlcjMxNzQ4NTI3","avatar_url":"https://avatars.githubusercontent.com/u/31748527?v=4","gravatar_id":"","url":"https://api.github.com/users/hlgp","html_url":"https://github.com/hlgp","followers_url":"https://api.github.com/users/hlgp/followers","following_url":"https://api.github.com/users/hlgp/following{/other_user}","gists_url":"https://api.github.com/users/hlgp/gists{/gist_id}","starred_url":"https://api.github.com/users/hlgp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hlgp/subscriptions","organizations_url":"https://api.github.com/users/hlgp/orgs","repos_url":"https://api.github.com/users/hlgp/repos","events_url":"https://api.github.com/users/hlgp/events{/privacy}","received_events_url":"https://api.github.com/users/hlgp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T18:03:26Z","updated_at":"2020-12-11T18:03:26Z","author_association":"NONE","body":"Understood.  Such feedback is always welcome.  We figured it out a day or two ago and nuked the setting on every table, leaving it only at the system level, but it was not intuitive while hunting it down.  (No idea how they got set there, but still)\r\n\r\nYes, something like that would be good alternative as well.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743342044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743358742","html_url":"https://github.com/apache/accumulo/issues/1792#issuecomment-743358742","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1792","id":743358742,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzM1ODc0Mg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T18:40:01Z","updated_at":"2020-12-11T18:40:01Z","author_association":"MEMBER","body":"I tracked this down to two problems:\r\n1. The test seems to be designed to look for new metrics from new GC cycles. However, what it's actually detecting is new metrics events written to the file, and not new GC cycle metrics.\r\n2. It also seems to be using the relative nanos from the MetricsFileTailer as a demarcation point for the next GC cycle, instead of the previously parsed GC start or finish time.\r\n\r\nThese seem relatively simple to fix, but I will not be able to fix them immediately. I will take a look next week.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743358742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743381792","html_url":"https://github.com/apache/accumulo/issues/1836#issuecomment-743381792","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1836","id":743381792,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzM4MTc5Mg==","user":{"login":"metsy","id":3198787,"node_id":"MDQ6VXNlcjMxOTg3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/3198787?v=4","gravatar_id":"","url":"https://api.github.com/users/metsy","html_url":"https://github.com/metsy","followers_url":"https://api.github.com/users/metsy/followers","following_url":"https://api.github.com/users/metsy/following{/other_user}","gists_url":"https://api.github.com/users/metsy/gists{/gist_id}","starred_url":"https://api.github.com/users/metsy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/metsy/subscriptions","organizations_url":"https://api.github.com/users/metsy/orgs","repos_url":"https://api.github.com/users/metsy/repos","events_url":"https://api.github.com/users/metsy/events{/privacy}","received_events_url":"https://api.github.com/users/metsy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T19:23:40Z","updated_at":"2020-12-11T19:23:40Z","author_association":"NONE","body":"Thanks @ctubbsii ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743381792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743418726","html_url":"https://github.com/apache/accumulo/issues/1838#issuecomment-743418726","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1838","id":743418726,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzQxODcyNg==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T20:46:49Z","updated_at":"2020-12-11T20:46:49Z","author_association":"CONTRIBUTOR","body":"This is a dup of the previous ticket.  Sorry.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743418726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743419487","html_url":"https://github.com/apache/accumulo/issues/1837#issuecomment-743419487","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1837","id":743419487,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzQxOTQ4Nw==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T20:48:19Z","updated_at":"2020-12-11T20:48:19Z","author_association":"CONTRIBUTOR","body":"I think the answer here is to simply put the property into the map in HostRegexTableBalancer.parseConfiguration IFF the table name from the property matches that of the table configuration being used.  This should handle properties being set at the system level appropriately as well.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743419487/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743428543","html_url":"https://github.com/apache/accumulo/issues/1837#issuecomment-743428543","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1837","id":743428543,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzQyODU0Mw==","user":{"login":"hlgp","id":31748527,"node_id":"MDQ6VXNlcjMxNzQ4NTI3","avatar_url":"https://avatars.githubusercontent.com/u/31748527?v=4","gravatar_id":"","url":"https://api.github.com/users/hlgp","html_url":"https://github.com/hlgp","followers_url":"https://api.github.com/users/hlgp/followers","following_url":"https://api.github.com/users/hlgp/following{/other_user}","gists_url":"https://api.github.com/users/hlgp/gists{/gist_id}","starred_url":"https://api.github.com/users/hlgp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hlgp/subscriptions","organizations_url":"https://api.github.com/users/hlgp/orgs","repos_url":"https://api.github.com/users/hlgp/repos","events_url":"https://api.github.com/users/hlgp/events{/privacy}","received_events_url":"https://api.github.com/users/hlgp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T21:10:19Z","updated_at":"2020-12-11T21:10:19Z","author_association":"NONE","body":"@ivakegg I think that is a good first step for now.  If the main reason the tablename properties came about was to be able to see them quickly at the system level, then I would argue that this is best addressed by a change to the config command.  It would be ideal to be able to run something like a config -f regex --all and return all table settings so we don't have to dump all the configs to find them, keeping the table setting under table context paradigm.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/743428543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744498482","html_url":"https://github.com/apache/accumulo/issues/1837#issuecomment-744498482","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1837","id":744498482,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDQ5ODQ4Mg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T15:01:19Z","updated_at":"2020-12-14T15:01:19Z","author_association":"MEMBER","body":"Based on the description, it seems that this issue is about how table-specific properties can override system-properties. However that is the design of per-table properties and works as expected.\r\n\r\nBased on the discussion, though, it seems that this issue is not about table-specific properties overriding system properties, but specifically about the issues of HostRegexTableLoadBalancer poor use of properties. It should be mentioned that while these properties can be set at the per-table level (because of the property names and for historical reasons), this balancer cannot be used as a per-table balancer, and can only be instantiated at the main balancer (it has no per-table constructor that accepts a table id). The current code in the main branch was modified in #1201 (for target release 2.1.0) and never uses the per-table configuration for anything other than issue a warning. So, the only settings that will apply to this balancer are those placed on the system-wide configuration.\r\n\r\nGiven the state of things in the main branch, I don't believe there's anything more to be done here, other than to advise people to use this balancer very carefully... with the understanding that the properties should be set at the system level, in spite of their names (for historical reasons) being prefixed with `table.`\r\n\r\nPlease re-open or continue the discussion if there's more to address, but I think the fix in #1201 should address the concerns listed here already.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744498482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744503096","html_url":"https://github.com/apache/accumulo/issues/1838#issuecomment-744503096","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1838","id":744503096,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDUwMzA5Ng==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T15:08:06Z","updated_at":"2020-12-14T15:08:06Z","author_association":"MEMBER","body":"Duplicate of #1837 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744503096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744586501","html_url":"https://github.com/apache/accumulo/pull/1834#issuecomment-744586501","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1834","id":744586501,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDU4NjUwMQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T17:18:56Z","updated_at":"2020-12-14T17:18:56Z","author_association":"CONTRIBUTOR","body":"While this is change contains multiple enhancements to the cryptography in the code, I feel like this is a regression in the maintainability.  Why not keep the cryptography constants in Constants.java as a pointer to the other parts of the code?  If someone wanted to see how we use the different algorithms, before they could search on those constants.  Now the encryption is scattered across vastly different and obscure parts of the code (KeyExtent, VisMetricsGatherer, SystemCredentials and ZkSecurityTool).  If they know to search for the string \"SHA-256\" they may be able to find these different pieces but as the different constants change (possibly independently) over time, this code will become even more difficult to maintain. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744586501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744590487","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-744590487","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":744590487,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDU5MDQ4Nw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T17:25:55Z","updated_at":"2020-12-14T17:25:55Z","author_association":"MEMBER","body":"> @ctubbsii It appears I was blind. The `-s` makes the command work, can't believe is missed it. Any thoughts on my most recent commits and anything else I should add?\r\n\r\nThe PermissionsIT test is hard to parse. I'm trying to take a look now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744590487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744607968","html_url":"https://github.com/apache/accumulo/pull/1834#issuecomment-744607968","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1834","id":744607968,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDYwNzk2OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T17:56:27Z","updated_at":"2020-12-14T17:57:35Z","author_association":"MEMBER","body":"> Why not keep the cryptography constants in Constants.java as a pointer to the other parts of the code?\r\n\r\nThe problem with Constants.java is that it makes it hard to modularize code, and it leaks implementation details, and can also make code harder to read, because you have to track variables through multiple layers of indirection. In general, constants should be as local as possible to the code where they get used. We have very little use of these as global constants.\r\n\r\n> Now the encryption is scattered across vastly different and obscure parts of the code (KeyExtent, VisMetricsGatherer, SystemCredentials and ZkSecurityTool).\r\n\r\nNo. It's not scattered. Addressing these point-by-point:\r\n\r\n1. KeyExtent and VisMetricsGatherer are not using this in any cryptographic way. It's just part of it's local serialization code... which can change independently of crypto-related stuff. If it changes, it'd be because made a design to change the way KeyExtent or VisMetricsGatherer serializes those objects... and not because of some system wide decision pertaining to cryptographic strength. We shouldn't use a global constant unless we're trying to enforce some system wide decision, but that's not the case for these two.\r\n\r\n2. For ZkSecurityTool, the only thing there now pertaining to SHA-256 is the code that allows us to read legacy formatted entries... which would not change based on any global decision. This should be local so that changes at a global level don't break our ability to read and convert legacy entries.\r\n\r\n3. There are no \"SHA-X\" constants in SystemCredentials now. There is a hard-coded constant for the salt prefix, because of a quirk with the way the commons-codec Crypt API works. We need to keep a consistent salt so that different servers don't generate different system passwords. Ideally, we'd always use the strongest hash supported by Crypt. We could programmatically extract the prefix associated with the strongest hash. However, I opted instead to create a JUnit test case to make us aware of any changes of that nature, so we can evaluate whether we need to use a different algorithm. Otherwise, it will just use SHA-512, which is Crypt's default.\r\n\r\nSo, really, there's no need for a centralized constant. The only uses for the constants we previously had are either non-crypto purpose serialization, code to interpret legacy values, or necessary to keep a consistent salt that only applies in one area of the code.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744607968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744610558","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-744610558","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":744610558,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDYxMDU1OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T18:01:04Z","updated_at":"2020-12-14T18:01:04Z","author_association":"MEMBER","body":"The following RPC calls were affected: initiateFlush, waitForFlush, shutdown, shutdownTabletServer, setMasterGoalState, setSystemProperty, and removeSystemProperty. Ideally, we should have test coverage for all of these cases.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744610558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744612038","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-744612038","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":744612038,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDYxMjAzOA==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T18:03:25Z","updated_at":"2020-12-14T18:03:25Z","author_association":"CONTRIBUTOR","body":"@Manno15 - are you working adding tests for the other calls? Or would it help if someone also took a look?\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744612038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744617613","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-744617613","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":744617613,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDYxNzYxMw==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T18:13:11Z","updated_at":"2020-12-14T18:13:38Z","author_association":"CONTRIBUTOR","body":"> @Manno15 - are you working adding tests for the other calls? Or would it help if someone also took a look?\r\n\r\nI am splitting time between this and #1824. I am willing to work on adding these other tests but I welcome help if you are offering it. \r\n\r\n> The following RPC calls were affected: initiateFlush, waitForFlush, shutdown, shutdownTabletServer, setMasterGoalState, setSystemProperty, and removeSystemProperty. Ideally, we should have test coverage for all of these cases.\r\n\r\nShould they be added to this IT? Similar to how I did `flush` or do you think there is a better location for all of these? I am unsure if `permissionsIT` is there to test that the permissions work or there to test the underlying function that uses the permission. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744617613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744622833","html_url":"https://github.com/apache/accumulo/pull/1736#issuecomment-744622833","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1736","id":744622833,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDYyMjgzMw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T18:22:16Z","updated_at":"2020-12-14T18:22:16Z","author_association":"CONTRIBUTOR","body":"Would be good to have this work with https://shiro.apache.org/","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744622833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744624316","html_url":"https://github.com/apache/accumulo/pull/1834#issuecomment-744624316","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1834","id":744624316,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDYyNDMxNg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T18:24:46Z","updated_at":"2020-12-14T18:24:46Z","author_association":"CONTRIBUTOR","body":"Thanks for addressing my concerns.  I guess my only concern now is how to address future requirements, when the hashes get out of date.  So if someone asks what hashes do we support, we just answer whatever the latest version we use of Apache commons Crypt library supports?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744624316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744626193","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-744626193","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":744626193,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDYyNjE5Mw==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T18:28:13Z","updated_at":"2020-12-14T18:28:13Z","author_association":"CONTRIBUTOR","body":"I'm wondering if a more complete solution here is to create a test for the MasterClientServiceHander (the Master's API) as that is where the SecurityOperation.canFlush method is called.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744626193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744626672","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-744626672","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":744626672,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDYyNjY3Mg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T18:29:06Z","updated_at":"2020-12-14T18:29:06Z","author_association":"MEMBER","body":"> Should they be added to this IT?\r\n\r\nThey should be in this PR, but I'm not sure which IT is best suited. I'm sure if you use your best judgment, it will be fine. People can provide help via code reviews if they know of a better place.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744626672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744630413","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-744630413","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":744630413,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDYzMDQxMw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T18:35:52Z","updated_at":"2020-12-14T18:35:52Z","author_association":"MEMBER","body":"> I'm wondering if a more complete solution here is to create a test for the MasterClientServiceHander (the Master's API) as that is where the SecurityOperation.canFlush method is called.\r\n\r\nMany of those operations already have their own specific end-to-end ITs, as this class represents RPC endpoints. I *thought* the PermissionsIT was intended to specifically check the permissions of each of these endpoints, so that other tests can focus on testing the end-to-end behavior, but I could be wrong about the scope of the PermissionsIT.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744630413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744631533","html_url":"https://github.com/apache/accumulo/issues/1837#issuecomment-744631533","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1837","id":744631533,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDYzMTUzMw==","user":{"login":"hlgp","id":31748527,"node_id":"MDQ6VXNlcjMxNzQ4NTI3","avatar_url":"https://avatars.githubusercontent.com/u/31748527?v=4","gravatar_id":"","url":"https://api.github.com/users/hlgp","html_url":"https://github.com/hlgp","followers_url":"https://api.github.com/users/hlgp/followers","following_url":"https://api.github.com/users/hlgp/following{/other_user}","gists_url":"https://api.github.com/users/hlgp/gists{/gist_id}","starred_url":"https://api.github.com/users/hlgp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hlgp/subscriptions","organizations_url":"https://api.github.com/users/hlgp/orgs","repos_url":"https://api.github.com/users/hlgp/repos","events_url":"https://api.github.com/users/hlgp/events{/privacy}","received_events_url":"https://api.github.com/users/hlgp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T18:38:05Z","updated_at":"2020-12-14T18:49:33Z","author_association":"NONE","body":"> Based on the description, it seems that this issue is about how table-specific properties can override system-properties. However that is the design of per-table properties and works as expected.\r\n\r\nNo, that is not what the issue is saying.  I tried to clarify it in the discussion but it seems further clarity is needed.  \r\nGiven a set of Tables T{T1, T2, ..., TN} and a set of configs C{C1,C2, ..., CN}, with some number of system-level properties S  with C1, C2, ... CN set, for a given table T1 with C1,..., CN set,   T1C1 can and does take precedence over SC1.  This is good, right, and proper.  The issue is (was) that there exists a set of properties with tablenames which can be set at both the system level and table level for each table, C.Tname.  When I say \"Individual table-specific properties are able to be overridden in *different* table contexts\"  I mean C.T1  could be overridden in T2 ( *different* tables meaning T1 !=  T2 ) in such a way that T1C.T1 and SC.T1 are ignored in favor of T2C.T1.  C.T1 should be specific to T1 and no table T not equal to T1 should be able to override it.  It sounds like #1201 addressed this so that SC.T1 would take precedence over all TC.T1 which fixes the specific issue with the HostRegexBalancer, but that violates the original idea that Tc should override Sc for all c in C.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744631533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744635177","html_url":"https://github.com/apache/accumulo/pull/1834#issuecomment-744635177","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1834","id":744635177,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDYzNTE3Nw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T18:44:47Z","updated_at":"2020-12-14T18:44:47Z","author_association":"MEMBER","body":"> Thanks for addressing my concerns. I guess my only concern now is how to address future requirements, when the hashes get out of date. So if someone asks what hashes do we support, we just answer whatever the latest version we use of Apache commons Crypt library supports?\r\n\r\nWell, now that we're using a standard format, we should be able to read any of the hashes that the Crypt library supports. The method we're calling in the Crypt API uses the default for that library, which is currently SHA-512, but it could change over time. Even if it changes, we will still be able to read the old values. However, the old values won't automatically upgrade like they are now doing for the legacy format we previously used. Users will benefit from the new hash supported by the library only if they change their password. That's typical for how crypt(3) is used with passwd files in Linux, so I think it's a normal expectation. However, as you saw, we do have a unit test to give us a heads up if something changes with the default, so we can address it on a case-by-case basis if it comes up. SHA-3 is being slowly adopted, so I expect we'll have to deal with it at some point, but probably not for quite a while.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744635177/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744663523","html_url":"https://github.com/apache/accumulo/issues/1837#issuecomment-744663523","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1837","id":744663523,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDY2MzUyMw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T19:36:04Z","updated_at":"2020-12-14T19:39:15Z","author_association":"MEMBER","body":"> in such a way that T1C.T1 and SC.T1 are ignored in favor of T2C.T1 \r\n\r\n@hlgp I'm a little confused by your nomenclature, so let me translate first to make sure I understand, then I'll address it:\r\n\r\nImagine a config key: `table.custom.table1.key`\r\n\r\n* In the system configuration, the value is set to `v0`\r\n* In `table1`'s configuration, the value is set to `v1`\r\n* In `table2`'s configuration, the value is set to `v2`\r\n* In `table3`'s configuration, no value is set\r\n\r\nIt sounds like what you're saying is that if `table2` sets `table.custom.table1.key = v2`, then operations performing in the context of `table1` will see the `v2` value instead of `v0` or `v1`. Is that what you are saying?\r\n\r\nIf so, that is definitely not the case. Operations performing in the context of `table1` will see `v1`, operations performing in the context of `table2` will see `v2`, and operations performing in the context of `table3` will see `v0`.\r\n\r\nThe fact that the key contains the name of `table1` has no bearing on whether its value will be seen in any particular context. In general, the only thing that matters is where the configuration is set.\r\n\r\nThe bug with the `HostRegexTableLoadBalancer` was a special case. It is *not* the case that the configuration of one table was affecting the context of another table. Rather, it was because that balancer was explicitly switching to each table's context and incorporating any config it found anywhere. The config wasn't affecting other contexts... the balancer was reading from all contexts. The current behavior fixes that bug, and only reads from the system context. Additionally, it logs warnings if it finds these properties in any per-table context, so that if something was working before and isn't after an upgrade, users will have some clue as to why.\r\n\r\nThis balancer should never have used the `table.custom.` prefix, as these properties were never intended to be stored in per-table configuration. They were intended to be stored in system configuration only... like other properties with the `general.custom.` prefix. I suspect that these predated the addition of `general.custom.` properties, and that's why it worked the way it did. This bug persists in 1.10, but the use of this balancer is a pretty niche use case, and there is a workaround. We could implement a simple fix in 1.10, like @ivakegg suggested, but nobody has done that. It would be a slight behavior change that could unexpectedly break people (while fixing others), so I'm not sure if it's worth it in a bugfix release.\r\n\r\nSo, I hope I understood what you were saying, and that my explanation makes sense. My main point is that I think this was an issue of `HostRegexTableLoadBalancer`, specifically, and not a general problem. Furthermore, it has been fixed in 2.1 development, and there is a workaround in 1.10. If somebody submits a PR to fix it for 1.10, feel free to ping me on it and I'd be happy to review it. I think it might just involve adding a line to `if (!tableName.equals(table.getKey())) { continue; }` after https://github.com/apache/accumulo/blob/56142a89952533fef922fa86739a879c073e7c2a/server/base/src/main/java/org/apache/accumulo/server/master/balancer/HostRegexTableLoadBalancer.java#L244\r\nHowever, I have not experimented or tested with this. It's just a guess from glancing at the code, and would probably need some sort of unit test case to go with it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744663523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744701501","html_url":"https://github.com/apache/accumulo/issues/1837#issuecomment-744701501","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1837","id":744701501,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDcwMTUwMQ==","user":{"login":"hlgp","id":31748527,"node_id":"MDQ6VXNlcjMxNzQ4NTI3","avatar_url":"https://avatars.githubusercontent.com/u/31748527?v=4","gravatar_id":"","url":"https://api.github.com/users/hlgp","html_url":"https://github.com/hlgp","followers_url":"https://api.github.com/users/hlgp/followers","following_url":"https://api.github.com/users/hlgp/following{/other_user}","gists_url":"https://api.github.com/users/hlgp/gists{/gist_id}","starred_url":"https://api.github.com/users/hlgp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hlgp/subscriptions","organizations_url":"https://api.github.com/users/hlgp/orgs","repos_url":"https://api.github.com/users/hlgp/repos","events_url":"https://api.github.com/users/hlgp/events{/privacy}","received_events_url":"https://api.github.com/users/hlgp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T20:48:24Z","updated_at":"2020-12-14T20:48:24Z","author_association":"NONE","body":"\"It sounds like what you're saying is that if table2 sets table.custom.table1.key = v2, then operations performing in the context of table1 will see the v2 value instead of v0 or v1. Is that what you are saying?\" \r\n -- No, I was not talking about operations within the context of table1.  I was talking about system-level operations, as exhibited by the HostRegexTabletLoadBalancer which you characterize perfectly here.  Everything hereafter in your synopsis I agree with.  We are saying the same things.  The fix is great for this specific issue, but I was thinking bigger picture thereafter.  I keep getting told what the code does and I'm trying to propose what it *could* do.\r\n\r\nWhat I was saying further was that the behavior of the HostRegexTabletLoadBalancer brought into question the need for system-level tablename properties (config.foo.bar.table1) since it does (or did at the time) pull from all contexts and could have surmised, from each table's context, that tables own regex.  Accumulo has a very nice config inheritance structure:  system-level configs inherited or overridden within each table context as necessary.  Having a table-name-specific-system-level property blurs that structure in a way that I thought it was worth exploring a refactor.  If in 2.0+ the system-level operations no longer have access to the table contexts, then perhaps this point is moot.  If not, it was worth opening up discussions for a streamlining redesign to keep all table-specific overrides solely within that tables context.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744701501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744706158","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-744706158","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":744706158,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDcwNjE1OA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T20:57:49Z","updated_at":"2020-12-14T20:57:49Z","author_association":"CONTRIBUTOR","body":"From what I can tell, the driver in PermissionsIT are the different Permissions enum values. I was thinking of a test that hits the API directly, like https://github.com/dlmarion/accumulo/blob/manager-api-it/test/src/main/java/org/apache/accumulo/test/functional/ManagerApiIT.java\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744706158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744710147","html_url":"https://github.com/apache/accumulo/issues/1378#issuecomment-744710147","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1378","id":744710147,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDcxMDE0Nw==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T21:05:43Z","updated_at":"2020-12-14T21:05:43Z","author_association":"MEMBER","body":"Is this issue outdated? It seems the referenced code no longer exists. @hkeebler ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744710147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744710236","html_url":"https://github.com/apache/accumulo/issues/1837#issuecomment-744710236","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1837","id":744710236,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDcxMDIzNg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T21:05:53Z","updated_at":"2020-12-14T21:05:53Z","author_association":"MEMBER","body":"> I keep getting told what the code does and I'm trying to propose what it _could_ do.\r\n\r\nSorry about that! I understand now.\r\n\r\n> If in 2.0+ the system-level operations no longer have access to the table contexts, then perhaps this point is moot.\r\n\r\nIn 2.0+, these kinds of operations can still access per-table config, if they need it. Even if we didn't provide an API through the pluggable interface, like we do for the balancer right now, they could always use some other tactic (like reflection or accessing static APIs) to get what they want. So, I don't see that going away any time soon.\r\n\r\n> Having a table-name-specific-system-level property blurs that structure in a way that I thought it was worth exploring a refactor.\r\n\r\nI'm not sure if this would be worth it.\r\n\r\nIn general, I've become frustrated with the restrictions of our \"we establish the schema, you take what you get\" model of configuration property naming. It leads to pluggable implementations that ship with Accumulo using `general.custom.*` and `table.custom.*`, and implementations that could be modularized and separated from our main code base using their own dedicated property keys listed in `Property.java` to the point where they are too tightly coupled with other Accumulo code. It prevents a company at, say \"Example, Inc.\" from using the property namespace `com.example.awesomeiterator.feature1=enabled`, and forces too verbose property names for ones we maintain ourselves.\r\n\r\nRather than create a new dedicated namespace for table configuration properties for use in the system namespace, I'd rather relax the restrictions on property names. Then, we could do something like `hostregexbalancer.regex.table1=...` and not be so controlling of how properties are set and managed. We can reserve the `accumulo.*` namespace for ourselves, of course (and the current namespaces, `system.*`, `general.*`, `table.*`, etc. for backwards-compatibility), but otherwise, I don't think we should be too restrictive about properties users set, whether they are in system config or per-table config.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744710236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744713268","html_url":"https://github.com/apache/accumulo/issues/1378#issuecomment-744713268","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1378","id":744713268,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDcxMzI2OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T21:12:01Z","updated_at":"2020-12-14T21:12:01Z","author_association":"MEMBER","body":"@DomGarguilo This was obsoleted by #1441 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744713268/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744717509","html_url":"https://github.com/apache/accumulo/issues/1837#issuecomment-744717509","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1837","id":744717509,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDcxNzUwOQ==","user":{"login":"hlgp","id":31748527,"node_id":"MDQ6VXNlcjMxNzQ4NTI3","avatar_url":"https://avatars.githubusercontent.com/u/31748527?v=4","gravatar_id":"","url":"https://api.github.com/users/hlgp","html_url":"https://github.com/hlgp","followers_url":"https://api.github.com/users/hlgp/followers","following_url":"https://api.github.com/users/hlgp/following{/other_user}","gists_url":"https://api.github.com/users/hlgp/gists{/gist_id}","starred_url":"https://api.github.com/users/hlgp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hlgp/subscriptions","organizations_url":"https://api.github.com/users/hlgp/orgs","repos_url":"https://api.github.com/users/hlgp/repos","events_url":"https://api.github.com/users/hlgp/events{/privacy}","received_events_url":"https://api.github.com/users/hlgp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T21:20:15Z","updated_at":"2020-12-14T21:20:15Z","author_association":"NONE","body":"Oh, yes, I entirely agree with keeping properties flexible, but keeping to certain tenets can also prevent confusion (like what we just experienced with the balancer) and unintended or obscured contradictions in configs.  Maintaining the simple construct of \"if you want this at the system level, set it thus\" and \"if you want this on specific tables, set it thus\" while minimizing possible contradictions and still allowing for custom properties at both levels would be the goal.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744717509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744734358","html_url":"https://github.com/apache/accumulo/issues/1689#issuecomment-744734358","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1689","id":744734358,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDczNDM1OA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T21:54:18Z","updated_at":"2020-12-14T21:54:18Z","author_association":"CONTRIBUTOR","body":"#1818 handles the case where exceptions are thrown in threads. I can look at the places where we are still catching Throwable.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744734358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744745860","html_url":"https://github.com/apache/accumulo/issues/1837#issuecomment-744745860","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1837","id":744745860,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDc0NTg2MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T22:18:25Z","updated_at":"2020-12-14T22:18:43Z","author_association":"MEMBER","body":"> Maintaining the simple construct of \"if you want this at the system level, set it thus\" and \"if you want this on specific tables, set it thus\" while minimizing possible contradictions and still allowing for custom properties at both levels would be the goal.\r\n\r\nWell, we do have that separation today (even for 1.10; `general.*` vs. `table.*`). `HostRegexTableLoadBalancer` was just not following it, and instead did it's own thing. Convention is one thing. Enforcement is harder. :smiley_cat: ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744745860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744747318","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-744747318","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":744747318,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDc0NzMxOA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T22:21:11Z","updated_at":"2020-12-14T22:21:11Z","author_association":"MEMBER","body":"@dlmarion Because this is such a significant change in behavior, what do you think about running CI and maybe RW a bit with these before this is merged? Would you be able to do that?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744747318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744754240","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-744754240","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":744754240,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDc1NDI0MA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T22:34:27Z","updated_at":"2020-12-14T22:34:27Z","author_association":"CONTRIBUTOR","body":"I can also help test this on our local cluster if necessary. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/744754240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745224050","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-745224050","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":745224050,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTIyNDA1MA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T11:16:53Z","updated_at":"2020-12-15T11:16:53Z","author_association":"CONTRIBUTOR","body":"I was able to test the flush RPC calls and the set/remove system property call within `PermissionsIT` but I don't see a way to test `shutdown`, `shutdownTabletServer`, and `setMasterGoalState`. I think implementing something akin to what @dlmarion suggested is best suited to handle that so I will implement it into a new IT","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745224050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745264947","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-745264947","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":745264947,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTI2NDk0Nw==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T12:44:48Z","updated_at":"2020-12-15T12:44:48Z","author_association":"CONTRIBUTOR","body":"I was able to handle each RPC call using @dlmarion's suggestion and using his IT as the basis for the one I pushed. Credit goes to him for that, thanks. The only part I am unsure on is if I should keep it in one test or separate each RPC call to their own test within the IT. \r\n\r\nOverall, I think this is ready for review and we can discuss which approach we want to go with and I can remove what we don't need/want and add anything that is missing. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745264947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745297351","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-745297351","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":745297351,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTI5NzM1MQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T13:48:53Z","updated_at":"2020-12-15T13:48:53Z","author_association":"CONTRIBUTOR","body":"@Manno15 - I appreciate the offer and if it's not too much trouble I'll take you up on it. This is going to be a short week for me this week and I am off next week. I have been asked to spend some cycles getting these releases out, so any help getting this tested would be much appreciated.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745297351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745300510","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-745300510","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":745300510,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTMwMDUxMA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T13:54:56Z","updated_at":"2020-12-15T13:54:56Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745300510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745304373","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-745304373","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":745304373,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTMwNDM3Mw==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T14:02:02Z","updated_at":"2020-12-15T14:02:02Z","author_association":"CONTRIBUTOR","body":"@dlmarion Do you want me to add you as a co-author if my last commit gets merged? Since it was your idea and you provided the basis for it? ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745304373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745319895","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-745319895","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":745319895,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTMxOTg5NQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T14:25:24Z","updated_at":"2020-12-15T14:25:24Z","author_association":"CONTRIBUTOR","body":"@dlmarion - No trouble at all. I will start the testing as soon as I can. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745319895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745323445","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-745323445","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":745323445,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTMyMzQ0NQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T14:27:42Z","updated_at":"2020-12-15T14:27:42Z","author_association":"CONTRIBUTOR","body":"I'm not really worried about it, up to you.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745323445/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745345124","html_url":"https://github.com/apache/accumulo/pull/1803#issuecomment-745345124","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1803","id":745345124,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTM0NTEyNA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T14:55:16Z","updated_at":"2020-12-15T14:55:53Z","author_association":"CONTRIBUTOR","body":"FYI the error that @ctubbsii referenced `java.io.IOException: Stream is closed!` I think is fairly \"normal\" behavior for recovery.  There is no way to close the WAL properly if the tserver is killed so during recovery, when we read the WAL and try to close it, this is the error that is seen.  This error is also seen when running RestartIT in the main branch.  There must be something else going on for the test to time out.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745345124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745351543","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-745351543","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":745351543,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTM1MTU0Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T15:05:19Z","updated_at":"2020-12-15T15:05:19Z","author_association":"MEMBER","body":"I'm in progress for another review of this. I have some cleanup of the tests to shorten it up a bit.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745351543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745373285","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-745373285","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":745373285,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTM3MzI4NQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T15:39:25Z","updated_at":"2020-12-15T15:39:25Z","author_association":"CONTRIBUTOR","body":"@dlmarion - is there anything, in particular, I need to set to fully test this? I just set up the cluster and I get the warning below for both master and gc. \r\n```\r\nThreadPoolExecutor found unreferenced without calling shutdown() or shutdownNow()\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745373285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745380424","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-745380424","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":745380424,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTM4MDQyNA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T15:50:27Z","updated_at":"2020-12-15T15:50:27Z","author_association":"CONTRIBUTOR","body":"No, you should not need to do anything special here. That's coming from https://github.com/apache/accumulo/pull/1818/files#diff-5c9ace41ad775cc540b1abbdd1cf70d46aef314576963953835267ff8c18d513R110. It's just a warning with a class name. It's still running, right?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745380424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745382033","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-745382033","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":745382033,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTM4MjAzMw==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T15:52:52Z","updated_at":"2020-12-15T15:52:52Z","author_association":"CONTRIBUTOR","body":"Yeah, everything is still running. Just wanted to make sure before I start the ingest process. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745382033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745382089","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-745382089","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":745382089,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTM4MjA4OQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T15:52:57Z","updated_at":"2020-12-15T15:52:57Z","author_association":"CONTRIBUTOR","body":"That method is only called from https://github.com/apache/accumulo/pull/1818/files#diff-40da4ec0c83a0e97c69ac58f6876f7895a08c52efe18041af42ccb9e6bcdccb2R75","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745382089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745386995","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-745386995","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":745386995,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTM4Njk5NQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T16:00:31Z","updated_at":"2020-12-15T16:00:31Z","author_association":"CONTRIBUTOR","body":"Ok, I need to fixup some code around that method. It should not affect the test you are running though. You might just see some of those log messages.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745386995/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745520126","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-745520126","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":745520126,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTUyMDEyNg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T19:38:01Z","updated_at":"2020-12-15T19:38:01Z","author_association":"MEMBER","body":"In order to make some improvements to these tests, I backported a JUnit upgrade from #1562 into the 1.10 development branch in d4fd27f32dc2611a23f67b1d3e8dafd8ee05a1cb","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745520126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745559916","html_url":"https://github.com/apache/accumulo/issues/947#issuecomment-745559916","issue_url":"https://api.github.com/repos/apache/accumulo/issues/947","id":745559916,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTU1OTkxNg==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T20:52:10Z","updated_at":"2020-12-15T20:52:10Z","author_association":"MEMBER","body":"Is this issue obsolete? The referenced methods getCustom() and getTableCustom() no longer exist in ServiceEnvironmentImpl.java","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745559916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745565038","html_url":"https://github.com/apache/accumulo/issues/947#issuecomment-745565038","issue_url":"https://api.github.com/repos/apache/accumulo/issues/947","id":745565038,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTU2NTAzOA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T21:02:09Z","updated_at":"2020-12-15T21:02:09Z","author_association":"MEMBER","body":"> Is this issue obsolete? The referenced methods getCustom() and getTableCustom() no longer exist in ServiceEnvironmentImpl.java\r\n\r\nIt looks like the implementation moved to core/src/main/java/org/apache/accumulo/core/util/ConfigurationImpl.java\r\n\r\nAs for the proposed change, I'm not sure exactly what is being proposed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745565038/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745571075","html_url":"https://github.com/apache/accumulo/issues/1023#issuecomment-745571075","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1023","id":745571075,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTU3MTA3NQ==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T21:13:47Z","updated_at":"2020-12-15T21:13:47Z","author_association":"MEMBER","body":"Should #1495 close this issue?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745571075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745708131","html_url":"https://github.com/apache/accumulo/issues/1023#issuecomment-745708131","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1023","id":745708131,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTcwODEzMQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T01:41:47Z","updated_at":"2020-12-16T01:41:47Z","author_association":"MEMBER","body":"@DomGarguilo #1495 probably took care of most of the basic opportunities to make improvements here. There may still be opportunities to use parallel streams and forEach to improve performance in some places, but those would have to be identified on a case-by-case basis, and this issue is too broadly scoped to help in those specific cases. So, I'll close this. Thanks for bringing it to our attention!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745708131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745796773","html_url":"https://github.com/apache/accumulo/issues/1839#issuecomment-745796773","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1839","id":745796773,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTc5Njc3Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T06:30:23Z","updated_at":"2020-12-16T06:30:23Z","author_association":"MEMBER","body":"This hit me while merging the changes from #1832 into the main branch. The new ManagerApiIT kept failing, with what was supposed to the root user's AccumuloClient instance was unable to create a new test user. The error message showed that the `AccumuloClient.whoami()` was a different test user from a different AccumuloClient builder earlier in the test.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/745796773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/746114793","html_url":"https://github.com/apache/accumulo/pull/1832#issuecomment-746114793","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1832","id":746114793,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NjExNDc5Mw==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T11:07:23Z","updated_at":"2020-12-16T11:07:23Z","author_association":"CONTRIBUTOR","body":"I like your changes to the test. I know you already merged but it looks good!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/746114793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/746122262","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-746122262","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":746122262,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NjEyMjI2Mg==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T11:11:56Z","updated_at":"2020-12-16T11:11:56Z","author_association":"CONTRIBUTOR","body":"From my CI run, everything seems to work. The only warnings I got were the ones I mentioned prior and things that seem related to hadoop and not this. I'll still paste them below just in case. They're all apart of the `org.apache.hadoop.hdfs.DataStreamer` package. I will update the branch to include your most recent changes and run RW today. \r\n\r\n```\r\njava.io.IOException: Bad response ERROR for BP-281662969-10.0.0.1-1608046410373:blk_1073761487_20926 from datanode DatanodeInfoWithStorage[10.0.0.2:9866,DS-bf1d7fff-1c80-48ce-89db-529393752060,DISK]\r\n\tat org.apache.hadoop.hdfs.DataStreamer$ResponseProcessor.run(DataStreamer.java:1126)\r\n```\r\n```\r\n | Error  Recovery for BP-281662969-10.0.0.1-1608046410373:blk_1073761488_20927  in pipeline  [DatanodeInfoWithStorage[10.0.0.5:9866,DS-5b3d88cd-2ced-4bfe-96dc-bacfd5192ac2,DISK],   DatanodeInfoWithStorage[10.0.0.2:9866,DS-bf1d7fff-1c80-48ce-89db-529393752060,DISK]]:  datanode 1(DatanodeInfoWithStorage[10.0.\r\n```\r\n\r\n```\r\nSlow waitForAckedSeqno took 65187ms (threshold=30000ms). File being written: /accumulo/tables/3/t-00005j8/F0000fet.rf_tmp, block: BP-281662969-10.0.0.1-1608046410373:blk_1073761487_21010, Write pipeline datanodes: [DatanodeInfoWithStorage[10.0.0.5:9866,DS-5b3d88cd-2ced-4bfe-96dc-bacfd5192ac2,DISK]].\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/746122262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/746796338","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-746796338","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":746796338,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Njc5NjMzOA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T18:37:15Z","updated_at":"2020-12-16T18:37:15Z","author_association":"MEMBER","body":"> From my CI run, everything seems to work.\r\n\r\nHow many nodes? How many ingesters? Did you run with or without agitation?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/746796338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/746803138","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-746803138","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":746803138,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NjgwMzEzOA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T18:41:28Z","updated_at":"2020-12-16T18:44:20Z","author_association":"CONTRIBUTOR","body":"Sorry for not providing more info. 7 nodes but only one ingester and without agitation. Running a CI with agitation as we speak. Everything else is a clean accumulo installation, with no change in settings except for heap sizes. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/746803138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747381390","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-747381390","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":747381390,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzM4MTM5MA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T11:25:44Z","updated_at":"2020-12-17T12:51:52Z","author_association":"CONTRIBUTOR","body":"The test with agitation also went well. 7 server, technically 8 node cluster. Received the same warnings as above and the only other warnings/errors are I think due to the nodes going down from agitation.\r\n\r\nI do see some able errors but I think I normally get that when I do CI with agitation. \r\nThings like:\r\n```  \r\nError recovering tablet 2;0985e;0945d from log files\r\n```\r\n\r\nRunning verify now. (EDIT): I am having troubling getting verify to run. Running into a Java Runtime issue with mismatch class file versions. Can't seem to fix it for some reason.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747381390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747567220","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-747567220","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":747567220,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzU2NzIyMA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T16:57:59Z","updated_at":"2020-12-17T16:57:59Z","author_association":"CONTRIBUTOR","body":"Do you have a stack trace?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747567220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747570194","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-747570194","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":747570194,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzU3MDE5NA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T17:03:07Z","updated_at":"2020-12-17T17:03:07Z","author_association":"CONTRIBUTOR","body":"This is what I am running into with trying to verify using accumulo-testing cingest/verify. I understand the error but nothing is working to fix it.\r\n```\r\nException in thread \"main\" java.lang.UnsupportedClassVersionError: org/apache/accumulo/testing/continuous/ContinuousVerify has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n\tat org.apache.hadoop.util.ApplicationClassLoader.loadClass(ApplicationClassLoader.java:176)\r\n\tat org.apache.hadoop.util.ApplicationClassLoader.loadClass(ApplicationClassLoader.java:157)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat org.apache.hadoop.util.RunJar.run(RunJar.java:316)\r\n\tat org.apache.hadoop.util.RunJar.main(RunJar.java:236)\r\n\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747570194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747575246","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-747575246","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":747575246,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzU3NTI0Ng==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T17:12:04Z","updated_at":"2020-12-17T17:12:04Z","author_association":"CONTRIBUTOR","body":"So you are running with Java 8 and the jar file was compile with Java 11, for example. That jar will need to be re-compiled with Java 8.\r\n\r\nhttps://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747575246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747579226","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-747579226","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":747579226,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzU3OTIyNg==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T17:19:05Z","updated_at":"2020-12-17T17:19:05Z","author_association":"CONTRIBUTOR","body":"I've tried that but I will try again. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747579226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747603412","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-747603412","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":747603412,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzYwMzQxMg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T18:02:24Z","updated_at":"2020-12-17T18:02:24Z","author_association":"MEMBER","body":"Accumulo 2.1.0-SNAPSHOT actually requires Java 11. You shouldn't need to recompile with Java 8 (accumulo-testing already compiles as Java 8 using the `-release 8` flag). You should make sure Java 11 is available on your runtime. Make sure JAVA_HOME points to your Java 11 installation on whatever node you're running the verify code.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747603412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747616460","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-747616460","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":747616460,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzYxNjQ2MA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T18:26:39Z","updated_at":"2020-12-17T18:26:39Z","author_association":"CONTRIBUTOR","body":"I did and still get the same error. I tried on a different node too and nothing. It does work locally so must be something related to the cluster. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747616460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747638788","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-747638788","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":747638788,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzYzODc4OA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T19:07:29Z","updated_at":"2020-12-17T19:07:29Z","author_association":"CONTRIBUTOR","body":"I got it to work. I forgot hadoop has an export JAVA_HOME of its own and that was exporting java 8 still for some reason. Thanks for your help guys. I will update you with the results tomorrow","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747638788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747650183","html_url":"https://github.com/apache/accumulo/issues/1606#issuecomment-747650183","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1606","id":747650183,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY1MDE4Mw==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T19:28:04Z","updated_at":"2020-12-17T19:28:04Z","author_association":"CONTRIBUTOR","body":"@FineAndDandy  - any updated information on the question in the comment above? Is this still an issue?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747650183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747652022","html_url":"https://github.com/apache/accumulo/issues/1559#issuecomment-747652022","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1559","id":747652022,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY1MjAyMg==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T19:31:08Z","updated_at":"2020-12-17T19:31:08Z","author_association":"CONTRIBUTOR","body":"@milleruntime - should this issue be closed as the PR for it is merged? Is there something still left to do?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747652022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747659563","html_url":"https://github.com/apache/accumulo/issues/1559#issuecomment-747659563","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1559","id":747659563,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY1OTU2Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T19:44:37Z","updated_at":"2020-12-17T19:44:37Z","author_association":"MEMBER","body":"@dlmarion I think this was just overlooked and not automatically closed because the original linked PR was for 1.10, and the 2.1 PR that was merged was separate. I can close it now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747659563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747671402","html_url":"https://github.com/apache/accumulo/issues/637#issuecomment-747671402","issue_url":"https://api.github.com/repos/apache/accumulo/issues/637","id":747671402,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY3MTQwMg==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T20:05:56Z","updated_at":"2020-12-17T20:05:56Z","author_association":"MEMBER","body":"The attached link suggests the use of `.withProtection()` while creating the ephemeral sequential nodes. From what I can tell, this is an apache curator function which is not used in the creation of ephemeral sequential nodes which happens in [ZooReaderWriter.java](https://github.com/apache/accumulo/blob/243e5771b03281c64115a625da83a20cd586adde/core/src/main/java/org/apache/accumulo/fate/zookeeper/ZooReaderWriter.java#L151). I'm not sure of an alternative or a solution at this point. I know this is an old issue so I just wanted to share my initial thoughts/findings in case someone else has some insight into this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747671402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747686478","html_url":"https://github.com/apache/accumulo/issues/637#issuecomment-747686478","issue_url":"https://api.github.com/repos/apache/accumulo/issues/637","id":747686478,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY4NjQ3OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T20:34:43Z","updated_at":"2020-12-17T20:34:43Z","author_association":"MEMBER","body":"@DomGarguilo I think the idea was to see how Curator solves the issue, to see if we can adopt a similar strategy in the relevant code in Accumulo. We have previously attempted (a very long time ago) to use Curator directly, but it was a *much* bigger effort that was ultimately abandoned.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747686478/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747688533","html_url":"https://github.com/apache/accumulo/issues/637#issuecomment-747688533","issue_url":"https://api.github.com/repos/apache/accumulo/issues/637","id":747688533,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY4ODUzMw==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T20:38:55Z","updated_at":"2020-12-17T20:39:10Z","author_association":"CONTRIBUTOR","body":"This \"type\" of issue was also discussed in https://github.com/apache/accumulo/issues/1086.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/747688533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/748041508","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-748041508","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":748041508,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODA0MTUwOA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T11:43:39Z","updated_at":"2020-12-18T11:43:39Z","author_association":"CONTRIBUTOR","body":"Verify completed successfully. I can post the results if you would want to see them. \r\n\r\nBased on my CI testing (no RW due to that failing, see [accuimulo-testing#132](https://github.com/apache/accumulo-testing/issues/132)) everything seems to be working as expected. I have not run into any fatal issue as of yet even with agitation. I will move on to testing the releases and I can come back to this if more work is needed to be done. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/748041508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/748331625","html_url":"https://github.com/apache/accumulo/issues/1559#issuecomment-748331625","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1559","id":748331625,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODMzMTYyNQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T21:37:21Z","updated_at":"2020-12-18T21:37:21Z","author_association":"CONTRIBUTOR","body":"Yep this is done.  It never made it into 1.10 or legacy bulk import.  The new property is in 2.1 and only used with the new bulk import technique.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/748331625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/748534854","html_url":"https://github.com/apache/accumulo/pull/1843#issuecomment-748534854","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1843","id":748534854,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODUzNDg1NA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-19T22:40:07Z","updated_at":"2020-12-19T22:40:07Z","author_association":"CONTRIBUTOR","body":"Not sure what is going on with the Github builds... one job was failing so I reran all the jobs, now the other is failing.   ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/748534854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/748991869","html_url":"https://github.com/apache/accumulo/pull/1843#issuecomment-748991869","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1843","id":748991869,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODk5MTg2OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-21T14:08:31Z","updated_at":"2020-12-21T14:09:07Z","author_association":"MEMBER","body":"> Not sure what is going on with the Github builds... one job was failing so I reran all the jobs, now the other is failing.\r\n\r\nI've noticed a significantly higher number of network issues running builds on GitHub Actions lately, affecting Maven dependency resolution.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/748991869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/749031876","html_url":"https://github.com/apache/accumulo/issues/637#issuecomment-749031876","issue_url":"https://api.github.com/repos/apache/accumulo/issues/637","id":749031876,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTAzMTg3Ng==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-21T15:27:59Z","updated_at":"2020-12-21T15:27:59Z","author_association":"MEMBER","body":"It seems that something like the `.withProtection()` in curator could be implemented to help with this issue. From what I understand, `.withProtection()` prefixes the name of the node being created with a GUID/UUID which, if creation fails, is searched for on the parent path and returned if found. In accumulo if node creation fails, depending on why it fails, the creation is either retried or an exception is thrown. My thinking is that during this retry, before an attempt is made to create a new node, the name of the initial node prefixed with the UUID is searched for and returned if found. At the moment I'm still looking into how this might be implemented and determining if this a viable solution.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/749031876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]