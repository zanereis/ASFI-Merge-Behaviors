[{"url":"https://api.github.com/repos/apache/brpc/issues/comments/360364754","html_url":"https://github.com/apache/brpc/issues/233#issuecomment-360364754","issue_url":"https://api.github.com/repos/apache/brpc/issues/233","id":360364754,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MDM2NDc1NA==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-25T05:26:40Z","updated_at":"2018-01-25T05:26:40Z","author_association":"CONTRIBUTOR","body":"是指用butex实现的容器？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/360364754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/360378134","html_url":"https://github.com/apache/brpc/issues/221#issuecomment-360378134","issue_url":"https://api.github.com/repos/apache/brpc/issues/221","id":360378134,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MDM3ODEzNA==","user":{"login":"qiuxiafei","id":261796,"node_id":"MDQ6VXNlcjI2MTc5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/261796?v=4","gravatar_id":"","url":"https://api.github.com/users/qiuxiafei","html_url":"https://github.com/qiuxiafei","followers_url":"https://api.github.com/users/qiuxiafei/followers","following_url":"https://api.github.com/users/qiuxiafei/following{/other_user}","gists_url":"https://api.github.com/users/qiuxiafei/gists{/gist_id}","starred_url":"https://api.github.com/users/qiuxiafei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qiuxiafei/subscriptions","organizations_url":"https://api.github.com/users/qiuxiafei/orgs","repos_url":"https://api.github.com/users/qiuxiafei/repos","events_url":"https://api.github.com/users/qiuxiafei/events{/privacy}","received_events_url":"https://api.github.com/users/qiuxiafei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-25T06:55:56Z","updated_at":"2018-01-25T06:55:56Z","author_association":"NONE","body":"OK, 谢谢，我尝试一下~","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/360378134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/360658597","html_url":"https://github.com/apache/brpc/issues/234#issuecomment-360658597","issue_url":"https://api.github.com/repos/apache/brpc/issues/234","id":360658597,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MDY1ODU5Nw==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-26T01:39:50Z","updated_at":"2018-01-26T01:39:50Z","author_association":"CONTRIBUTOR","body":"指示内存使用增长情况。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/360658597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/360692922","html_url":"https://github.com/apache/brpc/issues/234#issuecomment-360692922","issue_url":"https://api.github.com/repos/apache/brpc/issues/234","id":360692922,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MDY5MjkyMg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-26T06:07:22Z","updated_at":"2018-01-26T06:07:22Z","author_association":"CONTRIBUTOR","body":"只看malloc不管free。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/360692922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/360693011","html_url":"https://github.com/apache/brpc/issues/233#issuecomment-360693011","issue_url":"https://api.github.com/repos/apache/brpc/issues/233","id":360693011,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MDY5MzAxMQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-26T06:07:55Z","updated_at":"2018-01-26T06:07:55Z","author_association":"CONTRIBUTOR","body":"没有太大必要，好的并发容器的临界区得尽量小或基本没有。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/360693011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/360972620","html_url":"https://github.com/apache/brpc/issues/226#issuecomment-360972620","issue_url":"https://api.github.com/repos/apache/brpc/issues/226","id":360972620,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MDk3MjYyMA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-27T09:29:29Z","updated_at":"2018-01-27T09:29:29Z","author_association":"MEMBER","body":"mac版还在适配中","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/360972620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/361134060","html_url":"https://github.com/apache/brpc/issues/232#issuecomment-361134060","issue_url":"https://api.github.com/repos/apache/brpc/issues/232","id":361134060,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MTEzNDA2MA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-29T03:56:37Z","updated_at":"2018-01-29T03:56:37Z","author_association":"CONTRIBUTOR","body":"rpc之间一般还有业务逻辑，这部分代码占用的时间对rpc是不可知的，并不是一个通用问题。另一方不同机器上的wall-time即使开启了ntp，也可能由于人为调整而不同步，需要用户结合自己的服务特点来进行设计和容忍。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/361134060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/361134544","html_url":"https://github.com/apache/brpc/issues/225#issuecomment-361134544","issue_url":"https://api.github.com/repos/apache/brpc/issues/225","id":361134544,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MTEzNDU0NA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-29T04:01:02Z","updated_at":"2018-01-29T04:01:02Z","author_association":"CONTRIBUTOR","body":"brpc的http性能很好。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/361134544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/361170776","html_url":"https://github.com/apache/brpc/issues/233#issuecomment-361170776","issue_url":"https://api.github.com/repos/apache/brpc/issues/233","id":361170776,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MTE3MDc3Ng==","user":{"login":"tjb1216","id":6902833,"node_id":"MDQ6VXNlcjY5MDI4MzM=","avatar_url":"https://avatars.githubusercontent.com/u/6902833?v=4","gravatar_id":"","url":"https://api.github.com/users/tjb1216","html_url":"https://github.com/tjb1216","followers_url":"https://api.github.com/users/tjb1216/followers","following_url":"https://api.github.com/users/tjb1216/following{/other_user}","gists_url":"https://api.github.com/users/tjb1216/gists{/gist_id}","starred_url":"https://api.github.com/users/tjb1216/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tjb1216/subscriptions","organizations_url":"https://api.github.com/users/tjb1216/orgs","repos_url":"https://api.github.com/users/tjb1216/repos","events_url":"https://api.github.com/users/tjb1216/events{/privacy}","received_events_url":"https://api.github.com/users/tjb1216/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-29T08:20:16Z","updated_at":"2018-01-29T08:20:16Z","author_association":"NONE","body":"多谢解惑","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/361170776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/361470229","html_url":"https://github.com/apache/brpc/issues/237#issuecomment-361470229","issue_url":"https://api.github.com/repos/apache/brpc/issues/237","id":361470229,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MTQ3MDIyOQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-30T04:01:00Z","updated_at":"2018-01-30T04:01:00Z","author_association":"CONTRIBUTOR","body":"把参数用引号括起来，多路径用空格分隔。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/361470229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/361499188","html_url":"https://github.com/apache/brpc/issues/236#issuecomment-361499188","issue_url":"https://api.github.com/repos/apache/brpc/issues/236","id":361499188,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MTQ5OTE4OA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-30T07:21:59Z","updated_at":"2018-01-30T07:21:59Z","author_association":"MEMBER","body":"已修复，感谢反馈","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/361499188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/361555885","html_url":"https://github.com/apache/brpc/issues/235#issuecomment-361555885","issue_url":"https://api.github.com/repos/apache/brpc/issues/235","id":361555885,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MTU1NTg4NQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-30T10:50:11Z","updated_at":"2018-01-30T10:51:42Z","author_association":"CONTRIBUTOR","body":"[BNS](https://github.com/brpc/brpc/blob/master/src/brpc/policy/baidu_naming_service.cpp)中同一个server可能会和不同的tag组合，这样可以实现整数weight，比如权值为3的server相当于插入3次。还有一种可能性是从lalb抽取出基于wrr，再基于wrr+基于延时的权值调整实现la，不过这个工作量比较大。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/361555885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/361801981","html_url":"https://github.com/apache/brpc/issues/235#issuecomment-361801981","issue_url":"https://api.github.com/repos/apache/brpc/issues/235","id":361801981,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MTgwMTk4MQ==","user":{"login":"tjb1216","id":6902833,"node_id":"MDQ6VXNlcjY5MDI4MzM=","avatar_url":"https://avatars.githubusercontent.com/u/6902833?v=4","gravatar_id":"","url":"https://api.github.com/users/tjb1216","html_url":"https://github.com/tjb1216","followers_url":"https://api.github.com/users/tjb1216/followers","following_url":"https://api.github.com/users/tjb1216/following{/other_user}","gists_url":"https://api.github.com/users/tjb1216/gists{/gist_id}","starred_url":"https://api.github.com/users/tjb1216/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tjb1216/subscriptions","organizations_url":"https://api.github.com/users/tjb1216/orgs","repos_url":"https://api.github.com/users/tjb1216/repos","events_url":"https://api.github.com/users/tjb1216/events{/privacy}","received_events_url":"https://api.github.com/users/tjb1216/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-31T02:19:14Z","updated_at":"2018-01-31T02:19:14Z","author_association":"NONE","body":"也就是说我们可以基于tag实现一个wrr，对吧？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/361801981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/361811081","html_url":"https://github.com/apache/brpc/issues/235#issuecomment-361811081","issue_url":"https://api.github.com/repos/apache/brpc/issues/235","id":361811081,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MTgxMTA4MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-31T03:18:04Z","updated_at":"2018-01-31T03:18:04Z","author_association":"CONTRIBUTOR","body":"整数倍的weight，不是通用的，且显然不能很大。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/361811081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/361870823","html_url":"https://github.com/apache/brpc/issues/237#issuecomment-361870823","issue_url":"https://api.github.com/repos/apache/brpc/issues/237","id":361870823,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MTg3MDgyMw==","user":{"login":"dreamingpig","id":745054,"node_id":"MDQ6VXNlcjc0NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/745054?v=4","gravatar_id":"","url":"https://api.github.com/users/dreamingpig","html_url":"https://github.com/dreamingpig","followers_url":"https://api.github.com/users/dreamingpig/followers","following_url":"https://api.github.com/users/dreamingpig/following{/other_user}","gists_url":"https://api.github.com/users/dreamingpig/gists{/gist_id}","starred_url":"https://api.github.com/users/dreamingpig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dreamingpig/subscriptions","organizations_url":"https://api.github.com/users/dreamingpig/orgs","repos_url":"https://api.github.com/users/dreamingpig/repos","events_url":"https://api.github.com/users/dreamingpig/events{/privacy}","received_events_url":"https://api.github.com/users/dreamingpig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-31T09:17:11Z","updated_at":"2018-01-31T09:17:11Z","author_association":"NONE","body":"能给一个示例么？尝试了空格分隔的多路径，失败了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/361870823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/361901772","html_url":"https://github.com/apache/brpc/issues/237#issuecomment-361901772","issue_url":"https://api.github.com/repos/apache/brpc/issues/237","id":361901772,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MTkwMTc3Mg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-31T11:15:35Z","updated_at":"2018-01-31T11:15:35Z","author_association":"CONTRIBUTOR","body":"--headers=\"PATH1 PATH2\"","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/361901772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/362142486","html_url":"https://github.com/apache/brpc/issues/237#issuecomment-362142486","issue_url":"https://api.github.com/repos/apache/brpc/issues/237","id":362142486,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MjE0MjQ4Ng==","user":{"login":"alanxzj","id":1813474,"node_id":"MDQ6VXNlcjE4MTM0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1813474?v=4","gravatar_id":"","url":"https://api.github.com/users/alanxzj","html_url":"https://github.com/alanxzj","followers_url":"https://api.github.com/users/alanxzj/followers","following_url":"https://api.github.com/users/alanxzj/following{/other_user}","gists_url":"https://api.github.com/users/alanxzj/gists{/gist_id}","starred_url":"https://api.github.com/users/alanxzj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alanxzj/subscriptions","organizations_url":"https://api.github.com/users/alanxzj/orgs","repos_url":"https://api.github.com/users/alanxzj/repos","events_url":"https://api.github.com/users/alanxzj/events{/privacy}","received_events_url":"https://api.github.com/users/alanxzj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-01T02:53:57Z","updated_at":"2018-02-01T02:53:57Z","author_association":"NONE","body":"我也碰到这个问题了，所需要的库安装在不同目录上。\r\n最后是直接翻看脚本才解决。\r\n建议在脚本加上简单实用说明。\r\n当然，加快完善cmake支持最有效：）","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/362142486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/362329002","html_url":"https://github.com/apache/brpc/issues/240#issuecomment-362329002","issue_url":"https://api.github.com/repos/apache/brpc/issues/240","id":362329002,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MjMyOTAwMg==","user":{"login":"alanxzj","id":1813474,"node_id":"MDQ6VXNlcjE4MTM0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1813474?v=4","gravatar_id":"","url":"https://api.github.com/users/alanxzj","html_url":"https://github.com/alanxzj","followers_url":"https://api.github.com/users/alanxzj/followers","following_url":"https://api.github.com/users/alanxzj/following{/other_user}","gists_url":"https://api.github.com/users/alanxzj/gists{/gist_id}","starred_url":"https://api.github.com/users/alanxzj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alanxzj/subscriptions","organizations_url":"https://api.github.com/users/alanxzj/orgs","repos_url":"https://api.github.com/users/alanxzj/repos","events_url":"https://api.github.com/users/alanxzj/events{/privacy}","received_events_url":"https://api.github.com/users/alanxzj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-01T16:52:42Z","updated_at":"2018-02-01T16:52:42Z","author_association":"NONE","body":"补充： \r\n如顶楼帖子修改CMakeLists.txt后，cmake通过；\r\n但是make失败的出错信息如下，应该是修改CMakeLists.txt路径后带来的问题：\r\n\r\n/opt/thirdparty_src/brpc_cmake.git/src/brpc/nshead_meta.pb.cc: 在函数‘void protobuf_src_2fbrpc_2fnshead_5fmeta_2eproto::AddDescriptorsImpl()’中:\r\n/opt/thirdparty_src/brpc_cmake.git/src/brpc/nshead_meta.pb.cc:121:5: 错误：‘::protobuf_brpc_2foptions_2eproto’尚未声明\r\n   ::protobuf_brpc_2foptions_2eproto::AddDescriptors();\r\n     ^","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/362329002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/362455848","html_url":"https://github.com/apache/brpc/issues/240#issuecomment-362455848","issue_url":"https://api.github.com/repos/apache/brpc/issues/240","id":362455848,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MjQ1NTg0OA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-02T01:19:37Z","updated_at":"2018-02-02T01:19:53Z","author_association":"MEMBER","body":"cmake生成的原始错误方便贴一下吗 @alanxzj ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/362455848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/362459803","html_url":"https://github.com/apache/brpc/issues/240#issuecomment-362459803","issue_url":"https://api.github.com/repos/apache/brpc/issues/240","id":362459803,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MjQ1OTgwMw==","user":{"login":"alanxzj","id":1813474,"node_id":"MDQ6VXNlcjE4MTM0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1813474?v=4","gravatar_id":"","url":"https://api.github.com/users/alanxzj","html_url":"https://github.com/alanxzj","followers_url":"https://api.github.com/users/alanxzj/followers","following_url":"https://api.github.com/users/alanxzj/following{/other_user}","gists_url":"https://api.github.com/users/alanxzj/gists{/gist_id}","starred_url":"https://api.github.com/users/alanxzj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alanxzj/subscriptions","organizations_url":"https://api.github.com/users/alanxzj/orgs","repos_url":"https://api.github.com/users/alanxzj/repos","events_url":"https://api.github.com/users/alanxzj/events{/privacy}","received_events_url":"https://api.github.com/users/alanxzj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-02T01:43:29Z","updated_at":"2018-02-02T01:44:57Z","author_association":"NONE","body":"@zyearn \r\n我在源码内根目录 /opt/thirdparty_src/brpc_cmake.git/ 执行cmake .   。\r\n源码未改动全新clone时候的出错信息：\r\nCMake Error at CMakeLists.txt:314 (file):\r\n  file COPY cannot find\r\n  \"/opt/thirdparty_src/brpc_cmake.git/idl_options.pb.h\".\r\n\r\n我对根目录CMakeLists.txt做了如下改动，源码内编译CMAKE_CURRENT_BINARY_DIR此时应该指向根目录：\r\n-file(COPY ${CMAKE_CURRENT_BINARY_DIR}/idl_options.pb.h\r\n+file(COPY ${CMAKE_CURRENT_BINARY_DIR}/src/idl_options.pb.h\r\n#################################\r\n执行了上面改动后，接着执行cmake的出错：\r\nCMake Error at src/CMakeLists.txt:13 (add_library):\r\n  Cannot find source file:\r\n    /opt/thirdparty_src/brpc_cmake.git/idl_options.pb.cc\r\n\r\n我对根目录CMakeLists.txt做了如下改动后，单纯cmake可以通过，但是make出现2楼帖子的错误:\r\n272行如下改动：\r\n-- list(APPEND PROTO_SRCS \"${CMAKE_CURRENT_BINARY_DIR}/${PROTO_WE}.pb.cc\")\r\n++ list(APPEND PROTO_SRCS \"${CMAKE_CURRENT_BINARY_DIR}/src/${PROTO_WE}.pb.cc\")\r\n282行如下改动：\r\n-- list(APPEND PROTO_SRCS \"${CMAKE_CURRENT_BINARY_DIR}/brpc/${PROTO_WE}.pb.cc\")\r\n++ list(APPEND PROTO_SRCS \"${CMAKE_CURRENT_BINARY_DIR}/src/brpc/${PROTO_WE}.pb.cc\")\r\n292行如下改动：\r\n-- list(APPEND PROTO_SRCS \"${CMAKE_CURRENT_BINARY_DIR}/brpc/policy/${PROTO_WE}.pb.cc\")\r\n++ list(APPEND PROTO_SRCS \"${CMAKE_CURRENT_BINARY_DIR}/src/brpc/policy/${PROTO_WE}.pb.cc\")\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/362459803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/363435559","html_url":"https://github.com/apache/brpc/issues/241#issuecomment-363435559","issue_url":"https://api.github.com/repos/apache/brpc/issues/241","id":363435559,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MzQzNTU1OQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-06T14:18:53Z","updated_at":"2018-02-06T14:18:53Z","author_association":"CONTRIBUTOR","body":"是一致的，lock含acquire语意，unlock含release语意。这样当另一个线程成功地lock时，所带的acquire fence会和刚刚unlock的那个线程中的release fence配对，从而保证发生在unlock前的所有内存修改可见。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/363435559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/364091857","html_url":"https://github.com/apache/brpc/issues/242#issuecomment-364091857","issue_url":"https://api.github.com/repos/apache/brpc/issues/242","id":364091857,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDA5MTg1Nw==","user":{"login":"liyuan989","id":8590696,"node_id":"MDQ6VXNlcjg1OTA2OTY=","avatar_url":"https://avatars.githubusercontent.com/u/8590696?v=4","gravatar_id":"","url":"https://api.github.com/users/liyuan989","html_url":"https://github.com/liyuan989","followers_url":"https://api.github.com/users/liyuan989/followers","following_url":"https://api.github.com/users/liyuan989/following{/other_user}","gists_url":"https://api.github.com/users/liyuan989/gists{/gist_id}","starred_url":"https://api.github.com/users/liyuan989/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liyuan989/subscriptions","organizations_url":"https://api.github.com/users/liyuan989/orgs","repos_url":"https://api.github.com/users/liyuan989/repos","events_url":"https://api.github.com/users/liyuan989/events{/privacy}","received_events_url":"https://api.github.com/users/liyuan989/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-08T12:04:04Z","updated_at":"2018-02-08T12:04:04Z","author_association":"NONE","body":"另外用config_rpc.sh编译也出现问题\r\n```\r\nsh config_brpc.sh --headers=/usr/include --libs=/usr/lib64\r\nconfig_brpc.sh: line 32: realpath: command not found\r\nconfig_brpc.sh: line 33: realpath: command not found\r\nconfig_brpc: --headers=HDRPATHS --libs=LIBPATHS must be specified\r\n```","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/364091857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/364140188","html_url":"https://github.com/apache/brpc/issues/242#issuecomment-364140188","issue_url":"https://api.github.com/repos/apache/brpc/issues/242","id":364140188,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDE0MDE4OA==","user":{"login":"chenzhangyi","id":6805583,"node_id":"MDQ6VXNlcjY4MDU1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/6805583?v=4","gravatar_id":"","url":"https://api.github.com/users/chenzhangyi","html_url":"https://github.com/chenzhangyi","followers_url":"https://api.github.com/users/chenzhangyi/followers","following_url":"https://api.github.com/users/chenzhangyi/following{/other_user}","gists_url":"https://api.github.com/users/chenzhangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/chenzhangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenzhangyi/subscriptions","organizations_url":"https://api.github.com/users/chenzhangyi/orgs","repos_url":"https://api.github.com/users/chenzhangyi/repos","events_url":"https://api.github.com/users/chenzhangyi/events{/privacy}","received_events_url":"https://api.github.com/users/chenzhangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-08T15:07:38Z","updated_at":"2018-02-08T15:07:38Z","author_association":"MEMBER","body":"1. 你的protoc版本是什么\r\n2. realpath在一些发行版中需要额外安装.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/364140188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/364321254","html_url":"https://github.com/apache/brpc/issues/242#issuecomment-364321254","issue_url":"https://api.github.com/repos/apache/brpc/issues/242","id":364321254,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDMyMTI1NA==","user":{"login":"liyuan989","id":8590696,"node_id":"MDQ6VXNlcjg1OTA2OTY=","avatar_url":"https://avatars.githubusercontent.com/u/8590696?v=4","gravatar_id":"","url":"https://api.github.com/users/liyuan989","html_url":"https://github.com/liyuan989","followers_url":"https://api.github.com/users/liyuan989/followers","following_url":"https://api.github.com/users/liyuan989/following{/other_user}","gists_url":"https://api.github.com/users/liyuan989/gists{/gist_id}","starred_url":"https://api.github.com/users/liyuan989/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liyuan989/subscriptions","organizations_url":"https://api.github.com/users/liyuan989/orgs","repos_url":"https://api.github.com/users/liyuan989/repos","events_url":"https://api.github.com/users/liyuan989/events{/privacy}","received_events_url":"https://api.github.com/users/liyuan989/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-09T03:01:04Z","updated_at":"2018-02-09T03:01:04Z","author_association":"NONE","body":"@chenzhangyi \r\n```\r\nprotoc --version\r\nlibprotoc 2.3.0\r\n```","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/364321254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/364359398","html_url":"https://github.com/apache/brpc/issues/242#issuecomment-364359398","issue_url":"https://api.github.com/repos/apache/brpc/issues/242","id":364359398,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDM1OTM5OA==","user":{"login":"chenzhangyi","id":6805583,"node_id":"MDQ6VXNlcjY4MDU1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/6805583?v=4","gravatar_id":"","url":"https://api.github.com/users/chenzhangyi","html_url":"https://github.com/chenzhangyi","followers_url":"https://api.github.com/users/chenzhangyi/followers","following_url":"https://api.github.com/users/chenzhangyi/following{/other_user}","gists_url":"https://api.github.com/users/chenzhangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/chenzhangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenzhangyi/subscriptions","organizations_url":"https://api.github.com/users/chenzhangyi/orgs","repos_url":"https://api.github.com/users/chenzhangyi/repos","events_url":"https://api.github.com/users/chenzhangyi/events{/privacy}","received_events_url":"https://api.github.com/users/chenzhangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-09T07:44:15Z","updated_at":"2018-02-09T07:44:15Z","author_association":"MEMBER","body":"protobuf版本需要>=2.4","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/364359398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/365286859","html_url":"https://github.com/apache/brpc/issues/246#issuecomment-365286859","issue_url":"https://api.github.com/repos/apache/brpc/issues/246","id":365286859,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTI4Njg1OQ==","user":{"login":"chenzhangyi","id":6805583,"node_id":"MDQ6VXNlcjY4MDU1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/6805583?v=4","gravatar_id":"","url":"https://api.github.com/users/chenzhangyi","html_url":"https://github.com/chenzhangyi","followers_url":"https://api.github.com/users/chenzhangyi/followers","following_url":"https://api.github.com/users/chenzhangyi/following{/other_user}","gists_url":"https://api.github.com/users/chenzhangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/chenzhangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenzhangyi/subscriptions","organizations_url":"https://api.github.com/users/chenzhangyi/orgs","repos_url":"https://api.github.com/users/chenzhangyi/repos","events_url":"https://api.github.com/users/chenzhangyi/events{/privacy}","received_events_url":"https://api.github.com/users/chenzhangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-13T14:43:07Z","updated_at":"2018-02-13T14:43:07Z","author_association":"MEMBER","body":"g_task_control可能会在main函数前用到， 和atomic的构造函数存在race.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/365286859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/365497193","html_url":"https://github.com/apache/brpc/issues/246#issuecomment-365497193","issue_url":"https://api.github.com/repos/apache/brpc/issues/246","id":365497193,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTQ5NzE5Mw==","user":{"login":"sige5566","id":7919472,"node_id":"MDQ6VXNlcjc5MTk0NzI=","avatar_url":"https://avatars.githubusercontent.com/u/7919472?v=4","gravatar_id":"","url":"https://api.github.com/users/sige5566","html_url":"https://github.com/sige5566","followers_url":"https://api.github.com/users/sige5566/followers","following_url":"https://api.github.com/users/sige5566/following{/other_user}","gists_url":"https://api.github.com/users/sige5566/gists{/gist_id}","starred_url":"https://api.github.com/users/sige5566/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sige5566/subscriptions","organizations_url":"https://api.github.com/users/sige5566/orgs","repos_url":"https://api.github.com/users/sige5566/repos","events_url":"https://api.github.com/users/sige5566/events{/privacy}","received_events_url":"https://api.github.com/users/sige5566/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-14T05:03:59Z","updated_at":"2018-02-14T05:03:59Z","author_association":"NONE","body":"明白了，谢谢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/365497193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/367544234","html_url":"https://github.com/apache/brpc/issues/246#issuecomment-367544234","issue_url":"https://api.github.com/repos/apache/brpc/issues/246","id":367544234,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzU0NDIzNA==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-22T02:13:11Z","updated_at":"2018-02-22T02:13:11Z","author_association":"CONTRIBUTOR","body":"TaskControl* g_task_control = NULL; 在 static initialization（使用zero initialization语义）阶段完成，而atomic<TaskControl*> g_task_control; 在 dynamic initialization阶段完成，所以存在race，是这样理解吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/367544234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/367879013","html_url":"https://github.com/apache/brpc/issues/242#issuecomment-367879013","issue_url":"https://api.github.com/repos/apache/brpc/issues/242","id":367879013,"node_id":"MDEyOklzc3VlQ29tbWVudDM2Nzg3OTAxMw==","user":{"login":"alanxzj","id":1813474,"node_id":"MDQ6VXNlcjE4MTM0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1813474?v=4","gravatar_id":"","url":"https://api.github.com/users/alanxzj","html_url":"https://github.com/alanxzj","followers_url":"https://api.github.com/users/alanxzj/followers","following_url":"https://api.github.com/users/alanxzj/following{/other_user}","gists_url":"https://api.github.com/users/alanxzj/gists{/gist_id}","starred_url":"https://api.github.com/users/alanxzj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alanxzj/subscriptions","organizations_url":"https://api.github.com/users/alanxzj/orgs","repos_url":"https://api.github.com/users/alanxzj/repos","events_url":"https://api.github.com/users/alanxzj/events{/privacy}","received_events_url":"https://api.github.com/users/alanxzj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-23T01:20:04Z","updated_at":"2018-02-23T01:20:04Z","author_association":"NONE","body":"建议可以在cmake中加入protobuf的版本检查，对使用者更加友好。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/367879013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/367967409","html_url":"https://github.com/apache/brpc/issues/248#issuecomment-367967409","issue_url":"https://api.github.com/repos/apache/brpc/issues/248","id":367967409,"node_id":"MDEyOklzc3VlQ29tbWVudDM2Nzk2NzQwOQ==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-23T10:13:15Z","updated_at":"2018-02-23T10:13:15Z","author_association":"CONTRIBUTOR","body":"依据的是，pipeline中一个请求对应一个响应的原理。即先发送的请求，一定先接收到其响应。这样只要把bthread放到一个队列结构中即可，收到一个响应就从队首取一个bthread唤醒。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/367967409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368188296","html_url":"https://github.com/apache/brpc/issues/244#issuecomment-368188296","issue_url":"https://api.github.com/repos/apache/brpc/issues/244","id":368188296,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODE4ODI5Ng==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-24T02:00:25Z","updated_at":"2018-02-24T02:00:25Z","author_association":"CONTRIBUTOR","body":"搭车提问，RDMA需要特殊的网卡支持吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368188296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368380227","html_url":"https://github.com/apache/brpc/issues/227#issuecomment-368380227","issue_url":"https://api.github.com/repos/apache/brpc/issues/227","id":368380227,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODM4MDIyNw==","user":{"login":"fengnex","id":26297547,"node_id":"MDQ6VXNlcjI2Mjk3NTQ3","avatar_url":"https://avatars.githubusercontent.com/u/26297547?v=4","gravatar_id":"","url":"https://api.github.com/users/fengnex","html_url":"https://github.com/fengnex","followers_url":"https://api.github.com/users/fengnex/followers","following_url":"https://api.github.com/users/fengnex/following{/other_user}","gists_url":"https://api.github.com/users/fengnex/gists{/gist_id}","starred_url":"https://api.github.com/users/fengnex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengnex/subscriptions","organizations_url":"https://api.github.com/users/fengnex/orgs","repos_url":"https://api.github.com/users/fengnex/repos","events_url":"https://api.github.com/users/fengnex/events{/privacy}","received_events_url":"https://api.github.com/users/fengnex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-26T03:29:14Z","updated_at":"2018-02-26T03:29:14Z","author_association":"NONE","body":"前几个月跟dubbo提过，过年后看到他们进了Apache的孵化项目，我还特定上www.apache.org上看了，虽然现在他们还没有自己的主页，但还是很高兴。\r\n看得出百度对这个项目的重视，希望这个项目也能成为国际顶级项目。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368380227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368411036","html_url":"https://github.com/apache/brpc/issues/249#issuecomment-368411036","issue_url":"https://api.github.com/repos/apache/brpc/issues/249","id":368411036,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODQxMTAzNg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-26T07:18:58Z","updated_at":"2018-02-26T07:18:58Z","author_association":"CONTRIBUTOR","body":"看看是不是请求的生命周期有问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368411036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368411444","html_url":"https://github.com/apache/brpc/issues/248#issuecomment-368411444","issue_url":"https://api.github.com/repos/apache/brpc/issues/248","id":368411444,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODQxMTQ0NA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-26T07:21:14Z","updated_at":"2018-02-26T07:21:14Z","author_association":"CONTRIBUTOR","body":"默认只会有1条连接，方式就是上面说的那样。正常的单连接是通过server返回请求夹带的id来找到对应的上下文的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368411444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368411519","html_url":"https://github.com/apache/brpc/issues/246#issuecomment-368411519","issue_url":"https://api.github.com/repos/apache/brpc/issues/246","id":368411519,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODQxMTUxOQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-26T07:21:41Z","updated_at":"2018-02-26T07:21:41Z","author_association":"CONTRIBUTOR","body":"是","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368411519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368411847","html_url":"https://github.com/apache/brpc/issues/244#issuecomment-368411847","issue_url":"https://api.github.com/repos/apache/brpc/issues/244","id":368411847,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODQxMTg0Nw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-26T07:23:29Z","updated_at":"2018-02-26T07:23:41Z","author_association":"CONTRIBUTOR","body":"rdma版本在内部使用中，是基于openucx的，但整体评估下来依赖比较多，不便于开源。基于ibverbs的新版在开发中，应该会开源，仍需要等一段时间。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368411847/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368418451","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-368418451","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":368418451,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODQxODQ1MQ==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-26T08:00:08Z","updated_at":"2018-02-26T08:00:08Z","author_association":"CONTRIBUTOR","body":"ping","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368418451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368438810","html_url":"https://github.com/apache/brpc/issues/249#issuecomment-368438810","issue_url":"https://api.github.com/repos/apache/brpc/issues/249","id":368438810,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODQzODgxMA==","user":{"login":"feng-y","id":1547384,"node_id":"MDQ6VXNlcjE1NDczODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1547384?v=4","gravatar_id":"","url":"https://api.github.com/users/feng-y","html_url":"https://github.com/feng-y","followers_url":"https://api.github.com/users/feng-y/followers","following_url":"https://api.github.com/users/feng-y/following{/other_user}","gists_url":"https://api.github.com/users/feng-y/gists{/gist_id}","starred_url":"https://api.github.com/users/feng-y/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feng-y/subscriptions","organizations_url":"https://api.github.com/users/feng-y/orgs","repos_url":"https://api.github.com/users/feng-y/repos","events_url":"https://api.github.com/users/feng-y/events{/privacy}","received_events_url":"https://api.github.com/users/feng-y/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-26T09:26:11Z","updated_at":"2018-02-26T09:26:11Z","author_association":"NONE","body":"这部分调用栈还没有进入业务代码，请求的生命周期可以从哪些方面可以查看？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368438810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368723216","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-368723216","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":368723216,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODcyMzIxNg==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-27T02:17:44Z","updated_at":"2018-02-27T02:17:44Z","author_association":"CONTRIBUTOR","body":"@jamesge  谢谢你提及的算法，有些不太理解，能否说清晰一点？谢谢\r\n我提一个实现，你们看看能否按此修改：\r\n•找一个固定步长，称其为stride。\r\n•从上一次位置开始把server逐个加入tls vector（每次LB开始前清空），直至加入的server的权重之和等于stride，最后一个server的权重未必能完全进入vector，以某种方式记录下来，供下轮使用。\r\nqu:\r\n1. tls vector的元素结构就是server及其权重值？ \r\n2. 每次LB开始前清空，是指每次select server都清空tls vector里的值，意思是每次都是从vector[0] 加入server吧？ \r\n3. 加入的server权重等于stride，是小于等于吗？因为可能存在找不到等于的情况。\r\n\r\n•投一个[0, stride)的随机数，用常规方法找到对应的server（遍历tls vector直到权重之和大于等于随机数）。如果server有效就返回。否则重复上一步。\r\nqu：这个随机数每次select server都要重新获取？这个怎么保证能够实现wrr的，不太理解？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368723216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368735361","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-368735361","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":368735361,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODczNTM2MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-27T03:28:38Z","updated_at":"2018-02-27T03:28:38Z","author_association":"CONTRIBUTOR","body":"1.是 2.从上一次server_list的位置开始加入，这个位置要记在tls里 3.是等于，超出的部分记在tls里下轮使用。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368735361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368737054","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-368737054","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":368737054,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODczNzA1NA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-27T03:39:39Z","updated_at":"2018-02-27T03:41:55Z","author_association":"CONTRIBUTOR","body":"从另一个角度看这个算法，就是以round robin的方式往前走，只是每步不是跨过一个server，而是跨过固定权值对应的servers。然后在每个stride里又按权重比例随机选择一个server。最后server被选择的比例就正比于它们的权重。\r\n\r\n举些例子，比如A和B的权重分别为10和20，都有效。\r\n假如stride为20：\r\n- 第一轮落入stride区间的是A(w=10)和前半个B(w=10)，所以各有1/2的几率被选到并返回。\r\n- 第二轮落入stride区间的是后半个B(10)和A(10)，也各有1/2的几率被选到并返回。\r\n- 第三轮落入stride区间的是整个B，必然被选到并返回。\r\n- 第四轮等同于第一轮，以此类推。\r\n\r\nA被选到的次数期望是1/2+1/2=1，B被选到的次数期望是1/2+1/2+1=2，比例等同于权重。\r\n\r\n假如stride是15：\r\n- 第一轮落入stride区间的是A(w=10)和前小半个B(w=5)，各有2/3和1/3的几率被选到并返回。\r\n- 第二轮落入stride区间的是后大半个B(15)，必然被选到并返回。\r\n- 第三轮等同于第一轮，以此类推。\r\n\r\nA被选到的次数期望是2/3，B被选到的次数期望是1/3+1=4/3，比例仍等同于权重。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/368737054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369098257","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-369098257","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":369098257,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTA5ODI1Nw==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T02:19:58Z","updated_at":"2018-02-28T02:19:58Z","author_association":"CONTRIBUTOR","body":"@jamesge hi， 安你所提算法，还有几个问题：\r\n1. tls 里的vector 不需要了吧？ tls 只要记录上次遍历server list的位置position，\r\n每次select server的时候，从上次的posistion遍历server list, 在stride的步长内，更新position 和记录weight的和，当weight和大于等于offset的时候，当前position的server 就是最终选出的 server.\r\n2. stride的计算，可以在server 内维护一个weight sum的和。每次select server的时候，算一下average weight作为stride。\r\n3. 如果选出的server 无效，需要重新选择。那么重新选择的次数为多少呢？ stride次数？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369098257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369100306","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-369100306","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":369100306,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTEwMDMwNg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T02:31:44Z","updated_at":"2018-02-28T02:31:44Z","author_association":"CONTRIBUTOR","body":"1. 对，那看起来这个算法更加轻量级了:)\r\n2. 也可以\r\n3. 前进了server_list.size()次仍失败就返回错误，这点和rr是近似的。注意失败了不能在同一个stride内重新选择，那样是不均匀的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369100306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369107616","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-369107616","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":369107616,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTEwNzYxNg==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T03:15:22Z","updated_at":"2018-02-28T03:15:22Z","author_association":"CONTRIBUTOR","body":" 3.  前进了server_list.size()次仍失败就返回错误，这点和rr是近似的。注意失败了不能在同一个stride内重  新选择，那样是不均匀的。\r\n qu:  失败了，要改变stride的值，然后重新选择？为什么？\r\n   选择server_list.size()次不够吧？ 比如两个server A, B权重是5, 1。如果A失效了，选择两次，都是选择的A，不能选出B。 \r\n  另外，stride不变的情况下，offset的值也是保持不变的吧，还是依赖于offset 的随机值？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369107616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369108647","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-369108647","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":369108647,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTEwODY0Nw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T03:22:12Z","updated_at":"2018-02-28T03:22:12Z","author_association":"CONTRIBUTOR","body":"不是改变stride值，是移动到下一个stride（回到第二步）。这里还有个注意点，stride的值是不能频繁改动的，那样会使选择结果不均匀，要控制更改频率。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369108647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369109560","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-369109560","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":369109560,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTEwOTU2MA==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T03:28:16Z","updated_at":"2018-02-28T03:28:16Z","author_association":"CONTRIBUTOR","body":"那和我理解一致，相当于按照设计的方法选择，只是结果剔除失效的server。\r\nstride 和 offset的稳定，是server选择的结果和设定的weight一致的保证。\r\n所以，只有server list变化的情况下，stride和offseet才有必要做可能调整。\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369109560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369114151","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-369114151","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":369114151,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTExNDE1MQ==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T04:00:20Z","updated_at":"2018-02-28T04:00:20Z","author_association":"CONTRIBUTOR","body":"有个疑问：\r\nstride是不是与 weight_sum 互质才可以？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369114151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369134287","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-369134287","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":369134287,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTEzNDI4Nw==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T06:19:18Z","updated_at":"2018-02-28T08:23:19Z","author_association":"CONTRIBUTOR","body":"找到一段[LVS用的WRR算法的伪代码](http://kb.linuxvirtualserver.org/wiki/Weighted_Round-Robin_Scheduling)，感觉思路与正在讨论的方案类似，不知是否有参考价值：\r\n\r\nSupposing that there is a server set S = {S0, S1, …, Sn-1};\r\nW(Si) indicates the weight of Si;\r\ni indicates the server selected last time, and i is initialized with -1;\r\ncw is the current weight in scheduling, and cw is initialized with zero; \r\nmax(S) is the maximum weight of all the servers in S;\r\ngcd(S) is the greatest common divisor of all server weights in S;\r\n\r\nwhile (true) {\r\n    i = (i + 1) mod n;\r\n    if (i == 0) {\r\n        cw = cw - gcd(S); \r\n        if (cw <= 0) {\r\n            cw = max(S);\r\n            if (cw == 0)\r\n            return NULL;\r\n        }\r\n    } \r\n    if (W(Si) >= cw) \r\n        return Si;\r\n}","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369134287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369467228","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-369467228","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":369467228,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTQ2NzIyOA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T04:00:26Z","updated_at":"2018-03-01T04:02:12Z","author_association":"CONTRIBUTOR","body":"@cdjingit 不需要互质\r\n@gydong LVS那个算法原理不太一样，可以想象为“横轴是所有server，纵轴是对应的权重”的条形图。然后一根横线(对应cw)从最高的权重开始每次往下一格扫下来。能出现在横线上方的server就是被选中的。但是这么做的话，如果出现一个server权值一枝独秀，算法仍会反复地去比较那些在横线下方的server，退化到O(N)次扫描。比如有一个server的权值是100，其他有100个server的权值都是1，这个算法的前99次选择都得扫描101个server（当然这里的扫描只是比较，在实践中可能影响不大）。另外这个算法的均匀性也欠妥，刚才这个例子中前100次都是同一个server。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369467228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369468109","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-369468109","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":369468109,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTQ2ODEwOQ==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T04:07:58Z","updated_at":"2018-03-01T04:07:58Z","author_association":"CONTRIBUTOR","body":"需要互质的吧。举个极端例子。比如stride 就等于weight sum 那么每次选出来的都是一样的server。\r\n再比如A，B的权重是5, 1。stride 设定为average weight 3，offset为2，\r\nstride 序列是\r\na:3\r\na:2, b:1\r\n那么每次选出来的都是a。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369468109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369475819","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-369475819","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":369475819,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTQ3NTgxOQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T05:10:53Z","updated_at":"2018-03-01T05:11:01Z","author_association":"CONTRIBUTOR","body":"每次投的是[0, stride)区间内的随机数，看落到的权值区间，怎么会每次都一样？这个就是最常规的按权重比例选择的算法。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369475819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369481626","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-369481626","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":369481626,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTQ4MTYyNg==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T05:51:31Z","updated_at":"2018-03-01T06:48:20Z","author_association":"CONTRIBUTOR","body":"offset 就是一样的吧。不然选择的结果依赖于随机值。\r\n我理解你提的wrr算法就是把权重值拆为1的rr。比如一组server, a, b, c权重是3，2, 1。\r\n其实就做a, a, a, b, b, c的rr。stride选取不同的值，得出不同rr序列。然后offset固定，每个拆分后的权重为1的server都有一次机会选到。总和起来就是和权重是正比的。\r\n以这个例子：server list为 [['a', 3], ['b', 2], ['c', 1]]，其中'a' 代表server，3是权重\r\nstride 为5, offset 为1  原来的server list拆分后的是 a, a, a, b, b, c 对这个做rr。\r\n得到的每一轮stride区间的结果：\r\n [['a', 3], ['b', 2]] = [a, a, a, b, b]    -> 选出a\r\n[['c', 1], ['a', 3], ['b', 1]] = [c, a, a, a, b] -> 选出c\r\n[['b', 1], ['c', 1], ['a', 3]] = [b, c, a, a, a]  -> 选出b\r\n[['b', 2], ['c', 1], ['a', 2]] = [b, b, c, a, a] -> 选出b\r\n [['a', 1], ['b', 2], ['c', 1], ['a', 1]] = [a, b, b, c, a]  -> 选出a\r\n[['a', 2], ['b', 2], ['c', 1]] = [a, a, b, b, c] -> 选出a\r\n最终选出的结果是 a c b b a a与weight相符合\r\n\r\n2. stride值可以参考rr的方法\r\ntls.stride = GenRandomStride() % weight_sum;\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369481626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369504853","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-369504853","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":369504853,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTUwNDg1Mw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T07:46:53Z","updated_at":"2018-03-01T07:46:53Z","author_association":"CONTRIBUTOR","body":"offset不是固定的，是每次投随机数的，是统计意义上的“权重”","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369504853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369505313","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-369505313","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":369505313,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTUwNTMxMw==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T07:48:43Z","updated_at":"2018-03-01T07:48:43Z","author_association":"CONTRIBUTOR","body":"@jamesge 简单点描述一下互质的问题，brpc中RR算法的实现中，为什么stride要采用一个质数呢，而且是很大的质数。举个反例，如果stride = 31， 而且server的个数n = 62，那么算法就只会选取第1个server和第32个server。所以，会才有互质的疑问。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369505313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369510441","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-369510441","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":369510441,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTUxMDQ0MQ==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T08:13:46Z","updated_at":"2018-03-01T08:13:46Z","author_association":"CONTRIBUTOR","body":"现在想的算法可能不一样，描述如下：\r\n1.把wrr算法 可拆成每个权重为1的rr。\r\n2.rr算法是每次向前移动m步，取当前的server。m是一个小于服务个数n的互质数。\r\n3. 所以wrr是每次向前移动m权重值，取当前server。m是一个小于总权重的互质数。\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369510441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369511108","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-369511108","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":369511108,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTUxMTEwOA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T08:16:51Z","updated_at":"2018-03-01T08:22:09Z","author_association":"CONTRIBUTOR","body":"因为对于互质的p和n，1p,2p,3p,4p.... np构成n的同余类，只要server列表不变，一次循环正好能经过每个server一次。为什么不是简单+1而要这么做，是这样每个线程可以独立地做RR而避免竞争同一个变量，又不会因为大家都在+1而步调一致总是选一样的server。\r\n此stride和wrr的stride完全是两个东西，不能类比。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369511108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369512503","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-369512503","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":369512503,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTUxMjUwMw==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T08:22:57Z","updated_at":"2018-03-01T08:22:57Z","author_association":"CONTRIBUTOR","body":"嗯，rr 一次循环正好经过每个server 一次。\r\n类比，wrr一次循环经过每个权重值一次，而不同的server 占用不同的权重值。经过不同的server的次数 正比于其权重值. ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369512503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369515034","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-369515034","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":369515034,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTUxNTAzNA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T08:34:19Z","updated_at":"2018-03-01T08:34:19Z","author_association":"CONTRIBUTOR","body":"我觉得可以。同时这个质数不同于rr，不能很大，因为rr可以取模，wrr要一个个扫过去的。可以根据平均weight*某个倍数找一个接近的质数。目前的那个[质数表](https://github.com/brpc/brpc/blob/master/src/bthread/offset_inl.list)是不符合要求的，可以去手工选一堆按比例逐渐增大的质数。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369515034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369515401","html_url":"https://github.com/apache/brpc/issues/250#issuecomment-369515401","issue_url":"https://api.github.com/repos/apache/brpc/issues/250","id":369515401,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTUxNTQwMQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T08:35:51Z","updated_at":"2018-03-01T08:36:01Z","author_association":"CONTRIBUTOR","body":"1.7和2.5都可以，没有强制要求。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369515401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369515539","html_url":"https://github.com/apache/brpc/issues/251#issuecomment-369515539","issue_url":"https://api.github.com/repos/apache/brpc/issues/251","id":369515539,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTUxNTUzOQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T08:36:23Z","updated_at":"2018-03-01T08:36:23Z","author_association":"CONTRIBUTOR","body":"取主干即可，不稳定的新功能一般都可以通过开关关闭。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369515539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369515674","html_url":"https://github.com/apache/brpc/issues/249#issuecomment-369515674","issue_url":"https://api.github.com/repos/apache/brpc/issues/249","id":369515674,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTUxNTY3NA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T08:37:01Z","updated_at":"2018-03-01T08:37:01Z","author_association":"CONTRIBUTOR","body":"就是提前被删除，多线程竞争之类的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369515674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369517311","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-369517311","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":369517311,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTUxNzMxMQ==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T08:43:42Z","updated_at":"2018-03-01T08:43:42Z","author_association":"CONTRIBUTOR","body":"目前的实现是当average weight不变时，选出的stride是不变的。但每个tls有一个自己的offset，为[0, stride]随机值。即每个线程取stride步长内tls.offset落在的那个server. 来保证每个线程的选出的server 序列不一致。\r\nstride取大于等于average weight的第一个和weight sum的互质数","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369517311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369810234","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-369810234","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":369810234,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTgxMDIzNA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T03:35:07Z","updated_at":"2018-03-02T03:35:07Z","author_association":"CONTRIBUTOR","body":"这里我理解是二选一：\r\n- 固定步长往前走，每次从固定步长中随机选一个server出来，固定步长不需要和总权值互质。\r\n- 一个cursor以质数步长往前走，每次选cursor落在的server上。\r\n我倾向于第二种方法，更加简单一些，但目前的代码又混合了两者，是不是可以简化一下？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369810234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369810994","html_url":"https://github.com/apache/brpc/pull/243#issuecomment-369810994","issue_url":"https://api.github.com/repos/apache/brpc/issues/243","id":369810994,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTgxMDk5NA==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T03:40:51Z","updated_at":"2018-03-02T03:40:51Z","author_association":"CONTRIBUTOR","body":"嗯，刚刚提交的就是你多说的第二个方案：\r\n一个cursor以质数步长往前走，每次选cursor落在的server上。但是如果weight total不变，server 总数不变的话。cursor每个tls是一样的。通过初始的position来保证各个线程的序列不一致。\r\nposition是取得一个[ 0, server_list.size() )的随机值。\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369810994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369822116","html_url":"https://github.com/apache/brpc/issues/252#issuecomment-369822116","issue_url":"https://api.github.com/repos/apache/brpc/issues/252","id":369822116,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTgyMjExNg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T05:08:29Z","updated_at":"2018-03-02T05:08:29Z","author_association":"CONTRIBUTOR","body":"这类问题存在于任何使用了有限线程（线程池）的rpc框架中，有概率但一般不用担心。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369822116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369834928","html_url":"https://github.com/apache/brpc/issues/252#issuecomment-369834928","issue_url":"https://api.github.com/repos/apache/brpc/issues/252","id":369834928,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTgzNDkyOA==","user":{"login":"colaghost","id":2224455,"node_id":"MDQ6VXNlcjIyMjQ0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2224455?v=4","gravatar_id":"","url":"https://api.github.com/users/colaghost","html_url":"https://github.com/colaghost","followers_url":"https://api.github.com/users/colaghost/followers","following_url":"https://api.github.com/users/colaghost/following{/other_user}","gists_url":"https://api.github.com/users/colaghost/gists{/gist_id}","starred_url":"https://api.github.com/users/colaghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colaghost/subscriptions","organizations_url":"https://api.github.com/users/colaghost/orgs","repos_url":"https://api.github.com/users/colaghost/repos","events_url":"https://api.github.com/users/colaghost/events{/privacy}","received_events_url":"https://api.github.com/users/colaghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T06:34:17Z","updated_at":"2018-03-02T06:34:17Z","author_association":"NONE","body":"bthread的切换时机是不是跟一般协程实现一样都是在发生网络IO的时候？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369834928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369882924","html_url":"https://github.com/apache/brpc/issues/253#issuecomment-369882924","issue_url":"https://api.github.com/repos/apache/brpc/issues/253","id":369882924,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTg4MjkyNA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T10:22:07Z","updated_at":"2018-03-02T10:22:07Z","author_association":"CONTRIBUTOR","body":"The crash is abnormal. Check if the \"Echo\" function is implemented and overridden correctly. ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369882924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369883585","html_url":"https://github.com/apache/brpc/issues/252#issuecomment-369883585","issue_url":"https://api.github.com/repos/apache/brpc/issues/252","id":369883585,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTg4MzU4NQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T10:25:00Z","updated_at":"2018-03-02T10:25:00Z","author_association":"CONTRIBUTOR","body":"bthread只有在调用了可能阻塞的bthread相关函数时才会主动发生切换，大部分情况下就是发起同步RPC时。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369883585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369884131","html_url":"https://github.com/apache/brpc/issues/253#issuecomment-369884131","issue_url":"https://api.github.com/repos/apache/brpc/issues/253","id":369884131,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTg4NDEzMQ==","user":{"login":"dusteye","id":872198,"node_id":"MDQ6VXNlcjg3MjE5OA==","avatar_url":"https://avatars.githubusercontent.com/u/872198?v=4","gravatar_id":"","url":"https://api.github.com/users/dusteye","html_url":"https://github.com/dusteye","followers_url":"https://api.github.com/users/dusteye/followers","following_url":"https://api.github.com/users/dusteye/following{/other_user}","gists_url":"https://api.github.com/users/dusteye/gists{/gist_id}","starred_url":"https://api.github.com/users/dusteye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dusteye/subscriptions","organizations_url":"https://api.github.com/users/dusteye/orgs","repos_url":"https://api.github.com/users/dusteye/repos","events_url":"https://api.github.com/users/dusteye/events{/privacy}","received_events_url":"https://api.github.com/users/dusteye/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T10:27:13Z","updated_at":"2018-03-02T10:27:13Z","author_association":"NONE","body":"@jamesge  Sure, it is implemented. I just simply copy the echo server to my project in a std::thread.  The index page / also can't be accessed. ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369884131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369890663","html_url":"https://github.com/apache/brpc/issues/253#issuecomment-369890663","issue_url":"https://api.github.com/repos/apache/brpc/issues/253","id":369890663,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTg5MDY2Mw==","user":{"login":"dusteye","id":872198,"node_id":"MDQ6VXNlcjg3MjE5OA==","avatar_url":"https://avatars.githubusercontent.com/u/872198?v=4","gravatar_id":"","url":"https://api.github.com/users/dusteye","html_url":"https://github.com/dusteye","followers_url":"https://api.github.com/users/dusteye/followers","following_url":"https://api.github.com/users/dusteye/following{/other_user}","gists_url":"https://api.github.com/users/dusteye/gists{/gist_id}","starred_url":"https://api.github.com/users/dusteye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dusteye/subscriptions","organizations_url":"https://api.github.com/users/dusteye/orgs","repos_url":"https://api.github.com/users/dusteye/repos","events_url":"https://api.github.com/users/dusteye/events{/privacy}","received_events_url":"https://api.github.com/users/dusteye/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T10:56:43Z","updated_at":"2018-03-02T10:56:43Z","author_association":"NONE","body":"more info: /index?as_more /healthy can be accessed but /status can not. \r\nMy os is centos 6.3 with linux kernel 2.6.32 \r\nI use my self-build gcc 4.8.4 with config --enable-languages=c,c++ --disable-multilib\r\ngflags leveldb protobuf all self-build with newest code.\r\nCant it be the libstdc++ abi linking problem?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369890663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369892724","html_url":"https://github.com/apache/brpc/issues/253#issuecomment-369892724","issue_url":"https://api.github.com/repos/apache/brpc/issues/253","id":369892724,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTg5MjcyNA==","user":{"login":"chenzhangyi","id":6805583,"node_id":"MDQ6VXNlcjY4MDU1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/6805583?v=4","gravatar_id":"","url":"https://api.github.com/users/chenzhangyi","html_url":"https://github.com/chenzhangyi","followers_url":"https://api.github.com/users/chenzhangyi/followers","following_url":"https://api.github.com/users/chenzhangyi/following{/other_user}","gists_url":"https://api.github.com/users/chenzhangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/chenzhangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenzhangyi/subscriptions","organizations_url":"https://api.github.com/users/chenzhangyi/orgs","repos_url":"https://api.github.com/users/chenzhangyi/repos","events_url":"https://api.github.com/users/chenzhangyi/events{/privacy}","received_events_url":"https://api.github.com/users/chenzhangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T11:06:24Z","updated_at":"2018-03-02T11:06:24Z","author_association":"MEMBER","body":"Check if the instance of service is destroyed.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/369892724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370301356","html_url":"https://github.com/apache/brpc/issues/255#issuecomment-370301356","issue_url":"https://api.github.com/repos/apache/brpc/issues/255","id":370301356,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDMwMTM1Ng==","user":{"login":"E-HERO","id":15317336,"node_id":"MDQ6VXNlcjE1MzE3MzM2","avatar_url":"https://avatars.githubusercontent.com/u/15317336?v=4","gravatar_id":"","url":"https://api.github.com/users/E-HERO","html_url":"https://github.com/E-HERO","followers_url":"https://api.github.com/users/E-HERO/followers","following_url":"https://api.github.com/users/E-HERO/following{/other_user}","gists_url":"https://api.github.com/users/E-HERO/gists{/gist_id}","starred_url":"https://api.github.com/users/E-HERO/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/E-HERO/subscriptions","organizations_url":"https://api.github.com/users/E-HERO/orgs","repos_url":"https://api.github.com/users/E-HERO/repos","events_url":"https://api.github.com/users/E-HERO/events{/privacy}","received_events_url":"https://api.github.com/users/E-HERO/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-05T03:39:46Z","updated_at":"2018-03-05T03:39:46Z","author_association":"NONE","body":"关于发送建议看看 https://github.com/brpc/brpc/blob/master/docs/en/io.md\r\n代码可以看看 https://github.com/brpc/brpc/blob/master/src/brpc/socket.cpp 里面有一个StartWrite方法\r\n我记得brpc好像也是用的数据引用，没有拷贝数据。大概流程是rpc发送数据先看这个fd是否在发送数据，如果在发送就把消息加到head直接返回，如果没有发送数据，本地会先发送一次，如果没有发完（即大消息）就起一个bthread来发送，发完后发现有新加入的数据，这个bthread还会发送，直到没有新加数据为止。\r\n具体可以结合文档和代码看看，比较清楚","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370301356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370302532","html_url":"https://github.com/apache/brpc/issues/255#issuecomment-370302532","issue_url":"https://api.github.com/repos/apache/brpc/issues/255","id":370302532,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDMwMjUzMg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-05T03:50:04Z","updated_at":"2018-03-05T03:53:50Z","author_association":"CONTRIBUTOR","body":"用[附件](https://github.com/brpc/brpc/blob/master/docs/cn/client.md#%E9%99%84%E4%BB%B6)传输数据。要完全绕过拷贝，注意在生成数据时就要直接写入[butil::IOBuf](https://github.com/brpc/brpc/blob/master/docs/cn/iobuf.md)，最后move入附件。数据的格式由用户自己搞定。\r\n最理想的做法是定制protobuf的生成器给pb增加零拷贝类型，不过那是较大的改动，且要修改编译过程，在各种编译环境下用起来有点折腾。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370302532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370303059","html_url":"https://github.com/apache/brpc/issues/254#issuecomment-370303059","issue_url":"https://api.github.com/repos/apache/brpc/issues/254","id":370303059,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDMwMzA1OQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-05T03:54:31Z","updated_at":"2018-03-05T03:54:31Z","author_association":"CONTRIBUTOR","body":"这是曾经做测试的内部代码，应该不会开源了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370303059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370303316","html_url":"https://github.com/apache/brpc/issues/253#issuecomment-370303316","issue_url":"https://api.github.com/repos/apache/brpc/issues/253","id":370303316,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDMwMzMxNg==","user":{"login":"dusteye","id":872198,"node_id":"MDQ6VXNlcjg3MjE5OA==","avatar_url":"https://avatars.githubusercontent.com/u/872198?v=4","gravatar_id":"","url":"https://api.github.com/users/dusteye","html_url":"https://github.com/dusteye","followers_url":"https://api.github.com/users/dusteye/followers","following_url":"https://api.github.com/users/dusteye/following{/other_user}","gists_url":"https://api.github.com/users/dusteye/gists{/gist_id}","starred_url":"https://api.github.com/users/dusteye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dusteye/subscriptions","organizations_url":"https://api.github.com/users/dusteye/orgs","repos_url":"https://api.github.com/users/dusteye/repos","events_url":"https://api.github.com/users/dusteye/events{/privacy}","received_events_url":"https://api.github.com/users/dusteye/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-05T03:56:44Z","updated_at":"2018-03-05T03:56:44Z","author_association":"NONE","body":"@chenzhangyi  thanks. My mistake. Service should not be removed before server stopped.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370303316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370303485","html_url":"https://github.com/apache/brpc/issues/255#issuecomment-370303485","issue_url":"https://api.github.com/repos/apache/brpc/issues/255","id":370303485,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDMwMzQ4NQ==","user":{"login":"gongweibao","id":10721757,"node_id":"MDQ6VXNlcjEwNzIxNzU3","avatar_url":"https://avatars.githubusercontent.com/u/10721757?v=4","gravatar_id":"","url":"https://api.github.com/users/gongweibao","html_url":"https://github.com/gongweibao","followers_url":"https://api.github.com/users/gongweibao/followers","following_url":"https://api.github.com/users/gongweibao/following{/other_user}","gists_url":"https://api.github.com/users/gongweibao/gists{/gist_id}","starred_url":"https://api.github.com/users/gongweibao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gongweibao/subscriptions","organizations_url":"https://api.github.com/users/gongweibao/orgs","repos_url":"https://api.github.com/users/gongweibao/repos","events_url":"https://api.github.com/users/gongweibao/events{/privacy}","received_events_url":"https://api.github.com/users/gongweibao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-05T03:58:11Z","updated_at":"2018-03-05T03:58:11Z","author_association":"CONTRIBUTOR","body":"> 注意在生成数据时就要直接写入butil::IOBuf\r\n\r\n感谢。我们的使用场景首先是把数据从GPU拷贝到内存，这个时候使用[页锁定内存](http://docs.nvidia.com/cuda/cuda-runtime-api/group__CUDART__MEMORY.html#group__CUDART__MEMORY_1gb65da58f444e7230d3322b6126bb4902)是[最快的](https://github.com/PaddlePaddle/Paddle/issues/8638#issuecomment-369912156)。我能直接引用这样的内存吗?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370303485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370326990","html_url":"https://github.com/apache/brpc/issues/254#issuecomment-370326990","issue_url":"https://api.github.com/repos/apache/brpc/issues/254","id":370326990,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDMyNjk5MA==","user":{"login":"yjhjstz","id":3832082,"node_id":"MDQ6VXNlcjM4MzIwODI=","avatar_url":"https://avatars.githubusercontent.com/u/3832082?v=4","gravatar_id":"","url":"https://api.github.com/users/yjhjstz","html_url":"https://github.com/yjhjstz","followers_url":"https://api.github.com/users/yjhjstz/followers","following_url":"https://api.github.com/users/yjhjstz/following{/other_user}","gists_url":"https://api.github.com/users/yjhjstz/gists{/gist_id}","starred_url":"https://api.github.com/users/yjhjstz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yjhjstz/subscriptions","organizations_url":"https://api.github.com/users/yjhjstz/orgs","repos_url":"https://api.github.com/users/yjhjstz/repos","events_url":"https://api.github.com/users/yjhjstz/events{/privacy}","received_events_url":"https://api.github.com/users/yjhjstz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-05T06:59:23Z","updated_at":"2018-03-05T06:59:23Z","author_association":"MEMBER","body":" 有替代的方案吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370326990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370405400","html_url":"https://github.com/apache/brpc/issues/255#issuecomment-370405400","issue_url":"https://api.github.com/repos/apache/brpc/issues/255","id":370405400,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDQwNTQwMA==","user":{"login":"TomorrowIsAnOtherDay","id":25046619,"node_id":"MDQ6VXNlcjI1MDQ2NjE5","avatar_url":"https://avatars.githubusercontent.com/u/25046619?v=4","gravatar_id":"","url":"https://api.github.com/users/TomorrowIsAnOtherDay","html_url":"https://github.com/TomorrowIsAnOtherDay","followers_url":"https://api.github.com/users/TomorrowIsAnOtherDay/followers","following_url":"https://api.github.com/users/TomorrowIsAnOtherDay/following{/other_user}","gists_url":"https://api.github.com/users/TomorrowIsAnOtherDay/gists{/gist_id}","starred_url":"https://api.github.com/users/TomorrowIsAnOtherDay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TomorrowIsAnOtherDay/subscriptions","organizations_url":"https://api.github.com/users/TomorrowIsAnOtherDay/orgs","repos_url":"https://api.github.com/users/TomorrowIsAnOtherDay/repos","events_url":"https://api.github.com/users/TomorrowIsAnOtherDay/events{/privacy}","received_events_url":"https://api.github.com/users/TomorrowIsAnOtherDay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-05T12:33:26Z","updated_at":"2018-03-05T12:33:26Z","author_association":"NONE","body":"赞这种讨论，厂里的氛围越来越好了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370405400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370665242","html_url":"https://github.com/apache/brpc/issues/60#issuecomment-370665242","issue_url":"https://api.github.com/repos/apache/brpc/issues/60","id":370665242,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDY2NTI0Mg==","user":{"login":"chchgb","id":1849967,"node_id":"MDQ6VXNlcjE4NDk5Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1849967?v=4","gravatar_id":"","url":"https://api.github.com/users/chchgb","html_url":"https://github.com/chchgb","followers_url":"https://api.github.com/users/chchgb/followers","following_url":"https://api.github.com/users/chchgb/following{/other_user}","gists_url":"https://api.github.com/users/chchgb/gists{/gist_id}","starred_url":"https://api.github.com/users/chchgb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chchgb/subscriptions","organizations_url":"https://api.github.com/users/chchgb/orgs","repos_url":"https://api.github.com/users/chchgb/repos","events_url":"https://api.github.com/users/chchgb/events{/privacy}","received_events_url":"https://api.github.com/users/chchgb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-06T05:13:25Z","updated_at":"2018-03-06T05:13:25Z","author_association":"NONE","body":"@jamesge 原生windows大概什么时候支持哈？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370665242/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370676791","html_url":"https://github.com/apache/brpc/issues/244#issuecomment-370676791","issue_url":"https://api.github.com/repos/apache/brpc/issues/244","id":370676791,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDY3Njc5MQ==","user":{"login":"lingji","id":7202335,"node_id":"MDQ6VXNlcjcyMDIzMzU=","avatar_url":"https://avatars.githubusercontent.com/u/7202335?v=4","gravatar_id":"","url":"https://api.github.com/users/lingji","html_url":"https://github.com/lingji","followers_url":"https://api.github.com/users/lingji/followers","following_url":"https://api.github.com/users/lingji/following{/other_user}","gists_url":"https://api.github.com/users/lingji/gists{/gist_id}","starred_url":"https://api.github.com/users/lingji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lingji/subscriptions","organizations_url":"https://api.github.com/users/lingji/orgs","repos_url":"https://api.github.com/users/lingji/repos","events_url":"https://api.github.com/users/lingji/events{/privacy}","received_events_url":"https://api.github.com/users/lingji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-06T06:22:02Z","updated_at":"2018-03-06T06:28:41Z","author_association":"NONE","body":"新版本是通过 linux-rdma/rdma-core 来支持rdma 的吗？涉及到底是用RoCE 还是InfiniBand ? 硬件配置上采用 Mellanox 的网卡？ @jamesge 希望能尽快开源，很有借鉴意义。。\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370676791/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":1,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370680065","html_url":"https://github.com/apache/brpc/issues/244#issuecomment-370680065","issue_url":"https://api.github.com/repos/apache/brpc/issues/244","id":370680065,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDY4MDA2NQ==","user":{"login":"shangdehao1","id":18143231,"node_id":"MDQ6VXNlcjE4MTQzMjMx","avatar_url":"https://avatars.githubusercontent.com/u/18143231?v=4","gravatar_id":"","url":"https://api.github.com/users/shangdehao1","html_url":"https://github.com/shangdehao1","followers_url":"https://api.github.com/users/shangdehao1/followers","following_url":"https://api.github.com/users/shangdehao1/following{/other_user}","gists_url":"https://api.github.com/users/shangdehao1/gists{/gist_id}","starred_url":"https://api.github.com/users/shangdehao1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shangdehao1/subscriptions","organizations_url":"https://api.github.com/users/shangdehao1/orgs","repos_url":"https://api.github.com/users/shangdehao1/repos","events_url":"https://api.github.com/users/shangdehao1/events{/privacy}","received_events_url":"https://api.github.com/users/shangdehao1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-06T06:41:17Z","updated_at":"2018-03-06T06:41:40Z","author_association":"NONE","body":"@gydong 需要特定的网卡来支持的，也可以用软件来搭rdma环境，比如soft-iwrap, soft-roce, 不过很耗cpu","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370680065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370702364","html_url":"https://github.com/apache/brpc/issues/192#issuecomment-370702364","issue_url":"https://api.github.com/repos/apache/brpc/issues/192","id":370702364,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDcwMjM2NA==","user":{"login":"RobitYadda","id":6811311,"node_id":"MDQ6VXNlcjY4MTEzMTE=","avatar_url":"https://avatars.githubusercontent.com/u/6811311?v=4","gravatar_id":"","url":"https://api.github.com/users/RobitYadda","html_url":"https://github.com/RobitYadda","followers_url":"https://api.github.com/users/RobitYadda/followers","following_url":"https://api.github.com/users/RobitYadda/following{/other_user}","gists_url":"https://api.github.com/users/RobitYadda/gists{/gist_id}","starred_url":"https://api.github.com/users/RobitYadda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RobitYadda/subscriptions","organizations_url":"https://api.github.com/users/RobitYadda/orgs","repos_url":"https://api.github.com/users/RobitYadda/repos","events_url":"https://api.github.com/users/RobitYadda/events{/privacy}","received_events_url":"https://api.github.com/users/RobitYadda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-06T08:28:50Z","updated_at":"2018-03-06T08:28:50Z","author_association":"NONE","body":"您好,h2/h2c的支持,发布的时间节点有确定下来吗","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/370702364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371002737","html_url":"https://github.com/apache/brpc/issues/244#issuecomment-371002737","issue_url":"https://api.github.com/repos/apache/brpc/issues/244","id":371002737,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MTAwMjczNw==","user":{"login":"Tuvie","id":5780312,"node_id":"MDQ6VXNlcjU3ODAzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/5780312?v=4","gravatar_id":"","url":"https://api.github.com/users/Tuvie","html_url":"https://github.com/Tuvie","followers_url":"https://api.github.com/users/Tuvie/followers","following_url":"https://api.github.com/users/Tuvie/following{/other_user}","gists_url":"https://api.github.com/users/Tuvie/gists{/gist_id}","starred_url":"https://api.github.com/users/Tuvie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tuvie/subscriptions","organizations_url":"https://api.github.com/users/Tuvie/orgs","repos_url":"https://api.github.com/users/Tuvie/repos","events_url":"https://api.github.com/users/Tuvie/events{/privacy}","received_events_url":"https://api.github.com/users/Tuvie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-07T02:38:43Z","updated_at":"2018-03-07T02:38:43Z","author_association":"CONTRIBUTOR","body":"@lingji 新版本用了libibverbs和librdmacm。理论上ROCE和Infiniband的接口是一样的，主体部分代码应该是通用的。但我们目前只在ROCE网络上测试过，用的是Mellanox和Broadcom的卡。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371002737/reactions","total_count":2,"+1":1,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371008036","html_url":"https://github.com/apache/brpc/issues/257#issuecomment-371008036","issue_url":"https://api.github.com/repos/apache/brpc/issues/257","id":371008036,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MTAwODAzNg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-07T03:11:07Z","updated_at":"2018-03-07T03:11:07Z","author_association":"CONTRIBUTOR","body":"两台机器的top都可以显示超过100%的cpu usage么？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371008036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371011853","html_url":"https://github.com/apache/brpc/issues/257#issuecomment-371011853","issue_url":"https://api.github.com/repos/apache/brpc/issues/257","id":371011853,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MTAxMTg1Mw==","user":{"login":"zhengshf","id":12720745,"node_id":"MDQ6VXNlcjEyNzIwNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/12720745?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengshf","html_url":"https://github.com/zhengshf","followers_url":"https://api.github.com/users/zhengshf/followers","following_url":"https://api.github.com/users/zhengshf/following{/other_user}","gists_url":"https://api.github.com/users/zhengshf/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengshf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengshf/subscriptions","organizations_url":"https://api.github.com/users/zhengshf/orgs","repos_url":"https://api.github.com/users/zhengshf/repos","events_url":"https://api.github.com/users/zhengshf/events{/privacy}","received_events_url":"https://api.github.com/users/zhengshf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-07T03:36:21Z","updated_at":"2018-03-07T03:36:21Z","author_association":"NONE","body":"是的，32核机器上brpc之前的框架可以达到3000%。我尝试了用while(true){for(int i = 0 ;i<100;i++);}来将一个请求的CPU占住，这样一个请求就占一个CPU，测试结果一样，某些8核虚拟机（物理机80核）上CPU占用率可以达到800%，但是在有些32核机器上却CPU占用率只能达到100%。我之前能想到的就是要么是brpc没有用好，要么就是这台机器有些限制。限制的话不明白为什么之前的框架可以达到3000%。所以先上来问问brpc有没有这方面的经验。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371011853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371015991","html_url":"https://github.com/apache/brpc/issues/257#issuecomment-371015991","issue_url":"https://api.github.com/repos/apache/brpc/issues/257","id":371015991,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MTAxNTk5MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-07T04:05:27Z","updated_at":"2018-03-07T04:05:27Z","author_association":"CONTRIBUTOR","body":"可以根据[这个文档](https://github.com/brpc/brpc/blob/master/docs/cn/server_debugging.md)排查一下","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371015991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371363362","html_url":"https://github.com/apache/brpc/issues/225#issuecomment-371363362","issue_url":"https://api.github.com/repos/apache/brpc/issues/225","id":371363362,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MTM2MzM2Mg==","user":{"login":"lik0914","id":7285036,"node_id":"MDQ6VXNlcjcyODUwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/7285036?v=4","gravatar_id":"","url":"https://api.github.com/users/lik0914","html_url":"https://github.com/lik0914","followers_url":"https://api.github.com/users/lik0914/followers","following_url":"https://api.github.com/users/lik0914/following{/other_user}","gists_url":"https://api.github.com/users/lik0914/gists{/gist_id}","starred_url":"https://api.github.com/users/lik0914/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lik0914/subscriptions","organizations_url":"https://api.github.com/users/lik0914/orgs","repos_url":"https://api.github.com/users/lik0914/repos","events_url":"https://api.github.com/users/lik0914/events{/privacy}","received_events_url":"https://api.github.com/users/lik0914/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-08T03:04:36Z","updated_at":"2018-03-08T03:05:11Z","author_association":"NONE","body":"@jamesge 目前仅提供了c++版本的客户端，其他语言是用 http+json的方式？ 那服务治理注册这个怎么做呢？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371363362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371398562","html_url":"https://github.com/apache/brpc/issues/225#issuecomment-371398562","issue_url":"https://api.github.com/repos/apache/brpc/issues/225","id":371398562,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MTM5ODU2Mg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-08T07:01:16Z","updated_at":"2018-03-08T07:01:16Z","author_association":"CONTRIBUTOR","body":"你说的“服务治理”指什么","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371398562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371411550","html_url":"https://github.com/apache/brpc/issues/244#issuecomment-371411550","issue_url":"https://api.github.com/repos/apache/brpc/issues/244","id":371411550,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MTQxMTU1MA==","user":{"login":"lingji","id":7202335,"node_id":"MDQ6VXNlcjcyMDIzMzU=","avatar_url":"https://avatars.githubusercontent.com/u/7202335?v=4","gravatar_id":"","url":"https://api.github.com/users/lingji","html_url":"https://github.com/lingji","followers_url":"https://api.github.com/users/lingji/followers","following_url":"https://api.github.com/users/lingji/following{/other_user}","gists_url":"https://api.github.com/users/lingji/gists{/gist_id}","starred_url":"https://api.github.com/users/lingji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lingji/subscriptions","organizations_url":"https://api.github.com/users/lingji/orgs","repos_url":"https://api.github.com/users/lingji/repos","events_url":"https://api.github.com/users/lingji/events{/privacy}","received_events_url":"https://api.github.com/users/lingji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-08T08:09:05Z","updated_at":"2018-03-08T08:09:05Z","author_association":"NONE","body":"@Tuvie 谢谢！听说IB 大约是2us左右。RoCE 相比通过Linux 协议栈，时延减少多少呢（当然肯定会比IB高）？对于数据库复制这种来说，RDMA的使用相对来说效果也会更好。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371411550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371412107","html_url":"https://github.com/apache/brpc/issues/225#issuecomment-371412107","issue_url":"https://api.github.com/repos/apache/brpc/issues/225","id":371412107,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MTQxMjEwNw==","user":{"login":"lik0914","id":7285036,"node_id":"MDQ6VXNlcjcyODUwMzY=","avatar_url":"https://avatars.githubusercontent.com/u/7285036?v=4","gravatar_id":"","url":"https://api.github.com/users/lik0914","html_url":"https://github.com/lik0914","followers_url":"https://api.github.com/users/lik0914/followers","following_url":"https://api.github.com/users/lik0914/following{/other_user}","gists_url":"https://api.github.com/users/lik0914/gists{/gist_id}","starred_url":"https://api.github.com/users/lik0914/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lik0914/subscriptions","organizations_url":"https://api.github.com/users/lik0914/orgs","repos_url":"https://api.github.com/users/lik0914/repos","events_url":"https://api.github.com/users/lik0914/events{/privacy}","received_events_url":"https://api.github.com/users/lik0914/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-08T08:11:59Z","updated_at":"2018-03-08T08:11:59Z","author_association":"NONE","body":"@jamesge 指的就是，服务发现， 注册， 负载均衡之类的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371412107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371413822","html_url":"https://github.com/apache/brpc/issues/225#issuecomment-371413822","issue_url":"https://api.github.com/repos/apache/brpc/issues/225","id":371413822,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MTQxMzgyMg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-08T08:19:50Z","updated_at":"2018-03-08T08:19:50Z","author_association":"CONTRIBUTOR","body":"client直接支持负载均衡，名字服务（服务发现）和机器管理结合比较紧密，一般各个公司有自己的方案，brpc一侧则需要继承NamingService做定制，默认提供的是更宽泛的dns，file-ns之类的，使用方式文档里有介绍。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371413822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371416562","html_url":"https://github.com/apache/brpc/issues/19#issuecomment-371416562","issue_url":"https://api.github.com/repos/apache/brpc/issues/19","id":371416562,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MTQxNjU2Mg==","user":{"login":"flowbehappy","id":2639319,"node_id":"MDQ6VXNlcjI2MzkzMTk=","avatar_url":"https://avatars.githubusercontent.com/u/2639319?v=4","gravatar_id":"","url":"https://api.github.com/users/flowbehappy","html_url":"https://github.com/flowbehappy","followers_url":"https://api.github.com/users/flowbehappy/followers","following_url":"https://api.github.com/users/flowbehappy/following{/other_user}","gists_url":"https://api.github.com/users/flowbehappy/gists{/gist_id}","starred_url":"https://api.github.com/users/flowbehappy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flowbehappy/subscriptions","organizations_url":"https://api.github.com/users/flowbehappy/orgs","repos_url":"https://api.github.com/users/flowbehappy/repos","events_url":"https://api.github.com/users/flowbehappy/events{/privacy}","received_events_url":"https://api.github.com/users/flowbehappy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-08T08:31:50Z","updated_at":"2018-03-08T08:31:50Z","author_association":"NONE","body":"👍 Nice work! But we really need OS X portable, mainly because we develop on it.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371416562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371509495","html_url":"https://github.com/apache/brpc/issues/192#issuecomment-371509495","issue_url":"https://api.github.com/repos/apache/brpc/issues/192","id":371509495,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MTUwOTQ5NQ==","user":{"login":"billowqiu","id":720496,"node_id":"MDQ6VXNlcjcyMDQ5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/720496?v=4","gravatar_id":"","url":"https://api.github.com/users/billowqiu","html_url":"https://github.com/billowqiu","followers_url":"https://api.github.com/users/billowqiu/followers","following_url":"https://api.github.com/users/billowqiu/following{/other_user}","gists_url":"https://api.github.com/users/billowqiu/gists{/gist_id}","starred_url":"https://api.github.com/users/billowqiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billowqiu/subscriptions","organizations_url":"https://api.github.com/users/billowqiu/orgs","repos_url":"https://api.github.com/users/billowqiu/repos","events_url":"https://api.github.com/users/billowqiu/events{/privacy}","received_events_url":"https://api.github.com/users/billowqiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-08T14:51:34Z","updated_at":"2018-03-08T14:51:34Z","author_association":"NONE","body":"看来近期就会推出了，同期待啊","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371509495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371522553","html_url":"https://github.com/apache/brpc/issues/256#issuecomment-371522553","issue_url":"https://api.github.com/repos/apache/brpc/issues/256","id":371522553,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MTUyMjU1Mw==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-08T15:32:07Z","updated_at":"2018-03-08T15:32:07Z","author_association":"MEMBER","body":"感谢反馈已修复。\r\n\r\n关于2，静态库本来就是.o文件的打包，不需要在cmake里加上glog库，在链接executable的时候把glog加上去会更清楚一点","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371522553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371523513","html_url":"https://github.com/apache/brpc/issues/244#issuecomment-371523513","issue_url":"https://api.github.com/repos/apache/brpc/issues/244","id":371523513,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MTUyMzUxMw==","user":{"login":"Tuvie","id":5780312,"node_id":"MDQ6VXNlcjU3ODAzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/5780312?v=4","gravatar_id":"","url":"https://api.github.com/users/Tuvie","html_url":"https://github.com/Tuvie","followers_url":"https://api.github.com/users/Tuvie/followers","following_url":"https://api.github.com/users/Tuvie/following{/other_user}","gists_url":"https://api.github.com/users/Tuvie/gists{/gist_id}","starred_url":"https://api.github.com/users/Tuvie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tuvie/subscriptions","organizations_url":"https://api.github.com/users/Tuvie/orgs","repos_url":"https://api.github.com/users/Tuvie/repos","events_url":"https://api.github.com/users/Tuvie/events{/privacy}","received_events_url":"https://api.github.com/users/Tuvie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-08T15:35:03Z","updated_at":"2018-03-08T15:35:03Z","author_association":"CONTRIBUTOR","body":"@lingji 现在ROCE的极限时延和IB差距已经不太大了（估计也就1-2个us）。ROCE和正常的TCP协议比起来，单报文极限时延可以减少15us以上。当然这个提升效果是和你的应用模式、流量大小、负载程度都有关系的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371523513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371691470","html_url":"https://github.com/apache/brpc/issues/226#issuecomment-371691470","issue_url":"https://api.github.com/repos/apache/brpc/issues/226","id":371691470,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MTY5MTQ3MA==","user":{"login":"yjhjstz","id":3832082,"node_id":"MDQ6VXNlcjM4MzIwODI=","avatar_url":"https://avatars.githubusercontent.com/u/3832082?v=4","gravatar_id":"","url":"https://api.github.com/users/yjhjstz","html_url":"https://github.com/yjhjstz","followers_url":"https://api.github.com/users/yjhjstz/followers","following_url":"https://api.github.com/users/yjhjstz/following{/other_user}","gists_url":"https://api.github.com/users/yjhjstz/gists{/gist_id}","starred_url":"https://api.github.com/users/yjhjstz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yjhjstz/subscriptions","organizations_url":"https://api.github.com/users/yjhjstz/orgs","repos_url":"https://api.github.com/users/yjhjstz/repos","events_url":"https://api.github.com/users/yjhjstz/events{/privacy}","received_events_url":"https://api.github.com/users/yjhjstz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-09T02:17:13Z","updated_at":"2018-03-09T02:17:13Z","author_association":"MEMBER","body":"跨平台应该是个重要的feature, 持续关注","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371691470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371698775","html_url":"https://github.com/apache/brpc/issues/244#issuecomment-371698775","issue_url":"https://api.github.com/repos/apache/brpc/issues/244","id":371698775,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MTY5ODc3NQ==","user":{"login":"lingji","id":7202335,"node_id":"MDQ6VXNlcjcyMDIzMzU=","avatar_url":"https://avatars.githubusercontent.com/u/7202335?v=4","gravatar_id":"","url":"https://api.github.com/users/lingji","html_url":"https://github.com/lingji","followers_url":"https://api.github.com/users/lingji/followers","following_url":"https://api.github.com/users/lingji/following{/other_user}","gists_url":"https://api.github.com/users/lingji/gists{/gist_id}","starred_url":"https://api.github.com/users/lingji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lingji/subscriptions","organizations_url":"https://api.github.com/users/lingji/orgs","repos_url":"https://api.github.com/users/lingji/repos","events_url":"https://api.github.com/users/lingji/events{/privacy}","received_events_url":"https://api.github.com/users/lingji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-09T03:03:31Z","updated_at":"2018-03-09T03:07:10Z","author_association":"NONE","body":"测试linux 的协议栈大约是80us左右（以太网环境），不知道RoCE 测试的平均时延是多少（减少15us ?)？  另外，RoCE 是不是对交换机有也要求，还是普遍的交换机就可以呢？（若仅仅是一块网卡的替换，那应用起来还是方便不少呀）","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/371698775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/372002258","html_url":"https://github.com/apache/brpc/issues/244#issuecomment-372002258","issue_url":"https://api.github.com/repos/apache/brpc/issues/244","id":372002258,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MjAwMjI1OA==","user":{"login":"Tuvie","id":5780312,"node_id":"MDQ6VXNlcjU3ODAzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/5780312?v=4","gravatar_id":"","url":"https://api.github.com/users/Tuvie","html_url":"https://github.com/Tuvie","followers_url":"https://api.github.com/users/Tuvie/followers","following_url":"https://api.github.com/users/Tuvie/following{/other_user}","gists_url":"https://api.github.com/users/Tuvie/gists{/gist_id}","starred_url":"https://api.github.com/users/Tuvie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tuvie/subscriptions","organizations_url":"https://api.github.com/users/Tuvie/orgs","repos_url":"https://api.github.com/users/Tuvie/repos","events_url":"https://api.github.com/users/Tuvie/events{/privacy}","received_events_url":"https://api.github.com/users/Tuvie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-10T04:40:03Z","updated_at":"2018-03-10T04:40:03Z","author_association":"CONTRIBUTOR","body":"@lijing 80us不知道你是在什么样的情况下测试出来的，脱离场景绝对数值意义不大。RoCE一般要求交换机至少要支持PFC。当然，如果你只有两台机器互联互通，那么就无所谓了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/372002258/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/372177562","html_url":"https://github.com/apache/brpc/issues/60#issuecomment-372177562","issue_url":"https://api.github.com/repos/apache/brpc/issues/60","id":372177562,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MjE3NzU2Mg==","user":{"login":"chchgb","id":1849967,"node_id":"MDQ6VXNlcjE4NDk5Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1849967?v=4","gravatar_id":"","url":"https://api.github.com/users/chchgb","html_url":"https://github.com/chchgb","followers_url":"https://api.github.com/users/chchgb/followers","following_url":"https://api.github.com/users/chchgb/following{/other_user}","gists_url":"https://api.github.com/users/chchgb/gists{/gist_id}","starred_url":"https://api.github.com/users/chchgb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chchgb/subscriptions","organizations_url":"https://api.github.com/users/chchgb/orgs","repos_url":"https://api.github.com/users/chchgb/repos","events_url":"https://api.github.com/users/chchgb/events{/privacy}","received_events_url":"https://api.github.com/users/chchgb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-12T02:33:47Z","updated_at":"2018-03-12T02:33:47Z","author_association":"NONE","body":"同问，windows支持有进展或者时间计划吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/372177562/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/372225022","html_url":"https://github.com/apache/brpc/issues/262#issuecomment-372225022","issue_url":"https://api.github.com/repos/apache/brpc/issues/262","id":372225022,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MjIyNTAyMg==","user":{"login":"mltrees","id":16643620,"node_id":"MDQ6VXNlcjE2NjQzNjIw","avatar_url":"https://avatars.githubusercontent.com/u/16643620?v=4","gravatar_id":"","url":"https://api.github.com/users/mltrees","html_url":"https://github.com/mltrees","followers_url":"https://api.github.com/users/mltrees/followers","following_url":"https://api.github.com/users/mltrees/following{/other_user}","gists_url":"https://api.github.com/users/mltrees/gists{/gist_id}","starred_url":"https://api.github.com/users/mltrees/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mltrees/subscriptions","organizations_url":"https://api.github.com/users/mltrees/orgs","repos_url":"https://api.github.com/users/mltrees/repos","events_url":"https://api.github.com/users/mltrees/events{/privacy}","received_events_url":"https://api.github.com/users/mltrees/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-12T08:15:09Z","updated_at":"2018-03-12T08:15:09Z","author_association":"NONE","body":"附测试代码：\r\n\r\n#include <gflags/gflags.h>\r\n#include <brpc/channel.h>\r\n\r\nDEFINE_string(d, \"\", \"POST this data to the http server\");\r\nDEFINE_string(load_balancer, \"\", \"The algorithm for load balancing\");\r\nDEFINE_int32(timeout_ms, 1000, \"RPC timeout in milliseconds\");\r\nDEFINE_int32(max_retry, 3, \"Max retries(not including the first RPC)\");\r\nDEFINE_string(protocol, \"http\", \"http or h2c\");\r\n\r\nvoid HandleEchoResponse(\r\n        brpc::Controller* cntl,\r\n        google::protobuf::Message* response ) {\r\n    // std::unique_ptr makes sure cntl/response will be deleted before returning.\r\n    std::unique_ptr<brpc::Controller> cntl_guard(cntl);\r\n    std::unique_ptr<google::protobuf::Message> response_guard(response);\r\n\r\n    if (cntl->Failed()) {\r\n        LOG(WARNING) << \"Fail to send EchoRequest, \" << cntl->ErrorText();\r\n        return;\r\n    }\r\n    LOG(ERROR) << \"Received response from \" << cntl->remote_side() << \" (attached=\"\r\n        << cntl->response_attachment() << \")\"\r\n        << \" latency=\" << cntl->latency_us() << \"us\";\r\n}\r\n\r\n\r\nint main(int argc, char* argv[]) {\r\n    google::ParseCommandLineFlags(&argc, &argv, true);\r\n    if (argc != 2) {\r\n        LOG(ERROR) << \"Usage: ./http_client \\\"www.foo.com\\\"\";\r\n        return -1;\r\n    }\r\n    char* url = argv[1];\r\n    brpc::Channel channel;\r\n\r\n    brpc::ChannelOptions options;\r\n    options.protocol = FLAGS_protocol;\r\n    options.timeout_ms = FLAGS_timeout_ms/*milliseconds*/;\r\n    options.max_retry = FLAGS_max_retry;\r\n\r\n    // example::EchoResponse* response = new example::EchoResponse();\r\n\r\n    // Initialize the channel, NULL means using default options.\r\n    // options, see `brpc/channel.h'.\r\n    if (channel.Init(url, FLAGS_load_balancer.c_str(), &options) != 0) {\r\n        LOG(ERROR) << \"Fail to initialize channel\";\r\n        return -1;\r\n    }\r\n    // We will receive response synchronously, safe to put variables\r\n    // on stack.\r\n    brpc::Controller* cntl = new brpc::Controller();\r\n\r\n    cntl->http_request().uri() = url;\r\n    if (!FLAGS_d.empty()) {\r\n        cntl->http_request().set_method(brpc::HTTP_METHOD_POST);\r\n        cntl->request_attachment().append(FLAGS_d);\r\n    }\r\n    google::protobuf::Message* response = NULL;\r\n    google::protobuf::Closure* done = brpc::NewCallback(\r\n        &HandleEchoResponse, cntl, response);\r\n\r\n    // Because `done'(last parameter) is NULL, this function waits until\r\n    // the response comes back or error occurs(including timedout).\r\n    done = nullptr; // make this, the program work well, but comment this, there is no response\r\n    channel.CallMethod(NULL, cntl, NULL, response, done);\r\n    if (cntl->Failed()) {\r\n        std::cerr << cntl->ErrorText() << std::endl;\r\n        return -1;\r\n    }\r\n    return 0;\r\n}\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/372225022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]