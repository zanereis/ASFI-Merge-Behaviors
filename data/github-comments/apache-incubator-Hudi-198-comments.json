[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024024406","html_url":"https://github.com/apache/hudi/pull/4709#issuecomment-1024024406","issue_url":"https://api.github.com/repos/apache/hudi/issues/4709","id":1024024406,"node_id":"IC_kwDOBI7nWM49CV9W","user":{"login":"YannByron","id":10036681,"node_id":"MDQ6VXNlcjEwMDM2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/10036681?v=4","gravatar_id":"","url":"https://api.github.com/users/YannByron","html_url":"https://github.com/YannByron","followers_url":"https://api.github.com/users/YannByron/followers","following_url":"https://api.github.com/users/YannByron/following{/other_user}","gists_url":"https://api.github.com/users/YannByron/gists{/gist_id}","starred_url":"https://api.github.com/users/YannByron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YannByron/subscriptions","organizations_url":"https://api.github.com/users/YannByron/orgs","repos_url":"https://api.github.com/users/YannByron/repos","events_url":"https://api.github.com/users/YannByron/events{/privacy}","received_events_url":"https://api.github.com/users/YannByron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T09:13:36Z","updated_at":"2022-01-28T09:13:36Z","author_association":"CONTRIBUTOR","body":"@nsivabalan @leesf @xushiyan can you have a chance to review this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024024406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024025320","html_url":"https://github.com/apache/hudi/pull/4608#issuecomment-1024025320","issue_url":"https://api.github.com/repos/apache/hudi/issues/4608","id":1024025320,"node_id":"IC_kwDOBI7nWM49CWLo","user":{"login":"YannByron","id":10036681,"node_id":"MDQ6VXNlcjEwMDM2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/10036681?v=4","gravatar_id":"","url":"https://api.github.com/users/YannByron","html_url":"https://github.com/YannByron","followers_url":"https://api.github.com/users/YannByron/followers","following_url":"https://api.github.com/users/YannByron/following{/other_user}","gists_url":"https://api.github.com/users/YannByron/gists{/gist_id}","starred_url":"https://api.github.com/users/YannByron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YannByron/subscriptions","organizations_url":"https://api.github.com/users/YannByron/orgs","repos_url":"https://api.github.com/users/YannByron/repos","events_url":"https://api.github.com/users/YannByron/events{/privacy}","received_events_url":"https://api.github.com/users/YannByron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T09:14:40Z","updated_at":"2022-01-28T09:14:40Z","author_association":"CONTRIBUTOR","body":"@leesf @xushiyan @XuQianJin-Stars can you have a chance to review this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024025320/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024091806","html_url":"https://github.com/apache/hudi/issues/4604#issuecomment-1024091806","issue_url":"https://api.github.com/repos/apache/hudi/issues/4604","id":1024091806,"node_id":"IC_kwDOBI7nWM49Cmae","user":{"login":"andykrk","id":24304947,"node_id":"MDQ6VXNlcjI0MzA0OTQ3","avatar_url":"https://avatars.githubusercontent.com/u/24304947?v=4","gravatar_id":"","url":"https://api.github.com/users/andykrk","html_url":"https://github.com/andykrk","followers_url":"https://api.github.com/users/andykrk/followers","following_url":"https://api.github.com/users/andykrk/following{/other_user}","gists_url":"https://api.github.com/users/andykrk/gists{/gist_id}","starred_url":"https://api.github.com/users/andykrk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andykrk/subscriptions","organizations_url":"https://api.github.com/users/andykrk/orgs","repos_url":"https://api.github.com/users/andykrk/repos","events_url":"https://api.github.com/users/andykrk/events{/privacy}","received_events_url":"https://api.github.com/users/andykrk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T10:40:51Z","updated_at":"2022-01-28T10:41:08Z","author_association":"NONE","body":"@nsivabalan I was able to reproduce the issue on the other table. Let me add some additional information to it that may help.\r\nWe start with our current table that was created with hudi 0.7.0. Since the beginning it had following settings applied:\r\n'hoodie.keep.min.commits': 999,\r\n'hoodie.keep.max.commits': 1000,\r\n'hoodie.cleaner.commits.retained': 998,\r\ntherefore in our case there was no archival happening for that table. Currently since we want to enable archival process we are modifying the parameters to:\r\n'hoodie.keep.min.commits': 29,\r\n'hoodie.keep.max.commits': 30,\r\n'hoodie.cleaner.commits.retained': 28,\r\nhowever for my testing I run the first processing with hudi 0.9.0 and:\r\n'hoodie.keep.min.commits': 999,\r\n'hoodie.keep.max.commits': 1000,\r\n'hoodie.cleaner.commits.retained': 998,\r\nto make sure that if anything has to upgrade or update in the background it happens before we run with archival option. This run works fine and completes successfully. Then the settings go to 29, 30, 28 and I run again (possibly with no data change as I do this right away). That's when I see the errors presented here. Wanted to add this here as I am not sure if the facts that table was created with older hudi version and that the run without archiving works fine may matter for us.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024091806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024142956","html_url":"https://github.com/apache/hudi/issues/4552#issuecomment-1024142956","issue_url":"https://api.github.com/repos/apache/hudi/issues/4552","id":1024142956,"node_id":"IC_kwDOBI7nWM49Cy5s","user":{"login":"rafcis02","id":16805509,"node_id":"MDQ6VXNlcjE2ODA1NTA5","avatar_url":"https://avatars.githubusercontent.com/u/16805509?v=4","gravatar_id":"","url":"https://api.github.com/users/rafcis02","html_url":"https://github.com/rafcis02","followers_url":"https://api.github.com/users/rafcis02/followers","following_url":"https://api.github.com/users/rafcis02/following{/other_user}","gists_url":"https://api.github.com/users/rafcis02/gists{/gist_id}","starred_url":"https://api.github.com/users/rafcis02/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rafcis02/subscriptions","organizations_url":"https://api.github.com/users/rafcis02/orgs","repos_url":"https://api.github.com/users/rafcis02/repos","events_url":"https://api.github.com/users/rafcis02/events{/privacy}","received_events_url":"https://api.github.com/users/rafcis02/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T11:52:33Z","updated_at":"2022-01-28T11:52:33Z","author_association":"NONE","body":"I've tried it for BULK_INSERT and UPSERT as well, bot nothing works for me.\r\n\r\nI prepared sample test job of that so you can reproduce it or just review it (I hope I just misconfigured it :grinning:). \r\nUpsert operation corrupts timestamps, no matter if I set this option or not -  I tested it using DataFrame writer and SQL MERGE INTO.\r\n\r\nAWS Glue 2.0(Spark 2.4)\r\nHudi 0.10.1\r\n\r\n```scala\r\nimport org.apache.hudi.DataSourceWriteOptions._\r\nimport org.apache.hudi.config.HoodieWriteConfig.TBL_NAME\r\nimport org.apache.hudi.hive.MultiPartKeysValueExtractor\r\nimport org.apache.hudi.hive.ddl.HiveSyncMode\r\nimport org.apache.hudi.hive.util.ConfigUtils\r\nimport org.apache.hudi.keygen.ComplexKeyGenerator\r\nimport org.apache.log4j.{Level, Logger}\r\nimport org.apache.spark.sql.functions.{current_timestamp, expr, lit}\r\nimport org.apache.spark.sql.hudi.HoodieOptionConfig.{SQL_KEY_PRECOMBINE_FIELD, SQL_KEY_TABLE_PRIMARY_KEY, SQL_KEY_TABLE_TYPE}\r\nimport org.apache.spark.sql.hudi.{HoodieOptionConfig, HoodieSparkSessionExtension}\r\nimport org.apache.spark.sql.{SaveMode, SparkSession}\r\n\r\nimport scala.collection.JavaConverters.mapAsJavaMapConverter\r\n\r\ncase class HudiTableOptions(tableName: String,\r\n                            databaseName: String,\r\n                            operationType: String,\r\n                            partitionColumns: List[String],\r\n                            recordKeyColumns: List[String],\r\n                            preCombineColumn: String) {\r\n\r\n  def hudiTableOptions = Map(\r\n    TABLE_TYPE.key() -> COW_TABLE_TYPE_OPT_VAL,\r\n    OPERATION.key() -> operationType,\r\n    TBL_NAME.key() -> tableName,\r\n    RECORDKEY_FIELD.key() -> recordKeyColumns.mkString(\",\"),\r\n    PARTITIONPATH_FIELD.key() -> partitionColumns.mkString(\",\"),\r\n    KEYGENERATOR_CLASS_NAME.key() -> classOf[ComplexKeyGenerator].getName,\r\n    PRECOMBINE_FIELD.key() -> preCombineColumn,\r\n    URL_ENCODE_PARTITIONING.key() -> false.toString,\r\n    KEYGENERATOR_CONSISTENT_LOGICAL_TIMESTAMP_ENABLED.key() -> true.toString\r\n  )\r\n\r\n  def hiveTableProperties = Map(\r\n    SQL_KEY_TABLE_TYPE.sqlKeyName -> HoodieOptionConfig.SQL_VALUE_TABLE_TYPE_COW,\r\n    SQL_KEY_TABLE_PRIMARY_KEY.sqlKeyName -> hudiTableOptions(RECORDKEY_FIELD.key()),\r\n    SQL_KEY_PRECOMBINE_FIELD.sqlKeyName -> hudiTableOptions(PRECOMBINE_FIELD.key())\r\n  )\r\n\r\n  def hiveTableOptions = Map(\r\n    HIVE_SYNC_MODE.key() -> HiveSyncMode.HMS.name(),\r\n    HIVE_SYNC_ENABLED.key() -> true.toString,\r\n    HIVE_DATABASE.key() -> databaseName,\r\n    HIVE_TABLE.key() -> hudiTableOptions(TBL_NAME.key()),\r\n    HIVE_PARTITION_FIELDS.key() -> hudiTableOptions(PARTITIONPATH_FIELD.key()),\r\n    HIVE_PARTITION_EXTRACTOR_CLASS.key() -> classOf[MultiPartKeysValueExtractor].getName,\r\n    HIVE_STYLE_PARTITIONING.key() -> true.toString,\r\n    HIVE_SUPPORT_TIMESTAMP_TYPE.key() -> true.toString,\r\n    HIVE_TABLE_SERDE_PROPERTIES.key() -> ConfigUtils.configToString(hiveTableProperties.asJava)\r\n  )\r\n\r\n  def writerOptions: Map[String, String] = hudiTableOptions ++ hiveTableOptions\r\n}\r\n\r\nobject GlueApp {\r\n  def main(args: Array[String]): Unit = {\r\n    Logger.getRootLogger.setLevel(Level.WARN)\r\n    Logger.getLogger(\"org.apache.spark\").setLevel(Level.ERROR)\r\n    Logger.getLogger(\"org.apache.hudi\").setLevel(Level.INFO)\r\n\r\n    val spark: SparkSession = SparkSession.builder()\r\n      .appName(\"Test\")\r\n      .config(\"spark.serializer\", \"org.apache.spark.serializer.KryoSerializer\")\r\n      .config(\"hive.metastore.glue.catalogid\", \"****\")\r\n      .withExtensions(new HoodieSparkSessionExtension())\r\n      .enableHiveSupport()\r\n      .getOrCreate()\r\n\r\n    import spark.implicits._\r\n\r\n    val tableName = \"hudi_test\"\r\n    val databaseName = \"test_database\"\r\n    val path = \"s3://s3bucketname/hudi-test/\"\r\n    val tableOptions = HudiTableOptions(tableName, databaseName, BULK_INSERT_OPERATION_OPT_VAL, List(\"year\"), List(\"id\"), \"ts\")\r\n\r\n    val dataFrameForBulkInsert = Range(0, 10000).toDF(\"id\")\r\n      .withColumn(\"year\", lit(2022))\r\n      .withColumn(\"ts\", current_timestamp() - expr(\"INTERVAL 100 DAYS\"))\r\n      .withColumn(\"other\", current_timestamp() - expr(\"INTERVAL 150 DAYS\"))\r\n\r\n    val dataFrameForUpsert = Range(5000, 15000).toDF(\"id\")\r\n      .withColumn(\"year\", lit(2022))\r\n      .withColumn(\"ts\", current_timestamp() - expr(\"INTERVAL 10 DAYS\"))\r\n      .withColumn(\"other\", current_timestamp() - expr(\"INTERVAL 50 DAYS\"))\r\n\r\n    // ------------------------ BULK INSERT ------------------------------------------\r\n    dataFrameForBulkInsert.write\r\n      .format(\"org.apache.hudi\")\r\n      .options(tableOptions.writerOptions)\r\n      .mode(SaveMode.Overwrite)\r\n      .save(path)\r\n    // -----------------------------------------------------------------------------\r\n\r\n    Thread.sleep(10 * 1000)\r\n\r\n    // --------------------- UPSERT Spark DataFrame Writer --------------------------\r\n//    dataFrameForUpsert\r\n//      .write\r\n//      .format(\"org.apache.hudi\")\r\n//      .options(tableOptions.copy(operationType = UPSERT_OPERATION_OPT_VAL).writerOptions)\r\n//      .mode(SaveMode.Append)\r\n//      .save(path)\r\n    // ------------------------------------------------------------------------------\r\n\r\n    // --------------------- UPSERT SQL MERGE INTO-----------------------------------\r\n    val mergeIntoStatement =\r\n      s\"\"\"MERGE INTO $databaseName.$tableName AS t\r\n         | USING source_data_set s\r\n         | ON t.id=s.id\r\n         | WHEN MATCHED THEN UPDATE SET *\r\n         | WHEN NOT MATCHED THEN INSERT *\r\n         |\"\"\".stripMargin\r\n    dataFrameForUpsert.createTempView(\"source_data_set\")\r\n    spark.sql(mergeIntoStatement)\r\n    // -------------------------------------------------------------------------------\r\n  }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024142956/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024159578","html_url":"https://github.com/apache/hudi/pull/4523#issuecomment-1024159578","issue_url":"https://api.github.com/repos/apache/hudi/issues/4523","id":1024159578,"node_id":"IC_kwDOBI7nWM49C29a","user":{"login":"codope","id":16440354,"node_id":"MDQ6VXNlcjE2NDQwMzU0","avatar_url":"https://avatars.githubusercontent.com/u/16440354?v=4","gravatar_id":"","url":"https://api.github.com/users/codope","html_url":"https://github.com/codope","followers_url":"https://api.github.com/users/codope/followers","following_url":"https://api.github.com/users/codope/following{/other_user}","gists_url":"https://api.github.com/users/codope/gists{/gist_id}","starred_url":"https://api.github.com/users/codope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codope/subscriptions","organizations_url":"https://api.github.com/users/codope/orgs","repos_url":"https://api.github.com/users/codope/repos","events_url":"https://api.github.com/users/codope/events{/privacy}","received_events_url":"https://api.github.com/users/codope/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T12:15:49Z","updated_at":"2022-01-28T12:15:49Z","author_association":"MEMBER","body":"Closing it in favor of #4693 which has the core functionality and all comments from this PR addressed.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024159578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024236938","html_url":"https://github.com/apache/hudi/pull/3957#issuecomment-1024236938","issue_url":"https://api.github.com/repos/apache/hudi/issues/3957","id":1024236938,"node_id":"IC_kwDOBI7nWM49DJ2K","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T13:42:11Z","updated_at":"2022-01-28T13:42:11Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"e1fa12b9a35058673bdefa9859dffa9c10c1535a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3259\",\n    \"triggerID\" : \"e1fa12b9a35058673bdefa9859dffa9c10c1535a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"438e42e0dd139bf2afcdfe468c4bc3c7891884b3\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3690\",\n    \"triggerID\" : \"438e42e0dd139bf2afcdfe468c4bc3c7891884b3\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"3e704df22d2756a2e2bff86368967235dbb8b221\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=4693\",\n    \"triggerID\" : \"3e704df22d2756a2e2bff86368967235dbb8b221\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"018383c35183c590f21e494b7db6b31420bd9662\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=4703\",\n    \"triggerID\" : \"018383c35183c590f21e494b7db6b31420bd9662\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"ecb89c3de7d29a0002e1306cd0228f489296c4a1\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=4705\",\n    \"triggerID\" : \"ecb89c3de7d29a0002e1306cd0228f489296c4a1\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"d9c8c484840fc7a5b148b40f090f5752a7244eae\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5353\",\n    \"triggerID\" : \"d9c8c484840fc7a5b148b40f090f5752a7244eae\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"23214002a659fab8ab45cdd7125443836068300e\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5382\",\n    \"triggerID\" : \"23214002a659fab8ab45cdd7125443836068300e\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"3ba36aad545cf01a4b01bb21c7e5d792530fa9d0\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5510\",\n    \"triggerID\" : \"3ba36aad545cf01a4b01bb21c7e5d792530fa9d0\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"9b2b86aade67c389e9835455cbd77a2b8ea5c92b\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5513\",\n    \"triggerID\" : \"9b2b86aade67c389e9835455cbd77a2b8ea5c92b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"341cc4daa53d2f97ab04a44d954652e79569e406\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5578\",\n    \"triggerID\" : \"341cc4daa53d2f97ab04a44d954652e79569e406\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 341cc4daa53d2f97ab04a44d954652e79569e406 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5578) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024236938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024285991","html_url":"https://github.com/apache/hudi/pull/4572#issuecomment-1024285991","issue_url":"https://api.github.com/repos/apache/hudi/issues/4572","id":1024285991,"node_id":"IC_kwDOBI7nWM49DV0n","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T14:39:59Z","updated_at":"2022-01-28T14:39:59Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"86716004ac41c76ed50e8728cbf06e068c9f7188\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5151\",\n    \"triggerID\" : \"86716004ac41c76ed50e8728cbf06e068c9f7188\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"52670af75118410a14acbf4bd12c3c0201f41f79\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5192\",\n    \"triggerID\" : \"52670af75118410a14acbf4bd12c3c0201f41f79\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"1e09793a27df6e239065aadee35e1111c006e5e9\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5198\",\n    \"triggerID\" : \"1e09793a27df6e239065aadee35e1111c006e5e9\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"38433f8184b92c7134e0dbd0fdffa8d399bd93a6\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5580\",\n    \"triggerID\" : \"38433f8184b92c7134e0dbd0fdffa8d399bd93a6\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 38433f8184b92c7134e0dbd0fdffa8d399bd93a6 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5580) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024285991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024294748","html_url":"https://github.com/apache/hudi/issues/4641#issuecomment-1024294748","issue_url":"https://api.github.com/repos/apache/hudi/issues/4641","id":1024294748,"node_id":"IC_kwDOBI7nWM49DX9c","user":{"login":"harishraju-govindaraju","id":97610641,"node_id":"U_kgDOBdFrkQ","avatar_url":"https://avatars.githubusercontent.com/u/97610641?v=4","gravatar_id":"","url":"https://api.github.com/users/harishraju-govindaraju","html_url":"https://github.com/harishraju-govindaraju","followers_url":"https://api.github.com/users/harishraju-govindaraju/followers","following_url":"https://api.github.com/users/harishraju-govindaraju/following{/other_user}","gists_url":"https://api.github.com/users/harishraju-govindaraju/gists{/gist_id}","starred_url":"https://api.github.com/users/harishraju-govindaraju/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harishraju-govindaraju/subscriptions","organizations_url":"https://api.github.com/users/harishraju-govindaraju/orgs","repos_url":"https://api.github.com/users/harishraju-govindaraju/repos","events_url":"https://api.github.com/users/harishraju-govindaraju/events{/privacy}","received_events_url":"https://api.github.com/users/harishraju-govindaraju/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T14:49:53Z","updated_at":"2022-01-28T14:49:53Z","author_association":"NONE","body":"I was able to do spark submit. My parameters had something wrong.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024294748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024372275","html_url":"https://github.com/apache/hudi/issues/4641#issuecomment-1024372275","issue_url":"https://api.github.com/repos/apache/hudi/issues/4641","id":1024372275,"node_id":"IC_kwDOBI7nWM49Dq4z","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T16:17:38Z","updated_at":"2022-01-28T16:17:38Z","author_association":"CONTRIBUTOR","body":"got it. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024372275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024608648","html_url":"https://github.com/apache/hudi/pull/4660#issuecomment-1024608648","issue_url":"https://api.github.com/repos/apache/hudi/issues/4660","id":1024608648,"node_id":"IC_kwDOBI7nWM49EkmI","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T20:22:42Z","updated_at":"2022-01-28T20:22:42Z","author_association":"CONTRIBUTOR","body":"Dependent on https://github.com/apache/hudi/pull/4681\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024608648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024642686","html_url":"https://github.com/apache/hudi/issues/4299#issuecomment-1024642686","issue_url":"https://api.github.com/repos/apache/hudi/issues/4299","id":1024642686,"node_id":"IC_kwDOBI7nWM49Es5-","user":{"login":"ChiehFu","id":11819388,"node_id":"MDQ6VXNlcjExODE5Mzg4","avatar_url":"https://avatars.githubusercontent.com/u/11819388?v=4","gravatar_id":"","url":"https://api.github.com/users/ChiehFu","html_url":"https://github.com/ChiehFu","followers_url":"https://api.github.com/users/ChiehFu/followers","following_url":"https://api.github.com/users/ChiehFu/following{/other_user}","gists_url":"https://api.github.com/users/ChiehFu/gists{/gist_id}","starred_url":"https://api.github.com/users/ChiehFu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChiehFu/subscriptions","organizations_url":"https://api.github.com/users/ChiehFu/orgs","repos_url":"https://api.github.com/users/ChiehFu/repos","events_url":"https://api.github.com/users/ChiehFu/events{/privacy}","received_events_url":"https://api.github.com/users/ChiehFu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T21:18:28Z","updated_at":"2022-01-28T21:18:28Z","author_association":"NONE","body":"@XuQianJin-Stars I also noticed a similar performance issue on Upsert in 0.10.0, please see my post #4682.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024642686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024701244","html_url":"https://github.com/apache/hudi/issues/4701#issuecomment-1024701244","issue_url":"https://api.github.com/repos/apache/hudi/issues/4701","id":1024701244,"node_id":"IC_kwDOBI7nWM49E7M8","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T22:29:56Z","updated_at":"2022-01-28T22:29:56Z","author_association":"MEMBER","body":"@Aruun from your config `--hoodie-conf hoodie.deltastreamer.source.dfs.root=s3://,hoodie.datasource.write.recordkey.field=,hoodie.datasource.write.partitionpath.field=`: this is not the right way, each config should use a separate `--hoodie-conf` \r\n\r\nAlso you're using `0.8.0-amzn-0.jar` which is AWS modified version, not open source release. please engage with aws support for further troubleshooting. In open source release, hudi 0.8.0 does not support spark 3.1.2. see the support matrix https://hudi.apache.org/docs/quick-start-guide","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024701244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024762640","html_url":"https://github.com/apache/hudi/pull/4715#issuecomment-1024762640","issue_url":"https://api.github.com/repos/apache/hudi/issues/4715","id":1024762640,"node_id":"IC_kwDOBI7nWM49FKMQ","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T00:13:22Z","updated_at":"2022-01-29T00:13:22Z","author_association":"CONTRIBUTOR","body":"<img width=\"918\" alt=\"Screen Shot 2022-01-28 at 7 10 36 PM\" src=\"https://user-images.githubusercontent.com/513218/151638020-0712b72e-0af3-4196-b446-16e3f07c3035.png\">\r\n<img width=\"900\" alt=\"Screen Shot 2022-01-28 at 7 10 50 PM\" src=\"https://user-images.githubusercontent.com/513218/151638021-9b4f2663-143e-4244-a4e2-6b499701d1fb.png\">\r\n<img width=\"897\" alt=\"Screen Shot 2022-01-28 at 7 11 00 PM\" src=\"https://user-images.githubusercontent.com/513218/151638022-ac55c452-4669-4b74-8dd8-b56ba5aed742.png\">\r\n<img width=\"913\" alt=\"Screen Shot 2022-01-28 at 7 11 07 PM\" src=\"https://user-images.githubusercontent.com/513218/151638023-5aa3e663-68dd-4bbf-b2cc-25e82bb4ac5c.png\">\r\n<img width=\"905\" alt=\"Screen Shot 2022-01-28 at 7 11 17 PM\" src=\"https://user-images.githubusercontent.com/513218/151638024-0d0775f9-6160-4e23-87d3-8dafe4ffe958.png\">\r\n<img width=\"897\" alt=\"Screen Shot 2022-01-28 at 7 11 26 PM\" src=\"https://user-images.githubusercontent.com/513218/151638027-90bfdc24-726e-4342-9a53-bcad6007418e.png\">\r\n<img width=\"901\" alt=\"Screen Shot 2022-01-28 at 7 11 34 PM\" src=\"https://user-images.githubusercontent.com/513218/151638028-564a415e-7572-4421-869c-7f59bc4f28ca.png\">\r\n<img width=\"894\" alt=\"Screen Shot 2022-01-28 at 7 11 43 PM\" src=\"https://user-images.githubusercontent.com/513218/151638029-31b3b704-151b-40b4-ac71-2fa14de93bd5.png\">\r\n<img width=\"902\" alt=\"Screen Shot 2022-01-28 at 7 11 50 PM\" src=\"https://user-images.githubusercontent.com/513218/151638030-0e6a5362-7a7d-494c-b98c-2a7b1912f7a2.png\">\r\n<img width=\"893\" alt=\"Screen Shot 2022-01-28 at 7 11 58 PM\" src=\"https://user-images.githubusercontent.com/513218/151638031-ab350910-a2cc-4a5c-9e04-74f5bbecd07f.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024762640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024801186","html_url":"https://github.com/apache/hudi/pull/4699#issuecomment-1024801186","issue_url":"https://api.github.com/repos/apache/hudi/issues/4699","id":1024801186,"node_id":"IC_kwDOBI7nWM49FTmi","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T01:38:02Z","updated_at":"2022-01-29T01:38:02Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024801186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024801521","html_url":"https://github.com/apache/hudi/pull/4699#issuecomment-1024801521","issue_url":"https://api.github.com/repos/apache/hudi/issues/4699","id":1024801521,"node_id":"IC_kwDOBI7nWM49FTrx","user":{"login":"cuibo01","id":36881649,"node_id":"MDQ6VXNlcjM2ODgxNjQ5","avatar_url":"https://avatars.githubusercontent.com/u/36881649?v=4","gravatar_id":"","url":"https://api.github.com/users/cuibo01","html_url":"https://github.com/cuibo01","followers_url":"https://api.github.com/users/cuibo01/followers","following_url":"https://api.github.com/users/cuibo01/following{/other_user}","gists_url":"https://api.github.com/users/cuibo01/gists{/gist_id}","starred_url":"https://api.github.com/users/cuibo01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuibo01/subscriptions","organizations_url":"https://api.github.com/users/cuibo01/orgs","repos_url":"https://api.github.com/users/cuibo01/repos","events_url":"https://api.github.com/users/cuibo01/events{/privacy}","received_events_url":"https://api.github.com/users/cuibo01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T01:39:37Z","updated_at":"2022-01-29T01:39:37Z","author_association":"CONTRIBUTOR","body":"@danny0405 pls review thx","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024801521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024804519","html_url":"https://github.com/apache/hudi/pull/4626#issuecomment-1024804519","issue_url":"https://api.github.com/repos/apache/hudi/issues/4626","id":1024804519,"node_id":"IC_kwDOBI7nWM49FUan","user":{"login":"peanut-chenzhong","id":58263343,"node_id":"MDQ6VXNlcjU4MjYzMzQz","avatar_url":"https://avatars.githubusercontent.com/u/58263343?v=4","gravatar_id":"","url":"https://api.github.com/users/peanut-chenzhong","html_url":"https://github.com/peanut-chenzhong","followers_url":"https://api.github.com/users/peanut-chenzhong/followers","following_url":"https://api.github.com/users/peanut-chenzhong/following{/other_user}","gists_url":"https://api.github.com/users/peanut-chenzhong/gists{/gist_id}","starred_url":"https://api.github.com/users/peanut-chenzhong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peanut-chenzhong/subscriptions","organizations_url":"https://api.github.com/users/peanut-chenzhong/orgs","repos_url":"https://api.github.com/users/peanut-chenzhong/repos","events_url":"https://api.github.com/users/peanut-chenzhong/events{/privacy}","received_events_url":"https://api.github.com/users/peanut-chenzhong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T01:51:34Z","updated_at":"2022-01-29T01:51:34Z","author_association":"CONTRIBUTOR","body":"@n3nash please help review this PR","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024804519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024810709","html_url":"https://github.com/apache/hudi/pull/4714#issuecomment-1024810709","issue_url":"https://api.github.com/repos/apache/hudi/issues/4714","id":1024810709,"node_id":"IC_kwDOBI7nWM49FV7V","user":{"login":"YannByron","id":10036681,"node_id":"MDQ6VXNlcjEwMDM2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/10036681?v=4","gravatar_id":"","url":"https://api.github.com/users/YannByron","html_url":"https://github.com/YannByron","followers_url":"https://api.github.com/users/YannByron/followers","following_url":"https://api.github.com/users/YannByron/following{/other_user}","gists_url":"https://api.github.com/users/YannByron/gists{/gist_id}","starred_url":"https://api.github.com/users/YannByron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YannByron/subscriptions","organizations_url":"https://api.github.com/users/YannByron/orgs","repos_url":"https://api.github.com/users/YannByron/repos","events_url":"https://api.github.com/users/YannByron/events{/privacy}","received_events_url":"https://api.github.com/users/YannByron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T02:19:59Z","updated_at":"2022-01-29T02:19:59Z","author_association":"CONTRIBUTOR","body":"@nsivabalan @leesf could you help to review this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024810709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024812233","html_url":"https://github.com/apache/hudi/pull/4717#issuecomment-1024812233","issue_url":"https://api.github.com/repos/apache/hudi/issues/4717","id":1024812233,"node_id":"IC_kwDOBI7nWM49FWTJ","user":{"login":"dcoliversun","id":44011673,"node_id":"MDQ6VXNlcjQ0MDExNjcz","avatar_url":"https://avatars.githubusercontent.com/u/44011673?v=4","gravatar_id":"","url":"https://api.github.com/users/dcoliversun","html_url":"https://github.com/dcoliversun","followers_url":"https://api.github.com/users/dcoliversun/followers","following_url":"https://api.github.com/users/dcoliversun/following{/other_user}","gists_url":"https://api.github.com/users/dcoliversun/gists{/gist_id}","starred_url":"https://api.github.com/users/dcoliversun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcoliversun/subscriptions","organizations_url":"https://api.github.com/users/dcoliversun/orgs","repos_url":"https://api.github.com/users/dcoliversun/repos","events_url":"https://api.github.com/users/dcoliversun/events{/privacy}","received_events_url":"https://api.github.com/users/dcoliversun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T02:29:11Z","updated_at":"2022-01-29T02:29:11Z","author_association":"CONTRIBUTOR","body":"cc @leesf \r\nIt would be good if you could take a look when you have time, thanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024812233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024813478","html_url":"https://github.com/apache/hudi/pull/4626#issuecomment-1024813478","issue_url":"https://api.github.com/repos/apache/hudi/issues/4626","id":1024813478,"node_id":"IC_kwDOBI7nWM49FWmm","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T02:36:51Z","updated_at":"2022-01-29T02:36:51Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024813478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024827509","html_url":"https://github.com/apache/hudi/pull/4717#issuecomment-1024827509","issue_url":"https://api.github.com/repos/apache/hudi/issues/4717","id":1024827509,"node_id":"IC_kwDOBI7nWM49FaB1","user":{"login":"dcoliversun","id":44011673,"node_id":"MDQ6VXNlcjQ0MDExNjcz","avatar_url":"https://avatars.githubusercontent.com/u/44011673?v=4","gravatar_id":"","url":"https://api.github.com/users/dcoliversun","html_url":"https://github.com/dcoliversun","followers_url":"https://api.github.com/users/dcoliversun/followers","following_url":"https://api.github.com/users/dcoliversun/following{/other_user}","gists_url":"https://api.github.com/users/dcoliversun/gists{/gist_id}","starred_url":"https://api.github.com/users/dcoliversun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcoliversun/subscriptions","organizations_url":"https://api.github.com/users/dcoliversun/orgs","repos_url":"https://api.github.com/users/dcoliversun/repos","events_url":"https://api.github.com/users/dcoliversun/events{/privacy}","received_events_url":"https://api.github.com/users/dcoliversun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T04:05:34Z","updated_at":"2022-01-29T04:05:34Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024827509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024833689","html_url":"https://github.com/apache/hudi/pull/4699#issuecomment-1024833689","issue_url":"https://api.github.com/repos/apache/hudi/issues/4699","id":1024833689,"node_id":"IC_kwDOBI7nWM49FbiZ","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T04:48:00Z","updated_at":"2022-01-29T04:48:00Z","author_association":"CONTRIBUTOR","body":"Thanks, can you explain a little why we need theses `hadoop.` prefixed config options ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024833689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024837464","html_url":"https://github.com/apache/hudi/pull/4716#issuecomment-1024837464","issue_url":"https://api.github.com/repos/apache/hudi/issues/4716","id":1024837464,"node_id":"IC_kwDOBI7nWM49FcdY","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T05:14:38Z","updated_at":"2022-01-29T05:14:38Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024837464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024840867","html_url":"https://github.com/apache/hudi/pull/4717#issuecomment-1024840867","issue_url":"https://api.github.com/repos/apache/hudi/issues/4717","id":1024840867,"node_id":"IC_kwDOBI7nWM49FdSj","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T05:41:07Z","updated_at":"2022-01-29T05:41:07Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"6f9c5632c5647c27e9184dee53e52036150d4bea\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5592\",\n    \"triggerID\" : \"6f9c5632c5647c27e9184dee53e52036150d4bea\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"6f9c5632c5647c27e9184dee53e52036150d4bea\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5596\",\n    \"triggerID\" : \"1024827509\",\n    \"triggerType\" : \"MANUAL\"\n  } ]\n}-->\n## CI report:\n\n* 6f9c5632c5647c27e9184dee53e52036150d4bea Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5592) Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5596) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024840867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024845655","html_url":"https://github.com/apache/hudi/pull/4556#issuecomment-1024845655","issue_url":"https://api.github.com/repos/apache/hudi/issues/4556","id":1024845655,"node_id":"IC_kwDOBI7nWM49FedX","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T06:12:18Z","updated_at":"2022-01-29T06:12:18Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024845655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024849829","html_url":"https://github.com/apache/hudi/pull/4699#issuecomment-1024849829","issue_url":"https://api.github.com/repos/apache/hudi/issues/4699","id":1024849829,"node_id":"IC_kwDOBI7nWM49Ffel","user":{"login":"cuibo01","id":36881649,"node_id":"MDQ6VXNlcjM2ODgxNjQ5","avatar_url":"https://avatars.githubusercontent.com/u/36881649?v=4","gravatar_id":"","url":"https://api.github.com/users/cuibo01","html_url":"https://github.com/cuibo01","followers_url":"https://api.github.com/users/cuibo01/followers","following_url":"https://api.github.com/users/cuibo01/following{/other_user}","gists_url":"https://api.github.com/users/cuibo01/gists{/gist_id}","starred_url":"https://api.github.com/users/cuibo01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuibo01/subscriptions","organizations_url":"https://api.github.com/users/cuibo01/orgs","repos_url":"https://api.github.com/users/cuibo01/repos","events_url":"https://api.github.com/users/cuibo01/events{/privacy}","received_events_url":"https://api.github.com/users/cuibo01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T06:44:19Z","updated_at":"2022-01-29T06:44:19Z","author_association":"CONTRIBUTOR","body":"> Thanks, can you explain a little why we need theses `hadoop.` prefixed config options ?\r\n\r\nIn the same application, the same core/hdfs-site is used\r\nbut some configurations may be different for different jobs, for example, the compact memory size, the FileSystem...","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024849829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024849931","html_url":"https://github.com/apache/hudi/pull/4699#issuecomment-1024849931","issue_url":"https://api.github.com/repos/apache/hudi/issues/4699","id":1024849931,"node_id":"IC_kwDOBI7nWM49FfgL","user":{"login":"cuibo01","id":36881649,"node_id":"MDQ6VXNlcjM2ODgxNjQ5","avatar_url":"https://avatars.githubusercontent.com/u/36881649?v=4","gravatar_id":"","url":"https://api.github.com/users/cuibo01","html_url":"https://github.com/cuibo01","followers_url":"https://api.github.com/users/cuibo01/followers","following_url":"https://api.github.com/users/cuibo01/following{/other_user}","gists_url":"https://api.github.com/users/cuibo01/gists{/gist_id}","starred_url":"https://api.github.com/users/cuibo01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuibo01/subscriptions","organizations_url":"https://api.github.com/users/cuibo01/orgs","repos_url":"https://api.github.com/users/cuibo01/repos","events_url":"https://api.github.com/users/cuibo01/events{/privacy}","received_events_url":"https://api.github.com/users/cuibo01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T06:44:54Z","updated_at":"2022-01-29T06:44:54Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024849931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024896893","html_url":"https://github.com/apache/hudi/pull/4699#issuecomment-1024896893","issue_url":"https://api.github.com/repos/apache/hudi/issues/4699","id":1024896893,"node_id":"IC_kwDOBI7nWM49Fq99","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T11:53:16Z","updated_at":"2022-01-29T11:53:16Z","author_association":"CONTRIBUTOR","body":"You may need to change the commit title: such as: Support custom hadoop config options for flink","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024896893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024898679","html_url":"https://github.com/apache/hudi/pull/4699#issuecomment-1024898679","issue_url":"https://api.github.com/repos/apache/hudi/issues/4699","id":1024898679,"node_id":"IC_kwDOBI7nWM49FrZ3","user":{"login":"cuibo01","id":36881649,"node_id":"MDQ6VXNlcjM2ODgxNjQ5","avatar_url":"https://avatars.githubusercontent.com/u/36881649?v=4","gravatar_id":"","url":"https://api.github.com/users/cuibo01","html_url":"https://github.com/cuibo01","followers_url":"https://api.github.com/users/cuibo01/followers","following_url":"https://api.github.com/users/cuibo01/following{/other_user}","gists_url":"https://api.github.com/users/cuibo01/gists{/gist_id}","starred_url":"https://api.github.com/users/cuibo01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuibo01/subscriptions","organizations_url":"https://api.github.com/users/cuibo01/orgs","repos_url":"https://api.github.com/users/cuibo01/repos","events_url":"https://api.github.com/users/cuibo01/events{/privacy}","received_events_url":"https://api.github.com/users/cuibo01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T12:03:19Z","updated_at":"2022-01-29T12:03:19Z","author_association":"CONTRIBUTOR","body":"> You may need to change the commit title: such as: Support custom hadoop config options for flink\r\n\r\nok  Thanks for the review.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024898679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024898853","html_url":"https://github.com/apache/hudi/pull/4699#issuecomment-1024898853","issue_url":"https://api.github.com/repos/apache/hudi/issues/4699","id":1024898853,"node_id":"IC_kwDOBI7nWM49Frcl","user":{"login":"cuibo01","id":36881649,"node_id":"MDQ6VXNlcjM2ODgxNjQ5","avatar_url":"https://avatars.githubusercontent.com/u/36881649?v=4","gravatar_id":"","url":"https://api.github.com/users/cuibo01","html_url":"https://github.com/cuibo01","followers_url":"https://api.github.com/users/cuibo01/followers","following_url":"https://api.github.com/users/cuibo01/following{/other_user}","gists_url":"https://api.github.com/users/cuibo01/gists{/gist_id}","starred_url":"https://api.github.com/users/cuibo01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuibo01/subscriptions","organizations_url":"https://api.github.com/users/cuibo01/orgs","repos_url":"https://api.github.com/users/cuibo01/repos","events_url":"https://api.github.com/users/cuibo01/events{/privacy}","received_events_url":"https://api.github.com/users/cuibo01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T12:04:23Z","updated_at":"2022-01-29T12:04:23Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024898853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024903082","html_url":"https://github.com/apache/hudi/pull/4699#issuecomment-1024903082","issue_url":"https://api.github.com/repos/apache/hudi/issues/4699","id":1024903082,"node_id":"IC_kwDOBI7nWM49Fseq","user":{"login":"cuibo01","id":36881649,"node_id":"MDQ6VXNlcjM2ODgxNjQ5","avatar_url":"https://avatars.githubusercontent.com/u/36881649?v=4","gravatar_id":"","url":"https://api.github.com/users/cuibo01","html_url":"https://github.com/cuibo01","followers_url":"https://api.github.com/users/cuibo01/followers","following_url":"https://api.github.com/users/cuibo01/following{/other_user}","gists_url":"https://api.github.com/users/cuibo01/gists{/gist_id}","starred_url":"https://api.github.com/users/cuibo01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuibo01/subscriptions","organizations_url":"https://api.github.com/users/cuibo01/orgs","repos_url":"https://api.github.com/users/cuibo01/repos","events_url":"https://api.github.com/users/cuibo01/events{/privacy}","received_events_url":"https://api.github.com/users/cuibo01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T12:31:54Z","updated_at":"2022-01-29T12:31:54Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024903082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024942134","html_url":"https://github.com/apache/hudi/pull/4718#issuecomment-1024942134","issue_url":"https://api.github.com/repos/apache/hudi/issues/4718","id":1024942134,"node_id":"IC_kwDOBI7nWM49F2A2","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T16:26:56Z","updated_at":"2022-01-29T16:26:56Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"242e34cc29608bdd145e41e06119c002e9e0418c\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5609\",\n    \"triggerID\" : \"242e34cc29608bdd145e41e06119c002e9e0418c\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"3208c9fe7de1c45e12a07debdeaa30239aff23aa\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5610\",\n    \"triggerID\" : \"3208c9fe7de1c45e12a07debdeaa30239aff23aa\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 3208c9fe7de1c45e12a07debdeaa30239aff23aa Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5610) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024942134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024989828","html_url":"https://github.com/apache/hudi/pull/4716#issuecomment-1024989828","issue_url":"https://api.github.com/repos/apache/hudi/issues/4716","id":1024989828,"node_id":"IC_kwDOBI7nWM49GBqE","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T21:30:06Z","updated_at":"2022-01-29T21:30:06Z","author_association":"CONTRIBUTOR","body":"If you don't mind, can we add tests for the fix in this patch. The tests should fail if not the fix and should pass w/ the fix. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1024989828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025041805","html_url":"https://github.com/apache/hudi/pull/4699#issuecomment-1025041805","issue_url":"https://api.github.com/repos/apache/hudi/issues/4699","id":1025041805,"node_id":"IC_kwDOBI7nWM49GOWN","user":{"login":"cuibo01","id":36881649,"node_id":"MDQ6VXNlcjM2ODgxNjQ5","avatar_url":"https://avatars.githubusercontent.com/u/36881649?v=4","gravatar_id":"","url":"https://api.github.com/users/cuibo01","html_url":"https://github.com/cuibo01","followers_url":"https://api.github.com/users/cuibo01/followers","following_url":"https://api.github.com/users/cuibo01/following{/other_user}","gists_url":"https://api.github.com/users/cuibo01/gists{/gist_id}","starred_url":"https://api.github.com/users/cuibo01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuibo01/subscriptions","organizations_url":"https://api.github.com/users/cuibo01/orgs","repos_url":"https://api.github.com/users/cuibo01/repos","events_url":"https://api.github.com/users/cuibo01/events{/privacy}","received_events_url":"https://api.github.com/users/cuibo01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T01:27:13Z","updated_at":"2022-01-30T01:27:13Z","author_association":"CONTRIBUTOR","body":"@danny0405 can u approval workflow and merge the pr, thx","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025041805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025077842","html_url":"https://github.com/apache/hudi/issues/4030#issuecomment-1025077842","issue_url":"https://api.github.com/repos/apache/hudi/issues/4030","id":1025077842,"node_id":"IC_kwDOBI7nWM49GXJS","user":{"login":"stayrascal","id":13775334,"node_id":"MDQ6VXNlcjEzNzc1MzM0","avatar_url":"https://avatars.githubusercontent.com/u/13775334?v=4","gravatar_id":"","url":"https://api.github.com/users/stayrascal","html_url":"https://github.com/stayrascal","followers_url":"https://api.github.com/users/stayrascal/followers","following_url":"https://api.github.com/users/stayrascal/following{/other_user}","gists_url":"https://api.github.com/users/stayrascal/gists{/gist_id}","starred_url":"https://api.github.com/users/stayrascal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stayrascal/subscriptions","organizations_url":"https://api.github.com/users/stayrascal/orgs","repos_url":"https://api.github.com/users/stayrascal/repos","events_url":"https://api.github.com/users/stayrascal/events{/privacy}","received_events_url":"https://api.github.com/users/stayrascal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T06:04:08Z","updated_at":"2022-01-30T06:06:40Z","author_association":"CONTRIBUTOR","body":"Hi @danny0405 , I tired the solution of changing the ValueState of BucketAssignFunction by store the whole HoodieRecord instead of HoodieRecordGlobalLocation. (Once the partition changed, output a delete record to old file, and update the location of old record with new partition path and output a new record to new file)\r\n\r\nIt works in some cases, but not works in all cases.\r\n\r\n**Works cases:**\r\n- The old record exists in based file(enable bootstrap index), the incoming record partition changed. \r\n  - The new record from old record and incoming record will be merged before write to new partition file.\r\n- Only one incoming record before another incoming record with partition changed, these two records will be merged to new  partition file.\r\n  - Assume incoming records a(a=1,b=null,c=2022-01-01) and b(a=null, b=2,p=2022-01-02) coming in a same commit, the a will be stored in ValueState, and it will be sink to 2022-01-01 partition file, and later the b coming, a delete record(c=2022-01-01) will be outputted(which will merge with previous record, no records write to 2021-01-01 file), and the same time, a new record a1(a=1, b=null, c=2022-01-02) will outputted as well, the a1 and b will be merged and then write to 2022-01-02 partition file\r\n\r\n**Not Works cases:**\r\n- there are more than one incoming record before another incoming record with partition changed, only the last record(before partition changed) will be merged.\r\n  - Assume incoming records a(a=1, b=null, c=null, d=2022-01-01), b(a=null, b=2, c=null, d=2022-01-01) and c(a=null, b=null, c=3, d=2022-01-02) coming in a same commit\r\n    - the a and b will be sink to downstream(StreamWriteFunction) with location 2022-01-01 at first.\r\n    - a delete record from b will be sink to downstream with location 2022-01-01 later when record c coming\r\n    - a new record from b1(a=null, b=2, c=null, d=2022-01-02) will sink to downstream with location 2022-01-02\r\n    - record b1 and c will be merged and write to 2022-01-02 partition, but the info from record a will missed, because the ValueState will only store one element.\r\n\r\nSo in order to support the partial update or overwrite non default(exists) capabilities in current architecture, we might need to change ValueState to ListState(or ValueState with customized object) to store recent n records or merge the record before store in state, once the partition changed, rewrite these latest n records to new partition and clear the state. The above all logic should be control by a feature toggle via a configuration. (notes: the n means only merged the latest n records in a same commit if the partition path changed)\r\n\r\nWhat's your thoughts?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025077842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025130617","html_url":"https://github.com/apache/hudi/pull/4721#issuecomment-1025130617","issue_url":"https://api.github.com/repos/apache/hudi/issues/4721","id":1025130617,"node_id":"IC_kwDOBI7nWM49GkB5","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T12:15:00Z","updated_at":"2022-01-30T12:15:00Z","author_association":"CONTRIBUTOR","body":"cc @yihua ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025130617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025148577","html_url":"https://github.com/apache/hudi/pull/4721#issuecomment-1025148577","issue_url":"https://api.github.com/repos/apache/hudi/issues/4721","id":1025148577,"node_id":"IC_kwDOBI7nWM49Goah","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T13:53:18Z","updated_at":"2022-01-30T13:53:18Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025148577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025167913","html_url":"https://github.com/apache/hudi/pull/4721#issuecomment-1025167913","issue_url":"https://api.github.com/repos/apache/hudi/issues/4721","id":1025167913,"node_id":"IC_kwDOBI7nWM49GtIp","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T15:30:20Z","updated_at":"2022-01-30T15:30:20Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025167913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025231731","html_url":"https://github.com/apache/hudi/issues/4700#issuecomment-1025231731","issue_url":"https://api.github.com/repos/apache/hudi/issues/4700","id":1025231731,"node_id":"IC_kwDOBI7nWM49G8tz","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T21:09:32Z","updated_at":"2022-01-30T21:09:32Z","author_association":"MEMBER","body":"@117th hudi is certified with hive 2.3.x. There could be issues working with hive 3.0.0.  Can you see if it works hive 2.3.3 ? \r\n@codope do you happen to know the full list of compatible hive versions?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025231731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025233718","html_url":"https://github.com/apache/hudi/issues/4698#issuecomment-1025233718","issue_url":"https://api.github.com/repos/apache/hudi/issues/4698","id":1025233718,"node_id":"IC_kwDOBI7nWM49G9M2","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T21:20:08Z","updated_at":"2022-01-30T21:20:08Z","author_association":"MEMBER","body":"@hanjun996 can you share environment configs, software versions, and code snippet to help us reproduce the issue?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025233718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025238050","html_url":"https://github.com/apache/hudi/issues/4690#issuecomment-1025238050","issue_url":"https://api.github.com/repos/apache/hudi/issues/4690","id":1025238050,"node_id":"IC_kwDOBI7nWM49G-Qi","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T21:43:18Z","updated_at":"2022-01-30T21:43:18Z","author_association":"MEMBER","body":"@wqwl611 we need to know more details like the code you're trying to execute and the environment to help reproduce the issue. Also spark 3.2 is not supported in hudi 0.10.0. Please try spark 3.1 or 3.0","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025238050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025261010","html_url":"https://github.com/apache/hudi/issues/4683#issuecomment-1025261010","issue_url":"https://api.github.com/repos/apache/hudi/issues/4683","id":1025261010,"node_id":"IC_kwDOBI7nWM49HD3S","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T23:37:46Z","updated_at":"2022-01-30T23:37:46Z","author_association":"MEMBER","body":"@waywtdcc the stacktrace shows \"unsupported type: optional int96 ts\" which does not originate from hudi. looks like a problem with the hive ql specifying bigint? have you tried different data type like TIMESTAMP for `ts` ? also does this `ts` come from `users_cdc_hive` or `user_cdc17_ro` ? you probably need to double check the schemas for both tables and make sure int96 is not used.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025261010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025263395","html_url":"https://github.com/apache/hudi/issues/4678#issuecomment-1025263395","issue_url":"https://api.github.com/repos/apache/hudi/issues/4678","id":1025263395,"node_id":"IC_kwDOBI7nWM49HEcj","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T23:51:24Z","updated_at":"2022-01-30T23:52:00Z","author_association":"MEMBER","body":"@YannByron do you know if we ever use the schema specified in `spark.read.format().schema()` or we always infer from the commit timeline or parquet file?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025263395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025271879","html_url":"https://github.com/apache/hudi/issues/4636#issuecomment-1025271879","issue_url":"https://api.github.com/repos/apache/hudi/issues/4636","id":1025271879,"node_id":"IC_kwDOBI7nWM49HGhH","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T00:24:40Z","updated_at":"2022-01-31T00:24:40Z","author_association":"MEMBER","body":"@danny0405 any suggestion on using timeline server with flink writer? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025271879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025272749","html_url":"https://github.com/apache/hudi/issues/4627#issuecomment-1025272749","issue_url":"https://api.github.com/repos/apache/hudi/issues/4627","id":1025272749,"node_id":"IC_kwDOBI7nWM49HGut","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T00:27:22Z","updated_at":"2022-01-31T00:27:22Z","author_association":"MEMBER","body":"@melin can you share more info on the use case? it'll be great if you can come up with an RFC and illustrate more details on the integration proposal.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025272749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025274983","html_url":"https://github.com/apache/hudi/issues/4411#issuecomment-1025274983","issue_url":"https://api.github.com/repos/apache/hudi/issues/4411","id":1025274983,"node_id":"IC_kwDOBI7nWM49HHRn","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T00:34:20Z","updated_at":"2022-01-31T00:34:20Z","author_association":"MEMBER","body":"> @xushiyan - in 0.5.0, NonpartitionedKeyGenerator doesn't support Composite Primary Keys, so we have used ComplexKeyGenerator and the querying works as expected through Presto 0.230 and not in Presto 0.245.1\r\n\r\n@rajgowtham24 Ok do you mean the issue resolved with Presto 0.230 ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025274983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025282665","html_url":"https://github.com/apache/hudi/issues/3960#issuecomment-1025282665","issue_url":"https://api.github.com/repos/apache/hudi/issues/3960","id":1025282665,"node_id":"IC_kwDOBI7nWM49HJJp","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T00:57:33Z","updated_at":"2022-01-31T00:57:33Z","author_association":"MEMBER","body":"> IMO, this requires the flink can support schema evolution, current community flink doesn't support it, you can consider use aliyun enterprise flink, we are support it.\r\n\r\n@0x574C i hope this gives you a good idea about supporting schema evolution in flink. If you don't have further questions, we may close this. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025282665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025284224","html_url":"https://github.com/apache/hudi/issues/3933#issuecomment-1025284224","issue_url":"https://api.github.com/repos/apache/hudi/issues/3933","id":1025284224,"node_id":"IC_kwDOBI7nWM49HJiA","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T01:01:01Z","updated_at":"2022-01-31T01:01:01Z","author_association":"MEMBER","body":"@Limess thanks for the info provided so far on this issue. closing this now assuming no further action needed here.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025284224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025287708","html_url":"https://github.com/apache/hudi/issues/3831#issuecomment-1025287708","issue_url":"https://api.github.com/repos/apache/hudi/issues/3831","id":1025287708,"node_id":"IC_kwDOBI7nWM49HKYc","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T01:09:23Z","updated_at":"2022-01-31T01:09:23Z","author_association":"MEMBER","body":"@stackls closing this due to inactive. if you ever come up with some work to share about Deltastreamer + Livy, happy to see and help promote it to the community. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025287708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025291114","html_url":"https://github.com/apache/hudi/issues/3755#issuecomment-1025291114","issue_url":"https://api.github.com/repos/apache/hudi/issues/3755","id":1025291114,"node_id":"IC_kwDOBI7nWM49HLNq","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T01:16:58Z","updated_at":"2022-01-31T01:16:58Z","author_association":"MEMBER","body":"> > past\r\n> > think this is cause by meta table,  I enabled metatable then got this error\r\n\r\n@fengjian428 did you mean you disabled metadata table then it's resolved?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025291114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025300721","html_url":"https://github.com/apache/hudi/issues/3751#issuecomment-1025300721","issue_url":"https://api.github.com/repos/apache/hudi/issues/3751","id":1025300721,"node_id":"IC_kwDOBI7nWM49HNjx","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T01:35:33Z","updated_at":"2022-01-31T01:35:33Z","author_association":"MEMBER","body":"> num-executors 19\r\n> executor-cores 1\r\n> executor-memory 6g\r\n\r\n@MikeBuh this setting means you probably can have 30-40 parallelism to set for the spark and shuffle partitions and hudi parallelisms, given each core works with 1.5-2 concurrency. suggest increase executor cores to 3-5 to increase throughput, and tune other settings accordingly. You want to also align spark parallelism, shuffle partitions and hudi parallelisms (a few of them) as well.\r\n\r\n> hoodie.datasource.write.row.writer.enable: true\r\n\r\nThis is only for bulk insert as of now.\r\n\r\n>  data seems to be skewed and thus not easy to partition using a field and ensuring even distribution\r\n\r\nusually you'd use salting to handle skewed data to improve this. the performance won't go far without handling skewness properly.\r\n\r\nHope these would help.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025300721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025303976","html_url":"https://github.com/apache/hudi/issues/3747#issuecomment-1025303976","issue_url":"https://api.github.com/repos/apache/hudi/issues/3747","id":1025303976,"node_id":"IC_kwDOBI7nWM49HOWo","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T01:43:35Z","updated_at":"2022-01-31T01:43:35Z","author_association":"MEMBER","body":"@stym06 thanks for filing https://issues.apache.org/jira/browse/HUDI-2733 and the patch. Let's continue collaborating from there.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025303976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025307418","html_url":"https://github.com/apache/hudi/issues/3215#issuecomment-1025307418","issue_url":"https://api.github.com/repos/apache/hudi/issues/3215","id":1025307418,"node_id":"IC_kwDOBI7nWM49HPMa","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T01:53:01Z","updated_at":"2022-01-31T01:53:01Z","author_association":"MEMBER","body":"@anikait-rao have you got the problem resolved?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025307418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025308955","html_url":"https://github.com/apache/hudi/issues/3680#issuecomment-1025308955","issue_url":"https://api.github.com/repos/apache/hudi/issues/3680","id":1025308955,"node_id":"IC_kwDOBI7nWM49HPkb","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T01:58:18Z","updated_at":"2022-01-31T01:58:18Z","author_association":"MEMBER","body":"@Cherry-Puppy @zhouhongyu888 we're closing this assuming you had the problem resolved by @danny0405 in other channel. Any follow-up comment feel free to post here. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025308955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025352891","html_url":"https://github.com/apache/hudi/issues/3707#issuecomment-1025352891","issue_url":"https://api.github.com/repos/apache/hudi/issues/3707","id":1025352891,"node_id":"IC_kwDOBI7nWM49HaS7","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T03:54:39Z","updated_at":"2022-01-31T03:54:39Z","author_association":"MEMBER","body":"@ibudanaev-crunchyroll I hope your problem was resolved given flink 1.13.x was supported.\r\n@awsalialem Hope @danny0405 's reply gave you the pointer to your dependency problem https://github.com/apache/hudi/issues/3707#issuecomment-960472407\r\n\r\nClosing this now.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025352891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025353895","html_url":"https://github.com/apache/hudi/issues/3711#issuecomment-1025353895","issue_url":"https://api.github.com/repos/apache/hudi/issues/3711","id":1025353895,"node_id":"IC_kwDOBI7nWM49Hain","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T03:58:51Z","updated_at":"2022-01-31T03:58:51Z","author_association":"MEMBER","body":"Closing due to inactive","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025353895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025355020","html_url":"https://github.com/apache/hudi/pull/1817#issuecomment-1025355020","issue_url":"https://api.github.com/repos/apache/hudi/issues/1817","id":1025355020,"node_id":"IC_kwDOBI7nWM49Ha0M","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T04:02:14Z","updated_at":"2022-01-31T04:02:14Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"304061316e3f633fef102f9f217c3e446ce14156\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"304061316e3f633fef102f9f217c3e446ce14156\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 304061316e3f633fef102f9f217c3e446ce14156 UNKNOWN\n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025355020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025355089","html_url":"https://github.com/apache/hudi/pull/2419#issuecomment-1025355089","issue_url":"https://api.github.com/repos/apache/hudi/issues/2419","id":1025355089,"node_id":"IC_kwDOBI7nWM49Ha1R","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T04:02:24Z","updated_at":"2022-01-31T04:02:24Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"ba6e4d2888efe9cfbc1b7fcc6897b97a4ad68a1b\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"ba6e4d2888efe9cfbc1b7fcc6897b97a4ad68a1b\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* ba6e4d2888efe9cfbc1b7fcc6897b97a4ad68a1b UNKNOWN\n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025355089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025415663","html_url":"https://github.com/apache/hudi/issues/4627#issuecomment-1025415663","issue_url":"https://api.github.com/repos/apache/hudi/issues/4627","id":1025415663,"node_id":"IC_kwDOBI7nWM49Hpnv","user":{"login":"melin","id":1145830,"node_id":"MDQ6VXNlcjExNDU4MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1145830?v=4","gravatar_id":"","url":"https://api.github.com/users/melin","html_url":"https://github.com/melin","followers_url":"https://api.github.com/users/melin/followers","following_url":"https://api.github.com/users/melin/following{/other_user}","gists_url":"https://api.github.com/users/melin/gists{/gist_id}","starred_url":"https://api.github.com/users/melin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/melin/subscriptions","organizations_url":"https://api.github.com/users/melin/orgs","repos_url":"https://api.github.com/users/melin/repos","events_url":"https://api.github.com/users/melin/events{/privacy}","received_events_url":"https://api.github.com/users/melin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T06:18:34Z","updated_at":"2022-01-31T16:13:27Z","author_association":"NONE","body":"@xushiyan In many large enterprises, especially banks, there is a strong DEMAND for BI. Leaders need to look at BI charts every day. As data gradually increases, BI queries are slow, which will drive the acceleration of queries. Pre-accelerated data is required to meet requirements. Dremio can meet this need by analyzing historical SQL and automating accelerated data.\r\n\r\nHudi has a lot of features that Iceberg doesn't, so we tend to use hudi. But Dremio does not currently support Hudi.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025415663/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025422834","html_url":"https://github.com/apache/hudi/issues/4154#issuecomment-1025422834","issue_url":"https://api.github.com/repos/apache/hudi/issues/4154","id":1025422834,"node_id":"IC_kwDOBI7nWM49HrXy","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T06:29:57Z","updated_at":"2022-01-31T06:29:57Z","author_association":"MEMBER","body":"FYI @codope, can you take this please?\r\n\r\n> Hi team @nsivabalan, I only tested with Hive yesterday and it worked. However, testing with Presto `0.247` now and I still cannot read the table correctly.\r\n> \r\n> I did some research and found out Hudi was bumped to `0.9.0` in PrestoDB `0.265` ([PR](https://github.com/prestodb/presto/commit/b52db2c4c2baa720489ae3908acd9303a41081fc), [release notes](https://prestodb.io/docs/current/release/release-0.265.html)). For Presto `<0.265`, Hudi `0.5.3` is installed.\r\n> \r\n> I believe that's where the problem is. My version of Presto only has Hudi `0.5.3` and thus I cannot correctly read replacecommit files.\r\n> \r\n> The [Hudi docs](https://hudi.apache.org/docs/query_engine_setup#PrestoDB) do not mention anything about this issue. It only says \"Presto >= 0.240 | No action needed. Hudi 0.5.3 version is a compile time dependency.\"\r\n> \r\n> Am I correct assuming Hudi `0.5.3` cannot correctly read replacecommit files? If yes, could we maybe update the Docs to reflect this?\r\n> \r\n> Thank you\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025422834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025423884","html_url":"https://github.com/apache/hudi/pull/3964#issuecomment-1025423884","issue_url":"https://api.github.com/repos/apache/hudi/issues/3964","id":1025423884,"node_id":"IC_kwDOBI7nWM49HroM","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T06:32:39Z","updated_at":"2022-01-31T06:32:39Z","author_association":"MEMBER","body":"> @leesf : I did not go through the lineage of this patch. But I do know we landed the another PR related to spark datasource V2. so, is this patch still valid or can we close it out.\r\n\r\n@nsivabalan this is the RFC PR. Current work is in https://github.com/apache/hudi/pull/4611","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025423884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025661408","html_url":"https://github.com/apache/hudi/issues/4675#issuecomment-1025661408","issue_url":"https://api.github.com/repos/apache/hudi/issues/4675","id":1025661408,"node_id":"IC_kwDOBI7nWM49Ilng","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T11:55:44Z","updated_at":"2022-01-31T11:55:44Z","author_association":"CONTRIBUTOR","body":"yeah. I can't think of other options. What @ganczarek suggested makes sense. KeyGenUtils is where hive style partitioning is enforced. \r\n```\r\n  public static String getPartitionPath(GenericRecord record, String partitionPathField,\r\n      boolean hiveStylePartitioning, boolean encodePartitionPath, boolean consistentLogicalTimestampEnabled) {\r\n    String partitionPath = HoodieAvroUtils.getNestedFieldValAsString(record, partitionPathField, true, consistentLogicalTimestampEnabled);\r\n    if (partitionPath == null || partitionPath.isEmpty()) {\r\n      partitionPath = HUDI_DEFAULT_PARTITION_PATH;\r\n    }\r\n    if (encodePartitionPath) {\r\n      partitionPath = PartitionPathEncodeUtils.escapePathName(partitionPath);\r\n    }\r\n    if (hiveStylePartitioning) {\r\n      partitionPath = partitionPathField + \"=\" + partitionPath;\r\n    }\r\n    return partitionPath;\r\n  }\r\n```\r\n\r\nIf you can put up a patch against 0.5.0, we can take a look to see if something is missing. Unfortunately we don't backport fixes. \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025661408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025672081","html_url":"https://github.com/apache/hudi/issues/4666#issuecomment-1025672081","issue_url":"https://api.github.com/repos/apache/hudi/issues/4666","id":1025672081,"node_id":"IC_kwDOBI7nWM49IoOR","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T12:08:26Z","updated_at":"2022-01-31T12:08:26Z","author_association":"CONTRIBUTOR","body":"hey @ganczarek : looks like there is a bug https://issues.apache.org/jira/browse/HUDI-3346.  we will work on the fix. should be straight forward. Atleast in this case, manually deleting the commit meta file just for this instant should be fine. Here is what could have resulted in this. \r\n\r\nJust before downgrade, a commit was started, but before going into inflight or before a single marker file could be created, the process crashed. And so there is no marker dir only created for this commit. Downgrade code missed to check for existence in one place (but there are other places where this check is made) and so it failed. \r\n\r\nI have created a tracking [ticket](https://issues.apache.org/jira/browse/HUDI-3346) here. We are good to close this. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025672081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025687351","html_url":"https://github.com/apache/hudi/issues/3879#issuecomment-1025687351","issue_url":"https://api.github.com/repos/apache/hudi/issues/3879","id":1025687351,"node_id":"IC_kwDOBI7nWM49Ir83","user":{"login":"jardel-lima","id":8856227,"node_id":"MDQ6VXNlcjg4NTYyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8856227?v=4","gravatar_id":"","url":"https://api.github.com/users/jardel-lima","html_url":"https://github.com/jardel-lima","followers_url":"https://api.github.com/users/jardel-lima/followers","following_url":"https://api.github.com/users/jardel-lima/following{/other_user}","gists_url":"https://api.github.com/users/jardel-lima/gists{/gist_id}","starred_url":"https://api.github.com/users/jardel-lima/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jardel-lima/subscriptions","organizations_url":"https://api.github.com/users/jardel-lima/orgs","repos_url":"https://api.github.com/users/jardel-lima/repos","events_url":"https://api.github.com/users/jardel-lima/events{/privacy}","received_events_url":"https://api.github.com/users/jardel-lima/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T12:25:57Z","updated_at":"2022-01-31T12:25:57Z","author_association":"NONE","body":"Hi @nsivabalan. There is a partition column called `PARTITION`. As it is a partition column you may have to load the dataset using relative path, `./anonymous_dataset`.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025687351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025699670","html_url":"https://github.com/apache/hudi/issues/4411#issuecomment-1025699670","issue_url":"https://api.github.com/repos/apache/hudi/issues/4411","id":1025699670,"node_id":"IC_kwDOBI7nWM49Iu9W","user":{"login":"rajgowtham24","id":68343070,"node_id":"MDQ6VXNlcjY4MzQzMDcw","avatar_url":"https://avatars.githubusercontent.com/u/68343070?v=4","gravatar_id":"","url":"https://api.github.com/users/rajgowtham24","html_url":"https://github.com/rajgowtham24","followers_url":"https://api.github.com/users/rajgowtham24/followers","following_url":"https://api.github.com/users/rajgowtham24/following{/other_user}","gists_url":"https://api.github.com/users/rajgowtham24/gists{/gist_id}","starred_url":"https://api.github.com/users/rajgowtham24/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajgowtham24/subscriptions","organizations_url":"https://api.github.com/users/rajgowtham24/orgs","repos_url":"https://api.github.com/users/rajgowtham24/repos","events_url":"https://api.github.com/users/rajgowtham24/events{/privacy}","received_events_url":"https://api.github.com/users/rajgowtham24/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T12:41:20Z","updated_at":"2022-01-31T12:41:20Z","author_association":"NONE","body":"> > @xushiyan - in 0.5.0, NonpartitionedKeyGenerator doesn't support Composite Primary Keys, so we have used ComplexKeyGenerator and the querying works as expected through Presto 0.230 and not in Presto 0.245.1\r\n> \r\n> @rajgowtham24 Ok do you mean the issue resolved with Presto 0.230 ?\r\n\r\nyes @xushiyan ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025699670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025712431","html_url":"https://github.com/apache/hudi/issues/4700#issuecomment-1025712431","issue_url":"https://api.github.com/repos/apache/hudi/issues/4700","id":1025712431,"node_id":"IC_kwDOBI7nWM49IyEv","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T12:58:57Z","updated_at":"2022-01-31T13:02:37Z","author_association":"CONTRIBUTOR","body":"Did you try via jdbc. I could able to get it working. with hms, I am running into some other issue though. \r\n```\r\nscala>  df2.write.format(\"hudi\").\r\n     |         options(getQuickstartWriteConfigs).\r\n     |         option(PRECOMBINE_FIELD_OPT_KEY, \"preComb\").\r\n     |         option(RECORDKEY_FIELD_OPT_KEY, \"row\").\r\n     |         option(PARTITIONPATH_FIELD_OPT_KEY, \"ppath\").\r\n     |         option(\"hoodie.datasource.write.keygenerator.class\",\"org.apache.hudi.keygen.TimestampBasedKeyGenerator\").\r\n     |         option(\"hoodie.deltastreamer.keygen.timebased.timestamp.type\",\"EPOCHMILLISECONDS\").\r\n     |         option(\"hoodie.deltastreamer.keygen.timebased.output.dateformat\",\"yyyy/MM/dd\").\r\n     |         option(\"hoodie.deltastreamer.keygen.timebased.timezone\",\"GMT+8:00\").\r\n     |         option(\"hoodie.datasource.hive_sync.mode\",\"hms\").\r\n     |         option(\"hoodie.datasource.hive_sync.database\",\"default\").\r\n     |         option(\"hoodie.datasource.hive_sync.table\",\"timestamp_tbl1\").\r\n     |         option(\"hoodie.datasource.hive_sync.partition_fields\",\"year,month,day\").\r\n     |         option(\"hoodie.datasource.hive_sync.enable\",\"true\").\r\n     |         option(TABLE_NAME, \"timestamp_tbl1\").\r\n     |         mode(Append).\r\n     |         save(\"/tmp/hudi_timestamp_tbl1\")\r\nwarning: there was one deprecation warning; re-run with -deprecation for details\r\n01:00  WARN: Timeline-server-based markers are not supported for HDFS: base path /tmp/hudi_timestamp_tbl1.  Falling back to direct markers.\r\n01:00  WARN: Timeline-server-based markers are not supported for HDFS: base path /tmp/hudi_timestamp_tbl1.  Falling back to direct markers.\r\n01:01  WARN: Timeline-server-based markers are not supported for HDFS: base path /tmp/hudi_timestamp_tbl1.  Falling back to direct markers.\r\njava.lang.NoSuchMethodError: org.apache.hadoop.hive.metastore.IMetaStoreClient.alter_table_with_environmentContext(Ljava/lang/String;Ljava/lang/String;Lorg/apache/hadoop/hive/metastore/api/Table;Lorg/apache/hadoop/hive/metastore/api/EnvironmentContext;)V\r\n  at org.apache.hudi.hive.ddl.HMSDDLExecutor.updateTableDefinition(HMSDDLExecutor.java:146)\r\n  at org.apache.hudi.hive.HoodieHiveClient.updateTableDefinition(HoodieHiveClient.java:184)\r\n  at org.apache.hudi.hive.HiveSyncTool.syncSchema(HiveSyncTool.java:250)\r\n  at org.apache.hudi.hive.HiveSyncTool.syncHoodieTable(HiveSyncTool.java:182)\r\n  at org.apache.hudi.hive.HiveSyncTool.doSync(HiveSyncTool.java:131)\r\n  at org.apache.hudi.hive.HiveSyncTool.syncHoodieTable(HiveSyncTool.java:117)\r\n  at org.apache.hudi.HoodieSparkSqlWriter$.org$apache$hudi$HoodieSparkSqlWriter$$syncHive(HoodieSparkSqlWriter.scala:537)\r\n  at org.apache.hudi.HoodieSparkSqlWriter$$anonfun$metaSync$2.apply(HoodieSparkSqlWriter.scala:593)\r\n  at org.apache.hudi.HoodieSparkSqlWriter$$anonfun$metaSync$2.apply(HoodieSparkSqlWriter.scala:589)\r\n  at scala.collection.mutable.HashSet.foreach(HashSet.scala:78)\r\n  at org.apache.hudi.HoodieSparkSqlWriter$.metaSync(HoodieSparkSqlWriter.scala:589)\r\n  at org.apache.hudi.HoodieSparkSqlWriter$.commitAndPerformPostOperations(HoodieSparkSqlWriter.scala:662)\r\n  at org.apache.hudi.HoodieSparkSqlWriter$.write(HoodieSparkSqlWriter.scala:282)\r\n  at org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:164)\r\n  at org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:45)\r\n  at org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\r\n  at org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\r\n  at org.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:86)\r\n  at org.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:131)\r\n  at org.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:127)\r\n  at org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:155)\r\n  at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n  at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:152)\r\n  at org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:127)\r\n  at org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:80)\r\n  at org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:80)\r\n  at org.apache.spark.sql.DataFrameWriter$$anonfun$runCommand$1.apply(DataFrameWriter.scala:676)\r\n  at org.apache.spark.sql.DataFrameWriter$$anonfun$runCommand$1.apply(DataFrameWriter.scala:676)\r\n  at org.apache.spark.sql.execution.SQLExecution$$anonfun$withNewExecutionId$1.apply(SQLExecution.scala:78)\r\n  at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:125)\r\n  at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:73)\r\n  at org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:676)\r\n  at org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:285)\r\n  at org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:271)\r\n  at org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:229)\r\n  ... 79 elided\r\n\r\nscala> \r\n\r\n```\r\n\r\n\r\nSteps that worked w/ jdbc:\r\n\r\n1. set up docker demo script.\r\n2. adhoc-1 : launch spark shell\r\n\r\n$SPARK_INSTALL/bin/spark-shell   --jars $HUDI_SPARK_BUNDLE   --master local[2]   --driver-class-path $HADOOP_CONF_DIR   --conf spark.sql.hive.convertMetastoreParquet=false   --deploy-mode client   --driver-memory 1G   --executor-memory 3G   --num-executors 1   --packages org.apache.spark:spark-avro_2.11:2.4.4\r\n\r\n```\r\n\r\nimport java.sql.Timestamp\r\nimport spark.implicits._\r\n\r\nimport org.apache.hudi.QuickstartUtils._\r\nimport scala.collection.JavaConversions._\r\nimport org.apache.spark.sql.SaveMode._\r\nimport org.apache.hudi.DataSourceReadOptions._\r\nimport org.apache.hudi.DataSourceWriteOptions._\r\nimport org.apache.hudi.config.HoodieWriteConfig._\r\n\r\n\r\nval df1 = Seq(\r\n        (\"row1\", 1, \"part1\" ,1578283932000L ),\r\n        (\"row2\", 1, \"part1\", 1578283942000L)\r\n      ).toDF(\"row\", \"ppath\", \"preComb\",\"eventTime\")\r\n\r\n\r\n df1.write.format(\"hudi\").\r\n        options(getQuickstartWriteConfigs).\r\n        option(PRECOMBINE_FIELD_OPT_KEY, \"preComb\").\r\n        option(RECORDKEY_FIELD_OPT_KEY, \"row\").\r\n        option(PARTITIONPATH_FIELD_OPT_KEY, \"ppath\").\r\n        option(\"hoodie.datasource.write.keygenerator.class\",\"org.apache.hudi.keygen.TimestampBasedKeyGenerator\").\r\n        option(\"hoodie.deltastreamer.keygen.timebased.timestamp.type\",\"EPOCHMILLISECONDS\").\r\n        option(\"hoodie.deltastreamer.keygen.timebased.output.dateformat\",\"yyyy/MM/dd\").\r\n        option(\"hoodie.deltastreamer.keygen.timebased.timezone\",\"GMT+8:00\").\r\n        option(\"hoodie.datasource.hive_sync.mode\",\"jdbc\").\r\n        option(\"hoodie.datasource.hive_sync.jdbcurl\",\"jdbc:hive2://hiveserver:10000\").\r\n        option(\"hoodie.datasource.hive_sync.database\",\"default\").\r\n        option(\"hoodie.datasource.hive_sync.table\",\"timestamp_tbl1\").\r\n        option(\"hoodie.datasource.hive_sync.partition_fields\",\"year,month,day\").\r\n        option(\"hoodie.datasource.hive_sync.enable\",\"true\").\r\n        option(TABLE_NAME, \"timestamp_tbl1\").\r\n        mode(Overwrite).\r\n        save(\"/tmp/hudi_timestamp_tbl1\")\r\n\r\n\r\n// schema evolution\r\n\r\nval df2 = Seq(\r\n        (\"row1\", 1, \"part1\" ,1678283932000L, \"abcd\" ),\r\n        (\"row2\", 1, \"part1\", 1678283942000L, \"defg\")\r\n      ).toDF(\"row\", \"ppath\", \"preComb\", \"eventTime\", \"randomStr\")\r\n\r\n\r\n\r\n df2.write.format(\"hudi\").\r\n        options(getQuickstartWriteConfigs).\r\n        option(PRECOMBINE_FIELD_OPT_KEY, \"preComb\").\r\n        option(RECORDKEY_FIELD_OPT_KEY, \"row\").\r\n        option(PARTITIONPATH_FIELD_OPT_KEY, \"ppath\").\r\n        option(\"hoodie.datasource.write.keygenerator.class\",\"org.apache.hudi.keygen.TimestampBasedKeyGenerator\").\r\n        option(\"hoodie.deltastreamer.keygen.timebased.timestamp.type\",\"EPOCHMILLISECONDS\").\r\n        option(\"hoodie.deltastreamer.keygen.timebased.output.dateformat\",\"yyyy/MM/dd\").\r\n        option(\"hoodie.deltastreamer.keygen.timebased.timezone\",\"GMT+8:00\").\r\n        option(\"hoodie.datasource.hive_sync.mode\",\"jdbc\").\r\n        option(\"hoodie.datasource.hive_sync.jdbcurl\",\"jdbc:hive2://hiveserver:10000\").\r\n        option(\"hoodie.datasource.hive_sync.database\",\"default\").\r\n        option(\"hoodie.datasource.hive_sync.table\",\"timestamp_tbl1\").\r\n        option(\"hoodie.datasource.hive_sync.partition_fields\",\"year,month,day\").\r\n        option(\"hoodie.datasource.hive_sync.enable\",\"true\").\r\n        option(TABLE_NAME, \"timestamp_tbl1\").\r\n        mode(Append).\r\n        save(\"/tmp/hudi_timestamp_tbl1\")\r\n\r\n```\r\n\r\n// check beeline\r\nadhoc-2\r\n\r\n```\r\nbeeline -u jdbc:hive2://hiveserver:10000   --hiveconf hive.input.format=org.apache.hadoop.hive.ql.io.HiveInputFormat   --hiveconf hive.stats.autogather=false\r\n\r\ndesc timestamp_tbl1;\r\n+--------------------------+-----------------------+-----------------------+--+\r\n|         col_name         |       data_type       |        comment        |\r\n+--------------------------+-----------------------+-----------------------+--+\r\n| _hoodie_commit_time      | string                |                       |\r\n| _hoodie_commit_seqno     | string                |                       |\r\n| _hoodie_record_key       | string                |                       |\r\n| _hoodie_partition_path   | string                |                       |\r\n| _hoodie_file_name        | string                |                       |\r\n| row                      | string                |                       |\r\n| ppath                    | int                   |                       |\r\n| precomb                  | string                |                       |\r\n| eventtime                | bigint                |                       |\r\n| randomstr                | string                |                       |\r\n| year                     | string                |                       |\r\n| month                    | string                |                       |\r\n| day                      | string                |                       |\r\n|                          | NULL                  | NULL                  |\r\n| # Partition Information  | NULL                  | NULL                  |\r\n| # col_name               | data_type             | comment               |\r\n|                          | NULL                  | NULL                  |\r\n| year                     | string                |                       |\r\n| month                    | string                |                       |\r\n| day                      | string                |                       |\r\n+--------------------------+-----------------------+-----------------------+--+\r\n\r\n```\r\n\r\nrandomStr is the new column added.\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025712431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025714799","html_url":"https://github.com/apache/hudi/issues/4700#issuecomment-1025714799","issue_url":"https://api.github.com/repos/apache/hudi/issues/4700","id":1025714799,"node_id":"IC_kwDOBI7nWM49Iypv","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T13:01:57Z","updated_at":"2022-01-31T13:01:57Z","author_association":"CONTRIBUTOR","body":"have filed a tracking jira for hms : https://issues.apache.org/jira/browse/HUDI-3347\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025714799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025794753","html_url":"https://github.com/apache/hudi/issues/4621#issuecomment-1025794753","issue_url":"https://api.github.com/repos/apache/hudi/issues/4621","id":1025794753,"node_id":"IC_kwDOBI7nWM49JGLB","user":{"login":"data-storyteller","id":84978833,"node_id":"MDQ6VXNlcjg0OTc4ODMz","avatar_url":"https://avatars.githubusercontent.com/u/84978833?v=4","gravatar_id":"","url":"https://api.github.com/users/data-storyteller","html_url":"https://github.com/data-storyteller","followers_url":"https://api.github.com/users/data-storyteller/followers","following_url":"https://api.github.com/users/data-storyteller/following{/other_user}","gists_url":"https://api.github.com/users/data-storyteller/gists{/gist_id}","starred_url":"https://api.github.com/users/data-storyteller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/data-storyteller/subscriptions","organizations_url":"https://api.github.com/users/data-storyteller/orgs","repos_url":"https://api.github.com/users/data-storyteller/repos","events_url":"https://api.github.com/users/data-storyteller/events{/privacy}","received_events_url":"https://api.github.com/users/data-storyteller/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T14:26:54Z","updated_at":"2022-01-31T14:26:54Z","author_association":"CONTRIBUTOR","body":"Thanks @nsivabalan for fix.  This issue is resolved now.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025794753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025823755","html_url":"https://github.com/apache/hudi/pull/4721#issuecomment-1025823755","issue_url":"https://api.github.com/repos/apache/hudi/issues/4721","id":1025823755,"node_id":"IC_kwDOBI7nWM49JNQL","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T14:47:41Z","updated_at":"2022-01-31T14:47:41Z","author_association":"CONTRIBUTOR","body":"thanks @zhangyue19921010 for the contribution. This will definitely be useful. I will review in couple of days. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025823755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025857480","html_url":"https://github.com/apache/hudi/issues/4719#issuecomment-1025857480","issue_url":"https://api.github.com/repos/apache/hudi/issues/4719","id":1025857480,"node_id":"IC_kwDOBI7nWM49JVfI","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T15:07:43Z","updated_at":"2022-01-31T15:07:43Z","author_association":"CONTRIBUTOR","body":"@FelixKJose : \r\nwhich version of hudi are you using? \r\nAlso, did you try deleting metadata directory manually or something. I see exception as \"IllegalArgumentException: must be at-least one valid metadata file slice\". This can happen only if metadata table is deemed to be available, but there are no contents. But in general, metadata table had few bugs and we have fixed quite a few in 0.10.0. So, if you are using older versions, would recommend to upgrade to 0.10.0. \r\n\r\nCC @prashantwason : Can you spot anything as to why this exception could occur. \r\nCC @manojpec @yihua ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025857480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025961031","html_url":"https://github.com/apache/hudi/issues/4719#issuecomment-1025961031","issue_url":"https://api.github.com/repos/apache/hudi/issues/4719","id":1025961031,"node_id":"IC_kwDOBI7nWM49JuxH","user":{"login":"FelixKJose","id":22526075,"node_id":"MDQ6VXNlcjIyNTI2MDc1","avatar_url":"https://avatars.githubusercontent.com/u/22526075?v=4","gravatar_id":"","url":"https://api.github.com/users/FelixKJose","html_url":"https://github.com/FelixKJose","followers_url":"https://api.github.com/users/FelixKJose/followers","following_url":"https://api.github.com/users/FelixKJose/following{/other_user}","gists_url":"https://api.github.com/users/FelixKJose/gists{/gist_id}","starred_url":"https://api.github.com/users/FelixKJose/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FelixKJose/subscriptions","organizations_url":"https://api.github.com/users/FelixKJose/orgs","repos_url":"https://api.github.com/users/FelixKJose/repos","events_url":"https://api.github.com/users/FelixKJose/events{/privacy}","received_events_url":"https://api.github.com/users/FelixKJose/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T16:23:22Z","updated_at":"2022-01-31T16:23:22Z","author_association":"NONE","body":"@nsivabalan \r\nHudi version: 0.9.0-amzn-1\r\nAWS EMR: 6.5.0\r\nI haven't deleted anything manually.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025961031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025972707","html_url":"https://github.com/apache/hudi/issues/4700#issuecomment-1025972707","issue_url":"https://api.github.com/repos/apache/hudi/issues/4700","id":1025972707,"node_id":"IC_kwDOBI7nWM49Jxnj","user":{"login":"117th","id":35868790,"node_id":"MDQ6VXNlcjM1ODY4Nzkw","avatar_url":"https://avatars.githubusercontent.com/u/35868790?v=4","gravatar_id":"","url":"https://api.github.com/users/117th","html_url":"https://github.com/117th","followers_url":"https://api.github.com/users/117th/followers","following_url":"https://api.github.com/users/117th/following{/other_user}","gists_url":"https://api.github.com/users/117th/gists{/gist_id}","starred_url":"https://api.github.com/users/117th/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/117th/subscriptions","organizations_url":"https://api.github.com/users/117th/orgs","repos_url":"https://api.github.com/users/117th/repos","events_url":"https://api.github.com/users/117th/events{/privacy}","received_events_url":"https://api.github.com/users/117th/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T16:34:28Z","updated_at":"2022-01-31T16:34:41Z","author_association":"NONE","body":"@xushiyan I will try with 2.3.3, but it might take some time because devops team have to run it in K8s. I'll come back after getting some results, thnx. Feels like my problem actually hides among version mismatch\r\n\r\n@nsivabalan actually I've tried using JDBC but got following error \r\n```\r\nCaused by: org.apache.spark.sql.AnalysisException: Cannot persist some_table into Hive metastore as table property keys may\r\n not start with 'spark.sql.': [spark.sql.sources.provider, spark.sql.sources.schema.partCol.0, spark.sql.sources.schema.numParts, spark.sql.sources.schema.numP\r\nartCols, spark.sql.sources.schema.part.0]\r\n```\r\nWe (with colleagues) haven't move forward on JDBC sync on K8s, but AFAIK it actually works with AWS EMR and Hive 3.1.x\r\nSo, we tried to switch to HMS sync on kubernetes and as you see it doesn't as smooth as we previously thought","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025972707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025974598","html_url":"https://github.com/apache/hudi/issues/4666#issuecomment-1025974598","issue_url":"https://api.github.com/repos/apache/hudi/issues/4666","id":1025974598,"node_id":"IC_kwDOBI7nWM49JyFG","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T16:36:23Z","updated_at":"2022-01-31T16:36:23Z","author_association":"CONTRIBUTOR","body":"@ganczarek : Can you verify if [this](https://github.com/apache/hudi/pull/4726) fix works. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1025974598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026004640","html_url":"https://github.com/apache/hudi/issues/4411#issuecomment-1026004640","issue_url":"https://api.github.com/repos/apache/hudi/issues/4411","id":1026004640,"node_id":"IC_kwDOBI7nWM49J5ag","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T17:06:37Z","updated_at":"2022-01-31T17:06:37Z","author_association":"MEMBER","body":"@rajgowtham24 thanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026004640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026063497","html_url":"https://github.com/apache/hudi/pull/4726#issuecomment-1026063497","issue_url":"https://api.github.com/repos/apache/hudi/issues/4726","id":1026063497,"node_id":"IC_kwDOBI7nWM49KHyJ","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T18:09:59Z","updated_at":"2022-01-31T18:09:59Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"c2bf29da80d1c75c6089d5ae99d10fcb12645dc9\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5622\",\n    \"triggerID\" : \"c2bf29da80d1c75c6089d5ae99d10fcb12645dc9\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* c2bf29da80d1c75c6089d5ae99d10fcb12645dc9 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5622) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026063497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026075330","html_url":"https://github.com/apache/hudi/issues/4719#issuecomment-1026075330","issue_url":"https://api.github.com/repos/apache/hudi/issues/4719","id":1026075330,"node_id":"IC_kwDOBI7nWM49KKrC","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T18:23:04Z","updated_at":"2022-01-31T18:23:04Z","author_association":"MEMBER","body":"Being in 0.9, this may be because of[ pending compaction](https://issues.apache.org/jira/browse/HUDI-2923)\r\n\r\nThe file system slices are read in [HoodieBackedTableMetadata](https://github.com/apache/hudi/blob/178767948e906f673d6d4a357c65c11bc574f619/hudi-common/src/main/java/org/apache/hudi/metadata/HoodieBackedTableMetadata.java#L107) as:\r\n     latestFileSystemMetadataSlices = fsView.getLatestFileSlices(MetadataPartitionType.FILES.partitionPath()).collect(Collectors.toList());\r\n\r\nIf the files partition is under compaction, the number of file slices returned can be > 1 which leads to this exception being raised.\r\n\r\nTo validate, check if:\r\n1. There is a pending/failed compaction by listing the .hoodie folder. It should have a .commit.requested or .commit.inflight \r\n\r\nI think we need to port these two PRs to fix this:\r\nhttps://github.com/apache/hudi/pull/4206\r\nhttps://github.com/apache/hudi/pull/4218\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026075330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026077687","html_url":"https://github.com/apache/hudi/issues/4719#issuecomment-1026077687","issue_url":"https://api.github.com/repos/apache/hudi/issues/4719","id":1026077687,"node_id":"IC_kwDOBI7nWM49KLP3","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T18:25:47Z","updated_at":"2022-01-31T18:25:47Z","author_association":"MEMBER","body":"Another possible issue (exists in 0.9 and older versions only):\r\n1. List the files partition - .hoodie/metadata/files\r\n2. If there are two different log files with different fileIDs then this is an issue in [SparkBackedTableMetadataWriter::prepRecords](https://github.com/apache/hudi/blob/178767948e906f673d6d4a357c65c11bc574f619/hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/metadata/SparkHoodieBackedTableMetadataWriter.java#L141). We found this issue in production last week on 0.7 version and it was fixed only in 0.10 version.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026077687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026160538","html_url":"https://github.com/apache/hudi/issues/4552#issuecomment-1026160538","issue_url":"https://api.github.com/repos/apache/hudi/issues/4552","id":1026160538,"node_id":"IC_kwDOBI7nWM49Kfea","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T20:06:24Z","updated_at":"2022-01-31T22:36:03Z","author_association":"CONTRIBUTOR","body":"@YannByron : Looks like the timestamp consistency fix we(guess you and sagar) landed might have some gaps. Do you think you can follow up here please? \r\nEssentially try a bulk_insert and then an upsert for same set of record keys with timestamp as one of the columns has some issues.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026160538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026167762","html_url":"https://github.com/apache/hudi/pull/4712#issuecomment-1026167762","issue_url":"https://api.github.com/repos/apache/hudi/issues/4712","id":1026167762,"node_id":"IC_kwDOBI7nWM49KhPS","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T20:14:33Z","updated_at":"2022-01-31T20:14:33Z","author_association":"CONTRIBUTOR","body":"can you help understand this scenario:\r\n1. lets say we take a backup. and delete original table config. start writing new table config w/ updates. but crashed mid -way. Until we restart the hudi writer, primary table config is in corrupted state and backup property file is in good state. So, during this, what does reader do? do they get routed to backup or original? \r\n2. If in above case, if crash happens mid-way, lets say out of 10 entries, only 5 got added, and if readers are using the primary copy to read table props, wouldn't they be reading partial table props? \r\nProbably this has nothing to do w/ the checksum patch I guess. but wanted to understand in general. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026167762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026221672","html_url":"https://github.com/apache/hudi/pull/4705#issuecomment-1026221672","issue_url":"https://api.github.com/repos/apache/hudi/issues/4705","id":1026221672,"node_id":"IC_kwDOBI7nWM49KuZo","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T21:20:16Z","updated_at":"2022-01-31T21:20:16Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026221672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026233065","html_url":"https://github.com/apache/hudi/pull/4710#issuecomment-1026233065","issue_url":"https://api.github.com/repos/apache/hudi/issues/4710","id":1026233065,"node_id":"IC_kwDOBI7nWM49KxLp","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T21:33:17Z","updated_at":"2022-01-31T21:33:17Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"2cb81fb4f433cd3b99716d70f3751ea2782bfc0a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5573\",\n    \"triggerID\" : \"2cb81fb4f433cd3b99716d70f3751ea2782bfc0a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"18d1b71eefff87e29f56e29a7f8233e13fec04d6\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5624\",\n    \"triggerID\" : \"18d1b71eefff87e29f56e29a7f8233e13fec04d6\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"ff0d6fde6e8c5b3f9aa4b8ebaeb8ad18ca90a147\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5625\",\n    \"triggerID\" : \"ff0d6fde6e8c5b3f9aa4b8ebaeb8ad18ca90a147\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"5c5e4fed04a0048ad25022c9a1f60a5f178d538a\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"5c5e4fed04a0048ad25022c9a1f60a5f178d538a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"1397169dbc5a05e682126070572b77c056221944\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5626\",\n    \"triggerID\" : \"1397169dbc5a05e682126070572b77c056221944\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"af2d6b7f7f82267d64ec4c46d05823b0fb14effd\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5627\",\n    \"triggerID\" : \"af2d6b7f7f82267d64ec4c46d05823b0fb14effd\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 5c5e4fed04a0048ad25022c9a1f60a5f178d538a UNKNOWN\n* af2d6b7f7f82267d64ec4c46d05823b0fb14effd Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5627) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026233065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026246434","html_url":"https://github.com/apache/hudi/pull/4716#issuecomment-1026246434","issue_url":"https://api.github.com/repos/apache/hudi/issues/4716","id":1026246434,"node_id":"IC_kwDOBI7nWM49K0ci","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T21:49:51Z","updated_at":"2022-01-31T21:49:51Z","author_association":"CONTRIBUTOR","body":">Here is my understanding of the fix.\r\nWe fix the rollback plan generated in ListingBasedStrategy to just include the log files with full sizes.\r\nFor Marker bases strategy, we set file sizes to -1, but fixed the right set of log files to be included in rollback plan.\r\n\r\n> So, we still have an issue w/ how we reconcile or merge multiple metadata records.\r\nFor eg:\r\nRec1: file1 delta size 100 (commit1)\r\nRec2: file1 deltasize 200 (commit2)\r\nRec3: file1 full size 350 (rollback)\r\n\r\n> when we merge all these 3 records from metadata table, whats the final resolved record look like ? \r\n\r\nWhen we do a rollback the value in the plan (carrying the mapping of path to size)  is only used to determine whether we should _append Rollback Block_ or _delete files_. After we actually appended the Rollback Block, we now only modify the record related to the file we've appended the block to (previously we would also update all the log-files from the `writtenLogFileSizesMap`)\r\n\r\n> If you don't mind, can we add tests for the fix in this patch. The tests should fail if not the fix and should pass w/ the fix.\r\n\r\nThere are already tests covering this, which were failing in #4556 (which is how i come to fix this issues). \r\nThe reason why these were not failing is simply b/c we're not using MT table when we're reading the data back using Hive's InputFormats. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026246434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026247550","html_url":"https://github.com/apache/hudi/pull/3946#issuecomment-1026247550","issue_url":"https://api.github.com/repos/apache/hudi/issues/3946","id":1026247550,"node_id":"IC_kwDOBI7nWM49K0t-","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T21:51:25Z","updated_at":"2022-01-31T21:51:25Z","author_association":"CONTRIBUTOR","body":"@jsbali : I have made some fixes and removed the changes in DefaultSource. can you take a look.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026247550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026300648","html_url":"https://github.com/apache/hudi/pull/4669#issuecomment-1026300648","issue_url":"https://api.github.com/repos/apache/hudi/issues/4669","id":1026300648,"node_id":"IC_kwDOBI7nWM49LBro","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T23:07:53Z","updated_at":"2022-01-31T23:07:53Z","author_association":"CONTRIBUTOR","body":"@yanghua there's a long stack of PRs, and there were issues w/ Metadata Table that were failing tests in the PR at the very bottom of it. \r\n\r\nThese issues have been addressed here in https://github.com/apache/hudi/pull/4716, and as soon as it lands i'll rebase onto it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026300648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026312765","html_url":"https://github.com/apache/hudi/pull/4716#issuecomment-1026312765","issue_url":"https://api.github.com/repos/apache/hudi/issues/4716","id":1026312765,"node_id":"IC_kwDOBI7nWM49LEo9","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T23:26:22Z","updated_at":"2022-01-31T23:26:22Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"62b022ec6642cef208e7fb370f95ed0ed1c5ba83\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"62b022ec6642cef208e7fb370f95ed0ed1c5ba83\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"059ba5b6bc6ec995bf66538da8fa63bac494fd69\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5589\",\n    \"triggerID\" : \"059ba5b6bc6ec995bf66538da8fa63bac494fd69\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"bb05ceb91b62d86e5f06ae6f00a28eb57c17aa6d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5593\",\n    \"triggerID\" : \"bb05ceb91b62d86e5f06ae6f00a28eb57c17aa6d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"bb05ceb91b62d86e5f06ae6f00a28eb57c17aa6d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5598\",\n    \"triggerID\" : \"1024837464\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"550d8e3230b42b18bd7713245696f8de87d2e458\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5630\",\n    \"triggerID\" : \"550d8e3230b42b18bd7713245696f8de87d2e458\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 62b022ec6642cef208e7fb370f95ed0ed1c5ba83 UNKNOWN\n* 550d8e3230b42b18bd7713245696f8de87d2e458 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5630) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026312765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026348241","html_url":"https://github.com/apache/hudi/pull/3946#issuecomment-1026348241","issue_url":"https://api.github.com/repos/apache/hudi/issues/3946","id":1026348241,"node_id":"IC_kwDOBI7nWM49LNTR","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T00:27:20Z","updated_at":"2022-02-01T00:27:20Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"0b9e36f1ffff059737135bc804637756637866b3\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3216\",\n    \"triggerID\" : \"0b9e36f1ffff059737135bc804637756637866b3\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"68d52a32f1771ecbf34c5474fdd2f274c10df84c\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=4949\",\n    \"triggerID\" : \"68d52a32f1771ecbf34c5474fdd2f274c10df84c\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0dd4ee9c5383916be1da8248f42813d99e347ab4\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=4952\",\n    \"triggerID\" : \"0dd4ee9c5383916be1da8248f42813d99e347ab4\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"efee51e3b02e5eea5a637d0dd28d78e1978791b5\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=4987\",\n    \"triggerID\" : \"efee51e3b02e5eea5a637d0dd28d78e1978791b5\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"26636f35733b0263e06a68e5668116bfa7a1d27c\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"26636f35733b0263e06a68e5668116bfa7a1d27c\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"c135b2939f5a53c495654888c1e9cc716fe18ce7\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5629\",\n    \"triggerID\" : \"c135b2939f5a53c495654888c1e9cc716fe18ce7\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"c6bf56634e51e1c2a4cebf9e54cca4ee39e5b7ae\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5632\",\n    \"triggerID\" : \"c6bf56634e51e1c2a4cebf9e54cca4ee39e5b7ae\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 26636f35733b0263e06a68e5668116bfa7a1d27c UNKNOWN\n* c6bf56634e51e1c2a4cebf9e54cca4ee39e5b7ae Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5632) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026348241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026350821","html_url":"https://github.com/apache/hudi/pull/3946#issuecomment-1026350821","issue_url":"https://api.github.com/repos/apache/hudi/issues/3946","id":1026350821,"node_id":"IC_kwDOBI7nWM49LN7l","user":{"login":"jsbali","id":1778470,"node_id":"MDQ6VXNlcjE3Nzg0NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1778470?v=4","gravatar_id":"","url":"https://api.github.com/users/jsbali","html_url":"https://github.com/jsbali","followers_url":"https://api.github.com/users/jsbali/followers","following_url":"https://api.github.com/users/jsbali/following{/other_user}","gists_url":"https://api.github.com/users/jsbali/gists{/gist_id}","starred_url":"https://api.github.com/users/jsbali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsbali/subscriptions","organizations_url":"https://api.github.com/users/jsbali/orgs","repos_url":"https://api.github.com/users/jsbali/repos","events_url":"https://api.github.com/users/jsbali/events{/privacy}","received_events_url":"https://api.github.com/users/jsbali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T00:32:01Z","updated_at":"2022-02-01T00:32:01Z","author_association":"CONTRIBUTOR","body":"@nsivabalan Thanks a lot for seeing this through. LGTM","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026350821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026403354","html_url":"https://github.com/apache/hudi/pull/4697#issuecomment-1026403354","issue_url":"https://api.github.com/repos/apache/hudi/issues/4697","id":1026403354,"node_id":"IC_kwDOBI7nWM49Lawa","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T01:54:45Z","updated_at":"2022-02-01T01:54:45Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"829d13200dd05fe4fb7234c6c5d2de3c65668f15\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5547\",\n    \"triggerID\" : \"829d13200dd05fe4fb7234c6c5d2de3c65668f15\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0b681481c9b55c7bb9689688c83e884846bb9b57\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"0b681481c9b55c7bb9689688c83e884846bb9b57\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"3c89821bea846f44dbee27eb841e869d496ea0dc\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5561\",\n    \"triggerID\" : \"3c89821bea846f44dbee27eb841e869d496ea0dc\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"755b4aecc11f7c9ca726a126f8a60ece3df7e3c9\",\n    \"status\" : \"PENDING\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5635\",\n    \"triggerID\" : \"755b4aecc11f7c9ca726a126f8a60ece3df7e3c9\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 0b681481c9b55c7bb9689688c83e884846bb9b57 UNKNOWN\n* 3c89821bea846f44dbee27eb841e869d496ea0dc Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5561) \n* 755b4aecc11f7c9ca726a126f8a60ece3df7e3c9 Azure: [PENDING](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5635) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026403354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026413443","html_url":"https://github.com/apache/hudi/pull/3946#issuecomment-1026413443","issue_url":"https://api.github.com/repos/apache/hudi/issues/3946","id":1026413443,"node_id":"IC_kwDOBI7nWM49LdOD","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T02:13:42Z","updated_at":"2022-02-01T02:13:42Z","author_association":"CONTRIBUTOR","body":"@jsbali : Do you think you can take up the similar work for MOR. I can assist you if need be. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026413443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026419828","html_url":"https://github.com/apache/hudi/pull/4712#issuecomment-1026419828","issue_url":"https://api.github.com/repos/apache/hudi/issues/4712","id":1026419828,"node_id":"IC_kwDOBI7nWM49Lex0","user":{"login":"codope","id":16440354,"node_id":"MDQ6VXNlcjE2NDQwMzU0","avatar_url":"https://avatars.githubusercontent.com/u/16440354?v=4","gravatar_id":"","url":"https://api.github.com/users/codope","html_url":"https://github.com/codope","followers_url":"https://api.github.com/users/codope/followers","following_url":"https://api.github.com/users/codope/following{/other_user}","gists_url":"https://api.github.com/users/codope/gists{/gist_id}","starred_url":"https://api.github.com/users/codope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codope/subscriptions","organizations_url":"https://api.github.com/users/codope/orgs","repos_url":"https://api.github.com/users/codope/repos","events_url":"https://api.github.com/users/codope/events{/privacy}","received_events_url":"https://api.github.com/users/codope/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T02:27:42Z","updated_at":"2022-02-01T02:27:42Z","author_association":"MEMBER","body":"> can you help understand this scenario:\r\n> \r\n> 1. lets say we take a backup. and delete original table config. start writing new table config w/ updates. but crashed mid -way. Until we restart the hudi writer, primary table config is in corrupted state and backup property file is in good state. So, during this, what does reader do? do they get routed to backup or original?\r\n> 2. If in above case, if crash happens mid-way, lets say out of 10 entries, only 5 got added, and if readers are using the primary copy to read table props, wouldn't they be reading partial table props?\r\n>    Probably this has nothing to do w/ the checksum patch I guess. but wanted to understand in general.\r\n\r\n1. Get routed to backup props.\r\n2. You mean while writing props from backup file, some crash happened even before checksum match? In that case, yes partial files would be written to hdfs but the writer will fail due to IOException. Next time, when it comes up then props are recovered from the backup.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026419828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026456937","html_url":"https://github.com/apache/hudi/pull/4712#issuecomment-1026456937","issue_url":"https://api.github.com/repos/apache/hudi/issues/4712","id":1026456937,"node_id":"IC_kwDOBI7nWM49Ln1p","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T04:04:24Z","updated_at":"2022-02-01T04:04:24Z","author_association":"CONTRIBUTOR","body":"btw, we might need to add the checksum property as part of the upgrade. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026456937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026457070","html_url":"https://github.com/apache/hudi/pull/4705#issuecomment-1026457070","issue_url":"https://api.github.com/repos/apache/hudi/issues/4705","id":1026457070,"node_id":"IC_kwDOBI7nWM49Ln3u","user":{"login":"manojpec","id":3233255,"node_id":"MDQ6VXNlcjMyMzMyNTU=","avatar_url":"https://avatars.githubusercontent.com/u/3233255?v=4","gravatar_id":"","url":"https://api.github.com/users/manojpec","html_url":"https://github.com/manojpec","followers_url":"https://api.github.com/users/manojpec/followers","following_url":"https://api.github.com/users/manojpec/following{/other_user}","gists_url":"https://api.github.com/users/manojpec/gists{/gist_id}","starred_url":"https://api.github.com/users/manojpec/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manojpec/subscriptions","organizations_url":"https://api.github.com/users/manojpec/orgs","repos_url":"https://api.github.com/users/manojpec/repos","events_url":"https://api.github.com/users/manojpec/events{/privacy}","received_events_url":"https://api.github.com/users/manojpec/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T04:04:40Z","updated_at":"2022-02-01T04:04:50Z","author_association":"CONTRIBUTOR","body":"@alexeykudinkin \r\nCan the test fixtures be concise? The json files are huge. Any ways to trim what we are testing here?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026457070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026460599","html_url":"https://github.com/apache/hudi/pull/4721#issuecomment-1026460599","issue_url":"https://api.github.com/repos/apache/hudi/issues/4721","id":1026460599,"node_id":"IC_kwDOBI7nWM49Lou3","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T04:10:30Z","updated_at":"2022-02-01T04:10:30Z","author_association":"CONTRIBUTOR","body":"> Did you get a chance to run this job and test it out. both once mode and continuous mode ?\r\n\r\nSure, I tested this job on local env both once and continuous mode. Thanks a lot for your attention :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026460599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026461140","html_url":"https://github.com/apache/hudi/pull/4669#issuecomment-1026461140","issue_url":"https://api.github.com/repos/apache/hudi/issues/4669","id":1026461140,"node_id":"IC_kwDOBI7nWM49Lo3U","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T04:11:35Z","updated_at":"2022-02-01T04:11:35Z","author_association":"CONTRIBUTOR","body":"> @yanghua there's a long stack of PRs, and there were issues w/ Metadata Table that were failing tests in the PR at the very bottom of it.\r\n> \r\n> These issues have been addressed here in #4716, and as soon as it lands i'll rebase onto it.\r\n\r\nSounds good.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026461140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026468454","html_url":"https://github.com/apache/hudi/pull/4728#issuecomment-1026468454","issue_url":"https://api.github.com/repos/apache/hudi/issues/4728","id":1026468454,"node_id":"IC_kwDOBI7nWM49Lqpm","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T04:28:30Z","updated_at":"2022-02-01T04:28:30Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"7514b7f93324e7bb9affa1df3346085e3dcdd682\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5637\",\n    \"triggerID\" : \"7514b7f93324e7bb9affa1df3346085e3dcdd682\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 7514b7f93324e7bb9affa1df3346085e3dcdd682 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5637) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026468454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026475329","html_url":"https://github.com/apache/hudi/pull/3989#issuecomment-1026475329","issue_url":"https://api.github.com/repos/apache/hudi/issues/3989","id":1026475329,"node_id":"IC_kwDOBI7nWM49LsVB","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T04:49:11Z","updated_at":"2022-02-01T04:49:11Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"02f1d933aa6dbb695f1995d54bf1b3f22748261b\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3353\",\n    \"triggerID\" : \"02f1d933aa6dbb695f1995d54bf1b3f22748261b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"4fe7a886380689fdf1d9a038fb97c1c6bf5aaa83\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3385\",\n    \"triggerID\" : \"4fe7a886380689fdf1d9a038fb97c1c6bf5aaa83\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"68cba72835e1e89f9c1b8096f5ae36724c48a9c1\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3390\",\n    \"triggerID\" : \"68cba72835e1e89f9c1b8096f5ae36724c48a9c1\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"d9213ef5e8ed41c242e1f9b9da710aa5a27e40b3\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=4070\",\n    \"triggerID\" : \"d9213ef5e8ed41c242e1f9b9da710aa5a27e40b3\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"d23a140d1925eafba49a7dc822add31dba771e33\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=4248\",\n    \"triggerID\" : \"d23a140d1925eafba49a7dc822add31dba771e33\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"7416b261921c79d298d924f70e0b2375b664356b\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=4255\",\n    \"triggerID\" : \"7416b261921c79d298d924f70e0b2375b664356b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b614f85437882d61de11cc5781cb8bf6f813a2e1\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=4446\",\n    \"triggerID\" : \"b614f85437882d61de11cc5781cb8bf6f813a2e1\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"2686dc233dd86c814f1dd0ddcf0f9c0edd459af5\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=4603\",\n    \"triggerID\" : \"2686dc233dd86c814f1dd0ddcf0f9c0edd459af5\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"c57ad0d546e2150e450b361ce228ba80cb29db69\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5639\",\n    \"triggerID\" : \"c57ad0d546e2150e450b361ce228ba80cb29db69\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* c57ad0d546e2150e450b361ce228ba80cb29db69 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5639) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026475329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026484269","html_url":"https://github.com/apache/hudi/pull/4617#issuecomment-1026484269","issue_url":"https://api.github.com/repos/apache/hudi/issues/4617","id":1026484269,"node_id":"IC_kwDOBI7nWM49Lugt","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T05:10:35Z","updated_at":"2022-02-01T05:10:35Z","author_association":"CONTRIBUTOR","body":"@guyuqi : can you respond to @yihua 's clarification above. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026484269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026487129","html_url":"https://github.com/apache/hudi/pull/4695#issuecomment-1026487129","issue_url":"https://api.github.com/repos/apache/hudi/issues/4695","id":1026487129,"node_id":"IC_kwDOBI7nWM49LvNZ","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T05:17:14Z","updated_at":"2022-02-01T05:17:14Z","author_association":"CONTRIBUTOR","body":"cc @vinothchandar \r\n\r\nMy approach is pulling the HFile format relevant classes from HBase repo with rel 2.4.9, into hudi repo `hudi-io` module with renamed package of `org.apache.hudi.hbase` instead of `org.apache.hadoop.hbase`.  I trimmed some classes to limit the number of deps pulled in.  All the backward compatibility logic of KeyValue.KVComparator (hbase1) vs CellComparator (hbase2) is pulled in as well so we can control that.  In such a way, any hudi logic using HFile format is going to use internal `org.apache.hudi.hbase` classes, while SparkHoodieHBaseIndex still uses hbase lib with `org.apache.hadoop.hbase` classes (these two are independent).\r\n\r\nA few things to finalize:\r\n- I'm questioning whether we should flip the hbase version in hudi repo, since if we can unlock the HFile format for metadata table, Presto, Trino, with the first WIP PR, there is no real need to upgrade hbase version to 2.x, which could introduce compatibility issues for SparkHoodieHBaseIndex.  Anything I miss here?  wdyt?\r\n- Right now, protobuf is used to generate proto classes and I pulled in the .proto and protobuf libs (hudi-io-proto module).  Should I just put the generated java classes inside the repo and get rid of the proto related files altogether?  I can keep hudi-io-proto module though and make hudi-io include generated code, not depending on hudi-io-proto, so in the future we can still evolve the protos.\r\n- Regarding the new dependencies pulled in, I can further trim the list down if some can cause conflict, e.g., `commons-lang3`, `protobuf`:\r\n```\r\n      <groupId>org.apache.hadoop</groupId>\r\n      <artifactId>hadoop-client</artifactId>\r\n      <scope>provided</scope>\r\n    \r\n      <groupId>org.apache.hadoop</groupId>\r\n      <artifactId>hadoop-hdfs</artifactId>\r\n      <scope>provided</scope>\r\n      \r\n      <groupId>org.apache.hbase.thirdparty</groupId>\r\n      <artifactId>hbase-shaded-protobuf</artifactId>\r\n      <version>4.0.1</version>\r\n\r\n      <groupId>org.apache.hbase.thirdparty</groupId>\r\n      <artifactId>hbase-shaded-miscellaneous</artifactId>\r\n      <version>4.0.1</version>\r\n\r\n      <groupId>org.apache.hbase.thirdparty</groupId>\r\n      <artifactId>hbase-shaded-gson</artifactId>\r\n      <version>4.0.1</version>\r\n\r\n      <groupId>org.apache.hbase.thirdparty</groupId>\r\n      <artifactId>hbase-shaded-netty</artifactId>\r\n      <version>4.0.1</version>\r\n\r\n      <groupId>org.apache.htrace</groupId>\r\n      <artifactId>htrace-core4</artifactId>\r\n      <version>4.2.0-incubating</version>\r\n\r\n      <groupId>org.apache.commons</groupId>\r\n      <artifactId>commons-lang3</artifactId>\r\n      <version>3.12.0</version>\r\n      <scope>compile</scope>\r\n\r\n      <groupId>org.apache.yetus</groupId>\r\n      <artifactId>audience-annotations</artifactId>\r\n      <version>0.13.0</version>\r\n\r\n      <groupId>com.esotericsoftware</groupId>\r\n      <artifactId>kryo-shaded</artifactId>\r\n      <version>4.0.2</version>\r\n```  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026487129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026493615","html_url":"https://github.com/apache/hudi/pull/4617#issuecomment-1026493615","issue_url":"https://api.github.com/repos/apache/hudi/issues/4617","id":1026493615,"node_id":"IC_kwDOBI7nWM49Lwyv","user":{"login":"guyuqi","id":20575685,"node_id":"MDQ6VXNlcjIwNTc1Njg1","avatar_url":"https://avatars.githubusercontent.com/u/20575685?v=4","gravatar_id":"","url":"https://api.github.com/users/guyuqi","html_url":"https://github.com/guyuqi","followers_url":"https://api.github.com/users/guyuqi/followers","following_url":"https://api.github.com/users/guyuqi/following{/other_user}","gists_url":"https://api.github.com/users/guyuqi/gists{/gist_id}","starred_url":"https://api.github.com/users/guyuqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyuqi/subscriptions","organizations_url":"https://api.github.com/users/guyuqi/orgs","repos_url":"https://api.github.com/users/guyuqi/repos","events_url":"https://api.github.com/users/guyuqi/events{/privacy}","received_events_url":"https://api.github.com/users/guyuqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T05:32:42Z","updated_at":"2022-02-01T05:32:42Z","author_association":"MEMBER","body":"> @guyuqi : can you respond to @yihua 's clarification above.\r\n\r\nSorry for the late reply.\r\nI’m on Chinese New Year vacation and limited to access the PC. I’ll update the PR at the end of this week. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026493615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026523204","html_url":"https://github.com/apache/hudi/pull/4662#issuecomment-1026523204","issue_url":"https://api.github.com/repos/apache/hudi/issues/4662","id":1026523204,"node_id":"IC_kwDOBI7nWM49L4BE","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T06:43:21Z","updated_at":"2022-02-01T06:43:21Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"789ecb457d2f5424674d512dd62d64480edc8c36\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5408\",\n    \"triggerID\" : \"789ecb457d2f5424674d512dd62d64480edc8c36\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"029895bca3e62168b02dec447357f48714ce43a2\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5645\",\n    \"triggerID\" : \"029895bca3e62168b02dec447357f48714ce43a2\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 029895bca3e62168b02dec447357f48714ce43a2 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=5645) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026523204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026769555","html_url":"https://github.com/apache/hudi/issues/4666#issuecomment-1026769555","issue_url":"https://api.github.com/repos/apache/hudi/issues/4666","id":1026769555,"node_id":"IC_kwDOBI7nWM49M0KT","user":{"login":"ganczarek","id":16733667,"node_id":"MDQ6VXNlcjE2NzMzNjY3","avatar_url":"https://avatars.githubusercontent.com/u/16733667?v=4","gravatar_id":"","url":"https://api.github.com/users/ganczarek","html_url":"https://github.com/ganczarek","followers_url":"https://api.github.com/users/ganczarek/followers","following_url":"https://api.github.com/users/ganczarek/following{/other_user}","gists_url":"https://api.github.com/users/ganczarek/gists{/gist_id}","starred_url":"https://api.github.com/users/ganczarek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ganczarek/subscriptions","organizations_url":"https://api.github.com/users/ganczarek/orgs","repos_url":"https://api.github.com/users/ganczarek/repos","events_url":"https://api.github.com/users/ganczarek/events{/privacy}","received_events_url":"https://api.github.com/users/ganczarek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T12:03:19Z","updated_at":"2022-02-01T12:03:19Z","author_association":"NONE","body":"@nsivabalan Thank you for looking into. I'm sorry, but I'm not able to test this fix. I have already downgraded the table after manually deleting the `*.commit.requested` file.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1026769555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]