[{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1031043063","html_url":"https://github.com/apache/rocketmq/issues/3719#issuecomment-1031043063","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3719","id":1031043063,"node_id":"IC_kwDOBHrsl849dHf3","user":{"login":"caigy","id":17410645,"node_id":"MDQ6VXNlcjE3NDEwNjQ1","avatar_url":"https://avatars.githubusercontent.com/u/17410645?v=4","gravatar_id":"","url":"https://api.github.com/users/caigy","html_url":"https://github.com/caigy","followers_url":"https://api.github.com/users/caigy/followers","following_url":"https://api.github.com/users/caigy/following{/other_user}","gists_url":"https://api.github.com/users/caigy/gists{/gist_id}","starred_url":"https://api.github.com/users/caigy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caigy/subscriptions","organizations_url":"https://api.github.com/users/caigy/orgs","repos_url":"https://api.github.com/users/caigy/repos","events_url":"https://api.github.com/users/caigy/events{/privacy}","received_events_url":"https://api.github.com/users/caigy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-07T03:45:01Z","updated_at":"2022-02-07T03:45:01Z","author_association":"CONTRIBUTOR","body":"As this problem occurs in docker environment, I think it would be more appropriate to upgrade the JDK version in container, other than change codes in application level. Because such uncompleted support to container in JDK does not only affect `Runtime.getRuntime().availableProcessors()`, but also ParallelGCThreads, CICompilerCount, etc.  \r\n\r\nBTW, it seems that this problem has resolved after jdk8u131: https://blogs.oracle.com/java/post/java-se-support-for-docker-cpu-and-memory-limits","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1031043063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1031230711","html_url":"https://github.com/apache/rocketmq/issues/3823#issuecomment-1031230711","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3823","id":1031230711,"node_id":"IC_kwDOBHrsl849d1T3","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-07T09:09:25Z","updated_at":"2022-02-07T09:09:25Z","author_association":"CONTRIBUTOR","body":"The log configuration file must be in java.ext.dirs or classpath.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1031230711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1031235762","html_url":"https://github.com/apache/rocketmq/issues/3823#issuecomment-1031235762","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3823","id":1031235762,"node_id":"IC_kwDOBHrsl849d2iy","user":{"login":"Oliverwqcwrw","id":31796988,"node_id":"MDQ6VXNlcjMxNzk2OTg4","avatar_url":"https://avatars.githubusercontent.com/u/31796988?v=4","gravatar_id":"","url":"https://api.github.com/users/Oliverwqcwrw","html_url":"https://github.com/Oliverwqcwrw","followers_url":"https://api.github.com/users/Oliverwqcwrw/followers","following_url":"https://api.github.com/users/Oliverwqcwrw/following{/other_user}","gists_url":"https://api.github.com/users/Oliverwqcwrw/gists{/gist_id}","starred_url":"https://api.github.com/users/Oliverwqcwrw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Oliverwqcwrw/subscriptions","organizations_url":"https://api.github.com/users/Oliverwqcwrw/orgs","repos_url":"https://api.github.com/users/Oliverwqcwrw/repos","events_url":"https://api.github.com/users/Oliverwqcwrw/events{/privacy}","received_events_url":"https://api.github.com/users/Oliverwqcwrw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-07T09:14:35Z","updated_at":"2022-02-07T09:14:35Z","author_association":"MEMBER","body":"I have configured the environment variables ROCKETMQ_HOME and I copy log configuration file into conf","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1031235762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1031239602","html_url":"https://github.com/apache/rocketmq/issues/3823#issuecomment-1031239602","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3823","id":1031239602,"node_id":"IC_kwDOBHrsl849d3ey","user":{"login":"Oliverwqcwrw","id":31796988,"node_id":"MDQ6VXNlcjMxNzk2OTg4","avatar_url":"https://avatars.githubusercontent.com/u/31796988?v=4","gravatar_id":"","url":"https://api.github.com/users/Oliverwqcwrw","html_url":"https://github.com/Oliverwqcwrw","followers_url":"https://api.github.com/users/Oliverwqcwrw/followers","following_url":"https://api.github.com/users/Oliverwqcwrw/following{/other_user}","gists_url":"https://api.github.com/users/Oliverwqcwrw/gists{/gist_id}","starred_url":"https://api.github.com/users/Oliverwqcwrw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Oliverwqcwrw/subscriptions","organizations_url":"https://api.github.com/users/Oliverwqcwrw/orgs","repos_url":"https://api.github.com/users/Oliverwqcwrw/repos","events_url":"https://api.github.com/users/Oliverwqcwrw/events{/privacy}","received_events_url":"https://api.github.com/users/Oliverwqcwrw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-07T09:18:17Z","updated_at":"2022-02-07T09:18:17Z","author_association":"MEMBER","body":"I follow the RocketMQ Tech Insider tutorial","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1031239602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1031283678","html_url":"https://github.com/apache/rocketmq/issues/3823#issuecomment-1031283678","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3823","id":1031283678,"node_id":"IC_kwDOBHrsl849eCPe","user":{"login":"Oliverwqcwrw","id":31796988,"node_id":"MDQ6VXNlcjMxNzk2OTg4","avatar_url":"https://avatars.githubusercontent.com/u/31796988?v=4","gravatar_id":"","url":"https://api.github.com/users/Oliverwqcwrw","html_url":"https://github.com/Oliverwqcwrw","followers_url":"https://api.github.com/users/Oliverwqcwrw/followers","following_url":"https://api.github.com/users/Oliverwqcwrw/following{/other_user}","gists_url":"https://api.github.com/users/Oliverwqcwrw/gists{/gist_id}","starred_url":"https://api.github.com/users/Oliverwqcwrw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Oliverwqcwrw/subscriptions","organizations_url":"https://api.github.com/users/Oliverwqcwrw/orgs","repos_url":"https://api.github.com/users/Oliverwqcwrw/repos","events_url":"https://api.github.com/users/Oliverwqcwrw/events{/privacy}","received_events_url":"https://api.github.com/users/Oliverwqcwrw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-07T10:04:46Z","updated_at":"2022-02-07T10:04:46Z","author_association":"MEMBER","body":"I know the problem because I wrote conf as config,thank you","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1031283678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1031529522","html_url":"https://github.com/apache/rocketmq/pull/3811#issuecomment-1031529522","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3811","id":1031529522,"node_id":"IC_kwDOBHrsl849e-Qy","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-07T14:29:31Z","updated_at":"2022-02-07T14:29:31Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3811?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3811](https://codecov.io/gh/apache/rocketmq/pull/3811?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (0624648) into [develop](https://codecov.io/gh/apache/rocketmq/commit/dbbc88a6fe3449f13fdf8584f74e98ac69613349?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (dbbc88a) will **increase** coverage by `0.03%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3811/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3811?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3811      +/-   ##\n=============================================\n+ Coverage      47.20%   47.23%   +0.03%     \n- Complexity      4889     4891       +2     \n=============================================\n  Files            636      636              \n  Lines          42468    42468              \n  Branches        5553     5553              \n=============================================\n+ Hits           20045    20058      +13     \n+ Misses         19923    19908      -15     \n- Partials        2500     2502       +2     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3811?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...a/org/apache/rocketmq/filter/util/BloomFilter.java](https://codecov.io/gh/apache/rocketmq/pull/3811/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CbG9vbUZpbHRlci5qYXZh) | `59.13% <0.00%> (-2.16%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/filter/util/BitsArray.java](https://codecov.io/gh/apache/rocketmq/pull/3811/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CaXRzQXJyYXkuamF2YQ==) | `58.11% <0.00%> (-1.71%)` | :arrow_down: |\n| [...he/rocketmq/client/trace/AsyncTraceDispatcher.java](https://codecov.io/gh/apache/rocketmq/pull/3811/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvdHJhY2UvQXN5bmNUcmFjZURpc3BhdGNoZXIuamF2YQ==) | `78.21% <0.00%> (-1.49%)` | :arrow_down: |\n| [...mq/client/impl/consumer/RebalanceLitePullImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3811/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9SZWJhbGFuY2VMaXRlUHVsbEltcGwuamF2YQ==) | `48.52% <0.00%> (-1.48%)` | :arrow_down: |\n| [...e/rocketmq/client/impl/consumer/RebalanceImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3811/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9SZWJhbGFuY2VJbXBsLmphdmE=) | `43.75% <0.00%> (-0.79%)` | :arrow_down: |\n| [...a/org/apache/rocketmq/store/StoreStatsService.java](https://codecov.io/gh/apache/rocketmq/pull/3811/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL1N0b3JlU3RhdHNTZXJ2aWNlLmphdmE=) | `28.66% <0.00%> (-0.66%)` | :arrow_down: |\n| [...ent/impl/consumer/DefaultLitePullConsumerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3811/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9EZWZhdWx0TGl0ZVB1bGxDb25zdW1lckltcGwuamF2YQ==) | `67.99% <0.00%> (-0.52%)` | :arrow_down: |\n| [.../apache/rocketmq/logging/inner/LoggingBuilder.java](https://codecov.io/gh/apache/rocketmq/pull/3811/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bG9nZ2luZy9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbG9nZ2luZy9pbm5lci9Mb2dnaW5nQnVpbGRlci5qYXZh) | `64.71% <0.00%> (+0.31%)` | :arrow_up: |\n| [...he/rocketmq/client/impl/consumer/ProcessQueue.java](https://codecov.io/gh/apache/rocketmq/pull/3811/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9Qcm9jZXNzUXVldWUuamF2YQ==) | `61.92% <0.00%> (+0.45%)` | :arrow_up: |\n| [...va/org/apache/rocketmq/common/stats/StatsItem.java](https://codecov.io/gh/apache/rocketmq/pull/3811/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtLmphdmE=) | `52.50% <0.00%> (+2.50%)` | :arrow_up: |\n| ... and [2 more](https://codecov.io/gh/apache/rocketmq/pull/3811/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3811?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3811?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [dbbc88a...0624648](https://codecov.io/gh/apache/rocketmq/pull/3811?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1031529522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032144505","html_url":"https://github.com/apache/rocketmq/issues/3810#issuecomment-1032144505","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3810","id":1032144505,"node_id":"IC_kwDOBHrsl849hUZ5","user":{"login":"lizhiboo","id":16134780,"node_id":"MDQ6VXNlcjE2MTM0Nzgw","avatar_url":"https://avatars.githubusercontent.com/u/16134780?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhiboo","html_url":"https://github.com/lizhiboo","followers_url":"https://api.github.com/users/lizhiboo/followers","following_url":"https://api.github.com/users/lizhiboo/following{/other_user}","gists_url":"https://api.github.com/users/lizhiboo/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhiboo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhiboo/subscriptions","organizations_url":"https://api.github.com/users/lizhiboo/orgs","repos_url":"https://api.github.com/users/lizhiboo/repos","events_url":"https://api.github.com/users/lizhiboo/events{/privacy}","received_events_url":"https://api.github.com/users/lizhiboo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-08T02:20:59Z","updated_at":"2022-02-08T02:20:59Z","author_association":"CONTRIBUTOR","body":"@Kvicii IMO, change return type from List to Map can not avoid loop nesting, because reset each queue offset of each broker is needed.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032144505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032329565","html_url":"https://github.com/apache/rocketmq/issues/3825#issuecomment-1032329565","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3825","id":1032329565,"node_id":"IC_kwDOBHrsl849iBld","user":{"login":"areyouok","id":3192556,"node_id":"MDQ6VXNlcjMxOTI1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/3192556?v=4","gravatar_id":"","url":"https://api.github.com/users/areyouok","html_url":"https://github.com/areyouok","followers_url":"https://api.github.com/users/areyouok/followers","following_url":"https://api.github.com/users/areyouok/following{/other_user}","gists_url":"https://api.github.com/users/areyouok/gists{/gist_id}","starred_url":"https://api.github.com/users/areyouok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areyouok/subscriptions","organizations_url":"https://api.github.com/users/areyouok/orgs","repos_url":"https://api.github.com/users/areyouok/repos","events_url":"https://api.github.com/users/areyouok/events{/privacy}","received_events_url":"https://api.github.com/users/areyouok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-08T08:17:36Z","updated_at":"2022-02-08T08:17:36Z","author_association":"CONTRIBUTOR","body":"Here is an article about this problem (chinese version): \r\n\r\nhttps://www.infoq.cn/article/sfjkj1c5bz2koxsxybho","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032329565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032355011","html_url":"https://github.com/apache/rocketmq/pull/3828#issuecomment-1032355011","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3828","id":1032355011,"node_id":"IC_kwDOBHrsl849iHzD","user":{"login":"Kvicii","id":42023367,"node_id":"MDQ6VXNlcjQyMDIzMzY3","avatar_url":"https://avatars.githubusercontent.com/u/42023367?v=4","gravatar_id":"","url":"https://api.github.com/users/Kvicii","html_url":"https://github.com/Kvicii","followers_url":"https://api.github.com/users/Kvicii/followers","following_url":"https://api.github.com/users/Kvicii/following{/other_user}","gists_url":"https://api.github.com/users/Kvicii/gists{/gist_id}","starred_url":"https://api.github.com/users/Kvicii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kvicii/subscriptions","organizations_url":"https://api.github.com/users/Kvicii/orgs","repos_url":"https://api.github.com/users/Kvicii/repos","events_url":"https://api.github.com/users/Kvicii/events{/privacy}","received_events_url":"https://api.github.com/users/Kvicii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-08T08:45:42Z","updated_at":"2022-02-08T08:45:42Z","author_association":"CONTRIBUTOR","body":"@shuangchengsun hi, I think if there is a corresponding performance test report, the comparison will be more perfect.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032355011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032365912","html_url":"https://github.com/apache/rocketmq/issues/3799#issuecomment-1032365912","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3799","id":1032365912,"node_id":"IC_kwDOBHrsl849iKdY","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-08T08:59:13Z","updated_at":"2022-02-08T08:59:48Z","author_association":"CONTRIBUTOR","body":"docs refer to: https://github.com/apache/rocketmq/wiki/RIP-30-Support-Compaction-topic","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032365912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032373380","html_url":"https://github.com/apache/rocketmq/issues/3825#issuecomment-1032373380","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3825","id":1032373380,"node_id":"IC_kwDOBHrsl849iMSE","user":{"login":"areyouok","id":3192556,"node_id":"MDQ6VXNlcjMxOTI1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/3192556?v=4","gravatar_id":"","url":"https://api.github.com/users/areyouok","html_url":"https://github.com/areyouok","followers_url":"https://api.github.com/users/areyouok/followers","following_url":"https://api.github.com/users/areyouok/following{/other_user}","gists_url":"https://api.github.com/users/areyouok/gists{/gist_id}","starred_url":"https://api.github.com/users/areyouok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areyouok/subscriptions","organizations_url":"https://api.github.com/users/areyouok/orgs","repos_url":"https://api.github.com/users/areyouok/repos","events_url":"https://api.github.com/users/areyouok/events{/privacy}","received_events_url":"https://api.github.com/users/areyouok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-08T09:07:06Z","updated_at":"2022-02-08T09:07:06Z","author_association":"CONTRIBUTOR","body":"in fact we have more data.\r\n\r\n* A. remove SO_SNDBUF/SO_RCVBUF/WRITE_BUFFER_WATER_MARK setting\r\n* B. set SO_SNDBUF/SO_RCVBUF, not set WRITE_BUFFER_WATER_MARK (same as 4.9.2)\r\n* C. set SO_SNDBUF/SO_RCVBUF/WRITE_BUFFER_WATER_MARK\r\n* D. remove SO_SNDBUF/SO_RCVBUF, set WRITE_BUFFER_WATER_MARK\r\n\r\nThe full rocketmq remoting ping test result\r\n\r\n[Remoting.pdf](https://github.com/apache/rocketmq/files/8022269/Remoting.pdf)\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032373380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032385516","html_url":"https://github.com/apache/rocketmq/issues/3825#issuecomment-1032385516","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3825","id":1032385516,"node_id":"IC_kwDOBHrsl849iPPs","user":{"login":"areyouok","id":3192556,"node_id":"MDQ6VXNlcjMxOTI1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/3192556?v=4","gravatar_id":"","url":"https://api.github.com/users/areyouok","html_url":"https://github.com/areyouok","followers_url":"https://api.github.com/users/areyouok/followers","following_url":"https://api.github.com/users/areyouok/following{/other_user}","gists_url":"https://api.github.com/users/areyouok/gists{/gist_id}","starred_url":"https://api.github.com/users/areyouok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areyouok/subscriptions","organizations_url":"https://api.github.com/users/areyouok/orgs","repos_url":"https://api.github.com/users/areyouok/repos","events_url":"https://api.github.com/users/areyouok/events{/privacy}","received_events_url":"https://api.github.com/users/areyouok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-08T09:19:36Z","updated_at":"2022-02-09T08:47:13Z","author_association":"CONTRIBUTOR","body":"Cluster produce/consume test\r\n\r\n* 6 producer and 6 consumer in 6 machines, linux kernel 3.x\r\n* 4 SyncMaster and 4 Slave in 2 machines, linux kernel 4.x\r\n* each broker has 18 queues for test topic\r\n* each producer has 400 threads, sync send\r\n* network latency: 1.61ms\r\n\r\nalthough the old version has poor performance in single tcp connection, but there are 6*4 tcp connections for produce and consume, respectively. So the produce performance of old version is not too bad, but it's consume qps can't keep up with the produce tps.\r\n\r\nversion | message body size | producer tps | consumer qps\r\n-- | -- | -- | --\r\nOld | 250 | 180,000*4 | 130,000*4 \r\nOld | 4,000 | 72,000*4 | 18,000*4 \r\nOld | 16,000 | 19,000*4 | 4,600*4   \r\nOld | 100,000 | 3000*4 | 800*4 \r\nNew | 250 | 175,000*4 | 175,000*4   \r\nNew | 4,000 | 68,000*4 | 68,000*4   \r\nNew | 16,000 | 18,000*4 | 18,000*4   \r\nNew | 100,000 | 2800*4 | 2800*4 \r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032385516/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032397075","html_url":"https://github.com/apache/rocketmq/issues/3825#issuecomment-1032397075","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3825","id":1032397075,"node_id":"IC_kwDOBHrsl849iSET","user":{"login":"areyouok","id":3192556,"node_id":"MDQ6VXNlcjMxOTI1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/3192556?v=4","gravatar_id":"","url":"https://api.github.com/users/areyouok","html_url":"https://github.com/areyouok","followers_url":"https://api.github.com/users/areyouok/followers","following_url":"https://api.github.com/users/areyouok/following{/other_user}","gists_url":"https://api.github.com/users/areyouok/gists{/gist_id}","starred_url":"https://api.github.com/users/areyouok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areyouok/subscriptions","organizations_url":"https://api.github.com/users/areyouok/orgs","repos_url":"https://api.github.com/users/areyouok/repos","events_url":"https://api.github.com/users/areyouok/events{/privacy}","received_events_url":"https://api.github.com/users/areyouok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-08T09:31:47Z","updated_at":"2022-02-08T09:35:54Z","author_association":"CONTRIBUTOR","body":"Single producer/broker test, no consumer\r\n\r\n* 1 producer , linux kernel 3.x\r\n* 1 SyncMaster 1 Slave, linux kernel 4.x\r\n* 18 queues for test topic\r\n* producer has 400 threads, sync send\r\n* network latency: 1.61ms\r\n\r\nversion | message body size | produce tps\r\n-- | -- | --\r\nOld | 250 | 88,000\r\nOld | 4,000 |  18,200\r\nOld | 16,000 | 4,860\r\nOld | 100,000 | 750\r\nNew | 250 | 82,000\r\nNew | 4,000 | 70,000\r\nNew | 16,000 | 29,500\r\nNew | 100,000 | 5,950\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032397075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032400869","html_url":"https://github.com/apache/rocketmq/issues/3825#issuecomment-1032400869","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3825","id":1032400869,"node_id":"IC_kwDOBHrsl849iS_l","user":{"login":"dongeforever","id":8434428,"node_id":"MDQ6VXNlcjg0MzQ0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8434428?v=4","gravatar_id":"","url":"https://api.github.com/users/dongeforever","html_url":"https://github.com/dongeforever","followers_url":"https://api.github.com/users/dongeforever/followers","following_url":"https://api.github.com/users/dongeforever/following{/other_user}","gists_url":"https://api.github.com/users/dongeforever/gists{/gist_id}","starred_url":"https://api.github.com/users/dongeforever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongeforever/subscriptions","organizations_url":"https://api.github.com/users/dongeforever/orgs","repos_url":"https://api.github.com/users/dongeforever/repos","events_url":"https://api.github.com/users/dongeforever/events{/privacy}","received_events_url":"https://api.github.com/users/dongeforever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-08T09:35:56Z","updated_at":"2022-02-08T09:35:56Z","author_association":"MEMBER","body":"Great Catch!","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032400869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032443310","html_url":"https://github.com/apache/rocketmq/issues/3827#issuecomment-1032443310","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3827","id":1032443310,"node_id":"IC_kwDOBHrsl849idWu","user":{"login":"shuangchengsun","id":33629004,"node_id":"MDQ6VXNlcjMzNjI5MDA0","avatar_url":"https://avatars.githubusercontent.com/u/33629004?v=4","gravatar_id":"","url":"https://api.github.com/users/shuangchengsun","html_url":"https://github.com/shuangchengsun","followers_url":"https://api.github.com/users/shuangchengsun/followers","following_url":"https://api.github.com/users/shuangchengsun/following{/other_user}","gists_url":"https://api.github.com/users/shuangchengsun/gists{/gist_id}","starred_url":"https://api.github.com/users/shuangchengsun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shuangchengsun/subscriptions","organizations_url":"https://api.github.com/users/shuangchengsun/orgs","repos_url":"https://api.github.com/users/shuangchengsun/repos","events_url":"https://api.github.com/users/shuangchengsun/events{/privacy}","received_events_url":"https://api.github.com/users/shuangchengsun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-08T10:19:48Z","updated_at":"2022-02-08T10:19:48Z","author_association":"CONTRIBUTOR","body":"old profile\r\n![image](https://user-images.githubusercontent.com/33629004/152953564-5af592e0-98f8-41e6-9ea4-fade304e0271.png)\r\n\r\n\r\n\r\n\r\n\r\nnew profile\r\n![image](https://user-images.githubusercontent.com/33629004/152953248-0d003ba7-d38e-4627-8494-607f7778fbf4.png)\r\n\r\n\r\nbenchmark result as below. (command: sh tproducer.sh -n xxx.xxx.xxx.xxx:9876 -s 128 -w 64 -sr 0 -su 0 -cu 0 -cr 0 -i 0)\r\nold\r\n![image](https://user-images.githubusercontent.com/33629004/152965364-1337677d-0453-4367-bcab-6e9b8682fadc.png)\r\n\r\nnew \r\n![image](https://user-images.githubusercontent.com/33629004/152967124-d1d3694b-3d11-4304-bd84-18c7eb4ea5c3.png)\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032443310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032454220","html_url":"https://github.com/apache/rocketmq/pull/3828#issuecomment-1032454220","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3828","id":1032454220,"node_id":"IC_kwDOBHrsl849igBM","user":{"login":"shuangchengsun","id":33629004,"node_id":"MDQ6VXNlcjMzNjI5MDA0","avatar_url":"https://avatars.githubusercontent.com/u/33629004?v=4","gravatar_id":"","url":"https://api.github.com/users/shuangchengsun","html_url":"https://github.com/shuangchengsun","followers_url":"https://api.github.com/users/shuangchengsun/followers","following_url":"https://api.github.com/users/shuangchengsun/following{/other_user}","gists_url":"https://api.github.com/users/shuangchengsun/gists{/gist_id}","starred_url":"https://api.github.com/users/shuangchengsun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shuangchengsun/subscriptions","organizations_url":"https://api.github.com/users/shuangchengsun/orgs","repos_url":"https://api.github.com/users/shuangchengsun/repos","events_url":"https://api.github.com/users/shuangchengsun/events{/privacy}","received_events_url":"https://api.github.com/users/shuangchengsun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-08T10:31:02Z","updated_at":"2022-02-08T10:31:02Z","author_association":"CONTRIBUTOR","body":"> @shuangchengsun hi, I think if there is a corresponding performance test report, the comparison will be more perfect.\r\n\r\nold profile\r\n![image](https://user-images.githubusercontent.com/33629004/152953564-5af592e0-98f8-41e6-9ea4-fade304e0271.png)\r\n\r\n\r\n\r\n\r\n\r\nnew profile\r\n![image](https://user-images.githubusercontent.com/33629004/152953248-0d003ba7-d38e-4627-8494-607f7778fbf4.png)\r\n\r\n\r\nbenchmark result as below. (command: sh tproducer.sh -n xxx.xxx.xxx.xxx:9876 -s 128 -w 64 -sr 0 -su 0 -cu 0 -cr 0 -i 0)\r\nold\r\n![image](https://user-images.githubusercontent.com/33629004/152965364-1337677d-0453-4367-bcab-6e9b8682fadc.png)\r\n\r\nnew \r\n![image](https://user-images.githubusercontent.com/33629004/152967124-d1d3694b-3d11-4304-bd84-18c7eb4ea5c3.png)","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032454220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032486803","html_url":"https://github.com/apache/rocketmq/pull/3828#issuecomment-1032486803","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3828","id":1032486803,"node_id":"IC_kwDOBHrsl849in-T","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-08T11:07:40Z","updated_at":"2022-02-15T10:13:41Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/46553112/badge)](https://coveralls.io/builds/46553112)\n\nCoverage increased (+0.01%) to 51.376% when pulling **766f273d0e14a3e5e706be253a1066e83a2084d8 on shuangchengsun:tx** into **48e8c1955b660ccffb65e9b0e7dfc602551d0b38 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032486803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032560257","html_url":"https://github.com/apache/rocketmq/pull/3826#issuecomment-1032560257","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3826","id":1032560257,"node_id":"IC_kwDOBHrsl849i56B","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-08T12:33:32Z","updated_at":"2022-02-08T12:33:32Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/46330448/badge)](https://coveralls.io/builds/46330448)\n\nCoverage increased (+0.05%) to 51.257% when pulling **7f7acf436a80ca330bcabaaaad94ed242b539016 on areyouok:auto_buffer** into **d5c88001252c64dc273fea0e07932ef007513d22 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032560257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032560513","html_url":"https://github.com/apache/rocketmq/pull/3826#issuecomment-1032560513","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3826","id":1032560513,"node_id":"IC_kwDOBHrsl849i5-B","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-08T12:33:52Z","updated_at":"2022-02-08T12:33:52Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3826?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3826](https://codecov.io/gh/apache/rocketmq/pull/3826?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (7f7acf4) into [develop](https://codecov.io/gh/apache/rocketmq/commit/d5c88001252c64dc273fea0e07932ef007513d22?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d5c8800) will **decrease** coverage by `0.02%`.\n> The diff coverage is `35.29%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3826/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3826?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3826      +/-   ##\n=============================================\n- Coverage      47.20%   47.17%   -0.03%     \n+ Complexity      4887     4886       -1     \n=============================================\n  Files            636      636              \n  Lines          42468    42482      +14     \n  Branches        5553     5561       +8     \n=============================================\n- Hits           20046    20041       -5     \n- Misses         19915    19926      +11     \n- Partials        2507     2515       +8     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3826?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...java/org/apache/rocketmq/broker/BrokerStartup.java](https://codecov.io/gh/apache/rocketmq/pull/3826/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvQnJva2VyU3RhcnR1cC5qYXZh) | `5.63% <ø> (+0.15%)` | :arrow_up: |\n| [.../apache/rocketmq/remoting/common/RemotingUtil.java](https://codecov.io/gh/apache/rocketmq/pull/3826/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL2NvbW1vbi9SZW1vdGluZ1V0aWwuamF2YQ==) | `12.26% <0.00%> (-0.24%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/store/ha/HAConnection.java](https://codecov.io/gh/apache/rocketmq/pull/3826/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL0hBQ29ubmVjdGlvbi5qYXZh) | `66.51% <0.00%> (-1.51%)` | :arrow_down: |\n| [...e/rocketmq/remoting/netty/NettyRemotingClient.java](https://codecov.io/gh/apache/rocketmq/pull/3826/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdDbGllbnQuamF2YQ==) | `46.61% <36.36%> (-0.95%)` | :arrow_down: |\n| [...e/rocketmq/remoting/netty/NettyRemotingServer.java](https://codecov.io/gh/apache/rocketmq/pull/3826/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdTZXJ2ZXIuamF2YQ==) | `59.24% <36.36%> (-2.04%)` | :arrow_down: |\n| [...che/rocketmq/remoting/netty/NettySystemConfig.java](https://codecov.io/gh/apache/rocketmq/pull/3826/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5U3lzdGVtQ29uZmlnLmphdmE=) | `96.00% <100.00%> (ø)` | |\n| [...ketmq/common/protocol/body/ConsumerConnection.java](https://codecov.io/gh/apache/rocketmq/pull/3826/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vcHJvdG9jb2wvYm9keS9Db25zdW1lckNvbm5lY3Rpb24uamF2YQ==) | `95.83% <0.00%> (-4.17%)` | :arrow_down: |\n| [...che/rocketmq/remoting/netty/NettyClientConfig.java](https://codecov.io/gh/apache/rocketmq/pull/3826/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5Q2xpZW50Q29uZmlnLmphdmE=) | `48.21% <0.00%> (-1.79%)` | :arrow_down: |\n| [...che/rocketmq/remoting/netty/NettyServerConfig.java](https://codecov.io/gh/apache/rocketmq/pull/3826/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5U2VydmVyQ29uZmlnLmphdmE=) | `48.27% <0.00%> (-1.73%)` | :arrow_down: |\n| [...rg/apache/rocketmq/remoting/netty/NettyLogger.java](https://codecov.io/gh/apache/rocketmq/pull/3826/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5TG9nZ2VyLmphdmE=) | `14.96% <0.00%> (-1.37%)` | :arrow_down: |\n| ... and [3 more](https://codecov.io/gh/apache/rocketmq/pull/3826/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3826?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3826?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [d5c8800...7f7acf4](https://codecov.io/gh/apache/rocketmq/pull/3826?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1032560513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033217628","html_url":"https://github.com/apache/rocketmq/pull/3828#issuecomment-1033217628","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3828","id":1033217628,"node_id":"IC_kwDOBHrsl849laZc","user":{"login":"XiaoyiPeng","id":8653312,"node_id":"MDQ6VXNlcjg2NTMzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8653312?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaoyiPeng","html_url":"https://github.com/XiaoyiPeng","followers_url":"https://api.github.com/users/XiaoyiPeng/followers","following_url":"https://api.github.com/users/XiaoyiPeng/following{/other_user}","gists_url":"https://api.github.com/users/XiaoyiPeng/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaoyiPeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaoyiPeng/subscriptions","organizations_url":"https://api.github.com/users/XiaoyiPeng/orgs","repos_url":"https://api.github.com/users/XiaoyiPeng/repos","events_url":"https://api.github.com/users/XiaoyiPeng/events{/privacy}","received_events_url":"https://api.github.com/users/XiaoyiPeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T00:57:53Z","updated_at":"2022-02-09T00:57:53Z","author_association":"CONTRIBUTOR","body":"Good catch！","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033217628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033304899","html_url":"https://github.com/apache/rocketmq/issues/3741#issuecomment-1033304899","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3741","id":1033304899,"node_id":"IC_kwDOBHrsl849lvtD","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T03:23:16Z","updated_at":"2022-02-09T03:23:16Z","author_association":"CONTRIBUTOR","body":"Merged","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033304899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033310380","html_url":"https://github.com/apache/rocketmq/pull/3828#issuecomment-1033310380","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3828","id":1033310380,"node_id":"IC_kwDOBHrsl849lxCs","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T03:35:38Z","updated_at":"2022-02-13T10:52:38Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3828?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3828](https://codecov.io/gh/apache/rocketmq/pull/3828?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (085a9a9) into [develop](https://codecov.io/gh/apache/rocketmq/commit/d5c88001252c64dc273fea0e07932ef007513d22?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d5c8800) will **increase** coverage by `0.13%`.\n> The diff coverage is `68.42%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3828/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3828?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3828      +/-   ##\n=============================================\n+ Coverage      47.20%   47.33%   +0.13%     \n- Complexity      4887     4920      +33     \n=============================================\n  Files            636      637       +1     \n  Lines          42468    42515      +47     \n  Branches        5553     5566      +13     \n=============================================\n+ Hits           20046    20125      +79     \n+ Misses         19915    19880      -35     \n- Partials        2507     2510       +3     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3828?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...org/apache/rocketmq/store/DefaultMessageStore.java](https://codecov.io/gh/apache/rocketmq/pull/3828/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0RlZmF1bHRNZXNzYWdlU3RvcmUuamF2YQ==) | `55.68% <50.00%> (+0.01%)` | :arrow_up: |\n| [...ache/rocketmq/store/config/MessageStoreConfig.java](https://codecov.io/gh/apache/rocketmq/pull/3828/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2NvbmZpZy9NZXNzYWdlU3RvcmVDb25maWcuamF2YQ==) | `61.12% <50.00%> (-0.15%)` | :arrow_down: |\n| [...n/java/org/apache/rocketmq/store/ha/HAService.java](https://codecov.io/gh/apache/rocketmq/pull/3828/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL0hBU2VydmljZS5qYXZh) | `71.66% <50.00%> (+0.37%)` | :arrow_up: |\n| [...va/org/apache/rocketmq/store/FlushDiskWatcher.java](https://codecov.io/gh/apache/rocketmq/pull/3828/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0ZsdXNoRGlza1dhdGNoZXIuamF2YQ==) | `65.51% <65.51%> (ø)` | |\n| [...main/java/org/apache/rocketmq/store/CommitLog.java](https://codecov.io/gh/apache/rocketmq/pull/3828/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0NvbW1pdExvZy5qYXZh) | `75.19% <100.00%> (+0.95%)` | :arrow_up: |\n| [...tmq/logappender/log4j2/RocketmqLog4j2Appender.java](https://codecov.io/gh/apache/rocketmq/pull/3828/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bG9nYXBwZW5kZXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL2xvZ2FwcGVuZGVyL2xvZzRqMi9Sb2NrZXRtcUxvZzRqMkFwcGVuZGVyLmphdmE=) | `35.00% <0.00%> (-10.00%)` | :arrow_down: |\n| [...in/java/org/apache/rocketmq/test/util/MQAdmin.java](https://codecov.io/gh/apache/rocketmq/pull/3828/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL01RQWRtaW4uamF2YQ==) | `38.88% <0.00%> (-5.56%)` | :arrow_down: |\n| [...e/rocketmq/remoting/netty/NettyRemotingServer.java](https://codecov.io/gh/apache/rocketmq/pull/3828/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdTZXJ2ZXIuamF2YQ==) | `59.24% <0.00%> (-2.04%)` | :arrow_down: |\n| [...che/rocketmq/remoting/netty/NettyClientConfig.java](https://codecov.io/gh/apache/rocketmq/pull/3828/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5Q2xpZW50Q29uZmlnLmphdmE=) | `48.21% <0.00%> (-1.79%)` | :arrow_down: |\n| [...che/rocketmq/remoting/netty/NettyServerConfig.java](https://codecov.io/gh/apache/rocketmq/pull/3828/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5U2VydmVyQ29uZmlnLmphdmE=) | `48.27% <0.00%> (-1.73%)` | :arrow_down: |\n| ... and [14 more](https://codecov.io/gh/apache/rocketmq/pull/3828/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3828?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3828?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [d5c8800...085a9a9](https://codecov.io/gh/apache/rocketmq/pull/3828?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033310380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033314363","html_url":"https://github.com/apache/rocketmq/pull/3829#issuecomment-1033314363","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3829","id":1033314363,"node_id":"IC_kwDOBHrsl849lyA7","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T03:46:46Z","updated_at":"2022-02-09T03:46:46Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/46360338/badge)](https://coveralls.io/builds/46360338)\n\nCoverage increased (+0.02%) to 52.653% when pulling **ea086cded015cf78d17f72e6c50ff95badf9e1c9 on Erik1288:5.0.0-alpha-wait-until-dsl-unit-test** into **0b4adb49b48b5addc0eafc4ef7412f9f72a9fbfa on apache:5.0.0-alpha**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033314363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033468592","html_url":"https://github.com/apache/rocketmq/issues/3787#issuecomment-1033468592","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3787","id":1033468592,"node_id":"IC_kwDOBHrsl849mXqw","user":{"login":"lizhiboo","id":16134780,"node_id":"MDQ6VXNlcjE2MTM0Nzgw","avatar_url":"https://avatars.githubusercontent.com/u/16134780?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhiboo","html_url":"https://github.com/lizhiboo","followers_url":"https://api.github.com/users/lizhiboo/followers","following_url":"https://api.github.com/users/lizhiboo/following{/other_user}","gists_url":"https://api.github.com/users/lizhiboo/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhiboo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhiboo/subscriptions","organizations_url":"https://api.github.com/users/lizhiboo/orgs","repos_url":"https://api.github.com/users/lizhiboo/repos","events_url":"https://api.github.com/users/lizhiboo/events{/privacy}","received_events_url":"https://api.github.com/users/lizhiboo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T08:10:33Z","updated_at":"2022-02-09T08:10:33Z","author_association":"CONTRIBUTOR","body":"@cserwen if we set the corresponding ack message timeout > 10s, that is longer than ck message timeout. Is this problem will be solved? BTW, i don't understand the adjust - 1500, do u know in which case it works?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033468592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033555523","html_url":"https://github.com/apache/rocketmq/pull/3780#issuecomment-1033555523","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3780","id":1033555523,"node_id":"IC_kwDOBHrsl849ms5D","user":{"login":"lizhiboo","id":16134780,"node_id":"MDQ6VXNlcjE2MTM0Nzgw","avatar_url":"https://avatars.githubusercontent.com/u/16134780?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhiboo","html_url":"https://github.com/lizhiboo","followers_url":"https://api.github.com/users/lizhiboo/followers","following_url":"https://api.github.com/users/lizhiboo/following{/other_user}","gists_url":"https://api.github.com/users/lizhiboo/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhiboo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhiboo/subscriptions","organizations_url":"https://api.github.com/users/lizhiboo/orgs","repos_url":"https://api.github.com/users/lizhiboo/repos","events_url":"https://api.github.com/users/lizhiboo/events{/privacy}","received_events_url":"https://api.github.com/users/lizhiboo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T09:34:58Z","updated_at":"2022-02-09T09:34:58Z","author_association":"CONTRIBUTOR","body":"@cserwen this pr contains many already merged prs, u can rebase to ur branch firstly.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033555523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033564591","html_url":"https://github.com/apache/rocketmq/pull/3834#issuecomment-1033564591","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3834","id":1033564591,"node_id":"IC_kwDOBHrsl849mvGv","user":{"login":"lizhiboo","id":16134780,"node_id":"MDQ6VXNlcjE2MTM0Nzgw","avatar_url":"https://avatars.githubusercontent.com/u/16134780?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhiboo","html_url":"https://github.com/lizhiboo","followers_url":"https://api.github.com/users/lizhiboo/followers","following_url":"https://api.github.com/users/lizhiboo/following{/other_user}","gists_url":"https://api.github.com/users/lizhiboo/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhiboo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhiboo/subscriptions","organizations_url":"https://api.github.com/users/lizhiboo/orgs","repos_url":"https://api.github.com/users/lizhiboo/repos","events_url":"https://api.github.com/users/lizhiboo/events{/privacy}","received_events_url":"https://api.github.com/users/lizhiboo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T09:44:50Z","updated_at":"2022-02-09T09:44:50Z","author_association":"CONTRIBUTOR","body":"@caomao95 this pr contains 2 already merged prs, u can rebase ur branch firstly.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033564591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033566790","html_url":"https://github.com/apache/rocketmq/pull/3830#issuecomment-1033566790","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3830","id":1033566790,"node_id":"IC_kwDOBHrsl849mvpG","user":{"login":"lizhiboo","id":16134780,"node_id":"MDQ6VXNlcjE2MTM0Nzgw","avatar_url":"https://avatars.githubusercontent.com/u/16134780?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhiboo","html_url":"https://github.com/lizhiboo","followers_url":"https://api.github.com/users/lizhiboo/followers","following_url":"https://api.github.com/users/lizhiboo/following{/other_user}","gists_url":"https://api.github.com/users/lizhiboo/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhiboo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhiboo/subscriptions","organizations_url":"https://api.github.com/users/lizhiboo/orgs","repos_url":"https://api.github.com/users/lizhiboo/repos","events_url":"https://api.github.com/users/lizhiboo/events{/privacy}","received_events_url":"https://api.github.com/users/lizhiboo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T09:47:09Z","updated_at":"2022-02-09T09:47:09Z","author_association":"CONTRIBUTOR","body":"reductant pr, refer to #3834 ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033566790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033595285","html_url":"https://github.com/apache/rocketmq/pull/3835#issuecomment-1033595285","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3835","id":1033595285,"node_id":"IC_kwDOBHrsl849m2mV","user":{"login":"XiaoyiPeng","id":8653312,"node_id":"MDQ6VXNlcjg2NTMzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8653312?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaoyiPeng","html_url":"https://github.com/XiaoyiPeng","followers_url":"https://api.github.com/users/XiaoyiPeng/followers","following_url":"https://api.github.com/users/XiaoyiPeng/following{/other_user}","gists_url":"https://api.github.com/users/XiaoyiPeng/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaoyiPeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaoyiPeng/subscriptions","organizations_url":"https://api.github.com/users/XiaoyiPeng/orgs","repos_url":"https://api.github.com/users/XiaoyiPeng/repos","events_url":"https://api.github.com/users/XiaoyiPeng/events{/privacy}","received_events_url":"https://api.github.com/users/XiaoyiPeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T10:17:07Z","updated_at":"2022-02-09T10:17:07Z","author_association":"CONTRIBUTOR","body":"Please make sure set the target branch to **develop**.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033595285/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033631718","html_url":"https://github.com/apache/rocketmq/pull/3835#issuecomment-1033631718","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3835","id":1033631718,"node_id":"IC_kwDOBHrsl849m_fm","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T10:57:58Z","updated_at":"2022-02-09T10:57:58Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/46369649/badge)](https://coveralls.io/builds/46369649)\n\nCoverage increased (+0.05%) to 54.417% when pulling **49a7de14a1a60f43a856bb538f698a09e434f34a on caomao95:patch-3** into **1b420cedfd74cf47b788abb4599f98d2a5217faf on apache:master**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033631718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033731591","html_url":"https://github.com/apache/rocketmq/issues/3836#issuecomment-1033731591","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3836","id":1033731591,"node_id":"IC_kwDOBHrsl849nX4H","user":{"login":"RishiKumarRay","id":87641376,"node_id":"MDQ6VXNlcjg3NjQxMzc2","avatar_url":"https://avatars.githubusercontent.com/u/87641376?v=4","gravatar_id":"","url":"https://api.github.com/users/RishiKumarRay","html_url":"https://github.com/RishiKumarRay","followers_url":"https://api.github.com/users/RishiKumarRay/followers","following_url":"https://api.github.com/users/RishiKumarRay/following{/other_user}","gists_url":"https://api.github.com/users/RishiKumarRay/gists{/gist_id}","starred_url":"https://api.github.com/users/RishiKumarRay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RishiKumarRay/subscriptions","organizations_url":"https://api.github.com/users/RishiKumarRay/orgs","repos_url":"https://api.github.com/users/RishiKumarRay/repos","events_url":"https://api.github.com/users/RishiKumarRay/events{/privacy}","received_events_url":"https://api.github.com/users/RishiKumarRay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T12:55:04Z","updated_at":"2022-02-09T12:55:41Z","author_association":"CONTRIBUTOR","body":"@ni-ze @lizhiboo is there anything else we have to do alongwith removing this \r\npublic class MQHelper {\r\n    public static void resetOffsetByTimestamp(\r\n        final MessageModel messageModel,\r\n        final String consumerGroup,\r\n        final String topic,\r\n        final long timestamp) throws Exception {\r\n        resetOffsetByTimestamp(messageModel, \"DEFAULT\", consumerGroup, topic, timestamp);\r\n    }","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033731591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033732693","html_url":"https://github.com/apache/rocketmq/issues/3836#issuecomment-1033732693","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3836","id":1033732693,"node_id":"IC_kwDOBHrsl849nYJV","user":{"login":"ni-ze","id":31175234,"node_id":"MDQ6VXNlcjMxMTc1MjM0","avatar_url":"https://avatars.githubusercontent.com/u/31175234?v=4","gravatar_id":"","url":"https://api.github.com/users/ni-ze","html_url":"https://github.com/ni-ze","followers_url":"https://api.github.com/users/ni-ze/followers","following_url":"https://api.github.com/users/ni-ze/following{/other_user}","gists_url":"https://api.github.com/users/ni-ze/gists{/gist_id}","starred_url":"https://api.github.com/users/ni-ze/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ni-ze/subscriptions","organizations_url":"https://api.github.com/users/ni-ze/orgs","repos_url":"https://api.github.com/users/ni-ze/repos","events_url":"https://api.github.com/users/ni-ze/events{/privacy}","received_events_url":"https://api.github.com/users/ni-ze/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T12:56:26Z","updated_at":"2022-02-09T12:56:26Z","author_association":"CONTRIBUTOR","body":"I think not.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033732693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033735034","html_url":"https://github.com/apache/rocketmq/issues/3836#issuecomment-1033735034","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3836","id":1033735034,"node_id":"IC_kwDOBHrsl849nYt6","user":{"login":"RishiKumarRay","id":87641376,"node_id":"MDQ6VXNlcjg3NjQxMzc2","avatar_url":"https://avatars.githubusercontent.com/u/87641376?v=4","gravatar_id":"","url":"https://api.github.com/users/RishiKumarRay","html_url":"https://github.com/RishiKumarRay","followers_url":"https://api.github.com/users/RishiKumarRay/followers","following_url":"https://api.github.com/users/RishiKumarRay/following{/other_user}","gists_url":"https://api.github.com/users/RishiKumarRay/gists{/gist_id}","starred_url":"https://api.github.com/users/RishiKumarRay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RishiKumarRay/subscriptions","organizations_url":"https://api.github.com/users/RishiKumarRay/orgs","repos_url":"https://api.github.com/users/RishiKumarRay/repos","events_url":"https://api.github.com/users/RishiKumarRay/events{/privacy}","received_events_url":"https://api.github.com/users/RishiKumarRay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T12:59:20Z","updated_at":"2022-02-09T12:59:20Z","author_association":"CONTRIBUTOR","body":"the issues says remove class file ? do we have to remove whole file? or the above class only?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033735034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033736326","html_url":"https://github.com/apache/rocketmq/issues/3836#issuecomment-1033736326","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3836","id":1033736326,"node_id":"IC_kwDOBHrsl849nZCG","user":{"login":"ni-ze","id":31175234,"node_id":"MDQ6VXNlcjMxMTc1MjM0","avatar_url":"https://avatars.githubusercontent.com/u/31175234?v=4","gravatar_id":"","url":"https://api.github.com/users/ni-ze","html_url":"https://github.com/ni-ze","followers_url":"https://api.github.com/users/ni-ze/followers","following_url":"https://api.github.com/users/ni-ze/following{/other_user}","gists_url":"https://api.github.com/users/ni-ze/gists{/gist_id}","starred_url":"https://api.github.com/users/ni-ze/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ni-ze/subscriptions","organizations_url":"https://api.github.com/users/ni-ze/orgs","repos_url":"https://api.github.com/users/ni-ze/repos","events_url":"https://api.github.com/users/ni-ze/events{/privacy}","received_events_url":"https://api.github.com/users/ni-ze/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T13:00:50Z","updated_at":"2022-02-09T13:00:50Z","author_association":"CONTRIBUTOR","body":"remove whole file.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033736326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033740183","html_url":"https://github.com/apache/rocketmq/issues/3836#issuecomment-1033740183","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3836","id":1033740183,"node_id":"IC_kwDOBHrsl849nZ-X","user":{"login":"RishiKumarRay","id":87641376,"node_id":"MDQ6VXNlcjg3NjQxMzc2","avatar_url":"https://avatars.githubusercontent.com/u/87641376?v=4","gravatar_id":"","url":"https://api.github.com/users/RishiKumarRay","html_url":"https://github.com/RishiKumarRay","followers_url":"https://api.github.com/users/RishiKumarRay/followers","following_url":"https://api.github.com/users/RishiKumarRay/following{/other_user}","gists_url":"https://api.github.com/users/RishiKumarRay/gists{/gist_id}","starred_url":"https://api.github.com/users/RishiKumarRay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RishiKumarRay/subscriptions","organizations_url":"https://api.github.com/users/RishiKumarRay/orgs","repos_url":"https://api.github.com/users/RishiKumarRay/repos","events_url":"https://api.github.com/users/RishiKumarRay/events{/privacy}","received_events_url":"https://api.github.com/users/RishiKumarRay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T13:05:16Z","updated_at":"2022-02-09T13:05:16Z","author_association":"CONTRIBUTOR","body":"@ni-ze can you please review this? i hope i did it correctly","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033740183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033782467","html_url":"https://github.com/apache/rocketmq/pull/3833#issuecomment-1033782467","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3833","id":1033782467,"node_id":"IC_kwDOBHrsl849nkTD","user":{"login":"XiaoyiPeng","id":8653312,"node_id":"MDQ6VXNlcjg2NTMzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8653312?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaoyiPeng","html_url":"https://github.com/XiaoyiPeng","followers_url":"https://api.github.com/users/XiaoyiPeng/followers","following_url":"https://api.github.com/users/XiaoyiPeng/following{/other_user}","gists_url":"https://api.github.com/users/XiaoyiPeng/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaoyiPeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaoyiPeng/subscriptions","organizations_url":"https://api.github.com/users/XiaoyiPeng/orgs","repos_url":"https://api.github.com/users/XiaoyiPeng/repos","events_url":"https://api.github.com/users/XiaoyiPeng/events{/privacy}","received_events_url":"https://api.github.com/users/XiaoyiPeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T13:51:28Z","updated_at":"2022-02-09T13:51:28Z","author_association":"CONTRIBUTOR","body":"> The wildcard import is not allowed. Revert.\r\n\r\n+1","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033782467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033787038","html_url":"https://github.com/apache/rocketmq/pull/3837#issuecomment-1033787038","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3837","id":1033787038,"node_id":"IC_kwDOBHrsl849nlae","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T13:56:27Z","updated_at":"2022-02-09T13:56:27Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/46375965/badge)](https://coveralls.io/builds/46375965)\n\nCoverage increased (+0.0008%) to 51.275% when pulling **8259780a5f7e702996455f8133bbb5637396f2bb on RishiKumarRay:develop** into **ca92d367fda6030adde4ce87ee09b335047857ae on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033787038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033787324","html_url":"https://github.com/apache/rocketmq/pull/3837#issuecomment-1033787324","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3837","id":1033787324,"node_id":"IC_kwDOBHrsl849nle8","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T13:56:46Z","updated_at":"2022-02-09T13:56:46Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3837?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3837](https://codecov.io/gh/apache/rocketmq/pull/3837?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (8259780) into [develop](https://codecov.io/gh/apache/rocketmq/commit/ca92d367fda6030adde4ce87ee09b335047857ae?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (ca92d36) will **decrease** coverage by `0.00%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3837/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3837?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3837      +/-   ##\n=============================================\n- Coverage      47.21%   47.21%   -0.01%     \n+ Complexity      4889     4885       -4     \n=============================================\n  Files            636      635       -1     \n  Lines          42468    42442      -26     \n  Branches        5553     5549       -4     \n=============================================\n- Hits           20051    20037      -14     \n+ Misses         19912    19903       -9     \n+ Partials        2505     2502       -3     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3837?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...rocketmq/broker/filtersrv/FilterServerManager.java](https://codecov.io/gh/apache/rocketmq/pull/3837/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvZmlsdGVyc3J2L0ZpbHRlclNlcnZlck1hbmFnZXIuamF2YQ==) | `20.00% <0.00%> (-14.29%)` | :arrow_down: |\n| [...pache/rocketmq/test/listener/AbstractListener.java](https://codecov.io/gh/apache/rocketmq/pull/3837/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC9saXN0ZW5lci9BYnN0cmFjdExpc3RlbmVyLmphdmE=) | `66.66% <0.00%> (-7.41%)` | :arrow_down: |\n| [...a/org/apache/rocketmq/filter/util/BloomFilter.java](https://codecov.io/gh/apache/rocketmq/pull/3837/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CbG9vbUZpbHRlci5qYXZh) | `59.13% <0.00%> (-2.16%)` | :arrow_down: |\n| [...he/rocketmq/client/trace/AsyncTraceDispatcher.java](https://codecov.io/gh/apache/rocketmq/pull/3837/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvdHJhY2UvQXN5bmNUcmFjZURpc3BhdGNoZXIuamF2YQ==) | `77.72% <0.00%> (-1.99%)` | :arrow_down: |\n| [...org/apache/rocketmq/common/stats/StatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/3837/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtU2V0LmphdmE=) | `41.79% <0.00%> (-1.50%)` | :arrow_down: |\n| [.../apache/rocketmq/logging/inner/LoggingBuilder.java](https://codecov.io/gh/apache/rocketmq/pull/3837/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bG9nZ2luZy9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbG9nZ2luZy9pbm5lci9Mb2dnaW5nQnVpbGRlci5qYXZh) | `64.71% <0.00%> (+0.31%)` | :arrow_up: |\n| [...ent/impl/consumer/DefaultLitePullConsumerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3837/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9EZWZhdWx0TGl0ZVB1bGxDb25zdW1lckltcGwuamF2YQ==) | `68.51% <0.00%> (+0.51%)` | :arrow_up: |\n| [...a/org/apache/rocketmq/store/StoreStatsService.java](https://codecov.io/gh/apache/rocketmq/pull/3837/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL1N0b3JlU3RhdHNTZXJ2aWNlLmphdmE=) | `29.96% <0.00%> (+0.65%)` | :arrow_up: |\n| [...ketmq/common/protocol/body/RegisterBrokerBody.java](https://codecov.io/gh/apache/rocketmq/pull/3837/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vcHJvdG9jb2wvYm9keS9SZWdpc3RlckJyb2tlckJvZHkuamF2YQ==) | `84.78% <0.00%> (+1.08%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3837?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3837?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [ca92d36...8259780](https://codecov.io/gh/apache/rocketmq/pull/3837?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1033787324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1034391131","html_url":"https://github.com/apache/rocketmq/issues/3836#issuecomment-1034391131","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3836","id":1034391131,"node_id":"IC_kwDOBHrsl849p45b","user":{"login":"caigy","id":17410645,"node_id":"MDQ6VXNlcjE3NDEwNjQ1","avatar_url":"https://avatars.githubusercontent.com/u/17410645?v=4","gravatar_id":"","url":"https://api.github.com/users/caigy","html_url":"https://github.com/caigy","followers_url":"https://api.github.com/users/caigy/followers","following_url":"https://api.github.com/users/caigy/following{/other_user}","gists_url":"https://api.github.com/users/caigy/gists{/gist_id}","starred_url":"https://api.github.com/users/caigy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caigy/subscriptions","organizations_url":"https://api.github.com/users/caigy/orgs","repos_url":"https://api.github.com/users/caigy/repos","events_url":"https://api.github.com/users/caigy/events{/privacy}","received_events_url":"https://api.github.com/users/caigy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T01:30:37Z","updated_at":"2022-02-10T01:30:37Z","author_association":"CONTRIBUTOR","body":"`MQHelper` may be used by external users of rocketmq-client, you'd better also provide alternative solution after `MQHelper` is removed.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1034391131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1034429739","html_url":"https://github.com/apache/rocketmq/pull/3833#issuecomment-1034429739","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3833","id":1034429739,"node_id":"IC_kwDOBHrsl849qCUr","user":{"login":"Aaron-TangCode","id":36765247,"node_id":"MDQ6VXNlcjM2NzY1MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/36765247?v=4","gravatar_id":"","url":"https://api.github.com/users/Aaron-TangCode","html_url":"https://github.com/Aaron-TangCode","followers_url":"https://api.github.com/users/Aaron-TangCode/followers","following_url":"https://api.github.com/users/Aaron-TangCode/following{/other_user}","gists_url":"https://api.github.com/users/Aaron-TangCode/gists{/gist_id}","starred_url":"https://api.github.com/users/Aaron-TangCode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aaron-TangCode/subscriptions","organizations_url":"https://api.github.com/users/Aaron-TangCode/orgs","repos_url":"https://api.github.com/users/Aaron-TangCode/repos","events_url":"https://api.github.com/users/Aaron-TangCode/events{/privacy}","received_events_url":"https://api.github.com/users/Aaron-TangCode/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T02:32:51Z","updated_at":"2022-02-10T02:32:51Z","author_association":"CONTRIBUTOR","body":"the problem about wildcard have fixed","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1034429739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1034444432","html_url":"https://github.com/apache/rocketmq/pull/3833#issuecomment-1034444432","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3833","id":1034444432,"node_id":"IC_kwDOBHrsl849qF6Q","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T03:04:59Z","updated_at":"2022-02-10T03:04:59Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/46399558/badge)](https://coveralls.io/builds/46399558)\n\nCoverage decreased (-0.04%) to 51.259% when pulling **f2fb730fe2f5710c491ec31afab480c47aed2e74 on Aaron-TangCode:develop** into **810b75766b7cd6692f871208aaec43f6132abfe1 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1034444432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1034444593","html_url":"https://github.com/apache/rocketmq/pull/3833#issuecomment-1034444593","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3833","id":1034444593,"node_id":"IC_kwDOBHrsl849qF8x","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T03:05:16Z","updated_at":"2022-02-10T03:05:16Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3833?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3833](https://codecov.io/gh/apache/rocketmq/pull/3833?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (f2fb730) into [develop](https://codecov.io/gh/apache/rocketmq/commit/810b75766b7cd6692f871208aaec43f6132abfe1?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (810b757) will **decrease** coverage by `0.06%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3833/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3833?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3833      +/-   ##\n=============================================\n- Coverage      47.25%   47.18%   -0.07%     \n+ Complexity      4892     4884       -8     \n=============================================\n  Files            636      636              \n  Lines          42468    42467       -1     \n  Branches        5553     5553              \n=============================================\n- Hits           20068    20040      -28     \n- Misses         19900    19922      +22     \n- Partials        2500     2505       +5     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3833?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...main/java/org/apache/rocketmq/store/CommitLog.java](https://codecov.io/gh/apache/rocketmq/pull/3833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0NvbW1pdExvZy5qYXZh) | `74.21% <100.00%> (-0.03%)` | :arrow_down: |\n| [...in/java/org/apache/rocketmq/test/util/MQAdmin.java](https://codecov.io/gh/apache/rocketmq/pull/3833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL01RQWRtaW4uamF2YQ==) | `38.88% <0.00%> (-5.56%)` | :arrow_down: |\n| [...org/apache/rocketmq/store/ha/WaitNotifyObject.java](https://codecov.io/gh/apache/rocketmq/pull/3833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL1dhaXROb3RpZnlPYmplY3QuamF2YQ==) | `66.07% <0.00%> (-5.36%)` | :arrow_down: |\n| [...apache/rocketmq/remoting/netty/ResponseFuture.java](https://codecov.io/gh/apache/rocketmq/pull/3833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L1Jlc3BvbnNlRnV0dXJlLmphdmE=) | `85.00% <0.00%> (-5.00%)` | :arrow_down: |\n| [...ketmq/common/protocol/body/ConsumerConnection.java](https://codecov.io/gh/apache/rocketmq/pull/3833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vcHJvdG9jb2wvYm9keS9Db25zdW1lckNvbm5lY3Rpb24uamF2YQ==) | `95.83% <0.00%> (-4.17%)` | :arrow_down: |\n| [...rocketmq/remoting/netty/NettyRemotingAbstract.java](https://codecov.io/gh/apache/rocketmq/pull/3833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdBYnN0cmFjdC5qYXZh) | `46.88% <0.00%> (-4.03%)` | :arrow_down: |\n| [...org/apache/rocketmq/common/stats/StatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/3833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtU2V0LmphdmE=) | `50.74% <0.00%> (-1.50%)` | :arrow_down: |\n| [...he/rocketmq/client/impl/consumer/ProcessQueue.java](https://codecov.io/gh/apache/rocketmq/pull/3833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9Qcm9jZXNzUXVldWUuamF2YQ==) | `61.00% <0.00%> (-0.92%)` | :arrow_down: |\n| [...n/java/org/apache/rocketmq/store/ha/HAService.java](https://codecov.io/gh/apache/rocketmq/pull/3833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL0hBU2VydmljZS5qYXZh) | `71.28% <0.00%> (-0.67%)` | :arrow_down: |\n| [...ent/impl/consumer/DefaultLitePullConsumerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9EZWZhdWx0TGl0ZVB1bGxDb25zdW1lckltcGwuamF2YQ==) | `67.99% <0.00%> (-0.52%)` | :arrow_down: |\n| ... and [5 more](https://codecov.io/gh/apache/rocketmq/pull/3833/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3833?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3833?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [810b757...f2fb730](https://codecov.io/gh/apache/rocketmq/pull/3833?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1034444593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1035089730","html_url":"https://github.com/apache/rocketmq/pull/3838#issuecomment-1035089730","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3838","id":1035089730,"node_id":"IC_kwDOBHrsl849sjdC","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T15:57:25Z","updated_at":"2022-05-09T03:21:27Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/48933096/badge)](https://coveralls.io/builds/48933096)\n\nCoverage increased (+0.2%) to 52.127% when pulling **7679810cb4e34dd8555fcc5d157773cce08280ba on ni-ze:commitOffsetWithMQ** into **c1aeca291ea686a2b7f01ffec30132f5a370a2ab on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1035089730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1035092626","html_url":"https://github.com/apache/rocketmq/pull/3838#issuecomment-1035092626","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3838","id":1035092626,"node_id":"IC_kwDOBHrsl849skKS","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T15:59:44Z","updated_at":"2022-03-10T16:49:29Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3838?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3838](https://codecov.io/gh/apache/rocketmq/pull/3838?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (5496df5) into [develop](https://codecov.io/gh/apache/rocketmq/commit/ca92d367fda6030adde4ce87ee09b335047857ae?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (ca92d36) will **increase** coverage by `0.40%`.\n> The diff coverage is `73.91%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3838/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3838?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3838      +/-   ##\n=============================================\n+ Coverage      47.21%   47.62%   +0.40%     \n- Complexity      4889     4955      +66     \n=============================================\n  Files            636      633       -3     \n  Lines          42468    42589     +121     \n  Branches        5553     5590      +37     \n=============================================\n+ Hits           20051    20282     +231     \n+ Misses         19912    19802     -110     \n  Partials        2505     2505              \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3838?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ent/impl/consumer/DefaultLitePullConsumerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3838/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9EZWZhdWx0TGl0ZVB1bGxDb25zdW1lckltcGwuamF2YQ==) | `70.84% <71.42%> (+2.85%)` | :arrow_up: |\n| [...ketmq/client/consumer/DefaultLitePullConsumer.java](https://codecov.io/gh/apache/rocketmq/pull/3838/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvRGVmYXVsdExpdGVQdWxsQ29uc3VtZXIuamF2YQ==) | `76.36% <100.00%> (+1.51%)` | :arrow_up: |\n| [.../java/org/apache/rocketmq/acl/common/AclUtils.java](https://codecov.io/gh/apache/rocketmq/pull/3838/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YWNsL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9hY2wvY29tbW9uL0FjbFV0aWxzLmphdmE=) | `76.25% <0.00%> (-3.60%)` | :arrow_down: |\n| [...g/apache/rocketmq/broker/util/ServiceProvider.java](https://codecov.io/gh/apache/rocketmq/pull/3838/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdXRpbC9TZXJ2aWNlUHJvdmlkZXIuamF2YQ==) | `46.42% <0.00%> (-3.58%)` | :arrow_down: |\n| [...lient/impl/consumer/DefaultMQPushConsumerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3838/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9EZWZhdWx0TVFQdXNoQ29uc3VtZXJJbXBsLmphdmE=) | `40.17% <0.00%> (-2.29%)` | :arrow_down: |\n| [...e/rocketmq/remoting/netty/NettyRemotingServer.java](https://codecov.io/gh/apache/rocketmq/pull/3838/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdTZXJ2ZXIuamF2YQ==) | `59.24% <0.00%> (-2.04%)` | :arrow_down: |\n| [...pache/rocketmq/store/MultiPathMappedFileQueue.java](https://codecov.io/gh/apache/rocketmq/pull/3838/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL011bHRpUGF0aE1hcHBlZEZpbGVRdWV1ZS5qYXZh) | `92.30% <0.00%> (-1.93%)` | :arrow_down: |\n| [...and/acl/ClusterAclConfigVersionListSubCommand.java](https://codecov.io/gh/apache/rocketmq/pull/3838/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3Rvb2xzL2NvbW1hbmQvYWNsL0NsdXN0ZXJBY2xDb25maWdWZXJzaW9uTGlzdFN1YkNvbW1hbmQuamF2YQ==) | `20.40% <0.00%> (-1.82%)` | :arrow_down: |\n| [...che/rocketmq/remoting/netty/NettyClientConfig.java](https://codecov.io/gh/apache/rocketmq/pull/3838/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5Q2xpZW50Q29uZmlnLmphdmE=) | `48.21% <0.00%> (-1.79%)` | :arrow_down: |\n| [...che/rocketmq/remoting/netty/NettyServerConfig.java](https://codecov.io/gh/apache/rocketmq/pull/3838/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5U2VydmVyQ29uZmlnLmphdmE=) | `48.27% <0.00%> (-1.73%)` | :arrow_down: |\n| ... and [51 more](https://codecov.io/gh/apache/rocketmq/pull/3838/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3838?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3838?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [ca92d36...5496df5](https://codecov.io/gh/apache/rocketmq/pull/3838?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1035092626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1035747521","html_url":"https://github.com/apache/rocketmq/issues/3507#issuecomment-1035747521","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3507","id":1035747521,"node_id":"IC_kwDOBHrsl849vEDB","user":{"login":"lizhiboo","id":16134780,"node_id":"MDQ6VXNlcjE2MTM0Nzgw","avatar_url":"https://avatars.githubusercontent.com/u/16134780?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhiboo","html_url":"https://github.com/lizhiboo","followers_url":"https://api.github.com/users/lizhiboo/followers","following_url":"https://api.github.com/users/lizhiboo/following{/other_user}","gists_url":"https://api.github.com/users/lizhiboo/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhiboo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhiboo/subscriptions","organizations_url":"https://api.github.com/users/lizhiboo/orgs","repos_url":"https://api.github.com/users/lizhiboo/repos","events_url":"https://api.github.com/users/lizhiboo/events{/privacy}","received_events_url":"https://api.github.com/users/lizhiboo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T02:09:48Z","updated_at":"2022-02-11T02:09:48Z","author_association":"CONTRIBUTOR","body":"IMO, using deliverTime as endTime has no effect to pop function, the blue message that is still in SCHEDULE_XXX topic will be delivered to retry topic in advance. The key problem is using deliverTime or storeTime as the end time point using for judging timeout.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1035747521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1035788294","html_url":"https://github.com/apache/rocketmq/issues/3836#issuecomment-1035788294","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3836","id":1035788294,"node_id":"IC_kwDOBHrsl849vOAG","user":{"login":"ni-ze","id":31175234,"node_id":"MDQ6VXNlcjMxMTc1MjM0","avatar_url":"https://avatars.githubusercontent.com/u/31175234?v=4","gravatar_id":"","url":"https://api.github.com/users/ni-ze","html_url":"https://github.com/ni-ze","followers_url":"https://api.github.com/users/ni-ze/followers","following_url":"https://api.github.com/users/ni-ze/following{/other_user}","gists_url":"https://api.github.com/users/ni-ze/gists{/gist_id}","starred_url":"https://api.github.com/users/ni-ze/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ni-ze/subscriptions","organizations_url":"https://api.github.com/users/ni-ze/orgs","repos_url":"https://api.github.com/users/ni-ze/repos","events_url":"https://api.github.com/users/ni-ze/events{/privacy}","received_events_url":"https://api.github.com/users/ni-ze/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T02:29:06Z","updated_at":"2022-02-11T02:29:06Z","author_association":"CONTRIBUTOR","body":"@RishiKumarRay @caigy I think we can add @deprecated on this class, then removed after several versions. ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1035788294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1035796007","html_url":"https://github.com/apache/rocketmq/pull/3839#issuecomment-1035796007","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3839","id":1035796007,"node_id":"IC_kwDOBHrsl849vP4n","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T02:32:51Z","updated_at":"2022-02-11T02:32:51Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/46441851/badge)](https://coveralls.io/builds/46441851)\n\nCoverage increased (+0.06%) to 51.326% when pulling **8f995f6986b867e6e627b1ede9a5fc8ee1ef9c0e on zhangjidi2016:add_ut** into **4992f4ee9c09222ed1aaf76f3f4b54f4fedc6ffd on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1035796007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1035796353","html_url":"https://github.com/apache/rocketmq/pull/3839#issuecomment-1035796353","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3839","id":1035796353,"node_id":"IC_kwDOBHrsl849vP-B","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T02:33:02Z","updated_at":"2022-02-11T02:33:02Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3839?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3839](https://codecov.io/gh/apache/rocketmq/pull/3839?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (8f995f6) into [develop](https://codecov.io/gh/apache/rocketmq/commit/810b75766b7cd6692f871208aaec43f6132abfe1?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (810b757) will **decrease** coverage by `0.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3839/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3839?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3839      +/-   ##\n=============================================\n- Coverage      47.25%   47.23%   -0.02%     \n- Complexity      4892     4899       +7     \n=============================================\n  Files            636      636              \n  Lines          42468    42481      +13     \n  Branches        5553     5561       +8     \n=============================================\n- Hits           20068    20066       -2     \n+ Misses         19900    19896       -4     \n- Partials        2500     2519      +19     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3839?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...org/apache/rocketmq/common/stats/StatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/3839/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtU2V0LmphdmE=) | `44.77% <0.00%> (-7.47%)` | :arrow_down: |\n| [...org/apache/rocketmq/store/ha/WaitNotifyObject.java](https://codecov.io/gh/apache/rocketmq/pull/3839/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL1dhaXROb3RpZnlPYmplY3QuamF2YQ==) | `66.07% <0.00%> (-5.36%)` | :arrow_down: |\n| [...e/rocketmq/remoting/netty/NettyRemotingServer.java](https://codecov.io/gh/apache/rocketmq/pull/3839/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdTZXJ2ZXIuamF2YQ==) | `59.24% <0.00%> (-2.04%)` | :arrow_down: |\n| [...che/rocketmq/remoting/netty/NettyClientConfig.java](https://codecov.io/gh/apache/rocketmq/pull/3839/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5Q2xpZW50Q29uZmlnLmphdmE=) | `48.21% <0.00%> (-1.79%)` | :arrow_down: |\n| [...che/rocketmq/remoting/netty/NettyServerConfig.java](https://codecov.io/gh/apache/rocketmq/pull/3839/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5U2VydmVyQ29uZmlnLmphdmE=) | `48.27% <0.00%> (-1.73%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/store/ha/HAConnection.java](https://codecov.io/gh/apache/rocketmq/pull/3839/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL0hBQ29ubmVjdGlvbi5qYXZh) | `66.51% <0.00%> (-1.51%)` | :arrow_down: |\n| [...he/rocketmq/client/trace/AsyncTraceDispatcher.java](https://codecov.io/gh/apache/rocketmq/pull/3839/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvdHJhY2UvQXN5bmNUcmFjZURpc3BhdGNoZXIuamF2YQ==) | `78.21% <0.00%> (-1.49%)` | :arrow_down: |\n| [...ketmq/common/protocol/body/RegisterBrokerBody.java](https://codecov.io/gh/apache/rocketmq/pull/3839/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vcHJvdG9jb2wvYm9keS9SZWdpc3RlckJyb2tlckJvZHkuamF2YQ==) | `83.69% <0.00%> (-1.09%)` | :arrow_down: |\n| [...e/rocketmq/remoting/netty/NettyRemotingClient.java](https://codecov.io/gh/apache/rocketmq/pull/3839/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdDbGllbnQuamF2YQ==) | `46.61% <0.00%> (-0.95%)` | :arrow_down: |\n| [...n/java/org/apache/rocketmq/store/ha/HAService.java](https://codecov.io/gh/apache/rocketmq/pull/3839/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL0hBU2VydmljZS5qYXZh) | `71.28% <0.00%> (-0.67%)` | :arrow_down: |\n| ... and [13 more](https://codecov.io/gh/apache/rocketmq/pull/3839/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3839?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3839?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [810b757...8f995f6](https://codecov.io/gh/apache/rocketmq/pull/3839?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1035796353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1035931746","html_url":"https://github.com/apache/rocketmq/issues/2653#issuecomment-1035931746","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2653","id":1035931746,"node_id":"IC_kwDOBHrsl849vxBi","user":{"login":"dujingsong","id":32673188,"node_id":"MDQ6VXNlcjMyNjczMTg4","avatar_url":"https://avatars.githubusercontent.com/u/32673188?v=4","gravatar_id":"","url":"https://api.github.com/users/dujingsong","html_url":"https://github.com/dujingsong","followers_url":"https://api.github.com/users/dujingsong/followers","following_url":"https://api.github.com/users/dujingsong/following{/other_user}","gists_url":"https://api.github.com/users/dujingsong/gists{/gist_id}","starred_url":"https://api.github.com/users/dujingsong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dujingsong/subscriptions","organizations_url":"https://api.github.com/users/dujingsong/orgs","repos_url":"https://api.github.com/users/dujingsong/repos","events_url":"https://api.github.com/users/dujingsong/events{/privacy}","received_events_url":"https://api.github.com/users/dujingsong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T07:05:56Z","updated_at":"2022-02-11T07:05:56Z","author_association":"NONE","body":"> > > > instanceName\r\n> > > \r\n> > > \r\n> > > > > > > 只有在广播模式的时候可以连上broker2,集群模式的时候只能消费broker1上的消息\r\n> > > > > > \r\n> > > > > > \r\n> > > > > > 消费者只启动了单台吗？是以容器的方式启动的吗？\r\n> > > > > \r\n> > > > > \r\n> > > > > 用的是docker容器启动的集群\r\n> > > > \r\n> > > > \r\n> > > > 是同一台机器上有多个docker容器吗？是不是instanceName相同导致的，可以consumer强制setInstanceName，保证每一个consumer的instanceName都独一无二试试\r\n> > > \r\n> > > \r\n> > > 是通过docker-compose搭建的单机集群，集群架构是2nameServer+2master+2salve\r\n> > > 这个是docker-compose的配置文件\r\n> > > [docker-compose.txt](https://github.com/apache/rocketmq/files/6002156/docker-compose.txt)\r\n> \r\n> 设置强制消费也测试过，不起作用\r\n\r\n哈喽，我遇到过此情况，不知道能否解决你的问题。先启动一个broker集群，正常收发消息，后面扩容了一个broker集群，扩容的集群能发送消息，但是没有消费，我通过console将topic以及消费组添加到新集群中后能够消费消息。扩容broker集群提前将plain_acl.yml、topics.json 以及subscriptionGroup.json文件拷贝到新集群的相应目录下能够避免此问题。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1035931746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1035934161","html_url":"https://github.com/apache/rocketmq/issues/3836#issuecomment-1035934161","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3836","id":1035934161,"node_id":"IC_kwDOBHrsl849vxnR","user":{"login":"RishiKumarRay","id":87641376,"node_id":"MDQ6VXNlcjg3NjQxMzc2","avatar_url":"https://avatars.githubusercontent.com/u/87641376?v=4","gravatar_id":"","url":"https://api.github.com/users/RishiKumarRay","html_url":"https://github.com/RishiKumarRay","followers_url":"https://api.github.com/users/RishiKumarRay/followers","following_url":"https://api.github.com/users/RishiKumarRay/following{/other_user}","gists_url":"https://api.github.com/users/RishiKumarRay/gists{/gist_id}","starred_url":"https://api.github.com/users/RishiKumarRay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RishiKumarRay/subscriptions","organizations_url":"https://api.github.com/users/RishiKumarRay/orgs","repos_url":"https://api.github.com/users/RishiKumarRay/repos","events_url":"https://api.github.com/users/RishiKumarRay/events{/privacy}","received_events_url":"https://api.github.com/users/RishiKumarRay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T07:11:34Z","updated_at":"2022-02-11T07:11:34Z","author_association":"CONTRIBUTOR","body":"@ni-ze so do i restore the file and add @deprecated","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1035934161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1035991336","html_url":"https://github.com/apache/rocketmq/pull/3780#issuecomment-1035991336","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3780","id":1035991336,"node_id":"IC_kwDOBHrsl849v_ko","user":{"login":"cserwen","id":46882838,"node_id":"MDQ6VXNlcjQ2ODgyODM4","avatar_url":"https://avatars.githubusercontent.com/u/46882838?v=4","gravatar_id":"","url":"https://api.github.com/users/cserwen","html_url":"https://github.com/cserwen","followers_url":"https://api.github.com/users/cserwen/followers","following_url":"https://api.github.com/users/cserwen/following{/other_user}","gists_url":"https://api.github.com/users/cserwen/gists{/gist_id}","starred_url":"https://api.github.com/users/cserwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cserwen/subscriptions","organizations_url":"https://api.github.com/users/cserwen/orgs","repos_url":"https://api.github.com/users/cserwen/repos","events_url":"https://api.github.com/users/cserwen/events{/privacy}","received_events_url":"https://api.github.com/users/cserwen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T08:52:08Z","updated_at":"2022-02-11T08:52:08Z","author_association":"MEMBER","body":"> \r\n\r\n@lizhiboo  Ok, I will rebase it.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1035991336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1035998737","html_url":"https://github.com/apache/rocketmq/issues/3787#issuecomment-1035998737","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3787","id":1035998737,"node_id":"IC_kwDOBHrsl849wBYR","user":{"login":"cserwen","id":46882838,"node_id":"MDQ6VXNlcjQ2ODgyODM4","avatar_url":"https://avatars.githubusercontent.com/u/46882838?v=4","gravatar_id":"","url":"https://api.github.com/users/cserwen","html_url":"https://github.com/cserwen","followers_url":"https://api.github.com/users/cserwen/followers","following_url":"https://api.github.com/users/cserwen/following{/other_user}","gists_url":"https://api.github.com/users/cserwen/gists{/gist_id}","starred_url":"https://api.github.com/users/cserwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cserwen/subscriptions","organizations_url":"https://api.github.com/users/cserwen/orgs","repos_url":"https://api.github.com/users/cserwen/repos","events_url":"https://api.github.com/users/cserwen/events{/privacy}","received_events_url":"https://api.github.com/users/cserwen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T09:03:00Z","updated_at":"2022-02-11T09:03:00Z","author_association":"MEMBER","body":"> @cserwen if we set the corresponding ack message timeout > 10s, that is longer than ck message timeout. Is this problem will be solved? BTW, i don't understand the adjust - 1500, do u know in which case it works?\r\n\r\n@lizhiboo  \r\n设置这个ack消息的超时时间超过10s，我不太明白这个怎么避免这个问题的发生:joy:\r\n\r\n关于这个 - 1.5s的判断，在添加ack消息时会进行判断， 如果ack消息对应的ck消息在buffer中待的时间超过了`brokerController.getBrokerConfig().getPopCkStayBufferTime() - 1500`，这个时间，ack消息就必须写入延时Topic中，即这个时候ck消息不能被ack了，等reviveService去处理这部分ack消息。 我认为这1.5s应该是为了不想要加锁，提前禁止ck消息被ack？","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1035998737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1036003012","html_url":"https://github.com/apache/rocketmq/issues/3507#issuecomment-1036003012","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3507","id":1036003012,"node_id":"IC_kwDOBHrsl849wCbE","user":{"login":"cserwen","id":46882838,"node_id":"MDQ6VXNlcjQ2ODgyODM4","avatar_url":"https://avatars.githubusercontent.com/u/46882838?v=4","gravatar_id":"","url":"https://api.github.com/users/cserwen","html_url":"https://github.com/cserwen","followers_url":"https://api.github.com/users/cserwen/followers","following_url":"https://api.github.com/users/cserwen/following{/other_user}","gists_url":"https://api.github.com/users/cserwen/gists{/gist_id}","starred_url":"https://api.github.com/users/cserwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cserwen/subscriptions","organizations_url":"https://api.github.com/users/cserwen/orgs","repos_url":"https://api.github.com/users/cserwen/repos","events_url":"https://api.github.com/users/cserwen/events{/privacy}","received_events_url":"https://api.github.com/users/cserwen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T09:08:58Z","updated_at":"2022-02-11T09:08:58Z","author_association":"MEMBER","body":"> IMO, using deliverTime as endTime has no effect to pop function, the blue message that is still in SCHEDULE_XXX topic will be delivered to retry topic in advance. The key problem is using deliverTime or storeTime as the end time point using for judging timeout.\r\n\r\n@lizhiboo I think this works, if this endtime is true, the judgment on recovery here will take effect,\r\nhttps://github.com/apache/rocketmq/blob/631405e2fba8849f9bce5e275825aa16944b8097/broker/src/main/java/org/apache/rocketmq/broker/processor/PopReviveService.java#L344","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1036003012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1036019020","html_url":"https://github.com/apache/rocketmq/issues/3841#issuecomment-1036019020","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3841","id":1036019020,"node_id":"IC_kwDOBHrsl849wGVM","user":{"login":"cserwen","id":46882838,"node_id":"MDQ6VXNlcjQ2ODgyODM4","avatar_url":"https://avatars.githubusercontent.com/u/46882838?v=4","gravatar_id":"","url":"https://api.github.com/users/cserwen","html_url":"https://github.com/cserwen","followers_url":"https://api.github.com/users/cserwen/followers","following_url":"https://api.github.com/users/cserwen/following{/other_user}","gists_url":"https://api.github.com/users/cserwen/gists{/gist_id}","starred_url":"https://api.github.com/users/cserwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cserwen/subscriptions","organizations_url":"https://api.github.com/users/cserwen/orgs","repos_url":"https://api.github.com/users/cserwen/repos","events_url":"https://api.github.com/users/cserwen/events{/privacy}","received_events_url":"https://api.github.com/users/cserwen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T09:31:41Z","updated_at":"2022-02-11T09:31:41Z","author_association":"MEMBER","body":"@Hachiko-JQ 可以实现`RocketMQListener`接口，onMessage抛出异常会认为消费失败，会返回RECONSUME_LATER。\r\n另外，我觉得你应该在这个repo中提issue:  https://github.com/apache/rocketmq-spring  :blush:","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1036019020/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1036038208","html_url":"https://github.com/apache/rocketmq/issues/3842#issuecomment-1036038208","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3842","id":1036038208,"node_id":"IC_kwDOBHrsl849wLBA","user":{"login":"cserwen","id":46882838,"node_id":"MDQ6VXNlcjQ2ODgyODM4","avatar_url":"https://avatars.githubusercontent.com/u/46882838?v=4","gravatar_id":"","url":"https://api.github.com/users/cserwen","html_url":"https://github.com/cserwen","followers_url":"https://api.github.com/users/cserwen/followers","following_url":"https://api.github.com/users/cserwen/following{/other_user}","gists_url":"https://api.github.com/users/cserwen/gists{/gist_id}","starred_url":"https://api.github.com/users/cserwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cserwen/subscriptions","organizations_url":"https://api.github.com/users/cserwen/orgs","repos_url":"https://api.github.com/users/cserwen/repos","events_url":"https://api.github.com/users/cserwen/events{/privacy}","received_events_url":"https://api.github.com/users/cserwen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T09:57:14Z","updated_at":"2022-02-11T09:57:14Z","author_association":"MEMBER","body":"https://github.com/apache/rocketmq-dashboard  You can deploy this service to manage your cluster.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1036038208/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1036059906","html_url":"https://github.com/apache/rocketmq/issues/3805#issuecomment-1036059906","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3805","id":1036059906,"node_id":"IC_kwDOBHrsl849wQUC","user":{"login":"cserwen","id":46882838,"node_id":"MDQ6VXNlcjQ2ODgyODM4","avatar_url":"https://avatars.githubusercontent.com/u/46882838?v=4","gravatar_id":"","url":"https://api.github.com/users/cserwen","html_url":"https://github.com/cserwen","followers_url":"https://api.github.com/users/cserwen/followers","following_url":"https://api.github.com/users/cserwen/following{/other_user}","gists_url":"https://api.github.com/users/cserwen/gists{/gist_id}","starred_url":"https://api.github.com/users/cserwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cserwen/subscriptions","organizations_url":"https://api.github.com/users/cserwen/orgs","repos_url":"https://api.github.com/users/cserwen/repos","events_url":"https://api.github.com/users/cserwen/events{/privacy}","received_events_url":"https://api.github.com/users/cserwen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T10:26:41Z","updated_at":"2022-02-11T10:26:41Z","author_association":"MEMBER","body":"I think you are talking about this metric:`BROKER_GET_NUMS`. ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1036059906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1036352872","html_url":"https://github.com/apache/rocketmq/pull/3844#issuecomment-1036352872","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3844","id":1036352872,"node_id":"IC_kwDOBHrsl849xX1o","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T15:50:00Z","updated_at":"2022-02-11T16:24:04Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/46463953/badge)](https://coveralls.io/builds/46463953)\n\nCoverage increased (+0.04%) to 51.348% when pulling **1d89104c2f8765d0a8b387067597ad9bfc2491c4 on yuz10:develop8** into **8b78f6114f92cc3e482eab602e4b5cdff9d79f0c on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1036352872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1037755984","html_url":"https://github.com/apache/rocketmq/issues/3843#issuecomment-1037755984","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3843","id":1037755984,"node_id":"IC_kwDOBHrsl8492uZQ","user":{"login":"ltamber","id":5679413,"node_id":"MDQ6VXNlcjU2Nzk0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/5679413?v=4","gravatar_id":"","url":"https://api.github.com/users/ltamber","html_url":"https://github.com/ltamber","followers_url":"https://api.github.com/users/ltamber/followers","following_url":"https://api.github.com/users/ltamber/following{/other_user}","gists_url":"https://api.github.com/users/ltamber/gists{/gist_id}","starred_url":"https://api.github.com/users/ltamber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ltamber/subscriptions","organizations_url":"https://api.github.com/users/ltamber/orgs","repos_url":"https://api.github.com/users/ltamber/repos","events_url":"https://api.github.com/users/ltamber/events{/privacy}","received_events_url":"https://api.github.com/users/ltamber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-13T04:24:21Z","updated_at":"2022-02-13T04:24:21Z","author_association":"CONTRIBUTOR","body":"Can we give more details about this RIP ? Additionally, RIP-32 may occupied by #3824  ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1037755984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1038532351","html_url":"https://github.com/apache/rocketmq/issues/3836#issuecomment-1038532351","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3836","id":1038532351,"node_id":"IC_kwDOBHrsl8495r7_","user":{"login":"ni-ze","id":31175234,"node_id":"MDQ6VXNlcjMxMTc1MjM0","avatar_url":"https://avatars.githubusercontent.com/u/31175234?v=4","gravatar_id":"","url":"https://api.github.com/users/ni-ze","html_url":"https://github.com/ni-ze","followers_url":"https://api.github.com/users/ni-ze/followers","following_url":"https://api.github.com/users/ni-ze/following{/other_user}","gists_url":"https://api.github.com/users/ni-ze/gists{/gist_id}","starred_url":"https://api.github.com/users/ni-ze/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ni-ze/subscriptions","organizations_url":"https://api.github.com/users/ni-ze/orgs","repos_url":"https://api.github.com/users/ni-ze/repos","events_url":"https://api.github.com/users/ni-ze/events{/privacy}","received_events_url":"https://api.github.com/users/ni-ze/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T01:30:38Z","updated_at":"2022-02-14T01:31:49Z","author_association":"CONTRIBUTOR","body":"> @ni-ze so do i restore the file and add @deprecated\r\n\r\nok, add @Deprecated is ok.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1038532351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1038603418","html_url":"https://github.com/apache/rocketmq/issues/3840#issuecomment-1038603418","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3840","id":1038603418,"node_id":"IC_kwDOBHrsl84959Sa","user":{"login":"dongeforever","id":8434428,"node_id":"MDQ6VXNlcjg0MzQ0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8434428?v=4","gravatar_id":"","url":"https://api.github.com/users/dongeforever","html_url":"https://github.com/dongeforever","followers_url":"https://api.github.com/users/dongeforever/followers","following_url":"https://api.github.com/users/dongeforever/following{/other_user}","gists_url":"https://api.github.com/users/dongeforever/gists{/gist_id}","starred_url":"https://api.github.com/users/dongeforever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongeforever/subscriptions","organizations_url":"https://api.github.com/users/dongeforever/orgs","repos_url":"https://api.github.com/users/dongeforever/repos","events_url":"https://api.github.com/users/dongeforever/events{/privacy}","received_events_url":"https://api.github.com/users/dongeforever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T03:45:29Z","updated_at":"2022-02-14T03:45:29Z","author_association":"MEMBER","body":"currently, it is not able to add broker to a dledger group dynamically.  You need to change the dledger configuration and restart all the brokers in the group.\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1038603418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1038604957","html_url":"https://github.com/apache/rocketmq/issues/3836#issuecomment-1038604957","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3836","id":1038604957,"node_id":"IC_kwDOBHrsl84959qd","user":{"login":"RishiKumarRay","id":87641376,"node_id":"MDQ6VXNlcjg3NjQxMzc2","avatar_url":"https://avatars.githubusercontent.com/u/87641376?v=4","gravatar_id":"","url":"https://api.github.com/users/RishiKumarRay","html_url":"https://github.com/RishiKumarRay","followers_url":"https://api.github.com/users/RishiKumarRay/followers","following_url":"https://api.github.com/users/RishiKumarRay/following{/other_user}","gists_url":"https://api.github.com/users/RishiKumarRay/gists{/gist_id}","starred_url":"https://api.github.com/users/RishiKumarRay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RishiKumarRay/subscriptions","organizations_url":"https://api.github.com/users/RishiKumarRay/orgs","repos_url":"https://api.github.com/users/RishiKumarRay/repos","events_url":"https://api.github.com/users/RishiKumarRay/events{/privacy}","received_events_url":"https://api.github.com/users/RishiKumarRay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T03:49:08Z","updated_at":"2022-02-14T03:49:08Z","author_association":"CONTRIBUTOR","body":"@ni-ze please check this PR , i had to close previous one due to some problem. Thanks","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1038604957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1038606334","html_url":"https://github.com/apache/rocketmq/issues/3840#issuecomment-1038606334","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3840","id":1038606334,"node_id":"IC_kwDOBHrsl84959_-","user":{"login":"dongeforever","id":8434428,"node_id":"MDQ6VXNlcjg0MzQ0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8434428?v=4","gravatar_id":"","url":"https://api.github.com/users/dongeforever","html_url":"https://github.com/dongeforever","followers_url":"https://api.github.com/users/dongeforever/followers","following_url":"https://api.github.com/users/dongeforever/following{/other_user}","gists_url":"https://api.github.com/users/dongeforever/gists{/gist_id}","starred_url":"https://api.github.com/users/dongeforever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongeforever/subscriptions","organizations_url":"https://api.github.com/users/dongeforever/orgs","repos_url":"https://api.github.com/users/dongeforever/repos","events_url":"https://api.github.com/users/dongeforever/events{/privacy}","received_events_url":"https://api.github.com/users/dongeforever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T03:52:59Z","updated_at":"2022-02-14T03:52:59Z","author_association":"MEMBER","body":"@qq958905365 Could you describe the detailed use case? Why do need to add a broker to a running cluster?\r\nIn fact, I used to think this op is not practical. \r\nIt is better to fix the replica number during the deployment.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1038606334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1038790016","html_url":"https://github.com/apache/rocketmq/issues/3805#issuecomment-1038790016","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3805","id":1038790016,"node_id":"IC_kwDOBHrsl8496q2A","user":{"login":"coder-zzzz","id":62043001,"node_id":"MDQ6VXNlcjYyMDQzMDAx","avatar_url":"https://avatars.githubusercontent.com/u/62043001?v=4","gravatar_id":"","url":"https://api.github.com/users/coder-zzzz","html_url":"https://github.com/coder-zzzz","followers_url":"https://api.github.com/users/coder-zzzz/followers","following_url":"https://api.github.com/users/coder-zzzz/following{/other_user}","gists_url":"https://api.github.com/users/coder-zzzz/gists{/gist_id}","starred_url":"https://api.github.com/users/coder-zzzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coder-zzzz/subscriptions","organizations_url":"https://api.github.com/users/coder-zzzz/orgs","repos_url":"https://api.github.com/users/coder-zzzz/repos","events_url":"https://api.github.com/users/coder-zzzz/events{/privacy}","received_events_url":"https://api.github.com/users/coder-zzzz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T08:24:16Z","updated_at":"2022-02-14T08:24:16Z","author_association":"CONTRIBUTOR","body":"> BROKER_GET_NUMS\r\n\r\nyou are right! Tks","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1038790016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1038805078","html_url":"https://github.com/apache/rocketmq/issues/3747#issuecomment-1038805078","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3747","id":1038805078,"node_id":"IC_kwDOBHrsl8496uhW","user":{"login":"Cczzzz","id":32947555,"node_id":"MDQ6VXNlcjMyOTQ3NTU1","avatar_url":"https://avatars.githubusercontent.com/u/32947555?v=4","gravatar_id":"","url":"https://api.github.com/users/Cczzzz","html_url":"https://github.com/Cczzzz","followers_url":"https://api.github.com/users/Cczzzz/followers","following_url":"https://api.github.com/users/Cczzzz/following{/other_user}","gists_url":"https://api.github.com/users/Cczzzz/gists{/gist_id}","starred_url":"https://api.github.com/users/Cczzzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cczzzz/subscriptions","organizations_url":"https://api.github.com/users/Cczzzz/orgs","repos_url":"https://api.github.com/users/Cczzzz/repos","events_url":"https://api.github.com/users/Cczzzz/events{/privacy}","received_events_url":"https://api.github.com/users/Cczzzz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T08:40:42Z","updated_at":"2022-02-14T08:40:42Z","author_association":"CONTRIBUTOR","body":"> > If the new leader has a smaller offset of the queue, it causes an \"out of range\" problem, which will make the client reset the consumed offsets to the earliest or the latest.\r\n> \r\n> This may be @Cczzzz repeated consumption. If it will only lead to repeated consumption, it may be possible to sacrifice this part slightly. For example, the waiting time-out for building CQ is 30s\r\n\r\nI want to keep the election time as short as possible, is it okay to skip this part","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1038805078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1038826714","html_url":"https://github.com/apache/rocketmq/issues/3747#issuecomment-1038826714","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3747","id":1038826714,"node_id":"IC_kwDOBHrsl8496zza","user":{"login":"dongeforever","id":8434428,"node_id":"MDQ6VXNlcjg0MzQ0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8434428?v=4","gravatar_id":"","url":"https://api.github.com/users/dongeforever","html_url":"https://github.com/dongeforever","followers_url":"https://api.github.com/users/dongeforever/followers","following_url":"https://api.github.com/users/dongeforever/following{/other_user}","gists_url":"https://api.github.com/users/dongeforever/gists{/gist_id}","starred_url":"https://api.github.com/users/dongeforever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongeforever/subscriptions","organizations_url":"https://api.github.com/users/dongeforever/orgs","repos_url":"https://api.github.com/users/dongeforever/repos","events_url":"https://api.github.com/users/dongeforever/events{/privacy}","received_events_url":"https://api.github.com/users/dongeforever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T09:05:11Z","updated_at":"2022-02-14T09:05:11Z","author_association":"MEMBER","body":"@Cczzzz Out of range is a serious problem, it will cause abnormal repetition from the min offset.\r\n\r\nSo it is not ok to skip it.\r\n\r\nThe better way is to improve the dispatch performance.\r\n\r\nIn fact, the 5.0 will use multi-threads to do the dispatch, which will gain much performance. ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1038826714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1038841799","html_url":"https://github.com/apache/rocketmq/issues/3843#issuecomment-1038841799","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3843","id":1038841799,"node_id":"IC_kwDOBHrsl84963fH","user":{"login":"dongeforever","id":8434428,"node_id":"MDQ6VXNlcjg0MzQ0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8434428?v=4","gravatar_id":"","url":"https://api.github.com/users/dongeforever","html_url":"https://github.com/dongeforever","followers_url":"https://api.github.com/users/dongeforever/followers","following_url":"https://api.github.com/users/dongeforever/following{/other_user}","gists_url":"https://api.github.com/users/dongeforever/gists{/gist_id}","starred_url":"https://api.github.com/users/dongeforever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongeforever/subscriptions","organizations_url":"https://api.github.com/users/dongeforever/orgs","repos_url":"https://api.github.com/users/dongeforever/repos","events_url":"https://api.github.com/users/dongeforever/events{/privacy}","received_events_url":"https://api.github.com/users/dongeforever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T09:17:27Z","updated_at":"2022-02-14T09:17:27Z","author_association":"MEMBER","body":"@Cczzzz Do you mean the metadata discovery time is too long when the broker role changes?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1038841799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1038882618","html_url":"https://github.com/apache/rocketmq/issues/3245#issuecomment-1038882618","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3245","id":1038882618,"node_id":"IC_kwDOBHrsl8497Bc6","user":{"login":"WonderMing13","id":31891548,"node_id":"MDQ6VXNlcjMxODkxNTQ4","avatar_url":"https://avatars.githubusercontent.com/u/31891548?v=4","gravatar_id":"","url":"https://api.github.com/users/WonderMing13","html_url":"https://github.com/WonderMing13","followers_url":"https://api.github.com/users/WonderMing13/followers","following_url":"https://api.github.com/users/WonderMing13/following{/other_user}","gists_url":"https://api.github.com/users/WonderMing13/gists{/gist_id}","starred_url":"https://api.github.com/users/WonderMing13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WonderMing13/subscriptions","organizations_url":"https://api.github.com/users/WonderMing13/orgs","repos_url":"https://api.github.com/users/WonderMing13/repos","events_url":"https://api.github.com/users/WonderMing13/events{/privacy}","received_events_url":"https://api.github.com/users/WonderMing13/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T09:57:41Z","updated_at":"2022-02-14T09:57:41Z","author_association":"NONE","body":"@aaron-ai What is the variable roundNum mean? Is the variable entireSpace can replace  variable totalSpace? \r\nI don't understand this code, can you give me some pointers?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1038882618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1039178570","html_url":"https://github.com/apache/rocketmq/pull/3847#issuecomment-1039178570","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3847","id":1039178570,"node_id":"IC_kwDOBHrsl8498JtK","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T14:52:23Z","updated_at":"2022-02-14T14:52:23Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3847?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3847](https://codecov.io/gh/apache/rocketmq/pull/3847?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (40a86b3) into [5.0.0-alpha](https://codecov.io/gh/apache/rocketmq/commit/de76e06d6da8e8646d2ac59ea061e8dc2653aae8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (de76e06) will **increase** coverage by `0.09%`.\n> The diff coverage is `85.18%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3847/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3847?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@                Coverage Diff                @@\n##             5.0.0-alpha    #3847      +/-   ##\n=================================================\n+ Coverage          46.50%   46.59%   +0.09%     \n- Complexity          5330     5349      +19     \n=================================================\n  Files                641      641              \n  Lines              44348    44375      +27     \n  Branches            6117     6121       +4     \n=================================================\n+ Hits               20624    20677      +53     \n+ Misses             20998    20971      -27     \n- Partials            2726     2727       +1     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3847?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...org/apache/rocketmq/store/DefaultMessageStore.java](https://codecov.io/gh/apache/rocketmq/pull/3847/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0RlZmF1bHRNZXNzYWdlU3RvcmUuamF2YQ==) | `58.45% <85.18%> (+0.68%)` | :arrow_up: |\n| [...rocketmq/broker/filtersrv/FilterServerManager.java](https://codecov.io/gh/apache/rocketmq/pull/3847/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvZmlsdGVyc3J2L0ZpbHRlclNlcnZlck1hbmFnZXIuamF2YQ==) | `20.00% <0.00%> (-14.29%)` | :arrow_down: |\n| [...che/rocketmq/acl/plain/PlainPermissionManager.java](https://codecov.io/gh/apache/rocketmq/pull/3847/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YWNsL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9hY2wvcGxhaW4vUGxhaW5QZXJtaXNzaW9uTWFuYWdlci5qYXZh) | `70.53% <0.00%> (-1.34%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/filter/util/BitsArray.java](https://codecov.io/gh/apache/rocketmq/pull/3847/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CaXRzQXJyYXkuamF2YQ==) | `59.82% <0.00%> (ø)` | |\n| [...etmq/client/latency/LatencyFaultToleranceImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3847/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvbGF0ZW5jeS9MYXRlbmN5RmF1bHRUb2xlcmFuY2VJbXBsLmphdmE=) | `50.00% <0.00%> (ø)` | |\n| [...mq/client/impl/producer/DefaultMQProducerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3847/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9wcm9kdWNlci9EZWZhdWx0TVFQcm9kdWNlckltcGwuamF2YQ==) | `46.13% <0.00%> (+0.24%)` | :arrow_up: |\n| [...he/rocketmq/client/trace/AsyncTraceDispatcher.java](https://codecov.io/gh/apache/rocketmq/pull/3847/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvdHJhY2UvQXN5bmNUcmFjZURpc3BhdGNoZXIuamF2YQ==) | `78.21% <0.00%> (+0.49%)` | :arrow_up: |\n| [...main/java/org/apache/rocketmq/store/CommitLog.java](https://codecov.io/gh/apache/rocketmq/pull/3847/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0NvbW1pdExvZy5qYXZh) | `67.95% <0.00%> (+0.49%)` | :arrow_up: |\n| [...va/org/apache/rocketmq/store/util/PerfCounter.java](https://codecov.io/gh/apache/rocketmq/pull/3847/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL3V0aWwvUGVyZkNvdW50ZXIuamF2YQ==) | `65.96% <0.00%> (+1.04%)` | :arrow_up: |\n| [...n/java/org/apache/rocketmq/store/ConsumeQueue.java](https://codecov.io/gh/apache/rocketmq/pull/3847/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0NvbnN1bWVRdWV1ZS5qYXZh) | `67.20% <0.00%> (+1.06%)` | :arrow_up: |\n| ... and [4 more](https://codecov.io/gh/apache/rocketmq/pull/3847/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3847?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3847?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [de76e06...40a86b3](https://codecov.io/gh/apache/rocketmq/pull/3847?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1039178570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1039194596","html_url":"https://github.com/apache/rocketmq/pull/3847#issuecomment-1039194596","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3847","id":1039194596,"node_id":"IC_kwDOBHrsl8498Nnk","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T15:06:15Z","updated_at":"2022-02-14T15:06:15Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/46519080/badge)](https://coveralls.io/builds/46519080)\n\nCoverage increased (+0.09%) to 52.707% when pulling **40a86b371132090f76ebe54c86837c71583297d8 on Erik1288:5.0.0-alpha-swap-page-table** into **de76e06d6da8e8646d2ac59ea061e8dc2653aae8 on apache:5.0.0-alpha**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1039194596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1039778656","html_url":"https://github.com/apache/rocketmq/pull/3847#issuecomment-1039778656","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3847","id":1039778656,"node_id":"IC_kwDOBHrsl849-cNg","user":{"login":"zhouxinyu","id":3961183,"node_id":"MDQ6VXNlcjM5NjExODM=","avatar_url":"https://avatars.githubusercontent.com/u/3961183?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouxinyu","html_url":"https://github.com/zhouxinyu","followers_url":"https://api.github.com/users/zhouxinyu/followers","following_url":"https://api.github.com/users/zhouxinyu/following{/other_user}","gists_url":"https://api.github.com/users/zhouxinyu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouxinyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouxinyu/subscriptions","organizations_url":"https://api.github.com/users/zhouxinyu/orgs","repos_url":"https://api.github.com/users/zhouxinyu/repos","events_url":"https://api.github.com/users/zhouxinyu/events{/privacy}","received_events_url":"https://api.github.com/users/zhouxinyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T02:16:51Z","updated_at":"2022-02-15T02:16:51Z","author_association":"MEMBER","body":"The commits are confused, we have 126 commits with only two simple code segments. I suggest squashing these commits to one commit.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1039778656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1039798492","html_url":"https://github.com/apache/rocketmq/pull/3848#issuecomment-1039798492","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3848","id":1039798492,"node_id":"IC_kwDOBHrsl849-hDc","user":{"login":"zhouxinyu","id":3961183,"node_id":"MDQ6VXNlcjM5NjExODM=","avatar_url":"https://avatars.githubusercontent.com/u/3961183?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouxinyu","html_url":"https://github.com/zhouxinyu","followers_url":"https://api.github.com/users/zhouxinyu/followers","following_url":"https://api.github.com/users/zhouxinyu/following{/other_user}","gists_url":"https://api.github.com/users/zhouxinyu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouxinyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouxinyu/subscriptions","organizations_url":"https://api.github.com/users/zhouxinyu/orgs","repos_url":"https://api.github.com/users/zhouxinyu/repos","events_url":"https://api.github.com/users/zhouxinyu/events{/privacy}","received_events_url":"https://api.github.com/users/zhouxinyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T02:58:06Z","updated_at":"2022-02-15T02:58:06Z","author_association":"MEMBER","body":"More suggested comments:\r\n1. Add some comments for interface Swappable, it's difficult to understand the specific meaning of `swapMap` and `cleanSwappedMap` directly. \r\n2. Add unit tests for this PR, and the implementations of `Swappable`. \r\n3. Maybe only MappedFile and MappedFileQueue implement `Swappable` is enough, it's a little strange that CommitLog and ConsumeQueueStore also is a subclass of this interface.\r\n\r\nAnd a technical question: \r\n1. We mapped twice for writing when the old buffer hasn't been cleaned, is there a write conflict problem in this situation? Although the cleaner won't clean the last writing file, the file doesn't know it.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1039798492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1039803890","html_url":"https://github.com/apache/rocketmq/issues/3434#issuecomment-1039803890","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3434","id":1039803890,"node_id":"IC_kwDOBHrsl849-iXy","user":{"login":"caigy","id":17410645,"node_id":"MDQ6VXNlcjE3NDEwNjQ1","avatar_url":"https://avatars.githubusercontent.com/u/17410645?v=4","gravatar_id":"","url":"https://api.github.com/users/caigy","html_url":"https://github.com/caigy","followers_url":"https://api.github.com/users/caigy/followers","following_url":"https://api.github.com/users/caigy/following{/other_user}","gists_url":"https://api.github.com/users/caigy/gists{/gist_id}","starred_url":"https://api.github.com/users/caigy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caigy/subscriptions","organizations_url":"https://api.github.com/users/caigy/orgs","repos_url":"https://api.github.com/users/caigy/repos","events_url":"https://api.github.com/users/caigy/events{/privacy}","received_events_url":"https://api.github.com/users/caigy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T03:07:54Z","updated_at":"2022-02-15T03:07:54Z","author_association":"CONTRIBUTOR","body":"If heartbeat time is short, would it be more simple to use `tryLock(long time, TimeUnit unit)` to wait for lock releasing?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1039803890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1039825743","html_url":"https://github.com/apache/rocketmq/pull/3848#issuecomment-1039825743","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3848","id":1039825743,"node_id":"IC_kwDOBHrsl849-ntP","user":{"login":"zhouxinyu","id":3961183,"node_id":"MDQ6VXNlcjM5NjExODM=","avatar_url":"https://avatars.githubusercontent.com/u/3961183?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouxinyu","html_url":"https://github.com/zhouxinyu","followers_url":"https://api.github.com/users/zhouxinyu/followers","following_url":"https://api.github.com/users/zhouxinyu/following{/other_user}","gists_url":"https://api.github.com/users/zhouxinyu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouxinyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouxinyu/subscriptions","organizations_url":"https://api.github.com/users/zhouxinyu/orgs","repos_url":"https://api.github.com/users/zhouxinyu/repos","events_url":"https://api.github.com/users/zhouxinyu/events{/privacy}","received_events_url":"https://api.github.com/users/zhouxinyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T03:51:33Z","updated_at":"2022-02-15T03:53:50Z","author_association":"MEMBER","body":"Another technical suggestion:\r\n1. How about only providing the `unmap` method for MappedFile, and adding the lazy-map ability for MappedFile? If so, we don't need two timed tasks to coordinate the swap and clean operations. ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1039825743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1039828883","html_url":"https://github.com/apache/rocketmq/issues/3804#issuecomment-1039828883","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3804","id":1039828883,"node_id":"IC_kwDOBHrsl849-oeT","user":{"login":"zhouxinyu","id":3961183,"node_id":"MDQ6VXNlcjM5NjExODM=","avatar_url":"https://avatars.githubusercontent.com/u/3961183?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouxinyu","html_url":"https://github.com/zhouxinyu","followers_url":"https://api.github.com/users/zhouxinyu/followers","following_url":"https://api.github.com/users/zhouxinyu/following{/other_user}","gists_url":"https://api.github.com/users/zhouxinyu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouxinyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouxinyu/subscriptions","organizations_url":"https://api.github.com/users/zhouxinyu/orgs","repos_url":"https://api.github.com/users/zhouxinyu/repos","events_url":"https://api.github.com/users/zhouxinyu/events{/privacy}","received_events_url":"https://api.github.com/users/zhouxinyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T03:59:48Z","updated_at":"2022-02-15T03:59:48Z","author_association":"MEMBER","body":"Could please provide more details about you mentioned streams scene? Actually, we need pay more cautious when adding new APIs in rocketmq-client.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1039828883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1039840402","html_url":"https://github.com/apache/rocketmq/pull/3848#issuecomment-1039840402","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3848","id":1039840402,"node_id":"IC_kwDOBHrsl849-rSS","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T04:17:27Z","updated_at":"2022-02-18T06:34:47Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/46669060/badge)](https://coveralls.io/builds/46669060)\n\nCoverage increased (+0.06%) to 52.674% when pulling **26beaa250ec9049857364514cb33d599f336e170 on Erik1288:5.0.0-alpha-swapping** into **de76e06d6da8e8646d2ac59ea061e8dc2653aae8 on apache:5.0.0-alpha**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1039840402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1039840487","html_url":"https://github.com/apache/rocketmq/pull/3848#issuecomment-1039840487","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3848","id":1039840487,"node_id":"IC_kwDOBHrsl849-rTn","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T04:17:37Z","updated_at":"2022-02-15T04:17:37Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3848?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3848](https://codecov.io/gh/apache/rocketmq/pull/3848?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d064ddd) into [5.0.0-alpha](https://codecov.io/gh/apache/rocketmq/commit/de76e06d6da8e8646d2ac59ea061e8dc2653aae8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (de76e06) will **increase** coverage by `0.10%`.\n> The diff coverage is `85.18%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3848/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3848?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@                Coverage Diff                @@\n##             5.0.0-alpha    #3848      +/-   ##\n=================================================\n+ Coverage          46.50%   46.61%   +0.10%     \n- Complexity          5330     5350      +20     \n=================================================\n  Files                641      641              \n  Lines              44348    44375      +27     \n  Branches            6117     6121       +4     \n=================================================\n+ Hits               20624    20684      +60     \n+ Misses             20998    20960      -38     \n- Partials            2726     2731       +5     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3848?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...org/apache/rocketmq/store/DefaultMessageStore.java](https://codecov.io/gh/apache/rocketmq/pull/3848/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0RlZmF1bHRNZXNzYWdlU3RvcmUuamF2YQ==) | `58.27% <85.18%> (+0.49%)` | :arrow_up: |\n| [...rocketmq/broker/filtersrv/FilterServerManager.java](https://codecov.io/gh/apache/rocketmq/pull/3848/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvZmlsdGVyc3J2L0ZpbHRlclNlcnZlck1hbmFnZXIuamF2YQ==) | `20.00% <0.00%> (-14.29%)` | :arrow_down: |\n| [...che/rocketmq/acl/plain/PlainPermissionManager.java](https://codecov.io/gh/apache/rocketmq/pull/3848/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YWNsL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9hY2wvcGxhaW4vUGxhaW5QZXJtaXNzaW9uTWFuYWdlci5qYXZh) | `70.53% <0.00%> (-1.34%)` | :arrow_down: |\n| [...a/org/apache/rocketmq/store/StoreStatsService.java](https://codecov.io/gh/apache/rocketmq/pull/3848/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL1N0b3JlU3RhdHNTZXJ2aWNlLmphdmE=) | `40.65% <0.00%> (-0.66%)` | :arrow_down: |\n| [...main/java/org/apache/rocketmq/store/CommitLog.java](https://codecov.io/gh/apache/rocketmq/pull/3848/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0NvbW1pdExvZy5qYXZh) | `67.95% <0.00%> (+0.49%)` | :arrow_up: |\n| [...cketmq/broker/processor/PopBufferMergeService.java](https://codecov.io/gh/apache/rocketmq/pull/3848/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL1BvcEJ1ZmZlck1lcmdlU2VydmljZS5qYXZh) | `45.89% <0.00%> (+0.76%)` | :arrow_up: |\n| [...he/rocketmq/client/trace/AsyncTraceDispatcher.java](https://codecov.io/gh/apache/rocketmq/pull/3848/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvdHJhY2UvQXN5bmNUcmFjZURpc3BhdGNoZXIuamF2YQ==) | `78.71% <0.00%> (+0.99%)` | :arrow_up: |\n| [...va/org/apache/rocketmq/store/util/PerfCounter.java](https://codecov.io/gh/apache/rocketmq/pull/3848/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL3V0aWwvUGVyZkNvdW50ZXIuamF2YQ==) | `65.96% <0.00%> (+1.04%)` | :arrow_up: |\n| [...n/java/org/apache/rocketmq/store/ConsumeQueue.java](https://codecov.io/gh/apache/rocketmq/pull/3848/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0NvbnN1bWVRdWV1ZS5qYXZh) | `67.20% <0.00%> (+1.06%)` | :arrow_up: |\n| ... and [6 more](https://codecov.io/gh/apache/rocketmq/pull/3848/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3848?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3848?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [de76e06...d064ddd](https://codecov.io/gh/apache/rocketmq/pull/3848?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1039840487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040015139","html_url":"https://github.com/apache/rocketmq/pull/3848#issuecomment-1040015139","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3848","id":1040015139,"node_id":"IC_kwDOBHrsl849_V8j","user":{"login":"dongeforever","id":8434428,"node_id":"MDQ6VXNlcjg0MzQ0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8434428?v=4","gravatar_id":"","url":"https://api.github.com/users/dongeforever","html_url":"https://github.com/dongeforever","followers_url":"https://api.github.com/users/dongeforever/followers","following_url":"https://api.github.com/users/dongeforever/following{/other_user}","gists_url":"https://api.github.com/users/dongeforever/gists{/gist_id}","starred_url":"https://api.github.com/users/dongeforever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongeforever/subscriptions","organizations_url":"https://api.github.com/users/dongeforever/orgs","repos_url":"https://api.github.com/users/dongeforever/repos","events_url":"https://api.github.com/users/dongeforever/events{/privacy}","received_events_url":"https://api.github.com/users/dongeforever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T08:53:47Z","updated_at":"2022-02-15T08:53:47Z","author_association":"MEMBER","body":"@zhouxinyu It may have difficulty doing the lazy mapping safely while the mapped file is being used concurrently, which may need to introduce a lock.\r\n\r\nThe current code is clear,  avoiding the anxiety of concurrent error, and is used for a long time in the production env.\r\n\r\nBTW, if you have a simple way to implement the lazy mapping, it is ok to show it in detail.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040015139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040029990","html_url":"https://github.com/apache/rocketmq/pull/3848#issuecomment-1040029990","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3848","id":1040029990,"node_id":"IC_kwDOBHrsl849_Zkm","user":{"login":"dongeforever","id":8434428,"node_id":"MDQ6VXNlcjg0MzQ0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8434428?v=4","gravatar_id":"","url":"https://api.github.com/users/dongeforever","html_url":"https://github.com/dongeforever","followers_url":"https://api.github.com/users/dongeforever/followers","following_url":"https://api.github.com/users/dongeforever/following{/other_user}","gists_url":"https://api.github.com/users/dongeforever/gists{/gist_id}","starred_url":"https://api.github.com/users/dongeforever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongeforever/subscriptions","organizations_url":"https://api.github.com/users/dongeforever/orgs","repos_url":"https://api.github.com/users/dongeforever/repos","events_url":"https://api.github.com/users/dongeforever/events{/privacy}","received_events_url":"https://api.github.com/users/dongeforever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T09:10:15Z","updated_at":"2022-02-15T09:10:15Z","author_association":"MEMBER","body":"@Erik1288 Why do the commitlog and consumequeuestore need to implement the swappable?\r\n\r\nIt seems a little strange indeed.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040029990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040031406","html_url":"https://github.com/apache/rocketmq/pull/3848#issuecomment-1040031406","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3848","id":1040031406,"node_id":"IC_kwDOBHrsl849_Z6u","user":{"login":"zhouxinyu","id":3961183,"node_id":"MDQ6VXNlcjM5NjExODM=","avatar_url":"https://avatars.githubusercontent.com/u/3961183?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouxinyu","html_url":"https://github.com/zhouxinyu","followers_url":"https://api.github.com/users/zhouxinyu/followers","following_url":"https://api.github.com/users/zhouxinyu/following{/other_user}","gists_url":"https://api.github.com/users/zhouxinyu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouxinyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouxinyu/subscriptions","organizations_url":"https://api.github.com/users/zhouxinyu/orgs","repos_url":"https://api.github.com/users/zhouxinyu/repos","events_url":"https://api.github.com/users/zhouxinyu/events{/privacy}","received_events_url":"https://api.github.com/users/zhouxinyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T09:11:38Z","updated_at":"2022-02-15T09:14:33Z","author_association":"MEMBER","body":"> @zhouxinyu It may have difficulty doing the lazy mapping safely while the mapped file is being used concurrently, which may need to introduce a lock.\r\n> \r\n> The current code is clear, avoiding the anxiety of concurrent error, and is used for a long time in the production env.\r\n> \r\n> BTW, if you have a simple way to implement the lazy mapping, it is ok to show it in detail.\r\n\r\nYeap, a lock is necessary for this lazy mapping solution, implementing it is not too complex, we convert direct access `this.mappedByteBuffer` to a getter method `this.getBuffer`:\r\n\r\n\r\n```\r\npublic MappedByteBuffer getBuffer() {\r\n        if (this.mappedByteBuffer != null) {\r\n            return this.mappedByteBuffer;\r\n        }\r\n\r\n        synchronized (this) {\r\n            if (this.mappedByteBuffer == null) {\r\n                this.mappedByteBuffer = this.fileChannel.map();\r\n            }\r\n        }\r\n        \r\n        return this.mappedByteBuffer;\r\n    }\r\n```\r\n\r\nOf course, more corner cases need to be considered.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040031406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040035317","html_url":"https://github.com/apache/rocketmq/pull/3848#issuecomment-1040035317","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3848","id":1040035317,"node_id":"IC_kwDOBHrsl849_a31","user":{"login":"dongeforever","id":8434428,"node_id":"MDQ6VXNlcjg0MzQ0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8434428?v=4","gravatar_id":"","url":"https://api.github.com/users/dongeforever","html_url":"https://github.com/dongeforever","followers_url":"https://api.github.com/users/dongeforever/followers","following_url":"https://api.github.com/users/dongeforever/following{/other_user}","gists_url":"https://api.github.com/users/dongeforever/gists{/gist_id}","starred_url":"https://api.github.com/users/dongeforever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongeforever/subscriptions","organizations_url":"https://api.github.com/users/dongeforever/orgs","repos_url":"https://api.github.com/users/dongeforever/repos","events_url":"https://api.github.com/users/dongeforever/events{/privacy}","received_events_url":"https://api.github.com/users/dongeforever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T09:15:37Z","updated_at":"2022-02-15T09:15:37Z","author_association":"MEMBER","body":"It will reserve 3 files, which will only swap the readable file for an append-only system. So it is safe in practice.\r\n\r\nAs for the technical discussion,  the mapped file is implemented with page cache internally by os. So it is safe to write with two mappedbytebuffer as long as the write pos is not intersected.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040035317/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040044030","html_url":"https://github.com/apache/rocketmq/pull/3848#issuecomment-1040044030","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3848","id":1040044030,"node_id":"IC_kwDOBHrsl849_c_-","user":{"login":"zhouxinyu","id":3961183,"node_id":"MDQ6VXNlcjM5NjExODM=","avatar_url":"https://avatars.githubusercontent.com/u/3961183?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouxinyu","html_url":"https://github.com/zhouxinyu","followers_url":"https://api.github.com/users/zhouxinyu/followers","following_url":"https://api.github.com/users/zhouxinyu/following{/other_user}","gists_url":"https://api.github.com/users/zhouxinyu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouxinyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouxinyu/subscriptions","organizations_url":"https://api.github.com/users/zhouxinyu/orgs","repos_url":"https://api.github.com/users/zhouxinyu/repos","events_url":"https://api.github.com/users/zhouxinyu/events{/privacy}","received_events_url":"https://api.github.com/users/zhouxinyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T09:25:01Z","updated_at":"2022-02-15T09:25:01Z","author_association":"MEMBER","body":"> and is used for a long time in the production env.\r\n\r\nIf this swap mechanism is a mature production solution, take it easy.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040044030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040050655","html_url":"https://github.com/apache/rocketmq/pull/3848#issuecomment-1040050655","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3848","id":1040050655,"node_id":"IC_kwDOBHrsl849_enf","user":{"login":"dongeforever","id":8434428,"node_id":"MDQ6VXNlcjg0MzQ0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8434428?v=4","gravatar_id":"","url":"https://api.github.com/users/dongeforever","html_url":"https://github.com/dongeforever","followers_url":"https://api.github.com/users/dongeforever/followers","following_url":"https://api.github.com/users/dongeforever/following{/other_user}","gists_url":"https://api.github.com/users/dongeforever/gists{/gist_id}","starred_url":"https://api.github.com/users/dongeforever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongeforever/subscriptions","organizations_url":"https://api.github.com/users/dongeforever/orgs","repos_url":"https://api.github.com/users/dongeforever/repos","events_url":"https://api.github.com/users/dongeforever/events{/privacy}","received_events_url":"https://api.github.com/users/dongeforever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T09:31:56Z","updated_at":"2022-02-15T09:33:02Z","author_association":"MEMBER","body":"It seems to have a concurrent problem.\r\n\r\nIf the reader thread gets the mapped byte buffer and then the cleaner thread cleans it later.  It will cause the jvm crash.\r\n\r\nUsually, the reader thread uses the SelectedByteBuffer, which means the data maybe be read later on.\r\n\r\nThe cleanswap method should be called after the swap method for a long time enough, and also it should check the getRefCount() == 1.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040050655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040055936","html_url":"https://github.com/apache/rocketmq/pull/3848#issuecomment-1040055936","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3848","id":1040055936,"node_id":"IC_kwDOBHrsl849_f6A","user":{"login":"zhouxinyu","id":3961183,"node_id":"MDQ6VXNlcjM5NjExODM=","avatar_url":"https://avatars.githubusercontent.com/u/3961183?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouxinyu","html_url":"https://github.com/zhouxinyu","followers_url":"https://api.github.com/users/zhouxinyu/followers","following_url":"https://api.github.com/users/zhouxinyu/following{/other_user}","gists_url":"https://api.github.com/users/zhouxinyu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouxinyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouxinyu/subscriptions","organizations_url":"https://api.github.com/users/zhouxinyu/orgs","repos_url":"https://api.github.com/users/zhouxinyu/repos","events_url":"https://api.github.com/users/zhouxinyu/events{/privacy}","received_events_url":"https://api.github.com/users/zhouxinyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T09:37:27Z","updated_at":"2022-02-15T09:37:27Z","author_association":"MEMBER","body":"> \r\n\r\nYes, `unmap` should be protected by `RefCount`","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040055936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040058432","html_url":"https://github.com/apache/rocketmq/pull/3848#issuecomment-1040058432","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3848","id":1040058432,"node_id":"IC_kwDOBHrsl849_ghA","user":{"login":"dongeforever","id":8434428,"node_id":"MDQ6VXNlcjg0MzQ0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8434428?v=4","gravatar_id":"","url":"https://api.github.com/users/dongeforever","html_url":"https://github.com/dongeforever","followers_url":"https://api.github.com/users/dongeforever/followers","following_url":"https://api.github.com/users/dongeforever/following{/other_user}","gists_url":"https://api.github.com/users/dongeforever/gists{/gist_id}","starred_url":"https://api.github.com/users/dongeforever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongeforever/subscriptions","organizations_url":"https://api.github.com/users/dongeforever/orgs","repos_url":"https://api.github.com/users/dongeforever/repos","events_url":"https://api.github.com/users/dongeforever/events{/privacy}","received_events_url":"https://api.github.com/users/dongeforever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T09:39:58Z","updated_at":"2022-02-15T09:46:46Z","author_association":"MEMBER","body":"@Erik1288 I found other problems.\r\n\r\n* getRecentSwapMapTime is fixed to zero, but in fact, it should return swapMapTime\r\n* cleanSwapedMap, shoud check getRefCount() <= 1 and it dose not need to sleep but just return.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040058432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040069953","html_url":"https://github.com/apache/rocketmq/issues/298#issuecomment-1040069953","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/298","id":1040069953,"node_id":"IC_kwDOBHrsl849_jVB","user":{"login":"CoderLan0668","id":50652021,"node_id":"MDQ6VXNlcjUwNjUyMDIx","avatar_url":"https://avatars.githubusercontent.com/u/50652021?v=4","gravatar_id":"","url":"https://api.github.com/users/CoderLan0668","html_url":"https://github.com/CoderLan0668","followers_url":"https://api.github.com/users/CoderLan0668/followers","following_url":"https://api.github.com/users/CoderLan0668/following{/other_user}","gists_url":"https://api.github.com/users/CoderLan0668/gists{/gist_id}","starred_url":"https://api.github.com/users/CoderLan0668/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CoderLan0668/subscriptions","organizations_url":"https://api.github.com/users/CoderLan0668/orgs","repos_url":"https://api.github.com/users/CoderLan0668/repos","events_url":"https://api.github.com/users/CoderLan0668/events{/privacy}","received_events_url":"https://api.github.com/users/CoderLan0668/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T09:52:11Z","updated_at":"2022-02-15T09:53:03Z","author_association":"NONE","body":"> ```\r\n> 2018-04-27 11:11:00 WARN PullMessageThread_12 - Offset for /alidata/store/committ\r\n> log/00000000001073741824 not matched. Request offset: 7858421, index: -1, mappedd\r\n> FileSize: 1073741824, mappedFiles count: 1\r\n> 2018-04-27 11:11:00 WARN PullMessageThread_21 - findMappedFileByOffset failure.\r\n> java.lang.ArrayIndexOutOfBoundsException: -1\r\n>         at java.util.concurrent.CopyOnWriteArrayList.get(CopyOnWriteArrayList.jaa\r\n> va:387) ~[na:1.8.0_45]\r\n>         at java.util.concurrent.CopyOnWriteArrayList.get(CopyOnWriteArrayList.jaa\r\n> va:396) ~[na:1.8.0_45]\r\n>         at org.apache.rocketmq.store.MappedFileQueue.findMappedFileByOffset(Mappp\r\n> edFileQueue.java:478) ~[rocketmq-store-4.2.0.jar:4.2.0]\r\n>         at org.apache.rocketmq.store.CommitLog.getMessage(CommitLog.java:817) [rr\r\n> ocketmq-store-4.2.0.jar:4.2.0]\r\n>         at org.apache.rocketmq.store.DefaultMessageStore.getMessage(DefaultMessaa\r\n> geStore.java:538) [rocketmq-store-4.2.0.jar:4.2.0]\r\n>         at org.apache.rocketmq.broker.processor.PullMessageProcessor.processRequu\r\n> est(PullMessageProcessor.java:236) [rocketmq-broker-4.2.0.jar:4.2.0]\r\n>         at org.apache.rocketmq.broker.processor.PullMessageProcessor.processRequu\r\n> est(PullMessageProcessor.java:81) [rocketmq-broker-4.2.0.jar:4.2.0]\r\n>         at org.apache.rocketmq.remoting.netty.NettyRemotingAbstract$1.run(NettyRR\r\n> emotingAbstract.java:178) [rocketmq-remoting-4.2.0.jar:4.2.0]\r\n>         at org.apache.rocketmq.remoting.netty.RequestTask.run(RequestTask.java:88\r\n> 0) [rocketmq-remoting-4.2.0.jar:4.2.0]\r\n> ```\r\n\r\ni have the same problem , has it been solved? @smthing ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040069953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040076720","html_url":"https://github.com/apache/rocketmq/pull/3848#issuecomment-1040076720","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3848","id":1040076720,"node_id":"IC_kwDOBHrsl849_k-w","user":{"login":"dongeforever","id":8434428,"node_id":"MDQ6VXNlcjg0MzQ0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8434428?v=4","gravatar_id":"","url":"https://api.github.com/users/dongeforever","html_url":"https://github.com/dongeforever","followers_url":"https://api.github.com/users/dongeforever/followers","following_url":"https://api.github.com/users/dongeforever/following{/other_user}","gists_url":"https://api.github.com/users/dongeforever/gists{/gist_id}","starred_url":"https://api.github.com/users/dongeforever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongeforever/subscriptions","organizations_url":"https://api.github.com/users/dongeforever/orgs","repos_url":"https://api.github.com/users/dongeforever/repos","events_url":"https://api.github.com/users/dongeforever/events{/privacy}","received_events_url":"https://api.github.com/users/dongeforever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T09:59:40Z","updated_at":"2022-02-15T09:59:40Z","author_association":"MEMBER","body":"@zhouxinyu It come into another design consideration. The current swap mechnism will make sure the existed message can be read correctly.\r\nOtherwise, it may get null temporately, which may cause message loss.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040076720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040090267","html_url":"https://github.com/apache/rocketmq/pull/3850#issuecomment-1040090267","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3850","id":1040090267,"node_id":"IC_kwDOBHrsl849_oSb","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T10:12:57Z","updated_at":"2022-02-15T12:33:16Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/46557187/badge)](https://coveralls.io/builds/46557187)\n\nCoverage increased (+0.08%) to 51.439% when pulling **29cbeb1a1ff37ad2c84ee6f6ffbed4723634ad86 on martin-g:build-on-linux-arm64** into **48e8c1955b660ccffb65e9b0e7dfc602551d0b38 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040090267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040090279","html_url":"https://github.com/apache/rocketmq/pull/3850#issuecomment-1040090279","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3850","id":1040090279,"node_id":"IC_kwDOBHrsl849_oSn","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T10:12:58Z","updated_at":"2022-02-15T10:12:58Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/46553110/badge)](https://coveralls.io/builds/46553110)\n\nCoverage increased (+0.08%) to 51.447% when pulling **4b9fe7191392f6bd1dfb18316cf340aaec9b3ec9 on martin-g:build-on-linux-arm64** into **48e8c1955b660ccffb65e9b0e7dfc602551d0b38 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040090279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040136550","html_url":"https://github.com/apache/rocketmq/pull/3851#issuecomment-1040136550","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3851","id":1040136550,"node_id":"IC_kwDOBHrsl849_zlm","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T11:01:35Z","updated_at":"2022-02-15T11:01:35Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/46554835/badge)](https://coveralls.io/builds/46554835)\n\nCoverage decreased (-0.006%) to 51.355% when pulling **fa620321b9124df5a4ce527a27258fff41c08e3a on duhenglucky:logappender** into **48e8c1955b660ccffb65e9b0e7dfc602551d0b38 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040136550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040136887","html_url":"https://github.com/apache/rocketmq/pull/3851#issuecomment-1040136887","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3851","id":1040136887,"node_id":"IC_kwDOBHrsl849_zq3","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T11:01:56Z","updated_at":"2022-02-15T11:01:56Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3851?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3851](https://codecov.io/gh/apache/rocketmq/pull/3851?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (fa62032) into [develop](https://codecov.io/gh/apache/rocketmq/commit/48e8c1955b660ccffb65e9b0e7dfc602551d0b38?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (48e8c19) will **decrease** coverage by `0.07%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3851/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3851?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3851      +/-   ##\n=============================================\n- Coverage      47.37%   47.29%   -0.08%     \n+ Complexity      4916     4873      -43     \n=============================================\n  Files            636      632       -4     \n  Lines          42481    42276     -205     \n  Branches        5561     5544      -17     \n=============================================\n- Hits           20124    19996     -128     \n+ Misses         19856    19784      -72     \n+ Partials        2501     2496       -5     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3851?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...org/apache/rocketmq/common/stats/StatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/3851/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtU2V0LmphdmE=) | `41.79% <0.00%> (-8.96%)` | :arrow_down: |\n| [...he/rocketmq/client/trace/AsyncTraceDispatcher.java](https://codecov.io/gh/apache/rocketmq/pull/3851/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvdHJhY2UvQXN5bmNUcmFjZURpc3BhdGNoZXIuamF2YQ==) | `78.21% <0.00%> (-2.98%)` | :arrow_down: |\n| [...lient/impl/consumer/DefaultMQPushConsumerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3851/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9EZWZhdWx0TVFQdXNoQ29uc3VtZXJJbXBsLmphdmE=) | `40.17% <0.00%> (-2.29%)` | :arrow_down: |\n| [...a/org/apache/rocketmq/filter/util/BloomFilter.java](https://codecov.io/gh/apache/rocketmq/pull/3851/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CbG9vbUZpbHRlci5qYXZh) | `59.13% <0.00%> (-2.16%)` | :arrow_down: |\n| [...mq/client/impl/consumer/RebalanceLitePullImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3851/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9SZWJhbGFuY2VMaXRlUHVsbEltcGwuamF2YQ==) | `72.05% <0.00%> (-1.48%)` | :arrow_down: |\n| [...etmq/client/latency/LatencyFaultToleranceImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3851/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvbGF0ZW5jeS9MYXRlbmN5RmF1bHRUb2xlcmFuY2VJbXBsLmphdmE=) | `50.00% <0.00%> (-1.29%)` | :arrow_down: |\n| [...rocketmq/client/impl/factory/MQClientInstance.java](https://codecov.io/gh/apache/rocketmq/pull/3851/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9mYWN0b3J5L01RQ2xpZW50SW5zdGFuY2UuamF2YQ==) | `50.07% <0.00%> (-1.22%)` | :arrow_down: |\n| [...e/rocketmq/client/impl/consumer/RebalanceImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3851/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9SZWJhbGFuY2VJbXBsLmphdmE=) | `43.75% <0.00%> (-0.79%)` | :arrow_down: |\n| [...nt/impl/consumer/ConsumeMessageOrderlyService.java](https://codecov.io/gh/apache/rocketmq/pull/3851/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9Db25zdW1lTWVzc2FnZU9yZGVybHlTZXJ2aWNlLmphdmE=) | `49.82% <0.00%> (-0.72%)` | :arrow_down: |\n| [...a/org/apache/rocketmq/store/StoreStatsService.java](https://codecov.io/gh/apache/rocketmq/pull/3851/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL1N0b3JlU3RhdHNTZXJ2aWNlLmphdmE=) | `29.31% <0.00%> (-0.66%)` | :arrow_down: |\n| ... and [8 more](https://codecov.io/gh/apache/rocketmq/pull/3851/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3851?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3851?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [48e8c19...fa62032](https://codecov.io/gh/apache/rocketmq/pull/3851?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040136887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040199563","html_url":"https://github.com/apache/rocketmq/issues/3804#issuecomment-1040199563","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3804","id":1040199563,"node_id":"IC_kwDOBHrsl84-AC-L","user":{"login":"ni-ze","id":31175234,"node_id":"MDQ6VXNlcjMxMTc1MjM0","avatar_url":"https://avatars.githubusercontent.com/u/31175234?v=4","gravatar_id":"","url":"https://api.github.com/users/ni-ze","html_url":"https://github.com/ni-ze","followers_url":"https://api.github.com/users/ni-ze/followers","following_url":"https://api.github.com/users/ni-ze/following{/other_user}","gists_url":"https://api.github.com/users/ni-ze/gists{/gist_id}","starred_url":"https://api.github.com/users/ni-ze/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ni-ze/subscriptions","organizations_url":"https://api.github.com/users/ni-ze/orgs","repos_url":"https://api.github.com/users/ni-ze/repos","events_url":"https://api.github.com/users/ni-ze/events{/privacy}","received_events_url":"https://api.github.com/users/ni-ze/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T12:11:50Z","updated_at":"2022-02-15T12:12:31Z","author_association":"CONTRIBUTOR","body":"> Could please provide more details about you mentioned streams scene? Actually, we need pay more cautious when adding new APIs in rocketmq-client.\r\n\r\n<img width=\"805\" alt=\"image\" src=\"https://user-images.githubusercontent.com/31175234/154059272-9d3e4ee2-1b5d-4709-9898-2058547a92d1.png\">\r\n\r\nstate data in streams is partitioned, and sometimes only one of the MessageQueue offset will be commit.\r\nsuch as only commit MQ0 or MQ1.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1040199563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1041021206","html_url":"https://github.com/apache/rocketmq/issues/3853#issuecomment-1041021206","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3853","id":1041021206,"node_id":"IC_kwDOBHrsl84-DLkW","user":{"login":"ni-ze","id":31175234,"node_id":"MDQ6VXNlcjMxMTc1MjM0","avatar_url":"https://avatars.githubusercontent.com/u/31175234?v=4","gravatar_id":"","url":"https://api.github.com/users/ni-ze","html_url":"https://github.com/ni-ze","followers_url":"https://api.github.com/users/ni-ze/followers","following_url":"https://api.github.com/users/ni-ze/following{/other_user}","gists_url":"https://api.github.com/users/ni-ze/gists{/gist_id}","starred_url":"https://api.github.com/users/ni-ze/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ni-ze/subscriptions","organizations_url":"https://api.github.com/users/ni-ze/orgs","repos_url":"https://api.github.com/users/ni-ze/repos","events_url":"https://api.github.com/users/ni-ze/events{/privacy}","received_events_url":"https://api.github.com/users/ni-ze/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-16T02:13:52Z","updated_at":"2022-02-16T02:38:38Z","author_association":"CONTRIBUTOR","body":"consumer.seek(mq,0) will interrupt polling thread starting at  consumer.assign(); \r\nIt is just an error log, not an exception, no effect on your application.\r\nThis log maybe ignored in DefaultLitePullConsumer.\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1041021206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1041033566","html_url":"https://github.com/apache/rocketmq/pull/3848#issuecomment-1041033566","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3848","id":1041033566,"node_id":"IC_kwDOBHrsl84-DOle","user":{"login":"Erik1288","id":8181966,"node_id":"MDQ6VXNlcjgxODE5NjY=","avatar_url":"https://avatars.githubusercontent.com/u/8181966?v=4","gravatar_id":"","url":"https://api.github.com/users/Erik1288","html_url":"https://github.com/Erik1288","followers_url":"https://api.github.com/users/Erik1288/followers","following_url":"https://api.github.com/users/Erik1288/following{/other_user}","gists_url":"https://api.github.com/users/Erik1288/gists{/gist_id}","starred_url":"https://api.github.com/users/Erik1288/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Erik1288/subscriptions","organizations_url":"https://api.github.com/users/Erik1288/orgs","repos_url":"https://api.github.com/users/Erik1288/repos","events_url":"https://api.github.com/users/Erik1288/events{/privacy}","received_events_url":"https://api.github.com/users/Erik1288/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-16T02:36:59Z","updated_at":"2022-02-16T02:36:59Z","author_association":"CONTRIBUTOR","body":"Thanks for your comments.\r\n\r\n> More suggested comments:\r\n> \r\n> 1. Add some comments for interface Swappable, it's difficult to understand the specific meaning of `swapMap` and `cleanSwappedMap` directly.\r\n\r\nRe: Sure, more meaningful comments will be added.\r\n\r\n> 2. Add unit tests for this PR, and the implementations of `Swappable`.\r\n\r\nRe: Unit-test and Implementation were pushed but not be called.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1041033566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1041034063","html_url":"https://github.com/apache/rocketmq/pull/3848#issuecomment-1041034063","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3848","id":1041034063,"node_id":"IC_kwDOBHrsl84-DOtP","user":{"login":"Erik1288","id":8181966,"node_id":"MDQ6VXNlcjgxODE5NjY=","avatar_url":"https://avatars.githubusercontent.com/u/8181966?v=4","gravatar_id":"","url":"https://api.github.com/users/Erik1288","html_url":"https://github.com/Erik1288","followers_url":"https://api.github.com/users/Erik1288/followers","following_url":"https://api.github.com/users/Erik1288/following{/other_user}","gists_url":"https://api.github.com/users/Erik1288/gists{/gist_id}","starred_url":"https://api.github.com/users/Erik1288/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Erik1288/subscriptions","organizations_url":"https://api.github.com/users/Erik1288/orgs","repos_url":"https://api.github.com/users/Erik1288/repos","events_url":"https://api.github.com/users/Erik1288/events{/privacy}","received_events_url":"https://api.github.com/users/Erik1288/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-16T02:38:05Z","updated_at":"2022-02-16T02:38:05Z","author_association":"CONTRIBUTOR","body":"> @Erik1288 I found other problems.\r\n> \r\n> * getRecentSwapMapTime is fixed to zero, but in fact, it should return swapMapTime\r\n> * cleanSwapedMap, shoud check getRefCount() <= 1 and it dose not need to sleep but just return.\r\n\r\nThanks for pointing it out, I'm working on it.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1041034063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1041078020","html_url":"https://github.com/apache/rocketmq/pull/3854#issuecomment-1041078020","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3854","id":1041078020,"node_id":"IC_kwDOBHrsl84-DZcE","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-16T03:59:04Z","updated_at":"2022-02-16T04:11:58Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3854?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3854](https://codecov.io/gh/apache/rocketmq/pull/3854?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (7562b09) into [develop](https://codecov.io/gh/apache/rocketmq/commit/459b9d0be86e9584b2633f84be047beea8410a41?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (459b9d0) will **decrease** coverage by `0.03%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3854/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3854?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3854      +/-   ##\n=============================================\n- Coverage      47.36%   47.33%   -0.04%     \n+ Complexity      4914     4882      -32     \n=============================================\n  Files            636      632       -4     \n  Lines          42481    42278     -203     \n  Branches        5561     5544      -17     \n=============================================\n- Hits           20122    20011     -111     \n+ Misses         19857    19775      -82     \n+ Partials        2502     2492      -10     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3854?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ent/impl/consumer/DefaultLitePullConsumerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3854/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9EZWZhdWx0TGl0ZVB1bGxDb25zdW1lckltcGwuamF2YQ==) | `68.79% <0.00%> (-0.24%)` | :arrow_down: |\n| [...org/apache/rocketmq/common/stats/StatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/3854/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtU2V0LmphdmE=) | `41.79% <0.00%> (-8.96%)` | :arrow_down: |\n| [...in/java/org/apache/rocketmq/test/util/MQAdmin.java](https://codecov.io/gh/apache/rocketmq/pull/3854/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL01RQWRtaW4uamF2YQ==) | `38.88% <0.00%> (-5.56%)` | :arrow_down: |\n| [...ache/rocketmq/common/stats/MomentStatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/3854/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvTW9tZW50U3RhdHNJdGVtU2V0LmphdmE=) | `39.13% <0.00%> (-4.35%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/filter/util/BitsArray.java](https://codecov.io/gh/apache/rocketmq/pull/3854/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CaXRzQXJyYXkuamF2YQ==) | `58.11% <0.00%> (-4.28%)` | :arrow_down: |\n| [...he/rocketmq/client/impl/consumer/ProcessQueue.java](https://codecov.io/gh/apache/rocketmq/pull/3854/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9Qcm9jZXNzUXVldWUuamF2YQ==) | `60.55% <0.00%> (-1.38%)` | :arrow_down: |\n| [...etmq/client/latency/LatencyFaultToleranceImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3854/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvbGF0ZW5jeS9MYXRlbmN5RmF1bHRUb2xlcmFuY2VJbXBsLmphdmE=) | `50.00% <0.00%> (-1.29%)` | :arrow_down: |\n| [...ketmq/common/protocol/body/RegisterBrokerBody.java](https://codecov.io/gh/apache/rocketmq/pull/3854/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vcHJvdG9jb2wvYm9keS9SZWdpc3RlckJyb2tlckJvZHkuamF2YQ==) | `83.69% <0.00%> (-1.09%)` | :arrow_down: |\n| [...a/org/apache/rocketmq/store/StoreStatsService.java](https://codecov.io/gh/apache/rocketmq/pull/3854/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL1N0b3JlU3RhdHNTZXJ2aWNlLmphdmE=) | `29.96% <0.00%> (-0.66%)` | :arrow_down: |\n| [...ketmq/logappender/log4j/RocketmqLog4jAppender.java](https://codecov.io/gh/apache/rocketmq/pull/3854/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bG9nYXBwZW5kZXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL2xvZ2FwcGVuZGVyL2xvZzRqL1JvY2tldG1xTG9nNGpBcHBlbmRlci5qYXZh) | | |\n| ... and [5 more](https://codecov.io/gh/apache/rocketmq/pull/3854/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3854?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3854?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [459b9d0...7562b09](https://codecov.io/gh/apache/rocketmq/pull/3854?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1041078020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1041140454","html_url":"https://github.com/apache/rocketmq/issues/3245#issuecomment-1041140454","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3245","id":1041140454,"node_id":"IC_kwDOBHrsl84-Dorm","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-16T06:04:06Z","updated_at":"2022-02-16T06:04:06Z","author_association":"MEMBER","body":"> @aaron-ai What is the variable roundNum mean? Is the variable entireSpace can replace variable totalSpace? I don't understand this code, can you give me some pointers?\r\n\r\nThe roundNum is used to round up.\r\nFor why not use totalSpace, you need to understand the difference between File.getFreeSpace() and File.getUsableSpace(), refer to: https://stackoverflow.com/questions/21439596/difference-between-getfreespace-and-getusablespace-of-file","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1041140454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1041212994","html_url":"https://github.com/apache/rocketmq/pull/3856#issuecomment-1041212994","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3856","id":1041212994,"node_id":"IC_kwDOBHrsl84-D6ZC","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-16T07:57:55Z","updated_at":"2022-02-19T15:59:18Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3856?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3856](https://codecov.io/gh/apache/rocketmq/pull/3856?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2b3110e) into [master](https://codecov.io/gh/apache/rocketmq/commit/1b420cedfd74cf47b788abb4599f98d2a5217faf?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (1b420ce) will **decrease** coverage by `0.15%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3856/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3856?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3856      +/-   ##\n============================================\n- Coverage     48.36%   48.21%   -0.16%     \n+ Complexity     4616     4594      -22     \n============================================\n  Files           555      555              \n  Lines         36755    36751       -4     \n  Branches       4841     4840       -1     \n============================================\n- Hits          17776    17718      -58     \n- Misses        16749    16796      +47     \n- Partials       2230     2237       +7     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3856?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...mq/client/impl/producer/DefaultMQProducerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3856/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9wcm9kdWNlci9EZWZhdWx0TVFQcm9kdWNlckltcGwuamF2YQ==) | `44.96% <100.00%> (-0.52%)` | :arrow_down: |\n| [...rg/apache/rocketmq/common/stats/StatsSnapshot.java](https://codecov.io/gh/apache/rocketmq/pull/3856/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNTbmFwc2hvdC5qYXZh) | `84.61% <0.00%> (-15.39%)` | :arrow_down: |\n| [...tmq/logappender/log4j2/RocketmqLog4j2Appender.java](https://codecov.io/gh/apache/rocketmq/pull/3856/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bG9nYXBwZW5kZXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL2xvZ2FwcGVuZGVyL2xvZzRqMi9Sb2NrZXRtcUxvZzRqMkFwcGVuZGVyLmphdmE=) | `35.00% <0.00%> (-10.00%)` | :arrow_down: |\n| [.../apache/rocketmq/common/stats/MomentStatsItem.java](https://codecov.io/gh/apache/rocketmq/pull/3856/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvTW9tZW50U3RhdHNJdGVtLmphdmE=) | `38.09% <0.00%> (-9.53%)` | :arrow_down: |\n| [...ache/rocketmq/common/stats/MomentStatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/3856/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvTW9tZW50U3RhdHNJdGVtU2V0LmphdmE=) | `39.13% <0.00%> (-8.70%)` | :arrow_down: |\n| [...in/java/org/apache/rocketmq/test/util/MQAdmin.java](https://codecov.io/gh/apache/rocketmq/pull/3856/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL01RQWRtaW4uamF2YQ==) | `38.88% <0.00%> (-5.56%)` | :arrow_down: |\n| [...va/org/apache/rocketmq/common/stats/StatsItem.java](https://codecov.io/gh/apache/rocketmq/pull/3856/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtLmphdmE=) | `50.00% <0.00%> (-5.00%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/filter/util/BitsArray.java](https://codecov.io/gh/apache/rocketmq/pull/3856/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CaXRzQXJyYXkuamF2YQ==) | `58.11% <0.00%> (-4.28%)` | :arrow_down: |\n| [...he/rocketmq/client/impl/consumer/ProcessQueue.java](https://codecov.io/gh/apache/rocketmq/pull/3856/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9Qcm9jZXNzUXVldWUuamF2YQ==) | `58.13% <0.00%> (-4.19%)` | :arrow_down: |\n| [...ketmq/common/protocol/body/ConsumerConnection.java](https://codecov.io/gh/apache/rocketmq/pull/3856/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vcHJvdG9jb2wvYm9keS9Db25zdW1lckNvbm5lY3Rpb24uamF2YQ==) | `95.83% <0.00%> (-4.17%)` | :arrow_down: |\n| ... and [14 more](https://codecov.io/gh/apache/rocketmq/pull/3856/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3856?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3856?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [1b420ce...2b3110e](https://codecov.io/gh/apache/rocketmq/pull/3856?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1041212994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1042501791","html_url":"https://github.com/apache/rocketmq/pull/3856#issuecomment-1042501791","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3856","id":1042501791,"node_id":"IC_kwDOBHrsl84-I1Cf","user":{"login":"ni-ze","id":31175234,"node_id":"MDQ6VXNlcjMxMTc1MjM0","avatar_url":"https://avatars.githubusercontent.com/u/31175234?v=4","gravatar_id":"","url":"https://api.github.com/users/ni-ze","html_url":"https://github.com/ni-ze","followers_url":"https://api.github.com/users/ni-ze/followers","following_url":"https://api.github.com/users/ni-ze/following{/other_user}","gists_url":"https://api.github.com/users/ni-ze/gists{/gist_id}","starred_url":"https://api.github.com/users/ni-ze/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ni-ze/subscriptions","organizations_url":"https://api.github.com/users/ni-ze/orgs","repos_url":"https://api.github.com/users/ni-ze/repos","events_url":"https://api.github.com/users/ni-ze/events{/privacy}","received_events_url":"https://api.github.com/users/ni-ze/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-17T02:20:10Z","updated_at":"2022-02-17T02:20:10Z","author_association":"CONTRIBUTOR","body":"please add a new issue and associate it to this pr.  A naked PR is not recommended.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1042501791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1042532180","html_url":"https://github.com/apache/rocketmq/pull/3856#issuecomment-1042532180","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3856","id":1042532180,"node_id":"IC_kwDOBHrsl84-I8dU","user":{"login":"xichaodong","id":22837998,"node_id":"MDQ6VXNlcjIyODM3OTk4","avatar_url":"https://avatars.githubusercontent.com/u/22837998?v=4","gravatar_id":"","url":"https://api.github.com/users/xichaodong","html_url":"https://github.com/xichaodong","followers_url":"https://api.github.com/users/xichaodong/followers","following_url":"https://api.github.com/users/xichaodong/following{/other_user}","gists_url":"https://api.github.com/users/xichaodong/gists{/gist_id}","starred_url":"https://api.github.com/users/xichaodong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xichaodong/subscriptions","organizations_url":"https://api.github.com/users/xichaodong/orgs","repos_url":"https://api.github.com/users/xichaodong/repos","events_url":"https://api.github.com/users/xichaodong/events{/privacy}","received_events_url":"https://api.github.com/users/xichaodong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-17T03:18:56Z","updated_at":"2022-02-17T03:19:47Z","author_association":"CONTRIBUTOR","body":"> please add a new issue and associate it to this pr. A naked PR is not recommended.\r\n\r\n#3857 ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1042532180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1042596195","html_url":"https://github.com/apache/rocketmq/issues/3245#issuecomment-1042596195","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3245","id":1042596195,"node_id":"IC_kwDOBHrsl84-JMFj","user":{"login":"WonderMing13","id":31891548,"node_id":"MDQ6VXNlcjMxODkxNTQ4","avatar_url":"https://avatars.githubusercontent.com/u/31891548?v=4","gravatar_id":"","url":"https://api.github.com/users/WonderMing13","html_url":"https://github.com/WonderMing13","followers_url":"https://api.github.com/users/WonderMing13/followers","following_url":"https://api.github.com/users/WonderMing13/following{/other_user}","gists_url":"https://api.github.com/users/WonderMing13/gists{/gist_id}","starred_url":"https://api.github.com/users/WonderMing13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WonderMing13/subscriptions","organizations_url":"https://api.github.com/users/WonderMing13/orgs","repos_url":"https://api.github.com/users/WonderMing13/repos","events_url":"https://api.github.com/users/WonderMing13/events{/privacy}","received_events_url":"https://api.github.com/users/WonderMing13/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-17T05:44:33Z","updated_at":"2022-02-17T05:44:33Z","author_association":"NONE","body":"> > @aaron-ai What is the variable roundNum mean? Is the variable entireSpace can replace variable totalSpace? I don't understand this code, can you give me some pointers?\r\n> \r\n> The roundNum is used to round up. For why not use totalSpace, you need to understand the difference between File.getFreeSpace() and File.getUsableSpace(), refer to: https://stackoverflow.com/questions/21439596/difference-between-getfreespace-and-getusablespace-of-file\r\n\r\nThank you very much for figuring it out according to your instructions.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1042596195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1042703476","html_url":"https://github.com/apache/rocketmq/issues/3843#issuecomment-1042703476","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3843","id":1042703476,"node_id":"IC_kwDOBHrsl84-JmR0","user":{"login":"Cczzzz","id":32947555,"node_id":"MDQ6VXNlcjMyOTQ3NTU1","avatar_url":"https://avatars.githubusercontent.com/u/32947555?v=4","gravatar_id":"","url":"https://api.github.com/users/Cczzzz","html_url":"https://github.com/Cczzzz","followers_url":"https://api.github.com/users/Cczzzz/followers","following_url":"https://api.github.com/users/Cczzzz/following{/other_user}","gists_url":"https://api.github.com/users/Cczzzz/gists{/gist_id}","starred_url":"https://api.github.com/users/Cczzzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cczzzz/subscriptions","organizations_url":"https://api.github.com/users/Cczzzz/orgs","repos_url":"https://api.github.com/users/Cczzzz/repos","events_url":"https://api.github.com/users/Cczzzz/events{/privacy}","received_events_url":"https://api.github.com/users/Cczzzz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-17T08:44:08Z","updated_at":"2022-02-17T08:44:08Z","author_association":"CONTRIBUTOR","body":"> @Cczzzz Do you mean the metadata discovery time is too long when the broker role changes?\r\n\r\nyes,now max is 30s","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1042703476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]