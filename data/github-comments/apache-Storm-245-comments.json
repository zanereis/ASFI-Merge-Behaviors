[{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655014","html_url":"https://github.com/apache/storm/issues/5114#issuecomment-2612655014","issue_url":"https://api.github.com/repos/apache/storm/issues/5114","id":2612655014,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTUwMTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T15:13:01Z","updated_at":"2025-01-24T14:24:46Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user unsleepy22 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1445#discussion_r73174655\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1445#discussion_r73174655</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/executor/Executor.java &#8212;<br/>\n    @@ -0,0 +1,575 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.executor;<br/>\n    +<br/>\n    +import clojure.lang.IFn;<br/>\n    +import com.google.common.annotations.VisibleForTesting;<br/>\n    +import com.google.common.collect.Lists;<br/>\n    +import com.lmax.disruptor.EventHandler;<br/>\n    +import com.lmax.disruptor.dsl.ProducerType;<br/>\n    +import java.io.IOException;<br/>\n    +import java.net.UnknownHostException;<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.Random;<br/>\n    +import java.util.concurrent.atomic.AtomicBoolean;<br/>\n    +import java.util.concurrent.atomic.AtomicReference;<br/>\n    +import org.apache.storm.Config;<br/>\n    +import org.apache.storm.Constants;<br/>\n    +import org.apache.storm.StormTimer;<br/>\n    +import org.apache.storm.cluster.ClusterStateContext;<br/>\n    +import org.apache.storm.cluster.ClusterUtils;<br/>\n    +import org.apache.storm.cluster.DaemonType;<br/>\n    +import org.apache.storm.cluster.IStormClusterState;<br/>\n    +import org.apache.storm.daemon.GrouperFactory;<br/>\n    +import org.apache.storm.daemon.StormCommon;<br/>\n    +import org.apache.storm.daemon.Task;<br/>\n    +import org.apache.storm.executor.bolt.BoltExecutor;<br/>\n    +import org.apache.storm.executor.error.IReportError;<br/>\n    +import org.apache.storm.executor.error.ReportError;<br/>\n    +import org.apache.storm.executor.error.ReportErrorAndDie;<br/>\n    +import org.apache.storm.executor.spout.SpoutExecutor;<br/>\n    +import org.apache.storm.generated.Bolt;<br/>\n    +import org.apache.storm.generated.DebugOptions;<br/>\n    +import org.apache.storm.generated.Grouping;<br/>\n    +import org.apache.storm.generated.SpoutSpec;<br/>\n    +import org.apache.storm.generated.StormTopology;<br/>\n    +import org.apache.storm.grouping.LoadAwareCustomStreamGrouping;<br/>\n    +import org.apache.storm.metric.api.IMetric;<br/>\n    +import org.apache.storm.metric.api.IMetricsConsumer;<br/>\n    +import org.apache.storm.stats.BoltExecutorStats;<br/>\n    +import org.apache.storm.stats.CommonStats;<br/>\n    +import org.apache.storm.stats.SpoutExecutorStats;<br/>\n    +import org.apache.storm.stats.StatsUtil;<br/>\n    +import org.apache.storm.task.WorkerTopologyContext;<br/>\n    +import org.apache.storm.tuple.AddressedTuple;<br/>\n    +import org.apache.storm.tuple.Fields;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.apache.storm.tuple.TupleImpl;<br/>\n    +import org.apache.storm.tuple.Values;<br/>\n    +import org.apache.storm.utils.ConfigUtils;<br/>\n    +import org.apache.storm.utils.DisruptorBackpressureCallback;<br/>\n    +import org.apache.storm.utils.DisruptorQueue;<br/>\n    +import org.apache.storm.utils.Time;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.apache.storm.utils.WorkerBackpressureThread;<br/>\n    +import org.json.simple.JSONValue;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.concurrent.Callable;<br/>\n    +<br/>\n    +public abstract class Executor implements Callable, EventHandler {<br/>\n    +<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(Executor.class);<br/>\n    +<br/>\n    +    protected final Map workerData;<br/>\n    +    protected final WorkerTopologyContext workerTopologyContext;<br/>\n    +    protected final List<Long> executorId;<br/>\n    +    protected final List<Integer> taskIds;<br/>\n    +    protected final String componentId;<br/>\n    +    protected final AtomicBoolean openOrPrepareWasCalled;<br/>\n    +    protected final Map stormConf;<br/>\n    +    protected final Map conf;<br/>\n    +    protected final String stormId;<br/>\n    +    protected final HashMap sharedExecutorData;<br/>\n    +    protected final AtomicBoolean stormActive;<br/>\n    +    protected final AtomicReference<Map<String, DebugOptions>> stormComponentDebug;<br/>\n    +    protected final Runnable suicideFn;<br/>\n    +    protected final IStormClusterState stormClusterState;<br/>\n    +    protected final Map<Integer, String> taskToComponent;<br/>\n    +    protected CommonStats stats;<br/>\n    +    protected final Map<Integer, Map<Integer, Map<String, IMetric>>> intervalToTaskToMetricToRegistry;<br/>\n    +    protected final Map<String, Map<String, LoadAwareCustomStreamGrouping>> streamToComponentToGrouper;<br/>\n    +    protected final ReportErrorAndDie reportErrorDie;<br/>\n    +    protected final Callable<Boolean> sampler;<br/>\n    +    protected final AtomicBoolean backpressure;<br/>\n    +    protected ExecutorTransfer executorTransfer;<br/>\n    +    protected final String type;<br/>\n    +    protected final AtomicBoolean throttleOn;<br/>\n    +    protected IFn transferFn;<br/>\n    +<br/>\n    +    protected final IReportError reportError;<br/>\n    +    protected final Random rand;<br/>\n    +    protected final DisruptorQueue transferQueue;<br/>\n    +    protected final DisruptorQueue receiveQueue;<br/>\n    +    protected Map<Integer, Task> idToTask;<br/>\n    +    protected final Map<String, String> credentials;<br/>\n    +    protected final Boolean isDebug;<br/>\n    +    protected final Boolean isEventLoggers;<br/>\n    +    protected String hostname;<br/>\n    +<br/>\n    +    protected Executor(Map workerData, List<Long> executorId, Map<String, String> credentials) {<br/>\n    +this.workerData = workerData;<br/>\n    +this.executorId = executorId;<br/>\n    +this.workerTopologyContext = StormCommon.makeWorkerContext(workerData);<br/>\n    +this.taskIds = StormCommon.executorIdToTasks(executorId);<br/>\n    +this.componentId = workerTopologyContext.getComponentId(taskIds.get(0));<br/>\n    +this.openOrPrepareWasCalled = new AtomicBoolean(false);<br/>\n    +this.stormConf = normalizedComponentConf((Map) workerData.get(Constants.STORM_CONF), workerTopologyContext, componentId);<br/>\n    +this.receiveQueue = (DisruptorQueue) (((Map) workerData.get(Constants.EXECUTOR_RECEIVE_QUEUE_MAP)).get(executorId));<br/>\n    +this.stormId = (String) workerData.get(Constants.STORM_ID);<br/>\n    +this.conf = (Map) workerData.get(Constants.CONF);<br/>\n    +this.sharedExecutorData = new HashMap();<br/>\n    +this.stormActive = (AtomicBoolean) workerData.get(Constants.STORM_ACTIVE_ATOM);<br/>\n    +this.stormComponentDebug = (AtomicReference<Map<String, DebugOptions>>) workerData.get(Constants.COMPONENT_TO_DEBUG_ATOM);<br/>\n    +<br/>\n    +this.transferQueue = mkExecutorBatchQueue(stormConf, executorId);<br/>\n    +this.transferFn = (IFn) workerData.get(Constants.TRANSFER_FN);<br/>\n    +this.executorTransfer = new ExecutorTransfer(workerTopologyContext, transferQueue, stormConf, transferFn);<br/>\n    +<br/>\n    +this.suicideFn = (Runnable) workerData.get(Constants.SUICIDE_FN);<br/>\n    +try {<br/>\n    +    this.stormClusterState = ClusterUtils.mkStormClusterState(workerData.get(\"state-store\"), Utils.getWorkerACL(stormConf),<br/>\n    +    new ClusterStateContext(DaemonType.SUPERVISOR));<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    addressed</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655021","html_url":"https://github.com/apache/storm/issues/5114#issuecomment-2612655021","issue_url":"https://api.github.com/repos/apache/storm/issues/5114","id":2612655021,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTUwMjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T15:22:42Z","updated_at":"2025-01-24T14:24:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user unsleepy22 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1445#discussion_r73176900\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1445#discussion_r73176900</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/executor/bolt/BoltOutputCollectorImpl.java &#8212;<br/>\n    @@ -0,0 +1,168 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.executor.bolt;<br/>\n    +<br/>\n    +import java.util.Collection;<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.Random;<br/>\n    +import java.util.Set;<br/>\n    +import org.apache.storm.daemon.Acker;<br/>\n    +import org.apache.storm.daemon.Task;<br/>\n    +import org.apache.storm.hooks.info.BoltAckInfo;<br/>\n    +import org.apache.storm.hooks.info.BoltFailInfo;<br/>\n    +import org.apache.storm.stats.BoltExecutorStats;<br/>\n    +import org.apache.storm.task.IOutputCollector;<br/>\n    +import org.apache.storm.tuple.MessageId;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.apache.storm.tuple.TupleImpl;<br/>\n    +import org.apache.storm.tuple.Values;<br/>\n    +import org.apache.storm.utils.Time;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +public class BoltOutputCollectorImpl implements IOutputCollector {<br/>\n    +<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(BoltOutputCollectorImpl.class);<br/>\n    +<br/>\n    +    private final BoltExecutor executor;<br/>\n    +    private final Task taskData;<br/>\n    +    private final int taskId;<br/>\n    +    private final Random random;<br/>\n    +    private final boolean isEventLoggers;<br/>\n    +    private final boolean isDebug;<br/>\n    +<br/>\n    +    public BoltOutputCollectorImpl(BoltExecutor executor, Task taskData, int taskId, Random random,<br/>\n    +   boolean isEventLoggers, boolean isDebug) </p>\n{\n    +this.executor = executor;\n    +this.taskData = taskData;\n    +this.taskId = taskId;\n    +this.random = random;\n    +this.isEventLoggers = isEventLoggers;\n    +this.isDebug = isDebug;\n    +    }\n<p>    +<br/>\n    +    public List<Integer> emit(String streamId, Collection<Tuple> anchors, List<Object> tuple) </p>\n{\n    +return boltEmit(streamId, anchors, tuple, null);\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void emitDirect(int taskId, String streamId, Collection<Tuple> anchors, List<Object> tuple) </p>\n{\n    +boltEmit(streamId, anchors, tuple, taskId);\n    +    }\n<p>    +<br/>\n    +    private List<Integer> boltEmit(String streamId, Collection<Tuple> anchors, List<Object> values, Integer targetTaskId) {<br/>\n    +List<Integer> outTasks;<br/>\n    +if (targetTaskId != null) </p>\n{\n    +    outTasks = taskData.getOutgoingTasks(targetTaskId, streamId, values);\n    +}\n<p> else </p>\n{\n    +    outTasks = taskData.getOutgoingTasks(streamId, values);\n    +}\n<p>    +<br/>\n    +for (Integer t : outTasks) {<br/>\n    +    Map<Long, Long> anchorsToIds = new HashMap<>();<br/>\n    +    if (anchors != null) {<br/>\n    +for (Tuple a : anchors) {<br/>\n    +    long edgeId = MessageId.generateId(random);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    you're correct, will address</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655025","html_url":"https://github.com/apache/storm/issues/5114#issuecomment-2612655025","issue_url":"https://api.github.com/repos/apache/storm/issues/5114","id":2612655025,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTUwMjU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T15:23:26Z","updated_at":"2025-01-24T14:24:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user unsleepy22 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1445#discussion_r73177059\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1445#discussion_r73177059</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/executor/bolt/BoltOutputCollectorImpl.java &#8212;<br/>\n    @@ -0,0 +1,168 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.executor.bolt;<br/>\n    +<br/>\n    +import java.util.Collection;<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.Random;<br/>\n    +import java.util.Set;<br/>\n    +import org.apache.storm.daemon.Acker;<br/>\n    +import org.apache.storm.daemon.Task;<br/>\n    +import org.apache.storm.hooks.info.BoltAckInfo;<br/>\n    +import org.apache.storm.hooks.info.BoltFailInfo;<br/>\n    +import org.apache.storm.stats.BoltExecutorStats;<br/>\n    +import org.apache.storm.task.IOutputCollector;<br/>\n    +import org.apache.storm.tuple.MessageId;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.apache.storm.tuple.TupleImpl;<br/>\n    +import org.apache.storm.tuple.Values;<br/>\n    +import org.apache.storm.utils.Time;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +public class BoltOutputCollectorImpl implements IOutputCollector {<br/>\n    +<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(BoltOutputCollectorImpl.class);<br/>\n    +<br/>\n    +    private final BoltExecutor executor;<br/>\n    +    private final Task taskData;<br/>\n    +    private final int taskId;<br/>\n    +    private final Random random;<br/>\n    +    private final boolean isEventLoggers;<br/>\n    +    private final boolean isDebug;<br/>\n    +<br/>\n    +    public BoltOutputCollectorImpl(BoltExecutor executor, Task taskData, int taskId, Random random,<br/>\n    +   boolean isEventLoggers, boolean isDebug) </p>\n{\n    +this.executor = executor;\n    +this.taskData = taskData;\n    +this.taskId = taskId;\n    +this.random = random;\n    +this.isEventLoggers = isEventLoggers;\n    +this.isDebug = isDebug;\n    +    }\n<p>    +<br/>\n    +    public List<Integer> emit(String streamId, Collection<Tuple> anchors, List<Object> tuple) </p>\n{\n    +return boltEmit(streamId, anchors, tuple, null);\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void emitDirect(int taskId, String streamId, Collection<Tuple> anchors, List<Object> tuple) </p>\n{\n    +boltEmit(streamId, anchors, tuple, taskId);\n    +    }\n<p>    +<br/>\n    +    private List<Integer> boltEmit(String streamId, Collection<Tuple> anchors, List<Object> values, Integer targetTaskId) {<br/>\n    +List<Integer> outTasks;<br/>\n    +if (targetTaskId != null) </p>\n{\n    +    outTasks = taskData.getOutgoingTasks(targetTaskId, streamId, values);\n    +}\n<p> else </p>\n{\n    +    outTasks = taskData.getOutgoingTasks(streamId, values);\n    +}\n<p>    +<br/>\n    +for (Integer t : outTasks) {<br/>\n    +    Map<Long, Long> anchorsToIds = new HashMap<>();<br/>\n    +    if (anchors != null) {<br/>\n    +for (Tuple a : anchors) {<br/>\n    +    long edgeId = MessageId.generateId(random);<br/>\n    +    ((TupleImpl) a).updateAckVal(edgeId);<br/>\n    +    for (Long root_id : a.getMessageId().getAnchorsToIds().keySet()) </p>\n{\n    +putXor(anchorsToIds, root_id, edgeId);\n    +    }\n<p>    +}<br/>\n    +    }<br/>\n    +    MessageId msgId = MessageId.makeId(anchorsToIds);<br/>\n    +    TupleImpl tupleExt = new TupleImpl(executor.getWorkerTopologyContext(), values, taskId, streamId, msgId);<br/>\n    +    executor.getExecutorTransfer().transfer(t, tupleExt);<br/>\n    +}<br/>\n    +if (isEventLoggers) </p>\n{\n    +    executor.sendToEventLogger(executor, taskData, values, executor.getComponentId(), null, random);\n    +}\n<p>    +return outTasks;<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    changed `getOutgoingTasks` method to ensure this.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655031","html_url":"https://github.com/apache/storm/issues/5114#issuecomment-2612655031","issue_url":"https://api.github.com/repos/apache/storm/issues/5114","id":2612655031,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTUwMzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T15:24:38Z","updated_at":"2025-01-24T14:24:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user unsleepy22 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1445#discussion_r73177311\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1445#discussion_r73177311</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/executor/spout/SpoutOutputCollectorImpl.java &#8212;<br/>\n    @@ -0,0 +1,147 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.executor.spout;<br/>\n    +<br/>\n    +import org.apache.storm.daemon.Acker;<br/>\n    +import org.apache.storm.daemon.Task;<br/>\n    +import org.apache.storm.executor.TupleInfo;<br/>\n    +import org.apache.storm.spout.ISpout;<br/>\n    +import org.apache.storm.spout.ISpoutOutputCollector;<br/>\n    +import org.apache.storm.tuple.MessageId;<br/>\n    +import org.apache.storm.tuple.TupleImpl;<br/>\n    +import org.apache.storm.tuple.Values;<br/>\n    +import org.apache.storm.utils.MutableLong;<br/>\n    +import org.apache.storm.utils.RotatingMap;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Random;<br/>\n    +<br/>\n    +public class SpoutOutputCollectorImpl implements ISpoutOutputCollector {<br/>\n    +<br/>\n    +    private final SpoutExecutor executor;<br/>\n    +    private final Task taskData;<br/>\n    +    private final int taskId;<br/>\n    +    private final MutableLong emittedCount;<br/>\n    +    private final boolean hasAckers;<br/>\n    +    private final Random random;<br/>\n    +    private final Boolean isEventLoggers;<br/>\n    +    private final Boolean isDebug;<br/>\n    +    private final RotatingMap<Long, TupleInfo> pending;<br/>\n    +<br/>\n    +    @SuppressWarnings(\"unused\")<br/>\n    +    public SpoutOutputCollectorImpl(ISpout spout, SpoutExecutor executor, Task taskData, int taskId,<br/>\n    +    MutableLong emittedCount, boolean hasAckers, Random random,<br/>\n    +    Boolean isEventLoggers, Boolean isDebug, RotatingMap<Long, TupleInfo> pending) </p>\n{\n    +this.executor = executor;\n    +this.taskData = taskData;\n    +this.taskId = taskId;\n    +this.emittedCount = emittedCount;\n    +this.hasAckers = hasAckers;\n    +this.random = random;\n    +this.isEventLoggers = isEventLoggers;\n    +this.isDebug = isDebug;\n    +this.pending = pending;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public List<Integer> emit(String streamId, List<Object> tuple, Object messageId) </p>\n{\n    +return sendSpoutMsg(streamId, tuple, messageId, null);\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void emitDirect(int taskId, String streamId, List<Object> tuple, Object messageId) </p>\n{\n    +sendSpoutMsg(streamId, tuple, messageId, taskId);\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public long getPendingCount() </p>\n{\n    +return pending.size();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void reportError(Throwable error) </p>\n{\n    +executor.getReportError().report(error);\n    +    }\n<p>    +<br/>\n    +    private List<Integer> sendSpoutMsg(String stream, List<Object> values, Object messageId, Integer outTaskId) {<br/>\n    +emittedCount.increment();<br/>\n    +<br/>\n    +List<Integer> outTasks;<br/>\n    +if (outTaskId != null) </p>\n{\n    +    outTasks = taskData.getOutgoingTasks(outTaskId, stream, values);\n    +}\n<p> else </p>\n{\n    +    outTasks = taskData.getOutgoingTasks(stream, values);\n    +}\n<p>    +<br/>\n    +List<Long> ackSeq = new ArrayList<>();<br/>\n    +boolean needAck = (messageId != null) && hasAckers;<br/>\n    +<br/>\n    +long rootId = MessageId.generateId(random);<br/>\n    +for (Integer t : outTasks) {<br/>\n    +    MessageId msgId;<br/>\n    +    if (needAck) </p>\n{\n    +long as = MessageId.generateId(random);\n    +msgId = MessageId.makeRootId(rootId, as);\n    +ackSeq.add(as);\n    +    }\n<p> else </p>\n{\n    +msgId = MessageId.makeUnanchored();\n    +    }\n<p>    +<br/>\n    +    TupleImpl tuple = new TupleImpl(executor.getWorkerTopologyContext(), values, this.taskId, stream, msgId);<br/>\n    +    executor.getExecutorTransfer().transfer(t, tuple);<br/>\n    +}<br/>\n    +if (isEventLoggers) </p>\n{\n    +    executor.sendToEventLogger(executor, taskData, values, executor.getComponentId(), messageId, random);\n    +}\n<p>    +<br/>\n    +boolean sample = false;<br/>\n    +try </p>\n{\n    +    sample = executor.getSampler().call();\n    +}\n<p> catch (Exception ignored) </p>\n{\n    +}\n<p>    +if (needAck) {<br/>\n    +    TupleInfo info = new TupleInfo();<br/>\n    +    info.setTaskId(this.taskId);<br/>\n    +    info.setStream(stream);<br/>\n    +    info.setMessageId(messageId);<br/>\n    +    if (isDebug) </p>\n{\n    +info.setValues(values);\n    +    }\n<p>    +    if (sample) </p>\n{\n    +info.setTimestamp(System.currentTimeMillis());\n    +    }\n<p>    +<br/>\n    +    pending.put(rootId, info);<br/>\n    +    List<Object> ackInitTuple = new Values(rootId, Utils.bitXorVals(ackSeq), this.taskId);<br/>\n    +    executor.sendUnanchored(taskData, Acker.ACKER_INIT_STREAM_ID, ackInitTuple, executor.getExecutorTransfer());<br/>\n    +} else if (messageId != null) </p>\n{\n    +    TupleInfo info = new TupleInfo();\n    +    info.setStream(stream);\n    +    info.setValues(values);\n    +    info.setMessageId(messageId);\n    +    info.setTimestamp(0);\n    +    Long timeDelta = sample ? 0L : null;\n    +    info.setId(\"0:\");\n    +    executor.ackSpoutMsg(executor, taskData, timeDelta, info);\n    +}\n<p>    +<br/>\n    +return outTasks;<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    same as BoltOutputCollectImpl</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655036","html_url":"https://github.com/apache/storm/issues/5114#issuecomment-2612655036","issue_url":"https://api.github.com/repos/apache/storm/issues/5114","id":2612655036,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTUwMzY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T15:28:15Z","updated_at":"2025-01-24T14:24:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user unsleepy22 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1445#discussion_r73178126\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1445#discussion_r73178126</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/executor/spout/SpoutExecutor.java &#8212;<br/>\n    @@ -0,0 +1,248 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.executor.spout;<br/>\n    +<br/>\n    +import com.google.common.collect.ImmutableMap;<br/>\n    +import org.apache.storm.Config;<br/>\n    +import org.apache.storm.Constants;<br/>\n    +import org.apache.storm.ICredentialsListener;<br/>\n    +import org.apache.storm.daemon.Acker;<br/>\n    +import org.apache.storm.daemon.StormCommon;<br/>\n    +import org.apache.storm.daemon.Task;<br/>\n    +import org.apache.storm.daemon.metrics.BuiltinMetricsUtil;<br/>\n    +import org.apache.storm.daemon.metrics.SpoutThrottlingMetrics;<br/>\n    +import org.apache.storm.executor.Executor;<br/>\n    +import org.apache.storm.executor.TupleInfo;<br/>\n    +import org.apache.storm.hooks.info.SpoutAckInfo;<br/>\n    +import org.apache.storm.hooks.info.SpoutFailInfo;<br/>\n    +import org.apache.storm.spout.ISpout;<br/>\n    +import org.apache.storm.spout.ISpoutWaitStrategy;<br/>\n    +import org.apache.storm.spout.SpoutOutputCollector;<br/>\n    +import org.apache.storm.stats.SpoutExecutorStats;<br/>\n    +import org.apache.storm.tuple.TupleImpl;<br/>\n    +import org.apache.storm.utils.DisruptorQueue;<br/>\n    +import org.apache.storm.utils.MutableLong;<br/>\n    +import org.apache.storm.utils.RotatingMap;<br/>\n    +import org.apache.storm.utils.Time;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.concurrent.atomic.AtomicBoolean;<br/>\n    +<br/>\n    +public class SpoutExecutor extends Executor {<br/>\n    +<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(SpoutExecutor.class);<br/>\n    +<br/>\n    +    private final ISpoutWaitStrategy spoutWaitStrategy;<br/>\n    +    private Integer maxSpoutPending;<br/>\n    +    private final AtomicBoolean lastActive;<br/>\n    +    private List<ISpout> spouts;<br/>\n    +    private List<SpoutOutputCollector> outputCollectors;<br/>\n    +    private final MutableLong emittedCount;<br/>\n    +    private final MutableLong emptyEmitStreak;<br/>\n    +    private final SpoutThrottlingMetrics spoutThrottlingMetrics;<br/>\n    +    private final boolean hasAckers;<br/>\n    +    private RotatingMap<Long, TupleInfo> pending;<br/>\n    +    private final boolean backPressureEnabled;<br/>\n    +<br/>\n    +    public SpoutExecutor(final Map workerData, final List<Long> executorId, Map<String, String> credentials) </p>\n{\n    +super(workerData, executorId, credentials);\n    +this.spoutWaitStrategy = Utils.newInstance((String) stormConf.get(Config.TOPOLOGY_SPOUT_WAIT_STRATEGY));\n    +this.spoutWaitStrategy.prepare(stormConf);\n    +\n    +this.backPressureEnabled = Utils.getBoolean(stormConf.get(Config.TOPOLOGY_BACKPRESSURE_ENABLE), false);\n    +\n    +this.lastActive = new AtomicBoolean(false);\n    +this.hasAckers = StormCommon.hasAckers(stormConf);\n    +this.emittedCount = new MutableLong(0);\n    +this.emptyEmitStreak = new MutableLong(0);\n    +this.spoutThrottlingMetrics = new SpoutThrottlingMetrics();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void init(final Map<Integer, Task> idToTask) {<br/>\n    +LOG.info(\"Opening spout {}:{}\", componentId, idToTask.keySet());<br/>\n    +this.idToTask = idToTask;<br/>\n    +this.maxSpoutPending = Utils.getInt(stormConf.get(Config.TOPOLOGY_MAX_SPOUT_PENDING), 0) * idToTask.size();<br/>\n    +this.spouts = new ArrayList<>();<br/>\n    +for (Task task : idToTask.values()) </p>\n{\n    +    this.spouts.add((ISpout) task.getTaskObject());\n    +}\n<p>    +this.pending = new RotatingMap<>(2, new RotatingMap.ExpiredCallback<Long, TupleInfo>() {<br/>\n    +    @Override<br/>\n    +    public void expire(Long key, TupleInfo tupleInfo) {<br/>\n    +Long timeDelta = null;<br/>\n    +if (tupleInfo.getTimestamp() != 0) </p>\n{\n    +    timeDelta = Time.deltaMs(tupleInfo.getTimestamp());\n    +}\n<p>    +failSpoutMsg(SpoutExecutor.this, idToTask.get(tupleInfo.getTaskId()), timeDelta, tupleInfo, \"TIMEOUT\");<br/>\n    +    }<br/>\n    +});<br/>\n    +<br/>\n    +this.spoutThrottlingMetrics.registerAll(stormConf, idToTask.values().iterator().next().getUserContext());<br/>\n    +this.outputCollectors = new ArrayList<>();<br/>\n    +for (Map.Entry<Integer, Task> entry : idToTask.entrySet()) {<br/>\n    +    Task taskData = entry.getValue();<br/>\n    +    ISpout spoutObject = (ISpout) taskData.getTaskObject();<br/>\n    +    SpoutOutputCollectorImpl spoutOutputCollector = new SpoutOutputCollectorImpl(<br/>\n    +    spoutObject, this, taskData, entry.getKey(), emittedCount,<br/>\n    +    hasAckers, rand, isEventLoggers, isDebug, pending);<br/>\n    +    SpoutOutputCollector outputCollector = new SpoutOutputCollector(spoutOutputCollector);<br/>\n    +    this.outputCollectors.add(outputCollector);<br/>\n    +<br/>\n    +    taskData.getBuiltInMetrics().registerAll(stormConf, taskData.getUserContext());<br/>\n    +    Map<String, DisruptorQueue> map = ImmutableMap.of(\"sendqueue\", transferQueue, \"receive\", receiveQueue);<br/>\n    +    BuiltinMetricsUtil.registerQueueMetrics(map, stormConf, taskData.getUserContext());<br/>\n    +<br/>\n    +    if (spoutObject instanceof ICredentialsListener) </p>\n{\n    +((ICredentialsListener) spoutObject).setCredentials(credentials);\n    +    }\n<p>    +    spoutObject.open(stormConf, taskData.getUserContext(), outputCollector);<br/>\n    +}<br/>\n    +openOrPrepareWasCalled.set(true);<br/>\n    +LOG.info(\"Opened spout {}:{}\", componentId, idToTask.keySet());<br/>\n    +setupMetrics();<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public Object call() throws Exception {<br/>\n    +while (!stormActive.get()) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    yes you're correct about this. that's why i put the storm-active check in the inner run() although that's not quite right. I'm still figuring out how to do this right.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655040","html_url":"https://github.com/apache/storm/issues/5114#issuecomment-2612655040","issue_url":"https://api.github.com/repos/apache/storm/issues/5114","id":2612655040,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTUwNDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T16:02:56Z","updated_at":"2025-01-24T14:24:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user unsleepy22 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1445#discussion_r73185119\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1445#discussion_r73185119</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/executor/spout/SpoutExecutor.java &#8212;<br/>\n    @@ -0,0 +1,248 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.executor.spout;<br/>\n    +<br/>\n    +import com.google.common.collect.ImmutableMap;<br/>\n    +import org.apache.storm.Config;<br/>\n    +import org.apache.storm.Constants;<br/>\n    +import org.apache.storm.ICredentialsListener;<br/>\n    +import org.apache.storm.daemon.Acker;<br/>\n    +import org.apache.storm.daemon.StormCommon;<br/>\n    +import org.apache.storm.daemon.Task;<br/>\n    +import org.apache.storm.daemon.metrics.BuiltinMetricsUtil;<br/>\n    +import org.apache.storm.daemon.metrics.SpoutThrottlingMetrics;<br/>\n    +import org.apache.storm.executor.Executor;<br/>\n    +import org.apache.storm.executor.TupleInfo;<br/>\n    +import org.apache.storm.hooks.info.SpoutAckInfo;<br/>\n    +import org.apache.storm.hooks.info.SpoutFailInfo;<br/>\n    +import org.apache.storm.spout.ISpout;<br/>\n    +import org.apache.storm.spout.ISpoutWaitStrategy;<br/>\n    +import org.apache.storm.spout.SpoutOutputCollector;<br/>\n    +import org.apache.storm.stats.SpoutExecutorStats;<br/>\n    +import org.apache.storm.tuple.TupleImpl;<br/>\n    +import org.apache.storm.utils.DisruptorQueue;<br/>\n    +import org.apache.storm.utils.MutableLong;<br/>\n    +import org.apache.storm.utils.RotatingMap;<br/>\n    +import org.apache.storm.utils.Time;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.concurrent.atomic.AtomicBoolean;<br/>\n    +<br/>\n    +public class SpoutExecutor extends Executor {<br/>\n    +<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(SpoutExecutor.class);<br/>\n    +<br/>\n    +    private final ISpoutWaitStrategy spoutWaitStrategy;<br/>\n    +    private Integer maxSpoutPending;<br/>\n    +    private final AtomicBoolean lastActive;<br/>\n    +    private List<ISpout> spouts;<br/>\n    +    private List<SpoutOutputCollector> outputCollectors;<br/>\n    +    private final MutableLong emittedCount;<br/>\n    +    private final MutableLong emptyEmitStreak;<br/>\n    +    private final SpoutThrottlingMetrics spoutThrottlingMetrics;<br/>\n    +    private final boolean hasAckers;<br/>\n    +    private RotatingMap<Long, TupleInfo> pending;<br/>\n    +    private final boolean backPressureEnabled;<br/>\n    +<br/>\n    +    public SpoutExecutor(final Map workerData, final List<Long> executorId, Map<String, String> credentials) </p>\n{\n    +super(workerData, executorId, credentials);\n    +this.spoutWaitStrategy = Utils.newInstance((String) stormConf.get(Config.TOPOLOGY_SPOUT_WAIT_STRATEGY));\n    +this.spoutWaitStrategy.prepare(stormConf);\n    +\n    +this.backPressureEnabled = Utils.getBoolean(stormConf.get(Config.TOPOLOGY_BACKPRESSURE_ENABLE), false);\n    +\n    +this.lastActive = new AtomicBoolean(false);\n    +this.hasAckers = StormCommon.hasAckers(stormConf);\n    +this.emittedCount = new MutableLong(0);\n    +this.emptyEmitStreak = new MutableLong(0);\n    +this.spoutThrottlingMetrics = new SpoutThrottlingMetrics();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void init(final Map<Integer, Task> idToTask) {<br/>\n    +LOG.info(\"Opening spout {}:{}\", componentId, idToTask.keySet());<br/>\n    +this.idToTask = idToTask;<br/>\n    +this.maxSpoutPending = Utils.getInt(stormConf.get(Config.TOPOLOGY_MAX_SPOUT_PENDING), 0) * idToTask.size();<br/>\n    +this.spouts = new ArrayList<>();<br/>\n    +for (Task task : idToTask.values()) </p>\n{\n    +    this.spouts.add((ISpout) task.getTaskObject());\n    +}\n<p>    +this.pending = new RotatingMap<>(2, new RotatingMap.ExpiredCallback<Long, TupleInfo>() {<br/>\n    +    @Override<br/>\n    +    public void expire(Long key, TupleInfo tupleInfo) {<br/>\n    +Long timeDelta = null;<br/>\n    +if (tupleInfo.getTimestamp() != 0) </p>\n{\n    +    timeDelta = Time.deltaMs(tupleInfo.getTimestamp());\n    +}\n<p>    +failSpoutMsg(SpoutExecutor.this, idToTask.get(tupleInfo.getTaskId()), timeDelta, tupleInfo, \"TIMEOUT\");<br/>\n    +    }<br/>\n    +});<br/>\n    +<br/>\n    +this.spoutThrottlingMetrics.registerAll(stormConf, idToTask.values().iterator().next().getUserContext());<br/>\n    +this.outputCollectors = new ArrayList<>();<br/>\n    +for (Map.Entry<Integer, Task> entry : idToTask.entrySet()) {<br/>\n    +    Task taskData = entry.getValue();<br/>\n    +    ISpout spoutObject = (ISpout) taskData.getTaskObject();<br/>\n    +    SpoutOutputCollectorImpl spoutOutputCollector = new SpoutOutputCollectorImpl(<br/>\n    +    spoutObject, this, taskData, entry.getKey(), emittedCount,<br/>\n    +    hasAckers, rand, isEventLoggers, isDebug, pending);<br/>\n    +    SpoutOutputCollector outputCollector = new SpoutOutputCollector(spoutOutputCollector);<br/>\n    +    this.outputCollectors.add(outputCollector);<br/>\n    +<br/>\n    +    taskData.getBuiltInMetrics().registerAll(stormConf, taskData.getUserContext());<br/>\n    +    Map<String, DisruptorQueue> map = ImmutableMap.of(\"sendqueue\", transferQueue, \"receive\", receiveQueue);<br/>\n    +    BuiltinMetricsUtil.registerQueueMetrics(map, stormConf, taskData.getUserContext());<br/>\n    +<br/>\n    +    if (spoutObject instanceof ICredentialsListener) </p>\n{\n    +((ICredentialsListener) spoutObject).setCredentials(credentials);\n    +    }\n<p>    +    spoutObject.open(stormConf, taskData.getUserContext(), outputCollector);<br/>\n    +}<br/>\n    +openOrPrepareWasCalled.set(true);<br/>\n    +LOG.info(\"Opened spout {}:{}\", componentId, idToTask.keySet());<br/>\n    +setupMetrics();<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public Object call() throws Exception {<br/>\n    +while (!stormActive.get()) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    My approach is to remain almost as it is, i.e., return a Callable in Executor.execute method, and set isFactory to true in the async loop. Still, I prefer to keep the init method as it is now.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/236952758","html_url":"https://github.com/apache/storm/pull/1445#issuecomment-236952758","issue_url":"https://api.github.com/repos/apache/storm/issues/1445","id":236952758,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNjk1Mjc1OA==","user":{"login":"unsleepy22","id":631361,"node_id":"MDQ6VXNlcjYzMTM2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/631361?v=4","gravatar_id":"","url":"https://api.github.com/users/unsleepy22","html_url":"https://github.com/unsleepy22","followers_url":"https://api.github.com/users/unsleepy22/followers","following_url":"https://api.github.com/users/unsleepy22/following{/other_user}","gists_url":"https://api.github.com/users/unsleepy22/gists{/gist_id}","starred_url":"https://api.github.com/users/unsleepy22/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/unsleepy22/subscriptions","organizations_url":"https://api.github.com/users/unsleepy22/orgs","repos_url":"https://api.github.com/users/unsleepy22/repos","events_url":"https://api.github.com/users/unsleepy22/events{/privacy}","received_events_url":"https://api.github.com/users/unsleepy22/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T16:03:33Z","updated_at":"2016-08-02T16:03:33Z","author_association":"NONE","body":"@HeartSaVioR thanks for your careful review, all comments addressed.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/236952758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655045","html_url":"https://github.com/apache/storm/issues/5114#issuecomment-2612655045","issue_url":"https://api.github.com/repos/apache/storm/issues/5114","id":2612655045,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTUwNDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T16:03:35Z","updated_at":"2025-01-24T14:24:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user unsleepy22 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1445\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1445</a></p>\n\n<p>    @HeartSaVioR thanks for your careful review, all comments addressed.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942933","html_url":"https://github.com/apache/storm/issues/5795#issuecomment-2612942933","issue_url":"https://api.github.com/repos/apache/storm/issues/5795","id":2612942933,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDI5MzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T16:52:18Z","updated_at":"2025-01-24T16:36:23Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user darionyaphet opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1604\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1604</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-2013\" title=\"Upgrade Netty to 3.10.6\" class=\"issue-link\" data-issue-key=\"STORM-2013\"><del>STORM-2013</del></a> Upgrade Netty to 3.10.6</p>\n\n<p>    <span class=\"error\">&#91;STORM-2013 Upgrade Netty to 3.10.6&#93;</span>(<a href=\"https://issues.apache.org/jira/browse/STORM-2013\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-2013</a>)</p>\n\n<p>    Since Netty 3.9 , it have fix some bugs and improve performance .</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/darionyaphet/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/darionyaphet/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-2013\" title=\"Upgrade Netty to 3.10.6\" class=\"issue-link\" data-issue-key=\"STORM-2013\"><del>STORM-2013</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1604.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1604.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1604</p>\n\n<hr />\n<p>commit ece1886bdbead8a859510d1e061d04deddccdf77<br/>\nAuthor: darionyaphet <darion.yaphet@gmail.com><br/>\nDate:   2016-08-02T16:51:10Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-2013\" title=\"Upgrade Netty to 3.10.6\" class=\"issue-link\" data-issue-key=\"STORM-2013\"><del>STORM-2013</del></a> : Upgrade Netty to 3.10.6</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941425","html_url":"https://github.com/apache/storm/issues/5785#issuecomment-2612941425","issue_url":"https://api.github.com/repos/apache/storm/issues/5785","id":2612941425,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE0MjU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T16:56:56Z","updated_at":"2025-01-24T16:35:41Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user darionyaphet commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1590#discussion_r73194225\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1590#discussion_r73194225</a></p>\n\n<p>    &#8212; Diff: external/storm-kafka/src/jvm/org/apache/storm/kafka/bolt/KafkaBolt.java &#8212;<br/>\n    @@ -98,7 +98,11 @@ public void prepare(Map stormConf, TopologyContext context, OutputCollector coll</p>\n\n<p>     //for backward compatibility.<br/>\n     if(topicSelector == null) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>this.topicSelector = new DefaultTopicSelector((String) stormConf.get(TOPIC));<br/>\n    +    if(stormConf.containsKey(TOPIC)) \n{\n    +this.topicSelector = new DefaultTopicSelector((String) stormConf.get(TOPIC));\n    +    }\n<p> else {<br/>\n    +throw new IllegalArgumentException(\"topic select should be specified\");</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    @satishd nice advice and fixed</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612943061","html_url":"https://github.com/apache/storm/issues/5796#issuecomment-2612943061","issue_url":"https://api.github.com/repos/apache/storm/issues/5796","id":2612943061,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDMwNjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T17:23:34Z","updated_at":"2025-01-24T16:36:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user srdo opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1605\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1605</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-2014\" title=\"New Kafka spout duplicates checking if failed messages have reached max retries\" class=\"issue-link\" data-issue-key=\"STORM-2014\"><del>STORM-2014</del></a>: Put logic around dropping messages into RetryService, rem…</p>\n\n<p>    …ove maxRetry setting from new KafkaSpout</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-2014\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-2014</a></p>\n\n<p>    This PR removes maxRetry from the KafkaSpout and changes the RetryService interface slightly so the schedule method can communicate back to the spout that the message should be dropped. Retry logic belongs to the RetryService interface, and it's nice for users if they can easily plug in their own handling of messages that will be dropped (custom logging for example).</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/srdo/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/srdo/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-2014\" title=\"New Kafka spout duplicates checking if failed messages have reached max retries\" class=\"issue-link\" data-issue-key=\"STORM-2014\"><del>STORM-2014</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1605.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1605.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1605</p>\n\n<hr />\n<p>commit 432f932a70b0bd21f06cd6f36386404eab194e0a<br/>\nAuthor: Stig Rohde Døssing <stigdoessing@gmail.com><br/>\nDate:   2016-08-02T17:17:02Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-2014\" title=\"New Kafka spout duplicates checking if failed messages have reached max retries\" class=\"issue-link\" data-issue-key=\"STORM-2014\"><del>STORM-2014</del></a>: Put logic around dropping messages into RetryService, remove maxRetry setting from new KafkaSpout</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612943061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/236980743","html_url":"https://github.com/apache/storm/pull/1605#issuecomment-236980743","issue_url":"https://api.github.com/repos/apache/storm/issues/1605","id":236980743,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNjk4MDc0Mw==","user":{"login":"priyank5485","id":5192436,"node_id":"MDQ6VXNlcjUxOTI0MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5192436?v=4","gravatar_id":"","url":"https://api.github.com/users/priyank5485","html_url":"https://github.com/priyank5485","followers_url":"https://api.github.com/users/priyank5485/followers","following_url":"https://api.github.com/users/priyank5485/following{/other_user}","gists_url":"https://api.github.com/users/priyank5485/gists{/gist_id}","starred_url":"https://api.github.com/users/priyank5485/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priyank5485/subscriptions","organizations_url":"https://api.github.com/users/priyank5485/orgs","repos_url":"https://api.github.com/users/priyank5485/repos","events_url":"https://api.github.com/users/priyank5485/events{/privacy}","received_events_url":"https://api.github.com/users/priyank5485/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T17:35:21Z","updated_at":"2016-08-02T17:35:21Z","author_association":"CONTRIBUTOR","body":"+1 (non-binding). I had talked to @hmcl briefly about this. We should have his review as well\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/236980743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612943064","html_url":"https://github.com/apache/storm/issues/5796#issuecomment-2612943064","issue_url":"https://api.github.com/repos/apache/storm/issues/5796","id":2612943064,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDMwNjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T17:35:23Z","updated_at":"2025-01-24T16:36:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user priyank5485 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1605\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1605</a></p>\n\n<p>    +1 (non-binding). I had talked to @hmcl briefly about this. We should have his review as well</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612943064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612913437","html_url":"https://github.com/apache/storm/issues/5661#issuecomment-2612913437","issue_url":"https://api.github.com/repos/apache/storm/issues/5661","id":2612913437,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTM0Mzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T17:55:59Z","updated_at":"2025-01-24T16:21:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srdo\">srdo</a>:</i>\n<p>Sorry <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\" class=\"user-hover\" rel=\"kabhwan\">Jungtaek Lim</a>, I've been out of the office for a while, and for some reason I don't get mail notifications from JIRA. 1.0.2 release seems close, so we'll keep an eye on whether this issue pops up after we upgrade. Thanks for taking a look at this.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612913437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612680256","html_url":"https://github.com/apache/storm/issues/5182#issuecomment-2612680256","issue_url":"https://api.github.com/repos/apache/storm/issues/5182","id":2612680256,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODAyNTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T21:11:41Z","updated_at":"2025-01-24T14:36:17Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=parth.brahmbhatt\">parth.brahmbhatt</a>:</i>\n<p>Accidentally closed.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612680256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655049","html_url":"https://github.com/apache/storm/issues/5114#issuecomment-2612655049","issue_url":"https://api.github.com/repos/apache/storm/issues/5114","id":2612655049,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTUwNDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T23:11:11Z","updated_at":"2025-01-24T14:24:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1445#discussion_r73255197\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1445#discussion_r73255197</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/executor/spout/SpoutExecutor.java &#8212;<br/>\n    @@ -0,0 +1,248 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.executor.spout;<br/>\n    +<br/>\n    +import com.google.common.collect.ImmutableMap;<br/>\n    +import org.apache.storm.Config;<br/>\n    +import org.apache.storm.Constants;<br/>\n    +import org.apache.storm.ICredentialsListener;<br/>\n    +import org.apache.storm.daemon.Acker;<br/>\n    +import org.apache.storm.daemon.StormCommon;<br/>\n    +import org.apache.storm.daemon.Task;<br/>\n    +import org.apache.storm.daemon.metrics.BuiltinMetricsUtil;<br/>\n    +import org.apache.storm.daemon.metrics.SpoutThrottlingMetrics;<br/>\n    +import org.apache.storm.executor.Executor;<br/>\n    +import org.apache.storm.executor.TupleInfo;<br/>\n    +import org.apache.storm.hooks.info.SpoutAckInfo;<br/>\n    +import org.apache.storm.hooks.info.SpoutFailInfo;<br/>\n    +import org.apache.storm.spout.ISpout;<br/>\n    +import org.apache.storm.spout.ISpoutWaitStrategy;<br/>\n    +import org.apache.storm.spout.SpoutOutputCollector;<br/>\n    +import org.apache.storm.stats.SpoutExecutorStats;<br/>\n    +import org.apache.storm.tuple.TupleImpl;<br/>\n    +import org.apache.storm.utils.DisruptorQueue;<br/>\n    +import org.apache.storm.utils.MutableLong;<br/>\n    +import org.apache.storm.utils.RotatingMap;<br/>\n    +import org.apache.storm.utils.Time;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.concurrent.atomic.AtomicBoolean;<br/>\n    +<br/>\n    +public class SpoutExecutor extends Executor {<br/>\n    +<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(SpoutExecutor.class);<br/>\n    +<br/>\n    +    private final ISpoutWaitStrategy spoutWaitStrategy;<br/>\n    +    private Integer maxSpoutPending;<br/>\n    +    private final AtomicBoolean lastActive;<br/>\n    +    private List<ISpout> spouts;<br/>\n    +    private List<SpoutOutputCollector> outputCollectors;<br/>\n    +    private final MutableLong emittedCount;<br/>\n    +    private final MutableLong emptyEmitStreak;<br/>\n    +    private final SpoutThrottlingMetrics spoutThrottlingMetrics;<br/>\n    +    private final boolean hasAckers;<br/>\n    +    private RotatingMap<Long, TupleInfo> pending;<br/>\n    +    private final boolean backPressureEnabled;<br/>\n    +<br/>\n    +    public SpoutExecutor(final Map workerData, final List<Long> executorId, Map<String, String> credentials) </p>\n{\n    +super(workerData, executorId, credentials);\n    +this.spoutWaitStrategy = Utils.newInstance((String) stormConf.get(Config.TOPOLOGY_SPOUT_WAIT_STRATEGY));\n    +this.spoutWaitStrategy.prepare(stormConf);\n    +\n    +this.backPressureEnabled = Utils.getBoolean(stormConf.get(Config.TOPOLOGY_BACKPRESSURE_ENABLE), false);\n    +\n    +this.lastActive = new AtomicBoolean(false);\n    +this.hasAckers = StormCommon.hasAckers(stormConf);\n    +this.emittedCount = new MutableLong(0);\n    +this.emptyEmitStreak = new MutableLong(0);\n    +this.spoutThrottlingMetrics = new SpoutThrottlingMetrics();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void init(final Map<Integer, Task> idToTask) {<br/>\n    +LOG.info(\"Opening spout {}:{}\", componentId, idToTask.keySet());<br/>\n    +this.idToTask = idToTask;<br/>\n    +this.maxSpoutPending = Utils.getInt(stormConf.get(Config.TOPOLOGY_MAX_SPOUT_PENDING), 0) * idToTask.size();<br/>\n    +this.spouts = new ArrayList<>();<br/>\n    +for (Task task : idToTask.values()) </p>\n{\n    +    this.spouts.add((ISpout) task.getTaskObject());\n    +}\n<p>    +this.pending = new RotatingMap<>(2, new RotatingMap.ExpiredCallback<Long, TupleInfo>() {<br/>\n    +    @Override<br/>\n    +    public void expire(Long key, TupleInfo tupleInfo) {<br/>\n    +Long timeDelta = null;<br/>\n    +if (tupleInfo.getTimestamp() != 0) </p>\n{\n    +    timeDelta = Time.deltaMs(tupleInfo.getTimestamp());\n    +}\n<p>    +failSpoutMsg(SpoutExecutor.this, idToTask.get(tupleInfo.getTaskId()), timeDelta, tupleInfo, \"TIMEOUT\");<br/>\n    +    }<br/>\n    +});<br/>\n    +<br/>\n    +this.spoutThrottlingMetrics.registerAll(stormConf, idToTask.values().iterator().next().getUserContext());<br/>\n    +this.outputCollectors = new ArrayList<>();<br/>\n    +for (Map.Entry<Integer, Task> entry : idToTask.entrySet()) {<br/>\n    +    Task taskData = entry.getValue();<br/>\n    +    ISpout spoutObject = (ISpout) taskData.getTaskObject();<br/>\n    +    SpoutOutputCollectorImpl spoutOutputCollector = new SpoutOutputCollectorImpl(<br/>\n    +    spoutObject, this, taskData, entry.getKey(), emittedCount,<br/>\n    +    hasAckers, rand, isEventLoggers, isDebug, pending);<br/>\n    +    SpoutOutputCollector outputCollector = new SpoutOutputCollector(spoutOutputCollector);<br/>\n    +    this.outputCollectors.add(outputCollector);<br/>\n    +<br/>\n    +    taskData.getBuiltInMetrics().registerAll(stormConf, taskData.getUserContext());<br/>\n    +    Map<String, DisruptorQueue> map = ImmutableMap.of(\"sendqueue\", transferQueue, \"receive\", receiveQueue);<br/>\n    +    BuiltinMetricsUtil.registerQueueMetrics(map, stormConf, taskData.getUserContext());<br/>\n    +<br/>\n    +    if (spoutObject instanceof ICredentialsListener) </p>\n{\n    +((ICredentialsListener) spoutObject).setCredentials(credentials);\n    +    }\n<p>    +    spoutObject.open(stormConf, taskData.getUserContext(), outputCollector);<br/>\n    +}<br/>\n    +openOrPrepareWasCalled.set(true);<br/>\n    +LOG.info(\"Opened spout {}:{}\", componentId, idToTask.keySet());<br/>\n    +setupMetrics();<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public Object call() throws Exception {<br/>\n    +while (!stormActive.get()) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    storm-active check was used for waiting for activation before calling open. That's also comment on that so it is intentional, and we need to follow on that.</p>\n\n<p>    <a href=\"https://github.com/apache/storm/blob/master/storm-core/src/clj/org/apache/storm/daemon/executor.clj#L516\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/master/storm-core/src/clj/org/apache/storm/daemon/executor.clj#L516</a></p>\n\n<p>    Same on Bolt.</p>\n\n<p>    I agree we can change functional style to object oriented style but this is focused to port so I'd feel more safe if we don't change the behavior and flow in this PR.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237081091","html_url":"https://github.com/apache/storm/pull/1445#issuecomment-237081091","issue_url":"https://api.github.com/repos/apache/storm/issues/1445","id":237081091,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzA4MTA5MQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T23:27:55Z","updated_at":"2016-08-02T23:27:55Z","author_association":"CONTRIBUTOR","body":"I'd be +1 once behavior for spout-transfer-fn and bolt-transfer-fn are translated to same.\nReviewers, please let me know if you think it is better to keep it as it is.\n@abhishekagarwal87 @satishd @harshach Do you plan to continue reviewing this?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237081091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655058","html_url":"https://github.com/apache/storm/issues/5114#issuecomment-2612655058","issue_url":"https://api.github.com/repos/apache/storm/issues/5114","id":2612655058,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTUwNTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T23:27:57Z","updated_at":"2025-01-24T14:24:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1445\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1445</a></p>\n\n<p>    I'd be +1 once behavior for spout-transfer-fn and bolt-transfer-fn are translated to same.<br/>\n    Reviewers, please let me know if you think it is better to keep it as it is.<br/>\n    @abhishekagarwal87 @satishd @harshach Do you plan to continue reviewing this?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655214","html_url":"https://github.com/apache/storm/issues/5115#issuecomment-2612655214","issue_url":"https://api.github.com/repos/apache/storm/issues/5115","id":2612655214,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTUyMTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T23:39:16Z","updated_at":"2025-01-24T14:24:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jark\" class=\"user-hover\" rel=\"jark\">Jark Wu</a><br/>\nReview for porting executor is in progress and I guess it's close to end.<br/>\nAre you available to do the work after executor is merged into master? I just would like to check on that, and please unassign if you're not available.<br/>\nThanks in advance!</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237084857","html_url":"https://github.com/apache/storm/pull/1445#issuecomment-237084857","issue_url":"https://api.github.com/repos/apache/storm/issues/1445","id":237084857,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzA4NDg1Nw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T23:45:05Z","updated_at":"2016-08-02T23:45:05Z","author_association":"CONTRIBUTOR","body":"Builds are failing because of linq4j on calcite-core on storm-hive. \n\n```\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-remote-resources-plugin:1.2.1:process (default) on project storm-hive: Error resolving project artifact: Could not transfer artifact net.hydromatic:linq4j:pom:0.4 from/to sonatype-apache (https://repository.apache.org/releases/): Connect to repository.apache.org:443 [repository.apache.org/207.244.88.143] failed: Connection timed out for project net.hydromatic:linq4j:jar:0.4\n```\n\nlinq4j is not available on search.maven.org so it seems not intermittent issue, and seems like calcite has artifact `calcite-linq4j` starting from 1.0.0. So we might need to update version of calcite.\n\n@harshach Would I file an issue for this?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237084857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655061","html_url":"https://github.com/apache/storm/issues/5114#issuecomment-2612655061","issue_url":"https://api.github.com/repos/apache/storm/issues/5114","id":2612655061,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTUwNjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-02T23:45:07Z","updated_at":"2025-01-24T14:24:48Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1445\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1445</a></p>\n\n<p>    Builds are failing because of linq4j on calcite-core on storm-hive. </p>\n\n<p>    ```<br/>\n    <span class=\"error\">&#91;ERROR&#93;</span> Failed to execute goal org.apache.maven.plugins:maven-remote-resources-plugin:1.2.1:process (default) on project storm-hive: Error resolving project artifact: Could not transfer artifact net.hydromatic:linq4j:pom:0.4 from/to sonatype-apache (<a href=\"https://repository.apache.org/releases/):\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://repository.apache.org/releases/):</a> Connect to repository.apache.org:443 <span class=\"error\">&#91;repository.apache.org/207.244.88.143&#93;</span> failed: Connection timed out for project net.hydromatic:linq4j:jar:0.4<br/>\n    ```</p>\n\n<p>    linq4j is not available on search.maven.org so it seems not intermittent issue, and seems like calcite has artifact `calcite-linq4j` starting from 1.0.0. So we might need to update version of calcite.</p>\n\n<p>    @harshach Would I file an issue for this?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612943253","html_url":"https://github.com/apache/storm/issues/5797#issuecomment-2612943253","issue_url":"https://api.github.com/repos/apache/storm/issues/5797","id":2612943253,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDMyNTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-03T01:03:24Z","updated_at":"2025-01-24T16:36:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=supermonk\">supermonk</a>:</i>\n<p>Hi All,<br/>\n     I would like to work on this bug.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612943253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655220","html_url":"https://github.com/apache/storm/issues/5115#issuecomment-2612655220","issue_url":"https://api.github.com/repos/apache/storm/issues/5115","id":2612655220,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTUyMjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-03T03:36:55Z","updated_at":"2025-01-24T14:24:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jark\">jark</a>:</i>\n<p>Sorry, I have little time to do this issue recently. Please pick this issue up if anyone would like. And sorry for blocking this. （can't unassign）</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612907939","html_url":"https://github.com/apache/storm/issues/5622#issuecomment-2612907939","issue_url":"https://api.github.com/repos/apache/storm/issues/5622","id":2612907939,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDc5Mzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-03T04:58:48Z","updated_at":"2025-01-24T16:18:55Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1586\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1586</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612907939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655223","html_url":"https://github.com/apache/storm/issues/5115#issuecomment-2612655223","issue_url":"https://api.github.com/repos/apache/storm/issues/5115","id":2612655223,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTUyMjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-03T05:09:18Z","updated_at":"2025-01-24T14:24:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>No worries. I'll make this issue unassigned.<br/>\nPlease let me know if you want to unassign other issues as well.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612655223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237292849","html_url":"https://github.com/apache/storm/pull/1591#issuecomment-237292849","issue_url":"https://api.github.com/repos/apache/storm/issues/1591","id":237292849,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzI5Mjg0OQ==","user":{"login":"ooasis","id":10720176,"node_id":"MDQ6VXNlcjEwNzIwMTc2","avatar_url":"https://avatars.githubusercontent.com/u/10720176?v=4","gravatar_id":"","url":"https://api.github.com/users/ooasis","html_url":"https://github.com/ooasis","followers_url":"https://api.github.com/users/ooasis/followers","following_url":"https://api.github.com/users/ooasis/following{/other_user}","gists_url":"https://api.github.com/users/ooasis/gists{/gist_id}","starred_url":"https://api.github.com/users/ooasis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ooasis/subscriptions","organizations_url":"https://api.github.com/users/ooasis/orgs","repos_url":"https://api.github.com/users/ooasis/repos","events_url":"https://api.github.com/users/ooasis/events{/privacy}","received_events_url":"https://api.github.com/users/ooasis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-03T16:40:24Z","updated_at":"2016-08-03T16:40:24Z","author_association":"NONE","body":"@satishd nett 4.x has removed auto-flush in write() and it requires user to explicitly call flush() or writeAndFlush(), so we need to flush for the last message in the logic flow. Fortunately,  the storm netty client does batching of messages itself and it does not flush for every message.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237292849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612598611","html_url":"https://github.com/apache/storm/issues/4876#issuecomment-2612598611","issue_url":"https://api.github.com/repos/apache/storm/issues/4876","id":2612598611,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTg2MTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-03T16:40:26Z","updated_at":"2025-01-24T14:00:12Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user hsun-cnnxty commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1591\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1591</a></p>\n\n<p>    @satishd nett 4.x has removed auto-flush in write() and it requires user to explicitly call flush() or writeAndFlush(), so we need to flush for the last message in the logic flow. Fortunately,  the storm netty client does batching of messages itself and it does not flush for every message.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612598611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944181","html_url":"https://github.com/apache/storm/issues/5800#issuecomment-2612944181","issue_url":"https://api.github.com/repos/apache/storm/issues/5800","id":2612944181,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQxODE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-03T17:52:49Z","updated_at":"2025-01-24T16:36:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\">revans2</a>:</i>\n<p>I would propose that we move to a model where we have 3 main types of threads, for the supervisor itself. Threads in the localizer are different.</p>\n\n<p>1) A Single HB thread (very much like it is now)<br/>\n2) A Single Scheduling Sync Thread that would</p>\n<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\">\n<pre class=\"code-java\"><span class=\"code-keyword\">while</span> (!done) {\n  read scheduling from ZK && sanity check with retry like today;\n  <span class=\"code-keyword\">for</span> (<span class=\"code-object\">int</span> port: set.union(scheduling.ports, slots.keys)) {\n    Slot s = slots.get(port);\n    <span class=\"code-keyword\">if</span> (s == <span class=\"code-keyword\">null</span>) {\ns = <span class=\"code-keyword\">new</span> Slot();\nslots.put(port, s);\n    }\n    s.setNewAssignment(scheduling.get(port));\n  }\n  sleep(...);\n}\n</pre>\n</div></div>\n<p>3) A Slot thread per slot.  This thread would more or less do the following</p>\n<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\">\n<pre class=\"code-java\"><span class=\"code-keyword\">while</span>(!done) {\n  Assignment newAssignment = <span class=\"code-keyword\">this</span>.newAssignment;\n  StateMachine.transitionIfNeeded(newAssignment,...);\n}\n</pre>\n</div></div>\n<p>The state machine itself is described in <a href=\"https://issues.apache.org/jira/secure/attachment/12821873/Slot.dot\" class=\"external-link\" rel=\"nofollow\">Slot.dot</a> and you can see a visualization in Slot.svg<br/>\n<span class=\"image-wrap\" style=\"\"><img src=\"https://issues.apache.org/jira/secure/attachment/12821874/12821874_Slot.svg\" style=\"border: 0px solid black\" /></span></p>\n\n<p>Slot would have just a few methods to set things asynchronously</p>\n<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\">\n<pre class=\"code-java\"><span class=\"code-keyword\">public</span> void setNewAssignment(Assignment...);\n<span class=\"code-keyword\">public</span> void informWorkerDied(<span class=\"code-object\">String</span> workerId...);\n</pre>\n</div></div>\n\n<p>Every time that current assignment is written to it would also be written out to disk so if we crash we can recover.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612943255","html_url":"https://github.com/apache/storm/issues/5797#issuecomment-2612943255","issue_url":"https://api.github.com/repos/apache/storm/issues/5797","id":2612943255,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDMyNTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-03T18:38:25Z","updated_at":"2025-01-24T16:36:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\">revans2</a>:</i>\n<p>Actually this is a security issue.  We only allow downloading of files that are under a specific known log directory.  Otherwise a worker could link to a file that it cannot actually read, but the logviewer can.</p>\n\n<p>I think the fix would be to make the a configurable whitelist of allowed subdirectories.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612943255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944309","html_url":"https://github.com/apache/storm/issues/5801#issuecomment-2612944309","issue_url":"https://api.github.com/repos/apache/storm/issues/5801","id":2612944309,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQzMDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T05:13:13Z","updated_at":"2025-01-24T16:37:02Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shuhao.zhang\">shuhao.zhang</a>:</i>\n<p>Ok,<br/>\nit seems to be thread-unsafe problem, anyone knows how to fix it?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944314","html_url":"https://github.com/apache/storm/issues/5801#issuecomment-2612944314","issue_url":"https://api.github.com/repos/apache/storm/issues/5801","id":2612944314,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQzMTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T06:49:48Z","updated_at":"2025-01-24T16:37:02Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shuhao.zhang\">shuhao.zhang</a>:</i>\n<p>To make a customized kafkaspout, one cannot create container class for kafkaspout class, because it will make tthe kafkaspout thread-unsafe. The correct way is to extend kafkaspout instead.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612695399","html_url":"https://github.com/apache/storm/issues/5270#issuecomment-2612695399","issue_url":"https://api.github.com/repos/apache/storm/issues/5270","id":2612695399,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2OTUzOTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T09:31:46Z","updated_at":"2025-01-24T14:42:17Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>Compiled topology needs calcite-core in runtime. I'll see if we can avoid this.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612695399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928460","html_url":"https://github.com/apache/storm/issues/5761#issuecomment-2612928460","issue_url":"https://api.github.com/repos/apache/storm/issues/5761","id":2612928460,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5Mjg0NjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T14:39:56Z","updated_at":"2025-01-24T16:29:03Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user omkreddy commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1583#discussion_r73534734\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1583#discussion_r73534734</a></p>\n\n<p>    &#8212; Diff: external/storm-druid/src/main/java/org/apache/storm/druid/trident/DruidBeamState.java &#8212;<br/>\n    @@ -0,0 +1,73 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.druid.trident;<br/>\n    +<br/>\n    +import com.metamx.tranquility.beam.Beam;<br/>\n    +import com.twitter.util.Await;<br/>\n    +import org.apache.storm.trident.state.State;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +import scala.collection.JavaConversions;<br/>\n    +<br/>\n    +import java.util.List;<br/>\n    +<br/>\n    +<br/>\n    +/**<br/>\n    + * Trident </p>\n{@link State}\n<p> implementation for Druid.<br/>\n    + */<br/>\n    +public class DruidBeamState<E> implements State  {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(DruidBeamState.class);<br/>\n    +<br/>\n    +    Beam<E> beam = null;<br/>\n    +<br/>\n    +    public DruidBeamState(Beam<E> beam) </p>\n{\n    +this.beam = beam;\n    +    }\n<p>    +<br/>\n    +    public void send(List<E> events ) {<br/>\n    +try </p>\n{\n    +    LOG.info(\"Sending %d events\", events.size());\n    +    Await.result(beam.sendBatch(JavaConversions.collectionAsScalaIterable(events).toList()));\n    +}\n<p> catch (Exception e) {<br/>\n    +    final String errorMsg = \"Failed in writing messages to Druid\";<br/>\n    +    LOG.error(errorMsg, e);<br/>\n    +    throw new RuntimeException(errorMsg);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I Agree.  Druid library has internal retry mechanism. Now i not throwing  runtime exception.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928463","html_url":"https://github.com/apache/storm/issues/5761#issuecomment-2612928463","issue_url":"https://api.github.com/repos/apache/storm/issues/5761","id":2612928463,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5Mjg0NjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T14:43:05Z","updated_at":"2025-01-24T16:29:03Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user omkreddy commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1583#discussion_r73535370\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1583#discussion_r73535370</a></p>\n\n<p>    &#8212; Diff: external/storm-druid/src/main/java/org/apache/storm/druid/trident/DruidBeamState.java &#8212;<br/>\n    @@ -0,0 +1,73 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.druid.trident;<br/>\n    +<br/>\n    +import com.metamx.tranquility.beam.Beam;<br/>\n    +import com.twitter.util.Await;<br/>\n    +import org.apache.storm.trident.state.State;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +import scala.collection.JavaConversions;<br/>\n    +<br/>\n    +import java.util.List;<br/>\n    +<br/>\n    +<br/>\n    +/**<br/>\n    + * Trident </p>\n{@link State}\n<p> implementation for Druid.<br/>\n    + */<br/>\n    +public class DruidBeamState<E> implements State  {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(DruidBeamState.class);<br/>\n    +<br/>\n    +    Beam<E> beam = null;<br/>\n    +<br/>\n    +    public DruidBeamState(Beam<E> beam) </p>\n{\n    +this.beam = beam;\n    +    }\n<p>    +<br/>\n    +    public void send(List<E> events ) {<br/>\n    +try </p>\n{\n    +    LOG.info(\"Sending %d events\", events.size());\n    +    Await.result(beam.sendBatch(JavaConversions.collectionAsScalaIterable(events).toList()));\n    +}\n<p> catch (Exception e) </p>\n{\n    +    final String errorMsg = \"Failed in writing messages to Druid\";\n    +    LOG.error(errorMsg, e);\n    +    throw new RuntimeException(errorMsg);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    public void close() {<br/>\n    +try </p>\n{\n    +    Await.result(beam.close());\n    +}\n<p> catch (Exception e) </p>\n{\n    +    final String errorMsg = \"Error while closing Druid beam client\";\n    +    LOG.error(errorMsg, e);\n    +    throw new RuntimeException(errorMsg);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void beginCommit(Long txid) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Druid Tranquility library itself  does not support exactly-once semantics and it is not key-value store. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928467","html_url":"https://github.com/apache/storm/issues/5761#issuecomment-2612928467","issue_url":"https://api.github.com/repos/apache/storm/issues/5761","id":2612928467,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5Mjg0Njc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T14:44:32Z","updated_at":"2025-01-24T16:29:03Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user omkreddy commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1583#discussion_r73535652\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1583#discussion_r73535652</a></p>\n\n<p>    &#8212; Diff: external/storm-druid/src/main/java/org/apache/storm/druid/bolt/DruidBeamBolt.java &#8212;<br/>\n    @@ -0,0 +1,115 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.druid.bolt;<br/>\n    +<br/>\n    +import com.metamx.tranquility.tranquilizer.MessageDroppedException;<br/>\n    +import com.metamx.tranquility.tranquilizer.Tranquilizer;<br/>\n    +import com.twitter.util.Future;<br/>\n    +import com.twitter.util.FutureEventListener;<br/>\n    +import org.apache.storm.task.OutputCollector;<br/>\n    +import org.apache.storm.task.TopologyContext;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt implementation for storing data to Druid datastore.<br/>\n    + * <p/><br/>\n    + * This implementation uses Druid's Tranquility library (<a href=\"https://github.com/druid-io/tranquility\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/druid-io/tranquility</a>)<br/>\n    + * to send to druid store.<br/>\n    + * Some of the concepts are borrowed from Tranquility storm connector implementation.<br/>\n    + * (<a href=\"https://github.com/druid-io/tranquility/blob/master/docs/storm.md\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/druid-io/tranquility/blob/master/docs/storm.md</a>)<br/>\n    + *<br/>\n    + * This Bolt expects to receive tuples in which the zeroth element is your event type.<br/>\n    + * <p/><br/>\n    + *<br/>\n    + */<br/>\n    +public class DruidBeamBolt<E> extends BaseRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(DruidBeamBolt.class);<br/>\n    +<br/>\n    +    private volatile  OutputCollector collector;<br/>\n    +    private DruidBeamFactory<E> beamFactory = null;<br/>\n    +    private int batchSize;<br/>\n    +    private Tranquilizer<E> tranquilizer = null;<br/>\n    +<br/>\n    +    public DruidBeamBolt(DruidBeamFactory<E> beamFactory) </p>\n{\n    +this(beamFactory, 2000);\n    +    }\n<p>    +<br/>\n    +    public DruidBeamBolt(DruidBeamFactory<E> beamFactory, int batchSize) </p>\n{\n    +this.beamFactory = beamFactory;\n    +this.batchSize = batchSize;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map stormConf, TopologyContext context, OutputCollector collector) </p>\n{\n    +this.collector = collector;\n    +tranquilizer = Tranquilizer.create(\n    +beamFactory.makeBeam(stormConf, context),\n    +batchSize,\n    +Tranquilizer.DefaultMaxPendingBatches(),\n    +Tranquilizer.DefaultLingerMillis());\n    +this.tranquilizer.start();\n    +\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void execute(final Tuple tuple) {<br/>\n    +      Future future = tranquilizer.send((E)tuple.getValue(0));<br/>\n    +      future.addEventListener(new FutureEventListener() {<br/>\n    +  @Override<br/>\n    +  public void onFailure(Throwable cause) {<br/>\n    +      if(cause instanceof MessageDroppedException) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    implemented above discussed mechanism. now uses have option to process dropped/discarded messages.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928472","html_url":"https://github.com/apache/storm/issues/5761#issuecomment-2612928472","issue_url":"https://api.github.com/repos/apache/storm/issues/5761","id":2612928472,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5Mjg0NzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T14:56:49Z","updated_at":"2025-01-24T16:29:04Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user omkreddy commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1583#discussion_r73538213\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1583#discussion_r73538213</a></p>\n\n<p>    &#8212; Diff: external/storm-druid/src/main/java/org/apache/storm/druid/bolt/DruidBeamBolt.java &#8212;<br/>\n    @@ -0,0 +1,103 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.druid.bolt;<br/>\n    +<br/>\n    +import com.metamx.tranquility.tranquilizer.MessageDroppedException;<br/>\n    +import com.metamx.tranquility.tranquilizer.Tranquilizer;<br/>\n    +import com.twitter.util.Future;<br/>\n    +import com.twitter.util.FutureEventListener;<br/>\n    +import org.apache.storm.task.OutputCollector;<br/>\n    +import org.apache.storm.task.TopologyContext;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt implementation for storing data to Druid datastore.<br/>\n    + * <p/><br/>\n    + * This implementation uses Druid's Tranquility library (<a href=\"https://github.com/druid-io/tranquility\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/druid-io/tranquility</a>)<br/>\n    + * to send to druid store.<br/>\n    + * Some of the concepts are borrowed from Tranquility storm connector implementation.<br/>\n    + * (<a href=\"https://github.com/druid-io/tranquility/blob/master/docs/storm.md\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/druid-io/tranquility/blob/master/docs/storm.md</a>)<br/>\n    + *<br/>\n    + * This Bolt expects to receive tuples in which the zeroth element is your event type.<br/>\n    + * <p/><br/>\n    + *<br/>\n    + */<br/>\n    +public class DruidBeamBolt<E> extends BaseRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(DruidBeamBolt.class);<br/>\n    +<br/>\n    +    private volatile  OutputCollector collector;<br/>\n    +    private DruidBeamFactory<E> beamFactory = null;<br/>\n    +    private int batchSize;<br/>\n    +    private Tranquilizer<E> tranquilizer = null;<br/>\n    +<br/>\n    +    public DruidBeamBolt(DruidBeamFactory<E> beamFactory, int batchSize) </p>\n{\n    +this.beamFactory = beamFactory;\n    +this.batchSize = batchSize;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map stormConf, TopologyContext context, OutputCollector collector) </p>\n{\n    +this.collector = collector;\n    +tranquilizer = Tranquilizer.create(\n    +beamFactory.makeBeam(stormConf, context),\n    +batchSize,\n    +Tranquilizer.DefaultMaxPendingBatches(),\n    +Tranquilizer.DefaultLingerMillis());\n    +this.tranquilizer.start();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void execute(final Tuple tuple) {<br/>\n    +      Future future = tranquilizer.send((E)tuple.getValue(0));<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Druid tranquility client library take a generic type for the events to send. <br/>\n    The bolt need to know the type of the event. By default the bolt expects to receive tuples in which the zeroth element is event type. Now this event position in tuple list is made configurable. Users can specify the event position using DruidConfig.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237579215","html_url":"https://github.com/apache/storm/pull/1583#issuecomment-237579215","issue_url":"https://api.github.com/repos/apache/storm/issues/1583","id":237579215,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzU3OTIxNQ==","user":{"login":"omkreddy","id":8134545,"node_id":"MDQ6VXNlcjgxMzQ1NDU=","avatar_url":"https://avatars.githubusercontent.com/u/8134545?v=4","gravatar_id":"","url":"https://api.github.com/users/omkreddy","html_url":"https://github.com/omkreddy","followers_url":"https://api.github.com/users/omkreddy/followers","following_url":"https://api.github.com/users/omkreddy/following{/other_user}","gists_url":"https://api.github.com/users/omkreddy/gists{/gist_id}","starred_url":"https://api.github.com/users/omkreddy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omkreddy/subscriptions","organizations_url":"https://api.github.com/users/omkreddy/orgs","repos_url":"https://api.github.com/users/omkreddy/repos","events_url":"https://api.github.com/users/omkreddy/events{/privacy}","received_events_url":"https://api.github.com/users/omkreddy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T14:57:19Z","updated_at":"2016-08-04T14:57:19Z","author_association":"CONTRIBUTOR","body":"@harshach @satishd I have addressed review comments. Pl review.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237579215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928478","html_url":"https://github.com/apache/storm/issues/5761#issuecomment-2612928478","issue_url":"https://api.github.com/repos/apache/storm/issues/5761","id":2612928478,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5Mjg0Nzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T14:57:21Z","updated_at":"2025-01-24T16:29:04Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user omkreddy commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1583\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1583</a></p>\n\n<p>    @harshach @satishd I have addressed review comments. Pl review.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944435","html_url":"https://github.com/apache/storm/issues/5802#issuecomment-2612944435","issue_url":"https://api.github.com/repos/apache/storm/issues/5802","id":2612944435,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ0MzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T15:43:51Z","updated_at":"2025-01-24T16:37:06Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user revans2 opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1606\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1606</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-2020\" title=\"Stop using sun internal classes\" class=\"issue-link\" data-issue-key=\"STORM-2020\"><del>STORM-2020</del></a>: Stop using sun internal classes.</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/revans2/incubator-storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/revans2/incubator-storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-2020\" title=\"Stop using sun internal classes\" class=\"issue-link\" data-issue-key=\"STORM-2020\"><del>STORM-2020</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1606.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1606.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1606</p>\n\n<hr />\n<p>commit 4263644bbe3155780e68fb5edff5945b2773df32<br/>\nAuthor: Robert (Bobby) Evans <evans@yahoo-inc.com><br/>\nDate:   2016-08-04T15:43:02Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-2020\" title=\"Stop using sun internal classes\" class=\"issue-link\" data-issue-key=\"STORM-2020\"><del>STORM-2020</del></a>: Stop using sun internal classes.</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237595936","html_url":"https://github.com/apache/storm/pull/1583#issuecomment-237595936","issue_url":"https://api.github.com/repos/apache/storm/issues/1583","id":237595936,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzU5NTkzNg==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T15:50:01Z","updated_at":"2016-08-04T15:50:01Z","author_association":"CONTRIBUTOR","body":"@omkreddy you need to upmerge the PR.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237595936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928480","html_url":"https://github.com/apache/storm/issues/5761#issuecomment-2612928480","issue_url":"https://api.github.com/repos/apache/storm/issues/5761","id":2612928480,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5Mjg0ODA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T15:50:04Z","updated_at":"2025-01-24T16:29:04Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1583\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1583</a></p>\n\n<p>    @omkreddy you need to upmerge the PR.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928486","html_url":"https://github.com/apache/storm/issues/5761#issuecomment-2612928486","issue_url":"https://api.github.com/repos/apache/storm/issues/5761","id":2612928486,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5Mjg0ODY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T15:54:13Z","updated_at":"2025-01-24T16:29:04Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1583#discussion_r73549987\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1583#discussion_r73549987</a></p>\n\n<p>    &#8212; Diff: external/storm-druid/src/main/java/org/apache/storm/druid/bolt/DruidBeamBolt.java &#8212;<br/>\n    @@ -0,0 +1,103 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.druid.bolt;<br/>\n    +<br/>\n    +import com.metamx.tranquility.tranquilizer.MessageDroppedException;<br/>\n    +import com.metamx.tranquility.tranquilizer.Tranquilizer;<br/>\n    +import com.twitter.util.Future;<br/>\n    +import com.twitter.util.FutureEventListener;<br/>\n    +import org.apache.storm.task.OutputCollector;<br/>\n    +import org.apache.storm.task.TopologyContext;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt implementation for storing data to Druid datastore.<br/>\n    + * <p/><br/>\n    + * This implementation uses Druid's Tranquility library (<a href=\"https://github.com/druid-io/tranquility\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/druid-io/tranquility</a>)<br/>\n    + * to send to druid store.<br/>\n    + * Some of the concepts are borrowed from Tranquility storm connector implementation.<br/>\n    + * (<a href=\"https://github.com/druid-io/tranquility/blob/master/docs/storm.md\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/druid-io/tranquility/blob/master/docs/storm.md</a>)<br/>\n    + *<br/>\n    + * This Bolt expects to receive tuples in which the zeroth element is your event type.<br/>\n    + * <p/><br/>\n    + *<br/>\n    + */<br/>\n    +public class DruidBeamBolt<E> extends BaseRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(DruidBeamBolt.class);<br/>\n    +<br/>\n    +    private volatile  OutputCollector collector;<br/>\n    +    private DruidBeamFactory<E> beamFactory = null;<br/>\n    +    private int batchSize;<br/>\n    +    private Tranquilizer<E> tranquilizer = null;<br/>\n    +<br/>\n    +    public DruidBeamBolt(DruidBeamFactory<E> beamFactory, int batchSize) </p>\n{\n    +this.beamFactory = beamFactory;\n    +this.batchSize = batchSize;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map stormConf, TopologyContext context, OutputCollector collector) </p>\n{\n    +this.collector = collector;\n    +tranquilizer = Tranquilizer.create(\n    +beamFactory.makeBeam(stormConf, context),\n    +batchSize,\n    +Tranquilizer.DefaultMaxPendingBatches(),\n    +Tranquilizer.DefaultLingerMillis());\n    +this.tranquilizer.start();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void execute(final Tuple tuple) {<br/>\n    +      Future future = tranquilizer.send((E)tuple.getValue(0));<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    @omkreddy I need to look into this more to understand. But we shouldn't be saying that the first tuple is the one that goes into druid. Take a look other connectors in hbase, hive see if mapper is something we can use here.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944559","html_url":"https://github.com/apache/storm/issues/5803#issuecomment-2612944559","issue_url":"https://api.github.com/repos/apache/storm/issues/5803","id":2612944559,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ1NTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:03:23Z","updated_at":"2025-01-24T16:37:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\">revans2</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pshah\" class=\"user-hover\" rel=\"pshah\">Parag Shah</a>,</p>\n\n<p>I assume that you wanted to have all of the files to be apache licensed.  Please take a look at this it is breaking travis.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237601478","html_url":"https://github.com/apache/storm/pull/1586#issuecomment-237601478","issue_url":"https://api.github.com/repos/apache/storm/issues/1586","id":237601478,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzYwMTQ3OA==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:08:11Z","updated_at":"2016-08-04T16:08:11Z","author_association":"CONTRIBUTOR","body":"@harshach actually some of the build errors are related see https://issues.apache.org/jira/browse/STORM-2021 \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237601478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612907941","html_url":"https://github.com/apache/storm/issues/5622#issuecomment-2612907941","issue_url":"https://api.github.com/repos/apache/storm/issues/5622","id":2612907941,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDc5NDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:08:13Z","updated_at":"2025-01-24T16:18:55Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1586\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1586</a></p>\n\n<p>    @harshach actually some of the build errors are related see <a href=\"https://issues.apache.org/jira/browse/STORM-2021\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-2021</a> </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612907941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237602255","html_url":"https://github.com/apache/storm/pull/1606#issuecomment-237602255","issue_url":"https://api.github.com/repos/apache/storm/issues/1606","id":237602255,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzYwMjI1NQ==","user":{"login":"satishd","id":2577761,"node_id":"MDQ6VXNlcjI1Nzc3NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2577761?v=4","gravatar_id":"","url":"https://api.github.com/users/satishd","html_url":"https://github.com/satishd","followers_url":"https://api.github.com/users/satishd/followers","following_url":"https://api.github.com/users/satishd/following{/other_user}","gists_url":"https://api.github.com/users/satishd/gists{/gist_id}","starred_url":"https://api.github.com/users/satishd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishd/subscriptions","organizations_url":"https://api.github.com/users/satishd/orgs","repos_url":"https://api.github.com/users/satishd/repos","events_url":"https://api.github.com/users/satishd/events{/privacy}","received_events_url":"https://api.github.com/users/satishd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:10:46Z","updated_at":"2016-08-04T16:10:46Z","author_association":"MEMBER","body":"+1 LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237602255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944442","html_url":"https://github.com/apache/storm/issues/5802#issuecomment-2612944442","issue_url":"https://api.github.com/repos/apache/storm/issues/5802","id":2612944442,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ0NDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:10:48Z","updated_at":"2025-01-24T16:37:06Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1606\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1606</a></p>\n\n<p>    +1 LGTM</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944566","html_url":"https://github.com/apache/storm/issues/5803#issuecomment-2612944566","issue_url":"https://api.github.com/repos/apache/storm/issues/5803","id":2612944566,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ1NjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:11:05Z","updated_at":"2025-01-24T16:37:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sriharsha\">sriharsha</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans%40viaserv.com\" class=\"user-hover\" rel=\"revans@viaserv.com\">Randall Evans</a> <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pshah\" class=\"user-hover\" rel=\"pshah\">Parag Shah</a> I apologize. I ran the local builds with unit tests and I didn't get into this error. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944446","html_url":"https://github.com/apache/storm/issues/5802#issuecomment-2612944446","issue_url":"https://api.github.com/repos/apache/storm/issues/5802","id":2612944446,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ0NDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:14:38Z","updated_at":"2025-01-24T16:37:06Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1606#discussion_r73553509\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1606#discussion_r73553509</a></p>\n\n<p>    &#8212; Diff: external/storm-hdfs/src/test/java/org/apache/storm/hdfs/spout/TestHdfsSpout.java &#8212;<br/>\n    @@ -704,12 +703,12 @@ public MockCollector() {</p>\n\n<p> @Override<br/>\n public void emitDirect(int arg0, String arg1, List<Object> arg2, Object arg3) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>throw new NotImplementedException();<br/>\n    +      throw new RuntimeException(\"NOT Implemented\");\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    I prefer using UnsupportedOperationException in this case but since  it's just a test code I'm OK.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944702","html_url":"https://github.com/apache/storm/issues/5804#issuecomment-2612944702","issue_url":"https://api.github.com/repos/apache/storm/issues/5804","id":2612944702,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ3MDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:15:19Z","updated_at":"2025-01-24T16:37:13Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\">revans2</a>:</i>\n<p>Looks like the code was updated, but the test was not.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237603760","html_url":"https://github.com/apache/storm/pull/1606#issuecomment-237603760","issue_url":"https://api.github.com/repos/apache/storm/issues/1606","id":237603760,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzYwMzc2MA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:16:01Z","updated_at":"2016-08-04T16:16:01Z","author_association":"CONTRIBUTOR","body":"+1 Thanks that's what I forgot to address. I saw relevant JIRA issue for this but can't find.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237603760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944453","html_url":"https://github.com/apache/storm/issues/5802#issuecomment-2612944453","issue_url":"https://api.github.com/repos/apache/storm/issues/5802","id":2612944453,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ0NTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:16:04Z","updated_at":"2025-01-24T16:37:06Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1606\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1606</a></p>\n\n<p>    +1 Thanks that's what I forgot to address. I saw relevant JIRA issue for this but can't find.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237604934","html_url":"https://github.com/apache/storm/pull/1522#issuecomment-237604934","issue_url":"https://api.github.com/repos/apache/storm/issues/1522","id":237604934,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzYwNDkzNA==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:20:11Z","updated_at":"2016-08-04T16:20:11Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR looks like one of the test failures was related.\n\nhttps://issues.apache.org/jira/browse/STORM-2022\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237604934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612878815","html_url":"https://github.com/apache/storm/issues/5429#issuecomment-2612878815","issue_url":"https://api.github.com/repos/apache/storm/issues/5429","id":2612878815,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4Nzg4MTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:20:12Z","updated_at":"2025-01-24T16:05:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1522\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1522</a></p>\n\n<p>    @HeartSaVioR looks like one of the test failures was related.</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-2022\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-2022</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612878815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237605524","html_url":"https://github.com/apache/storm/pull/1522#issuecomment-237605524","issue_url":"https://api.github.com/repos/apache/storm/issues/1522","id":237605524,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzYwNTUyNA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:22:21Z","updated_at":"2016-08-04T16:22:21Z","author_association":"CONTRIBUTOR","body":"@revans2 Yes I missed that. My bad. Thanks for finding.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237605524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612878818","html_url":"https://github.com/apache/storm/issues/5429#issuecomment-2612878818","issue_url":"https://api.github.com/repos/apache/storm/issues/5429","id":2612878818,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4Nzg4MTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:22:23Z","updated_at":"2025-01-24T16:05:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1522\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1522</a></p>\n\n<p>    @revans2 Yes I missed that. My bad. Thanks for finding.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612878818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944572","html_url":"https://github.com/apache/storm/issues/5803#issuecomment-2612944572","issue_url":"https://api.github.com/repos/apache/storm/issues/5803","id":2612944572,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ1NzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:22:46Z","updated_at":"2025-01-24T16:37:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\">revans2</a>:</i>\n<p>Actually I'll just do it.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944578","html_url":"https://github.com/apache/storm/issues/5803#issuecomment-2612944578","issue_url":"https://api.github.com/repos/apache/storm/issues/5803","id":2612944578,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ1Nzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:23:59Z","updated_at":"2025-01-24T16:37:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\">revans2</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sriharsha\" class=\"user-hover\" rel=\"sriharsha\">Harsha</a>,</p>\n\n<p>Not a big deal, it looks like the build has been in a bad state for a while, and it is too easy to get into the habit of ignoring the failing build instead of stopping and fixing them.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928488","html_url":"https://github.com/apache/storm/issues/5761#issuecomment-2612928488","issue_url":"https://api.github.com/repos/apache/storm/issues/5761","id":2612928488,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5Mjg0ODg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:27:01Z","updated_at":"2025-01-24T16:29:04Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user omkreddy commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1583#discussion_r73555706\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1583#discussion_r73555706</a></p>\n\n<p>    &#8212; Diff: external/storm-druid/src/main/java/org/apache/storm/druid/bolt/DruidBeamBolt.java &#8212;<br/>\n    @@ -0,0 +1,103 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.druid.bolt;<br/>\n    +<br/>\n    +import com.metamx.tranquility.tranquilizer.MessageDroppedException;<br/>\n    +import com.metamx.tranquility.tranquilizer.Tranquilizer;<br/>\n    +import com.twitter.util.Future;<br/>\n    +import com.twitter.util.FutureEventListener;<br/>\n    +import org.apache.storm.task.OutputCollector;<br/>\n    +import org.apache.storm.task.TopologyContext;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt implementation for storing data to Druid datastore.<br/>\n    + * <p/><br/>\n    + * This implementation uses Druid's Tranquility library (<a href=\"https://github.com/druid-io/tranquility\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/druid-io/tranquility</a>)<br/>\n    + * to send to druid store.<br/>\n    + * Some of the concepts are borrowed from Tranquility storm connector implementation.<br/>\n    + * (<a href=\"https://github.com/druid-io/tranquility/blob/master/docs/storm.md\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/druid-io/tranquility/blob/master/docs/storm.md</a>)<br/>\n    + *<br/>\n    + * This Bolt expects to receive tuples in which the zeroth element is your event type.<br/>\n    + * <p/><br/>\n    + *<br/>\n    + */<br/>\n    +public class DruidBeamBolt<E> extends BaseRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(DruidBeamBolt.class);<br/>\n    +<br/>\n    +    private volatile  OutputCollector collector;<br/>\n    +    private DruidBeamFactory<E> beamFactory = null;<br/>\n    +    private int batchSize;<br/>\n    +    private Tranquilizer<E> tranquilizer = null;<br/>\n    +<br/>\n    +    public DruidBeamBolt(DruidBeamFactory<E> beamFactory, int batchSize) </p>\n{\n    +this.beamFactory = beamFactory;\n    +this.batchSize = batchSize;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map stormConf, TopologyContext context, OutputCollector collector) </p>\n{\n    +this.collector = collector;\n    +tranquilizer = Tranquilizer.create(\n    +beamFactory.makeBeam(stormConf, context),\n    +batchSize,\n    +Tranquilizer.DefaultMaxPendingBatches(),\n    +Tranquilizer.DefaultLingerMillis());\n    +this.tranquilizer.start();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void execute(final Tuple tuple) {<br/>\n    +      Future future = tranquilizer.send((E)tuple.getValue(0));<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    @harshach I discussed this approach with @satishd  and I felt this way users can send whatever event type they want.  </p>\n\n<p>    upmerged the PR.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237608377","html_url":"https://github.com/apache/storm/pull/1606#issuecomment-237608377","issue_url":"https://api.github.com/repos/apache/storm/issues/1606","id":237608377,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzYwODM3Nw==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:32:20Z","updated_at":"2016-08-04T16:32:20Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR @satishd \n\nI fixed a few other things that are also breaking the build on master.  If you want me the break them apart I can.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237608377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944457","html_url":"https://github.com/apache/storm/issues/5802#issuecomment-2612944457","issue_url":"https://api.github.com/repos/apache/storm/issues/5802","id":2612944457,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ0NTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:32:22Z","updated_at":"2025-01-24T16:37:06Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1606\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1606</a></p>\n\n<p>    @HeartSaVioR @satishd </p>\n\n<p>    I fixed a few other things that are also breaking the build on master.  If you want me the break them apart I can.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237613148","html_url":"https://github.com/apache/storm/pull/1606#issuecomment-237613148","issue_url":"https://api.github.com/repos/apache/storm/issues/1606","id":237613148,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzYxMzE0OA==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:49:32Z","updated_at":"2016-08-04T16:49:32Z","author_association":"CONTRIBUTOR","body":"This time the failures really are unrelated :).\n\n```\n[WARNING] Could not transfer metadata org.apache.storm:multilang-python:2.0.0-SNAPSHOT/maven-metadata.xml from/to apache-snapshots (https://repository.apache.org/snapshots/): Connect to repository.apache.org:443 [repository.apache.org/207.244.88.143] failed: Connection timed out\n```\n\nI am seeing a lot of timeouts to repository.apache.org and that cause the build failures.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237613148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944461","html_url":"https://github.com/apache/storm/issues/5802#issuecomment-2612944461","issue_url":"https://api.github.com/repos/apache/storm/issues/5802","id":2612944461,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ0NjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:49:34Z","updated_at":"2025-01-24T16:37:06Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1606\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1606</a></p>\n\n<p>    This time the failures really are unrelated <img class=\"emoticon\" src=\"https://issues.apache.org/jira/images/icons/emoticons/smile.png\" height=\"16\" width=\"16\" align=\"absmiddle\" alt=\"\" border=\"0\"/>.</p>\n\n<p>    ```<br/>\n    <span class=\"error\">&#91;WARNING&#93;</span> Could not transfer metadata org.apache.storm:multilang-python:2.0.0-SNAPSHOT/maven-metadata.xml from/to apache-snapshots (<a href=\"https://repository.apache.org/snapshots/):\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://repository.apache.org/snapshots/):</a> Connect to repository.apache.org:443 <span class=\"error\">&#91;repository.apache.org/207.244.88.143&#93;</span> failed: Connection timed out<br/>\n    ```</p>\n\n<p>    I am seeing a lot of timeouts to repository.apache.org and that cause the build failures.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237615779","html_url":"https://github.com/apache/storm/pull/1606#issuecomment-237615779","issue_url":"https://api.github.com/repos/apache/storm/issues/1606","id":237615779,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzYxNTc3OQ==","user":{"login":"satishd","id":2577761,"node_id":"MDQ6VXNlcjI1Nzc3NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2577761?v=4","gravatar_id":"","url":"https://api.github.com/users/satishd","html_url":"https://github.com/satishd","followers_url":"https://api.github.com/users/satishd/followers","following_url":"https://api.github.com/users/satishd/following{/other_user}","gists_url":"https://api.github.com/users/satishd/gists{/gist_id}","starred_url":"https://api.github.com/users/satishd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishd/subscriptions","organizations_url":"https://api.github.com/users/satishd/orgs","repos_url":"https://api.github.com/users/satishd/repos","events_url":"https://api.github.com/users/satishd/events{/privacy}","received_events_url":"https://api.github.com/users/satishd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:59:21Z","updated_at":"2016-08-04T16:59:21Z","author_association":"MEMBER","body":"@revans2 I do not think you need to break them into different PRs  as these are small set of changes. I can see build failures in travis with jdk 7 but they seem to be unrelated. \n+1 again.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237615779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944465","html_url":"https://github.com/apache/storm/issues/5802#issuecomment-2612944465","issue_url":"https://api.github.com/repos/apache/storm/issues/5802","id":2612944465,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ0NjU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T16:59:23Z","updated_at":"2025-01-24T16:37:06Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1606\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1606</a></p>\n\n<p>    @revans2 I do not think you need to break them into different PRs  as these are small set of changes. I can see build failures in travis with jdk 7 but they seem to be unrelated. <br/>\n    +1 again.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944581","html_url":"https://github.com/apache/storm/issues/5803#issuecomment-2612944581","issue_url":"https://api.github.com/repos/apache/storm/issues/5803","id":2612944581,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ1ODE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T17:05:09Z","updated_at":"2025-01-24T16:37:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user priyank5485 opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1607\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1607</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-2021\" title=\"storm-kinesis missing licenses\" class=\"issue-link\" data-issue-key=\"STORM-2021\"><del>STORM-2021</del></a>: Add missing licenses.</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/priyank5485/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/priyank5485/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-2021\" title=\"storm-kinesis missing licenses\" class=\"issue-link\" data-issue-key=\"STORM-2021\"><del>STORM-2021</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1607.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1607.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1607</p>\n\n<hr />\n<p>commit 05cd5e47173814c050c52a76dbe9577a7aef8e30<br/>\nAuthor: Priyank <pshah@hortonworks.com><br/>\nDate:   2016-08-04T17:04:31Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-2021\" title=\"storm-kinesis missing licenses\" class=\"issue-link\" data-issue-key=\"STORM-2021\"><del>STORM-2021</del></a>: Add missing licenses.</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237617746","html_url":"https://github.com/apache/storm/pull/1607#issuecomment-237617746","issue_url":"https://api.github.com/repos/apache/storm/issues/1607","id":237617746,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzYxNzc0Ng==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T17:06:38Z","updated_at":"2016-08-04T17:06:38Z","author_association":"CONTRIBUTOR","body":"@priyank5485 I think we've this patch here https://reviews.apache.org/r/50597/\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237617746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928492","html_url":"https://github.com/apache/storm/issues/5761#issuecomment-2612928492","issue_url":"https://api.github.com/repos/apache/storm/issues/5761","id":2612928492,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5Mjg0OTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T17:06:39Z","updated_at":"2025-01-24T16:29:04Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1583#discussion_r73562274\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1583#discussion_r73562274</a></p>\n\n<p>    &#8212; Diff: external/storm-druid/src/main/java/org/apache/storm/druid/bolt/DruidBeamBolt.java &#8212;<br/>\n    @@ -0,0 +1,103 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.druid.bolt;<br/>\n    +<br/>\n    +import com.metamx.tranquility.tranquilizer.MessageDroppedException;<br/>\n    +import com.metamx.tranquility.tranquilizer.Tranquilizer;<br/>\n    +import com.twitter.util.Future;<br/>\n    +import com.twitter.util.FutureEventListener;<br/>\n    +import org.apache.storm.task.OutputCollector;<br/>\n    +import org.apache.storm.task.TopologyContext;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt implementation for storing data to Druid datastore.<br/>\n    + * <p/><br/>\n    + * This implementation uses Druid's Tranquility library (<a href=\"https://github.com/druid-io/tranquility\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/druid-io/tranquility</a>)<br/>\n    + * to send to druid store.<br/>\n    + * Some of the concepts are borrowed from Tranquility storm connector implementation.<br/>\n    + * (<a href=\"https://github.com/druid-io/tranquility/blob/master/docs/storm.md\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/druid-io/tranquility/blob/master/docs/storm.md</a>)<br/>\n    + *<br/>\n    + * This Bolt expects to receive tuples in which the zeroth element is your event type.<br/>\n    + * <p/><br/>\n    + *<br/>\n    + */<br/>\n    +public class DruidBeamBolt<E> extends BaseRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(DruidBeamBolt.class);<br/>\n    +<br/>\n    +    private volatile  OutputCollector collector;<br/>\n    +    private DruidBeamFactory<E> beamFactory = null;<br/>\n    +    private int batchSize;<br/>\n    +    private Tranquilizer<E> tranquilizer = null;<br/>\n    +<br/>\n    +    public DruidBeamBolt(DruidBeamFactory<E> beamFactory, int batchSize) </p>\n{\n    +this.beamFactory = beamFactory;\n    +this.batchSize = batchSize;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map stormConf, TopologyContext context, OutputCollector collector) </p>\n{\n    +this.collector = collector;\n    +tranquilizer = Tranquilizer.create(\n    +beamFactory.makeBeam(stormConf, context),\n    +batchSize,\n    +Tranquilizer.DefaultMaxPendingBatches(),\n    +Tranquilizer.DefaultLingerMillis());\n    +this.tranquilizer.start();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void execute(final Tuple tuple) {<br/>\n    +      Future future = tranquilizer.send((E)tuple.getValue(0));<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    @omkreddy I guess we have discussed to add a default mapper implementation to return a field for the give name.  But user can always implement Mapper interface and return respective object to be sent.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944585","html_url":"https://github.com/apache/storm/issues/5803#issuecomment-2612944585","issue_url":"https://api.github.com/repos/apache/storm/issues/5803","id":2612944585,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ1ODU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T17:06:39Z","updated_at":"2025-01-24T16:37:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1607\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1607</a></p>\n\n<p>    @priyank5485 I think we've this patch here <a href=\"https://reviews.apache.org/r/50597/\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://reviews.apache.org/r/50597/</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237617843","html_url":"https://github.com/apache/storm/pull/1606#issuecomment-237617843","issue_url":"https://api.github.com/repos/apache/storm/issues/1606","id":237617843,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzYxNzg0Mw==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T17:06:56Z","updated_at":"2016-08-04T17:06:56Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237617843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944472","html_url":"https://github.com/apache/storm/issues/5802#issuecomment-2612944472","issue_url":"https://api.github.com/repos/apache/storm/issues/5802","id":2612944472,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ0NzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T17:06:59Z","updated_at":"2025-01-24T16:37:07Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1606\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1606</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944590","html_url":"https://github.com/apache/storm/issues/5803#issuecomment-2612944590","issue_url":"https://api.github.com/repos/apache/storm/issues/5803","id":2612944590,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ1OTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T17:08:01Z","updated_at":"2025-01-24T16:37:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pshah\">pshah</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sriharsha\" class=\"user-hover\" rel=\"sriharsha\">Harsha</a> <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\" class=\"user-hover\" rel=\"revans2\">Robert Joseph Evans</a> Sorry I missed the license in the test files. Just created a PR.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237619348","html_url":"https://github.com/apache/storm/pull/1607#issuecomment-237619348","issue_url":"https://api.github.com/repos/apache/storm/issues/1607","id":237619348,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzYxOTM0OA==","user":{"login":"priyank5485","id":5192436,"node_id":"MDQ6VXNlcjUxOTI0MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5192436?v=4","gravatar_id":"","url":"https://api.github.com/users/priyank5485","html_url":"https://github.com/priyank5485","followers_url":"https://api.github.com/users/priyank5485/followers","following_url":"https://api.github.com/users/priyank5485/following{/other_user}","gists_url":"https://api.github.com/users/priyank5485/gists{/gist_id}","starred_url":"https://api.github.com/users/priyank5485/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priyank5485/subscriptions","organizations_url":"https://api.github.com/users/priyank5485/orgs","repos_url":"https://api.github.com/users/priyank5485/repos","events_url":"https://api.github.com/users/priyank5485/events{/privacy}","received_events_url":"https://api.github.com/users/priyank5485/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T17:12:28Z","updated_at":"2016-08-04T17:12:28Z","author_association":"CONTRIBUTOR","body":"Closing this in favor of https://github.com/apache/storm/pull/1606/files\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237619348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944597","html_url":"https://github.com/apache/storm/issues/5803#issuecomment-2612944597","issue_url":"https://api.github.com/repos/apache/storm/issues/5803","id":2612944597,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ1OTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T17:12:30Z","updated_at":"2025-01-24T16:37:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user priyank5485 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1607\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1607</a></p>\n\n<p>    Closing this in favor of <a href=\"https://github.com/apache/storm/pull/1606/files\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1606/files</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944604","html_url":"https://github.com/apache/storm/issues/5803#issuecomment-2612944604","issue_url":"https://api.github.com/repos/apache/storm/issues/5803","id":2612944604,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ2MDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T17:12:31Z","updated_at":"2025-01-24T16:37:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user priyank5485 closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1607\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1607</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237620714","html_url":"https://github.com/apache/storm/pull/1606#issuecomment-237620714","issue_url":"https://api.github.com/repos/apache/storm/issues/1606","id":237620714,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzYyMDcxNA==","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T17:17:24Z","updated_at":"2016-08-04T17:17:24Z","author_association":"MEMBER","body":"+1. I don't see a need to break them out.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237620714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944477","html_url":"https://github.com/apache/storm/issues/5802#issuecomment-2612944477","issue_url":"https://api.github.com/repos/apache/storm/issues/5802","id":2612944477,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ0Nzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T17:17:25Z","updated_at":"2025-01-24T16:37:07Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1606\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1606</a></p>\n\n<p>    +1. I don't see a need to break them out.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944608","html_url":"https://github.com/apache/storm/issues/5803#issuecomment-2612944608","issue_url":"https://api.github.com/repos/apache/storm/issues/5803","id":2612944608,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ2MDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T17:30:48Z","updated_at":"2025-01-24T16:37:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ptgoetz\">ptgoetz</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=harsha_ch\" class=\"user-hover\" rel=\"harsha_ch\">sriharsha chintalapani</a> If you run with the rat profile enabled it will run those checks (just like travis):</p>\n\n<p><tt>mvn install -P rat</tt></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928497","html_url":"https://github.com/apache/storm/issues/5761#issuecomment-2612928497","issue_url":"https://api.github.com/repos/apache/storm/issues/5761","id":2612928497,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5Mjg0OTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T18:03:16Z","updated_at":"2025-01-24T16:29:04Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1583#discussion_r73572400\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1583#discussion_r73572400</a></p>\n\n<p>    &#8212; Diff: external/storm-druid/src/main/java/org/apache/storm/druid/trident/DruidBeamStateUpdater.java &#8212;<br/>\n    @@ -0,0 +1,48 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.druid.trident;<br/>\n    +<br/>\n    +import org.apache.storm.trident.operation.TridentCollector;<br/>\n    +import org.apache.storm.trident.state.BaseStateUpdater;<br/>\n    +import org.apache.storm.trident.tuple.TridentTuple;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.LinkedList;<br/>\n    +import java.util.List;<br/>\n    +<br/>\n    +public class DruidBeamStateUpdater<E> extends BaseStateUpdater<DruidBeamState<E>> {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(DruidBeamStateUpdater.class);<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void updateState(DruidBeamState<E> state, List<TridentTuple> tuples, TridentCollector collector) </p>\n{\n    +List<E> discardedTuples = state.update(tuples, collector);\n    +processDiscardedTuples(discardedTuples);\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * Users can override this method to  process the discarded Tuples<br/>\n    +     * @param discardedTuples<br/>\n    +     */<br/>\n    +    private void processDiscardedTuples(List<E> discardedTuples) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    This should be `protected` as users can extend this and add their own functionality to handle discard tuples.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944616","html_url":"https://github.com/apache/storm/issues/5803#issuecomment-2612944616","issue_url":"https://api.github.com/repos/apache/storm/issues/5803","id":2612944616,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ2MTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T18:03:43Z","updated_at":"2025-01-24T16:37:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sriharsha\">sriharsha</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ptgoetz\" class=\"user-hover\" rel=\"ptgoetz\">P. Taylor Goetz</a> realized that. But we should make this as default otherwise easy to miss.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944621","html_url":"https://github.com/apache/storm/issues/5803#issuecomment-2612944621","issue_url":"https://api.github.com/repos/apache/storm/issues/5803","id":2612944621,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ2MjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T18:09:41Z","updated_at":"2025-01-24T16:37:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ptgoetz\">ptgoetz</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=harsha_ch\" class=\"user-hover\" rel=\"harsha_ch\">sriharsha chintalapani</a> We explicitly decided to turn it off by default: <a href=\"https://issues.apache.org/jira/browse/STORM-1467\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-1467</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928501","html_url":"https://github.com/apache/storm/issues/5761#issuecomment-2612928501","issue_url":"https://api.github.com/repos/apache/storm/issues/5761","id":2612928501,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5Mjg1MDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T18:11:10Z","updated_at":"2025-01-24T16:29:04Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1583#discussion_r73573885\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1583#discussion_r73573885</a></p>\n\n<p>    &#8212; Diff: external/storm-druid/src/main/java/org/apache/storm/druid/trident/DruidBeamStateUpdater.java &#8212;<br/>\n    @@ -0,0 +1,48 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.druid.trident;<br/>\n    +<br/>\n    +import org.apache.storm.trident.operation.TridentCollector;<br/>\n    +import org.apache.storm.trident.state.BaseStateUpdater;<br/>\n    +import org.apache.storm.trident.tuple.TridentTuple;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.LinkedList;<br/>\n    +import java.util.List;<br/>\n    +<br/>\n    +public class DruidBeamStateUpdater<E> extends BaseStateUpdater<DruidBeamState<E>> {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(DruidBeamStateUpdater.class);<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void updateState(DruidBeamState<E> state, List<TridentTuple> tuples, TridentCollector collector) </p>\n{\n    +List<E> discardedTuples = state.update(tuples, collector);\n    +processDiscardedTuples(discardedTuples);\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * Users can override this method to  process the discarded Tuples<br/>\n    +     * @param discardedTuples<br/>\n    +     */<br/>\n    +    protected void processDiscardedTuples(List<E> discardedTuples) {<br/>\n    +LOG.debug(\"discarded messages : %s\" , discardedTuples);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Logger format convention is {} instead of %s. You may want to have <br/>\n    `LOG.debug(\"discarded messages : <span class=\"error\">&#91;{}&#93;</span>\" , discardedTuples)`</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928507","html_url":"https://github.com/apache/storm/issues/5761#issuecomment-2612928507","issue_url":"https://api.github.com/repos/apache/storm/issues/5761","id":2612928507,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5Mjg1MDc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T18:13:57Z","updated_at":"2025-01-24T16:29:04Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user omkreddy commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1583#discussion_r73574354\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1583#discussion_r73574354</a></p>\n\n<p>    &#8212; Diff: external/storm-druid/src/main/java/org/apache/storm/druid/bolt/DruidBeamBolt.java &#8212;<br/>\n    @@ -0,0 +1,103 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.druid.bolt;<br/>\n    +<br/>\n    +import com.metamx.tranquility.tranquilizer.MessageDroppedException;<br/>\n    +import com.metamx.tranquility.tranquilizer.Tranquilizer;<br/>\n    +import com.twitter.util.Future;<br/>\n    +import com.twitter.util.FutureEventListener;<br/>\n    +import org.apache.storm.task.OutputCollector;<br/>\n    +import org.apache.storm.task.TopologyContext;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt implementation for storing data to Druid datastore.<br/>\n    + * <p/><br/>\n    + * This implementation uses Druid's Tranquility library (<a href=\"https://github.com/druid-io/tranquility\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/druid-io/tranquility</a>)<br/>\n    + * to send to druid store.<br/>\n    + * Some of the concepts are borrowed from Tranquility storm connector implementation.<br/>\n    + * (<a href=\"https://github.com/druid-io/tranquility/blob/master/docs/storm.md\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/druid-io/tranquility/blob/master/docs/storm.md</a>)<br/>\n    + *<br/>\n    + * This Bolt expects to receive tuples in which the zeroth element is your event type.<br/>\n    + * <p/><br/>\n    + *<br/>\n    + */<br/>\n    +public class DruidBeamBolt<E> extends BaseRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(DruidBeamBolt.class);<br/>\n    +<br/>\n    +    private volatile  OutputCollector collector;<br/>\n    +    private DruidBeamFactory<E> beamFactory = null;<br/>\n    +    private int batchSize;<br/>\n    +    private Tranquilizer<E> tranquilizer = null;<br/>\n    +<br/>\n    +    public DruidBeamBolt(DruidBeamFactory<E> beamFactory, int batchSize) </p>\n{\n    +this.beamFactory = beamFactory;\n    +this.batchSize = batchSize;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map stormConf, TopologyContext context, OutputCollector collector) </p>\n{\n    +this.collector = collector;\n    +tranquilizer = Tranquilizer.create(\n    +beamFactory.makeBeam(stormConf, context),\n    +batchSize,\n    +Tranquilizer.DefaultMaxPendingBatches(),\n    +Tranquilizer.DefaultLingerMillis());\n    +this.tranquilizer.start();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void execute(final Tuple tuple) {<br/>\n    +      Future future = tranquilizer.send((E)tuple.getValue(0));<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    @satishd Thanks. Earlier I misunderstood your suggestion.<br/>\n    @harshach I added a mapper interface and default implementation.<br/>\n    Thanks for the  review. Updated the PR.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928512","html_url":"https://github.com/apache/storm/issues/5761#issuecomment-2612928512","issue_url":"https://api.github.com/repos/apache/storm/issues/5761","id":2612928512,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5Mjg1MTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T18:16:40Z","updated_at":"2025-01-24T16:29:05Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1583#discussion_r73574871\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1583#discussion_r73574871</a></p>\n\n<p>    &#8212; Diff: external/storm-druid/src/main/java/org/apache/storm/druid/bolt/DruidConfig.java &#8212;<br/>\n    @@ -0,0 +1,114 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.druid.bolt;<br/>\n    +<br/>\n    +import com.metamx.tranquility.tranquilizer.Tranquilizer;<br/>\n    +<br/>\n    +import java.io.Serializable;<br/>\n    +<br/>\n    +public class DruidConfig implements Serializable {<br/>\n    +<br/>\n    +    //Tranquilizer configs for DruidBeamBolt<br/>\n    +    private int maxBatchSize;<br/>\n    +    private int maxPendingBatches;<br/>\n    +    private long lingerMillis;<br/>\n    +    private boolean blockOnFull;<br/>\n    +    private boolean enableDiscardStream;<br/>\n    +    private String discardStreamId;<br/>\n    +<br/>\n    +    public int getMaxBatchSize() </p>\n{\n    +return maxBatchSize;\n    +    }\n<p>    +<br/>\n    +    public int getMaxPendingBatches() </p>\n{\n    +return maxPendingBatches;\n    +    }\n<p>    +<br/>\n    +    public long getLingerMillis() </p>\n{\n    +return lingerMillis;\n    +    }\n<p>    +<br/>\n    +    public boolean isBlockOnFull() </p>\n{\n    +return blockOnFull;\n    +    }\n<p>    +<br/>\n    +    public boolean isEnableDiscardStream() </p>\n{\n    +return enableDiscardStream;\n    +    }\n<p>    +<br/>\n    +    public String getDiscardStreamId() </p>\n{\n    +return discardStreamId;\n    +    }\n<p>    +<br/>\n    +    private DruidConfig(Builder builder) </p>\n{\n    +this.maxBatchSize = builder.maxBatchSize;\n    +this.maxPendingBatches = builder.maxPendingBatches;\n    +this.lingerMillis = builder.lingerMillis;\n    +this.blockOnFull = builder.blockOnFull;\n    +this.enableDiscardStream = builder.enableDiscardStream;\n    +this.discardStreamId = builder.discardStreamId;\n    +    }\n<p>    +<br/>\n    +    public static DruidConfig.Builder newBuilder() </p>\n{\n    +return new Builder();\n    +    }\n<p>    +<br/>\n    +    public static class Builder {<br/>\n    +private int maxBatchSize = Tranquilizer.DefaultMaxBatchSize();<br/>\n    +private int maxPendingBatches = Tranquilizer.DefaultMaxPendingBatches();<br/>\n    +private long lingerMillis = Tranquilizer.DefaultLingerMillis();<br/>\n    +private boolean blockOnFull =  Tranquilizer.DefaultBlockOnFull();<br/>\n    +private boolean enableDiscardStream = false;<br/>\n    +private String discardStreamId =\"druid-discard-stream\";<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    \"druid-discard-stream\" can be declared as a public constant like DEFAULT_DISCARD_STREAM_ID in `DruidConfig` class, so that users can use thos stream id while building the topology. </p>\n\n<p>    I prefer to remove `enableDiscardStream` and have only `discardStreamId` which should be given by the user if user wants discarded events to be forwarded to that stream. This API makes it simpler to set only the discardStreamId. </p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928515","html_url":"https://github.com/apache/storm/issues/5761#issuecomment-2612928515","issue_url":"https://api.github.com/repos/apache/storm/issues/5761","id":2612928515,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5Mjg1MTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T18:20:03Z","updated_at":"2025-01-24T16:29:05Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1583#discussion_r73575541\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1583#discussion_r73575541</a></p>\n\n<p>    &#8212; Diff: external/storm-druid/src/main/java/org/apache/storm/druid/bolt/DruidConfig.java &#8212;<br/>\n    @@ -0,0 +1,114 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.druid.bolt;<br/>\n    +<br/>\n    +import com.metamx.tranquility.tranquilizer.Tranquilizer;<br/>\n    +<br/>\n    +import java.io.Serializable;<br/>\n    +<br/>\n    +public class DruidConfig implements Serializable {<br/>\n    +<br/>\n    +    //Tranquilizer configs for DruidBeamBolt<br/>\n    +    private int maxBatchSize;<br/>\n    +    private int maxPendingBatches;<br/>\n    +    private long lingerMillis;<br/>\n    +    private boolean blockOnFull;<br/>\n    +    private boolean enableDiscardStream;<br/>\n    +    private String discardStreamId;<br/>\n    +<br/>\n    +    public int getMaxBatchSize() </p>\n{\n    +return maxBatchSize;\n    +    }\n<p>    +<br/>\n    +    public int getMaxPendingBatches() </p>\n{\n    +return maxPendingBatches;\n    +    }\n<p>    +<br/>\n    +    public long getLingerMillis() </p>\n{\n    +return lingerMillis;\n    +    }\n<p>    +<br/>\n    +    public boolean isBlockOnFull() </p>\n{\n    +return blockOnFull;\n    +    }\n<p>    +<br/>\n    +    public boolean isEnableDiscardStream() </p>\n{\n    +return enableDiscardStream;\n    +    }\n<p>    +<br/>\n    +    public String getDiscardStreamId() </p>\n{\n    +return discardStreamId;\n    +    }\n<p>    +<br/>\n    +    private DruidConfig(Builder builder) </p>\n{\n    +this.maxBatchSize = builder.maxBatchSize;\n    +this.maxPendingBatches = builder.maxPendingBatches;\n    +this.lingerMillis = builder.lingerMillis;\n    +this.blockOnFull = builder.blockOnFull;\n    +this.enableDiscardStream = builder.enableDiscardStream;\n    +this.discardStreamId = builder.discardStreamId;\n    +    }\n<p>    +<br/>\n    +    public static DruidConfig.Builder newBuilder() </p>\n{\n    +return new Builder();\n    +    }\n<p>    +<br/>\n    +    public static class Builder {<br/>\n    +private int maxBatchSize = Tranquilizer.DefaultMaxBatchSize();<br/>\n    +private int maxPendingBatches = Tranquilizer.DefaultMaxPendingBatches();<br/>\n    +private long lingerMillis = Tranquilizer.DefaultLingerMillis();<br/>\n    +private boolean blockOnFull =  Tranquilizer.DefaultBlockOnFull();<br/>\n    +private boolean enableDiscardStream = false;<br/>\n    +private String discardStreamId =\"druid-discard-stream\";<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    @harshachlet me know your opinion on the above comment.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237639208","html_url":"https://github.com/apache/storm/pull/1583#issuecomment-237639208","issue_url":"https://api.github.com/repos/apache/storm/issues/1583","id":237639208,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzYzOTIwOA==","user":{"login":"satishd","id":2577761,"node_id":"MDQ6VXNlcjI1Nzc3NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2577761?v=4","gravatar_id":"","url":"https://api.github.com/users/satishd","html_url":"https://github.com/satishd","followers_url":"https://api.github.com/users/satishd/followers","following_url":"https://api.github.com/users/satishd/following{/other_user}","gists_url":"https://api.github.com/users/satishd/gists{/gist_id}","starred_url":"https://api.github.com/users/satishd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishd/subscriptions","organizations_url":"https://api.github.com/users/satishd/orgs","repos_url":"https://api.github.com/users/satishd/repos","events_url":"https://api.github.com/users/satishd/events{/privacy}","received_events_url":"https://api.github.com/users/satishd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T18:21:42Z","updated_at":"2016-08-04T18:21:42Z","author_association":"MEMBER","body":"@omkreddy You can add me as committer sponsor for this module.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237639208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928517","html_url":"https://github.com/apache/storm/issues/5761#issuecomment-2612928517","issue_url":"https://api.github.com/repos/apache/storm/issues/5761","id":2612928517,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5Mjg1MTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T18:21:43Z","updated_at":"2025-01-24T16:29:05Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1583\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1583</a></p>\n\n<p>    @omkreddy You can add me as committer sponsor for this module.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237643895","html_url":"https://github.com/apache/storm/pull/1601#issuecomment-237643895","issue_url":"https://api.github.com/repos/apache/storm/issues/1601","id":237643895,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzY0Mzg5NQ==","user":{"login":"satishd","id":2577761,"node_id":"MDQ6VXNlcjI1Nzc3NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2577761?v=4","gravatar_id":"","url":"https://api.github.com/users/satishd","html_url":"https://github.com/satishd","followers_url":"https://api.github.com/users/satishd/followers","following_url":"https://api.github.com/users/satishd/following{/other_user}","gists_url":"https://api.github.com/users/satishd/gists{/gist_id}","starred_url":"https://api.github.com/users/satishd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishd/subscriptions","organizations_url":"https://api.github.com/users/satishd/orgs","repos_url":"https://api.github.com/users/satishd/repos","events_url":"https://api.github.com/users/satishd/events{/privacy}","received_events_url":"https://api.github.com/users/satishd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T18:37:47Z","updated_at":"2016-08-04T18:37:47Z","author_association":"MEMBER","body":"@jayakrishnan-nair What is this PR for? \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237643895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237648636","html_url":"https://github.com/apache/storm/pull/1583#issuecomment-237648636","issue_url":"https://api.github.com/repos/apache/storm/issues/1583","id":237648636,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzY0ODYzNg==","user":{"login":"omkreddy","id":8134545,"node_id":"MDQ6VXNlcjgxMzQ1NDU=","avatar_url":"https://avatars.githubusercontent.com/u/8134545?v=4","gravatar_id":"","url":"https://api.github.com/users/omkreddy","html_url":"https://github.com/omkreddy","followers_url":"https://api.github.com/users/omkreddy/followers","following_url":"https://api.github.com/users/omkreddy/following{/other_user}","gists_url":"https://api.github.com/users/omkreddy/gists{/gist_id}","starred_url":"https://api.github.com/users/omkreddy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omkreddy/subscriptions","organizations_url":"https://api.github.com/users/omkreddy/orgs","repos_url":"https://api.github.com/users/omkreddy/repos","events_url":"https://api.github.com/users/omkreddy/events{/privacy}","received_events_url":"https://api.github.com/users/omkreddy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T18:54:07Z","updated_at":"2016-08-04T18:54:07Z","author_association":"CONTRIBUTOR","body":"@satishd added you as committer sponsor.  also addressed review comments\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237648636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928521","html_url":"https://github.com/apache/storm/issues/5761#issuecomment-2612928521","issue_url":"https://api.github.com/repos/apache/storm/issues/5761","id":2612928521,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5Mjg1MjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T18:54:12Z","updated_at":"2025-01-24T16:29:05Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user omkreddy commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1583\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1583</a></p>\n\n<p>    @satishd added you as committer sponsor.  also addressed review comments</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944185","html_url":"https://github.com/apache/storm/issues/5800#issuecomment-2612944185","issue_url":"https://api.github.com/repos/apache/storm/issues/5800","id":2612944185,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQxODU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-04T20:06:39Z","updated_at":"2025-01-24T16:36:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\">revans2</a>:</i>\n<p>Turns out I am going to have to split Waiting For Localization into two states.  The first one will wait for the basic things to download, storm.conf, etc.  And then another state to read in the conf and wait for the other blobs to download.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612943420","html_url":"https://github.com/apache/storm/issues/5798#issuecomment-2612943420","issue_url":"https://api.github.com/repos/apache/storm/issues/5798","id":2612943420,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDM0MjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-05T04:29:53Z","updated_at":"2025-01-24T16:36:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user HeartSaVioR opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1608\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1608</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-2016\" title=\"Topology submission improvement: support adding local jars and maven artifacts on submission\" class=\"issue-link\" data-issue-key=\"STORM-2016\"><del>STORM-2016</del></a> Topology submission improvement: support adding local jars and maven artifacts on submission (1.x)</p>\n\n<ul>\n\t<li>JIRA issue: <a href=\"http://issues.apache.org/jira/browse/STORM-2016\" class=\"external-link\" rel=\"nofollow\">http://issues.apache.org/jira/browse/STORM-2016</a></li>\n\t<li>design doc: <a href=\"https://cwiki.apache.org/confluence/display/STORM/A.+Design+doc%3A+adding+jars+and+maven+artifacts+at+submission\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://cwiki.apache.org/confluence/display/STORM/A.+Design+doc%3A+adding+jars+and+maven+artifacts+at+submission</a></li>\n\t<li>discussion thread: <a href=\"http://mail-archives.apache.org/mod_mbox/storm-dev/201608.mbox/%3CCAF5108i9+tJaNZ0LgRkTMkVQEL7F+53k9uyzxcT6zhSU6OHx9Q@mail.gmail.com%3E\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://mail-archives.apache.org/mod_mbox/storm-dev/201608.mbox/%3CCAF5108i9+tJaNZ0LgRkTMkVQEL7F+53k9uyzxcT6zhSU6OHx9Q@mail.gmail.com%3E</a></li>\n</ul>\n\n\n<hr />\n\n<ul>\n\t<li>bin/storm now supports \"-<del>jars\" and \"</del>-packages\" options</li>\n\t<li>it's only effective with \"storm jar\" and \"storm sql\"</li>\n\t<li>introduce new module: storm-submit to help resolving dependencies with handling transitive dependencies</li>\n\t<li>StormSubmitter will upload dependencies to BlobStore when submitting topology</li>\n\t<li>Supervisor will download dependencies from BlobStore when such topology is assigned</li>\n\t<li>Supervisor will launch workers with adding downloaded dependencies to worker classpath</li>\n</ul>\n\n\n<p>    TODO</p>\n<ul>\n\t<li>documentation - [ ]</li>\n\t<li>craft pull request against master branch - [ ]</li>\n</ul>\n\n\n<p>    Btw, it might be better to place some modules out of external since 'external' has most of non storm-core modules and flux, sql, storm-submit, storm-kafka-monitor are not kind of connectors.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/HeartSaVioR/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/HeartSaVioR/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-2016\" title=\"Topology submission improvement: support adding local jars and maven artifacts on submission\" class=\"issue-link\" data-issue-key=\"STORM-2016\"><del>STORM-2016</del></a>-1.x</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1608.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1608.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1608</p>\n\n<hr />\n<p>commit e027652eb30f3c3b3a549a24d4105f9dd1e8e45e<br/>\nAuthor: Jungtaek Lim <kabhwan@gmail.com><br/>\nDate:   2016-08-04T00:52:45Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-2016\" title=\"Topology submission improvement: support adding local jars and maven artifacts on submission\" class=\"issue-link\" data-issue-key=\"STORM-2016\"><del>STORM-2016</del></a> Topology submission improvement: support adding local jars and maven artifacts on submission</p>\n\n<ul>\n\t<li>bin/storm now supports \"-<del>jars\" and \"</del>-packages\" options\n\t<ul>\n\t\t<li>it's only effective with \"storm jar\" and \"storm sql\"</li>\n\t</ul>\n\t</li>\n\t<li>introduce new module: storm-submit to help resolving dependencies with handling transitive dependencies</li>\n\t<li>StormSubmitter will upload dependencies to BlobStore when submitting topology</li>\n\t<li>Supervisor will download dependencies from BlobStore when such topology is assigned</li>\n\t<li>Supervisor will launch workers with adding downloaded dependencies to worker classpath</li>\n</ul>\n\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612943420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237758551","html_url":"https://github.com/apache/storm/pull/1608#issuecomment-237758551","issue_url":"https://api.github.com/repos/apache/storm/issues/1608","id":237758551,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzc1ODU1MQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-05T05:27:57Z","updated_at":"2016-08-05T05:27:57Z","author_association":"CONTRIBUTOR","body":"Changed to [WIP] since there're failures of unit tests. I'll take care of that so please continue reviewing pull request.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237758551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612943426","html_url":"https://github.com/apache/storm/issues/5798#issuecomment-2612943426","issue_url":"https://api.github.com/repos/apache/storm/issues/5798","id":2612943426,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDM0MjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-05T05:27:59Z","updated_at":"2025-01-24T16:36:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1608\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1608</a></p>\n\n<p>    Changed to [WIP] since there're failures of unit tests. I'll take care of that so please continue reviewing pull request.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612943426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237772938","html_url":"https://github.com/apache/storm/pull/1608#issuecomment-237772938","issue_url":"https://api.github.com/repos/apache/storm/issues/1608","id":237772938,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzc3MjkzOA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-05T07:08:19Z","updated_at":"2016-08-05T07:08:19Z","author_association":"CONTRIBUTOR","body":"Fixed build failure on supervisor_test.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237772938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612943431","html_url":"https://github.com/apache/storm/issues/5798#issuecomment-2612943431","issue_url":"https://api.github.com/repos/apache/storm/issues/5798","id":2612943431,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDM0MzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-05T07:08:21Z","updated_at":"2025-01-24T16:36:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1608\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1608</a></p>\n\n<p>    Fixed build failure on supervisor_test.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612943431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/237777699","html_url":"https://github.com/apache/storm/pull/1608#issuecomment-237777699","issue_url":"https://api.github.com/repos/apache/storm/issues/1608","id":237777699,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzc3NzY5OQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-05T07:35:34Z","updated_at":"2016-08-05T07:35:34Z","author_association":"CONTRIBUTOR","body":"Builds for PR against 1.x branch is failing and I fixed that from #1609. I'll rebase once #1609 is merged to 1.x-branch.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/237777699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612943435","html_url":"https://github.com/apache/storm/issues/5798#issuecomment-2612943435","issue_url":"https://api.github.com/repos/apache/storm/issues/5798","id":2612943435,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDM0MzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-05T07:35:36Z","updated_at":"2025-01-24T16:36:39Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1608\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1608</a></p>\n\n<p>    Builds for PR against 1.x branch is failing and I fixed that from #1609. I'll rebase once #1609 is merged to 1.x-branch.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612943435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944824","html_url":"https://github.com/apache/storm/issues/5805#issuecomment-2612944824","issue_url":"https://api.github.com/repos/apache/storm/issues/5805","id":2612944824,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ4MjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-05T07:39:51Z","updated_at":"2025-01-24T16:37:17Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>Compiled topology refers SqlFunctions on calcite-core which also depends on several sub-projects like avatica, linq4j, and so on. <br/>\nI asked dev group of Calcite to how others handle such things (there seems no user group on Calcite) and would like to see suggested answers.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944832","html_url":"https://github.com/apache/storm/issues/5805#issuecomment-2612944832","issue_url":"https://api.github.com/repos/apache/storm/issues/5805","id":2612944832,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDQ4MzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-08-05T09:19:13Z","updated_at":"2025-01-24T16:37:17Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>It also needs to copy dependencies (sure transitive too) to dist vs assembly (and shade).<br/>\nSince there's no clear decision made for shading non-storm-core modules, I'll follow storm-sql-core (copy dependencies) and revisit when we're clear on that.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612944832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]